if(function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=$.type(a);return"function"!==c&&!$.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function d(a,b,c){if($.isFunction(b))return $.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return $.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ga.test(b))return $.filter(b,a,c);b=$.filter(b,a)}return $.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=ma[a]={};return $.each(a.match(la)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),$.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=$.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(sa,"-$1").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:ra.test(c)?$.parseJSON(c):c)}catch(a){}qa.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return $.nodeName(a,"table")&&$.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Ha.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;c<d;c++)pa.set(a[c],"globalEval",!b||pa.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(pa.hasData(a)&&(f=pa.access(a),g=pa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)$.event.add(b,e,j[e][c])}qa.hasData(a)&&(h=qa.access(a),i=$.extend({},h),qa.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&$.nodeName(a,b)?$.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&wa.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=$(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:$.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=La[a];return c||(c=t(a,b),"none"!==c&&c||(Ka=(Ka||$("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Ka[0].contentDocument,b.write(),b.close(),c=t(a,b),Ka.detach()),La[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Oa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||$.contains(a.ownerDocument,a)||(g=$.style(a,b)),Na.test(g)&&Ma.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ua.length;e--;)if((b=Ua[e]+c)in a)return b;return d}function y(a,b,c){var d=Qa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=$.css(a,c+ua[f],!0,e)),d?("content"===c&&(g-=$.css(a,"padding"+ua[f],!0,e)),"margin"!==c&&(g-=$.css(a,"border"+ua[f]+"Width",!0,e))):(g+=$.css(a,"padding"+ua[f],!0,e),"padding"!==c&&(g+=$.css(a,"border"+ua[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Oa(a),g="border-box"===$.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=v(a,b,f),(e<0||null==e)&&(e=a.style[b]),Na.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=pa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&va(d)&&(f[g]=pa.access(d,"olddisplay",u(d.nodeName)))):(e=va(d),"none"===c&&e||pa.set(d,"olddisplay",e?c:$.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Va=void 0}),Va=$.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ua[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(_a[b]||[]).concat(_a["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&va(a),o=pa.get(a,"fxshow");c.queue||(h=$._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,$.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=$.css(a,"display"),"inline"===("none"===j?pa.get(a,"olddisplay")||u(a.nodeName):j)&&"none"===$.css(a,"float")&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Xa.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!o||void 0===o[d])continue;n=!0}l[d]=o&&o[d]||$.style(a,d)}else j=void 0;if($.isEmptyObject(l))"inline"===("none"===j?u(a.nodeName):j)&&(m.display=j);else{o?"hidden"in o&&(n=o.hidden):o=pa.access(a,"fxshow",{}),f&&(o.hidden=!n),n?$(a).show():k.done(function(){$(a).hide()}),k.done(function(){var b;pa.remove(a,"fxshow");for(b in l)$.style(a,b,l[b])});for(d in l)g=F(n?o[d]:0,d,k),d in o||(o[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=$.camelCase(c),e=b[d],f=a[c],$.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=$.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=$a.length,h=$.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Va||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:$.extend({},b),opts:$.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Va||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=$.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);f<g;f++)if(d=$a[f].call(j,a,k,j.opts))return d;return $.map(k,F,j),$.isFunction(j.opts.start)&&j.opts.start.call(a,j),$.fx.timer($.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(la)||[];if($.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,$.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===pb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=$.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&$.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if($.isArray(b))$.each(b,function(b,e){c||ub.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==$.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return $.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$=function(a,b){return new $.fn.init(a,b)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,aa=/^-ms-/,ba=/-([\da-z])/gi,ca=function(a,b){return b.toUpperCase()};$.fn=$.prototype={jquery:"2.1.4",constructor:$,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=$.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return $.each(this,a,b)},map:function(a){return this.pushStack($.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},$.extend=$.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||$.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&($.isPlainObject(d)||(e=$.isArray(d)))?(e?(e=!1,f=c&&$.isArray(c)?c:[]):f=c&&$.isPlainObject(c)?c:{},g[b]=$.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},$.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===$.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!$.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"===$.type(a)&&!a.nodeType&&!$.isWindow(a)&&!(a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;(a=$.trim(a))&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(aa,"ms-").replace(ba,ca)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e=0,f=a.length,g=c(a);if(d){if(g)for(;e<f&&!1!==b.apply(a[e],d);e++);else for(e in a)if(!1===b.apply(a[e],d))break}else if(g)for(;e<f&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(_,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?$.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;f<g;f++)null!=(e=b(a[f],f,d))&&i.push(e);else for(f in a)null!=(e=b(a[f],f,d))&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),$.isFunction(a))return d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||$.guid++,e},now:Date.now,support:Y}),$.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var da=function(a){function b(a,b,c,d){var e,f,g,h,j,l,m,n,o,p;if((b?b.ownerDocument||b:M)!==E&&D(b),b=b||E,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&G){if(11!==h&&(e=qa.exec(a)))if(g=e[1]){if(9===h){if(!(f=b.getElementById(g))||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&K(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return Y.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&t.getElementsByClassName)return Y.apply(c,b.getElementsByClassName(g)),c}if(t.qsa&&(!H||!H.test(a))){if(n=m=L,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(l=x(a),(m=b.getAttribute("id"))?n=m.replace(sa,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",j=l.length;j--;)l[j]=n+k(l[j]);o=ra.test(a)&&i(b.parentNode)||b,p=l.join(",")}if(p)try{return Y.apply(c,o.querySelectorAll(p)),c}catch(a){}finally{m||b.removeAttribute("id")}}}return z(a.replace(ga,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>u.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[L]=!0,a}function e(a){var b=E.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)u.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||T)-(~a.sourceIndex||T);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function i(a){return a&&void 0!==a.getElementsByTagName&&a}function j(){}function k(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function l(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=O++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[N,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[L]||(b[L]={}),(h=i[d])&&h[0]===N&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function m(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function n(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function o(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function p(a,b,c,e,f,g){return e&&!e[L]&&(e=p(e)),f&&!f[L]&&(f=p(f,g)),d(function(d,g,h,i){var j,k,l,m=[],p=[],q=g.length,r=d||n(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:o(r,m,a,h,i),t=c?f||(d?a:q||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=o(t,p),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[p[k]]=!(s[p[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?$(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=o(t===g?t.splice(q,t.length):t),f?f(null,g,t,i):Y.apply(g,t)})}function q(a){for(var b,c,d,e=a.length,f=u.relative[a[0].type],g=f||u.relative[" "],h=f?1:0,i=l(function(a){return a===b},g,!0),j=l(function(a){return $(b,a)>-1},g,!0),n=[function(a,c,d){var e=!f&&(d||c!==A)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=u.relative[a[h].type])n=[l(m(n),c)];else{if(c=u.filter[a[h].type].apply(null,a[h].matches),c[L]){for(d=++h;d<e&&!u.relative[a[d].type];d++);return p(h>1&&m(n),h>1&&k(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ga,"$1"),c,h<d&&q(a.slice(h,d)),d<e&&q(a=a.slice(d)),d<e&&k(a))}n.push(c)}return m(n)}function r(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,p="0",q=d&&[],r=[],s=A,t=d||f&&u.find.TAG("*",j),v=N+=null==s?1:Math.random()||.1,w=t.length;for(j&&(A=g!==E&&g);p!==w&&null!=(k=t[p]);p++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(N=v)}e&&((k=!m&&k)&&n--,d&&q.push(k))}if(n+=p,e&&p!==n){for(l=0;m=c[l++];)m(q,r,g,h);if(d){if(n>0)for(;p--;)q[p]||r[p]||(r[p]=W.call(i));r=o(r)}Y.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(N=v,A=s),q};return e?d(g):g}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L="sizzle"+1*new Date,M=a.document,N=0,O=0,P=c(),Q=c(),R=c(),S=function(a,b){return a===b&&(C=!0),0},T=1<<31,U={}.hasOwnProperty,V=[],W=V.pop,X=V.push,Y=V.push,Z=V.slice,$=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",aa="[\\x20\\t\\r\\n\\f]",ba="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ca=ba.replace("w","w#"),da="\\["+aa+"*("+ba+")(?:"+aa+"*([*^$|!~]?=)"+aa+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ca+"))|)"+aa+"*\\]",ea=":("+ba+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+da+")*)|.*)\\)|)",fa=new RegExp(aa+"+","g"),ga=new RegExp("^"+aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+aa+"+$","g"),ha=new RegExp("^"+aa+"*,"+aa+"*"),ia=new RegExp("^"+aa+"*([>+~]|"+aa+")"+aa+"*"),ja=new RegExp("="+aa+"*([^\\]'\"]*?)"+aa+"*\\]","g"),ka=new RegExp(ea),la=new RegExp("^"+ca+"$"),ma={ID:new RegExp("^#("+ba+")"),CLASS:new RegExp("^\\.("+ba+")"),TAG:new RegExp("^("+ba.replace("w","w*")+")"),ATTR:new RegExp("^"+da),PSEUDO:new RegExp("^"+ea),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+aa+"*(even|odd|(([+-]|)(\\d*)n|)"+aa+"*(?:([+-]|)"+aa+"*(\\d+)|))"+aa+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^"+aa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+aa+"*((?:-\\d)?\\d*)"+aa+"*\\)|)(?=[^-]|$)","i")},na=/^(?:input|select|textarea|button)$/i,oa=/^h\d$/i,pa=/^[^{]+\{\s*\[native \w/,qa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ra=/[+~]/,sa=/'|\\/g,ta=new RegExp("\\\\([\\da-f]{1,6}"+aa+"?|("+aa+")|.)","ig"),ua=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},va=function(){D()};try{Y.apply(V=Z.call(M.childNodes),M.childNodes),V[M.childNodes.length].nodeType}catch(a){Y={apply:V.length?function(a,b){X.apply(a,Z.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}t=b.support={},w=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},D=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:M;return d!==E&&9===d.nodeType&&d.documentElement?(E=d,F=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",va,!1):c.attachEvent&&c.attachEvent("onunload",va)),G=!w(d),t.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),t.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),t.getElementsByClassName=pa.test(d.getElementsByClassName),t.getById=e(function(a){return F.appendChild(a).id=L,!d.getElementsByName||!d.getElementsByName(L).length}),t.getById?(u.find.ID=function(a,b){if(void 0!==b.getElementById&&G){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},u.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){return a.getAttribute("id")===b}}):(delete u.find.ID,u.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),u.find.TAG=t.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):t.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},u.find.CLASS=t.getElementsByClassName&&function(a,b){if(G)return b.getElementsByClassName(a)},I=[],H=[],(t.qsa=pa.test(d.querySelectorAll))&&(e(function(a){F.appendChild(a).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+aa+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||H.push("\\["+aa+"*(?:value|"+_+")"),a.querySelectorAll("[id~="+L+"-]").length||H.push("~="),a.querySelectorAll(":checked").length||H.push(":checked"),a.querySelectorAll("a#"+L+"+*").length||H.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&H.push("name"+aa+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),H.push(",.*:")})),(t.matchesSelector=pa.test(J=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&e(function(a){t.disconnectedMatch=J.call(a,"div"),J.call(a,"[s!='']:x"),I.push("!=",ea)}),H=H.length&&new RegExp(H.join("|")),I=I.length&&new RegExp(I.join("|")),b=pa.test(F.compareDocumentPosition),K=b||pa.test(F.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},S=b?function(a,b){if(a===b)return C=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c||(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!t.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===M&&K(M,a)?-1:b===d||b.ownerDocument===M&&K(M,b)?1:B?$(B,a)-$(B,b):0:4&c?-1:1)}:function(a,b){if(a===b)return C=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:B?$(B,a)-$(B,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===M?-1:j[e]===M?1:0},d):E},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==E&&D(a),c=c.replace(ja,"='$1']"),t.matchesSelector&&G&&(!I||!I.test(c))&&(!H||!H.test(c)))try{var d=J.call(a,c);if(d||t.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,E,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==E&&D(a),K(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==E&&D(a);var c=u.attrHandle[b.toLowerCase()],d=c&&U.call(u.attrHandle,b.toLowerCase())?c(a,b,!G):void 0;return void 0!==d?d:t.attributes||!G?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(C=!t.detectDuplicates,B=!t.sortStable&&a.slice(0),a.sort(S),C){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return B=null,a},v=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=v(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=v(b);return c},u=b.selectors={cacheLength:50,createPseudo:d,match:ma,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ta,ua),a[3]=(a[3]||a[4]||a[5]||"").replace(ta,ua),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ma.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ka.test(c)&&(b=x(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ta,ua).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=P[a+" "];return b||(b=new RegExp("(^|"+aa+")"+a+"("+aa+"|$)"))&&P(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(fa," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[L]||(q[L]={}),j=k[a]||[],n=j[0]===N&&j[1],m=j[0]===N&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[N,n,m];break}}else if(s&&(j=(b[L]||(b[L]={}))[a])&&j[0]===N)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[L]||(l[L]={}))[a]=[N,m]),l!==b)););return(m-=e)===d||m%d==0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=u.pseudos[a]||u.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[L]?f(c):f.length>1?(e=[a,a,"",c],u.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=$(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=y(a.replace(ga,"$1"));return e[L]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ta,ua),function(b){return(b.textContent||b.innerText||v(b)).indexOf(a)>-1}}),lang:d(function(a){return la.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ta,ua).toLowerCase(),function(b){var c;do{if(c=G?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===F},focus:function(a){return a===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!u.pseudos.empty(a)},header:function(a){return oa.test(a.nodeName)},input:function(a){return na.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:h(function(){return[0]}),last:h(function(a,b){return[b-1]}),eq:h(function(a,b,c){return[c<0?c+b:c]}),even:h(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:h(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:h(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:h(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},u.pseudos.nth=u.pseudos.eq;for(s in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[s]=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}(s);for(s in{submit:!0,reset:!0})u.pseudos[s]=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}(s);return j.prototype=u.filters=u.pseudos,u.setFilters=new j,x=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=Q[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=u.preFilter;h;){d&&!(e=ha.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ia.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ga," ")}),h=h.slice(d.length));for(g in u.filter)!(e=ma[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):Q(a,i).slice(0)},y=b.compile=function(a,b){var c,d=[],e=[],f=R[a+" "];if(!f){for(b||(b=x(a)),c=b.length;c--;)f=q(b[c]),f[L]?d.push(f):e.push(f);f=R(a,r(e,d)),f.selector=a}return f},z=b.select=function(a,b,c,d){var e,f,g,h,j,l="function"==typeof a&&a,m=!d&&x(a=l.selector||a);if(c=c||[],1===m.length){if(f=m[0]=m[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&t.getById&&9===b.nodeType&&G&&u.relative[f[1].type]){if(!(b=(u.find.ID(g.matches[0].replace(ta,ua),b)||[])[0]))return c;l&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=ma.needsContext.test(a)?0:f.length;e--&&(g=f[e],!u.relative[h=g.type]);)if((j=u.find[h])&&(d=j(g.matches[0].replace(ta,ua),ra.test(f[0].type)&&i(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&k(f)))return Y.apply(c,d),c;break}}return(l||y(a,m))(d,b,!G,c,ra.test(a)&&i(b.parentNode)||b),c},t.sortStable=L.split("").sort(S).join("")===L,t.detectDuplicates=!!C,D(),t.sortDetached=e(function(a){return 1&a.compareDocumentPosition(E.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),t.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(_,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);$.find=da,$.expr=da.selectors,$.expr[":"]=$.expr.pseudos,$.unique=da.uniqueSort,$.text=da.getText,$.isXMLDoc=da.isXML,$.contains=da.contains;var ea=$.expr.match.needsContext,fa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ga=/^.[^:#\[\.,]*$/;$.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?$.find.matchesSelector(d,a)?[d]:[]:$.find.matches(a,$.grep(b,function(a){return 1===a.nodeType}))},$.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack($(a).filter(function(){for(b=0;b<c;b++)if($.contains(e[b],this))return!0}))
;for(b=0;b<c;b++)$.find(a,e[b],d);return d=this.pushStack(c>1?$.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&ea.test(a)?$(a):a||[],!1).length}});var ha,ia=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;($.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(!(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ia.exec(a))||!c[1]&&b)return!b||b.jquery?(b||ha).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof $?b[0]:b,$.merge(this,$.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),fa.test(c[1])&&$.isPlainObject(b))for(c in b)$.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):$.isFunction(a)?void 0!==ha.ready?ha.ready(a):a($):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),$.makeArray(a,this))}).prototype=$.fn,ha=$(Z);var ja=/^(?:parents|prev(?:Until|All))/,ka={children:!0,contents:!0,next:!0,prev:!0};$.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&$(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),$.fn.extend({has:function(a){var b=$(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if($.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ea.test(a)||"string"!=typeof a?$(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&$.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?$.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call($(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack($.unique($.merge(this.get(),$(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),$.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return $.dir(a,"parentNode")},parentsUntil:function(a,b,c){return $.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return $.dir(a,"nextSibling")},prevAll:function(a){return $.dir(a,"previousSibling")},nextUntil:function(a,b,c){return $.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return $.dir(a,"previousSibling",c)},siblings:function(a){return $.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return $.sibling(a.firstChild)},contents:function(a){return a.contentDocument||$.merge([],a.childNodes)}},function(a,b){$.fn[a]=function(c,d){var e=$.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=$.filter(d,e)),this.length>1&&(ka[a]||$.unique(e),ja.test(a)&&e.reverse()),this.pushStack(e)}});var la=/\S+/g,ma={};$.Callbacks=function(a){a="string"==typeof a?ma[a]||f(a):$.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&h<g;h++)if(!1===i[h].apply(f[0],f[1])&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function b(c){$.each(c,function(c,d){var e=$.type(d);"function"===e?a.unique&&l.has(d)||i.push(d):d&&d.length&&"string"!==e&&b(d)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&$.each(arguments,function(a,b){for(var c;(c=$.inArray(b,i,c))>-1;)i.splice(c,1),d&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return a?$.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},$.extend({Deferred:function(a){var b=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(c){$.each(b,function(b,f){var g=$.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&$.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?$.extend(a,d):d}},e={};return d.pipe=d.then,$.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&$.isFunction(a.promise)?g:0,i=1===h?a:$.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&$.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var na;$.fn.ready=function(a){return $.ready.promise().done(a),this},$.extend({isReady:!1,readyWait:1,holdReady:function(a){a?$.readyWait++:$.ready(!0)},ready:function(a){(!0===a?--$.readyWait:$.isReady)||($.isReady=!0,!0!==a&&--$.readyWait>0||(na.resolveWith(Z,[$]),$.fn.triggerHandler&&($(Z).triggerHandler("ready"),$(Z).off("ready"))))}}),$.ready.promise=function(b){return na||(na=$.Deferred(),"complete"===Z.readyState?setTimeout($.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),na.promise(b)},$.ready.promise();var oa=$.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===$.type(c)){e=!0;for(h in c)$.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,$.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call($(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};$.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=$.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,$.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if($.isEmptyObject(f))$.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,$.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{$.isArray(b)?d=b.concat(b.map($.camelCase)):(e=$.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(la)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!$.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var pa=new h,qa=new h,ra=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sa=/([A-Z])/g;$.extend({hasData:function(a){return qa.hasData(a)||pa.hasData(a)},data:function(a,b,c){return qa.access(a,b,c)},removeData:function(a,b){qa.remove(a,b)},_data:function(a,b,c){return pa.access(a,b,c)},_removeData:function(a,b){pa.remove(a,b)}}),$.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=qa.get(f),1===f.nodeType&&!pa.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=$.camelCase(d.slice(5)),i(f,d,e[d])));pa.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){qa.set(this,a)}):oa(this,function(b){var c,d=$.camelCase(a);if(f&&void 0===b){if(void 0!==(c=qa.get(f,a)))return c;if(void 0!==(c=qa.get(f,d)))return c;if(void 0!==(c=i(f,d,void 0)))return c}else this.each(function(){var c=qa.get(this,d);qa.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&qa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){qa.remove(this,a)})}}),$.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=pa.get(a,b),c&&(!d||$.isArray(c)?d=pa.access(a,b,$.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=$.queue(a,b),d=c.length,e=c.shift(),f=$._queueHooks(a,b),g=function(){$.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return pa.get(a,c)||pa.access(a,c,{empty:$.Callbacks("once memory").add(function(){pa.remove(a,[b+"queue",c])})})}}),$.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?$.queue(this[0],a):void 0===b?this:this.each(function(){var c=$.queue(this,a,b);$._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&$.dequeue(this,a)})},dequeue:function(a){return this.each(function(){$.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=$.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=pa.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var ta=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ua=["Top","Right","Bottom","Left"],va=function(a,b){return a=b||a,"none"===$.css(a,"display")||!$.contains(a.ownerDocument,a)},wa=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();Y.focusinBubbles="onfocusin"in a;var xa=/^key/,ya=/^(?:mouse|pointer|contextmenu)|click/,za=/^(?:focusinfocus|focusoutblur)$/,Aa=/^([^.]*)(?:\.(.+)|)$/;$.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=pa.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=$.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return void 0!==$&&$.event.triggered!==b.type?$.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(la)||[""],j=b.length;j--;)h=Aa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=$.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=$.event.special[n]||{},k=$.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&$.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,o,g)||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),$.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=pa.hasData(a)&&pa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(la)||[""],j=b.length;j--;)if(h=Aa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=$.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||$.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)$.event.remove(a,n+b[j],c,d,!0);$.isEmptyObject(i)&&(delete q.handle,pa.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!za.test(n+$.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[$.expando]?b:new $.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:$.makeArray(c,[b]),l=$.event.special[n]||{},e||!l.trigger||!1!==l.trigger.apply(d,c))){if(!e&&!l.noBubble&&!$.isWindow(d)){for(i=l.delegateType||n,za.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(pa.get(g,"events")||{})[b.type]&&pa.get(g,"handle"),k&&k.apply(g,c),(k=j&&g[j])&&k.apply&&$.acceptData(g)&&(b.result=k.apply(g,c),!1===b.result&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(m.pop(),c)||!$.acceptData(d)||j&&$.isFunction(d[n])&&!$.isWindow(d)&&(h=d[j],h&&(d[j]=null),$.event.triggered=n,d[n](),$.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=$.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(pa.get(this,"events")||{})[a.type]||[],j=$.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||!1!==j.preDispatch.call(this,a)){for(g=$.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(f.namespace)||(a.handleObj=f,a.data=f.data,void 0!==(d=(($.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h))&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(!0!==i.disabled||"click"!==a.type){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?$(e,this).index(i)>=0:$.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[$.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=ya.test(e)?this.mouseHooks:xa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new $.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==l()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===l()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&$.nodeName(this,"input"))return this.click(),!1},_default:function(a){return $.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=$.extend(new $.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?$.event.trigger(e,null,b):$.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},$.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},$.Event=function(a,b){if(!(this instanceof $.Event))return new $.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?j:k):this.type=a,b&&$.extend(this,b),this.timeStamp=a&&a.timeStamp||$.now(),this[$.expando]=!0},$.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},$.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||$.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){$.event.simulate(b,a.target,$.event.fix(a),!0)};$.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=pa.access(d,b);e||d.addEventListener(a,c,!0),pa.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=pa.access(d,b)-1;e?pa.access(d,b,e):(d.removeEventListener(a,c,!0),pa.remove(d,b))}}}),$.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return $().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=$.guid++)),this.each(function(){$.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,$(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=k),this.each(function(){$.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){$.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return $.event.trigger(a,b,c,!0)}});var Ba=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ca=/<([\w:]+)/,Da=/<|&#?\w+;/,Ea=/<(?:script|style|link)/i,Fa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ga=/^$|\/(?:java|ecma)script/i,Ha=/^true\/(.*)/,Ia=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ja={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ja.optgroup=Ja.option,Ja.tbody=Ja.tfoot=Ja.colgroup=Ja.caption=Ja.thead,Ja.th=Ja.td,$.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=$.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||$.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;d<e;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;d<e;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;m<n;m++)if((e=a[m])||0===e)if("object"===$.type(e))$.merge(l,e.nodeType?[e]:e);else if(Da.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Ca.exec(e)||["",""])[1].toLowerCase(),h=Ja[g]||Ja._default,f.innerHTML=h[1]+e.replace(Ba,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;$.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===$.inArray(e,d))&&(i=$.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Ga.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=$.event.special,g=0;void 0!==(c=a[g]);g++){if($.acceptData(c)&&(e=c[pa.expando])&&(b=pa.cache[e])){if(b.events)for(d in b.events)f[d]?$.event.remove(c,d):$.removeEvent(c,d,b.handle);pa.cache[e]&&delete pa.cache[e]}delete qa.cache[c[qa.expando]]}}}),$.fn.extend({text:function(a){return oa(this,function(a){return void 0===a?$.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){m(this,a).appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?$.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||$.cleanData(r(c)),c.parentNode&&(b&&$.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&($.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return $.clone(this,a,b)})},html:function(a){return oa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ea.test(a)&&!Ja[(Ca.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ba,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&($.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,$.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=$.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Fa.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=$.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=$.map(r(c,"script"),n),f=e.length;i<j;i++)g=c,i!==l&&(g=$.clone(g,!0,!0),f&&$.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,$.map(e,o),i=0;i<f;i++)g=e[i],Ga.test(g.type||"")&&!pa.access(g,"globalEval")&&$.contains(h,g)&&(g.src?$._evalUrl&&$._evalUrl(g.src):$.globalEval(g.textContent.replace(Ia,"")))}return this}}),$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){$.fn[a]=function(a){for(var c,d=[],e=$(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),$(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Ka,La={},Ma=/^margin/,Na=new RegExp("^("+ta+")(?!px)[a-z%]+$","i"),Oa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&$.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),$.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Pa=/^(none|table(?!-c[ea]).+)/,Qa=new RegExp("^("+ta+")(.*)$","i"),Ra=new RegExp("^([+-])=("+ta+")","i"),Sa={position:"absolute",visibility:"hidden",display:"block"},Ta={letterSpacing:"0",fontWeight:"400"},Ua=["Webkit","O","Moz","ms"];$.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=$.camelCase(b),i=a.style;if(b=$.cssProps[h]||($.cssProps[h]=x(i,h)),g=$.cssHooks[b]||$.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];f=typeof c,"string"===f&&(e=Ra.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat($.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||$.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))}},css:function(a,b,c,d){var e,f,g,h=$.camelCase(b);return b=$.cssProps[h]||($.cssProps[h]=x(a.style,h)),g=$.cssHooks[b]||$.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Ta&&(e=Ta[b]),""===c||c?(f=parseFloat(e),!0===c||$.isNumeric(f)?f||0:e):e}}),$.each(["height","width"],function(a,b){$.cssHooks[b]={get:function(a,c,d){if(c)return Pa.test($.css(a,"display"))&&0===a.offsetWidth?$.swap(a,Sa,function(){return A(a,b,d)}):A(a,b,d)},set:function(a,c,d){var e=d&&Oa(a);return y(a,c,d?z(a,b,d,"border-box"===$.css(a,"boxSizing",!1,e),e):0)}}}),$.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){if(b)return $.swap(a,{display:"inline-block"},v,[a,"marginRight"])}),$.each({margin:"",padding:"",border:"Width"},function(a,b){$.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ua[d]+b]=f[d]||f[d-2]||f[0];return e}},Ma.test(a)||($.cssHooks[a+b].set=y)}),$.fn.extend({css:function(a,b){return oa(this,function(a,b,c){var d,e,f={},g=0;if($.isArray(b)){for(d=Oa(a),e=b.length;g<e;g++)f[b[g]]=$.css(a,b[g],!1,d);return f}return void 0!==c?$.style(a,b,c):$.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){va(this)?$(this).show():$(this).hide()})}}),$.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||($.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.options.duration?this.pos=b=$.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=$.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){$.fx.step[a.prop]?$.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[$.cssProps[a.prop]]||$.cssHooks[a.prop])?$.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},$.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},$.fx=C.prototype.init,$.fx.step={};var Va,Wa,Xa=/^(?:toggle|show|hide)$/,Ya=new RegExp("^(?:([+-])=|)("+ta+")([a-z%]*)$","i"),Za=/queueHooks$/,$a=[G],_a={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ya.exec(b),f=e&&e[3]||($.cssNumber[a]?"":"px"),g=($.cssNumber[a]||"px"!==f&&+d)&&Ya.exec($.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,$.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};$.Animation=$.extend(I,{tweener:function(a,b){$.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],_a[c]=_a[c]||[],_a[c].unshift(b)},prefilter:function(a,b){b?$a.unshift(a):$a.push(a)}}),$.speed=function(a,b,c){var d=a&&"object"==typeof a?$.extend({},a):{complete:c||!c&&b||$.isFunction(a)&&a,duration:a,easing:c&&b||b&&!$.isFunction(b)&&b};return d.duration=$.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in $.fx.speeds?$.fx.speeds[d.duration]:$.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){$.isFunction(d.old)&&d.old.call(this),d.queue&&$.dequeue(this,d.queue)},d},$.fn.extend({fadeTo:function(a,b,c,d){return this.filter(va).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=$.isEmptyObject(a),f=$.speed(b,c,d),g=function(){var b=I(this,$.extend({},a),f);(e||pa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=$.timers,g=pa.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Za.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||$.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=pa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=$.timers,g=d?d.length:0;for(c.finish=!0,$.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),
$.each(["toggle","show","hide"],function(a,b){var c=$.fn[b];$.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),$.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){$.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),$.timers=[],$.fx.tick=function(){var a,b=0,c=$.timers;for(Va=$.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||$.fx.stop(),Va=void 0},$.fx.timer=function(a){$.timers.push(a),a()?$.fx.start():$.timers.pop()},$.fx.interval=13,$.fx.start=function(){Wa||(Wa=setInterval($.fx.tick,$.fx.interval))},$.fx.stop=function(){clearInterval(Wa),Wa=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fn.delay=function(a,b){return a=$.fx?$.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var ab,bb=$.expr.attrHandle;$.fn.extend({attr:function(a,b){return oa(this,$.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){$.removeAttr(this,a)})}}),$.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?$.prop(a,b,c):(1===f&&$.isXMLDoc(a)||(b=b.toLowerCase(),d=$.attrHooks[b]||($.expr.match.bool.test(b)?ab:void 0)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=$.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void $.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(la);if(f&&1===a.nodeType)for(;c=f[e++];)d=$.propFix[c]||c,$.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&$.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),ab={set:function(a,b,c){return!1===b?$.removeAttr(a,c):a.setAttribute(c,c),c}},$.each($.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||$.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i;$.fn.extend({prop:function(a,b){return oa(this,$.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[$.propFix[a]||a]})}}),$.extend({propFix:{for:"htmlFor",class:"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!$.isXMLDoc(a),f&&(b=$.propFix[b]||b,e=$.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||cb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||($.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),$.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){$.propFix[this.toLowerCase()]=this});var db=/[\t\r\n\f]/g;$.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if($.isFunction(a))return this.each(function(b){$(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(la)||[];i<j;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(db," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=$.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if($.isFunction(a))return this.each(function(b){$(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(la)||[];i<j;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(db," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?$.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):$.isFunction(a)?this.each(function(c){$(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=$(this),f=a.match(la)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else"undefined"!==c&&"boolean"!==c||(this.className&&pa.set(this,"__className__",this.className),this.className=this.className||!1===a?"":pa.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(db," ").indexOf(b)>=0)return!0;return!1}});var eb=/\r/g;$.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=$.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,$(this).val()):a,null==e?e="":"number"==typeof e?e+="":$.isArray(e)&&(e=$.map(e,function(a){return null==a?"":a+""})),(b=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=$.valHooks[e.type]||$.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(eb,""):null==c?"":c)}}}),$.extend({valHooks:{option:{get:function(a){var b=$.find.attr(a,"value");return null!=b?b:$.trim($.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(Y.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!$.nodeName(c.parentNode,"optgroup"))){if(b=$(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=$.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=$.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]={set:function(a,b){if($.isArray(b))return a.checked=$.inArray($(a).val(),b)>=0}},Y.checkOn||($.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){$.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),$.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var fb=$.now(),gb=/\?/;$.parseJSON=function(a){return JSON.parse(a+"")},$.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(a){b=void 0}return b&&!b.getElementsByTagName("parsererror").length||$.error("Invalid XML: "+a),b};var hb=/#.*$/,ib=/([?&])_=[^&]*/,jb=/^(.*?):[ \t]*([^\r\n]*)$/gm,kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,lb=/^(?:GET|HEAD)$/,mb=/^\/\//,nb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ob={},pb={},qb="*/".concat("*"),rb=a.location.href,sb=nb.exec(rb.toLowerCase())||[];$.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:rb,type:"GET",isLocal:kb.test(sb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,$.ajaxSettings),b):L($.ajaxSettings,a)},ajaxPrefilter:J(ob),ajaxTransport:J(pb),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&a<300||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&($.lastModified[e]=u),(u=v.getResponseHeader("etag"))&&($.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,!a&&w||(w="error",a<0&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--$.active||$.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=$.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?$(m):$.event,o=$.Deferred(),p=$.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=jb.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(t<2)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||rb)+"").replace(hb,"").replace(mb,sb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=$.trim(l.dataType||"*").toLowerCase().match(la)||[""],null==l.crossDomain&&(i=nb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===sb[1]&&i[2]===sb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(sb[3]||("http:"===sb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=$.param(l.data,l.traditional)),K(ob,l,b,v),2===t)return v;j=$.event&&l.global,j&&0==$.active++&&$.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!lb.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(gb.test(e)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=ib.test(e)?e.replace(ib,"$1_="+fb++):e+(gb.test(e)?"&":"?")+"_="+fb++)),l.ifModified&&($.lastModified[e]&&v.setRequestHeader("If-Modified-Since",$.lastModified[e]),$.etag[e]&&v.setRequestHeader("If-None-Match",$.etag[e])),(l.data&&l.hasContent&&!1!==l.contentType||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+qb+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(!1===l.beforeSend.call(m,v,l)||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(pb,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(a){if(!(t<2))throw a;c(-1,a)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return $.get(a,b,c,"json")},getScript:function(a,b){return $.get(a,void 0,b,"script")}}),$.each(["get","post"],function(a,b){$[b]=function(a,c,d,e){return $.isFunction(c)&&(e=e||d,d=c,c=void 0),$.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),$._evalUrl=function(a){return $.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},$.fn.extend({wrapAll:function(a){var b;return $.isFunction(a)?this.each(function(b){$(this).wrapAll(a.call(this,b))}):(this[0]&&(b=$(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return $.isFunction(a)?this.each(function(b){$(this).wrapInner(a.call(this,b))}):this.each(function(){var b=$(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=$.isFunction(a);return this.each(function(c){$(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()}}),$.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},$.expr.filters.visible=function(a){return!$.expr.filters.hidden(a)};var tb=/%20/g,ub=/\[\]$/,vb=/\r?\n/g,wb=/^(?:submit|button|image|reset|file)$/i,xb=/^(?:input|select|textarea|keygen)/i;$.param=function(a,b){var c,d=[],e=function(a,b){b=$.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(a)||a.jquery&&!$.isPlainObject(a))$.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(tb,"+")},$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=$.prop(this,"elements");return a?$.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!$(this).is(":disabled")&&xb.test(this.nodeName)&&!wb.test(a)&&(this.checked||!wa.test(a))}).map(function(a,b){var c=$(this).val();return null==c?null:$.isArray(c)?$.map(c,function(a){return{name:b.name,value:a.replace(vb,"\r\n")}}):{name:b.name,value:c.replace(vb,"\r\n")}}).get()}}),$.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var yb=0,zb={},Ab={0:200,1223:204},Bb=$.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in zb)zb[a]()}),Y.cors=!!Bb&&"withCredentials"in Bb,Y.ajax=Bb=!!Bb,$.ajaxTransport(function(a){var b;if(Y.cors||Bb&&!a.crossDomain)return{send:function(c,d){var e,f=a.xhr(),g=++yb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete zb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ab[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=zb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(a){if(b)throw a}},abort:function(){b&&b()}}}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return $.globalEval(a),a}}}),$.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),$.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=$("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Cb=[],Db=/(=)\?(?=&|$)|\?\?/;$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Cb.pop()||$.expando+"_"+fb++;return this[a]=!0,a}}),$.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Db.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Db.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=$.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Db,"$1"+e):!1!==b.jsonp&&(b.url+=(gb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||$.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Cb.push(e)),g&&$.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),$.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=fa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=$.buildFragment([a],b,e),e&&e.length&&$(e).remove(),$.merge([],d.childNodes))};var Eb=$.fn.load;$.fn.load=function(a,b,c){if("string"!=typeof a&&Eb)return Eb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=$.trim(a.slice(h)),a=a.slice(0,h)),$.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&$.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?$("<div>").append($.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},$.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){$.fn[b]=function(a){return this.on(b,a)}}),$.expr.filters.animated=function(a){return $.grep($.timers,function(b){return a===b.elem}).length};var Fb=a.document.documentElement;$.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=$.css(a,"position"),l=$(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=$.css(a,"top"),i=$.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),$.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},$.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){$.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,$.contains(b,d)?(void 0!==d.getBoundingClientRect&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===$.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),$.nodeName(a[0],"html")||(d=a.offset()),d.top+=$.css(a[0],"borderTopWidth",!0),d.left+=$.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-$.css(c,"marginTop",!0),left:b.left-d.left-$.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Fb;a&&!$.nodeName(a,"html")&&"static"===$.css(a,"position");)a=a.offsetParent;return a||Fb})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;$.fn[b]=function(e){return oa(this,function(b,e,f){var g=P(b);if(void 0===f)return g?g[c]:b[e];g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f},b,e,arguments.length,null)}}),$.each(["top","left"],function(a,b){$.cssHooks[b]=w(Y.pixelPosition,function(a,c){if(c)return c=v(a,b),Na.test(c)?$(a).position()[b]+"px":c})}),$.each({Height:"height",Width:"width"},function(a,b){$.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){$.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return oa(this,function(b,c,d){var e;return $.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?$.css(b,c,g):$.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),$.fn.size=function(){return this.length},$.fn.andSelf=$.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return $});var Gb=a.jQuery,Hb=a.$;return $.noConflict=function(b){return a.$===$&&(a.$=Hb),b&&a.jQuery===$&&(a.jQuery=Gb),$},void 0===b&&(a.jQuery=a.$=$),$}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b);if(("prev"==a&&0===c||"next"==a&&c==this.$items.length-1)&&!this.options.wrap)return b;var d="prev"==a?-1:1,e=(c+d)%this.$items.length;return this.$items.eq(e)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"))&&b.transitioning)){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return e.call(this);this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){
var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=e.find(".dropdown-menu li:not(.disabled):visible a");if(h.length){var i=h.index(c.target);38==c.which&&i>0&&i--,40==c.which&&i<h.length-1&&i++,~i||(i=0),h.eq(i).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue()){if(clearTimeout(c.timeout),c.hoverState="out",!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)}},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},c.prototype.getUID=function(a){do{a+=~~(1e6*Math.random())}while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&((c=a(b.currentTarget).data("bs."+this.type))||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Gc.apply(null,arguments)}function b(a){return"[object Array]"===Object.prototype.toString.call(a)}function c(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function d(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function e(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function f(a,b){for(var c in b)e(b,c)&&(a[c]=b[c]);return e(b,"toString")&&(a.toString=b.toString),e(b,"valueOf")&&(a.valueOf=b.valueOf),a}function g(a,b,c,d){return Ba(a,b,c,d,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(a){return null==a._pf&&(a._pf=h()),a._pf}function j(a){if(null==a._isValid){var b=i(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function k(a){var b=g(NaN);return null!=a?f(i(b),a):i(b).userInvalidated=!0,b}function l(a,b){var c,d,e;if(void 0!==b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),void 0!==b._i&&(a._i=b._i),void 0!==b._f&&(a._f=b._f),void 0!==b._l&&(a._l=b._l),void 0!==b._strict&&(a._strict=b._strict),void 0!==b._tzm&&(a._tzm=b._tzm),void 0!==b._isUTC&&(a._isUTC=b._isUTC),void 0!==b._offset&&(a._offset=b._offset),void 0!==b._pf&&(a._pf=i(b)),void 0!==b._locale&&(a._locale=b._locale),Ic.length>0)for(c in Ic)d=Ic[c],void 0!==(e=b[d])&&(a[d]=e);return a}function m(b){l(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),!1===Jc&&(Jc=!0,a.updateOffset(this),Jc=!1)}function n(a){return a instanceof m||null!=a&&null!=a._isAMomentObject}function o(a){return a<0?Math.ceil(a):Math.floor(a)}function p(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=o(b)),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&q(e,c,!0)>=b-1)break;b--}f++}return null}function u(a){var b=null;if(!Kc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Hc._abbr,require("./locale/"+a),v(b)}catch(a){}return Kc[a]}function v(a,b){var c;return a&&(c=void 0===b?x(a):w(a,b))&&(Hc=c),Hc._abbr}function w(a,b){return null!==b?(b.abbr=a,Kc[a]=Kc[a]||new r,Kc[a].set(b),v(a),Kc[a]):(delete Kc[a],null)}function x(a){var c;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Hc;if(!b(a)){if(c=u(a))return c;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Lc[c]=Lc[c+"s"]=Lc[b]=a}function z(a){return"string"==typeof a?Lc[a]||Lc[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)e(a,c)&&(b=z(c))&&(d[b]=a[c]);return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(a>=0?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Pc[a]=e),b&&(Pc[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Pc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Mc);for(b=0,c=d.length;b<c;b++)Pc[d[b]]?d[b]=Pc[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;b<c;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Oc[b]=Oc[b]||I(b),Oc[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Nc.lastIndex=0;d>=0&&Nc.test(a);)a=a.replace(Nc,c),Nc.lastIndex=0,d-=1;return a}function L(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function M(a,b,c){cd[a]=L(b)?b:function(a){return a&&c?c:b}}function N(a,b){return e(cd,a)?cd[a](b._strict,b._locale):new RegExp(O(a))}function O(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function P(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)dd[a[c]]=d}function Q(a,b){P(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function R(a,b,c){null!=b&&e(dd,a)&&dd[a](b,c._a,c,a)}function S(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function T(a){return this._months[a.month()]}function U(a){return this._monthsShort[a.month()]}function V(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=g([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function W(a,b){var c;return"string"==typeof b&&"number"!=typeof(b=a.localeData().monthsParse(b))?a:(c=Math.min(a.date(),S(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function X(b){return null!=b?(W(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function Y(){return S(this.year(),this.month())}function Z(a){var b,c=a._a;return c&&-2===i(a).overflow&&(b=c[fd]<0||c[fd]>11?fd:c[gd]<1||c[gd]>S(c[ed],c[fd])?gd:c[hd]<0||c[hd]>24||24===c[hd]&&(0!==c[id]||0!==c[jd]||0!==c[kd])?hd:c[id]<0||c[id]>59?id:c[jd]<0||c[jd]>59?jd:c[kd]<0||c[kd]>999?kd:-1,i(a)._overflowDayOfYear&&(b<ed||b>gd)&&(b=gd),i(a).overflow=b),a}function $(b){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function _(a,b){var c=!0;return f(function(){return c&&($(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function aa(a,b){nd[a]||($(b),nd[a]=!0)}function ba(a){var b,c,d=a._i,e=od.exec(d);if(e){for(i(a).iso=!0,b=0,c=pd.length;b<c;b++)if(pd[b][1].exec(d)){a._f=pd[b][0];break}for(b=0,
c=qd.length;b<c;b++)if(qd[b][1].exec(d)){a._f+=(e[6]||" ")+qd[b][0];break}d.match(_c)&&(a._f+="Z"),ua(a)}else a._isValid=!1}function ca(b){var c=rd.exec(b._i);if(null!==c)return void(b._d=new Date(+c[1]));ba(b),!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b))}function da(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<1970&&h.setFullYear(a),h}function ea(a){var b=new Date(Date.UTC.apply(null,arguments));return a<1970&&b.setUTCFullYear(a),b}function fa(a){return ga(a)?366:365}function ga(a){return a%4==0&&a%100!=0||a%400==0}function ha(){return ga(this.year())}function ia(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),f<e-7&&(f+=7),d=Ca(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ja(a){return ia(a,this._week.dow,this._week.doy).week}function ka(){return this._week.dow}function la(){return this._week.doy}function ma(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function na(a){var b=ia(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function oa(a,b,c,d,e){var f,g=6+e-d,h=ea(a,0,1+g),i=h.getUTCDay();return i<e&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:fa(a-1)+f}}function pa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function qa(a,b,c){return null!=a?a:null!=b?b:c}function ra(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function sa(a){var b,c,d,e,f=[];if(!a._d){for(d=ra(a),a._w&&null==a._a[gd]&&null==a._a[fd]&&ta(a),a._dayOfYear&&(e=qa(a._a[ed],d[ed]),a._dayOfYear>fa(e)&&(i(a)._overflowDayOfYear=!0),c=ea(e,0,a._dayOfYear),a._a[fd]=c.getUTCMonth(),a._a[gd]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[hd]&&0===a._a[id]&&0===a._a[jd]&&0===a._a[kd]&&(a._nextDay=!0,a._a[hd]=0),a._d=(a._useUTC?ea:da).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[hd]=24)}}function ta(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=qa(b.GG,a._a[ed],ia(Ca(),1,4).year),d=qa(b.W,1),e=qa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=qa(b.gg,a._a[ed],ia(Ca(),f,g).year),d=qa(b.w,1),null!=b.d?(e=b.d)<f&&++d:e=null!=b.e?b.e+f:f),h=oa(c,d,e,g,f),a._a[ed]=h.year,a._dayOfYear=h.dayOfYear}function ua(b){if(b._f===a.ISO_8601)return void ba(b);b._a=[],i(b).empty=!0;var c,d,e,f,g,h=""+b._i,j=h.length,k=0;for(e=K(b._f,b._locale).match(Mc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(N(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&i(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Pc[f]?(d?i(b).empty=!1:i(b).unusedTokens.push(f),R(f,d,b)):b._strict&&!d&&i(b).unusedTokens.push(f);i(b).charsLeftOver=j-k,h.length>0&&i(b).unusedInput.push(h),!0===i(b).bigHour&&b._a[hd]<=12&&b._a[hd]>0&&(i(b).bigHour=void 0),b._a[hd]=va(b._locale,b._a[hd],b._meridiem),sa(b),Z(b)}function va(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function wa(a){var b,c,d,e,g;if(0===a._f.length)return i(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)g=0,b=l({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ua(b),j(b)&&(g+=i(b).charsLeftOver,g+=10*i(b).unusedTokens.length,i(b).score=g,(null==d||g<d)&&(d=g,c=b));f(a,c||b)}function xa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],sa(a)}}function ya(a){var b=new m(Z(za(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function za(a){var d=a._i,e=a._f;return a._locale=a._locale||x(a._l),null===d||void 0===e&&""===d?k({nullInput:!0}):("string"==typeof d&&(a._i=d=a._locale.preparse(d)),n(d)?new m(Z(d)):(b(e)?wa(a):e?ua(a):c(d)?a._d=d:Aa(a),a))}function Aa(e){var f=e._i;void 0===f?e._d=new Date:c(f)?e._d=new Date(+f):"string"==typeof f?ca(e):b(f)?(e._a=d(f.slice(0),function(a){return parseInt(a,10)}),sa(e)):"object"==typeof f?xa(e):"number"==typeof f?e._d=new Date(f):a.createFromInputFallback(e)}function Ba(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,ya(f)}function Ca(a,b,c,d){return Ba(a,b,c,d,!1)}function Da(a,c){var d,e;if(1===c.length&&b(c[0])&&(c=c[0]),!c.length)return Ca();for(d=c[0],e=1;e<c.length;++e)c[e].isValid()&&!c[e][a](d)||(d=c[e]);return d}function Ea(){return Da("isBefore",[].slice.call(arguments,0))}function Fa(){return Da("isAfter",[].slice.call(arguments,0))}function Ga(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Ha(a){return a instanceof Ga}function Ia(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%60,2)})}function Ja(a){var b=(a||"").match(_c)||[],c=b[b.length-1]||[],d=(c+"").match(wd)||["-",0,0],e=60*d[1]+p(d[2]);return"+"===d[0]?e:-e}function Ka(b,d){var e,f;return d._isUTC?(e=d.clone(),f=(n(b)||c(b)?+b:+Ca(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Ca(b).local()}function La(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ma(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ja(b)),Math.abs(b)<16&&(b*=60),!this._isUTC&&c&&(d=La(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?ab(this,Xa(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:La(this)}function Na(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Oa(a){return this.utcOffset(0,a)}function Pa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(La(this),"m")),this}function Qa(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ja(this._i)),this}function Ra(a){return a=a?Ca(a).utcOffset():0,(this.utcOffset()-a)%60==0}function Sa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ta(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var a={};if(l(a,this),a=za(a),a._a){var b=a._isUTC?g(a._a):Ca(a._a);this._isDSTShifted=this.isValid()&&q(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ua(){return!this._isUTC}function Va(){return this._isUTC}function Wa(){return this._isUTC&&0===this._offset}function Xa(a,b){var c,d,f,g=a,h=null;return Ha(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=xd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[gd])*c,h:p(h[hd])*c,m:p(h[id])*c,s:p(h[jd])*c,ms:p(h[kd])*c}):(h=yd.exec(a))?(c="-"===h[1]?-1:1,g={y:Ya(h[2],c),M:Ya(h[3],c),d:Ya(h[4],c),h:Ya(h[5],c),m:Ya(h[6],c),s:Ya(h[7],c),w:Ya(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(f=$a(Ca(g.from),Ca(g.to)),g={},g.ms=f.milliseconds,g.M=f.months),d=new Ga(g),Ha(a)&&e(a,"_locale")&&(d._locale=a._locale),d}function Ya(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Za(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function $a(a,b){var c;return b=Ka(b,a),a.isBefore(b)?c=Za(a,b):(c=Za(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function _a(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(aa(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Xa(c,d),ab(this,e,a),this}}function ab(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e||e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&W(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function bb(a,b){var c=a||Ca(),d=Ka(c,this).startOf("day"),e=this.diff(d,"days",!0),f=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Ca(c)))}function cb(){return new m(this)}function db(a,b){return b=z(void 0!==b?b:"millisecond"),"millisecond"===b?(a=n(a)?a:Ca(a),+this>+a):(n(a)?+a:+Ca(a))<+this.clone().startOf(b)}function eb(a,b){var c;return b=z(void 0!==b?b:"millisecond"),"millisecond"===b?(a=n(a)?a:Ca(a),+this<+a):(c=n(a)?+a:+Ca(a),+this.clone().endOf(b)<c)}function fb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function gb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=n(a)?a:Ca(a),+this==+a):(c=+Ca(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function hb(a,b,c){var d,e,f=Ka(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=ib(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:o(e)}function ib(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function jb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function kb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function lb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function mb(a,b){return this.isValid()?Xa({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function nb(a){return this.from(Ca(),a)}function ob(a,b){return this.isValid()?Xa({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function pb(a){return this.to(Ca(),a)}function qb(a){var b;return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function rb(){return this._locale}function sb(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function tb(a){return a=z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function ub(){return+this._d-6e4*(this._offset||0)}function vb(){return Math.floor(+this/1e3)}function wb(){return this._offset?new Date(+this):this._d}function xb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function yb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function zb(){return j(this)}function Ab(){return f({},i(this))}function Bb(){return i(this).overflow}function Cb(a,b){G(0,[a,a.length],0,b)}function Db(a,b,c){return ia(Ca([a,11,31+b-c]),b,c).week}function Eb(a){var b=ia(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Fb(a){var b=ia(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Gb(){return Db(this.year(),1,4)}function Hb(){var a=this.localeData()._week;return Db(this.year(),a.dow,a.doy)}function Ib(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Jb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Kb(a){return this._weekdays[a.day()]}function Lb(a){return this._weekdaysShort[a.day()]}function Mb(a){return this._weekdaysMin[a.day()]}function Nb(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;b<7;b++)if(this._weekdaysParse[b]||(c=Ca([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Ob(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Jb(a,this.localeData()),this.add(a-b,"d")):b}function Pb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Qb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Rb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Sb(a,b){return b._meridiemParse}function Tb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Ub(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Vb(a,b){b[kd]=p(1e3*("0."+a))}function Wb(){return this._isUTC?"UTC":""}function Xb(){return this._isUTC?"Coordinated Universal Time":""}function Yb(a){return Ca(1e3*a)}function Zb(){return Ca.apply(null,arguments).parseZone()}function $b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function _b(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function ac(){return this._invalidDate}function bc(a){return this._ordinal.replace("%d",a)}function cc(a){return a}function dc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function ec(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function fc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function gc(a,b,c,d){var e=x(),f=g().set(d,b);return e[c](f,a)}function hc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return gc(a,b,c,e);var f,g=[];for(f=0;f<d;f++)g[f]=gc(a,f,c,e);return g}function ic(a,b){return hc(a,b,"months",12,"month")}function jc(a,b){return hc(a,b,"monthsShort",12,"month")}function kc(a,b){return hc(a,b,"weekdays",7,"day")}function lc(a,b){return hc(a,b,"weekdaysShort",7,"day")}function mc(a,b){return hc(a,b,"weekdaysMin",7,"day")}function nc(){var a=this._data;return this._milliseconds=Td(this._milliseconds),this._days=Td(this._days),this._months=Td(this._months),a.milliseconds=Td(a.milliseconds),a.seconds=Td(a.seconds),a.minutes=Td(a.minutes),a.hours=Td(a.hours),a.months=Td(a.months),a.years=Td(a.years),this}function oc(a,b,c,d){var e=Xa(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function pc(a,b){return oc(this,a,b,1)}function qc(a,b){return oc(this,a,b,-1)}function rc(a){return a<0?Math.floor(a):Math.ceil(a)}function sc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*rc(uc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=o(f/1e3),i.seconds=a%60,b=o(a/60),i.minutes=b%60,c=o(b/60),i.hours=c%24,g+=o(c/24),e=o(tc(g)),h+=e,g-=rc(uc(e)),d=o(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function tc(a){return 4800*a/146097}function uc(a){return 146097*a/4800}function vc(a){var b,c,d=this._milliseconds;if("month"===(a=z(a))||"year"===a)return b=this._days+d/864e5,c=this._months+tc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(uc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function wc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*p(this._months/12)}function xc(a){return function(){return this.as(a)}}function yc(a){return a=z(a),this[a+"s"]()}function zc(a){return function(){return this._data[a]}}function Ac(){return o(this.days()/7)}function Bc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Cc(a,b,c){var d=Xa(a).abs(),e=he(d.as("s")),f=he(d.as("m")),g=he(d.as("h")),h=he(d.as("d")),i=he(d.as("M")),j=he(d.as("y")),k=e<ie.s&&["s",e]||1===f&&["m"]||f<ie.m&&["mm",f]||1===g&&["h"]||g<ie.h&&["hh",g]||1===h&&["d"]||h<ie.d&&["dd",h]||1===i&&["M"]||i<ie.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Bc.apply(null,k)}function Dc(a,b){return void 0!==ie[a]&&(void 0===b?ie[a]:(ie[a]=b,!0))}function Ec(a){var b=this.localeData(),c=Cc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Fc(){var a,b,c,d=je(this._milliseconds)/1e3,e=je(this._days),f=je(this._months);a=o(d/60),b=o(a/60),d%=60,a%=60,c=o(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Gc,Hc,Ic=a.momentProperties=[],Jc=!1,Kc={},Lc={},Mc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Oc={},Pc={},Qc=/\d/,Rc=/\d\d/,Sc=/\d{3}/,Tc=/\d{4}/,Uc=/[+-]?\d{6}/,Vc=/\d\d?/,Wc=/\d{1,3}/,Xc=/\d{1,4}/,Yc=/[+-]?\d{1,6}/,Zc=/\d+/,$c=/[+-]?\d+/,_c=/Z|[+-]\d\d:?\d\d/gi,ad=/[+-]?\d+(\.\d{1,3})?/,bd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,cd={},dd={},ed=0,fd=1,gd=2,hd=3,id=4,jd=5,kd=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),M("M",Vc),M("MM",Vc,Rc),M("MMM",bd),M("MMMM",bd),P(["M","MM"],function(a,b){b[fd]=p(a)-1}),P(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[fd]=e:i(c).invalidMonth=a});var ld="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),md="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nd={};a.suppressDeprecationWarnings=!1;var od=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],qd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],rd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=_("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),M("Y",$c),M("YY",Vc,Rc),M("YYYY",Xc,Tc),M("YYYYY",Yc,Uc),M("YYYYYY",Yc,Uc),P(["YYYYY","YYYYYY"],ed),P("YYYY",function(b,c){c[ed]=2===b.length?a.parseTwoDigitYear(b):p(b)}),P("YY",function(b,c){c[ed]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2e3)};var sd=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),y("week","w"),y("isoWeek","W"),M("w",Vc),M("ww",Vc,Rc),M("W",Vc),M("WW",Vc,Rc),Q(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var td={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),M("DDD",Wc),M("DDDD",Sc),P(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var ud=_("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Ca.apply(null,arguments);return a<this?this:a}),vd=_("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Ca.apply(null,arguments);return a>this?this:a});Ia("Z",":"),Ia("ZZ",""),M("Z",_c),M("ZZ",_c),P(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ja(a)});var wd=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var xd=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,yd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xa.fn=Ga.prototype;var zd=_a(1,"add"),Ad=_a(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Bd=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Cb("gggg","weekYear"),Cb("ggggg","weekYear"),Cb("GGGG","isoWeekYear"),Cb("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),M("G",$c),M("g",$c),M("GG",Vc,Rc),M("gg",Vc,Rc),M("GGGG",Xc,Tc),M("gggg",Xc,Tc),M("GGGGG",Yc,Uc),M("ggggg",Yc,Uc),Q(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),Q(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),M("Q",Qc),P("Q",function(a,b){b[fd]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),M("D",Vc),M("DD",Vc,Rc),M("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),P(["D","DD"],gd),P("Do",function(a,b){b[gd]=p(a.match(Vc)[0],10)});var Cd=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),M("d",Vc),M("e",Vc),M("E",Vc),M("dd",bd),M("ddd",bd),M("dddd",bd),Q(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:i(c).invalidWeekday=a}),Q(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var Dd="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ed="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Rb("a",!0),Rb("A",!1),y("hour","h"),M("a",Sb),M("A",Sb),M("H",Vc),M("h",Vc),M("HH",Vc,Rc),M("hh",Vc,Rc),P(["H","HH"],hd),P(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),P(["h","hh"],function(a,b,c){b[hd]=p(a),i(c).bigHour=!0});var Gd=/[ap]\.?m?\.?/i,Hd=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),M("m",Vc),M("mm",Vc,Rc),P(["m","mm"],id);var Id=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),M("s",Vc),M("ss",Vc,Rc),P(["s","ss"],jd);var Jd=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),y("millisecond","ms"),M("S",Wc,Qc),M("SS",Wc,Rc),M("SSS",Wc,Sc);var Kd;for(Kd="SSSS";Kd.length<=9;Kd+="S")M(Kd,Zc);for(Kd="S";Kd.length<=9;Kd+="S")P(Kd,Vb);var Ld=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Md=m.prototype;Md.add=zd,Md.calendar=bb,Md.clone=cb,Md.diff=hb,Md.endOf=tb,Md.format=lb,Md.from=mb,Md.fromNow=nb,Md.to=ob,Md.toNow=pb,Md.get=E,Md.invalidAt=Bb,Md.isAfter=db,Md.isBefore=eb,Md.isBetween=fb,Md.isSame=gb,Md.isValid=zb,Md.lang=Bd,Md.locale=qb,Md.localeData=rb,Md.max=vd,Md.min=ud,Md.parsingFlags=Ab,Md.set=E,Md.startOf=sb,Md.subtract=Ad,Md.toArray=xb,Md.toObject=yb,Md.toDate=wb,Md.toISOString=kb,Md.toJSON=kb,Md.toString=jb,Md.unix=vb,Md.valueOf=ub,Md.year=sd,Md.isLeapYear=ha,Md.weekYear=Eb,Md.isoWeekYear=Fb,Md.quarter=Md.quarters=Ib,Md.month=X,Md.daysInMonth=Y,Md.week=Md.weeks=ma,Md.isoWeek=Md.isoWeeks=na,Md.weeksInYear=Hb,Md.isoWeeksInYear=Gb,Md.date=Cd,Md.day=Md.days=Ob,Md.weekday=Pb,Md.isoWeekday=Qb,Md.dayOfYear=pa,Md.hour=Md.hours=Hd,Md.minute=Md.minutes=Id,Md.second=Md.seconds=Jd,Md.millisecond=Md.milliseconds=Ld,Md.utcOffset=Ma,Md.utc=Oa,Md.local=Pa,Md.parseZone=Qa,Md.hasAlignedHourOffset=Ra,Md.isDST=Sa,Md.isDSTShifted=Ta,Md.isLocal=Ua,Md.isUtcOffset=Va,Md.isUtc=Wa,Md.isUTC=Wa,Md.zoneAbbr=Wb,Md.zoneName=Xb,Md.dates=_("dates accessor is deprecated. Use date instead.",Cd),Md.months=_("months accessor is deprecated. Use month instead",X),Md.years=_("years accessor is deprecated. Use year instead",sd),Md.zone=_("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Na);var Nd=Md,Od={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Pd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Qd=/\d{1,2}/,Rd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Sd=r.prototype;Sd._calendar=Od,Sd.calendar=$b,Sd._longDateFormat=Pd,Sd.longDateFormat=_b,Sd._invalidDate="Invalid date",Sd.invalidDate=ac,Sd._ordinal="%d",Sd.ordinal=bc,Sd._ordinalParse=Qd,Sd.preparse=cc,Sd.postformat=cc,Sd._relativeTime=Rd,Sd.relativeTime=dc,Sd.pastFuture=ec,Sd.set=fc,Sd.months=T,Sd._months=ld,Sd.monthsShort=U,Sd._monthsShort=md,Sd.monthsParse=V,Sd.week=ja,Sd._week=td,Sd.firstDayOfYear=la,Sd.firstDayOfWeek=ka,Sd.weekdays=Kb,Sd._weekdays=Dd,Sd.weekdaysMin=Mb,Sd._weekdaysMin=Fd,Sd.weekdaysShort=Lb,Sd._weekdaysShort=Ed,Sd.weekdaysParse=Nb,Sd.isPM=Tb,Sd._meridiemParse=Gd,Sd.meridiem=Ub,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),a.lang=_("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=_("moment.langData is deprecated. Use moment.localeData instead.",x);var Td=Math.abs,Ud=xc("ms"),Vd=xc("s"),Wd=xc("m"),Xd=xc("h"),Yd=xc("d"),Zd=xc("w"),$d=xc("M"),_d=xc("y"),ae=zc("milliseconds"),be=zc("seconds"),ce=zc("minutes"),de=zc("hours"),ee=zc("days"),fe=zc("months"),ge=zc("years"),he=Math.round,ie={s:45,m:45,h:22,d:26,M:11},je=Math.abs,ke=Ga.prototype;return ke.abs=nc,ke.add=pc,ke.subtract=qc,ke.as=vc,ke.asMilliseconds=Ud,ke.asSeconds=Vd,ke.asMinutes=Wd,ke.asHours=Xd,ke.asDays=Yd,ke.asWeeks=Zd,ke.asMonths=$d,ke.asYears=_d,ke.valueOf=wc,ke._bubble=sc,ke.get=yc,ke.milliseconds=ae,ke.seconds=be,ke.minutes=ce,ke.hours=de,ke.days=ee,ke.weeks=Ac,ke.months=fe,ke.years=ge,ke.humanize=Ec,ke.toISOString=Fc,ke.toString=Fc,ke.toJSON=Fc,ke.locale=qb,ke.localeData=rb,ke.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fc),ke.lang=Bd,G("X",0,0,"unix"),G("x",0,0,"valueOf"),M("x",$c),M("X",ad),P("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),P("x",function(a,b,c){c._d=new Date(p(a))}),a.version="2.10.6",function(a){Gc=a}(Ca),a.fn=Nd,a.min=Ea,a.max=Fa,a.utc=g,a.unix=Yb,a.months=ic,a.isDate=c,a.locale=v,a.invalid=k,a.duration=Xa,a.isMoment=n,a.weekdays=kc,a.parseZone=Zb,a.localeData=x,a.isDuration=Ha,a.monthsShort=jc,a.weekdaysMin=mc,a.defineLocale=w,a.weekdaysShort=lc,a.normalizeUnits=z,a.relativeTimeThreshold=Dc,a}),function(a){"use strict";function b(a,b){return b=b||Error,function(){var c,d,e=arguments,f=e[0],g="["+(a?a+":":"")+f+"] ",h=e[1];for(g+=h.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+2;return c<e.length?ra(e[c]):a}),g+="\nhttp://errors.angularjs.org/1.5.9/"+(a?a+"/":"")+f,d=2,c="?";d<e.length;d++,c="&")g+=c+"p"+(d-2)+"="+encodeURIComponent(ra(e[d]));return new b(g)}}function c(a){if(null==a||A(a))return!1;if(_d(a)||v(a)||Pd&&a instanceof Pd)return!0;var b="length"in Object(a)&&a.length;return w(b)&&(b>=0&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function d(a,b,e){var f,g;if(a)if(y(a))for(f in a)"prototype"===f||"length"===f||"name"===f||a.hasOwnProperty&&!a.hasOwnProperty(f)||b.call(e,a[f],f,a);else if(_d(a)||c(a)){var h="object"!=typeof a;for(f=0,g=a.length;f<g;f++)(h||f in a)&&b.call(e,a[f],f,a)}else if(a.forEach&&a.forEach!==d)a.forEach(b,e,a);else if(u(a))for(f in a)b.call(e,a[f],f,a);else if("function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&b.call(e,a[f],f,a);else for(f in a)Jd.call(a,f)&&b.call(e,a[f],f,a);return a}function e(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function f(a){return function(b,c){a(c,b)}}function g(){return++Zd}function h(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function i(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(t(g)||y(g))for(var j=Object.keys(g),k=0,l=j.length;k<l;k++){var m=j[k],n=g[m];c&&t(n)?x(n)?a[m]=new Date(n.valueOf()):z(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):J(n)?a[m]=n.clone():(t(a[m])||(a[m]=_d(n)?[]:{}),i(a[m],[n],!0)):a[m]=n}}return h(a,d),a}function j(a){return i(a,Sd.call(arguments,1),!1)}function k(a){return i(a,Sd.call(arguments,1),!0)}function l(a){return parseInt(a,10)}function m(a,b){return j(Object.create(a),b)}function n(){}function o(a){return a}function p(a){return function(){return a}}function q(a){return y(a.toString)&&a.toString!==Vd}function r(a){return void 0===a}function s(a){return void 0!==a}function t(a){return null!==a&&"object"==typeof a}function u(a){return null!==a&&"object"==typeof a&&!Wd(a)}function v(a){return"string"==typeof a}function w(a){return"number"==typeof a}function x(a){return"[object Date]"===Vd.call(a)}function y(a){return"function"==typeof a}function z(a){return"[object RegExp]"===Vd.call(a)}function A(a){return a&&a.window===a}function B(a){return a&&a.$evalAsync&&a.$watch}function C(a){return"[object File]"===Vd.call(a)}function D(a){return"[object FormData]"===Vd.call(a)}function E(a){return"[object Blob]"===Vd.call(a)}function F(a){return"boolean"==typeof a}function G(a){return a&&y(a.then)}function H(a){return a&&w(a.length)&&ae.test(Vd.call(a))}function I(a){return"[object ArrayBuffer]"===Vd.call(a)}function J(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function K(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function L(a){return Kd(a.nodeName||a[0]&&a[0].nodeName)}function M(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function N(a,b){function c(a,b){var c,d=b.$$hashKey;if(_d(a))for(var f=0,g=a.length;f<g;f++)b.push(e(a[f]));else if(u(a))for(c in a)b[c]=e(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=e(a[c]));else for(c in a)Jd.call(a,c)&&(b[c]=e(a[c]));return h(b,d),b}function e(a){if(!t(a))return a;var b=g.indexOf(a);if(-1!==b)return i[b];if(A(a)||B(a))throw Xd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var d=!1,e=f(a);return void 0===e&&(e=_d(a)?[]:Object.create(Wd(a)),d=!0),g.push(a),i.push(e),d?c(a,e):e}function f(a){switch(Vd.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength)
;return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);return c.lastIndex=a.lastIndex,c;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(y(a.cloneNode))return a.cloneNode(!0)}var g=[],i=[];if(b){if(H(b)||I(b))throw Xd("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw Xd("cpi","Can't copy! Source and destination are identical.");return _d(b)?b.length=0:d(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),g.push(a),i.push(b),c(a,b)}return e(a)}function O(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f===g&&"object"===f){if(!_d(a)){if(x(a))return!!x(b)&&O(a.getTime(),b.getTime());if(z(a))return!!z(b)&&a.toString()===b.toString();if(B(a)||B(b)||A(a)||A(b)||_d(b)||x(b)||z(b))return!1;e=na();for(d in a)if("$"!==d.charAt(0)&&!y(a[d])){if(!O(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&s(b[d])&&!y(b[d]))return!1;return!0}if(!_d(b))return!1;if((c=a.length)===b.length){for(d=0;d<c;d++)if(!O(a[d],b[d]))return!1;return!0}}return!1}function P(a,b,c){return a.concat(Sd.call(b,c))}function Q(a,b){return Sd.call(a,b||0)}function R(a,b){var c=arguments.length>2?Q(arguments,2):[];return!y(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,P(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function S(b,c){var d=c;return"string"==typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?d=void 0:A(c)?d="$WINDOW":c&&a.document===c?d="$DOCUMENT":B(c)&&(d="$SCOPE"),d}function T(a,b){if(!r(a))return w(b)||(b=b?2:null),JSON.stringify(a,S,b)}function U(a){return v(a)?JSON.parse(a):a}function V(a,b){a=a.replace(fe,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return $d(c)?b:c}function W(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function X(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset();return W(a,c*(V(b,d)-d))}function Y(a){a=Pd(a).clone();try{a.empty()}catch(a){}var b=Pd("<div>").append(a).html();try{return a[0].nodeType===le?Kd(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Kd(b)})}catch(a){return Kd(b)}}function Z(a){try{return decodeURIComponent(a)}catch(a){}}function $(a){var b={};return d((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=Z(d),s(d)&&(e=!s(e)||Z(e),Jd.call(b,d)?_d(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function _(a){var b=[];return d(a,function(a,c){_d(a)?d(a,function(a){b.push(ba(c,!0)+(!0===a?"":"="+ba(a,!0)))}):b.push(ba(c,!0)+(!0===a?"":"="+ba(a,!0)))}),b.length?b.join("&"):""}function aa(a){return ba(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ba(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ca(a,b){var c,d,e=ge.length;for(d=0;d<e;++d)if(c=ge[d]+b,v(c=a.getAttribute(c)))return c;return null}function da(b,c){var e,f,g={};if(d(ge,function(a){var c=a+"app";!e&&b.hasAttribute&&b.hasAttribute(c)&&(e=b,f=b.getAttribute(c))}),d(ge,function(a){var c,d=a+"app";!e&&(c=b.querySelector("["+d.replace(":","\\:")+"]"))&&(e=c,f=c.getAttribute(d))}),e){if(!he)return void a.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");g.strictDi=null!==ca(e,"strict-di"),c(e,f?[f]:[],g)}}function ea(b,c,e){t(e)||(e={}),e=j({strictDi:!1},e);var f=function(){if(b=Pd(b),b.injector()){var d=b[0]===a.document?"document":Y(b);throw Xd("btstrpd","App already bootstrapped with this element '{0}'",d.replace(/</,"&lt;").replace(/>/,"&gt;"))}c=c||[],c.unshift(["$provide",function(a){a.value("$rootElement",b)}]),e.debugInfoEnabled&&c.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),c.unshift("ng");var f=bb(c,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},g=/^NG_ENABLE_DEBUG_INFO!/,h=/^NG_DEFER_BOOTSTRAP!/;if(a&&g.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(g,"")),a&&!h.test(a.name))return f();a.name=a.name.replace(h,""),Yd.resumeBootstrap=function(a){return d(a,function(a){c.push(a)}),f()},y(Yd.resumeDeferredBootstrap)&&Yd.resumeDeferredBootstrap()}function fa(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ga(a){var b=Yd.element(a).injector();if(!b)throw Xd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ha(a,b){return b=b||"_",a.replace(ie,function(a,c){return(c?b:"")+a.toLowerCase()})}function ia(a,b,c){if(!a)throw Xd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function ja(a,b,c){return c&&_d(a)&&(a=a[a.length-1]),ia(y(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function ka(a,b){if("hasOwnProperty"===a)throw Xd("badname","hasOwnProperty is not a valid {0} name",b)}function la(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;h<g;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&y(a)?R(f,a):a}function ma(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Pd(Sd.call(a,0,e))),b.push(c));return b||a}function na(){return Object.create(null)}function oa(a){function c(a,b,c){return a[b]||(a[b]=c())}var d=b("$injector"),e=b("ng"),f=c(a,"angular",Object);return f.$$minErr=f.$$minErr||b,c(f,"module",function(){var a={};return function(b,f,g){return function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)}(b,"module"),f&&a.hasOwnProperty(b)&&(a[b]=null),c(a,b,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function c(a,c){return function(d,f){return f&&y(f)&&(f.$$moduleName=b),e.push([a,c,arguments]),k}}if(!f)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",b);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:b,provider:c("$provide","provider"),factory:c("$provide","factory"),service:c("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:c("$provide","decorator"),animation:c("$animateProvider","register"),filter:c("$filterProvider","register"),controller:c("$controllerProvider","register"),directive:c("$compileProvider","directive"),component:c("$compileProvider","component"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function pa(a,b){if(_d(a)){b=b||[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var e in a)"$"===e.charAt(0)&&"$"===e.charAt(1)||(b[e]=a[e])}return b||a}function qa(a){var b=[];return JSON.stringify(a,function(a,c){if(c=S(a,c),t(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function ra(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):r(a)?"undefined":"string"!=typeof a?qa(a):a}function sa(){return++re}function ta(a){return a.replace(ue,function(a,b,c,d){return d?c.toUpperCase():c}).replace(ve,"Moz$1")}function ua(a){return!ze.test(a)}function va(a){var b=a.nodeType;return b===ke||!b||b===ne}function wa(a){for(var b in qe[a.ng339])return!0;return!1}function xa(a){for(var b=0,c=a.length;b<c;b++)Fa(a[b])}function ya(a,b){var c,e,f,g,h=b.createDocumentFragment(),i=[];if(ua(a))i.push(b.createTextNode(a));else{for(c=h.appendChild(b.createElement("div")),e=(Ae.exec(a)||["",""])[1].toLowerCase(),f=Ce[e]||Ce._default,c.innerHTML=f[1]+a.replace(Be,"<$1></$2>")+f[2],g=f[0];g--;)c=c.lastChild;i=P(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",d(i,function(a){h.appendChild(a)}),h}function za(b,c){c=c||a.document;var d;return(d=ye.exec(b))?[c.createElement(d[1])]:(d=ya(b,c))?d.childNodes:[]}function Aa(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Ba(a){if(a instanceof Ba)return a;var b;if(v(a)&&(a=be(a),b=!0),!(this instanceof Ba)){if(b&&"<"!==a.charAt(0))throw xe("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ba(a)}b?La(this,za(a)):La(this,a)}function Ca(a){return a.cloneNode(!0)}function Da(a,b){if(b||Fa(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;d<e;d++)Fa(c[d])}function Ea(a,b,c,e){if(s(e))throw xe("offargs","jqLite#off() does not support the `selector` argument");var f=Ga(a),g=f&&f.events,h=f&&f.handle;if(h)if(b){var i=function(b){var d=g[b];s(c)&&M(d||[],c),s(c)&&d&&d.length>0||(te(a,b,h),delete g[b])};d(b.split(" "),function(a){i(a),we[a]&&i(we[a])})}else for(b in g)"$destroy"!==b&&te(a,b,h),delete g[b]}function Fa(a,b){var c=a.ng339,d=c&&qe[c];if(d){if(b)return void delete d.data[b];d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Ea(a)),delete qe[c],a.ng339=void 0}}function Ga(a,b){var c=a.ng339,d=c&&qe[c];return b&&!d&&(a.ng339=c=sa(),d=qe[c]={events:{},data:{},handle:void 0}),d}function Ha(a,b,c){if(va(a)){var d=s(c),e=!d&&b&&!t(b),f=!b,g=Ga(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];j(h,b)}}}function Ia(a,b){return!!a.getAttribute&&(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1}function Ja(a,b){b&&a.setAttribute&&d(b.split(" "),function(b){a.setAttribute("class",be((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+be(b)+" "," ")))})}function Ka(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");d(b.split(" "),function(a){a=be(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",be(c))}}function La(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;d<c;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Ma(a,b){return Na(a,"$"+(b||"ngController")+"Controller")}function Na(a,b,c){a.nodeType===ne&&(a=a.documentElement);for(var d=_d(b)?b:[b];a;){for(var e=0,f=d.length;e<f;e++)if(s(c=Pd.data(a,d[e])))return c;a=a.parentNode||a.nodeType===oe&&a.host}}function Oa(a){for(Da(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Pa(a,b){b||Da(a);var c=a.parentNode;c&&c.removeChild(a)}function Qa(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Pd(c).on("load",b)}function Ra(a,b){var c=Fe[b.toLowerCase()];return c&&Ge[L(a)]&&c}function Sa(a){return He[a]}function Ta(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(r(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var h=e.specialHandlerWrapper||Ua;f>1&&(e=pa(e));for(var i=0;i<f;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Ua(a,b,c){c.call(a,b)}function Va(a,b,c){var d=b.relatedTarget;d&&(d===a||De.call(a,d))||c.call(a,b)}function Wa(){this.$get=function(){return j(Ba,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ia(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Ka(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Ja(a,b)}})}}function Xa(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||g)():d+":"+a}function Ya(a,b){if(b){var c=0;this.nextUid=function(){return++c}}d(a,this.put,this)}function Za(a){return Function.prototype.toString.call(a)+" "}function $a(a){var b=Za(a).replace(Ne,"");return b.match(Je)||b.match(Ke)}function _a(a){var b=$a(a);return b?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ab(a,b,c){var e,f,g;if("function"==typeof a){if(!(e=a.$inject)){if(e=[],a.length){if(b)throw v(c)&&c||(c=a.name||_a(a)),Oe("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);f=$a(a),d(f[1].split(Le),function(a){a.replace(Me,function(a,b,c){e.push(c)})})}a.$inject=e}}else _d(a)?(g=a.length-1,ja(a[g],"fn"),e=a.slice(0,g)):ja(a,"fn",!0);return e}function bb(a,b){function c(a){return function(b,c){if(!t(b))return a(b,c);d(b,f(a))}}function e(a,b){if(ka(a,"service"),(y(b)||_d(b))&&(b=x.instantiate(b)),!b.$get)throw Oe("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=B.invoke(b,this);if(r(c))throw Oe("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function h(a,b,c){return e(a,{$get:!1!==c?g(a,b):b})}function i(a,b){return h(a,["$injector",function(a){return a.instantiate(b)}])}function j(a,b){return h(a,p(b),!1)}function k(a,b){ka(a,"constant"),w[a]=b,z[a]=b}function l(a,b){var c=x.get(a+q),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}function m(a){ia(r(a)||_d(a),"modulesToLoad","not an array");var b,c=[];return d(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var d=a[b],e=x.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{v(a)?(b=Rd(a),c=c.concat(m(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):y(a)?c.push(x.invoke(a)):_d(a)?c.push(x.invoke(a)):ja(a,"module")}catch(b){throw _d(a)&&(a=a[a.length-1]),b.message&&b.stack&&-1===b.stack.indexOf(b.message)&&(b=b.message+"\n"+b.stack),Oe("modulerr","Failed to instantiate module {0} due to:\n{1}",a,b.stack||b.message||b)}}}),c}function n(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===o)throw Oe("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=o,a[b]=c(b,d),a[b]}catch(c){throw a[b]===o&&delete a[b],c}finally{s.shift()}}function e(a,c,e){for(var f=[],g=bb.$$annotate(a,b,e),h=0,i=g.length;h<i;h++){var j=g[h];if("string"!=typeof j)throw Oe("itkn","Incorrect injection token! Expected service name as string, got {0}",j);f.push(c&&c.hasOwnProperty(j)?c[j]:d(j,e))}return f}function f(a){return!(Od<=11)&&("function"==typeof a&&/^(?:class\b|constructor\()/.test(Za(a)))}function g(a,b,c,d){"string"==typeof c&&(d=c,c=null);var g=e(a,c,d);return _d(a)&&(a=a[a.length-1]),f(a)?(g.unshift(null),new(Function.prototype.bind.apply(a,g))):a.apply(b,g)}function h(a,b,c){var d=_d(a)?a[a.length-1]:a,f=e(a,b,c);return f.unshift(null),new(Function.prototype.bind.apply(d,f))}return{invoke:g,instantiate:h,get:d,annotate:bb.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=!0===b;var o={},q="Provider",s=[],u=new Ya([],!0),w={$provide:{provider:c(e),factory:c(h),service:c(i),value:c(j),constant:c(k),decorator:l}},x=w.$injector=n(w,function(a,b){throw Yd.isString(b)&&s.push(b),Oe("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},A=n(z,function(a,b){var c=x.get(a+q,b);return B.invoke(c.$get,c,void 0,a)}),B=A;w["$injector"+q]={$get:p(A)};var C=m(a);return B=A.get("$injector"),B.strictDi=b,d(C,function(a){a&&B.invoke(a)}),B}function cb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===L(a))return b=a,!0}),b}function f(){var a=h.yOffset;if(y(a))a=a();else if(J(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else w(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=v(a)?a:c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||Qa(function(){d.$evalAsync(h)})}),h}]}function db(a,b){return a||b?a?b?(_d(a)&&(a=a.join(" ")),_d(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function eb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===Qe)return c}}function fb(a){v(a)&&(a=a.split(" "));var b=na();return d(a,function(a){a.length&&(b[a]=!0)}),b}function gb(a){return t(a)?a:{}}function hb(a,b,c,e){function f(a){try{a.apply(null,Q(arguments,1))}finally{if(0===--s)for(;t.length;)try{t.pop()()}catch(a){c.error(a)}}}function g(a){var b=a.indexOf("#");return-1===b?"":a.substr(b)}function h(){y=null,i(),j()}function i(){u=z(),u=r(u)?null:u,O(u,C)&&(u=C),C=u}function j(){w===k.url()&&v===u||(w=k.url(),v=u,d(A,function(a){a(k.url(),u)}))}var k=this,l=a.location,m=a.history,o=a.setTimeout,p=a.clearTimeout,q={};k.isMock=!1;var s=0,t=[];k.$$completeOutstandingRequest=f,k.$$incOutstandingRequestCount=function(){s++},k.notifyWhenNoOutstandingRequests=function(a){0===s?a():t.push(a)};var u,v,w=l.href,x=b.find("base"),y=null,z=e.history?function(){try{return m.state}catch(a){}}:n;i(),v=u,k.url=function(b,c,d){if(r(d)&&(d=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=v===d;if(w===b&&(!e.history||f))return k;var h=w&&Pb(w)===Pb(b);return w=b,v=d,!e.history||h&&f?(h||(y=b),c?l.replace(b):h?l.hash=g(b):l.href=b,l.href!==b&&(y=b)):(m[c?"replaceState":"pushState"](d,"",b),i(),v=u),y&&(y=b),k}return y||l.href.replace(/%27/g,"'")},k.state=function(){return u};var A=[],B=!1,C=null;k.onUrlChange=function(b){return B||(e.history&&Pd(a).on("popstate",h),Pd(a).on("hashchange",h),B=!0),A.push(b),b},k.$$applicationDestroyed=function(){Pd(a).off("hashchange popstate",h)},k.$$checkUrlChange=j,k.baseHref=function(){var a=x.attr("href");return a?a.replace(/^(https?:)?\/\/[^\/]*/,""):""},k.defer=function(a,b){var c;return s++,c=o(function(){delete q[c],f(a)},b||0),q[c]=!0,c},k.defer.cancel=function(a){return!!q[a]&&(delete q[a],p(a),f(n),!0)}}function ib(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new hb(a,d,b,c)}]}function jb(){this.$get=function(){function a(a,d){function e(a){a!==m&&(n?n===a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in c)throw b("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=j({},d,{id:a}),i=na(),k=d&&d.capacity||Number.MAX_VALUE,l=na(),m=null,n=null;return c[a]={put:function(a,b){if(!r(b)){if(k<Number.MAX_VALUE){e(l[a]||(l[a]={key:a}))}return a in i||g++,i[a]=b,g>k&&this.remove(n.key),b}},get:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;b===m&&(m=b.p),b===n&&(n=b.n),f(b.n,b.p),delete l[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=na(),g=0,l=na(),m=n=null},destroy:function(){i=null,h=null,l=null,delete c[a]},info:function(){return j({},h,{size:g})}}}var c={};return a.info=function(){var a={};return d(c,function(b,c){a[c]=b.info()}),a},a.get=function(a){return c[a]},a}}function kb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function lb(){}function mb(b,c){function e(a,b,c){var e=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,f=na();return d(a,function(a,d){if(a in A)return void(f[d]=A[a]);var g=a.match(e);if(!g)throw Xe("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,d,a,c?"controller bindings definition":"isolate scope definition");f[d]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||d},g[4]&&(A[a]=f[d])}),f}function g(a,b){var c={isolateScope:null,bindToController:null};if(t(a.scope)&&(!0===a.bindToController?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),t(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),t(c.bindToController)){var d=a.controller,f=a.controllerAs;if(!d)throw Xe("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!rb(d,f))throw Xe("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function h(a){var b=a.charAt(0);if(!b||b!==Kd(b))throw Xe("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Xe("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}function i(a){var b=a.require||a.controller&&a.name;return!_d(b)&&t(b)&&d(b,function(a,c){var d=a.match(x);a.substring(d[0].length)||(b[c]=d[0]+c)}),b}var k={},l="Directive",q=/^\s*directive:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?::([^;]+))?;?)/,w=K("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,z=/^(on[a-z]+|formaction)$/,A=na();this.directive=function a(c,e){return ka(c,"directive"),v(c)?(h(c),ia(e,"directiveFactory"),k.hasOwnProperty(c)||(k[c]=[],b.factory(c+l,["$injector","$exceptionHandler",function(a,b){var e=[];return d(k[c],function(d,f){try{var g=a.invoke(d);y(g)?g={compile:p(g)}:!g.compile&&g.link&&(g.compile=p(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||c,g.require=i(g),g.restrict=g.restrict||"EA",g.$$moduleName=d.$$moduleName,e.push(g)}catch(a){b(a)}}),e}])),k[c].push(e)):d(c,f(a)),this},this.component=function(a,b){function c(a){function c(b){return y(b)||_d(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:e,controllerAs:rb(b.controller)||b.controllerAs||"$ctrl",template:c(f),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return d(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var e=b.controller||function(){};return d(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,y(e)&&(e[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return s(a)?(c.aHrefSanitizationWhitelist(a),this):c.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(c.imgSrcSanitizationWhitelist(a),this):c.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(a){return s(a)?(C=a,this):C};var D=10;this.onChangesTtl=function(a){return arguments.length?(D=a,this):D};var E=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(E=a,this):E};var G=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(G=a,this):G},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(b,c,e,f,h,i,p,A,H,I){function J(){try{if(!--Da)throw wa=void 0,Xe("infchng","{0} $onChanges() iterations reached. Aborting!\n",D);p.$apply(function(){for(var a=[],b=0,c=wa.length;b<c;++b)try{wa[b]()}catch(b){a.push(b)}if(wa=void 0,a.length)throw a})}finally{Da++}}function K(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;c<d;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a}function N(a,b,c){ya.innerHTML="<span "+b+">";var d=ya.firstChild.attributes,e=d[0];d.removeNamedItem(e.name),e.value=c,a.attributes.setNamedItem(e)}function P(a,b){try{a.addClass(b)}catch(a){}}function S(b,c,d,e,f){b instanceof Pd||(b=Pd(b));for(var g=/\S+/,h=0,i=b.length;h<i;h++){var j=b[h];j.nodeType===le&&j.nodeValue.match(g)&&Aa(j,b[h]=a.document.createElement("span"))}var k=U(b,c,b,d,e,f);S.$$addScopeClass(b);var l=null;return function(a,c,d){ia(a,"scope"),f&&f.needsNewScope&&(a=a.$parent.$new()),d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers,h=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),l||(l=T(h));var i;if(i="html"!==l?Pd(oa(l,Pd("<div>").append(b).html())):c?Ee.clone.call(b):b,g)for(var j in g)i.data("$"+j+"Controller",g[j].instance);return S.$$addScopeInfo(i,a),c&&c(i,a),k&&k(a,i,i,e),i}}function T(a){var b=a&&a[0];return b&&"foreignobject"!==L(b)&&Vd.call(b).match(/SVG/)?"svg":"html"}function U(a,b,c,d,e,f){function g(a,c,d,e){var f,g,h,i,j,k,l,m,p;if(n){var q=c.length;for(p=new Array(q),j=0;j<o.length;j+=3)l=o[j],p[l]=c[l]}else p=c;for(j=0,k=o.length;j<k;)h=p[o[j++]],f=o[j++],g=o[j++],f?(f.scope?(i=a.$new(),S.$$addScopeInfo(Pd(h),i)):i=a,m=f.transcludeOnThisElement?V(a,f.transclude,e):!f.templateOnThisElement&&e?e:!e&&b?V(a,b):null,f(g,i,h,d,m)):g&&g(a,h.childNodes,void 0,e)}for(var h,i,j,k,l,m,n,o=[],p=0;p<a.length;p++)h=new K,i=W(a[p],[],h,0===p?d:void 0,e),j=i.length?aa(i,a[p],h,b,c,null,[],[],f):null,j&&j.scope&&S.$$addScopeClass(h.$$element),l=j&&j.terminal||!(k=a[p].childNodes)||!k.length?null:U(k,j?(j.transcludeOnThisElement||!j.templateOnThisElement)&&j.transclude:b),(j||l)&&(o.push(p,j,l),m=!0,n=n||j),f=null;return m?g:null}function V(a,b,c){function d(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=na();for(var f in b.$$slots)b.$$slots[f]?e[f]=V(a,b.$$slots[f],c):e[f]=null;return d}function W(a,b,c,d,e){var f,g,h,i=a.nodeType,j=c.$attr;switch(i){case ke:g=L(a),ea(b,ob(g),"E",d,e);for(var k,l,m,n,o,p,q=a.attributes,r=0,s=q&&q.length;r<s;r++){var w=!1,x=!1;k=q[r],l=k.name,o=be(k.value),n=ob(l),p=Ha.test(n),p&&(l=l.replace(Ze,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=n.match(Ia);y&&fa(y[1])&&(w=l,x=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),m=ob(l.toLowerCase()),j[m]=l,!p&&c.hasOwnProperty(m)||(c[m]=o,Ra(a,m)&&(c[m]=!0)),qa(a,b,o,m,p),ea(b,m,"A",d,e,w,x)}if("input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off"),!Ba)break;if(h=a.className,t(h)&&(h=h.animVal),v(h)&&""!==h)for(;f=u.exec(h);)m=ob(f[2]),ea(b,m,"C",d,e)&&(c[m]=be(f[3])),h=h.substr(f.index+f[0].length);break;case le:if(11===Od)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===le;)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);ma(b,a.nodeValue);break;case me:if(!za)break;X(a,b,c,d,e)}return b.sort(ka),b}function X(a,b,c,d,e){try{var f=q.exec(a.nodeValue);if(f){var g=ob(f[1]);ea(b,g,"M",d,e)&&(c[g]=be(f[2]))}}catch(a){}}function Z(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b))do{if(!a)throw Xe("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType===ke&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0);else d.push(a);return Pd(d)}function $(a,b,c){return function(d,e,f,g,h){return e=Z(e[0],b,c),a(d,e,f,g,h)}}function _(a,b,c,d,e,f){var g;return a?S(b,c,d,e,f):function(){return g||(g=S(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function aa(a,b,c,f,g,h,i,k,l){function m(a,b,c,d){a&&(c&&(a=$(a,c,d)),a.require=o.require,a.directiveName=p,(z===o||o.$$isolateScope)&&(a=sa(a,{isolateScope:!0})),i.push(a)),b&&(c&&(b=$(b,c,d)),b.require=o.require,b.directiveName=p,(z===o||o.$$isolateScope)&&(b=sa(b,{isolateScope:!0})),k.push(b))}function n(a,f,g,h,l){function m(a,b,c,d){var e;if(B(a)||(d=c,c=b,b=a,a=void 0),F&&(e=u),c||(c=F?C.parent():C),!d)return l(a,b,e,c,M);var f=l.$$slots[d];if(f)return f(a,b,e,c,M);if(r(f))throw Xe("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',d,Y(C))}var n,o,p,q,s,u,v,C,D,E;b===g?(D=c,C=c.$$element):(C=Pd(g),D=new K(C,c)),s=f,z?q=f.$new(!0):w&&(s=f.$parent),l&&(v=m,v.$$boundTransclude=l,v.isSlotFilled=function(a){return!!l.$$slots[a]}),x&&(u=ca(C,D,v,x,q,f,z)),z&&(S.$$addScopeInfo(C,q,!0,!(A&&(A===z||A===z.$$originalDirective))),S.$$addScopeClass(C,!0),q.$$isolateBindings=z.$$isolateBindings,E=va(f,D,q,q.$$isolateBindings,z),E.removeWatches&&q.$on("$destroy",E.removeWatches));for(var G in u){var H=x[G],I=u[G],J=H.$$bindings.bindToController;I.identifier&&J?I.bindingInfo=va(s,D,I.instance,J,H):I.bindingInfo={};var L=I();L!==I.instance&&(I.instance=L,C.data("$"+H.name+"Controller",L),I.bindingInfo.removeWatches&&I.bindingInfo.removeWatches(),I.bindingInfo=va(s,D,I.instance,J,H))}for(d(x,function(a,b){var c=a.require;a.bindToController&&!_d(c)&&t(c)&&j(u[b].instance,ba(b,c,C,u))}),d(u,function(a){var b=a.instance;if(y(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(a){e(a)}if(y(b.$onInit))try{b.$onInit()}catch(a){e(a)}y(b.$doCheck)&&(s.$watch(function(){b.$doCheck()}),b.$doCheck()),y(b.$onDestroy)&&s.$on("$destroy",function(){b.$onDestroy()})}),n=0,o=i.length;n<o;n++)p=i[n],ta(p,p.isolateScope?q:f,C,D,p.require&&ba(p.directiveName,p.require,C,u),v);var M=f;for(z&&(z.template||null===z.templateUrl)&&(M=q),a&&a(M,g.childNodes,void 0,l),n=k.length-1;n>=0;n--)p=k[n],ta(p,p.isolateScope?q:f,C,D,p.require&&ba(p.directiveName,p.require,C,u),v);d(u,function(a){var b=a.instance;y(b.$postLink)&&b.$postLink()})}l=l||{};for(var o,p,q,s,u,v=-Number.MAX_VALUE,w=l.newScopeDirective,x=l.controllerDirectives,z=l.newIsolateScopeDirective,A=l.templateDirective,C=l.nonTlbTranscludeDirective,D=!1,E=!1,F=l.hasElementTranscludeDirective,G=c.$$element=Pd(b),H=h,I=f,J=!1,M=!1,N=0,O=a.length;N<O;N++){o=a[N];var P=o.$$start,T=o.$$end;if(P&&(G=Z(b,P,T)),q=void 0,v>o.priority)break;if(u=o.scope,u&&(o.templateUrl||(t(u)?(la("new/isolated scope",z||w,o,G),z=o):la("new/isolated scope",z,o,G)),w=w||o),p=o.name,!J&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var U,V=N+1;U=a[V++];)if(U.transclude&&!U.$$tlb||U.replace&&(U.templateUrl||U.template)){M=!0;break}J=!0}if(!o.templateUrl&&o.controller&&(u=o.controller,x=x||na(),la("'"+p+"' controller",x[p],o,G),x[p]=o),u=o.transclude)if(D=!0,o.$$tlb||(la("transclusion",C,o,G),C=o),"element"===u)F=!0,v=o.priority,q=G,G=c.$$element=Pd(S.$$createComment(p,c[p])),b=G[0],ra(g,Q(q),b),q[0].$$parentNode=q[0].parentNode,I=_(M,q,f,v,H&&H.name,{nonTlbTranscludeDirective:C});else{var X=na();if(q=Pd(Ca(b)).contents(),t(u)){q=[];var aa=na(),ea=na();d(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,aa[a]=b,X[b]=null,ea[b]=c}),d(G.contents(),function(a){var b=aa[ob(L(a))];b?(ea[b]=!0,X[b]=X[b]||[],X[b].push(a)):q.push(a)}),d(ea,function(a,b){if(!a)throw Xe("reqslot","Required transclusion slot `{0}` was not filled.",b)});for(var fa in X)X[fa]&&(X[fa]=_(M,X[fa],f))}G.empty(),I=_(M,q,f,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope}),I.$$slots=X}if(o.template)if(E=!0,la("template",A,o,G),A=o,u=y(o.template)?o.template(G,c):o.template,u=Ga(u),o.replace){if(H=o,q=ua(u)?[]:qb(oa(o.templateNamespace,be(u))),b=q[0],1!==q.length||b.nodeType!==ke)throw Xe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");ra(g,G,b);var ha={$attr:{}},ia=W(b,[],ha),ka=a.splice(N+1,a.length-(N+1));(z||w)&&da(ia,z,w),a=a.concat(ia).concat(ka),ga(c,ha),O=a.length}else G.html(u);if(o.templateUrl)E=!0,la("template",A,o,G),A=o,o.replace&&(H=o),n=ja(a.splice(N,a.length-N),G,c,g,D&&I,i,k,{controllerDirectives:x,newScopeDirective:w!==o&&w,newIsolateScopeDirective:z,templateDirective:A,nonTlbTranscludeDirective:C}),O=a.length;else if(o.compile)try{s=o.compile(G,c,I);var ma=o.$$originalDirective||o;y(s)?m(null,R(ma,s),P,T):s&&m(R(ma,s.pre),R(ma,s.post),P,T)}catch(a){e(a,Y(G))}o.terminal&&(n.terminal=!0,v=Math.max(v,o.priority))}return n.scope=w&&!0===w.scope,n.transcludeOnThisElement=D,n.templateOnThisElement=E,n.transclude=I,l.hasElementTranscludeDirective=F,n}function ba(a,b,c,e){var f;if(v(b)){var g=b.match(x),h=b.substring(g[0].length),i=g[1]||g[3],j="?"===g[2];if("^^"===i?c=c.parent():(f=e&&e[h],f=f&&f.instance),!f){var k="$"+h+"Controller";f=i?c.inheritedData(k):c.data(k)}if(!f&&!j)throw Xe("ctreq","Controller '{0}', required by directive '{1}', can't be found!",h,a)}else if(_d(b)){f=[];for(var l=0,m=b.length;l<m;l++)f[l]=ba(a,b[l],c,e)}else t(b)&&(f={},d(b,function(b,d){f[d]=ba(a,b,c,e)}));return f||null}function ca(a,b,c,d,e,f,g){var h=na();for(var j in d){var k=d[j],l={
$scope:k===g||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},m=k.controller;"@"===m&&(m=b[k.name]);var n=i(m,l,!0,k.controllerAs);h[k.name]=n,a.data("$"+k.name+"Controller",n.instance)}return h}function da(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=m(a[d],{$$isolateScope:b,$$newScope:c})}function ea(a,c,d,f,h,i,j){if(c===h)return null;var n=null;if(k.hasOwnProperty(c))for(var o,p=b.get(c+l),q=0,s=p.length;q<s;q++)try{if(o=p[q],(r(f)||f>o.priority)&&-1!==o.restrict.indexOf(d)){if(i&&(o=m(o,{$$start:i,$$end:j})),!o.$$bindings){var u=o.$$bindings=g(o,o.name);t(u.isolateScope)&&(o.$$isolateBindings=u.isolateScope)}a.push(o),n=o}}catch(a){e(a)}return n}function fa(a){if(k.hasOwnProperty(a))for(var c,d=b.get(a+l),e=0,f=d.length;e<f;e++)if(c=d[e],c.multiElement)return!0;return!1}function ga(a,b){var c=b.$attr,e=a.$attr;d(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),d(b,function(b,d){a.hasOwnProperty(d)||"$"===d.charAt(0)||(a[d]=b,"class"!==d&&"style"!==d&&(e[d]=c[d]))})}function ja(a,b,c,e,g,h,i,j){var k,l,n=[],o=b[0],p=a.shift(),q=m(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=y(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),f(r).then(function(f){var m,u,v,w;if(f=Ga(f),p.replace){if(v=ua(f)?[]:qb(oa(s,be(f))),m=v[0],1!==v.length||m.nodeType!==ke)throw Xe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);u={$attr:{}},ra(e,b,m);var x=W(m,[],u);t(p.scope)&&da(x,!0),a=x.concat(a),ga(c,u)}else m=o,b.html(f);for(a.unshift(q),k=aa(a,m,c,g,b,p,h,i,j),d(e,function(a,c){a===m&&(e[c]=b[0])}),l=U(b[0].childNodes,g);n.length;){var y=n.shift(),z=n.shift(),A=n.shift(),B=n.shift(),C=b[0];if(!y.$$destroyed){if(z!==o){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Ca(m)),ra(A,Pd(z),C),P(Pd(C),D)}w=k.transcludeOnThisElement?V(y,k.transclude,B):B,k(l,y,C,e,w)}}n=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(n?n.push(b,c,d,f):(k.transcludeOnThisElement&&(f=V(b,k.transclude,e)),k(l,b,c,d,f)))}}function ka(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function la(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Xe("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Y(d))}function ma(a,b){var d=c(b,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent(),c=!!b.length;return c&&S.$$addBindingClass(b),function(a,b){var e=b.parent();c||S.$$addBindingClass(e),S.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){b[0].nodeValue=a})}}})}function oa(b,c){switch(b=Kd(b||"html")){case"svg":case"math":var d=a.document.createElement("div");return d.innerHTML="<"+b+">"+c+"</"+b+">",d.childNodes[0].childNodes;default:return c}}function pa(a,b){if("srcdoc"===b)return A.HTML;var c=L(a);if("src"===b||"ngSrc"===b){if(-1===["img","video","audio","source","track"].indexOf(c))return A.RESOURCE_URL}else if("xlinkHref"===b||"form"===c&&"action"===b)return A.RESOURCE_URL}function qa(a,b,d,e,f){var g=pa(a,e);f=w[e]||f;var h=c(d,!0,g,f);if(h){if("multiple"===e&&"select"===L(a))throw Xe("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Y(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers=na());if(z.test(e))throw Xe("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==d&&(h=k&&c(k,!0,g,f),d=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!==b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function ra(b,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(b)for(e=0,f=b.length;e<f;e++)if(b[e]===g){b[e++]=d;for(var j=e,k=j+h-1,l=b.length;j<l;j++,k++)k<l?b[j]=b[k]:delete b[j];b.length-=h-1,b.context===g&&(b.context=d);break}i&&i.replaceChild(d,g);var m=a.document.createDocumentFragment();for(e=0;e<h;e++)m.appendChild(c[e]);for(Pd.hasData(g)&&(Pd.data(d,Pd.data(g)),Pd(g).off("$destroy")),Pd.cleanData(m.querySelectorAll("*")),e=1;e<h;e++)delete c[e];c[0]=d,c.length=1}function sa(a,b){return j(function(){return a.apply(null,arguments)},a,b)}function ta(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(a){e(a,Y(c))}}function va(a,b,e,f,g){function i(b,c,d){y(e.$onChanges)&&c!==d&&(wa||(a.$$postDigest(J),wa=[]),k||(k={},wa.push(j)),k[b]&&(d=k[b].previousValue),k[b]=new nb(d,c))}function j(){e.$onChanges(k),k=void 0}var k,l=[],m={};return d(f,function(d,f){var j,k,o,p,q,r=d.attrName,s=d.optional,t=d.mode;switch(t){case"@":s||Jd.call(b,r)||(e[f]=b[r]=void 0),b.$observe(r,function(a){if(v(a)||F(a)){var b=e[f];i(f,a,b),e[f]=a}}),b.$$observers[r].$$scope=a,j=b[r],v(j)?e[f]=c(j)(a):F(j)&&(e[f]=j),m[f]=new nb(Ye,e[f]);break;case"=":if(!Jd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]),p=k.literal?O:function(a,b){return a===b||a!==a&&b!==b},o=k.assign||function(){throw j=e[f]=k(a),Xe("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[r],r,g.name)},j=e[f]=k(a);var u=function(b){return p(b,e[f])||(p(b,j)?o(a,b=e[f]):e[f]=b),j=b};u.$stateful=!0,q=d.collection?a.$watchCollection(b[r],u):a.$watch(h(b[r],u),null,k.literal),l.push(q);break;case"<":if(!Jd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]);var w=e[f]=k(a);m[f]=new nb(Ye,e[f]),q=a.$watch(k,function(a,b){if(b===a){if(b===w)return;b=w}i(f,a,b),e[f]=a},k.literal),l.push(q);break;case"&":if((k=b.hasOwnProperty(r)?h(b[r]):n)===n&&s)break;e[f]=function(b){return k(a,b)}}}),{initialChanges:m,removeWatches:l.length&&function(){for(var a=0,b=l.length;a<b;++a)l[a]()}}}var wa,xa=/^\w/,ya=a.document.createElement("div"),za=E,Ba=G,Da=D;K.prototype={$normalize:ob,$addClass:function(a){a&&a.length>0&&H.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&H.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=pb(a,b);c&&c.length&&H.addClass(this.$$element,c);var d=pb(b,a);d&&d.length&&H.removeClass(this.$$element,d)},$set:function(a,b,c,f){var g,h=this.$$element[0],i=Ra(h,a),j=Sa(a),k=a;if(i?(this.$$element.prop(a,b),f=i):j&&(this[j]=b,k=j),this[a]=b,f?this.$attr[a]=f:(f=this.$attr[a])||(this.$attr[a]=f=ha(a,"-")),"a"===(g=L(this.$$element))&&("href"===a||"xlinkHref"===a)||"img"===g&&"src"===a)this[a]=b=I(b,"src"===a);else if("img"===g&&"srcset"===a&&s(b)){for(var l="",m=be(b),n=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,o=/\s/.test(m)?n:/(,)/,p=m.split(o),q=Math.floor(p.length/2),t=0;t<q;t++){var u=2*t;l+=I(be(p[u]),!0),l+=" "+be(p[u+1])}var v=be(p[2*t]).split(/\s/);l+=I(be(v[0]),!0),2===v.length&&(l+=" "+be(v[1])),this[a]=b=l}!1!==c&&(null===b||r(b)?this.$$element.removeAttr(f):xa.test(f)?this.$$element.attr(f,b):N(this.$$element[0],f,b));var w=this.$$observers;w&&d(w[k],function(a){try{a(b)}catch(a){e(a)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=na()),e=d[a]||(d[a]=[]);return e.push(b),p.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||r(c[a])||b(c[a])}),function(){M(e,b)}}};var Ea=c.startSymbol(),Fa=c.endSymbol(),Ga="{{"===Ea&&"}}"===Fa?o:function(a){return a.replace(/\{\{/g,Ea).replace(/}}/g,Fa)},Ha=/^ngAttr[A-Z]/,Ia=/^(.+)Start$/;return S.$$addBindingInfo=C?function(a,b){var c=a.data("$binding")||[];_d(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:n,S.$$addBindingClass=C?function(a){P(a,"ng-binding")}:n,S.$$addScopeInfo=C?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:n,S.$$addScopeClass=C?function(a,b){P(a,b?"ng-isolate-scope":"ng-scope")}:n,S.$$createComment=function(b,c){var d="";return C&&(d=" "+(b||"")+": ",c&&(d+=c+" ")),a.document.createComment(d)},S}]}function nb(a,b){this.previousValue=a,this.currentValue=b}function ob(a){return ta(a.replace(Ze,""))}function pb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g===e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function qb(a){a=Pd(a);var b=a.length;if(b<=1)return a;for(;b--;){a[b].nodeType===me&&Td.call(a,b,1)}return a}function rb(a,b){if(b&&v(b))return b;if(v(a)){var c=_e.exec(a);if(c)return c[3]}}function sb(){var a={},c=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){ka(b,"controller"),t(b)?j(a,b):a[b]=c},this.allowGlobals=function(){c=!0},this.$get=["$injector","$window",function(d,e){function f(a,c,d,e){if(!a||!t(a.$scope))throw b("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,c);a.$scope[c]=d}return function(b,g,h,i){var k,l,m,n;if(h=!0===h,i&&v(i)&&(n=i),v(b)){if(!(l=b.match(_e)))throw $e("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",b);m=l[1],n=n||l[3],b=a.hasOwnProperty(m)?a[m]:la(g.$scope,m,!0)||(c?la(e,m,!0):void 0),ja(b,m,!0)}if(h){var o=(_d(b)?b[b.length-1]:b).prototype;return k=Object.create(o||null),n&&f(g,n,k,m||b.name),j(function(){var a=d.invoke(b,k,g,m);return a!==k&&(t(a)||y(a))&&(k=a,n&&f(g,n,k,m||b.name)),k},{instance:k,identifier:n})}return k=d.instantiate(b,g,m),n&&f(g,n,k,m||b.name),k}}]}function tb(){this.$get=["$window",function(a){return Pd(a.document)}]}function ub(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function vb(a){return t(a)?x(a)?a.toISOString():T(a):a}function wb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return e(a,function(a,c){null===a||r(a)||(_d(a)?d(a,function(a){b.push(ba(c)+"="+ba(vb(a)))}):b.push(ba(c)+"="+ba(vb(a))))}),b.join("&")}}}function xb(){this.$get=function(){return function(a){function b(a,f,g){null===a||r(a)||(_d(a)?d(a,function(a,c){b(a,f+"["+(t(a)?c:"")+"]")}):t(a)&&!x(a)?e(a,function(a,c){b(a,f+(g?"":"[")+c+(g?"":"]"))}):c.push(ba(f)+"="+ba(vb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function yb(a,b){if(v(a)){var c=a.replace(ff,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(bf)||zb(c))&&(a=U(c))}}return a}function zb(a){var b=a.match(df);return b&&ef[b[0]].test(a)}function Ab(a){function b(a,b){a&&(e[a]=e[a]?e[a]+", "+b:b)}var c,e=na();return v(a)?d(a.split("\n"),function(a){c=a.indexOf(":"),b(Kd(be(a.substr(0,c))),be(a.substr(c+1)))}):t(a)&&d(a,function(a,c){b(Kd(c),be(a))}),e}function Bb(a){var b;return function(c){if(b||(b=Ab(a)),c){var d=b[Kd(c)];return void 0===d&&(d=null),d}return b}}function Cb(a,b,c,e){return y(e)?e(a,b,c):(d(e,function(d){a=d(a,b,c)}),a)}function Db(a){return 200<=a&&a<300}function Eb(){var a=this.defaults={transformResponse:[yb],transformRequest:[function(a){return!t(a)||C(a)||E(a)||D(a)?a:T(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:pa(cf),put:pa(cf),patch:pa(cf)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},c=!1;this.useApplyAsync=function(a){return s(a)?(c=!!a,this):c};var e=!0;this.useLegacyPromiseExtensions=function(a){return s(a)?(e=!!a,this):e};var f=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(g,h,i,k,l,m){function n(c){function f(a,b){for(var c=0,d=b.length;c<d;){var e=b[c++],f=b[c++];a=a.then(e,f)}return b.length=0,a}function g(a,b){var c,e={};return d(a,function(a,d){y(a)?null!=(c=a(b))&&(e[d]=c):e[d]=a}),e}function h(b){var c=b.headers,e=Cb(b.data,Bb(c),void 0,b.transformRequest);return r(e)&&d(c,function(a,b){"content-type"===Kd(b)&&delete c[b]}),r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials),o(b,e).then(i,i)}function i(a){var b=j({},a);return b.data=Cb(a.data,a.headers,a.status,k.transformResponse),Db(a.status)?b:l.reject(b)}if(!t(c))throw b("$http")("badreq","Http request configuration must be an object.  Received: {0}",c);if(!v(c.url))throw b("$http")("badreq","Http request configuration url must be a string.  Received: {0}",c.url);var k=j({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},c);k.headers=function(b){var c,d,e,f=a.headers,h=j({},b.headers);f=j({},f.common,f[Kd(b.method)]);a:for(c in f){d=Kd(c);for(e in h)if(Kd(e)===d)continue a;h[c]=f[c]}return g(h,pa(b))}(c),k.method=Ld(k.method),k.paramSerializer=v(k.paramSerializer)?m.get(k.paramSerializer):k.paramSerializer;var n=[],p=[],q=l.when(k);return d(u,function(a){(a.request||a.requestError)&&n.unshift(a.request,a.requestError),(a.response||a.responseError)&&p.push(a.response,a.responseError)}),q=f(q,n),q=q.then(h),q=f(q,p),e?(q.success=function(a){return ja(a,"fn"),q.then(function(b){a(b.data,b.status,b.headers,k)}),q},q.error=function(a){return ja(a,"fn"),q.then(null,function(b){a(b.data,b.status,b.headers,k)}),q}):(q.success=hf("success"),q.error=hf("error")),q}function o(b,e){function f(a){if(a){var b={};return d(a,function(a,d){b[d]=function(b){function d(){a(b)}c?k.$applyAsync(d):k.$$phase?d():k.$apply(d)}}),b}}function i(a,b,d,e){function f(){j(b,a,d,e)}u&&(Db(a)?u.put(z,[a,b,Ab(d),e]):u.remove(z)),c?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function j(a,c,d,e){c=c>=-1?c:0,(Db(c)?w.resolve:w.reject)({data:a,status:c,headers:Bb(d),config:b,statusText:e})}function m(a){j(a.data,a.status,pa(a.headers()),a.statusText)}function o(){var a=n.pendingRequests.indexOf(b);-1!==a&&n.pendingRequests.splice(a,1)}var u,v,w=l.defer(),x=w.promise,y=b.headers,z=p(b.url,b.paramSerializer(b.params));if(n.pendingRequests.push(b),x.then(o,o),!b.cache&&!a.cache||!1===b.cache||"GET"!==b.method&&"JSONP"!==b.method||(u=t(b.cache)?b.cache:t(a.cache)?a.cache:q),u&&(v=u.get(z),s(v)?G(v)?v.then(m,m):_d(v)?j(v[1],v[0],pa(v[2]),v[3]):j(v,200,{},"OK"):u.put(z,x)),r(v)){var A=Gc(b.url)?h()[b.xsrfCookieName||a.xsrfCookieName]:void 0;A&&(y[b.xsrfHeaderName||a.xsrfHeaderName]=A),g(b.method,z,e,i,y,b.timeout,b.withCredentials,b.responseType,f(b.eventHandlers),f(b.uploadEventHandlers))}return x}function p(a,b){return b.length>0&&(a+=(-1===a.indexOf("?")?"?":"&")+b),a}var q=i("$http");a.paramSerializer=v(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var u=[];return d(f,function(a){u.unshift(v(a)?m.get(a):m.invoke(a))}),n.pendingRequests=[],function(a){d(arguments,function(a){n[a]=function(b,c){return n(j({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){d(arguments,function(a){n[a]=function(b,c,d){return n(j({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),n.defaults=a,n}]}function Fb(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Gb(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,c,d){return Hb(a,d,a.defer,b,c[0])}]}function Hb(a,b,c,e,f){function g(a,b,c){a=a.replace("JSON_CALLBACK",b);var d=f.createElement("script"),g=null;return d.type="text/javascript",d.src=a,d.async=!0,g=function(a){te(d,"load",g),te(d,"error",g),f.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e.wasCalled(b)||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},se(d,"load",g),se(d,"error",g),f.body.appendChild(d),g}return function(f,h,i,j,k,l,m,o,p,q){function t(){w&&w(),x&&x.abort()}function u(b,d,e,f,g){s(z)&&c.cancel(z),w=x=null,b(d,e,f,g),a.$$completeOutstandingRequest(n)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"===Kd(f))var v=e.createCallback(h),w=g(h,v,function(a,b){var c=200===a&&e.getResponse(v);u(j,a,c,"",b),e.removeCallback(v)});else{var x=b(f,h);x.open(f,h,!0),d(k,function(a,b){s(a)&&x.setRequestHeader(b,a)}),x.onload=function(){var a=x.statusText||"",b="response"in x?x.response:x.responseText,c=1223===x.status?204:x.status;0===c&&(c=b?200:"file"===Fc(h).protocol?404:0),u(j,c,b,x.getAllResponseHeaders(),a)};var y=function(){u(j,-1,null,null,"")};if(x.onerror=y,x.onabort=y,x.ontimeout=y,d(p,function(a,b){x.addEventListener(b,a)}),d(q,function(a,b){x.upload.addEventListener(b,a)}),m&&(x.withCredentials=!0),o)try{x.responseType=o}catch(a){if("json"!==o)throw a}x.send(r(i)?null:i)}if(l>0)var z=c(t,l);else G(l)&&l.then(t)}}function Ib(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(o,b)}function h(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=T(a)}return a}function i(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function k(f,k,n,o){function q(a){try{return a=F(a),o&&!s(a)?a:h(a)}catch(a){d(jf.interr(f,a))}}if(!f.length||-1===f.indexOf(a)){var t;if(!k){t=p(g(f)),t.exp=f,t.expressions=[],t.$$watchDelegate=i}return t}o=!!o;for(var u,v,w,x=0,z=[],A=[],B=f.length,C=[],D=[];x<B;){if(-1===(u=f.indexOf(a,x))||-1===(v=f.indexOf(b,u+l))){x!==B&&C.push(g(f.substring(x)));break}x!==u&&C.push(g(f.substring(x,u))),w=f.substring(u+l,v),z.push(w),A.push(c(w,q)),x=v+m,D.push(C.length),C.push("")}if(n&&C.length>1&&jf.throwNoconcat(f),!k||z.length){var E=function(a){for(var b=0,c=z.length;b<c;b++){if(o&&r(a[b]))return;C[D[b]]=a[b]}return C.join("")},F=function(a){return n?e.getTrusted(n,a):e.valueOf(a)};return j(function(a){var b=0,c=z.length,e=new Array(c);try{for(;b<c;b++)e[b]=A[b](a);return E(e)}catch(a){d(jf.interr(f,a))}},{exp:f,expressions:z,$$watchDelegate:function(a,b){var c;return a.$watchGroup(A,function(d,e){var f=E(d);y(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),o=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function Jb(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,c,d,e){function f(f,h,i,j){function k(){l?f.apply(null,m):f(p)}var l=arguments.length>4,m=l?Q(arguments,4):[],n=b.setInterval,o=b.clearInterval,p=0,q=s(j)&&!j,r=(q?d:c).defer(),t=r.promise;return i=s(i)?i:0,t.$$intervalId=n(function(){q?e.defer(k):a.$evalAsync(k),r.notify(p++),i>0&&p>=i&&(r.resolve(p),o(t.$$intervalId),delete g[t.$$intervalId]),q||a.$apply()},h),g[t.$$intervalId]=r,t}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function Kb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=aa(b[c]);return b.join("/")}function Lb(a,b){var c=Fc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=l(c.port)||mf[c.protocol]||null}function Mb(a,b){if(of.test(a))throw nf("badpath",'Invalid url "{0}".',a);var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Fc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=$(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Nb(a,b){return 0===a.lastIndexOf(b,0)}function Ob(a,b){if(Nb(b,a))return b.substr(a.length)}function Pb(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function Qb(a){return a.replace(/(#.+)|#$/,"$1")}function Rb(a){return a.substr(0,Pb(a).lastIndexOf("/")+1)}function Sb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Tb(a,b,c){this.$$html5=!0,c=c||"",Lb(a,this),this.$$parse=function(a){var c=Ob(b,a);if(!v(c))throw nf("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Mb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=_(this.$$search),c=this.$$hash?"#"+aa(this.$$hash):"";this.$$url=Kb(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return s(f=Ob(a,d))?(g=f,h=c&&s(f=Ob(c,f))?b+(Ob("/",f)||f):a+g):s(f=Ob(b,d))?h=b+f:b===d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function Ub(a,b,c){Lb(a,this),this.$$parse=function(d){var e,f=Ob(a,d)||Ob(b,d);r(f)||"#"!==f.charAt(0)?this.$$html5?e=f:(e="",r(f)&&(a=d,this.replace())):(e=Ob(c,f),r(e)&&(e=f)),Mb(e,this),this.$$path=function(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return Nb(b,c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}(this.$$path,e,a),this.$$compose()},this.$$compose=function(){var b=_(this.$$search),d=this.$$hash?"#"+aa(this.$$hash):"";this.$$url=Kb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Pb(a)===Pb(b)&&(this.$$parse(b),!0)}}function Vb(a,b,c){this.$$html5=!0,Ub.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a===Pb(d)?f=d:(g=Ob(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=_(this.$$search),d=this.$$hash?"#"+aa(this.$$hash):"";this.$$url=Kb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function Wb(a){return function(){return this[a]}}function Xb(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Yb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return s(b)?(a=b,this):a},this.html5Mode=function(a){return F(a)?(b.enabled=a,this):t(a)?(F(a.enabled)&&(b.enabled=a.enabled),F(a.requireBase)&&(b.requireBase=a.requireBase),F(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(a){throw j.url(e),j.$$state=f,a}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw nf("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Sb(n)+(m||"/"),k=e.history?Tb:Vb}else l=Pb(n),k=Ub;var o=Rb(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var e=Pd(a.target);"a"!==L(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");t(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Fc(h.animVal).href),p.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!==d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Qb(j.absUrl())!==Qb(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){if(r(Ob(o,a)))return void(g.location.href=a);c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=Qb(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),c.$$phase||c.$digest()}),c.$watch(function(){var a=Qb(d.url()),b=Qb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Zb(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function e(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function f(a){var b=c.console||{},f=b[a]||b.log||n,g=!1;try{g=!!f.apply}catch(a){}return g?function(){var a=[];return d(arguments,function(b){a.push(e(b))}),f.apply(b,a)}:function(a,b){f(a,null==b?"":b)}}return{log:f("log"),info:f("info"),warn:f("warn"),error:f("error"),debug:function(){var c=f("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function $b(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw qf("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function _b(a){return a+""}function ac(a,b){if(a){if(a.constructor===a)throw qf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw qf("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw qf("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw qf("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function bc(a,b){if(a){if(a.constructor===a)throw qf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===Df||a===Ef||a===Ff)throw qf("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function cc(a,b){if(a&&(a===rf||a===sf||a===tf||a===uf||a===vf||a===wf||a===xf||a===yf||a===zf||a===Af||a===Bf||a===Cf))throw qf("isecaf","Assigning to a constructor or its prototype is disallowed! Expression: {0}",b)}function dc(a,b){return void 0!==a?a:b}function ec(a,b){return void 0===a?b:void 0===b?a:a+b}function fc(a,b){return!a(b).$stateful}function gc(a,b){var c,e,f;switch(a.type){case Kf.Program:c=!0,d(a.body,function(a){gc(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case Kf.Literal:a.constant=!0,a.toWatch=[];break;case Kf.UnaryExpression:gc(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case Kf.BinaryExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case Kf.LogicalExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case Kf.ConditionalExpression:gc(a.test,b),gc(a.alternate,b),gc(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case Kf.Identifier:a.constant=!1,a.toWatch=[a];break;case Kf.MemberExpression:gc(a.object,b),a.computed&&gc(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case Kf.CallExpression:f=!!a.filter&&fc(b,a.callee.name),c=f,e=[],d(a.arguments,function(a){gc(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=f?e:[a];break;case Kf.AssignmentExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case Kf.ArrayExpression:c=!0,e=[],d(a.elements,function(a){gc(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=e;break;case Kf.ObjectExpression:c=!0,e=[],d(a.properties,function(a){gc(a.value,b),c=c&&a.value.constant&&!a.computed,a.value.constant||e.push.apply(e,a.value.toWatch)}),a.constant=c,a.toWatch=e;break;case Kf.ThisExpression:case Kf.LocalsExpression:a.constant=!1,a.toWatch=[]}}function hc(a){if(1===a.length){var b=a[0].expression,c=b.toWatch;return 1!==c.length?c:c[0]!==b?c:void 0}}function ic(a){return a.type===Kf.Identifier||a.type===Kf.MemberExpression}function jc(a){if(1===a.body.length&&ic(a.body[0].expression))return{type:Kf.AssignmentExpression,left:a.body[0].expression,right:{type:Kf.NGValueParameter},operator:"="}}function kc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===Kf.Literal||a.body[0].expression.type===Kf.ArrayExpression||a.body[0].expression.type===Kf.ObjectExpression)}function lc(a){return a.constant}function mc(a,b){this.astBuilder=a,this.$filter=b}function nc(a,b){this.astBuilder=a,this.$filter=b}function oc(a){return"constructor"===a}function pc(a){return y(a.valueOf)?a.valueOf():Gf.call(a)}function qc(){var a,b,c=na(),e=na(),f={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(a,b){f[a]=b},this.setIdentifierFns=function(c,d){return a=c,b=d,this},this.$get=["$filter",function(g){function h(a,b,d){var f,h,j;switch(d=d||u,typeof a){case"string":a=a.trim(),j=a;var q=d?e:c;if(!(f=q[j])){":"===a.charAt(0)&&":"===a.charAt(1)&&(h=!0,a=a.substring(2));var s=d?t:r,v=new Jf(s);f=new Lf(v,g,s).parse(a),f.constant?f.$$watchDelegate=o:h?f.$$watchDelegate=f.literal?m:l:f.inputs&&(f.$$watchDelegate=k),d&&(f=i(f)),q[j]=f}return p(f,b);case"function":return p(a,b);default:return p(n,b)}}function i(a){function b(b,c,d,e){var f=u;u=!0;try{return a(b,c,d,e)}finally{u=f}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=i(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=i(a.inputs[c]);return b.inputs=a.inputs,b}function j(a,b){return null==a||null==b?a===b:("object"!=typeof a||"object"!=typeof(a=pc(a)))&&(a===b||a!==a&&b!==b)}function k(a,b,c,d,e){var f,g=d.inputs;if(1===g.length){var h=j;return g=g[0],a.$watch(function(a){var b=g(a);return j(b,h)||(f=d(a,void 0,void 0,[b]),h=b&&pc(b)),f},b,c,e)}for(var i=[],k=[],l=0,m=g.length;l<m;l++)i[l]=j,k[l]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var h=g[c](a);(b||(b=!j(h,i[c])))&&(k[c]=h,i[c]=h&&pc(h))}return b&&(f=d(a,void 0,void 0,k)),f},b,c,e)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,y(b)&&b.apply(this,arguments),s(a)&&d.$$postDigest(function(){s(f)&&e()})},c)}function m(a,b,c,e){function f(a){var b=!0;return d(a,function(a){s(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return e(a)},function(a,c,d){h=a,y(b)&&b.call(this,a,c,d),f(a)&&d.$$postDigest(function(){f(h)&&g()})},c)}function o(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==m&&c!==l,f=e?function(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return s(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==k?f.$$watchDelegate=a.$$watchDelegate:b.$stateful||(f.$$watchDelegate=k,d=!a.inputs,f.inputs=a.inputs?a.inputs:[a]),f}var q=de().noUnsafeEval,r={csp:q,expensiveChecks:!1,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},t={csp:q,expensiveChecks:!0,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},u=!1;return h.$$runningExpensiveChecks=function(){return u},h}]}function rc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return tc(function(b){a.$evalAsync(b)},b)}]}function sc(){this.$get=["$browser","$exceptionHandler",function(a,b){return tc(function(b){a.defer(b)},b)}]}function tc(a,c){function e(){this.$$state={status:0}}function f(a,b){return function(c){b.call(a,c)}}function g(a){var b,d,e;e=a.pending,a.processScheduled=!1,a.pending=void 0;for(var f=0,g=e.length;f<g;++f){d=e[f][0],b=e[f][a.status];try{y(b)?d.resolve(b(a.value)):1===a.status?d.resolve(a.value):d.reject(a.value)}catch(a){d.reject(a),c(a)}}}function h(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){g(b)}))}function i(){this.promise=new e}function k(a){var b=new i,c=0,e=_d(a)?[]:{};return d(a,function(a,d){c++,s(a).then(function(a){e.hasOwnProperty(d)||(e[d]=a,--c||b.resolve(e))},function(a){e.hasOwnProperty(d)||b.reject(a)})}),0===c&&b.resolve(e),b.promise}function l(a){var b=n();return d(a,function(a){s(a).then(b.resolve,b.reject)}),b.promise}var m=b("$q",TypeError),n=function(){var a=new i;return a.resolve=f(a,a.resolve),a.reject=f(a,a.reject),a.notify=f(a,a.notify),a};j(e.prototype,{then:function(a,b,c){if(r(a)&&r(b)&&r(c))return this;var d=new i;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&h(this.$$state),d.promise},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return q(b,!0,a)},function(b){return q(b,!1,a)},b)}}),j(i.prototype,{resolve:function(a){
this.promise.$$state.status||(a===this.promise?this.$$reject(m("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){function b(a){i||(i=!0,g.$$resolve(a))}function d(a){i||(i=!0,g.$$reject(a))}var e,g=this,i=!1;try{(t(a)||y(a))&&(e=a&&a.then),y(e)?(this.promise.$$state.status=-1,e.call(a,b,d,f(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,h(this.promise.$$state))}catch(a){d(a),c(a)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,h(this.promise.$$state)},notify:function(b){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0],a=d[f][3];try{e.notify(y(a)?a(b):b)}catch(a){c(a)}}})}});var o=function(a){var b=new i;return b.reject(a),b.promise},p=function(a,b){var c=new i;return b?c.resolve(a):c.reject(a),c.promise},q=function(a,b,c){var d=null;try{y(c)&&(d=c())}catch(a){return p(a,!1)}return G(d)?d.then(function(){return p(a,b)},function(a){return p(a,!1)}):p(a,b)},s=function(a,b,c,d){var e=new i;return e.resolve(a),e.promise.then(b,c,d)},u=s,v=function(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!y(a))throw m("norslvr","Expected resolverFn, got '{0}'",a);var d=new i;return a(b,c),d.promise};return v.prototype=e.prototype,v.defer=n,v.reject=o,v.when=s,v.resolve=u,v.all=k,v.race=l,v}function uc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function vc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=g(),this.$$ChildScope=null}return b.prototype=a,b}var e=10,f=b("$rootScope"),h=null,i=null;this.digestTtl=function(a){return arguments.length&&(e=a),e},this.$get=["$exceptionHandler","$parse","$browser",function(b,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Od&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function o(){this.$id=g(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(z.$$phase)throw f("inprog","{0} already in progress",z.$$phase);z.$$phase=a}function q(){z.$$phase=null}function s(a,b){do{a.$$watchersCount+=b}while(a=a.$parent)}function u(a,b,c){do{a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c]}while(a=a.$parent)}function v(){}function w(){for(;C.length;)try{C.shift()()}catch(a){b(a)}i=null}function x(){null===i&&(i=k.defer(function(){z.$apply(w)}))}o.prototype={constructor:o,$new:function(b,c){var d;return c=c||this,b?(d=new o,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!==this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,g=f.$$watchers,i={fn:b,last:v,get:e,exp:d||a,eq:!!c};return h=null,y(b)||(i.fn=n),g||(g=f.$$watchers=[]),g.unshift(i),s(this,1),function(){M(g,i)>=0&&s(f,-1),h=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(f,f,h)):b(f,e,h)}var e=new Array(a.length),f=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(f,f,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,d){f[0]=a,e[0]=c,b(f,a===c?f:e,d)}):(d(a,function(a,b){var d=h.$watch(a,function(a,d){f[b]=a,e[b]=d,i||(i=!0,h.$evalAsync(c))});g.push(d)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function d(a){f=a;var b,d,e,h;if(!r(f)){if(t(f))if(c(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var i=0;i<b;i++)h=g[i],e=f[i],h!==h&&e!==e||h===e||(l++,g[i]=e)}else{g!==o&&(g=o={},q=0,l++),b=0;for(d in f)Jd.call(f,d)&&(b++,e=f[d],h=g[d],d in g?h!==h&&e!==e||h===e||(l++,g[d]=e):(q++,g[d]=e,l++));if(q>b){l++;for(d in g)Jd.call(f,d)||(q--,delete g[d])}}else g!==f&&(g=f,l++);return l}}function e(){if(p?(p=!1,b(f,f,i)):b(f,h,i),k)if(t(f))if(c(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var d in f)Jd.call(f,d)&&(h[d]=f[d])}else h=f}d.$stateful=!0;var f,g,h,i=this,k=b.length>1,l=0,m=j(a,d),n=[],o={},p=!0,q=0;return this.$watch(m,e)},$digest:function(){var a,c,d,g,j,l,m,n,o,r,s,t,u=e,x=this,C=[];p("$digest"),k.$$checkUrlChange(),this===z&&null!==i&&(k.defer.cancel(i),w()),h=null;do{n=!1,r=x;for(var E=0;E<A.length;E++){try{t=A[E],t.scope.$eval(t.expression,t.locals)}catch(a){b(a)}h=null}A.length=0;a:do{if(l=r.$$watchers)for(m=l.length;m--;)try{if(a=l[m])if(j=a.get,(c=j(r))===(d=a.last)||(a.eq?O(c,d):$d(c)&&$d(d))){if(a===h){n=!1;break a}}else n=!0,h=a,a.last=a.eq?N(c,null):c,g=a.fn,g(c,d===v?c:d,r),u<5&&(s=4-u,C[s]||(C[s]=[]),C[s].push({msg:y(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:c,oldVal:d}))}catch(a){b(a)}if(!(o=r.$$watchersCount&&r.$$childHead||r!==x&&r.$$nextSibling))for(;r!==x&&!(o=r.$$nextSibling);)r=r.$parent}while(r=o);if((n||A.length)&&!u--)throw q(),f("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,C)}while(n||A.length);for(q();D<B.length;)try{B[D++]()}catch(a){b(a)}B.length=D=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===z&&k.$$applicationDestroyed(),s(this,-this.$$watchersCount);for(var b in this.$$listenerCount)u(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=n,this.$on=this.$watch=this.$watchGroup=function(){return n},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){z.$$phase||A.length||k.defer(function(){A.length&&z.$digest()}),A.push({scope:this,expression:j(a),locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{q()}}catch(a){b(a)}finally{try{z.$digest()}catch(a){throw b(a),a}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),a=j(a),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do{d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++}while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,u(e,1,a))}},$emit:function(a,c){var d,e,f,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=P([j],arguments,1);do{for(d=h.$$listeners[a]||g,j.currentScope=h,e=0,f=d.length;e<f;e++)if(d[e])try{d[e].apply(null,k)}catch(a){b(a)}else d.splice(e,1),e--,f--;if(i)return j.currentScope=null,j;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,c){var d=this,e=d,f=d,g={name:a,targetScope:d,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!d.$$listenerCount[a])return g;for(var h,i,j,k=P([g],arguments,1);e=f;){for(g.currentScope=e,h=e.$$listeners[a]||[],i=0,j=h.length;i<j;i++)if(h[i])try{h[i].apply(null,k)}catch(a){b(a)}else h.splice(i,1),i--,j--;if(!(f=e.$$listenerCount[a]&&e.$$childHead||e!==d&&e.$$nextSibling))for(;e!==d&&!(f=e.$$nextSibling);)e=e.$parent}return g.currentScope=null,g}};var z=new o,A=z.$$asyncQueue=[],B=z.$$postDigestQueue=[],C=z.$$applyAsyncQueue=[],D=0;return z}]}function wc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Fc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function xc(a){if("self"===a)return a;if(v(a)){if(a.indexOf("***")>-1)throw Mf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=ce(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(z(a))return new RegExp("^"+a.source+"$");throw Mf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yc(a){var b=[];return s(a)&&d(a,function(a){b.push(xc(a))}),b}function zc(){this.SCE_CONTEXTS=Nf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=yc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=yc(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Gc(b):!!a.exec(b.href)}function e(c){var e,f,g=Fc(c.toString()),h=!1;for(e=0,f=a.length;e<f;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;e<f;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw Mf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||r(b)||""===b)return b;if("string"!=typeof b)throw Mf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||r(b)||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===Nf.RESOURCE_URL){if(e(b))return b;throw Mf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===Nf.HTML)return j(b);throw Mf("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(a){throw Mf("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[Nf.HTML]=f(k),l[Nf.CSS]=f(k),l[Nf.URL]=f(k),l[Nf.JS]=f(k),l[Nf.RESOURCE_URL]=f(l[Nf.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function Ac(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&Od<8)throw Mf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=pa(Nf);e.isEnabled=function(){return a},e.trustAs=c.trustAs,e.getTrusted=c.getTrusted,e.valueOf=c.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=o),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:b(c,function(b){return e.getTrusted(a,b)})};var f=e.parseAs,g=e.getTrusted,h=e.trustAs;return d(Nf,function(a,b){var c=Kd(b);e[ta("parse_as_"+c)]=function(b){return f(a,b)},e[ta("get_trusted_"+c)]=function(b){return g(a,b)},e[ta("trust_as_"+c)]=function(b){return h(a,b)}}),e}]}function Bc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id),g=!f&&a.history&&a.history.pushState,h=l((/android (\d+)/.exec(Kd((a.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((a.navigator||{}).userAgent),j=b[0]||{},k=/^(Moz|webkit|ms)(?=[A-Z])/,m=j.body&&j.body.style,n=!1,o=!1;if(m){for(var p in m)if(d=k.exec(p)){c=d[0],c=c[0].toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in m&&"webkit"),n=!!("transition"in m||c+"Transition"in m),o=!!("animation"in m||c+"Animation"in m),!h||n&&o||(n=v(m.webkitTransition),o=v(m.webkitAnimation))}return{history:!(!g||h<4||i),hasEvent:function(a){if("input"===a&&Od<=11)return!1;if(r(e[a])){var b=j.createElement("div");e[a]="on"+a in b}return e[a]},csp:de(),vendorPrefix:c,transitions:n,animations:o,android:h}}]}function Cc(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,c,d,e){function f(g,h){function i(a){if(!h)throw Of("tpload","Failed to load template: {0} (HTTP status: {1} {2})",g,a.status,a.statusText);return d.reject(a)}f.totalPendingRequests++,v(g)&&!r(b.get(g))||(g=e.getTrustedResourceUrl(g));var k=c.defaults&&c.defaults.transformResponse;return _d(k)?k=k.filter(function(a){return a!==yb}):k===yb&&(k=null),c.get(g,j({cache:b,transformResponse:k},a)).finally(function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},i)}return f.totalPendingRequests=0,f}]}function Dc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var e={};return e.findBindings=function(a,b,c){var e=a.getElementsByClassName("ng-binding"),f=[];return d(e,function(a){var e=Yd.element(a).data("$binding");e&&d(e,function(d){if(c){new RegExp("(^|\\s)"+ce(b)+"(\\s|\\||$)").test(d)&&f.push(a)}else-1!==d.indexOf(b)&&f.push(a)})}),f},e.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},e.getLocation=function(){return c.url()},e.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},e.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},e}]}function Ec(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){y(f)||(i=h,h=f,f=n);var j,k=Q(arguments,3),l=s(i)&&!i,m=(l?d:c).defer(),o=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(a){m.reject(a),e(a)}finally{delete g[o.$$timeoutId]}l||a.$apply()},h),o.$$timeoutId=j,g[j]=m,o}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function Fc(a){var b=a;return Od&&(Pf.setAttribute("href",b),b=Pf.href),Pf.setAttribute("href",b),{href:Pf.href,protocol:Pf.protocol?Pf.protocol.replace(/:$/,""):"",host:Pf.host,search:Pf.search?Pf.search.replace(/^\?/,""):"",hash:Pf.hash?Pf.hash.replace(/^#/,""):"",hostname:Pf.hostname,port:Pf.port,pathname:"/"===Pf.pathname.charAt(0)?Pf.pathname:"/"+Pf.pathname}}function Gc(a){var b=v(a)?Fc(a):a;return b.protocol===Qf.protocol&&b.host===Qf.host}function Hc(){this.$get=p(a)}function Ic(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=a[0]||{},d={},e="";return function(){var a,f,g,h,i,j=c.cookie||"";if(j!==e)for(e=j,a=e.split("; "),d={},g=0;g<a.length;g++)f=a[g],(h=f.indexOf("="))>0&&(i=b(f.substring(0,h)),r(d[i])&&(d[i]=b(f.substring(h+1))));return d}}function Jc(){this.$get=Ic}function Kc(a){function b(e,f){if(t(e)){var g={};return d(e,function(a,c){g[c]=b(c,a)}),g}return a.factory(e+c,f)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Pc),b("date",cd),b("filter",Lc),b("json",dd),b("limitTo",ed),b("lowercase",Xf),b("number",Qc),b("orderBy",gd),b("uppercase",Yf)}function Lc(){return function(a,d,e,f){if(!c(a)){if(null==a)return a;throw b("filter")("notarray","Expected array but received: {0}",a)}f=f||"$";var g,h,i=Oc(d);switch(i){case"function":g=d;break;case"boolean":case"null":case"number":case"string":h=!0;case"object":g=Mc(d,e,f,h);break;default:return a}return Array.prototype.filter.call(a,g)}}function Mc(a,b,c,d){var e=t(a)&&c in a;return!0===b?b=O:y(b)||(b=function(a,b){return!r(a)&&(null===a||null===b?a===b:!(t(b)||t(a)&&!q(a))&&(a=Kd(""+a),b=Kd(""+b),-1!==a.indexOf(b)))}),function(f){return e&&!t(f)?Nc(f,a[c],b,c,!1):Nc(f,a,b,c,d)}}function Nc(a,b,c,d,e,f){var g=Oc(a),h=Oc(b);if("string"===h&&"!"===b.charAt(0))return!Nc(a,b.substring(1),c,d,e);if(_d(a))return a.some(function(a){return Nc(a,b,c,d,e)});switch(g){case"object":var i;if(e){for(i in a)if("$"!==i.charAt(0)&&Nc(a[i],b,c,d,!0))return!0;return!f&&Nc(a,b,c,d,!1)}if("object"===h){for(i in b){var j=b[i];if(!y(j)&&!r(j)){var k=i===d;if(!Nc(k?a:a[i],j,c,d,k,k))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Oc(a){return null===a?"null":typeof a}function Pc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return r(c)&&(c=b.CURRENCY_SYM),r(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Tc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Qc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Tc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Rc(a){var b,c,d,e,f,g=0;for((c=a.indexOf(Sf))>-1&&(a=a.replace(Sf,"")),(d=a.search(/e/i))>0?(c<0&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):c<0&&(c=a.length),d=0;a.charAt(d)===Tf;d++);if(d===(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)===Tf;)f--;for(c-=d,b=[],e=0;d<=f;d++,e++)b[e]=+a.charAt(d)}return c>Rf&&(b=b.splice(0,Rf-1),g=c-1,c=1),{d:b,e:g,i:c}}function Sc(a,b,c,d){var e=a.d,f=e.length-a.i;b=r(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0){e.splice(Math.max(a.i,g));for(var i=g;i<e.length;i++)e[i]=0}else{f=Math.max(0,f),a.i=1,e.length=Math.max(1,g=b+1),e[0]=0;for(var j=1;j<g;j++)e[j]=0}if(h>=5)if(g-1<0){for(var k=0;k>g;k--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[g-1]++;for(;f<Math.max(0,b);f++)e.push(0);var l=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);l&&(e.unshift(l),a.i++)}function Tc(a,b,c,d,e){if(!v(a)&&!w(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="∞";else{f=Rc(i),Sc(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);l<0;)k.unshift(0),l++;l>0?n=k.splice(l,k.length):(n=k,k=[0]);var o=[];for(k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return a<0&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function Uc(a,b,c,d){var e="";for((a<0||d&&a<=0)&&(d?a=1-a:(a=-a,e="-")),a=""+a;a.length<b;)a=Tf+a;return c&&(a=a.substr(a.length-b)),e+a}function Vc(a,b,c,d,e){return c=c||0,function(f){var g=f["get"+a]();return(c>0||g>-c)&&(g+=c),0===g&&-12===c&&(g=12),Uc(g,b,d,e)}}function Wc(a,b,c){return function(d,e){var f=d["get"+a]();return e[Ld((c?"STANDALONE":"")+(b?"SHORT":"")+a)][f]}}function Xc(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Uc(Math[d>0?"floor":"ceil"](d/60),2)+Uc(Math.abs(d%60),2)}function Yc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(b<=4?5:12)-b)}function Zc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function $c(a){return function(b){var c=Yc(b.getFullYear()),d=Zc(b),e=+d-+c;return Uc(1+Math.round(e/6048e5),a)}}function _c(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function ad(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function bd(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function cd(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=l(b[9]+b[10]),f=l(b[9]+b[11])),g.call(d,l(b[1]),l(b[2])-1,l(b[3]));var i=l(b[4]||0)-e,j=l(b[5]||0)-f,k=l(b[6]||0),m=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,m),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g,h,i="",j=[];if(e=e||"mediumDate",e=a.DATETIME_FORMATS[e]||e,v(c)&&(c=Wf.test(c)?l(c):b(c)),w(c)&&(c=new Date(c)),!x(c)||!isFinite(c.getTime()))return c;for(;e;)h=Vf.exec(e),h?(j=P(j,h,1),e=j.pop()):(j.push(e),e=null);var k=c.getTimezoneOffset();return f&&(k=V(f,k),c=X(c,f,!0)),d(j,function(b){g=Uf[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function dd(){return function(a,b){return r(b)&&(b=2),T(a,b)}}function ed(){return function(a,b,d){return b=Math.abs(Number(b))===1/0?Number(b):l(b),$d(b)?a:(w(a)&&(a=a.toString()),c(a)?(d=!d||isNaN(d)?0:l(d),d=d<0?Math.max(0,a.length+d):d,b>=0?fd(a,d,d+b):0===d?fd(a,b,a.length):fd(a,Math.max(0,d+b),d)):a)}}function fd(a,b,c){return v(a)?a.slice(b,c):Sd.call(a,b,c)}function gd(a){function d(b){return b.map(function(b){var c=1,d=o;if(y(b))d=b;else if(v(b)&&("+"!==b.charAt(0)&&"-"!==b.charAt(0)||(c="-"===b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b),d.constant))){var e=d();d=function(a){return a[e]}}return{get:d,descending:c}})}function e(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function f(a){return y(a.valueOf)&&(a=a.valueOf(),e(a))?a:(q(a)&&(a=a.toString(),e(a)),a)}function g(a,b){var c=typeof a;return null===a?(c="string",a="null"):"object"===c&&(a=f(a)),{value:a,type:c,index:b}}function h(a,b){var c=0,d=a.type,e=b.type;if(d===e){var f=a.value,g=b.value;"string"===d?(f=f.toLowerCase(),g=g.toLowerCase()):"object"===d&&(t(f)&&(f=a.index),t(g)&&(g=b.index)),f!==g&&(c=f<g?-1:1)}else c=d<e?-1:1;return c}return function(a,e,f,i){function j(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:l.map(function(c){return g(c.get(a),b)})}}function k(a,b){for(var c=0,d=l.length;c<d;c++){var e=n(a.predicateValues[c],b.predicateValues[c]);if(e)return e*l[c].descending*m}return n(a.tieBreaker,b.tieBreaker)*m}if(null==a)return a;if(!c(a))throw b("orderBy")("notarray","Expected array but received: {0}",a);_d(e)||(e=[e]),0===e.length&&(e=["+"]);var l=d(e),m=f?-1:1,n=y(i)?i:h,o=Array.prototype.map.call(a,j);return o.sort(k),a=o.map(function(a){return a.value})}}function hd(a){return y(a)&&(a={link:a}),a.restrict=a.restrict||"AC",p(a)}function id(a,b){a.$name=b}function jd(a,b,c,e,f){var g=this,h=[];g.$error={},g.$$success={},g.$pending=void 0,g.$name=f(b.name||b.ngForm||"")(c),g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,g.$submitted=!1,g.$$parentForm=_f,g.$rollbackViewValue=function(){d(h,function(a){a.$rollbackViewValue()})},g.$commitViewValue=function(){d(h,function(a){a.$commitViewValue()})},g.$addControl=function(a){ka(a.$name,"input"),h.push(a),a.$name&&(g[a.$name]=a),a.$$parentForm=g},g.$$renameControl=function(a,b){var c=a.$name;g[c]===a&&delete g[c],g[b]=a,a.$name=b},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],d(g.$pending,function(b,c){g.$setValidity(c,null,a)}),d(g.$error,function(b,c){g.$setValidity(c,null,a)}),d(g.$$success,function(b,c){g.$setValidity(c,null,a)}),M(h,a),a.$$parentForm=_f},Ed({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){-1===d.indexOf(c)&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(M(d,c),0===d.length&&delete a[b])},$animate:e}),g.$setDirty=function(){e.removeClass(a,Lg),e.addClass(a,Mg),g.$dirty=!0,g.$pristine=!1,g.$$parentForm.$setDirty()},g.$setPristine=function(){e.setClass(a,Lg,Mg+" "+ag),g.$dirty=!1,g.$pristine=!0,g.$submitted=!1,d(h,function(a){a.$setPristine()})},g.$setUntouched=function(){d(h,function(a){a.$setUntouched()})},g.$setSubmitted=function(){e.addClass(a,ag),g.$submitted=!0,g.$$parentForm.$setSubmitted()}}function kd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function ld(a,b,c,d,e,f){md(a,b,c,d,e,f),kd(d)}function md(a,b,c,d,e,f){var g=Kd(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,j()})}var i,j=function(a){if(i&&(f.defer.cancel(i),i=null),!h){var e=b.val(),j=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=be(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,j)}};if(e.hasEvent("input"))b.on("input",j);else{var k=function(a,b,c){i||(i=f.defer(function(){i=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&b<19||37<=b&&b<=40||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",j),og[g]&&d.$$hasNativeValidators&&g===c.type&&b.on(ng,function(a){if(!i){var b=this[Id],c=b.badInput,d=b.typeMismatch;i=f.defer(function(){i=null,b.badInput===c&&b.typeMismatch===d||j(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function nd(a,b){if(x(a))return a;if(v(a)){kg.lastIndex=0;var c=kg.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Yc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function od(a,b){return function(c,e){var f,g;if(x(c))return c;if(v(c)){if('"'===c.charAt(0)&&'"'===c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),eg.test(c))return new Date(c);if(a.lastIndex=0,f=a.exec(c))return f.shift(),g=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},d(f,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function pd(a,b,c,d){return function(e,f,g,h,i,j,k){function l(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function m(a){return s(a)&&!x(a)?c(a)||void 0:a}qd(e,f,g,h),md(e,f,g,h,i,j);var n,o=h&&h.$options&&h.$options.timezone;if(h.$$parserName=a,h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a)){var d=c(a,n);return o&&(d=X(d,o)),d}}),h.$formatters.push(function(a){if(a&&!x(a))throw Og("datefmt","Expected `{0}` to be a date",a);return l(a)?(n=a,n&&o&&(n=X(n,o,!0)),k("date")(a,d,o)):(n=null,"")}),s(g.min)||g.ngMin){var p;h.$validators.min=function(a){return!l(a)||r(p)||c(a)>=p},g.$observe("min",function(a){p=m(a),h.$validate()})}if(s(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!l(a)||r(q)||c(a)<=q},g.$observe("max",function(a){q=m(a),h.$validate()})}}}function qd(a,b,c,d){var e=b[0];(d.$$hasNativeValidators=t(e.validity))&&d.$parsers.push(function(a){var c=b.prop(Id)||{};return c.badInput||c.typeMismatch?void 0:a})}function rd(a){a.$$parserName="number",a.$parsers.push(function(b){return a.$isEmpty(b)?null:hg.test(b)?parseFloat(b):void 0}),a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!w(b))throw Og("numfmt","Expected `{0}` to be a number",b);b=b.toString()}return b})}function sd(a){return s(a)&&!w(a)&&(a=parseFloat(a)),$d(a)?void 0:a}function td(a){return(0|a)===a}function ud(a){var b=a.toString(),c=b.indexOf(".");if(-1===c){if(-1<a&&a<1){var d=/e-(\d+)$/.exec(b);if(d)return Number(d[1])}return 0}return b.length-c-1}function vd(a,b,c){var d=Number(a);if(!td(d)||!td(b)||!td(c)){var e=Math.max(ud(d),ud(b),ud(c)),f=Math.pow(10,e);d*=f,b*=f,c*=f}return(d-b)%c==0}function wd(a,b,c,d,e,f){qd(a,b,c,d),md(a,b,c,d,e,f),rd(d);var g,h;(s(c.min)||c.ngMin)&&(d.$validators.min=function(a){return d.$isEmpty(a)||r(g)||a>=g},c.$observe("min",function(a){g=sd(a),d.$validate()})),(s(c.max)||c.ngMax)&&(d.$validators.max=function(a){return d.$isEmpty(a)||r(h)||a<=h},c.$observe("max",function(a){h=sd(a),d.$validate()}))}function xd(a,b,c,d,e,f){function g(a,d){b.attr(a,c[a]),c.$observe(a,d)}function h(a){if(l=sd(a),!$d(d.$modelValue))if(k){var c=b.val();l>c&&(c=l,b.val(c)),d.$setViewValue(c)}else d.$validate()}function i(a){if(m=sd(a),!$d(d.$modelValue))if(k){var c=b.val();m<c&&(b.val(m),c=m<l?l:m),d.$setViewValue(c)}else d.$validate()}function j(a){n=sd(a),$d(d.$modelValue)||(k&&d.$viewValue!==b.val()?d.$setViewValue(b.val()):d.$validate())}qd(a,b,c,d),rd(d),md(a,b,c,d,e,f);var k=d.$$hasNativeValidators&&"range"===b[0].type,l=k?0:void 0,m=k?100:void 0,n=k?1:void 0,o=b[0].validity,p=s(c.min),q=s(c.max),t=s(c.step),u=d.$render;d.$render=k&&s(o.rangeUnderflow)&&s(o.rangeOverflow)?function(){u(),d.$setViewValue(b.val())}:u,p&&(d.$validators.min=k?function(){return!0}:function(a,b){return d.$isEmpty(b)||r(l)||b>=l},g("min",h)),q&&(d.$validators.max=k?function(){return!0}:function(a,b){return d.$isEmpty(b)||r(m)||b<=m},g("max",i)),t&&(d.$validators.step=k?function(){return!o.stepMismatch}:function(a,b){return d.$isEmpty(b)||r(n)||vd(b,l||0,n)},g("step",j))}function yd(a,b,c,d,e,f){md(a,b,c,d,e,f),kd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||fg.test(c)}}function zd(a,b,c,d,e,f){md(a,b,c,d,e,f),kd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||gg.test(c)}}function Ad(a,b,c,d){r(c.name)&&b.attr("name",g());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a===d.$viewValue},c.$observe("value",d.$render)}function Bd(a,b,c,d,e){var f;if(s(d)){if(f=a(d),!f.constant)throw Og("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function Cd(a,b,c,d,e,f,g,h){var i=Bd(h,a,"ngTrueValue",c.ngTrueValue,!0),j=Bd(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return!1===a},d.$formatters.push(function(a){return O(a,i)}),d.$parsers.push(function(a){return a?i:j})}function Dd(a,b){return a="ngClass"+a,["$animate",function(c){function e(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e===b[f])continue a;c.push(e)}return c}function f(a){var b=[];return _d(a)?(d(a,function(a){b=b.concat(f(a))}),b):v(a)?a.split(" "):t(a)?(d(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||na(),e=[];return d(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&e.push(a))}),h.data("$classCounts",c),e.join(" ")}function m(a,b){var d=e(b,a),f=e(a,b);d=l(d,1),f=l(f,-1),d&&d.length&&c.addClass(h,d),f&&f.length&&c.removeClass(h,f)}function n(a){if(!0===b||(1&g.$index)===b){var c=f(a||[]);if(o){if(!O(a,o)){var d=f(o);m(d,c)}}else j(c)}o=_d(a)?a.map(function(a){return pa(a)}):pa(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var e=1&c;if(e!==(1&d)){var h=f(g.$eval(i[a]));e===b?j(h):k(h)}})}}}]}function Ed(a){function b(a,b,h){r(b)?c("$pending",a,h):d("$pending",a,h),F(b)?b?(k(g.$error,a,h),j(g.$$success,a,h)):(j(g.$error,a,h),k(g.$$success,a,h)):(k(g.$error,a,h),k(g.$$success,a,h)),g.$pending?(e(Ng,!0),g.$valid=g.$invalid=void 0,f("",null)):(e(Ng,!1),g.$valid=Fd(g.$error),g.$invalid=!g.$valid,f("",g.$valid));var i;i=g.$pending&&g.$pending[a]?void 0:!g.$error[a]&&(!!g.$$success[a]||null),f(a,i),g.$$parentForm.$setValidity(a,i,g)}function c(a,b,c){g[a]||(g[a]={}),j(g[a],b,c)}function d(a,b,c){g[a]&&k(g[a],b,c),Fd(g[a])&&(g[a]=void 0)}function e(a,b){b&&!i[a]?(l.addClass(h,a),i[a]=!0):!b&&i[a]&&(l.removeClass(h,a),i[a]=!1)}function f(a,b){a=a?"-"+ha(a,"-"):"",e(Jg+a,!0===b),e(Kg+a,!1===b)}var g=a.ctrl,h=a.$element,i={},j=a.set,k=a.unset,l=a.$animate;i[Kg]=!(i[Jg]=h.hasClass(Jg)),g.$setValidity=b}function Fd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Gd(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}var Hd=/^\/(.+)\/([a-z]*)$/,Id="validity",Jd=Object.prototype.hasOwnProperty,Kd=function(a){return v(a)?a.toLowerCase():a},Ld=function(a){
return v(a)?a.toUpperCase():a},Md=function(a){return v(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Nd=function(a){return v(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(Kd=Md,Ld=Nd);var Od,Pd,Qd,Rd,Sd=[].slice,Td=[].splice,Ud=[].push,Vd=Object.prototype.toString,Wd=Object.getPrototypeOf,Xd=b("ng"),Yd=a.angular||(a.angular={}),Zd=0;Od=a.document.documentMode;var $d=Number.isNaN||function(a){return a!==a};n.$inject=[],o.$inject=[];var _d=Array.isArray,ae=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,be=function(a){return v(a)?a.trim():a},ce=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},de=function(){if(!s(de.rules)){var b=a.document.querySelector("[ng-csp]")||a.document.querySelector("[data-ng-csp]");if(b){var c=b.getAttribute("ng-csp")||b.getAttribute("data-ng-csp");de.rules={noUnsafeEval:!c||-1!==c.indexOf("no-unsafe-eval"),noInlineStyle:!c||-1!==c.indexOf("no-inline-style")}}else de.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(a){return!0}}(),noInlineStyle:!1}}return de.rules},ee=function(){if(s(ee.name_))return ee.name_;var b,c,d,e,f=ge.length;for(c=0;c<f;++c)if(d=ge[c],b=a.document.querySelector("["+d.replace(":","\\:")+"jq]")){e=b.getAttribute(d+"jq");break}return ee.name_=e},fe=/:/g,ge=["ng-","data-ng-","ng:","x-ng-"],he=function(a){if(!a.currentScript)return!0;var b=a.currentScript.getAttribute("src"),c=a.createElement("a");c.href=b;var d=c.protocol;if(a.location.protocol===d)return!0;switch(d){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}(a.document),ie=/[A-Z]/g,je=!1,ke=1,le=3,me=8,ne=9,oe=11,pe={full:"1.5.9",major:1,minor:5,dot:9,codeName:"timeturning-lockdown"};Ba.expando="ng339";var qe=Ba.cache={},re=1,se=function(a,b,c){a.addEventListener(b,c,!1)},te=function(a,b,c){a.removeEventListener(b,c,!1)};Ba._data=function(a){return this.cache[a[this.expando]]||{}};var ue=/([:\-_]+(.))/g,ve=/^moz([A-Z])/,we={mouseleave:"mouseout",mouseenter:"mouseover"},xe=b("jqLite"),ye=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ze=/<|&#?\w+;/,Ae=/<([\w:-]+)/,Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ce={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ce.optgroup=Ce.option,Ce.tbody=Ce.tfoot=Ce.colgroup=Ce.caption=Ce.thead,Ce.th=Ce.td;var De=a.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Ee=Ba.prototype={ready:function(b){function c(){d||(d=!0,b())}var d=!1;"complete"===a.document.readyState?a.setTimeout(c):(this.on("DOMContentLoaded",c),Ba(a).on("load",c))},toString:function(){var a=[];return d(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Pd(a>=0?this[a]:this[this.length+a])},length:0,push:Ud,sort:[].sort,splice:[].splice},Fe={};d("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Fe[Kd(a)]=a});var Ge={};d("input,select,option,textarea,button,form,details".split(","),function(a){Ge[a]=!0});var He={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};d({data:Ha,removeData:Fa,hasData:wa,cleanData:xa},function(a,b){Ba[b]=a}),d({data:Ha,inheritedData:Na,scope:function(a){return Pd.data(a,"$scope")||Na(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Pd.data(a,"$isolateScope")||Pd.data(a,"$isolateScopeNoTemplate")},controller:Ma,injector:function(a){return Na(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ia,css:function(a,b,c){if(b=ta(b),!s(c))return a.style[b];a.style[b]=c},attr:function(a,b,c){var d=a.nodeType;if(d!==le&&2!==d&&d!==me){var e=Kd(b);if(Fe[e]){if(!s(c))return a[b]||(a.attributes.getNamedItem(b)||n).specified?e:void 0;c?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(c))a.setAttribute(b,c);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?void 0:f}}},prop:function(a,b,c){if(!s(c))return a[b];a[b]=c},text:function(){function a(a,b){if(r(b)){var c=a.nodeType;return c===ke||c===le?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===L(a)){var c=[];return d(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(r(b))return a.innerHTML;Da(a,!0),a.innerHTML=b},empty:Oa},function(a,b){Ba.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Oa&&r(2===a.length&&a!==Ia&&a!==Ma?b:c)){if(t(b)){for(d=0;d<f;d++)if(a===Ha)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=r(g)?Math.min(f,1):f,i=0;i<h;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;d<f;d++)a(this[d],b,c);return this}}),d({removeData:Fa,on:function(a,b,c,d){if(s(d))throw xe("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(va(a)){var e=Ga(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Ta(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length,j=function(b,d,e){var h=f[b];h||(h=f[b]=[],h.specialHandlerWrapper=d,"$destroy"===b||e||se(a,b,g)),h.push(c)};i--;)b=h[i],we[b]?(j(we[b],Va),j(b,void 0,!0)):j(b)}},off:Ea,one:function(a,b,c){a=Pd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,e=a.parentNode;Da(a),d(new Ba(b),function(b){c?e.insertBefore(b,c.nextSibling):e.replaceChild(b,a),c=b})},children:function(a){var b=[];return d(a.childNodes,function(a){a.nodeType===ke&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===ke||c===oe){b=new Ba(b);for(var d=0,e=b.length;d<e;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===ke){var c=a.firstChild;d(new Ba(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Aa(a,Pd(b).eq(0).clone()[0])},remove:Pa,detach:function(a){Pa(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new Ba(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Ka,removeClass:Ja,toggleClass:function(a,b,c){b&&d(b.split(" "),function(b){var d=c;r(d)&&(d=!Ia(a,b)),(d?Ka:Ja)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==oe?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ca,triggerHandler:function(a,b,c){var e,f,g,h=b.type||b,i=Ga(a),k=i&&i.events,l=k&&k[h];l&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:n,type:h,target:a},b.type&&(e=j(e,b)),f=pa(l),g=c?[e].concat(c):[e],d(f,function(b){e.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Ba.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;f<g;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=Pd(e))):La(e,a(this[f],b,c,d));return s(e)?e:this},Ba.prototype.bind=Ba.prototype.on,Ba.prototype.unbind=Ba.prototype.off}),Ya.prototype={put:function(a,b){this[Xa(a,this.nextUid)]=b},get:function(a){return this[Xa(a,this.nextUid)]},remove:function(a){var b=this[a=Xa(a,this.nextUid)];return delete this[a],b}};var Ie=[function(){this.$get=[function(){return Ya}]}],Je=/^([^\(]+?)=>/,Ke=/^[^\(]*\(\s*([^\)]*)\)/m,Le=/,/,Me=/^\s*(_?)(\S+?)\1\s*$/,Ne=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Oe=b("$injector");bb.$$annotate=ab;var Pe=b("$animate"),Qe=1,Re=function(){this.$get=n},Se=function(){var a=new Ya,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,e){function f(a,b,c){var e=!1;return b&&(b=v(b)?b.split(" "):_d(b)?b:[],d(b,function(b){b&&(e=!0,a[b]=c)})),e}function g(){d(b,function(b){var c=a.get(b);if(c){var e=fb(b.attr("class")),f="",g="";d(c,function(a,b){a!==!!e[b]&&(a?f+=(f.length?" ":"")+b:g+=(g.length?" ":"")+b)}),d(b,function(a){f&&Ka(a,f),g&&Ja(a,g)}),a.remove(b)}}),b.length=0}function h(c,d,h){var i=a.get(c)||{},j=f(i,d,!0),k=f(i,h,!1);(j||k)&&(a.put(c,i),b.push(c),1===b.length&&e.$$postDigest(g))}return{enabled:n,on:n,off:n,pin:n,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},Te=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw Pe("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){if(new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)").test(this.$$classNameFilter.toString()))throw Pe("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=eb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Pd(d),e=e&&Pd(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",gb(f))},move:function(c,d,e,f){return d=d&&Pd(d),e=e&&Pd(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",gb(f))},leave:function(b,c){return a.push(b,"leave",gb(c),function(){b.remove()})},addClass:function(b,c,d){return d=gb(d),d.addClass=db(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=gb(d),d.removeClass=db(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=gb(e),e.addClass=db(e.addClass,c),e.removeClass=db(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=gb(f),f.from=f.from?j(f.from,c):c,f.to=f.to?j(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=db(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Ue=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},Ve=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,e,f){function g(a){this.setHost(a);var b=c(),d=function(a){f(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){var c=e[0];c&&c.hidden?d(a):b(a)},this._state=0}return g.chain=function(a,b){function c(){if(d===a.length)return void b(!0);a[d](function(a){if(!1===a)return void b(!1);d++,c()})}var d=0;c()},g.all=function(a,b){function c(c){f=f&&c,++e===a.length&&b(f)}var e=0,f=!0;d(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:n,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(d(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},g}]},We=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=N(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},Xe=b("$compile"),Ye=new lb;mb.$inject=["$provide","$$sanitizeUriProvider"],nb.prototype.isFirstChange=function(){return this.previousValue===Ye};var Ze=/^((?:x|data)[:\-_])/i,$e=b("$controller"),_e=/^(\S+)(\s+as\s+([\w$]+))?$/,af=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Pd&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},bf="application/json",cf={"Content-Type":bf+";charset=utf-8"},df=/^\[|^\{(?!\{)/,ef={"[":/]$/,"{":/}$/},ff=/^\)\]\}',?\n/,gf=b("$http"),hf=function(a){return function(){throw gf("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},jf=Yd.$interpolateMinErr=b("$interpolate");jf.throwNoconcat=function(a){throw jf("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},jf.interr=function(a,b){return jf("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var kf=function(){this.$get=["$window",function(a){function b(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}var c=a.angular.callbacks,d={};return{createCallback:function(a){var e="_"+(c.$$counter++).toString(36),f="angular.callbacks."+e,g=b(e);return d[f]=c[e]=g,f},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){var b=d[a];delete c[b.id],delete d[a]}}}]},lf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,mf={http:80,https:443,ftp:21},nf=b("$location"),of=/^\s*[\\/]{2,}/,pf={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Wb("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=lf.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Wb("$$protocol"),host:Wb("$$host"),port:Wb("$$port"),path:Xb("$$path",function(a){return a=null!==a?a.toString():"","/"===a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(v(a)||w(a))a=a.toString(),this.$$search=$(a);else{if(!t(a))throw nf("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=N(a,{}),d(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Xb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};d([Vb,Ub,Tb],function(a){a.prototype=Object.create(pf),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Tb||!this.$$html5)throw nf("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=r(b)?null:b,this}});var qf=b("$parse"),rf=[].constructor,sf=(!1).constructor,tf=Function.constructor,uf=(0).constructor,vf={}.constructor,wf="".constructor,xf=rf.prototype,yf=sf.prototype,zf=tf.prototype,Af=uf.prototype,Bf=vf.prototype,Cf=wf.prototype,Df=zf.call,Ef=zf.apply,Ff=zf.bind,Gf=Bf.valueOf,Hf=na();d("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Hf[a]=!0});var If={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Jf=function(a){this.options=a};Jf.prototype={constructor:Jf,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=Hf[b],f=Hf[c],g=Hf[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length&&this.text.charAt(this.index+b)},isNumber:function(a){return"0"<=a&&a<="9"&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var c=a.charCodeAt(0),d=b.charCodeAt(0);return c>=55296&&c<=56319&&d>=56320&&d<=57343?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw qf("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Kd(this.text.charAt(this.index));if("."===c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"===c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"===a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!==a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{c+=If[f]||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var Kf=function(a,b){this.lexer=a,this.options=b};Kf.Program="Program",Kf.ExpressionStatement="ExpressionStatement",Kf.AssignmentExpression="AssignmentExpression",Kf.ConditionalExpression="ConditionalExpression",Kf.LogicalExpression="LogicalExpression",Kf.BinaryExpression="BinaryExpression",Kf.UnaryExpression="UnaryExpression",Kf.CallExpression="CallExpression",Kf.MemberExpression="MemberExpression",Kf.Identifier="Identifier",Kf.Literal="Literal",Kf.ArrayExpression="ArrayExpression",Kf.Property="Property",Kf.ObjectExpression="ObjectExpression",Kf.ThisExpression="ThisExpression",Kf.LocalsExpression="LocalsExpression",Kf.NGValueParameter="NGValueParameter",Kf.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:Kf.Program,body:a}},expressionStatement:function(){return{type:Kf.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:Kf.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:Kf.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:Kf.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:Kf.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:Kf.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:Kf.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:Kf.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:Kf.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:Kf.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=N(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:Kf.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:Kf.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:Kf.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:Kf.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:Kf.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do{a.push(this.filterChain())}while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:Kf.Identifier,name:a.text}},constant:function(){return{type:Kf.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Kf.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:Kf.Property,kind:"init"},this.peek().constant?(a.key=this.constant(),a.computed=!1,this.consume(":"),a.value=this.expression()):this.peek().identifier?(a.key=this.identifier(),a.computed=!1,this.peek(":")?(this.consume(":"),a.value=this.expression()):a.value=a.key):this.peek("[")?(this.consume("["),a.key=this.expression(),this.consume("]"),a.computed=!0,this.consume(":"),a.value=this.expression()):this.throwError("invalid key",this.peek()),b.push(a)}while(this.expect(","));return this.consume("}"),{type:Kf.ObjectExpression,properties:b}},throwError:function(a,b){throw qf("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw qf("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw qf("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return!!e&&(this.tokens.shift(),e)},selfReferential:{this:{type:Kf.ThisExpression},$locals:{type:Kf.LocalsExpression}}},mc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},gc(e,c.$filter);var f,g="";if(this.stage="assign",f=jc(e)){this.state.computing="assign";var h=this.nextId();this.recurse(f,h),this.return_(h),g="fn.assign="+this.generateFunction("assign","s,v,l")}var i=hc(e.body);c.stage="inputs",d(i,function(a,b){var d="fn"+b;c.state[d]={vars:[],body:[],own:{}},c.state.computing=d;var e=c.nextId();c.recurse(a,e),c.return_(e),c.state.inputs.push(d),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var j='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+g+this.watchFns()+"return fn;",k=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",j)(this.$filter,$b,ac,bc,_b,cc,dc,ec,a);return this.state=this.stage=void 0,k.literal=kc(e),k.constant=lc(e),k},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return d(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return d(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,c,e,f,g){var h,i,j,k,l,m=this;if(e=e||n,!g&&s(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,c,e,f,!0));switch(a.type){case Kf.Program:d(a.body,function(b,c){m.recurse(b.expression,void 0,void 0,function(a){i=a}),c!==a.body.length-1?m.current().body.push(i,";"):m.return_(i)});break;case Kf.Literal:k=this.escape(a.value),this.assign(b,k),e(k);break;case Kf.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){i=a}),k=a.operator+"("+this.ifDefined(i,0)+")",this.assign(b,k),e(k);break;case Kf.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){h=a}),this.recurse(a.right,void 0,void 0,function(a){i=a}),k="+"===a.operator?this.plus(h,i):"-"===a.operator?this.ifDefined(h,0)+a.operator+this.ifDefined(i,0):"("+h+")"+a.operator+"("+i+")",this.assign(b,k),e(k);break;case Kf.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case Kf.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case Kf.Identifier:b=b||this.nextId(),c&&(c.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),c.computed=!1,c.name=a.name),$b(a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){f&&1!==f&&m.if_(m.not(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),(m.state.expensiveChecks||oc(a.name))&&m.addEnsureSafeObject(b),e(b);break;case Kf.MemberExpression:h=c&&(c.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,h,void 0,function(){m.if_(m.notNull(h),function(){f&&1!==f&&m.addEnsureSafeAssignContext(h),a.computed?(i=m.nextId(),m.recurse(a.property,i),m.getStringValue(i),m.addEnsureSafeMemberName(i),f&&1!==f&&m.if_(m.not(m.computedMember(h,i)),m.lazyAssign(m.computedMember(h,i),"{}")),k=m.ensureSafeObject(m.computedMember(h,i)),m.assign(b,k),c&&(c.computed=!0,c.name=i)):($b(a.property.name),f&&1!==f&&m.if_(m.not(m.nonComputedMember(h,a.property.name)),m.lazyAssign(m.nonComputedMember(h,a.property.name),"{}")),k=m.nonComputedMember(h,a.property.name),(m.state.expensiveChecks||oc(a.property.name))&&(k=m.ensureSafeObject(k)),m.assign(b,k),c&&(c.computed=!1,c.name=a.property.name))},function(){m.assign(b,"undefined")}),e(b)},!!f);break;case Kf.CallExpression:b=b||this.nextId(),a.filter?(i=m.filter(a.callee.name),j=[],d(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),j.push(b)}),k=i+"("+j.join(",")+")",m.assign(b,k),e(b)):(i=m.nextId(),h={},j=[],m.recurse(a.callee,i,h,function(){m.if_(m.notNull(i),function(){m.addEnsureSafeFunction(i),d(a.arguments,function(a){m.recurse(a,m.nextId(),void 0,function(a){j.push(m.ensureSafeObject(a))})}),h.name?(m.state.expensiveChecks||m.addEnsureSafeObject(h.context),k=m.member(h.context,h.name,h.computed)+"("+j.join(",")+")"):k=i+"("+j.join(",")+")",k=m.ensureSafeObject(k),m.assign(b,k)},function(){m.assign(b,"undefined")}),e(b)}));break;case Kf.AssignmentExpression:if(i=this.nextId(),h={},!ic(a.left))throw qf("lval","Trying to assign a value to a non l-value");this.recurse(a.left,void 0,h,function(){m.if_(m.notNull(h.context),function(){m.recurse(a.right,i),m.addEnsureSafeObject(m.member(h.context,h.name,h.computed)),m.addEnsureSafeAssignContext(h.context),k=m.member(h.context,h.name,h.computed)+a.operator+i,m.assign(b,k),e(b||k)})},1);break;case Kf.ArrayExpression:j=[],d(a.elements,function(a){m.recurse(a,m.nextId(),void 0,function(a){j.push(a)})}),k="["+j.join(",")+"]",this.assign(b,k),e(k);break;case Kf.ObjectExpression:j=[],l=!1,d(a.properties,function(a){a.computed&&(l=!0)}),l?(b=b||this.nextId(),this.assign(b,"{}"),d(a.properties,function(a){a.computed?(h=m.nextId(),m.recurse(a.key,h)):h=a.key.type===Kf.Identifier?a.key.name:""+a.key.value,i=m.nextId(),m.recurse(a.value,i),m.assign(m.member(b,h,a.computed),i)})):(d(a.properties,function(b){m.recurse(b.value,a.constant?void 0:m.nextId(),void 0,function(a){j.push(m.escape(b.key.type===Kf.Identifier?b.key.name:""+b.key.value)+":"+a)})}),k="{"+j.join(",")+"}",this.assign(b,k)),e(b||k);break;case Kf.ThisExpression:this.assign(b,"s"),e("s");break;case Kf.LocalsExpression:this.assign(b,"l"),e("l");break;case Kf.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(!0===a)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){
return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var c=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,d=/[^$_a-zA-Z0-9]/g;return c.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(v(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if(void 0===a)return"undefined";throw qf("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},nc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,gc(e,c.$filter);var f,g;(f=jc(e))&&(g=this.recurse(f));var h,i=hc(e.body);i&&(h=[],d(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];d(e.body,function(a){j.push(c.recurse(a.expression))});var k=0===e.body.length?n:1===e.body.length?j[0]:function(a,b){var c;return d(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=kc(e),k.constant=lc(e),k},recurse:function(a,b,c){var e,f,g,h=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case Kf.Literal:return this.value(a.value,b);case Kf.UnaryExpression:return f=this.recurse(a.argument),this["unary"+a.operator](f,b);case Kf.BinaryExpression:case Kf.LogicalExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case Kf.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case Kf.Identifier:return $b(a.name,h.expression),h.identifier(a.name,h.expensiveChecks||oc(a.name),b,c,h.expression);case Kf.MemberExpression:return e=this.recurse(a.object,!1,!!c),a.computed||($b(a.property.name,h.expression),f=a.property.name),a.computed&&(f=this.recurse(a.property)),a.computed?this.computedMember(e,f,b,c,h.expression):this.nonComputedMember(e,f,h.expensiveChecks,b,c,h.expression);case Kf.CallExpression:return g=[],d(a.arguments,function(a){g.push(h.recurse(a))}),a.filter&&(f=this.$filter(a.callee.name)),a.filter||(f=this.recurse(a.callee,!0)),a.filter?function(a,c,d,e){for(var h=[],i=0;i<g.length;++i)h.push(g[i](a,c,d,e));var j=f.apply(void 0,h,e);return b?{context:void 0,name:void 0,value:j}:j}:function(a,c,d,e){var i,j=f(a,c,d,e);if(null!=j.value){ac(j.context,h.expression),bc(j.value,h.expression);for(var k=[],l=0;l<g.length;++l)k.push(ac(g[l](a,c,d,e),h.expression));i=ac(j.value.apply(j.context,k),h.expression)}return b?{value:i}:i};case Kf.AssignmentExpression:return e=this.recurse(a.left,!0,1),f=this.recurse(a.right),function(a,c,d,g){var i=e(a,c,d,g),j=f(a,c,d,g);return ac(i.value,h.expression),cc(i.context),i.context[i.name]=j,b?{value:j}:j};case Kf.ArrayExpression:return g=[],d(a.elements,function(a){g.push(h.recurse(a))}),function(a,c,d,e){for(var f=[],h=0;h<g.length;++h)f.push(g[h](a,c,d,e));return b?{value:f}:f};case Kf.ObjectExpression:return g=[],d(a.properties,function(a){a.computed?g.push({key:h.recurse(a.key),computed:!0,value:h.recurse(a.value)}):g.push({key:a.key.type===Kf.Identifier?a.key.name:""+a.key.value,computed:!1,value:h.recurse(a.value)})}),function(a,c,d,e){for(var f={},h=0;h<g.length;++h)g[h].computed?f[g[h].key(a,c,d,e)]=g[h].value(a,c,d,e):f[g[h].key]=g[h].value(a,c,d,e);return b?{value:f}:f};case Kf.ThisExpression:return function(a){return b?{value:a}:a};case Kf.LocalsExpression:return function(a,c){return b?{value:c}:c};case Kf.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=ec(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(s(h)?h:0)-(s(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,c,d,e){return function(f,g,h,i){var j=g&&a in g?g:f;d&&1!==d&&j&&!j[a]&&(j[a]={});var k=j?j[a]:void 0;return b&&ac(k,e),c?{context:j,name:a,value:k}:k}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),j=_b(j),$b(j,e),d&&1!==d&&(cc(l),l&&!l[j]&&(l[j]={})),k=l[j],ac(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,c,d,e,f){return function(g,h,i,j){var k=a(g,h,i,j);e&&1!==e&&(cc(k),k&&!k[b]&&(k[b]={}));var l=null!=k?k[b]:void 0;return(c||oc(b))&&ac(l,f),d?{context:k,name:b,value:l}:l}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var Lf=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new Kf(a,c),this.astCompiler=c.csp?new nc(this.ast,b):new mc(this.ast,b)};Lf.prototype={constructor:Lf,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var Mf=b("$sce"),Nf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Of=b("$compile"),Pf=a.document.createElement("a"),Qf=Fc(a.location.href);Ic.$inject=["$document"],Kc.$inject=["$provide"];var Rf=22,Sf=".",Tf="0";Pc.$inject=["$locale"],Qc.$inject=["$locale"];var Uf={yyyy:Vc("FullYear",4,0,!1,!0),yy:Vc("FullYear",2,0,!0,!0),y:Vc("FullYear",1,0,!1,!0),MMMM:Wc("Month"),MMM:Wc("Month",!0),MM:Vc("Month",2,1),M:Vc("Month",1,1),LLLL:Wc("Month",!1,!0),dd:Vc("Date",2),d:Vc("Date",1),HH:Vc("Hours",2),H:Vc("Hours",1),hh:Vc("Hours",2,-12),h:Vc("Hours",1,-12),mm:Vc("Minutes",2),m:Vc("Minutes",1),ss:Vc("Seconds",2),s:Vc("Seconds",1),sss:Vc("Milliseconds",3),EEEE:Wc("Day"),EEE:Wc("Day",!0),a:_c,Z:Xc,ww:$c(2),w:$c(1),G:ad,GG:ad,GGG:ad,GGGG:bd},Vf=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Wf=/^\-?\d+$/;cd.$inject=["$locale"];var Xf=p(Kd),Yf=p(Ld);gd.$inject=["$parse"];var Zf=p({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Vd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),$f={};d(Fe,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!==a){var d=ob("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),$f[d]=function(){return{restrict:"A",priority:100,link:e}}}}),d(He,function(a,b){$f[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"===d.ngPattern.charAt(0)){var e=d.ngPattern.match(Hd);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),d(["src","srcset","href"],function(a){var b=ob("ng-"+a);$f[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Vd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){if(!b)return void("href"===a&&e.$set(g,null));e.$set(g,b),Od&&f&&d.prop(f,e[g])})}}}});var _f={$addControl:n,$$renameControl:id,$removeControl:n,$setValidity:n,$setDirty:n,$setPristine:n,$setSubmitted:n},ag="ng-submitted";jd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var bg=function(a){return["$timeout","$parse",function(b,c){function d(a){return""===a?c('this[""]').assign:c(a).assign||n}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:jd,compile:function(c,e){c.addClass(Lg).addClass(Jg);var f=e.name?"name":!(!a||!e.ngForm)&&"ngForm";return{pre:function(a,c,e,g){var h=g[0];if(!("action"in e)){var i=function(b){a.$apply(function(){h.$commitViewValue(),h.$setSubmitted()}),b.preventDefault()};se(c[0],"submit",i),c.on("$destroy",function(){b(function(){te(c[0],"submit",i)},0,!1)})}(g[1]||h.$$parentForm).$addControl(h);var k=f?d(h.$name):n;f&&(k(a,h),e.$observe(f,function(b){h.$name!==b&&(k(a,void 0),h.$$parentForm.$$renameControl(h,b),(k=d(h.$name))(a,h))})),c.on("$destroy",function(){h.$$parentForm.$removeControl(h),k(a,void 0),j(h,_f)})}}}}}]},cg=bg(),dg=bg(!0),eg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,fg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,gg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,hg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ig=/^(\d{4,})-(\d{2})-(\d{2})$/,jg=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,kg=/^(\d{4,})-W(\d\d)$/,lg=/^(\d{4,})-(\d\d)$/,mg=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ng="keydown wheel mousedown",og=na();d("date,datetime-local,month,time,week".split(","),function(a){og[a]=!0});var pg={text:ld,date:pd("date",ig,od(ig,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":pd("datetimelocal",jg,od(jg,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:pd("time",mg,od(mg,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:pd("week",kg,nd,"yyyy-Www"),month:pd("month",lg,od(lg,["yyyy","MM"]),"yyyy-MM"),number:wd,url:yd,email:zd,radio:Ad,range:xd,checkbox:Cd,hidden:n,button:n,submit:n,reset:n,file:n},qg=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){if(h[0]){var i=Kd(g.type);"range"!==i||g.hasOwnProperty("ngInputRange")||(i="text"),(pg[i]||pg.text)(e,f,g,h[0],b,a,c,d)}}}}}],rg=/^(true|false|\d+)$/,sg=function(){return{restrict:"A",priority:100,compile:function(a,b){return rg.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},tg=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=r(a)?"":a})}}}}],ug=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=r(a)?"":a})}}}}],vg=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){var c=f(b);d.html(a.getTrustedHtml(c)||"")})}}}}],wg=p({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),xg=Dd("",!0),yg=Dd("Odd",0),zg=Dd("Even",1),Ag=hd({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),Bg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Cg={},Dg={blur:!0,focus:!0};d("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=ob("ng-"+a);Cg[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};Dg[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Eg=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=ma(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],Fg=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Yd.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).then(function(){m=null}),m=n,n=null)};d.$watch(f,function(f){var i=function(){!s(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).then(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],Gg=["$compile",function(b){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){if(Vd.call(d[0]).match(/SVG/))return d.empty(),void b(ya(f.template,a.document).childNodes)(c,function(a){d.append(a)},{futureParentElement:d});d.html(f.template),b(d.contents())(c)}}}],Hg=hd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),Ig=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,c,e){var f=b.attr(c.$attr.ngList)||", ",g="false"!==c.ngTrim,h=g?be(f):f,i=function(a){if(!r(a)){var b=[];return a&&d(a.split(h),function(a){a&&b.push(g?be(a):a)}),b}};e.$parsers.push(i),e.$formatters.push(function(a){if(_d(a))return a.join(f)}),e.$isEmpty=function(a){return!a||!a.length}}}},Jg="ng-valid",Kg="ng-invalid",Lg="ng-pristine",Mg="ng-dirty",Ng="ng-pending",Og=b("ngModel"),Pg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,c,e,f,g,h,i,j,k){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=k(c.name||"",!1)(a),this.$$parentForm=_f;var l,m=f(c.ngModel),o=m.assign,p=m,q=o,t=null,u=this;this.$$setOptions=function(a){if(u.$options=a,a&&a.getterSetter){var b=f(c.ngModel+"()"),d=f(c.ngModel+"($$$p)");p=function(a){var c=m(a);return y(c)&&(c=b(a)),c},q=function(a,b){y(m(a))?d(a,{$$$p:b}):o(a,b)}}else if(!m.assign)throw Og("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,Y(e))},this.$render=n,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a},this.$$updateEmptyClasses=function(a){u.$isEmpty(a)?(g.removeClass(e,"ng-not-empty"),g.addClass(e,"ng-empty")):(g.removeClass(e,"ng-empty"),g.addClass(e,"ng-not-empty"))};var v=0;Ed({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:g}),this.$setPristine=function(){u.$dirty=!1,u.$pristine=!0,g.removeClass(e,Mg),g.addClass(e,Lg)},this.$setDirty=function(){u.$dirty=!0,u.$pristine=!1,g.removeClass(e,Lg),g.addClass(e,Mg),u.$$parentForm.$setDirty()},this.$setUntouched=function(){u.$touched=!1,u.$untouched=!0,g.setClass(e,"ng-untouched","ng-touched")},this.$setTouched=function(){u.$touched=!0,u.$untouched=!1,g.setClass(e,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){h.cancel(t),u.$viewValue=u.$$lastCommittedViewValue,u.$render()},this.$validate=function(){if(!$d(u.$modelValue)){var a=u.$$lastCommittedViewValue,b=u.$$rawModelValue,c=u.$valid,d=u.$modelValue,e=u.$options&&u.$options.allowInvalid;u.$$runValidators(b,a,function(a){e||c===a||(u.$modelValue=a?b:void 0,u.$modelValue!==d&&u.$$writeModelToScope())})}},this.$$runValidators=function(a,b,c){function e(a,b){g===v&&u.$setValidity(a,b)}function f(a){g===v&&c(a)}v++;var g=v;return function(){var a=u.$$parserName||"parse";return r(l)?(e(a,null),!0):(l||(d(u.$validators,function(a,b){e(b,null)}),d(u.$asyncValidators,function(a,b){e(b,null)})),e(a,l),l)}()&&function(){var c=!0;return d(u.$validators,function(d,f){var g=d(a,b);c=c&&g,e(f,g)}),!!c||(d(u.$asyncValidators,function(a,b){e(b,null)}),!1)}()?void function(){var c=[],g=!0;d(u.$asyncValidators,function(d,f){var h=d(a,b);if(!G(h))throw Og("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",h);e(f,void 0),c.push(h.then(function(){e(f,!0)},function(){g=!1,e(f,!1)}))}),c.length?j.all(c).then(function(){f(g)},n):f(!0)}():void f(!1)},this.$commitViewValue=function(){var a=u.$viewValue;h.cancel(t),(u.$$lastCommittedViewValue!==a||""===a&&u.$$hasNativeValidators)&&(u.$$updateEmptyClasses(a),u.$$lastCommittedViewValue=a,u.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){u.$modelValue!==f&&u.$$writeModelToScope()}var c=u.$$lastCommittedViewValue,d=c;if(l=!r(d)||void 0)for(var e=0;e<u.$parsers.length;e++)if(d=u.$parsers[e](d),r(d)){l=!1;break}$d(u.$modelValue)&&(u.$modelValue=p(a));var f=u.$modelValue,g=u.$options&&u.$options.allowInvalid;u.$$rawModelValue=d,g&&(u.$modelValue=d,b()),u.$$runValidators(d,u.$$lastCommittedViewValue,function(a){g||(u.$modelValue=a?d:void 0,b())})},this.$$writeModelToScope=function(){q(a,u.$modelValue),d(u.$viewChangeListeners,function(a){try{a()}catch(a){b(a)}})},this.$setViewValue=function(a,b){u.$viewValue=a,u.$options&&!u.$options.updateOnDefault||u.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=u.$options;e&&s(e.debounce)&&(c=e.debounce,w(c)?d=c:w(c[b])?d=c[b]:w(c.default)&&(d=c.default)),h.cancel(t),d?t=h(function(){u.$commitViewValue()},d):i.$$phase?u.$commitViewValue():a.$apply(function(){u.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==u.$modelValue&&(u.$modelValue===u.$modelValue||b===b)){u.$modelValue=u.$$rawModelValue=b,l=void 0;for(var c=u.$formatters,d=c.length,e=b;d--;)e=c[d](e);u.$viewValue!==e&&(u.$$updateEmptyClasses(e),u.$viewValue=u.$$lastCommittedViewValue=e,u.$render(),u.$$runValidators(u.$modelValue,u.$viewValue,n))}return b})}],Qg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Pg,priority:1,compile:function(b){return b.addClass(Lg).addClass("ng-untouched").addClass(Jg),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],Rg=/(\s+|^)default(\s+|$)/,Sg=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=N(a.$eval(b.ngModelOptions)),s(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=be(this.$options.updateOn.replace(Rg,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Tg=hd({terminal:!0,priority:1e3}),Ug=b("ngOptions"),Vg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Wg=["$compile","$document","$parse",function(b,e,f){function g(a,b,d){function e(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&c(a))b=a;else{b=[];for(var d in a)a.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b.push(d)}return b}var h=a.match(Vg);if(!h)throw Ug("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,Y(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=f(h[2]?h[1]:i),n=k&&f(k),o=n||m,p=l&&f(l),q=l?function(a,b){return p(d,b)}:function(a){return Xa(a)},r=function(a,b){return q(a,x(a,b))},s=f(h[2]||h[1]),t=f(h[3]||""),u=f(h[4]||""),v=f(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:f(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;f<e;f++){var i=a===c?f:c[f],j=a[i],k=x(j,i),l=q(j,k);if(b.push(l),h[2]||h[1]){var m=s(d,k);b.push(m)}if(h[4]){var n=u(d,k);b.push(n)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],f=g(c),h=f.length,i=0;i<h;i++){var j=c===f?i:f[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new e(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?Yd.copy(a.viewValue):a.viewValue}}}}}function h(a,c,f,h){function k(a,b){var c=i.cloneNode(!1);b.appendChild(c),l(a,c)}function l(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function m(){var a=x&&o.readValue();if(x)for(var b=x.items.length-1;b>=0;b--){var d=x.items[b];Pa(s(d.group)?d.element.parentNode:d.element)}x=y.getOptions();var e={};if(v&&c.prepend(n),x.items.forEach(function(a){var b;s(a.group)?(b=e[a.group],b||(b=j.cloneNode(!1),z.appendChild(b),b.label=null===a.group?"null":a.group,e[a.group]=b),k(a,b)):k(a,z)}),c[0].appendChild(z),p.$render(),!p.$isEmpty(a)){var f=o.readValue();(y.trackBy||q?O(a,f):a===f)||(p.$setViewValue(f),p.$render())}}for(var n,o=h[0],p=h[1],q=f.multiple,r=0,t=c.children(),u=t.length;r<u;r++)if(""===t[r].value){n=t.eq(r);break}var v=!!n,w=Pd(i.cloneNode(!1));w.val("?");var x,y=g(f.ngOptions,c,a),z=e[0].createDocumentFragment(),A=function(){v||c.prepend(n),c.val(""),n.prop("selected",!0),n.attr("selected",!0)},B=function(){v?n.removeAttr("selected"):n.remove()},C=function(){c.prepend(w),c.val("?"),w.prop("selected",!0),w.attr("selected",!0)},D=function(){w.remove()};q?(p.$isEmpty=function(a){return!a||0===a.length},o.writeValue=function(a){x.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=x.getOptionFromViewValue(a);b&&(b.element.selected=!0)})},o.readValue=function(){var a=c.val()||[],b=[];return d(a,function(a){var c=x.selectValueMap[a];c&&!c.disabled&&b.push(x.getViewValueFromOption(c))}),b},y.trackBy&&a.$watchCollection(function(){if(_d(p.$viewValue))return p.$viewValue.map(function(a){return y.getTrackByValue(a)})},function(){p.$render()})):(o.writeValue=function(a){var b=x.selectValueMap[c.val()],d=x.getOptionFromViewValue(a);b&&b.element.removeAttribute("selected"),d?(c[0].value!==d.selectValue&&(D(),B(),c[0].value=d.selectValue,d.element.selected=!0),d.element.setAttribute("selected","selected")):null===a||v?(D(),A()):(B(),C())},o.readValue=function(){var a=x.selectValueMap[c.val()];return a&&!a.disabled?(B(),D(),x.getViewValueFromOption(a)):null},y.trackBy&&a.$watch(function(){return y.getTrackByValue(p.$viewValue)},function(){p.$render()})),v?(n.remove(),b(n)(a),n.removeClass("ng-scope")):n=Pd(i.cloneNode(!1)),c.empty(),m(),a.$watchCollection(y.getWatchables,m)}var i=a.document.createElement("option"),j=a.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=n},post:h}}}],Xg=["$locale","$interpolate","$log",function(a,b,c){var e=/{}/g,f=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),o=i.offset||0,p=g.$eval(m)||{},q={},s=b.startSymbol(),t=b.endSymbol(),u=s+l+"-"+o+t,v=Yd.noop;d(i,function(a,b){var c=f.exec(b);if(c){var d=(c[1]?"-":"")+Kd(c[2]);p[d]=h.attr(i.$attr[b])}}),d(p,function(a,c){q[c]=b(a.replace(e,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=$d(d);if(e||d in p||(d=a.pluralCat(d-o)),!(d===k||e&&$d(k))){v();var f=q[d];r(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=n,j()):v=g.$watch(f,j),k=d}})}}}],Yg=["$parse","$animate","$compile",function(a,e,f){var g=b("ngRepeat"),h=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0==(1&b))},i=function(a){return a.clone[0]},j=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(b,k){var l=k.ngRepeat,m=f.$$createComment("end ngRepeat",l),n=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw g("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",l);var o=n[1],p=n[2],q=n[3],r=n[4];if(!(n=o.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw g("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",o);var s=n[3]||n[1],t=n[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(q)))throw g("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",q);var u,v,w,x,y={$id:Xa};return r?u=a(r):(w=function(a,b){return Xa(b)},x=function(a){return a}),function(a,b,f,k,n){u&&(v=function(b,c,d){return t&&(y[t]=b),y[s]=c,y.$index=d,u(a,y)});var o=na();a.$watchCollection(p,function(f){var k,p,r,u,y,z,A,B,C,D,E,F,G=b[0],H=na();if(q&&(a[q]=f),c(f))C=f,B=v||w;else{B=v||x,C=[];for(var I in f)Jd.call(f,I)&&"$"!==I.charAt(0)&&C.push(I)}for(u=C.length,E=new Array(u),k=0;k<u;k++)if(y=f===C?k:C[k],z=f[y],A=B(y,z,k),o[A])D=o[A],delete o[A],H[A]=D,E[k]=D;else{if(H[A])throw d(E,function(a){a&&a.scope&&(o[a.id]=a)}),g("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",l,A,z);E[k]={id:A,scope:void 0,clone:void 0},H[A]=!0}for(var J in o){if(D=o[J],F=ma(D.clone),e.leave(F),F[0].parentNode)for(k=0,p=F.length;k<p;k++)F[k].$$NG_REMOVED=!0;D.scope.$destroy()}for(k=0;k<u;k++)if(y=f===C?k:C[k],z=f[y],D=E[k],D.scope){r=G;do{r=r.nextSibling}while(r&&r.$$NG_REMOVED);i(D)!==r&&e.move(ma(D.clone),null,G),G=j(D),h(D.scope,k,s,z,t,y,u)}else n(function(a,b){D.scope=b;var c=m.cloneNode(!1);a[a.length++]=c,e.enter(a,null,G),G=c,D.clone=a,H[D.id]=D,h(D.scope,k,s,z,t,y,u)});o=H})}}}}],Zg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],$g=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],_g=hd(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&d(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),ah=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,e,f,g){var h=f.ngSwitch||f.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var e,f;for(e=0,f=k.length;e<f;++e)a.cancel(k[e]);for(k.length=0,e=0,f=l.length;e<f;++e){var h=ma(j[e].clone);l[e].$destroy();(k[e]=a.leave(h)).then(m(k,e))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&d(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],bh=hd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),ch=hd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),dh=b("ngTransclude"),eh=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var c=a(b.contents());return b.empty(),function(a,b,d,e,f){function g(a,c){a.length?b.append(a):(h(),c.$destroy())}function h(){c(a,function(a){b.append(a)})}if(!f)throw dh("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Y(b));d.ngTransclude===d.$attr.ngTransclude&&(d.ngTransclude="");var i=d.ngTransclude||d.ngTranscludeSlot;f(g,null,i),i&&!f.isSlotFilled(i)&&h()}}}}],fh=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"===c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],gh={$setViewValue:n,$render:n},hh=["$element","$scope",function(b,c){var d=this,e=new Ya;d.ngModelCtrl=gh,d.unknownOption=Pd(a.document.createElement("option")),d.renderUnknownOption=function(a){var c="? "+Xa(a)+" ?";d.unknownOption.val(c),b.prepend(d.unknownOption),b.val(c)},c.$on("$destroy",function(){d.renderUnknownOption=n}),d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()},d.readValue=function(){return d.removeUnknownOption(),b.val()},d.writeValue=function(a){d.hasOption(a)?(d.removeUnknownOption(),b.val(a),
""===a&&d.emptyOption.prop("selected",!0)):null==a&&d.emptyOption?(d.removeUnknownOption(),b.val("")):d.renderUnknownOption(a)},d.addOption=function(a,b){if(b[0].nodeType!==me){ka(a,'"option value"'),""===a&&(d.emptyOption=b);var c=e.get(a)||0;e.put(a,c+1),d.ngModelCtrl.$render(),Gd(b)}},d.removeOption=function(a){var b=e.get(a);b&&(1===b?(e.remove(a),""===a&&(d.emptyOption=void 0)):e.put(a,b-1))},d.hasOption=function(a){return!!e.get(a)},d.registerOption=function(a,b,c,e,f){if(e){var g;c.$observe("value",function(a){s(g)&&d.removeOption(g),g=a,d.addOption(a,b)})}else f?a.$watch(f,function(a,e){c.$set("value",a),e!==a&&d.removeOption(e),d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value),d.ngModelCtrl.$render()})}}],ih=function(){function a(a,b,c,e){var f=e[1];if(f){var g=e[0];if(g.ngModelCtrl=f,b.on("change",function(){a.$apply(function(){f.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return d(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new Ya(a);d(b.find("option"),function(a){a.selected=s(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==f.$viewValue||O(h,f.$viewValue)||(h=pa(f.$viewValue),f.$render()),i=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length}}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:hh,priority:1,link:{pre:a,post:b}}},jh=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(s(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f=b.parent(),g=f.data("$selectController")||f.parent().data("$selectController");g&&g.registerOption(a,b,c,d,e)}}}}],kh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},lh=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(v(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw b("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",g,a,Y(c));f=a||void 0,e.$validate()}),e.$validators.pattern=function(a,b){return e.$isEmpty(b)||r(f)||f.test(b)}}}}},mh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=l(a);e=$d(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return e<0||d.$isEmpty(b)||b.length<=e}}}}},nh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=l(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};if(a.angular.bootstrap)return void(a.console&&console.log("WARNING: Tried to load angular more than once."));!function(){var b;if(!je){var c=ee();Qd=r(c)?a.jQuery:c?a[c]:void 0,Qd&&Qd.fn.on?(Pd=Qd,j(Qd.fn,{scope:Ee.scope,isolateScope:Ee.isolateScope,controller:Ee.controller,injector:Ee.injector,inheritedData:Ee.inheritedData}),b=Qd.cleanData,Qd.cleanData=function(a){for(var c,d,e=0;null!=(d=a[e]);e++)(c=Qd._data(d,"events"))&&c.$destroy&&Qd(d).triggerHandler("$destroy");b(a)}):Pd=Ba,Yd.element=Pd,je=!0}}(),function(c){j(c,{bootstrap:ea,copy:N,extend:j,merge:k,equals:O,element:Pd,forEach:d,injector:bb,noop:n,bind:R,toJson:T,fromJson:U,identity:o,isUndefined:r,isDefined:s,isString:v,isFunction:y,isObject:t,isNumber:w,isElement:J,isArray:_d,version:pe,isDate:x,lowercase:Kd,uppercase:Ld,callbacks:{$$counter:0},getTestability:ga,$$minErr:b,$$csp:de,reloadWithDebugInfo:fa}),(Rd=oa(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:wc}),a.provider("$compile",mb).directive({a:Zf,input:qg,textarea:qg,form:cg,script:fh,select:ih,option:jh,ngBind:tg,ngBindHtml:vg,ngBindTemplate:ug,ngClass:xg,ngClassEven:zg,ngClassOdd:yg,ngCloak:Ag,ngController:Bg,ngForm:dg,ngHide:$g,ngIf:Eg,ngInclude:Fg,ngInit:Hg,ngNonBindable:Tg,ngPluralize:Xg,ngRepeat:Yg,ngShow:Zg,ngStyle:_g,ngSwitch:ah,ngSwitchWhen:bh,ngSwitchDefault:ch,ngOptions:Wg,ngTransclude:eh,ngModel:Qg,ngList:Ig,ngChange:wg,pattern:lh,ngPattern:lh,required:kh,ngRequired:kh,minlength:nh,ngMinlength:nh,maxlength:mh,ngMaxlength:mh,ngValue:sg,ngModelOptions:Sg}).directive({ngInclude:Gg}).directive($f).directive(Cg),a.provider({$anchorScroll:cb,$animate:Te,$animateCss:We,$$animateJs:Re,$$animateQueue:Se,$$AnimateRunner:Ve,$$animateAsyncRun:Ue,$browser:ib,$cacheFactory:jb,$controller:sb,$document:tb,$exceptionHandler:ub,$filter:Kc,$$forceReflow:af,$interpolate:Ib,$interval:Jb,$http:Eb,$httpParamSerializer:wb,$httpParamSerializerJQLike:xb,$httpBackend:Gb,$xhrFactory:Fb,$jsonpCallbacks:kf,$location:Yb,$log:Zb,$parse:qc,$rootScope:vc,$q:rc,$$q:sc,$sce:Ac,$sceDelegate:zc,$sniffer:Bc,$templateCache:kb,$templateRequest:Cc,$$testability:Dc,$timeout:Ec,$window:Hc,$$rAF:uc,$$jqLite:Wa,$$HashMap:Ie,$$cookieReader:Jc})}])}(Yd),Yd.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}function c(a,c){var d=c;void 0===d&&(d=Math.min(b(a),3));var e=Math.pow(10,d);return{v:d,f:(a*e|0)%e}}var d={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var e=0|a,f=c(a,b);return 1==e&&0==f.v?d.ONE:d.OTHER}})}]),Pd(a.document).ready(function(){da(a.document,ea)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(a,b){"use strict";function c(a,b,c){if(!a)throw ia("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function d(a,b){return a||b?a?b?(U(a)&&(a=a.join(" ")),U(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function e(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function f(a,b,c){var d="";return a=U(a)?a:a&&Z(a)&&a.length?a.split(/\s+/):[],T(a,function(a,e){a&&a.length>0&&(d+=e>0?" ":"",d+=c?b+a:a+b)}),d}function g(a,b){var c=a.indexOf(b);b>=0&&a.splice(c,1)}function h(a){if(a instanceof _)switch(a.length){case 0:return a;case 1:if(a[0].nodeType===L)return a;break;default:return _(i(a))}if(a.nodeType===L)return _(a)}function i(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===L)return c}}function j(a,b,c){T(b,function(b){a.addClass(b,c)})}function k(a,b,c){T(b,function(b){a.removeClass(b,c)})}function l(a){return function(b,c){c.addClass&&(j(a,b,c.addClass),c.addClass=null),c.removeClass&&(k(a,b,c.removeClass),c.removeClass=null)}}function m(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||aa;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=aa},a.$$prepared=!0}return a}function n(a,b){o(a,b),p(a,b)}function o(a,b){b.from&&(a.css(b.from),b.from=null)}function p(a,b){b.to&&(a.css(b.to),b.to=null)}function q(a,b,c){var d=b.options||{},e=c.options||{},f=(d.addClass||"")+" "+(e.addClass||""),g=(d.removeClass||"")+" "+(e.removeClass||""),h=r(a.attr("class"),f,g);e.preparationClasses&&(d.preparationClasses=y(e.preparationClasses,d.preparationClasses),delete e.preparationClasses);var i=d.domOperation!==aa?d.domOperation:null;return S(d,e),i&&(d.domOperation=i),h.addClass?d.addClass=h.addClass:d.addClass=null,h.removeClass?d.removeClass=h.removeClass:d.removeClass=null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function r(a,b,c){function d(a){Z(a)&&(a=a.split(" "));var b={};return T(a,function(a){a.length&&(b[a]=!0)}),b}var e={};a=d(a),b=d(b),T(b,function(a,b){e[b]=1}),c=d(c),T(c,function(a,b){e[b]=1===e[b]?null:-1});var f={addClass:"",removeClass:""};return T(e,function(b,c){var d,e;1===b?(d="addClass",e=!a[c]||a[c+N]):-1===b&&(d="removeClass",e=a[c]||a[c+M]),e&&(f[d].length&&(f[d]+=" "),f[d]+=c)}),f}function s(a){return a instanceof _?a[0]:a}function t(a,b,c){var d="";b&&(d=f(b,O,!0)),c.addClass&&(d=y(d,f(c.addClass,M))),c.removeClass&&(d=y(d,f(c.removeClass,N))),d.length&&(c.preparationClasses=d,a.addClass(d))}function u(a,b){b.preparationClasses&&(a.removeClass(b.preparationClasses),b.preparationClasses=null),b.activeClasses&&(a.removeClass(b.activeClasses),b.activeClasses=null)}function v(a,b){var c=b?"-"+b+"s":"";return x(a,[ga,c]),[ga,c]}function w(a,b){var c=b?"paused":"",d=J+da;return x(a,[d,c]),[d,c]}function x(a,b){var c=b[0],d=b[1];a.style[c]=d}function y(a,b){return a?b?a+" "+b:a:b}function z(a){return[fa,a+"s"]}function A(a,b){return[b?ea:ga,a+"s"]}function B(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return T(c,function(a,b){var c=e[a];if(c){var f=c.charAt(0);("-"===f||"+"===f||f>=0)&&(c=C(c)),0===c&&(c=null),d[b]=c}}),d}function C(a){var b=0,c=a.split(/\s*,\s*/);return T(c,function(a){"s"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function D(a){return 0===a||null!=a}function E(a,b){var c=H,d=a+"s";return b?c+=ba:d+=" linear all",[c,d]}function F(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){var c=a[b];return c?c.total:0},get:function(b){var c=a[b];return c&&c.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function G(a,b,c){T(c,function(c){a[c]=V(a[c])?a[c]:b.style.getPropertyValue(c)})}var H,I,J,K,L=1,M="-add",N="-remove",O="ng-",P="ng-animate",Q="$$ngAnimateChildren";void 0===a.ontransitionend&&void 0!==a.onwebkittransitionend?("-webkit-",H="WebkitTransition",I="webkitTransitionEnd transitionend"):(H="transition",I="transitionend"),void 0===a.onanimationend&&void 0!==a.onwebkitanimationend?("-webkit-",J="WebkitAnimation",K="webkitAnimationEnd animationend"):(J="animation",K="animationend");var R,S,T,U,V,W,X,Y,Z,$,_,aa,ba="Duration",ca="TimingFunction",da="PlayState",ea=J+"Delay",fa=J+ba,ga=H+"Delay",ha=H+ba,ia=b.$$minErr("ng"),ja=["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),f=0;f<b.length;f++)b[f]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}],ka=["$interpolate",function(a){return{link:function(b,c,d){function e(a){a="on"===a||"true"===a,c.data(Q,a)}var f=d.ngAnimateChildren;Z(f)&&0===f.length?c.data(Q,!0):(e(a(f)(b)),d.$observe("ngAnimateChildren",e))}}}],la="$$animateCss",ma=1e3,na=3,oa=1.5,pa={transitionDuration:ha,transitionDelay:ga,transitionProperty:H+"Property",animationDuration:fa,animationDelay:ea,animationIterationCount:J+"IterationCount"},qa={transitionDuration:ha,transitionDelay:ga,animationDuration:fa,animationDelay:ea},ra=["$animateProvider",function(a){var b=F(),c=F();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,d,h,i,j,k,q,r){function t(a,b){var c="$$ngAnimateParentKey",d=a.parentNode;return(d[c]||(d[c]=++P))+"-"+a.getAttribute("class")+"-"+b}function u(c,d,e,f){var g=b.get(e);return g||(g=B(a,c,f),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),b.put(e,g),g}function y(e,g,h,i){var j;if(b.count(h)>0&&!(j=c.get(h))){var k=f(g,"-stagger");d.addClass(e,k),j=B(a,e,i),j.animationDuration=Math.max(j.animationDuration,0),j.transitionDuration=Math.max(j.transitionDuration,0),d.removeClass(e,k),c.put(h,j)}return j||{}}function C(a){Q.push(a),q.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=j(),d=0;d<Q.length;d++)Q[d](a);Q.length=0})}function F(a,b,c){var d=u(a,b,c,pa),e=d.animationDelay,f=d.transitionDelay;return d.maxDelay=e&&f?Math.max(e,f):e||f,d.maxDuration=Math.max(d.animationDuration*d.animationIterationCount,d.transitionDuration),d}var L=l(d),P=0,Q=[];return function(a,c){function j(){q()}function l(){q(!0)}function q(b){if(!(X||Z&&Y)){X=!0,Y=!1,S.$$skipPreparationClasses||d.removeClass(a,ua),d.removeClass(a,wa),w(W,!1),v(W,!1),T(ha,function(a){W.style[a[0]]=""}),L(a,S),n(a,S),Object.keys(V).length&&T(V,function(a,b){a?W.style.setProperty(b,a):W.style.removeProperty(b)}),S.onDone&&S.onDone(),ka&&ka.length&&a.off(ka.join(" "),P);var c=a.data(la);c&&(i.cancel(c[0].timer),a.removeData(la)),$&&$.complete(!b)}}function u(a){Ja.blockTransition&&v(W,a),Ja.blockKeyframeAnimation&&w(W,!!a)}function B(){return $=new h({end:j,cancel:l}),C(aa),q(),{$$willAnimate:!1,start:function(){return $},end:j}}function P(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||Date.now(),d=parseFloat(b.elapsedTime.toFixed(na));Math.max(c-ga,0)>=da&&d>=ea&&(Z=!0,q())}function Q(){function b(){if(!X){if(u(!1),T(ha,function(a){var b=a[0],c=a[1];W.style[b]=c}),L(a,S),d.addClass(a,wa),Ja.recalculateTimingStyles){if(va=W.className+" "+ua,ya=t(W,va),Ha=F(W,va,ya),Ia=Ha.maxDelay,ba=Math.max(Ia,0),0===(ea=Ha.maxDuration))return void q();Ja.hasTransitions=Ha.transitionDuration>0,Ja.hasAnimations=Ha.animationDuration>0}if(Ja.applyAnimationDelay&&(Ia="boolean"!=typeof S.delay&&D(S.delay)?parseFloat(S.delay):Ia,ba=Math.max(Ia,0),Ha.animationDelay=Ia,Ka=A(Ia,!0),ha.push(Ka),W.style[Ka[0]]=Ka[1]),da=ba*ma,fa=ea*ma,S.easing){var b,e=S.easing;Ja.hasTransitions&&(b=H+ca,ha.push([b,e]),W.style[b]=e),Ja.hasAnimations&&(b=J+ca,ha.push([b,e]),W.style[b]=e)}Ha.transitionDuration&&ka.push(I),Ha.animationDuration&&ka.push(K),ga=Date.now();var f=da+oa*fa,g=ga+f,h=a.data(la)||[],j=!0;if(h.length){var k=h[0];j=g>k.expectedEndTime,j?i.cancel(k.timer):h.push(q)}if(j){var l=i(c,f,!1);h[0]={timer:l,expectedEndTime:g},h.push(q),a.data(la,h)}ka.length&&a.on(ka.join(" "),P),S.to&&(S.cleanupStyles&&G(V,W,Object.keys(S.to)),p(a,S))}}function c(){var b=a.data(la);if(b){for(var c=1;c<b.length;c++)b[c]();a.removeData(la)}}if(!X){if(!W.parentNode)return void q();var e=function(a){if(Z)Y&&a&&(Y=!1,q());else if(Y=!a,Ha.animationDuration){var b=w(W,Y);Y?ha.push(b):g(ha,b)}},f=Fa>0&&(Ha.transitionDuration&&0===za.transitionDuration||Ha.animationDuration&&0===za.animationDuration)&&Math.max(za.animationDelay,za.transitionDelay);f?i(b,Math.floor(f*Fa*ma),!1):b(),_.resume=function(){e(!0)},_.pause=function(){e(!1)}}}var S=c||{};S.$$prepared||(S=m(R(S)));var V={},W=s(a);if(!W||!W.parentNode||!r.enabled())return B();var X,Y,Z,$,_,ba,da,ea,fa,ga,ha=[],ia=a.attr("class"),ja=e(S),ka=[];if(0===S.duration||!k.animations&&!k.transitions)return B();var pa=S.event&&U(S.event)?S.event.join(" "):S.event,ra=pa&&S.structural,sa="",ta="";ra?sa=f(pa,O,!0):pa&&(sa=pa),S.addClass&&(ta+=f(S.addClass,M)),S.removeClass&&(ta.length&&(ta+=" "),ta+=f(S.removeClass,N)),S.applyClassesEarly&&ta.length&&L(a,S);var ua=[sa,ta].join(" ").trim(),va=ia+" "+ua,wa=f(ua,"-active"),xa=ja.to&&Object.keys(ja.to).length>0;if(!((S.keyframeStyle||"").length>0||xa||ua))return B();var ya,za;if(S.stagger>0){var Aa=parseFloat(S.stagger);za={transitionDelay:Aa,animationDelay:Aa,transitionDuration:0,animationDuration:0}}else ya=t(W,va),za=y(W,ua,ya,qa);S.$$skipPreparationClasses||d.addClass(a,ua);var Ba;if(S.transitionStyle){var Ca=[H,S.transitionStyle];x(W,Ca),ha.push(Ca)}if(S.duration>=0){Ba=W.style[H].length>0;var Da=E(S.duration,Ba);x(W,Da),ha.push(Da)}if(S.keyframeStyle){var Ea=[J,S.keyframeStyle];x(W,Ea),ha.push(Ea)}var Fa=za?S.staggerIndex>=0?S.staggerIndex:b.count(ya):0,Ga=0===Fa;Ga&&!S.skipBlocking&&v(W,9999);var Ha=F(W,va,ya),Ia=Ha.maxDelay;ba=Math.max(Ia,0),ea=Ha.maxDuration;var Ja={};if(Ja.hasTransitions=Ha.transitionDuration>0,Ja.hasAnimations=Ha.animationDuration>0,Ja.hasTransitionAll=Ja.hasTransitions&&"all"===Ha.transitionProperty,Ja.applyTransitionDuration=xa&&(Ja.hasTransitions&&!Ja.hasTransitionAll||Ja.hasAnimations&&!Ja.hasTransitions),Ja.applyAnimationDuration=S.duration&&Ja.hasAnimations,Ja.applyTransitionDelay=D(S.delay)&&(Ja.applyTransitionDuration||Ja.hasTransitions),Ja.applyAnimationDelay=D(S.delay)&&Ja.hasAnimations,Ja.recalculateTimingStyles=ta.length>0,(Ja.applyTransitionDuration||Ja.applyAnimationDuration)&&(ea=S.duration?parseFloat(S.duration):ea,Ja.applyTransitionDuration&&(Ja.hasTransitions=!0,Ha.transitionDuration=ea,Ba=W.style[H+"Property"].length>0,ha.push(E(ea,Ba))),Ja.applyAnimationDuration&&(Ja.hasAnimations=!0,Ha.animationDuration=ea,ha.push(z(ea)))),0===ea&&!Ja.recalculateTimingStyles)return B();if(null!=S.delay){var Ka;"boolean"!=typeof S.delay&&(Ka=parseFloat(S.delay),ba=Math.max(Ka,0)),Ja.applyTransitionDelay&&ha.push(A(Ka)),Ja.applyAnimationDelay&&ha.push(A(Ka,!0))}return null==S.duration&&Ha.transitionDuration>0&&(Ja.recalculateTimingStyles=Ja.recalculateTimingStyles||Ga),da=ba*ma,fa=ea*ma,S.skipBlocking||(Ja.blockTransition=Ha.transitionDuration>0,Ja.blockKeyframeAnimation=Ha.animationDuration>0&&za.animationDelay>0&&0===za.animationDuration),S.from&&(S.cleanupStyles&&G(V,W,Object.keys(S.from)),o(a,S)),Ja.blockTransition||Ja.blockKeyframeAnimation?u(ea):S.skipBlocking||v(W,!1),{$$willAnimate:!0,end:j,start:function(){if(!X)return _={end:j,cancel:l,resume:null,pause:null},$=new h(_),C(Q),$}}}}]}],sa=["$$animationProvider",function(a){function b(a){return a.parentNode&&11===a.parentNode.nodeType}a.drivers.push("$$animateCssDriver");var c="ng-animate-shim",d="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,e,f,g,h,i,j){function k(a){return a.replace(/\bng-\S+\b/g,"")}function l(a,b){return Z(a)&&(a=a.split(" ")),Z(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function m(b,e,g){function h(a){var b={},c=s(a).getBoundingClientRect();return T(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=p.scrollTop;break;case"left":d+=p.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function i(a){return a.attr("class")||""}function j(){var b=k(i(g)),c=l(b,o),e=l(o,b),f=a(n,{to:h(g),addClass:"ng-anchor-in "+c,removeClass:d+" "+e,delay:!0});return f.$$willAnimate?f:null}function m(){n.remove(),e.removeClass(c),g.removeClass(c)}var n=_(s(e).cloneNode(!0)),o=k(i(n));e.addClass(c),g.addClass(c),n.addClass("ng-anchor"),r.append(n);var q,t=function(){var b=a(n,{addClass:d,delay:!0,from:h(e)});return b.$$willAnimate?b:null}();if(!t&&!(q=j()))return m();var u=t||q;return{start:function(){function a(){c&&c.end()}var b,c=u.start();return c.done(function(){if(c=null,!q&&(q=j()))return c=q.start(),c.done(function(){c=null,m(),b.complete()}),c;m(),b.complete()}),b=new f({end:a,cancel:a})}}}function n(a,b,c,d){var e=o(a),g=o(b),h=[];if(T(d,function(a){var b=a.out,d=a.in,e=m(c,b,d);e&&h.push(e)}),e||g||0!==h.length)return{start:function(){function a(){T(b,function(a){a.end()})}var b=[];e&&b.push(e.start()),g&&b.push(g.start()),T(h,function(a){b.push(a.start())});var c=new f({end:a,cancel:a});return f.all(b,function(a){c.complete(a)}),c}}}function o(b){var c=b.element,d=b.options||{};b.structural&&(d.event=b.event,d.structural=!0,d.applyClassesEarly=!0,"leave"===b.event&&(d.onDone=d.domOperation)),d.preparationClasses&&(d.event=y(d.event,d.preparationClasses));var e=a(c,d);return e.$$willAnimate?e:null}if(!h.animations&&!h.transitions)return aa;var p=j[0].body,q=s(g),r=_(b(q)||p.contains(q)?q:p);return function(a){return a.from&&a.to?n(a.from,a.to,a.classes,a.anchors):o(a)}}]}],ta=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=U(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var g=c[f],h=a.$$registeredAnimations[g];h&&!e[g]&&(d.push(b.get(h)),e[g]=!0)}return d}var f=l(d);return function(a,b,d,g){function h(){g.domOperation(),f(a,g)}function i(){o=!0,h(),n(a,g)}function j(a,b,d,e,f){var g;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,r,s,f];break;case"addClass":g=[b,r,f];break;case"removeClass":g=[b,s,f];break;default:g=[b,f]}g.push(e);var h=a.apply(a,g);if(h)if(X(h.start)&&(h=h.start()),h instanceof c)h.done(f);else if(X(h))return h;return aa}function k(a,b,d,e,f){var g=[];return T(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,i=function(a){g||(g=!0,(f||aa)(a),e.complete(!a))};return e=new c({end:function(){i()},cancel:function(){i(!0)}}),f=j(h,a,b,d,function(a){i(!1===a)}),e})}),g}function l(a,b,d,e,f){var g=k(a,b,d,e,f);if(0===g.length){var h,i;"beforeSetClass"===f?(h=k(a,"removeClass",d,e,"beforeRemoveClass"),i=k(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=k(a,"removeClass",d,e,"removeClass"),i=k(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),i&&(g=g.concat(i))}if(0!==g.length)return function(a){var b=[];return g.length&&T(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){T(b,function(b){a?b.cancel():b.end()})}}}var o=!1;3===arguments.length&&Y(d)&&(g=d,d=null),g=m(g),d||(d=a.attr("class")||"",g.addClass&&(d+=" "+g.addClass),g.removeClass&&(d+=" "+g.removeClass));var p,q,r=g.addClass,s=g.removeClass,t=e(d);if(t.length){var u,v;"leave"===b?(v="leave",u="afterLeave"):(v="before"+b.charAt(0).toUpperCase()+b.substr(1),u=b),"enter"!==b&&"move"!==b&&(p=l(a,b,g,t,v)),q=l(a,b,g,t,u)}if(p||q){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(i(),w=new c,w.complete(!0)),w},start:function(){function a(a){i(a),w.complete(a)}function b(b){o||((d||aa)(b),a(b))}if(w)return w;w=new c;var d,e=[];return p&&e.push(function(a){d=p(a)}),e.length?e.push(function(a){h(),a(!0)}):h(),q&&e.push(function(a){d=q(a)}),w.setHost({end:function(){b()},cancel:function(){b(!0)}}),c.chain(e,a),w}}}}}]}],ua=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,b){function c(b){var c=b.element,d=b.event,e=b.options,f=b.classes;return a(c,d,f,e)}return function(a){if(a.from&&a.to){var d=c(a.from),e=c(a.to);if(!d&&!e)return;return{start:function(){function a(){return function(){T(f,function(a){a.end()})}}function c(a){g.complete(a)}var f=[];d&&f.push(d.start()),e&&f.push(e.start()),b.all(f,c);var g=new b({end:a(),cancel:a()});return g}}}return c(a)}}]}],va="data-ng-animate",wa="$ngAnimatePin",xa=["$animateProvider",function(b){function d(a){if(!a)return null;var b=a.split(o),c=Object.create(null);return T(b,function(a){c[a]=!0}),c}function e(a,b){if(a&&b){var c=d(b);return a.split(o).some(function(a){return c[a]})}}function f(a,b,c,d){return p[a].some(function(a){return a(b,c,d)})}function g(a,b){var c=(a.addClass||"").length>0,d=(a.removeClass||"").length>0;return b?c&&d:c||d}var j=1,k=2,o=" ",p=this.rules={skip:[],cancel:[],join:[]};p.join.push(function(a,b,c){return!b.structural&&g(b)}),p.skip.push(function(a,b,c){return!b.structural&&!g(b)}),p.skip.push(function(a,b,c){return"leave"===c.event&&b.structural}),p.skip.push(function(a,b,c){return c.structural&&c.state===k&&!b.structural}),p.cancel.push(function(a,b,c){return c.structural&&b.structural}),p.cancel.push(function(a,b,c){return c.state===k&&b.structural}),p.cancel.push(function(a,b,c){if(c.structural)return!1;var d=b.addClass,f=b.removeClass,g=c.addClass,h=c.removeClass;return!($(d)&&$(f)||$(g)&&$(h))&&(e(d,h)||e(f,g))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(d,e,o,p,r,v,w,x,y,z){function A(){var a=!1;return function(b){a?b():e.$$postDigest(function(){a=!0,b()})}}function B(a,b){return q(a,b,{})}function C(a,b,c){var d=s(b),e=s(a),f=[],g=X[c];return g&&T(g,function(a){da.call(a.node,d)?f.push(a.callback):"leave"===c&&da.call(a.node,e)&&f.push(a.callback)}),f}function D(a,b,c){var d=i(b);return a.filter(function(a){return!(a.node===d&&(!c||a.callback===c))})}function E(a,b){"close"!==a||b[0].parentNode||ea.off(b)}function F(a,b,c){function i(b,c,e,f){z(function(){var b=C(r,a,c);b.length?d(function(){T(b,function(b){b(a,e,f)}),E(e,a)}):E(e,a)}),b.progress(c,e,f)}function l(b){u(a,x),ca(a,x),n(a,x),x.domOperation(),y.complete(!b)}var o,r,x=R(c);a=h(a),a&&(o=s(a),r=a.parent()),x=m(x);var y=new w,z=A();if(U(x.addClass)&&(x.addClass=x.addClass.join(" ")),x.addClass&&!Z(x.addClass)&&(x.addClass=null),U(x.removeClass)&&(x.removeClass=x.removeClass.join(" ")),x.removeClass&&!Z(x.removeClass)&&(x.removeClass=null),x.from&&!Y(x.from)&&(x.from=null),x.to&&!Y(x.to)&&(x.to=null),!o)return l(),y;var D=[o.className,x.addClass,x.removeClass].join(" ");if(!ba(D))return l(),y;var F=["enter","move","leave"].indexOf(b)>=0,I=p[0].hidden,L=!O||I||N.get(o),P=!L&&M.get(o)||{},Q=!!P.state;if(L||Q&&P.state===j||(L=!J(a,r,b)),L)return I&&i(y,b,"start"),l(),I&&i(y,b,"close"),y;F&&G(a);var S={structural:F,element:a,event:b,addClass:x.addClass,removeClass:x.removeClass,close:l,options:x,runner:y};if(Q){if(f("skip",a,S,P))return P.state===k?(l(),y):(q(a,P,S),P.runner);if(f("cancel",a,S,P))if(P.state===k)P.runner.end();else{if(!P.structural)return q(a,P,S),P.runner;P.close()}else{if(f("join",a,S,P)){if(P.state!==k)return t(a,F?b:null,x),b=S.event=P.event,x=q(a,P,S),P.runner;B(a,S)}}}else B(a,S);var V=S.structural;if(V||(V="animate"===S.event&&Object.keys(S.options.to||{}).length>0||g(S)),!V)return l(),H(a),y;var W=(P.counter||0)+1;return S.counter=W,K(a,j,S),e.$$postDigest(function(){var c=M.get(o),d=!c;c=c||{};var e=a.parent()||[],f=e.length>0&&("animate"===c.event||c.structural||g(c));if(d||c.counter!==W||!f)return d&&(ca(a,x),n(a,x)),(d||F&&c.event!==b)&&(x.domOperation(),y.end()),void(f||H(a));b=!c.structural&&g(c,!0)?"setClass":c.event,K(a,k);var h=v(a,b,c.options);y.setHost(h),i(y,b,"start",{}),h.done(function(c){l(!c);var d=M.get(o);d&&d.counter===W&&H(s(a)),i(y,b,"close",{})})}),y}function G(a){var b=s(a),c=b.querySelectorAll("["+va+"]");T(c,function(a){var b=parseInt(a.getAttribute(va),10),c=M.get(a);if(c)switch(b){case k:c.runner.end();case j:M.remove(a)}})}function H(a){var b=s(a);b.removeAttribute(va),M.remove(b)}function I(a,b){return s(a)===s(b)}function J(a,b,c){var d,e=_(p[0].body),f=I(a,e)||"HTML"===a[0].nodeName,g=I(a,o),h=!1,i=N.get(s(a)),j=_.data(a[0],wa);for(j&&(b=j),b=s(b);b&&(g||(g=I(b,o)),b.nodeType===L);){var k=M.get(b)||{};if(!h){var l=N.get(b);if(!0===l&&!1!==i){i=!0;break}!1===l&&(i=!1),h=k.structural}if($(d)||!0===d){var m=_.data(b,Q);V(m)&&(d=m)}if(h&&!1===d)break;if(f||(f=I(b,e)),f&&g)break;b=g||!(j=_.data(b,wa))?b.parentNode:s(j)}return(!h||d)&&!0!==i&&g&&f}function K(a,b,c){c=c||{},c.state=b;var d=s(a);d.setAttribute(va,b);var e=M.get(d),f=e?S(e,c):c;M.put(d,f)}var M=new r,N=new r,O=null,P=e.$watch(function(){return 0===x.totalPendingRequests},function(a){a&&(P(),e.$$postDigest(function(){e.$$postDigest(function(){null===O&&(O=!0)})}))}),X=Object.create(null),aa=b.classNameFilter(),ba=aa?function(a){return aa.test(a)}:function(){return!0},ca=l(y),da=a.Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))},ea={on:function(a,b,c){var d=i(b);X[a]=X[a]||[],X[a].push({node:d,callback:c}),_(b).on("$destroy",function(){M.get(d)||ea.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||Z(arguments[0])){var d=X[a];d&&(X[a]=1===arguments.length?null:D(d,b,c))}else{b=arguments[0];for(var e in X)X[e]=D(X[e],b)}},pin:function(a,b){c(W(a),"element","not an element"),c(W(b),"parentElement","not an element"),a.data(wa,b)},push:function(a,b,c,d){return c=c||{},c.domOperation=d,F(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!O;else{if(W(a)){var d=s(a);1===c?b=!N.get(d):N.put(d,!b)}else b=O=!!a}return b}};return ea}]}],ya=["$animateProvider",function(a){function b(a,b){a.data(h,b)}function c(a){a.removeData(h)}function e(a){return a.data(h)}var f="ng-animate-ref",g=this.drivers=[],h="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,h,i,j,k,o){function p(a){function b(a){if(a.processed)return a;a.processed=!0;var c=a.domNode,f=c.parentNode;e.put(c,a);for(var g;f;){if(g=e.get(f)){g.processed||(g=b(g));break}f=f.parentNode}return(g||d).children.push(a),a}var c,d={children:[]},e=new k;for(c=0;c<a.length;c++){var f=a[c];e.put(f.domNode,a[c]={domNode:f.domNode,fn:f.fn,children:[]})}for(c=0;c<a.length;c++)b(a[c]);return function(a){var b,c=[],d=[];for(b=0;b<a.children.length;b++)d.push(a.children[b]);var e=d.length,f=0,g=[];for(b=0;b<d.length;b++){var h=d[b];e<=0&&(e=f,f=0,c.push(g),g=[]),g.push(h.fn),h.children.forEach(function(a){f++,d.push(a)}),e--}return g.length&&c.push(g),c}(d)}var q=[],r=l(a);return function(k,l,t){function u(a){var b="["+f+"]",c=a.hasAttribute(f)?[a]:a.querySelectorAll(b),d=[];return T(c,function(a){var b=a.getAttribute(f);b&&b.length&&d.push(a)}),d}function v(a){var b=[],c={};T(a,function(a,d){var e=a.element,g=s(e),h=a.event,i=["enter","move"].indexOf(h)>=0,j=a.structural?u(g):[];if(j.length){var k=i?"to":"from";T(j,function(a){var b=a.getAttribute(f);c[b]=c[b]||{},c[b][k]={animationID:d,element:_(a)}})}else b.push(a)});var d={},e={};return T(c,function(c,f){var g=c.from,h=c.to;if(!g||!h){var i=g?g.animationID:h.animationID,j=i.toString();return void(d[j]||(d[j]=!0,b.push(a[i])))}var k=a[g.animationID],l=a[h.animationID],m=g.animationID.toString();if(!e[m]){var n=e[m]={structural:!0,beforeStart:function(){k.beforeStart(),l.beforeStart()},close:function(){k.close(),l.close()},classes:w(k.classes,l.classes),from:k,to:l,anchors:[]};n.classes.length?b.push(n):(b.push(k),b.push(l))}e[m].anchors.push({out:g.element,in:h.element})}),b}function w(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var e=a[d];if("ng-"!==e.substring(0,3))for(var f=0;f<b.length;f++)if(e===b[f]){c.push(e);break}}return c.join(" ")}function x(a){for(var b=g.length-1;b>=0;b--){var c=g[b],d=i.get(c),e=d(a);if(e)return e}}function y(){k.addClass(P),F&&a.addClass(k,F),G&&(a.removeClass(k,G),G=null)}function z(a,b){function c(a){var c=e(a);c&&c.setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function A(){var a=e(k);!a||"leave"===l&&t.$$domOperationFired||a.end()}function B(b){k.off("$destroy",A),c(k),r(k,t),n(k,t),t.domOperation(),F&&a.removeClass(k,F),k.removeClass(P),D.complete(!b)}t=m(t);var C=["enter","move","leave"].indexOf(l)>=0,D=new j({end:function(){B()},cancel:function(){B(!0)}});if(!g.length)return B(),D;b(k,D);var E=d(k.attr("class"),d(t.addClass,t.removeClass)),F=t.tempClasses;F&&(E+=" "+F,t.tempClasses=null);var G;return C&&(G="ng-"+l+"-prepare",a.addClass(k,G)),q.push({element:k,classes:E,event:l,structural:C,options:t,beforeStart:y,close:B}),k.on("$destroy",A),q.length>1?D:(h.$$postDigest(function(){var a=[];T(q,function(b){e(b.element)?a.push(b):b.close()}),q.length=0;var b=v(a),c=[];T(b,function(a){c.push({domNode:s(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close;if(e(a.anchors?a.from.element||a.to.element:a.element)){var d=x(a);d&&(b=d.start)}if(b){var f=b();f.done(function(a){c(!a)}),z(a,f)}else c()}})}),o(p(c))}),D)}}]
}],za=["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,c,d,e,f){var g,h;b.$watchCollection(d.ngAnimateSwap||d.for,function(d){g&&a.leave(g),h&&(h.$destroy(),h=null),(d||0===d)&&(h=b.$new(),f(h,function(b){g=b,a.enter(b,null,c)}))})}}}];b.module("ngAnimate",[],function(){aa=b.noop,R=b.copy,S=b.extend,_=b.element,T=b.forEach,U=b.isArray,Z=b.isString,Y=b.isObject,$=b.isUndefined,V=b.isDefined,X=b.isFunction,W=b.isElement}).directive("ngAnimateSwap",za).directive("ngAnimateChildren",ka).factory("$$rAFScheduler",ja).provider("$$animateQueue",xa).provider("$$animation",ya).provider("$animateCss",ra).provider("$$animateCssDriver",sa).provider("$$animateJs",ta).provider("$$animateJsDriver",ua)}(window,window.angular),function(a,b){"use strict";function c(){function a(a,b,d,e){return function(g,h,i){var j=i.$normalize(b);!c[j]||f(h,d)||i[j]||g.$watch(i[a],function(a){a=e?!a:!!a,h.attr(b,a)})}}var c={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(a){c=b.extend(c,a)},this.$get=function(){return{config:function(a){return c[a]},$$watchExpr:a}}}var d=b.module("ngAria",["ng"]).provider("$aria",c),e=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],f=function(a,b){if(-1!==b.indexOf(a[0].nodeName))return!0};d.directive("ngShow",["$aria",function(a){return a.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(a){return a.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(a){return a.$$watchExpr("ngValue","aria-checked",e,!1)}]).directive("ngChecked",["$aria",function(a){return a.$$watchExpr("ngChecked","aria-checked",e,!1)}]).directive("ngReadonly",["$aria",function(a){return a.$$watchExpr("ngReadonly","aria-readonly",e,!1)}]).directive("ngRequired",["$aria",function(a){return a.$$watchExpr("ngRequired","aria-required",e,!1)}]).directive("ngModel",["$aria",function(a){function b(b,c,d,g){return a.config(c)&&!d.attr(b)&&(g||!f(d,e))}function c(a,b){return!b.attr("role")&&b.attr("type")===a&&"INPUT"!==b[0].nodeName}function d(a,b){var c=a.type,d=a.role;return"checkbox"===(c||d)||"menuitemcheckbox"===d?"checkbox":"radio"===(c||d)||"menuitemradio"===d?"radio":"range"===c||"progressbar"===d||"slider"===d?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(e,f){var g=d(f,e);return{pre:function(a,b,c,d){"checkbox"===g&&(d.$isEmpty=function(a){return!1===a})},post:function(d,e,f,h){function i(){return h.$modelValue}function j(a){var b=f.value==h.$viewValue;e.attr("aria-checked",b)}function k(){e.attr("aria-checked",!h.$isEmpty(h.$viewValue))}var l=b("tabindex","tabindex",e,!1);switch(g){case"radio":case"checkbox":c(g,e)&&e.attr("role",g),b("aria-checked","ariaChecked",e,!1)&&d.$watch(i,"radio"===g?j:k),l&&e.attr("tabindex",0);break;case"range":if(c(g,e)&&e.attr("role","slider"),a.config("ariaValue")){var m=!e.attr("aria-valuemin")&&(f.hasOwnProperty("min")||f.hasOwnProperty("ngMin")),n=!e.attr("aria-valuemax")&&(f.hasOwnProperty("max")||f.hasOwnProperty("ngMax")),o=!e.attr("aria-valuenow");m&&f.$observe("min",function(a){e.attr("aria-valuemin",a)}),n&&f.$observe("max",function(a){e.attr("aria-valuemax",a)}),o&&d.$watch(i,function(a){e.attr("aria-valuenow",a)})}l&&e.attr("tabindex",0)}!f.hasOwnProperty("ngRequired")&&h.$validators.required&&b("aria-required","ariaRequired",e,!1)&&f.$observe("required",function(){e.attr("aria-required",!!f.required)}),b("aria-invalid","ariaInvalid",e,!0)&&d.$watch(function(){return h.$invalid},function(a){e.attr("aria-invalid",!!a)})}}}}}]).directive("ngDisabled",["$aria",function(a){return a.$$watchExpr("ngDisabled","aria-disabled",e,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(a,b,c,d){b.attr("aria-live")||b.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(a,b){return{restrict:"A",compile:function(c,d){var g=b(d.ngClick,null,!0);return function(b,c,d){f(c,e)||(a.config("bindRoleForClick")&&!c.attr("role")&&c.attr("role","button"),a.config("tabindex")&&!c.attr("tabindex")&&c.attr("tabindex",0),a.config("bindKeypress")&&!d.ngKeypress&&c.on("keypress",function(a){function c(){g(b,{$event:a})}var d=a.which||a.keyCode;32!==d&&13!==d||b.$apply(c)}))}}}}]).directive("ngDblclick",["$aria",function(a){return function(b,c,d){!a.config("tabindex")||c.attr("tabindex")||f(c,e)||c.attr("tabindex",0)}}])}(window,window.angular),function(a,b){"use strict";function c(a,c,d){function e(a,d,e){var g,h;e=e||{},h=e.expires,g=b.isDefined(e.path)?e.path:f,b.isUndefined(d)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",d=""),b.isString(h)&&(h=new Date(h));var i=encodeURIComponent(a)+"="+encodeURIComponent(d);i+=g?";path="+g:"",i+=e.domain?";domain="+e.domain:"",i+=h?";expires="+h.toUTCString():"",i+=e.secure?";secure":"";var j=i.length+1;return j>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+j+" > 4096 bytes)!"),i}var f=d.baseHref(),g=a[0];return function(a,b,c){g.cookie=e(a,b,c)}}b.module("ngCookies",["ng"]).provider("$cookies",[function(){function a(a){return a?b.extend({},c,a):c}var c=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(c,d){return{get:function(a){return c()[a]},getObject:function(a){var c=this.get(a);return c?b.fromJson(c):c},getAll:function(){return c()},put:function(b,c,e){d(b,c,a(e))},putObject:function(a,c,d){this.put(a,b.toJson(c),d)},remove:function(b,c){d(b,void 0,a(c))}}}]}]),b.module("ngCookies").factory("$cookieStore",["$cookies",function(a){return{get:function(b){return a.getObject(b)},put:function(b,c){a.putObject(b,c)},remove:function(b){a.remove(b)}}}]),c.$inject=["$document","$log","$browser"],b.module("ngCookies").provider("$$cookieWriter",function(){this.$get=c})}(window,window.angular),function(){angular.module("angular-jwt",["angular-jwt.options","angular-jwt.interceptor","angular-jwt.jwt","angular-jwt.authManager"]),angular.module("angular-jwt.authManager",[]).provider("authManager",function(){this.$get=["$rootScope","$injector","$location","jwtHelper","jwtInterceptor","jwtOptions",function(a,b,c,d,e,f){function g(a){return Array.isArray(a)?b.invoke(a,this,{options:null}):a()}function h(a){if(Array.isArray(a)||angular.isFunction(a))return b.invoke(a,o,{});throw new Error("unauthenticatedRedirector must be a function")}function i(){var a=g(o.tokenGetter);if(a)return!d.isTokenExpired(a)}function j(){a.isAuthenticated=!0}function k(){a.isAuthenticated=!1}function l(){a.$on("$locationChangeStart",function(){var b=g(o.tokenGetter);b&&(d.isTokenExpired(b)?a.$broadcast("tokenHasExpired",b):j())})}function m(){a.$on("unauthenticated",function(){h(o.unauthenticatedRedirector),k()})}function n(a,b){if(!b)return!1;var c=b.$$route?b.$$route:b.data;if(c&&!0===c.requiresLogin){var e=g(o.tokenGetter);e&&!d.isTokenExpired(e)||(a.preventDefault(),h(o.unauthenticatedRedirector))}}var o=f.getConfig();a.isAuthenticated=!1;var p=b.has("$state")?"$stateChangeStart":"$routeChangeStart";return a.$on(p,n),{authenticate:j,unauthenticate:k,getToken:function(){return g(o.tokenGetter)},redirect:function(){return h(o.unauthenticatedRedirector)},checkAuthOnRefresh:l,redirectWhenUnauthenticated:m,isAuthenticated:i}}]}),angular.module("angular-jwt.interceptor",[]).provider("jwtInterceptor",function(){this.urlParam,this.authHeader,this.authPrefix,this.whiteListedDomains,this.tokenGetter;var a=this;this.$get=["$q","$injector","$rootScope","urlUtils","jwtOptions",function(b,c,d,e,f){function g(a){if(!e.isSameOrigin(a)&&!h.whiteListedDomains.length)throw new Error("As of v0.1.0, requests to domains other than the application's origin must be white listed. Use jwtOptionsProvider.config({ whiteListedDomains: [<domain>] }); to whitelist.");for(var b=e.urlResolve(a).hostname.toLowerCase(),c=0;c<h.whiteListedDomains.length;c++){var d=h.whiteListedDomains[c],f=d instanceof RegExp?d:new RegExp(d,"i");if(b.match(f))return!0}return!!e.isSameOrigin(a)}var h=angular.extend({},f.getConfig(),a);return{request:function(a){if(a.skipAuthorization||!g(a.url))return a;if(h.urlParam){if(a.params=a.params||{},a.params[h.urlParam])return a}else if(a.headers=a.headers||{},a.headers[h.authHeader])return a;return b.when(c.invoke(h.tokenGetter,this,{options:a})).then(function(b){return b&&(h.urlParam?a.params[h.urlParam]=b:a.headers[h.authHeader]=h.authPrefix+b),a})},responseError:function(a){return 401===a.status&&d.$broadcast("unauthenticated",a),b.reject(a)}}}]}),angular.module("angular-jwt.jwt",[]).service("jwtHelper",["$window",function(a){this.urlBase64Decode=function(b){var c=b.replace(/-/g,"+").replace(/_/g,"/");switch(c.length%4){case 0:break;case 2:c+="==";break;case 3:c+="=";break;default:throw"Illegal base64url string!"}return a.decodeURIComponent(escape(a.atob(c)))},this.decodeToken=function(a){var b=a.split(".");if(3!==b.length)throw new Error("JWT must have 3 parts");var c=this.urlBase64Decode(b[1]);if(!c)throw new Error("Cannot decode the token");return angular.fromJson(c)},this.getTokenExpirationDate=function(a){var b=this.decodeToken(a);if(void 0===b.exp)return null;var c=new Date(0);return c.setUTCSeconds(b.exp),c},this.isTokenExpired=function(a,b){var c=this.getTokenExpirationDate(a);return b=b||0,null!==c&&!(c.valueOf()>(new Date).valueOf()+1e3*b)}}]),angular.module("angular-jwt.options",[]).provider("jwtOptions",function(){var a={};this.config=function(b){a=b},this.$get=function(){function b(){this.config=angular.extend({},c,a)}var c={urlParam:null,authHeader:"Authorization",authPrefix:"Bearer ",whiteListedDomains:[],tokenGetter:function(){return null},loginPath:"/",unauthenticatedRedirectPath:"/",unauthenticatedRedirector:["$location",function(a){a.path(this.unauthenticatedRedirectPath)}]};return b.prototype.getConfig=function(){return this.config},new b}}),angular.module("angular-jwt.interceptor").service("urlUtils",function(){function a(a){var b=a;return c.setAttribute("href",b),b=c.href,c.setAttribute("href",b),{href:c.href,protocol:c.protocol?c.protocol.replace(/:$/,""):"",host:c.host,search:c.search?c.search.replace(/^\?/,""):"",hash:c.hash?c.hash.replace(/^#/,""):"",hostname:c.hostname,port:c.port,pathname:"/"===c.pathname.charAt(0)?c.pathname:"/"+c.pathname}}function b(b){var c=angular.isString(b)?a(b):b;return c.protocol===d.protocol&&c.host===d.host}var c=document.createElement("a"),d=a(window.location.href);return{urlResolve:a,isSameOrigin:b}})}(),function(a,b){"use strict";function c(){function a(a,b){if(a)return e(a)?a.indexOf(b)>=0:a.hasOwnProperty(b)}return["$animate",function(b){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(c,d,f,g,h){var i,j=d[0],k=f.ngMessage||f.when,l=f.ngMessageExp||f.whenExp,m=function(a){i=a?e(a)?a:a.split(/[\s,]+/):null,g.reRender()};l?(m(c.$eval(l)),c.$watchCollection(l,m)):m(k);var n,o;g.register(j,o={test:function(b){return a(i,b)},attach:function(){n||h(function(a,c){b.enter(a,null,d),n=a;var e=n.$$attachId=g.getAttachId();n.on("$destroy",function(){n&&n.$$attachId===e&&(g.deregister(j),o.detach()),c.$destroy()})})},detach:function(){if(n){var a=n;n=null,b.leave(a)}}})}}}]}var d,e,f,g;b.module("ngMessages",[],function(){d=b.forEach,e=b.isArray,f=b.isString,g=b.element}).directive("ngMessages",["$animate",function(a){function b(a,b){return f(b)&&0===b.length||c(a.$eval(b))}function c(a){return f(a)?a.length:!!a}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(e,f,g){function h(a,b){for(var c=b,d=[];c&&c!==a;){var e=c.$$ngMessageNode;if(e&&e.length)return p[e];c.childNodes.length&&-1===d.indexOf(c)?(d.push(c),c=c.childNodes[c.childNodes.length-1]):c.previousSibling?c=c.previousSibling:(c=c.parentNode,d.push(c))}}function i(a,b,c){var d=p[c];if(k.head){var e=h(a,b);e?(d.next=e.next,e.next=d):(d.next=k.head,k.head=d)}else k.head=d}function j(a,b,c){var d=p[c],e=h(a,b);e?e.next=d.next:k.head=d.next}var k=this,l=0,m=0;this.getAttachId=function(){return m++};var n,o,p=this.messages={};this.render=function(h){h=h||{},n=!1,o=h;for(var i=b(f,g.ngMessagesMultiple)||b(f,g.multiple),j=[],l={},m=k.head,p=!1,q=0;null!=m;){q++;var r=m.message,s=!1;p||d(h,function(a,b){if(!s&&c(a)&&r.test(b)){if(l[b])return;l[b]=!0,s=!0,r.attach()}}),s?p=!i:j.push(r),m=m.next}d(j,function(a){a.detach()}),j.length!==q?a.setClass(e,"ng-active","ng-inactive"):a.setClass(e,"ng-inactive","ng-active")},f.$watchCollection(g.ngMessages||g.for,k.render),e.on("$destroy",function(){d(p,function(a){a.message.detach()})}),this.reRender=function(){n||(n=!0,f.$evalAsync(function(){n&&o&&k.render(o)}))},this.register=function(a,b){var c=l.toString();p[c]={message:b},i(e[0],a,c),a.$$ngMessageNode=c,l++,k.reRender()},this.deregister=function(a){var b=a.$$ngMessageNode;delete a.$$ngMessageNode,j(e[0],a,b),delete p[b],k.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(a,b,c){function d(a,d){var e=c.$$createComment?c.$$createComment("ngMessagesInclude",d):b[0].createComment(" ngMessagesInclude: "+d+" "),f=g(e);a.after(f),a.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(b,e,g){var h=g.ngMessagesInclude||g.src;a(h).then(function(a){b.$$destroyed||(f(a)&&!a.trim()?d(e,h):c(a)(b,function(a){e.after(a),d(e,h)}))})}}}]).directive("ngMessage",c()).directive("ngMessageExp",c())}(window,window.angular),function(a,b){"use strict";function c(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&g.test("."+a)}function d(a,d){if(!c(d))throw f("badmember",'Dotted member path "@{0}" is invalid.',d);for(var e=d.split("."),g=0,h=e.length;g<h&&b.isDefined(a);g++){var i=e[g];a=null!==a?a[i]:void 0}return a}function e(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var f=b.$$minErr("$resource"),g=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;b.module("ngResource",["ng"]).provider("$resource",function(){var a=/^https?:\/\/[^\/]*/,c=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(g,h,i,j){function k(a){return l(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function l(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function m(a,b){this.template=a,this.defaults=q({},c.defaults,b),this.urlParams={}}function n(a,k,l,t){function u(a,b){var c={};return b=q({},k,b),p(b,function(b,e){s(b)&&(b=b(a)),c[e]=b&&b.charAt&&"@"===b.charAt(0)?d(a,b.substr(1)):b}),c}function v(a){return a.resource}function w(a){e(a||{},this)}var x=new m(a,t);return l=q({},c.defaults.actions,l),w.prototype.toJSON=function(){var a=q({},this);return delete a.$promise,delete a.$resolved,a},p(l,function(a,d){var k=/^(POST|PUT|PATCH)$/i.test(a.method),l=a.timeout,m=b.isDefined(a.cancellable)?a.cancellable:t&&b.isDefined(t.cancellable)?t.cancellable:c.defaults.cancellable;l&&!b.isNumber(l)&&(h.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete a.timeout,l=null),w[d]=function(c,h,n,t){var y,z,A,B={};switch(arguments.length){case 4:A=t,z=n;case 3:case 2:if(!s(h)){B=c,y=h,z=n;break}if(s(c)){z=c,A=h;break}z=h,A=n;case 1:s(c)?z=c:k?y=c:B=c;break;case 0:break;default:throw f("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var C,D,E=this instanceof w,F=E?y:a.isArray?[]:new w(y),G={},H=a.interceptor&&a.interceptor.response||v,I=a.interceptor&&a.interceptor.responseError||void 0;p(a,function(a,b){switch(b){default:G[b]=r(a);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!E&&m&&(C=i.defer(),G.timeout=C.promise,l&&(D=j(C.resolve,l))),k&&(G.data=y),x.setUrlParams(G,q({},u(y,a.params||{}),B),a.url);var J=g(G).then(function(c){var g=c.data;if(g){if(b.isArray(g)!==!!a.isArray)throw f("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",d,a.isArray?"array":"object",b.isArray(g)?"array":"object",G.method,G.url);if(a.isArray)F.length=0,p(g,function(a){"object"==typeof a?F.push(new w(a)):F.push(a)});else{var h=F.$promise;e(g,F),F.$promise=h}}return c.resource=F,c},function(a){return(A||o)(a),i.reject(a)});return J.finally(function(){F.$resolved=!0,!E&&m&&(F.$cancelRequest=b.noop,j.cancel(D),C=D=G.timeout=null)}),J=J.then(function(a){var b=H(a);return(z||o)(b,a.headers),b},I),E?J:(F.$promise=J,F.$resolved=!1,m&&(F.$cancelRequest=C.resolve),F)},w.prototype["$"+d]=function(a,b,c){s(a)&&(c=b,b=a,a={});var e=w[d].call(this,a,this,b,c);return e.$promise||e}}),w.bind=function(b){return n(a,q({},k,b),l)},w}var o=b.noop,p=b.forEach,q=b.extend,r=b.copy,s=b.isFunction;return m.prototype={setUrlParams:function(c,d,e){var g,h,i=this,j=e||i.template,m="",n=i.urlParams={};p(j.split(/\W/),function(a){if("hasOwnProperty"===a)throw f("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(j)&&(n[a]={isQueryParamValue:new RegExp("\\?.*=:"+a+"(?:\\W|$)").test(j)})}),j=j.replace(/\\:/g,":"),j=j.replace(a,function(a){return m=a,""}),d=d||{},p(i.urlParams,function(a,c){g=d.hasOwnProperty(c)?d[c]:i.defaults[c],b.isDefined(g)&&null!==g?(h=a.isQueryParamValue?l(g,!0):k(g),j=j.replace(new RegExp(":"+c+"(\\W|$)","g"),function(a,b){return h+b})):j=j.replace(new RegExp("(/?):"+c+"(\\W|$)","g"),function(a,b,c){return"/"===c.charAt(0)?c:b+c})}),i.defaults.stripTrailingSlashes&&(j=j.replace(/\/+$/,"")||"/"),j=j.replace(/\/\.(?=\w+($|\?))/,"."),c.url=m+j.replace(/\/\\\./,"/."),p(d,function(a,b){i.urlParams[b]||(c.params=c.params||{},c.params[b]=a)})}},n}]})}(window,window.angular),function(a,b){"use strict";function c(){function c(a,b){var c,d={},e=a.split(",");for(c=0;c<e.length;c++)d[b?i(e[c]):e[c]]=!0;return d}function d(b,c){null===b||void 0===b?b="":"string"!=typeof b&&(b=""+b),s.innerHTML=b;var d=5;do{if(0===d)throw m("uinput","Failed to sanitize html because the input is unstable");d--,a.document.documentMode&&q(s),b=s.innerHTML,s.innerHTML=b}while(b!==s.innerHTML);for(var e=s.firstChild;e;){switch(e.nodeType){case 1:c.start(e.nodeName.toLowerCase(),n(e.attributes));break;case 3:c.chars(e.textContent)}var f;if(!((f=e.firstChild)||(1===e.nodeType&&c.end(e.nodeName.toLowerCase()),f=e.nextSibling)))for(;null==f&&(e=e.parentNode)!==s;)f=e.nextSibling,1===e.nodeType&&c.end(e.nodeName.toLowerCase());e=f}for(;e=s.firstChild;)s.removeChild(e)}function n(a){for(var b={},c=0,d=a.length;c<d;c++){var e=a[c];b[e.name]=e.value}return b}function o(a){return a.replace(/&/g,"&amp;").replace(t,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(a,b){var c=!1,d=e(a,a.push);return{start:function(a,e){a=i(a),!c&&C[a]&&(c=a),c||!0!==D[a]||(d("<"),d(a),g(e,function(c,e){var f=i(e),g="img"===a&&"src"===f||"background"===f;!0!==H[f]||!0===E[f]&&!b(c,g)||(d(" "),d(e),d('="'),d(o(c)),d('"'))}),d(">"))},end:function(a){a=i(a),c||!0!==D[a]||!0===v[a]||(d("</"),d(a),d(">")),a==c&&(c=!1)},chars:function(a){c||d(o(a))}}}function q(b){if(b.nodeType===a.Node.ELEMENT_NODE)for(var c=b.attributes,d=0,e=c.length;d<e;d++){var f=c[d],g=f.name.toLowerCase();"xmlns:ns1"!==g&&0!==g.lastIndexOf("ns1:",0)||(b.removeAttributeNode(f),d--,e--)}var h=b.firstChild;h&&q(h),(h=b.nextSibling)&&q(h)}var r=!1;this.$get=["$$sanitizeUri",function(a){return r&&f(D,B),function(b){var c=[];return k(b,l(c,function(b,c){return!/^unsafe:/.test(a(b,c))})),c.join("")}}],this.enableSvg=function(a){return h(a)?(r=a,this):r},e=b.bind,f=b.extend,g=b.forEach,h=b.isDefined,i=b.lowercase,j=b.noop,k=d,l=p;var s,t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^#-~ |!])/g,v=c("area,br,col,hr,img,wbr"),w=c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=c("rp,rt"),y=f({},x,w),z=f({},w,c("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),A=f({},x,c("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),B=c("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=c("script,style"),D=f({},v,z,A,y),E=c("background,cite,href,longdesc,src,xlink:href"),F=c("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),G=c("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),H=f({},E,G,F);!function(a){var b;if(!a.document||!a.document.implementation)throw m("noinert","Can't create an inert html document");b=a.document.implementation.createHTMLDocument("inert");var c=b.documentElement||b.getDocumentElement(),d=c.getElementsByTagName("body");if(1===d.length)s=d[0];else{var e=b.createElement("html");s=b.createElement("body"),e.appendChild(s),b.appendChild(e)}}(a)}function d(a){var b=[];return l(b,j).chars(a),b.join("")}var e,f,g,h,i,j,k,l,m=b.$$minErr("$sanitize");b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,e=/^mailto:/i,f=b.$$minErr("linky"),g=b.isDefined,h=b.isFunction,i=b.isObject,j=b.isString;return function(b,k,l){function m(a){a&&s.push(d(a))}if(null==b||""===b)return b;if(!j(b))throw f("notstring","Expected string but received: {0}",b);for(var n,o,p,q=h(l)?l:i(l)?function(){return l}:function(){return{}},r=b,s=[];n=r.match(c);)o=n[0],n[2]||n[4]||(o=(n[3]?"http://":"mailto:")+o),p=n.index,m(r.substr(0,p)),function(a,b){var c,d=q(a);s.push("<a ");for(c in d)s.push(c+'="'+d[c]+'" ');!g(k)||"target"in d||s.push('target="',k,'" '),s.push('href="',a.replace(/"/g,"&quot;"),'">'),m(b),s.push("</a>")}(o,n[0].replace(e,"")),r=r.substring(p+n[0].length);return m(r),a(s.join(""))}}])}(window,window.angular),function(a,b){"use strict";function c(){function b(a){return function(){k.waitForVendorCount&&(m[a]||(m[a]=[]),m[a].push(arguments))}}function c(b,c,d){return n[b]||(n[b]=[]),n[b].push(c),o[c]=d,function(){if(!this.settings.optOut){var c=Array.prototype.slice.apply(arguments);return this.$inject(["$q",a.bind(this,function(d){return d.all(n[b].map(function(b){if((o[b]||{}).async){var e=d.defer(),f=a.copy(c);return f.unshift(e.resolve),b.apply(this,f),e.promise}return d.when(b.apply(this,c))},this))})])}}}function d(a,b){b?setTimeout(a,b):a()}function e(b,e,f){if(!j.developerMode){p[b]=c(b,e,f);var g=j[b],h=g?g.bufferFlushDelay:null,i=null!==h?h:j.bufferFlushDelay;a.forEach(m[b],function(a,b){d(function(){e.apply(this,a)},b*i)})}}function f(a){return a.replace(/^./,function(a){return a.toUpperCase()})}function g(a){var d="register"+f(a);q[d]=function(b,c){e(a,b,c)},p[a]=c(a,b(a))}function h(b,c,d){a.forEach(c,d);for(var e in b)i[e]=b[e]}var i=this,j={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,trackRoutes:!0,trackStates:!0,autoBasePath:!1,basePath:"",excludedRoutes:[],queryKeysWhitelisted:[],queryKeysBlacklisted:[],filterUrlSegments:[]},eventTracking:{},bufferFlushDelay:1e3,trackExceptions:!1,optOut:!1,developerMode:!1},l=["pageTrack","eventTrack","exceptionTrack","transactionTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","incrementProperty","userTimings","clearCookies"],m={},n={},o={},p={settings:j};p.setOptOut=function(a){this.settings.optOut=a,s()},p.getOptOut=function(){return this.settings.optOut};var q={$get:["$injector",function(a){return r(a)}],api:p,settings:j,virtualPageviews:function(a){this.settings.pageTracking.autoTrackVirtualPages=a},trackStates:function(a){this.settings.pageTracking.trackStates=a},trackRoutes:function(a){this.settings.pageTracking.trackRoutes=a},excludeRoutes:function(a){this.settings.pageTracking.excludedRoutes=a},queryKeysWhitelist:function(a){this.settings.pageTracking.queryKeysWhitelisted=a},queryKeysBlacklist:function(a){this.settings.pageTracking.queryKeysBlacklisted=a},filterUrlSegments:function(a){this.settings.pageTracking.filterUrlSegments=a},firstPageview:function(a){this.settings.pageTracking.autoTrackFirstPage=a},withBase:function(b){this.settings.pageTracking.basePath=b?a.element(document).find("base").attr("href"):""},withAutoBase:function(a){this.settings.pageTracking.autoBasePath=a},trackExceptions:function(a){this.settings.trackExceptions=a},developerMode:function(a){this.settings.developerMode=a}},r=function(b){return a.extend(p,{$inject:b.invoke})},s=function(){h(q,l,g)};h(q,l,g)}function d(b,c,d,e){function f(a){for(var b=0;b<d.settings.pageTracking.excludedRoutes.length;b++){var c=d.settings.pageTracking.excludedRoutes[b];if(c instanceof RegExp&&c.test(a)||a.indexOf(c)>-1)return!0}return!1}function g(a,b){for(var c=[],d=0;d<a.length;d++)-1===b.indexOf(a[d])&&c.push(a[d]);return c}function h(a,b,c){if(/\?/.test(a)&&b.length>0){for(var d=a.split("?"),e=d[0],f=d[1].split("&"),h=[],i=0;i<b.length;i++)for(var j=b[i],k=0;k<f.length;k++)(j instanceof RegExp&&j.test(f[k])||f[k].indexOf(j)>-1)&&h.push(f[k]);var l="white"==c?h:g(f,h);return l.length>0?e+"?"+l.join("&"):e}return a}function i(a){return h(a,d.settings.pageTracking.queryKeysWhitelisted,"white")}function j(a){return h(a,d.settings.pageTracking.queryKeysBlacklisted,"black")}function k(a){var b=d.settings.pageTracking.filterUrlSegments;if(b.length>0){for(var c=a.split("?"),e=c[0],f=e.split("/"),g=0;g<b.length;g++)for(var h=b[g],i=1;i<f.length;i++)(h instanceof RegExp&&h.test(f[i])||f[i].indexOf(h)>-1)&&(f[i]="FILTERED");return f.join("/")}return a}function l(a,b){f(a)||(a=i(a),a=j(a),a=k(a),d.pageTrack(a,b))}if(d.settings.pageTracking.autoTrackFirstPage){var m=!0;if(e.has("$route")){var n=e.get("$route");if(n)for(var o in n.routes){m=!1;break}else null===n&&(m=!1)}else if(e.has("$state")){var p=e.get("$state");p.get().length>1&&(m=!1)}m&&(d.settings.pageTracking.autoBasePath&&(d.settings.pageTracking.basePath=c.location.pathname),e.invoke(["$location",function(a){if(d.settings.pageTracking.trackRelativePath){l(d.settings.pageTracking.basePath+a.url(),a)}else l(a.absUrl(),a)}]))}if(d.settings.pageTracking.autoTrackVirtualPages){d.settings.pageTracking.autoBasePath&&(d.settings.pageTracking.basePath=c.location.pathname+"#");var m=!0;if(d.settings.pageTracking.trackRoutes&&e.has("$route")){var n=e.get("$route");if(n)for(var o in n.routes){m=!1;break}else null===n&&(m=!1);b.$on("$routeChangeSuccess",function(a,b){b&&(b.$$route||b).redirectTo||e.invoke(["$location",function(a){l(d.settings.pageTracking.basePath+a.url(),a)}])})}d.settings.pageTracking.trackStates&&(e.has("$state")&&!e.has("$transitions")&&(m=!1,b.$on("$stateChangeSuccess",function(a,b){e.invoke(["$location",function(a){l(d.settings.pageTracking.basePath+a.url(),a)}])})),e.has("$state")&&e.has("$transitions")&&(m=!1,e.invoke(["$transitions",function(a){a.onSuccess({},function(a){a.options().notify&&e.invoke(["$location",function(a){l(d.settings.pageTracking.basePath+a.url(),a)}])})}]))),m&&b.$on("$locationChangeSuccess",function(a,b){b&&(b.$$route||b).redirectTo||e.invoke(["$location",function(a){if(d.settings.pageTracking.trackRelativePath){l(d.settings.pageTracking.basePath+a.url(),a)}else l(a.absUrl(),a)}])})}d.settings.developerMode&&a.forEach(d,function(a,b){"function"==typeof a&&(d[b]=function(){})})}function e(b){return{restrict:"A",link:function(c,d,e){var f=e.analyticsOn||"click",g={};a.forEach(e.$attr,function(a,b){i(b)&&(g[j(b)]=e[b],e.$observe(b,function(a){g[j(b)]=a}))}),a.element(d[0]).on(f,function(f){var i=e.analyticsEvent||h(d[0]);g.eventType=f.type,e.analyticsIf&&!c.$eval(e.analyticsIf)||(e.analyticsProperties&&a.extend(g,c.$eval(e.analyticsProperties)),b.eventTrack(i,g))})}}}function f(a){a.decorator("$exceptionHandler",["$delegate","$injector",function(a,b){return function(c,d){var e=a(c,d),f=b.get("$analytics");return f.settings.trackExceptions&&f.exceptionTrack(c,d),e}}])}function g(a){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(a.tagName.toLowerCase()+":"+(a.type||""))>=0}function h(a){return g(a)?a.innerText||a.value:a.id||a.name||a.tagName}function i(a){return"analytics"===a.substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(a.substr(9))}function j(a){var b=a.slice(9);return void 0!==b&&null!==b&&b.length>0?b.substring(0,1).toLowerCase()+b.substring(1):b}var k=window.angulartics||(window.angulartics={});k.waitForVendorCount=0,k.waitForVendorApi=function(a,b,c,d,e){e||k.waitForVendorCount++,d||(d=c,c=void 0),!Object.prototype.hasOwnProperty.call(window,a)||void 0!==c&&void 0===window[a][c]?setTimeout(function(){k.waitForVendorApi(a,b,c,d,!0)},b):(k.waitForVendorCount--,d(window[a]))},a.module("angulartics",[]).provider("$analytics",c).run(["$rootScope","$window","$analytics","$injector",d]).directive("analyticsOn",["$analytics",e]).config(["$provide",f])}(angular),function(a,b,c){"use strict";b.module("angulartics.facebook.pixel",["angulartics"]).config(["$analyticsProvider",function(b){b.settings.pageTracking.trackRelativePath=!0,b.registerPageTrack(function(b){a.fbq&&fbq("track","PageView")}),b.registerEventTrack(function(b,c){c=c||{};var d=["ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","CompleteRegistration"];a.fbq&&(-1===d.indexOf(b)?fbq("trackCustom",b,c):fbq("track",b,c))})}])}(window,window.angular),function(){function a(a){"use strict";var b={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,
describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"}};if(!1===a)return JSON.parse(JSON.stringify(b));var c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d].defaultValue);return c}function b(a,b){"use strict";var c=b?"Error in "+b+" extension->":"Error in unnamed extension",e={valid:!0,error:""};d.helper.isArray(a)||(a=[a]);for(var f=0;f<a.length;++f){var g=c+" sub-extension "+f+": ",h=a[f];if("object"!=typeof h)return e.valid=!1,e.error=g+"must be an object, but "+typeof h+" given",e;if(!d.helper.isString(h.type))return e.valid=!1,e.error=g+'property "type" must be a string, but '+typeof h.type+" given",e;var i=h.type=h.type.toLowerCase();if("language"===i&&(i=h.type="lang"),"html"===i&&(i=h.type="output"),"lang"!==i&&"output"!==i&&"listener"!==i)return e.valid=!1,e.error=g+"type "+i+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',e;if("listener"===i){if(d.helper.isUndefined(h.listeners))return e.valid=!1,e.error=g+'. Extensions of type "listener" must have a property called "listeners"',e}else if(d.helper.isUndefined(h.filter)&&d.helper.isUndefined(h.regex))return e.valid=!1,e.error=g+i+' extensions must define either a "regex" property or a "filter" method',e;if(h.listeners){if("object"!=typeof h.listeners)return e.valid=!1,e.error=g+'"listeners" property must be an object but '+typeof h.listeners+" given",e;for(var j in h.listeners)if(h.listeners.hasOwnProperty(j)&&"function"!=typeof h.listeners[j])return e.valid=!1,e.error=g+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+j+" must be a function but "+typeof h.listeners[j]+" given",e}if(h.filter){if("function"!=typeof h.filter)return e.valid=!1,e.error=g+'"filter" must be a function, but '+typeof h.filter+" given",e}else if(h.regex){if(d.helper.isString(h.regex)&&(h.regex=new RegExp(h.regex,"g")),!(h.regex instanceof RegExp))return e.valid=!1,e.error=g+'"regex" property must either be a string or a RegExp object, but '+typeof h.regex+" given",e;if(d.helper.isUndefined(h.replace))return e.valid=!1,e.error=g+'"regex" extensions must implement a replace string or function',e}}return e}function c(a,b){"use strict";return"¨E"+b.charCodeAt(0)+"E"}var d={},e={},f={},g=a(!0),h="vanilla",i={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:a(!0),allOn:function(){"use strict";var b=a(!0),c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=!0);return c}()};d.helper={},d.extensions={},d.setOption=function(a,b){"use strict";return g[a]=b,this},d.getOption=function(a){"use strict";return g[a]},d.getOptions=function(){"use strict";return g},d.resetOptions=function(){"use strict";g=a(!0)},d.setFlavor=function(a){"use strict";if(!i.hasOwnProperty(a))throw Error(a+" flavor was not found");d.resetOptions();var b=i[a];h=a;for(var c in b)b.hasOwnProperty(c)&&(g[c]=b[c])},d.getFlavor=function(){"use strict";return h},d.getFlavorOptions=function(a){"use strict";if(i.hasOwnProperty(a))return i[a]},d.getDefaultOptions=function(b){"use strict";return a(b)},d.subParser=function(a,b){"use strict";if(d.helper.isString(a)){if(void 0===b){if(e.hasOwnProperty(a))return e[a];throw Error("SubParser named "+a+" not registered!")}e[a]=b}},d.extension=function(a,c){"use strict";if(!d.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=d.helper.stdExtName(a),d.helper.isUndefined(c)){if(!f.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return f[a]}"function"==typeof c&&(c=c()),d.helper.isArray(c)||(c=[c]);var e=b(c,a);if(!e.valid)throw Error(e.error);f[a]=c},d.getAllExtensions=function(){"use strict";return f},d.removeExtension=function(a){"use strict";delete f[a]},d.resetExtensions=function(){"use strict";f={}},d.validateExtension=function(a){"use strict";var c=b(a,null);return!!c.valid||(console.warn(c.error),!1)},d.hasOwnProperty("helper")||(d.helper={}),d.helper.isString=function(a){"use strict";return"string"==typeof a||a instanceof String},d.helper.isFunction=function(a){"use strict";var b={};return a&&"[object Function]"===b.toString.call(a)},d.helper.isArray=function(a){"use strict";return Array.isArray(a)},d.helper.isUndefined=function(a){"use strict";return void 0===a},d.helper.forEach=function(a,b){"use strict";if(d.helper.isUndefined(a))throw new Error("obj param is required");if(d.helper.isUndefined(b))throw new Error("callback param is required");if(!d.helper.isFunction(b))throw new Error("callback param must be a function/closure");if("function"==typeof a.forEach)a.forEach(b);else if(d.helper.isArray(a))for(var c=0;c<a.length;c++)b(a[c],c,a);else{if("object"!=typeof a)throw new Error("obj does not seem to be an array or an iterable object");for(var e in a)a.hasOwnProperty(e)&&b(a[e],e,a)}},d.helper.stdExtName=function(a){"use strict";return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},d.helper.escapeCharactersCallback=c,d.helper.escapeCharacters=function(a,b,d){"use strict";var e="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(e="\\\\"+e);var f=new RegExp(e,"g");return a=a.replace(f,c)};var j=function(a,b,c,d){"use strict";var e,f,g,h,i,j=d||"",k=j.indexOf("g")>-1,l=new RegExp(b+"|"+c,"g"+j.replace(/g/g,"")),m=new RegExp(b,j.replace(/g/g,"")),n=[];do{for(e=0;g=l.exec(a);)if(m.test(g[0]))e++||(h=(f=l.lastIndex)-g[0].length);else if(e&&!--e){i=g.index+g[0].length;var o={left:{start:h,end:f},match:{start:f,end:g.index},right:{start:g.index,end:i},wholeMatch:{start:h,end:i}};if(n.push(o),!k)return n}}while(e&&(l.lastIndex=f));return n};d.helper.matchRecursiveRegExp=function(a,b,c,d){"use strict";for(var e=j(a,b,c,d),f=[],g=0;g<e.length;++g)f.push([a.slice(e[g].wholeMatch.start,e[g].wholeMatch.end),a.slice(e[g].match.start,e[g].match.end),a.slice(e[g].left.start,e[g].left.end),a.slice(e[g].right.start,e[g].right.end)]);return f},d.helper.replaceRecursiveRegExp=function(a,b,c,e,f){"use strict";if(!d.helper.isFunction(b)){var g=b;b=function(){return g}}var h=j(a,c,e,f),i=a,k=h.length;if(k>0){var l=[];0!==h[0].wholeMatch.start&&l.push(a.slice(0,h[0].wholeMatch.start));for(var m=0;m<k;++m)l.push(b(a.slice(h[m].wholeMatch.start,h[m].wholeMatch.end),a.slice(h[m].match.start,h[m].match.end),a.slice(h[m].left.start,h[m].left.end),a.slice(h[m].right.start,h[m].right.end))),m<k-1&&l.push(a.slice(h[m].wholeMatch.end,h[m+1].wholeMatch.start));h[k-1].wholeMatch.end<a.length&&l.push(a.slice(h[k-1].wholeMatch.end)),i=l.join("")}return i},d.helper.regexIndexOf=function(a,b,c){"use strict";if(!d.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(b instanceof RegExp==0)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var e=a.substring(c||0).search(b);return e>=0?e+(c||0):e},d.helper.splitAtIndex=function(a,b){"use strict";if(!d.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[a.substring(0,b),a.substring(b)]},d.helper.encodeEmailAddress=function(a){"use strict";var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a=a.replace(/./g,function(a){if("@"===a)a=b[Math.floor(2*Math.random())](a);else{var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a})},"undefined"==typeof console&&(console={warn:function(a){"use strict";alert(a)},log:function(a){"use strict";alert(a)},error:function(a){"use strict";throw a}}),d.helper.regexes={asteriskAndDash:/([*_])/g},d.Converter=function(a){"use strict";function c(a,c){if(c=c||null,d.helper.isString(a)){if(a=d.helper.stdExtName(a),c=a,d.extensions[a])return console.warn("DEPRECATION WARNING: "+a+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void e(d.extensions[a],a);if(d.helper.isUndefined(f[a]))throw Error('Extension "'+a+'" could not be loaded. It was either not found or is not a valid extension.');a=f[a]}"function"==typeof a&&(a=a()),d.helper.isArray(a)||(a=[a]);var g=b(a,c);if(!g.valid)throw Error(g.error);for(var h=0;h<a.length;++h){switch(a[h].type){case"lang":m.push(a[h]);break;case"output":n.push(a[h])}if(a[h].hasOwnProperty("listeners"))for(var i in a[h].listeners)a[h].listeners.hasOwnProperty(i)&&j(i,a[h].listeners[i])}}function e(a,c){"function"==typeof a&&(a=a(new d.Converter)),d.helper.isArray(a)||(a=[a]);var e=b(a,c);if(!e.valid)throw Error(e.error);for(var f=0;f<a.length;++f)switch(a[f].type){case"lang":m.push(a[f]);break;case"output":n.push(a[f]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function j(a,b){if(!d.helper.isString(a))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof a+" given");if("function"!=typeof b)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof b+" given");o.hasOwnProperty(a)||(o[a]=[]),o[a].push(b)}function k(a){var b=a.match(/^\s*/)[0].length,c=new RegExp("^\\s{0,"+b+"}","gm");return a.replace(c,"")}var l={},m=[],n=[],o={},p=h;!function(){a=a||{};for(var b in g)g.hasOwnProperty(b)&&(l[b]=g[b]);if("object"!=typeof a)throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");for(var e in a)a.hasOwnProperty(e)&&(l[e]=a[e]);l.extensions&&d.helper.forEach(l.extensions,c)}(),this._dispatch=function(a,b,c,d){if(o.hasOwnProperty(a))for(var e=0;e<o[a].length;++e){var f=o[a][e](a,b,this,c,d);f&&void 0!==f&&(b=f)}return b},this.listen=function(a,b){return j(a,b),this},this.makeHtml=function(a){if(!a)return a;var b={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:m,outputModifiers:n,converter:this,ghCodeBlocks:[]};return a=a.replace(/¨/g,"¨T"),a=a.replace(/\$/g,"¨D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a=a.replace(/\u00A0/g," "),l.smartIndentationFix&&(a=k(a)),a="\n\n"+a+"\n\n",a=d.subParser("detab")(a,l,b),a=a.replace(/^[ \t]+$/gm,""),d.helper.forEach(m,function(c){a=d.subParser("runExtension")(c,a,l,b)}),a=d.subParser("hashPreCodeTags")(a,l,b),a=d.subParser("githubCodeBlocks")(a,l,b),a=d.subParser("hashHTMLBlocks")(a,l,b),a=d.subParser("hashCodeTags")(a,l,b),a=d.subParser("stripLinkDefinitions")(a,l,b),a=d.subParser("blockGamut")(a,l,b),a=d.subParser("unhashHTMLSpans")(a,l,b),a=d.subParser("unescapeSpecialChars")(a,l,b),a=a.replace(/¨D/g,"$$"),a=a.replace(/¨T/g,"¨"),d.helper.forEach(n,function(c){a=d.subParser("runExtension")(c,a,l,b)}),a},this.setOption=function(a,b){l[a]=b},this.getOption=function(a){return l[a]},this.getOptions=function(){return l},this.addExtension=function(a,b){c(a,b=b||null)},this.useExtension=function(a){c(a)},this.setFlavor=function(a){if(!i.hasOwnProperty(a))throw Error(a+" flavor was not found");var b=i[a];p=a;for(var c in b)b.hasOwnProperty(c)&&(l[c]=b[c])},this.getFlavor=function(){return p},this.removeExtension=function(a){d.helper.isArray(a)||(a=[a]);for(var b=0;b<a.length;++b){for(var c=a[b],e=0;e<m.length;++e)m[e]===c&&m[e].splice(e,1);for(;0<n.length;++e)n[0]===c&&n[0].splice(e,1)}},this.getAllExtensions=function(){return{language:m,output:n}}},d.subParser("anchors",function(a,b,c){"use strict";var e=function(a,e,f,g,h,i,j){if(d.helper.isUndefined(j)&&(j=""),f=f.toLowerCase(),a.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)g="";else if(!g){if(f||(f=e.toLowerCase().replace(/ ?\n/g," ")),g="#"+f,d.helper.isUndefined(c.gUrls[f]))return a;g=c.gUrls[f],d.helper.isUndefined(c.gTitles[f])||(j=c.gTitles[f])}var k='<a href="'+(g=g.replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback))+'"';return""!==j&&null!==j&&(k+=' title="'+(j=(j=j.replace(/"/g,"&quot;")).replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback))+'"'),b.openLinksInNewWindow&&(k+=' target="¨E95Eblank"'),k+=">"+e+"</a>"};return a=(a=c.converter._dispatch("anchors.before",a,b,c)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,e),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,e),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,e),a=a.replace(/\[([^\[\]]+)]()()()()()/g,e),b.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d\-]+))(?=[.!?;,[\]()]|\s|$)/gim,function(a,c,e,f,g){if("\\"===e)return c+f;if(!d.helper.isString(b.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var h=b.ghMentionsLink.replace(/\{u}/g,g),i="";return b.openLinksInNewWindow&&(i=' target="¨E95Eblank"'),c+'<a href="'+h+'"'+i+">"+f+"</a>"})),a=c.converter._dispatch("anchors.after",a,b,c)});var k=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)()(?=\s|$)(?!["<>])/gi,l=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]]?)(?=\s|$)(?!["<>])/gi,m=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>/gi,n=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-\/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,o=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,p=function(a){"use strict";return function(b,c,d,e,f){var g=c,h="",i="";return/^www\./i.test(c)&&(c=c.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&f&&(h=f),a.openLinksInNewWindow&&(i=' target="¨E95Eblank"'),'<a href="'+c+'"'+i+">"+g+"</a>"+h}},q=function(a,b){"use strict";return function(c,e,f){var g="mailto:";return e=e||"",f=d.subParser("unescapeSpecialChars")(f,a,b),a.encodeEmails?(g=d.helper.encodeEmailAddress(g+f),f=d.helper.encodeEmailAddress(f)):g+=f,e+'<a href="'+g+'">'+f+"</a>"}};d.subParser("autoLinks",function(a,b,c){"use strict";return a=c.converter._dispatch("autoLinks.before",a,b,c),a=a.replace(m,p(b)),a=a.replace(o,q(b,c)),a=c.converter._dispatch("autoLinks.after",a,b,c)}),d.subParser("simplifiedAutoLinks",function(a,b,c){"use strict";return b.simplifiedAutoLink?(a=c.converter._dispatch("simplifiedAutoLinks.before",a,b,c),a=b.excludeTrailingPunctuationFromURLs?a.replace(l,p(b)):a.replace(k,p(b)),a=a.replace(n,q(b,c)),a=c.converter._dispatch("simplifiedAutoLinks.after",a,b,c)):a}),d.subParser("blockGamut",function(a,b,c){"use strict";return a=c.converter._dispatch("blockGamut.before",a,b,c),a=d.subParser("blockQuotes")(a,b,c),a=d.subParser("headers")(a,b,c),a=d.subParser("horizontalRule")(a,b,c),a=d.subParser("lists")(a,b,c),a=d.subParser("codeBlocks")(a,b,c),a=d.subParser("tables")(a,b,c),a=d.subParser("hashHTMLBlocks")(a,b,c),a=d.subParser("paragraphs")(a,b,c),a=c.converter._dispatch("blockGamut.after",a,b,c)}),d.subParser("blockQuotes",function(a,b,c){"use strict";return a=c.converter._dispatch("blockQuotes.before",a,b,c),a=a.replace(/((^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,e){var f=e;return f=f.replace(/^[ \t]*>[ \t]?/gm,"¨0"),f=f.replace(/¨0/g,""),f=f.replace(/^[ \t]+$/gm,""),f=d.subParser("githubCodeBlocks")(f,b,c),f=d.subParser("blockGamut")(f,b,c),f=f.replace(/(^|\n)/g,"$1  "),f=f.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"¨0"),c=c.replace(/¨0/g,"")}),d.subParser("hashBlock")("<blockquote>\n"+f+"\n</blockquote>",b,c)}),a=c.converter._dispatch("blockQuotes.after",a,b,c)}),d.subParser("codeBlocks",function(a,b,c){"use strict";a=c.converter._dispatch("codeBlocks.before",a,b,c);var e=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return a=(a+="¨0").replace(e,function(a,e,f){var g=e,h=f,i="\n";return g=d.subParser("outdent")(g,b,c),g=d.subParser("encodeCode")(g,b,c),g=d.subParser("detab")(g,b,c),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,""),b.omitExtraWLInCodeBlocks&&(i=""),g="<pre><code>"+g+i+"</code></pre>",d.subParser("hashBlock")(g,b,c)+h}),a=a.replace(/¨0/,""),a=c.converter._dispatch("codeBlocks.after",a,b,c)}),d.subParser("codeSpans",function(a,b,c){"use strict";return void 0===(a=c.converter._dispatch("codeSpans.before",a,b,c))&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,e,f,g){var h=g;return h=h.replace(/^([ \t]*)/g,""),h=h.replace(/[ \t]*$/g,""),h=d.subParser("encodeCode")(h,b,c),e+"<code>"+h+"</code>"}),a=c.converter._dispatch("codeSpans.after",a,b,c)}),d.subParser("detab",function(a,b,c){"use strict";return a=c.converter._dispatch("detab.before",a,b,c),a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"¨A¨B"),a=a.replace(/¨B(.+?)¨A/g,function(a,b){for(var c=b,d=4-c.length%4,e=0;e<d;e++)c+=" ";return c}),a=a.replace(/¨A/g,"    "),a=a.replace(/¨B/g,""),a=c.converter._dispatch("detab.after",a,b,c)}),d.subParser("encodeAmpsAndAngles",function(a,b,c){"use strict";return a=c.converter._dispatch("encodeAmpsAndAngles.before",a,b,c),a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?$!])/gi,"&lt;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=c.converter._dispatch("encodeAmpsAndAngles.after",a,b,c)}),d.subParser("encodeBackslashEscapes",function(a,b,c){"use strict";return a=c.converter._dispatch("encodeBackslashEscapes.before",a,b,c),a=a.replace(/\\(\\)/g,d.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,d.helper.escapeCharactersCallback),a=c.converter._dispatch("encodeBackslashEscapes.after",a,b,c)}),d.subParser("encodeCode",function(a,b,c){"use strict";return a=c.converter._dispatch("encodeCode.before",a,b,c),a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,d.helper.escapeCharactersCallback),a=c.converter._dispatch("encodeCode.after",a,b,c)}),d.subParser("escapeSpecialCharsWithinTagAttributes",function(a,b,c){"use strict";var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>)/gi,f=/<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return a=(a=c.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,b,c)).replace(e,function(a){return a.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,d.helper.escapeCharactersCallback)}),a=a.replace(f,function(a){return a.replace(/([\\`*_~=|])/g,d.helper.escapeCharactersCallback)}),a=c.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,b,c)}),d.subParser("githubCodeBlocks",function(a,b,c){"use strict";return b.ghCodeBlocks?(a=c.converter._dispatch("githubCodeBlocks.before",a,b,c),a+="¨0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,e,f){var g=b.omitExtraWLInCodeBlocks?"":"\n";return f=d.subParser("encodeCode")(f,b,c),f=d.subParser("detab")(f,b,c),f=f.replace(/^\n+/g,""),f=f.replace(/\n+$/g,""),f="<pre><code"+(e?' class="'+e+" language-"+e+'"':"")+">"+f+g+"</code></pre>",f=d.subParser("hashBlock")(f,b,c),"\n\n¨G"+(c.ghCodeBlocks.push({text:a,codeblock:f})-1)+"G\n\n"}),a=a.replace(/¨0/,""),c.converter._dispatch("githubCodeBlocks.after",a,b,c)):a}),d.subParser("hashBlock",function(a,b,c){"use strict";return a=c.converter._dispatch("hashBlock.before",a,b,c),a=a.replace(/(^\n+|\n+$)/g,""),a="\n\n¨K"+(c.gHtmlBlocks.push(a)-1)+"K\n\n",a=c.converter._dispatch("hashBlock.after",a,b,c)}),d.subParser("hashCodeTags",function(a,b,c){"use strict";return a=c.converter._dispatch("hashCodeTags.before",a,b,c),a=d.helper.replaceRecursiveRegExp(a,function(a,e,f,g){var h=f+d.subParser("encodeCode")(e,b,c)+g;return"¨C"+(c.gHtmlSpans.push(h)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),a=c.converter._dispatch("hashCodeTags.after",a,b,c)}),d.subParser("hashElement",function(a,b,c){"use strict";return function(a,b){var d=b;return d=d.replace(/\n\n/g,"\n"),d=d.replace(/^\n/,""),d=d.replace(/\n+$/g,""),d="\n\n¨K"+(c.gHtmlBlocks.push(d)-1)+"K\n\n"}}),d.subParser("hashHTMLBlocks",function(a,b,c){"use strict";a=c.converter._dispatch("hashHTMLBlocks.before",a,b,c);var e=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"];b.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(a,b){return"&lt;"+b+"&gt;"}));for(var f=0;f<e.length;++f)for(var g,h=new RegExp("^ {0,3}(<"+e[f]+"\\b[^>]*>)","im"),i="<"+e[f]+"\\b[^>]*>",j="</"+e[f]+">";-1!==(g=d.helper.regexIndexOf(a,h));){var k=d.helper.splitAtIndex(a,g),l=d.helper.replaceRecursiveRegExp(k[1],function(a,b,d,e){var f=a;return-1!==d.search(/\bmarkdown\b/)&&(f=d+c.converter.makeHtml(b)+e),"\n\n¨K"+(c.gHtmlBlocks.push(f)-1)+"K\n\n"},i,j,"im");if(l===k[1])break;a=k[0].concat(l)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),a=d.helper.replaceRecursiveRegExp(a,function(a){return"\n\n¨K"+(c.gHtmlBlocks.push(a)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),a=c.converter._dispatch("hashHTMLBlocks.after",a,b,c)}),d.subParser("hashHTMLSpans",function(a,b,c){"use strict";function d(a){return"¨C"+(c.gHtmlSpans.push(a)-1)+"C"}return a=c.converter._dispatch("hashHTMLSpans.before",a,b,c),a=a.replace(/<[^>]+?\/>/gi,function(a){return d(a)}),a=a.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(a){return d(a)}),a=a.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(a){return d(a)}),a=a.replace(/<[^>]+?>/gi,function(a){return d(a)}),a=c.converter._dispatch("hashHTMLSpans.after",a,b,c)}),d.subParser("unhashHTMLSpans",function(a,b,c){"use strict";a=c.converter._dispatch("unhashHTMLSpans.before",a,b,c);for(var d=0;d<c.gHtmlSpans.length;++d){for(var e=c.gHtmlSpans[d],f=0;/¨C(\d+)C/.test(e);){var g=RegExp.$1;if(e=e.replace("¨C"+g+"C",c.gHtmlSpans[g]),10===f)break;++f}a=a.replace("¨C"+d+"C",e)}return a=c.converter._dispatch("unhashHTMLSpans.after",a,b,c)}),d.subParser("hashPreCodeTags",function(a,b,c){"use strict";return a=c.converter._dispatch("hashPreCodeTags.before",a,b,c),a=d.helper.replaceRecursiveRegExp(a,function(a,e,f,g){var h=f+d.subParser("encodeCode")(e,b,c)+g;return"\n\n¨G"+(c.ghCodeBlocks.push({text:a,codeblock:h})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),a=c.converter._dispatch("hashPreCodeTags.after",a,b,c)}),d.subParser("headers",function(a,b,c){"use strict";function e(a){var e,f;if(b.customizedHeaderId){var g=a.match(/\{([^{]+?)}\s*$/);g&&g[1]&&(a=g[1])}return e=a,f=d.helper.isString(b.prefixHeaderId)?b.prefixHeaderId:!0===b.prefixHeaderId?"section-":"",b.rawPrefixHeaderId||(e=f+e),e=b.ghCompatibleHeaderId?e.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():b.rawHeaderId?e.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():e.replace(/[^\w]/g,"").toLowerCase(),b.rawPrefixHeaderId&&(e=f+e),c.hashLinkCounts[e]?e=e+"-"+c.hashLinkCounts[e]++:c.hashLinkCounts[e]=1,e}a=c.converter._dispatch("headers.before",a,b,c);var f=isNaN(parseInt(b.headerLevelStart))?1:parseInt(b.headerLevelStart),g=b.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,h=b.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;a=(a=a.replace(g,function(a,g){var h=d.subParser("spanGamut")(g,b,c),i=b.noHeaderId?"":' id="'+e(g)+'"',j=f,k="<h"+j+i+">"+h+"</h"+j+">";return d.subParser("hashBlock")(k,b,c)})).replace(h,function(a,g){var h=d.subParser("spanGamut")(g,b,c),i=b.noHeaderId?"":' id="'+e(g)+'"',j=f+1,k="<h"+j+i+">"+h+"</h"+j+">";return d.subParser("hashBlock")(k,b,c)});var i=b.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;return a=a.replace(i,function(a,g,h){var i=h;b.customizedHeaderId&&(i=h.replace(/\s?\{([^{]+?)}\s*$/,""));var j=d.subParser("spanGamut")(i,b,c),k=b.noHeaderId?"":' id="'+e(h)+'"',l=f-1+g.length,m="<h"+l+k+">"+j+"</h"+l+">";return d.subParser("hashBlock")(m,b,c)}),a=c.converter._dispatch("headers.after",a,b,c)}),d.subParser("horizontalRule",function(a,b,c){"use strict";a=c.converter._dispatch("horizontalRule.before",a,b,c);var e=d.subParser("hashBlock")("<hr />",b,c);return a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,e),a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,e),a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,e),a=c.converter._dispatch("horizontalRule.after",a,b,c)}),d.subParser("images",function(a,b,c){"use strict";function e(a,b,e,f,g,h,i,j){var k=c.gUrls,l=c.gTitles,m=c.gDimensions;if(e=e.toLowerCase(),j||(j=""),a.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)f="";else if(""===f||null===f){if(""!==e&&null!==e||(e=b.toLowerCase().replace(/ ?\n/g," ")),f="#"+e,d.helper.isUndefined(k[e]))return a;f=k[e],d.helper.isUndefined(l[e])||(j=l[e]),d.helper.isUndefined(m[e])||(g=m[e].width,h=m[e].height)}b=b.replace(/"/g,"&quot;").replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback);var n='<img src="'+(f=f.replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback))+'" alt="'+b+'"';return j&&(n+=' title="'+(j=j.replace(/"/g,"&quot;").replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback))+'"'),g&&h&&(n+=' width="'+(g="*"===g?"auto":g)+'"',n+=' height="'+(h="*"===h?"auto":h)+'"'),n+=" />"}var f=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,g=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,h=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+\/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,i=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,j=/!\[([^\[\]]+)]()()()()()/g;return a=(a=c.converter._dispatch("images.before",a,b,c)).replace(i,e),a=a.replace(h,function(a,b,c,d,f,g,h,i){return d=d.replace(/\s/g,""),e(a,b,c,d,f,g,0,i)}),a=a.replace(g,e),a=a.replace(f,e),a=a.replace(j,e),a=c.converter._dispatch("images.after",a,b,c)}),d.subParser("italicsAndBold",function(a,b,c){"use strict";function e(a,e,f){return b.simplifiedAutoLink&&(a=d.subParser("simplifiedAutoLinks")(a,b,c)),e+a+f}return a=c.converter._dispatch("italicsAndBold.before",a,b,c),a=b.literalMidWordUnderscores?(a=(a=a.replace(/\b___(\S[\s\S]*)___\b/g,function(a,b){return e(b,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*)__\b/g,function(a,b){return e(b,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(a,b){return e(b,"<em>","</em>")}):(a=(a=a.replace(/___(\S[\s\S]*?)___/g,function(a,b){return/\S$/.test(b)?e(b,"<strong><em>","</em></strong>"):a})).replace(/__(\S[\s\S]*?)__/g,function(a,b){return/\S$/.test(b)?e(b,"<strong>","</strong>"):a})).replace(/_([^\s_][\s\S]*?)_/g,function(a,b){return/\S$/.test(b)?e(b,"<em>","</em>"):a}),a=b.literalMidWordAsterisks?(a=(a=a.trim().replace(/(^| )\*{3}(\S[\s\S]*?)\*{3}([ ,;!?.]|$)/g,function(a,b,c,d){return e(c,b+"<strong><em>","</em></strong>"+d)})).trim().replace(/(^| )\*{2}(\S[\s\S]*?)\*{2}([ ,;!?.]|$)/g,function(a,b,c,d){return e(c,b+"<strong>","</strong>"+d)})).trim().replace(/(^| )\*(\S[\s\S]*?)\*([ ,;!?.]|$)/g,function(a,b,c,d){return e(c,b+"<em>","</em>"+d)}):(a=(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(a,b){return/\S$/.test(b)?e(b,"<strong><em>","</em></strong>"):a})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(a,b){return/\S$/.test(b)?e(b,"<strong>","</strong>"):a})).replace(/\*([^\s*][\s\S]*?)\*/g,function(a,b){return/\S$/.test(b)?e(b,"<em>","</em>"):a}),a=c.converter._dispatch("italicsAndBold.after",a,b,c)}),d.subParser("lists",function(a,b,c){"use strict";function e(a,e){c.gListLevel++,a=a.replace(/\n{2,}$/,"\n"),a+="¨0";var f=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,g=/\n[ \t]*\n(?!¨0)/.test(a);return b.disableForced4SpacesIndentedSublists&&(f=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),a=a.replace(f,function(a,e,f,h,i,j,k){k=k&&""!==k.trim();var l=d.subParser("outdent")(i,b,c),m="";return j&&b.tasklists&&(m=' class="task-list-item" style="list-style-type: none;"',l=l.replace(/^[ \t]*\[(x|X| )?]/m,function(){
var a='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return k&&(a+=" checked"),a+=">"})),l=l.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(a){return"¨A"+a}),e||l.search(/\n{2,}/)>-1?(l=d.subParser("githubCodeBlocks")(l,b,c),l=d.subParser("blockGamut")(l,b,c)):(l=(l=d.subParser("lists")(l,b,c)).replace(/\n$/,""),l=(l=d.subParser("hashHTMLBlocks")(l,b,c)).replace(/\n\n+/g,"\n\n"),l=g?d.subParser("paragraphs")(l,b,c):d.subParser("spanGamut")(l,b,c)),l=l.replace("¨A",""),l="<li"+m+">"+l+"</li>\n"}),a=a.replace(/¨0/g,""),c.gListLevel--,e&&(a=a.replace(/\s+$/,"")),a}function f(a,c,d){var f=b.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,g=b.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,h="ul"===c?f:g,i="";return-1!==a.search(h)?function a(b){var j=b.search(h);-1!==j?(i+="\n<"+c+">\n"+e(b.slice(0,j),!!d)+"</"+c+">\n",h="ul"==(c="ul"===c?"ol":"ul")?f:g,a(b.slice(j))):i+="\n<"+c+">\n"+e(b,!!d)+"</"+c+">\n"}(a):i="\n<"+c+">\n"+e(a,!!d)+"</"+c+">\n",i}return a=c.converter._dispatch("lists.before",a,b,c),a+="¨0",a=c.gListLevel?a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(a,b,c){return f(b,c.search(/[*+-]/g)>-1?"ul":"ol",!0)}):a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(a,b,c,d){return f(c,d.search(/[*+-]/g)>-1?"ul":"ol",!1)}),a=a.replace(/¨0/,""),a=c.converter._dispatch("lists.after",a,b,c)}),d.subParser("outdent",function(a,b,c){"use strict";return a=c.converter._dispatch("outdent.before",a,b,c),a=a.replace(/^(\t|[ ]{1,4})/gm,"¨0"),a=a.replace(/¨0/g,""),a=c.converter._dispatch("outdent.after",a,b,c)}),d.subParser("paragraphs",function(a,b,c){"use strict";for(var e=(a=(a=(a=c.converter._dispatch("paragraphs.before",a,b,c)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),f=[],g=e.length,h=0;h<g;h++){var i=e[h];i.search(/¨(K|G)(\d+)\1/g)>=0?f.push(i):i.search(/\S/)>=0&&(i=(i=d.subParser("spanGamut")(i,b,c)).replace(/^([ \t]*)/g,"<p>"),i+="</p>",f.push(i))}for(g=f.length,h=0;h<g;h++){for(var j="",k=f[h],l=!1;/¨(K|G)(\d+)\1/.test(k);){var m=RegExp.$1,n=RegExp.$2;j=(j="K"===m?c.gHtmlBlocks[n]:l?d.subParser("encodeCode")(c.ghCodeBlocks[n].text,b,c):c.ghCodeBlocks[n].codeblock).replace(/\$/g,"$$$$"),k=k.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,j),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(k)&&(l=!0)}f[h]=k}return a=f.join("\n"),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),c.converter._dispatch("paragraphs.after",a,b,c)}),d.subParser("runExtension",function(a,b,c,d){"use strict";if(a.filter)b=a.filter(b,d.converter,c);else if(a.regex){var e=a.regex;e instanceof RegExp||(e=new RegExp(e,"g")),b=b.replace(e,a.replace)}return b}),d.subParser("spanGamut",function(a,b,c){"use strict";return a=c.converter._dispatch("spanGamut.before",a,b,c),a=d.subParser("codeSpans")(a,b,c),a=d.subParser("escapeSpecialCharsWithinTagAttributes")(a,b,c),a=d.subParser("encodeBackslashEscapes")(a,b,c),a=d.subParser("images")(a,b,c),a=d.subParser("anchors")(a,b,c),a=d.subParser("autoLinks")(a,b,c),a=d.subParser("italicsAndBold")(a,b,c),a=d.subParser("strikethrough")(a,b,c),a=d.subParser("simplifiedAutoLinks")(a,b,c),a=d.subParser("hashHTMLSpans")(a,b,c),a=d.subParser("encodeAmpsAndAngles")(a,b,c),b.simpleLineBreaks?/\n\n¨K/.test(a)||(a=a.replace(/\n+/g,"<br />\n")):a=a.replace(/  +\n/g,"<br />\n"),a=c.converter._dispatch("spanGamut.after",a,b,c)}),d.subParser("strikethrough",function(a,b,c){"use strict";function e(a){return b.simplifiedAutoLink&&(a=d.subParser("simplifiedAutoLinks")(a,b,c)),"<del>"+a+"</del>"}return b.strikethrough&&(a=(a=c.converter._dispatch("strikethrough.before",a,b,c)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(a,b){return e(b)}),a=c.converter._dispatch("strikethrough.after",a,b,c)),a}),d.subParser("stripLinkDefinitions",function(a,b,c){"use strict";var e=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,f=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+\/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,g=function(a,e,f,g,h,i,j){return e=e.toLowerCase(),f.match(/^data:.+?\/.+?;base64,/)?c.gUrls[e]=f.replace(/\s/g,""):c.gUrls[e]=d.subParser("encodeAmpsAndAngles")(f,b,c),i?i+j:(j&&(c.gTitles[e]=j.replace(/"|'/g,"&quot;")),b.parseImgDimensions&&g&&h&&(c.gDimensions[e]={width:g,height:h}),"")};return a=(a+="¨0").replace(f,g),a=a.replace(e,g),a=a.replace(/¨0/,"")}),d.subParser("tables",function(a,b,c){"use strict";function e(a){return/^:[ \t]*--*$/.test(a)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(a)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(a)?' style="text-align:center;"':""}function f(a,e){var f="";return a=a.trim(),(b.tablesHeaderId||b.tableHeaderId)&&(f=' id="'+a.replace(/ /g,"_").toLowerCase()+'"'),a=d.subParser("spanGamut")(a,b,c),"<th"+f+e+">"+a+"</th>\n"}function g(a,e){return"<td"+e+">"+d.subParser("spanGamut")(a,b,c)+"</td>\n"}function h(a,b){for(var c="<table>\n<thead>\n<tr>\n",d=a.length,e=0;e<d;++e)c+=a[e];for(c+="</tr>\n</thead>\n<tbody>\n",e=0;e<b.length;++e){c+="<tr>\n";for(var f=0;f<d;++f)c+=b[e][f];c+="</tr>\n"}return c+="</tbody>\n</table>\n"}function i(a){var b,c=a.split("\n");for(b=0;b<c.length;++b)/^ {0,3}\|/.test(c[b])&&(c[b]=c[b].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(c[b])&&(c[b]=c[b].replace(/\|[ \t]*$/,""));var i=c[0].split("|").map(function(a){return a.trim()}),j=c[1].split("|").map(function(a){return a.trim()}),k=[],l=[],m=[],n=[];for(c.shift(),c.shift(),b=0;b<c.length;++b)""!==c[b].trim()&&k.push(c[b].split("|").map(function(a){return a.trim()}));if(i.length<j.length)return a;for(b=0;b<j.length;++b)m.push(e(j[b]));for(b=0;b<i.length;++b)d.helper.isUndefined(m[b])&&(m[b]=""),l.push(f(i[b],m[b]));for(b=0;b<k.length;++b){for(var o=[],p=0;p<l.length;++p)d.helper.isUndefined(k[b][p]),o.push(g(k[b][p],m[p]));n.push(o)}return h(l,n)}function j(a){var b=a.slice(-3);return"<ol"!==b&&"<ul"!==b||(a=a.slice(0,-3)+"\n\n"+a.slice(-3)),a}if(!b.tables)return a;var k=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|<ol|<ul|¨0)/gm,l=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|<ol|<ul|¨0)/gm;return a=c.converter._dispatch("tables.before",a,b,c),a=a.replace(/\\(\|)/g,d.helper.escapeCharactersCallback),a=a.replace(k,j),a=a.replace(l,j),a=a.replace(k,i),a=a.replace(l,i),a=c.converter._dispatch("tables.after",a,b,c)}),d.subParser("unescapeSpecialChars",function(a,b,c){"use strict";return a=c.converter._dispatch("unescapeSpecialChars.before",a,b,c),a=a.replace(/¨E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a=c.converter._dispatch("unescapeSpecialChars.after",a,b,c)});var r=this;"function"==typeof define&&define.amd?define(function(){"use strict";return d}):"undefined"!=typeof module&&module.exports?module.exports=d:r.showdown=d}.call(this),angular.module("btford.markdown",["ngSanitize"]).provider("markdownConverter",function(){var a={};return{config:function(b){a=b},$get:function(){return new showdown.Converter(a)}}}).directive("btfMarkdown",["$sanitize","markdownConverter",function(a,b){return{restrict:"AE",link:function(c,d,e){if(e.btfMarkdown)c.$watch(e.btfMarkdown,function(c){var e=c?a(b.makeHtml(c)):"";d.html(e)});else{var f=a(b.makeHtml(d.text()));d.html(f)}}}}]),function(){"use strict";function a(a){return angular.isUndefined(a)||null===a}function b(){try{return require("moment")}catch(a){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function c(c,d){if(void 0===d){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");d=b()}return c.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",d).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(b,d,e,f){return function(g,h,i){function j(){var a;if(p)a=p;else if(f.serverTime){var b=(new Date).getTime(),c=b-w+f.serverTime;a=d(c)}else a=d();return a}function k(){q&&(b.clearTimeout(q),q=null)}function l(a){var c=j().diff(a,v),d=t&&c>=t;if(d?h.text(a.format(u)):h.text(a.from(j(),r)),s&&z&&h.attr("title",a.format(s)),!d){var e=Math.abs(j().diff(a,"minute")),f=3600;e<1?f=1:e<60?f=30:e<180&&(f=300),q=b.setTimeout(function(){l(a)},1e3*f)}}function m(a){y&&h.attr("datetime",a)}function n(){if(k(),o){var a=e.preprocessDate(o);l(a),m(a.toISOString())}}var o,p,q=null,r=f.withoutSuffix,s=f.titleFormat,t=f.fullDateThreshold,u=f.fullDateFormat,v=f.fullDateThresholdUnit,w=(new Date).getTime(),x=i.amTimeAgo,y="TIME"===h[0].nodeName.toUpperCase(),z=!h.attr("title");g.$watch(x,function(b){return a(b)||""===b?(k(),void(o&&(h.text(""),m(""),o=null))):(o=b,void n())}),c.isDefined(i.amFrom)&&g.$watch(i.amFrom,function(b){p=a(b)||""===b?null:d(b),n()}),c.isDefined(i.amWithoutSuffix)&&g.$watch(i.amWithoutSuffix,function(a){"boolean"==typeof a?(r=a,n()):r=f.withoutSuffix}),i.$observe("amFullDateThreshold",function(a){t=a,n()}),i.$observe("amFullDateFormat",function(a){u=a,n()}),i.$observe("amFullDateThresholdUnit",function(a){v=a,n()}),g.$on("$destroy",function(){k()}),g.$on("amMoment:localeChanged",function(){n()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(a,b,d,e){var f=null;this.changeLocale=function(d,e){var f=a.locale(d,e);return c.isDefined(d)&&b.$broadcast("amMoment:localeChanged"),f},this.changeTimezone=function(c){a.tz&&a.tz.setDefault?(a.tz.setDefault(c),b.$broadcast("amMoment:timezoneChanged")):d.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),e.timezone=c,f=c},this.preprocessDate=function(b){return f!==e.timezone&&this.changeTimezone(e.timezone),e.preprocess?e.preprocess(b):a(!isNaN(parseFloat(b))&&isFinite(b)?parseInt(b,10):b)}}]).filter("amParse",["moment",function(a){return function(b,c){return a(b,c)}}]).filter("amFromUnix",["moment",function(a){return function(b){return a.unix(b)}}]).filter("amUtc",["moment",function(a){return function(b){return a.utc(b)}}]).filter("amUtcOffset",["amMoment",function(a){function b(b,c){return a.preprocessDate(b).utcOffset(c)}return b}]).filter("amLocal",["moment",function(a){return function(b){return a.isMoment(b)?b.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(a,b,c){function d(b,d){var e=a.preprocessDate(b);return d?e.tz?e.tz(d):(c.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),e):e}return d}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(b,c,d){function e(b,d,e){if(a(b))return"";var f=c.preprocessDate(b);return f.isValid()?f.calendar(d,e):""}return e.$stateful=d.statefulFilters,e}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(b,c,d){function e(d,e,f,g){if(a(d))return"";var h=c.preprocessDate(d),i=a(e)?b():c.preprocessDate(e);return h.isValid()&&i.isValid()?h.diff(i,f,g):""}return e.$stateful=d.statefulFilters,e}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(b,c,d){function e(b,d){if(a(b))return"";var e=c.preprocessDate(b);return e.isValid()?e.format(d):""}return e.$stateful=d.statefulFilters,e}]).filter("amDurationFormat",["moment","angularMomentConfig",function(b,c){function d(c,d,e){return a(c)?"":b.duration(c,d).humanize(e)}return d.$stateful=c.statefulFilters,d}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(b,c,d){function e(d,e,f){var g,h;return a(d)?"":(d=c.preprocessDate(d),g=b(d),g.isValid()?(h=b(f),!a(f)&&h.isValid()?g.from(h,e):g.fromNow(e)):"")}return e.$stateful=d.statefulFilters,e}]).filter("amSubtract",["moment","angularMomentConfig",function(b,c){function d(c,d,e){return a(c)?"":b(c).subtract(parseInt(d,10),e)}return d.$stateful=c.statefulFilters,d}]).filter("amAdd",["moment","angularMomentConfig",function(b,c){function d(c,d,e){return a(c)?"":b(c).add(parseInt(d,10),e)}return d.$stateful=c.statefulFilters,d}]).filter("amStartOf",["moment","angularMomentConfig",function(b,c){function d(c,d){return a(c)?"":b(c).startOf(d)}return d.$stateful=c.statefulFilters,d}]).filter("amEndOf",["moment","angularMomentConfig",function(b,c){function d(c,d){return a(c)?"":b(c).endOf(d)}return d.$stateful=c.statefulFilters,d}]),"angularMoment"}var d=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],c):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!d?module.exports=c(require("angular"),require("moment")):c(angular,("undefined"!=typeof global?global:window).moment)}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=d<0?Math.ceil(d):Math.floor(d),d<0&&(d+=c);d<c;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--t||(u||e(s,f.$$values),n.$$values=s,n.$$promises=n.$$promises||!0,delete n.$$inheritedValues,j.resolve(s))}function i(a){n.$$failure=a,j.reject(a)}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var j=a.defer(),n=j.promise,r=n.$$promises={},s=R({},d),t=1+q.length/3,u=!1;if(L(f.$$failure))return i(f.$$failure),n;f.$$inheritedValues&&e(s,m(f.$$inheritedValues,p)),R(r,f.$$promises),f.$$values?(u=e(s,m(f.$$values,p)),n.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(n.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var v=0,w=q.length;v<w;v+=3)d.hasOwnProperty(q[v])?h():function(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(n.$$failure))try{l.resolve(b.invoke(e,g,s)),l.promise.then(function(a){s[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){r.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,r[a].then(function(b){s[a]=b,--m||k()},j))}),m||k(),r[c]=l.promise}(q[v],q[v+1],q[v+2]);return n}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(!1===b.strict?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},int:{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return!0===a||!1===a},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(!0!==a&&!1!==a&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!p.type.is(a))throw new Error("Default value ("+a+") for parameter '"+p.id+"' is not an instance of Type ("+p.type.name+")");return a}function k(a){function b(a){return function(b){return b.from===a}}return a=function(a){var c=o(n(p.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}(a),L(a)?p.type.$normalize(a):j()}function m(){return"{Param:"+a+" "+d+" squash: '"+v+"' optional: "+t+"}"}var p=this;e=function(a){var b=O(a)?g(a):[];return-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array")&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}(e),d=function(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d||(c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string)}(e,d,f);var r=function(){var b={array:"search"===f&&"auto"},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}();d=r?d.$asArray(r,"search"===f):d,"string"!==d.name||r||"path"!==f||e.value!==c||(e.value="");var t=e.value!==c,v=function(a,b){var c=a.squash;if(!b||!1===c)return!1;if(!L(c)||null==c)return q;if(!0===c||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}(e,t),w=function(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}(e,r,t,v);R(this,{id:a,type:d,location:f,array:r,squash:v,replace:w,isOptional:t,value:k,dynamic:c,config:e,toString:m})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],(f=a[i[d]])!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return!L(d)||d}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return!!b&&(N(b)&&d.replace().url(b),!0)}if(!a||!a.defaultPrevented){p&&d.url();p=c;var e,g=j.length;for(e=0;e<g;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){if(a)return void(r=d.url());d.url()!==r&&(d.url(r),d.replace())},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name;if(f(e)){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var g=e.split("."),h=0,i=g.length,j=b;h<i;h++)if(""!==g[h]||0!==h){if("^"!==g[h])break;if(!j.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");j=j.parent}else j=b;g=g.slice(h).join("."),e=j.name+(j.name&&g?".":"")+g}var k=z[e];return!k||!d&&(d||k!==a&&k.self!==a)?c:k}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;d<e;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length==c.length&&c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var I=!0===f.reload?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),
f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current===e&&(!b||j(e.params.$$values(b),n)):c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?!!L(y.$current.includes[e.name])&&(!b||j(e.params.$$values(b),n,g(b))):c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){if(!f.reload&&a===c&&(e===c.locals||!1===a.self.reloadOnSearch&&function(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e));return new U.ParamSet(f).$$equals(b,c)}(c,d,b)))return!0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?R(a.parent.params.$$new(),b):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,abstract:!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d;return c=R({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(a,c){function d(a){return 1===V&&W>=4?!!i.enabled(a):1===V&&W>=2?!!i.enabled():!!h}var e={enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}};if(a.noanimation)return e;if(i)return{enter:function(a,c,f){d(a)?b.version.minor>2?i.enter(a,null,c).then(f):i.enter(a,null,c,f):e.enter(a,c,f)},leave:function(a,c){d(a)?b.version.minor>2?i.leave(a).then(c):i.leave(a,c):e.leave(a,c)}};if(h){var f=h&&h(c,a);return{enter:function(a,b,c){f.enter(a,null,b),c()},leave:function(a,b){f.leave(a),b()}}}return e}var g=function(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(a){return null}}}(),h=g("$animator"),i=g("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,g,h){return function(c,g,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(f){var k,l=A(c,i,g,e),s=l&&a.$current&&a.$current.locals[l];if((f||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,g,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=f(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}}}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),!(c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");if(b&&b.state&&b.state.name)return b.state}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(l.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);p.push({state:f||{name:b},params:c,hash:g}),q[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(a){}o=o||c(e.uiSrefActive||"",!1)(b),O(o)&&Q(o,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(o)&&p.length>0||(g(a,b,o),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){var c=this.regexp.exec(a);if(!c)return null;b=b||{};var d,e,f,g=this.parameters(),h=g.length,i=this.segments.length-1,j={};if(i!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var k,l;for(d=0;d<i;d++){for(f=g[d],k=this.params[f],l=c[d+1],e=0;e<k.replace.length;e++)k.replace[e].from===l&&(l=k.replace[e].to);l&&!0===k.array&&(l=function(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}return o(o(b(a).split(/-(?!\\)/),b),c).reverse()}(l)),L(l)&&(l=k.type.decode(l)),j[f]=k.value(l)}for(;d<h;d++){for(f=g[d],j[f]=this.params[f].value(b[f]),k=this.params[f],l=b[f],e=0;e<k.replace.length;e++)k.replace[e].from===l&&(l=k.replace[e].to);L(l)&&(l=k.type.decode(l)),j[f]=k.value(l)}return j},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;f<i;f++){var k=f<h,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=!!p&&m.squash,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(!1===q)null!=r&&(P(r)?j+=o(r,b).join("-"):j+=encodeURIComponent(r)),j+=s;else if(!0===q){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&!0===m.squash&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&!1!==q)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+l+"="+r,g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return!0===b?0===n(d,g).length:f(d)}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=function(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x);var V=b.version.major,W=b.version.minor;y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){function h(a){return q?{width:a.scrollWidth+"px"}:{height:a.scrollHeight+"px"}}function i(){f.hasClass("collapse")&&f.hasClass("in")||b.resolve(m(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:h(f[0])}).start().finally(j):a.addClass(f,"in",{css:{overflow:"hidden"},to:h(f[0])}).then(j)},angular.noop)}function j(){f.removeClass("collapsing").addClass("collapse").css(r),n(d)}function k(){if(!f.hasClass("collapse")&&!f.hasClass("in"))return l();b.resolve(o(d)).then(function(){f.css(h(f[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e?e(f,{removeClass:"in",to:s}).start().finally(l):a.removeClass(f,"in",{to:s}).then(l)},angular.noop)}function l(){f.css(s),f.removeClass("collapsing").addClass("collapse"),p(d)}var m=c(g.expanding),n=c(g.expanded),o=c(g.collapsing),p=c(g.collapsed),q=!1,r={},s={};!function(){q=!!("horizontal"in g),q?(r={width:""},s={width:"0"}):(r={height:""},s={height:"0"}),d.$eval(g.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(r)}(),d.$watch(g.uibCollapse,function(a){a?k():i()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(a,b,c){c.$observe("disabled",function(a){c.$set("tabindex",a?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){(angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers)&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){b.addClass("panel"),d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass||"panel-default",a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e="accordiongroup-"+a.$id+"-"+Math.floor(1e4*Math.random());a.headingId=e+"-tab",a.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.uibAccordionTransclude]},function(a){if(a){var c=angular.element(b[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));c.html(""),c.append(a)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(a,b,c,d,e){a.closeable=!!c.close,b.addClass("alert"),c.$set("role","alert"),a.closeable&&b.addClass("alert-dismissible");var f=angular.isDefined(c.dismissOnTimeout)?d(c.dismissOnTimeout)(a.$parent):null;f&&e(function(){a.close()},parseInt(f,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find("input").css({display:"none"}),g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);a&&!angular.isDefined(d.uncheckable)||b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set("uncheckable",a?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){function f(a){for(var b=0;b<p.length;b++)p[b].slide.active=b===a}function g(c,d,g){if(!s){if(angular.extend(c,{direction:g}),angular.extend(p[r].slide||{},{direction:g}),e.enabled(b)&&!a.$currentTransition&&p[d].element&&o.slides.length>1){p[d].element.data(q,c.direction);var h=o.getCurrentIndex();angular.isNumber(h)&&p[h].element&&p[h].element.data(q,c.direction),a.$currentTransition=!0,e.on("addClass",p[d].element,function(b,c){"close"===c&&(a.$currentTransition=null,e.off("addClass",b))})}a.active=c.index,r=c.index,f(d),k()}}function h(a){for(var b=0;b<p.length;b++)if(p[b].slide===a)return b}function i(){m&&(c.cancel(m),m=null)}function j(b){b.length||(a.$currentTransition=null)}function k(){i();var b=+a.interval;!isNaN(b)&&b>0&&(m=c(l,b))}function l(){var b=+a.interval;n&&!isNaN(b)&&b>0&&p.length?a.next():a.pause()}var m,n,o=this,p=o.slides=a.slides=[],q="uib-slideDirection",r=a.active,s=!1;b.addClass("carousel"),o.addSlide=function(b,c){p.push({slide:b,element:c}),p.sort(function(a,b){return+a.slide.index-+b.slide.index}),(b.index===a.active||1===p.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),r=b.index,a.active=b.index,f(r),o.select(p[h(b)]),1===p.length&&a.play())},o.getCurrentIndex=function(){for(var a=0;a<p.length;a++)if(p[a].slide.index===r)return a},o.next=a.next=function(){var b=(o.getCurrentIndex()+1)%p.length;return 0===b&&a.noWrap()?void a.pause():o.select(p[b],"next")},o.prev=a.prev=function(){var b=o.getCurrentIndex()-1<0?p.length-1:o.getCurrentIndex()-1;return a.noWrap()&&b===p.length-1?void a.pause():o.select(p[b],"prev")},o.removeSlide=function(b){var c=h(b);p.splice(c,1),p.length>0&&r===c?c>=p.length?(r=p.length-1,a.active=r,f(r),o.select(p[p.length-1])):(r=c,a.active=r,f(r),o.select(p[c])):r>c&&(r--,a.active=r),0===p.length&&(r=null,a.active=null)},o.select=a.select=function(b,c){var d=h(b.slide);void 0===c&&(c=d>o.getCurrentIndex()?"next":"prev"),b.slide.index===r||a.$currentTransition||g(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.isPrevDisabled=function(){return 0===a.active&&a.noWrap()},a.isNextDisabled=function(){return a.active===p.length-1&&a.noWrap()},a.pause=function(){a.noPause||(n=!1,i())},a.play=function(){n||(n=!0,k())},b.on("mouseenter",a.pause),b.on("mouseleave",a.play),a.$on("$destroy",function(){s=!0,i()}),a.$watch("noTransition",function(a){e.enabled(b,!a)}),a.$watch("interval",k),a.$watchCollection("slides",j),a.$watch("active",function(a){if(angular.isNumber(a)&&r!==a){for(var b=0;b<p.length;b++)if(p[b].slide.index===a){a=b;break}p[a]&&(f(a),o.select(p[a]),r=a)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(a){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(b,c,d,e){c.addClass("item"),e.addSlide(b,c),b.$on("$destroy",function(){e.removeSlide(b)}),b.$watch("active",function(b){a[b?"addClass":"removeClass"](c,"active")})}}}]).animation(".item",["$animateCss",function(a){function b(a,b,c){a.removeClass(b),c&&c()}return{beforeAddClass:function(c,d,e){if("active"===d){var f=!1,g=c.data("uib-slideDirection"),h="next"===g?"left":"right",i=b.bind(this,c,h+" "+g,e);return c.addClass(g),a(c,{addClass:h}).start().done(i),function(){f=!0}}e()},beforeRemoveClass:function(c,d,e){if("active"===d){var f=!1,g=c.data("uib-slideDirection"),h="next"===g?"left":"right",i=b.bind(this,c,h,e);return a(c,{addClass:h}).start().done(i),function(){f=!0}}e()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(a,b,c,d,e){function f(a){return e(s,{key:a},!0)[0]}function g(a){var b=[],c=a.split(""),e=a.indexOf("'");if(e>-1){var f=!1;a=a.split("");for(var g=e;g<a.length;g++)f?("'"===a[g]&&(g+1<a.length&&"'"===a[g+1]?(a[g+1]="$",c[g+1]=""):(c[g]="",f=!1)),a[g]="$"):"'"===a[g]&&(a[g]="$",c[g]="",f=!0);a=a.join("")}return angular.forEach(s,function(d){var e=a.indexOf(d.key);if(e>-1){a=a.split(""),c[e]="("+d.regex+")",a[e]="$";for(var f=e+1,g=e+d.key.length;f<g;f++)c[f]="",a[f]="$";a=a.join(""),b.push({index:e,key:d.key,apply:d.apply,matcher:d.regex})}}),{regex:new RegExp("^"+c.join("")+"$"),map:d(b,"index")}}function h(a){for(var b,c,d=[],e=0;e<a.length;)if(angular.isNumber(c)){if("'"===a.charAt(e))(e+1>=a.length||"'"!==a.charAt(e+1))&&(d.push(i(a,c,e)),c=null);else if(e===a.length)for(;c<a.length;)b=j(a,c),d.push(b),c=b.endIdx;e++}else"'"!==a.charAt(e)?(b=j(a,e),d.push(b.parser),e=b.endIdx):(c=e,e++);return d}function i(a,b,c){return function(){return a.substr(b+1,c-b-1)}}function j(a,b){for(var c=a.substr(b),d=0;d<s.length;d++)if(new RegExp("^"+s[d].key).test(c)){var e=s[d];return{endIdx:b+e.key.length,parser:e.formatter}}return{endIdx:b+1,parser:function(){return c.charAt(0)}}}function k(a,b,c){return!(c<1)&&(1===b&&c>28?29===c&&(a%4==0&&a%100!=0||a%400==0):3!==b&&5!==b&&8!==b&&10!==b||c<31)}function l(a){return parseInt(a,10)}function m(a,b){return a&&b?q(a,b):a}function n(a,b){return a&&b?q(a,b,!0):a}function o(a,b){a=a.replace(/:/g,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function p(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function q(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset();return p(a,c*(o(b,d)-d))}var r,s,t=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){r=b.id,this.parsers={},this.formatters={},s=[{key:"yyyy",regex:"\\d{4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(a){a=+a,this.year=a<69?a+2e3:a+1900},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return/^[0-9]$/.test(a.getMonth())?c(a,"MM"):c(a,"M")}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,"MMMM")}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return/^[1-9]$/.test(a.getDate())?c(a,"dd"):c(a,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"d")}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|"),formatter:function(a){return c(a,"EEEE")}},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(a){return c(a,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"s")}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)},formatter:function(a){return c(a,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(a){var b=a.match(/([+-])(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=l(c+d),this.minutes+=l(c+e)},formatter:function(a){return c(a,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(a){return c(a,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(a){return c(a,"w")}},{key:"GGGG",regex:b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(a){return c(a,"GGGG")}},{key:"GGG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GGG")}},{key:"GG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GG")}},{key:"G",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"G")}}],angular.version.major>=1&&angular.version.minor>4&&s.push({key:"LLLL",regex:b.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.STANDALONEMONTH.indexOf(a)},formatter:function(a){return c(a,"LLLL")}})},this.init(),this.getParser=function(a){var b=f(a);return b&&b.apply||null},this.overrideParser=function(a,b){var c=f(a);c&&angular.isFunction(b)&&(this.parsers={},c.apply=b)}.bind(this),this.filter=function(a,c){return angular.isDate(a)&&!isNaN(a)&&c?(c=b.DATETIME_FORMATS[c]||c,b.id!==r&&this.init(),this.formatters[c]||(this.formatters[c]=h(c)),this.formatters[c].reduce(function(b,c){return b+c(a)},"")):""},this.parse=function(c,d,e){if(!angular.isString(c)||!d)return c;d=b.DATETIME_FORMATS[d]||d,d=d.replace(t,"\\$&"),b.id!==r&&this.init(),this.parsers[d]||(this.parsers[d]=g(d));var f=this.parsers[d],h=f.regex,i=f.map,j=c.match(h),l=!1;if(j&&j.length){var m,n;angular.isDate(e)&&!isNaN(e.getTime())?m={year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}:(e&&a.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,
milliseconds:0});for(var o=1,p=j.length;o<p;o++){var q=i[o-1];"Z"===q.matcher&&(l=!0),q.apply&&q.apply.call(m,j[o])}var s=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return k(m.year,m.month,m.date)&&(!angular.isDate(e)||isNaN(e.getTime())||l?(n=new Date(0),s.call(n,m.year,m.month,m.date),u.call(n,m.hours||0,m.minutes||0,m.seconds||0,m.milliseconds||0)):(n=new Date(e),s.call(n,m.year,m.month,m.date),u.call(n,m.hours,m.minutes,m.seconds,m.milliseconds))),n}},this.toTimezone=m,this.fromTimezone=n,this.timezoneToOffset=o,this.addDateMinutes=p,this.convertTimezoneToLocal=q}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(a){var b=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,c=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(d,e){function f(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on("$destroy",h)}function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){if(a.scope.$eval(m)===b)return c=a,!0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];angular.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],n=l[1],o=n.split(",");return f}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b){a.datepickerMode=b,a.datepickerOptions.datepickerMode=b}function n(b){var c;if(angular.version.minor<6)c=b.$options||a.datepickerOptions.ngModelOptions||i.ngModelOptions||{},c.getOption=function(a){return c[a]};else{var d=b.$options.getOption("timezone")||(a.datepickerOptions.ngModelOptions?a.datepickerOptions.ngModelOptions.timezone:null)||(i.ngModelOptions?i.ngModelOptions.timezone:null);c=b.$options.createChild(i.ngModelOptions).createChild(a.datepickerOptions.ngModelOptions).createChild(b.$options).createChild({timezone:d})}return c}var o=this,p={$setViewValue:angular.noop},q={},r=[];b.addClass("uib-datepicker"),c.$set("role","application"),a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(b){switch(b){case"customClass":case"dateDisabled":a[b]=a.datepickerOptions[b]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:i.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":o[b]=angular.isDefined(a.datepickerOptions[b])?e(a.datepickerOptions[b])(a.$parent):i[b];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":o[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:i[b];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?o.startingDay=a.datepickerOptions.startingDay:angular.isNumber(i.startingDay)?o.startingDay=i.startingDay:o.startingDay=(f.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+b,function(a){a?angular.isDate(a)?o[b]=l.fromTimezone(new Date(a),q.getOption("timezone")):(j&&g.warn("Literal date support has been deprecated, please switch to date object usage"),o[b]=new Date(h(a,"medium"))):o[b]=i[b]?l.fromTimezone(new Date(i[b]),q.getOption("timezone")):null,o.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){o[b]=a[b]=angular.isDefined(c)?c:a.datepickerOptions[b],("minMode"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)<o.modes.indexOf(o[b])||"maxMode"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)>o.modes.indexOf(o[b]))&&(a.datepickerMode=o[b],a.datepickerOptions.datepickerMode=o[b])}):o[b]=a[b]=i[b]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(c.disabled)||!1,angular.isDefined(c.ngDisabled)&&r.push(a.$parent.$watch(c.ngDisabled,function(b){a.disabled=b,o.refreshView()})),a.isActive=function(b){return 0===o.compare(b.date,o.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(b){p=b,q=n(p),a.datepickerOptions.initDate?(o.activeDate=l.fromTimezone(a.datepickerOptions.initDate,q.getOption("timezone"))||new Date,a.$watch("datepickerOptions.initDate",function(a){a&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(o.activeDate=l.fromTimezone(a,q.getOption("timezone")),o.refreshView())})):o.activeDate=new Date;var c=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(c)?l.fromTimezone(new Date,q.getOption("timezone")):l.fromTimezone(c,q.getOption("timezone")),p.$render=function(){o.render()}},this.render=function(){if(p.$viewValue){var a=new Date(p.$viewValue);!isNaN(a)?this.activeDate=l.fromTimezone(a,q.getOption("timezone")):k||g.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=p.$viewValue?new Date(p.$viewValue):null;b=l.fromTimezone(b,q.getOption("timezone")),p.$setValidity("dateDisabled",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=p.$viewValue?new Date(p.$viewValue):null;d=l.fromTimezone(d,q.getOption("timezone"));var e=new Date;e=l.fromTimezone(e,q.getOption("timezone"));var f=this.compare(b,e),g={date:b,label:l.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),past:f<0,current:0===f,future:f>0,customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=g),o.activeDate&&0===this.compare(g.date,o.activeDate)&&(a.activeDt=g),g},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===o.minMode){var c=p.$viewValue?l.fromTimezone(new Date(p.$viewValue),q.getOption("timezone")):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=l.toTimezone(c,q.getOption("timezone")),p.$setViewValue(c),p.$render()}else o.activeDate=b,m(o.modes[o.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode");a.$broadcast("uib:datepicker.focus")},a.move=function(a){var b=o.activeDate.getFullYear()+a*(o.step.years||0),c=o.activeDate.getMonth()+a*(o.step.months||0);o.activeDate.setFullYear(b,c,1),o.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===o.maxMode&&1===b||a.datepickerMode===o.minMode&&-1===b||(m(o.modes[o.modes.indexOf(a.datepickerMode)+b]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var s=function(){o.element[0].focus()};a.$on("uib:datepicker.focus",s),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),o.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(o.isDisabled(o.activeDate))return;a.select(o.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(o.handleKeyDown(c,b),o.refreshView()):a.toggleMode("up"===c?1:-1)},b.on("keydown",function(b){a.$apply(function(){a.keydown(b)})}),a.$on("$destroy",function(){for(;r.length;)r.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!=0||a%100==0&&a%400!=0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;f<b;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(1-h);for(var j=this.getDates(i,42),k=0;k<42;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;l<7;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;o<n;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;f<12;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,this.monthColumns),a.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=this.monthColumns;else if("right"===a)c+=1;else if("down"===a)c+=this.monthColumns;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());g<f;g++)b=new Date(this.activeDate),b.setFullYear(h+g,0,1),c[g]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=e:"right"===a?c+=1:"down"===a?c+=e:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*f:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibYearpicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){var c,d,e={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},f={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},g=/(HTML|BODY)/;return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){c=this.getRawNode(c);for(var d=c.offsetParent||a[0].documentElement;d&&d!==a[0].documentElement&&function(a){return"static"===(b.getComputedStyle(a).position||"static")}(d);)d=d.offsetParent;return d||a[0].documentElement},scrollbarWidth:function(e){if(e){if(angular.isUndefined(d)){var f=a.find("body");f.addClass("uib-position-body-scrollbar-measure"),d=b.innerWidth-f[0].clientWidth,d=isFinite(d)?d:0,f.removeClass("uib-position-body-scrollbar-measure")}return d}if(angular.isUndefined(c)){var g=angular.element('<div class="uib-position-scrollbar-measure"></div>');a.find("body").append(g),c=g[0].offsetWidth-g[0].clientWidth,c=isFinite(c)?c:0,g.remove()}return c},scrollbarPadding:function(a){a=this.getRawNode(a);var c=b.getComputedStyle(a),d=this.parseStyle(c.paddingRight),e=this.parseStyle(c.paddingBottom),f=this.scrollParent(a,!1,!0),h=this.scrollbarWidth(g.test(f.tagName));return{scrollbarWidth:h,widthOverflow:f.scrollWidth>f.clientWidth,right:d+h,originalRight:d,heightOverflow:f.scrollHeight>f.clientHeight,bottom:e+h,originalBottom:e}},isScrollable:function(a,c){a=this.getRawNode(a);var d=c?e.hidden:e.normal,f=b.getComputedStyle(a);return d.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,d,f){c=this.getRawNode(c);var g=d?e.hidden:e.normal,h=a[0].documentElement,i=b.getComputedStyle(c);if(f&&g.test(i.overflow+i.overflowY+i.overflowX))return c;var j="absolute"===i.position,k=c.parentElement||h;if(k===h||"fixed"===i.position)return h;for(;k.parentElement&&k!==h;){var l=b.getComputedStyle(k);if(j&&"static"!==l.position&&(j=!1),!j&&g.test(l.overflow+l.overflowY+l.overflowX))break;k=k.parentElement}return k},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c),e=!1!==e;var f=c.getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=f.auto.test(a);return b&&(a=a.replace(f.auto,"")),a=a.split("-"),a[0]=a[0]||"top",f.primary.test(a[0])||(a[0]="top"),a[1]=a[1]||"center",f.secondary.test(a[1])||(a[1]="center"),a[2]=!!b,a},positionElements:function(a,c,d,e){a=this.getRawNode(a),c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop("offsetWidth"),h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop("offsetHeight");d=this.parsePlacement(d);var i=e?this.offset(a):this.position(a),j={top:0,left:0,placement:""};if(d[2]){var k=this.viewportOffset(a,e),l=b.getComputedStyle(c),m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};if(d[0]="top"===d[0]&&m.height>k.top&&m.height<=k.bottom?"bottom":"bottom"===d[0]&&m.height>k.bottom&&m.height<=k.top?"top":"left"===d[0]&&m.width>k.left&&m.width<=k.right?"right":"right"===d[0]&&m.width>k.right&&m.width<=k.left?"left":d[0],d[1]="top"===d[1]&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?"bottom":"bottom"===d[1]&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?"top":"left"===d[1]&&m.width-i.width>k.right&&m.width-i.width<=k.left?"right":"right"===d[1]&&m.width-i.width>k.left&&m.width-i.width<=k.right?"left":d[1],"center"===d[1])if(f.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m.width-i.width<=k.right?d[1]="left":k.right+n<0&&m.width-i.width<=k.left&&(d[1]="right")}else{var o=i.height/2-m.height/2;k.top+o<0&&m.height-i.height<=k.bottom?d[1]="top":k.bottom+o<0&&m.height-i.height<=k.top&&(d[1]="bottom")}}switch(d[0]){case"top":j.top=i.top-h;break;case"bottom":j.top=i.top+i.height;break;case"left":j.left=i.left-g;break;case"right":j.left=i.left+i.width}switch(d[1]){case"top":j.top=i.top;break;case"bottom":j.top=i.top+i.height-h;break;case"left":j.left=i.left;break;case"right":j.left=i.left+i.width-g;break;case"center":f.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement="center"===d[1]?d[0]:d[0]+"-"+d[1],j},adjustTop:function(a,b,c,d){if(-1!==a.indexOf("top")&&c!==d)return{top:b.top-d+"px"}},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(".tooltip-inner, .popover-inner");if(d){var e=angular.element(d).hasClass("tooltip-inner"),g=e?a.querySelector(".tooltip-arrow"):a.querySelector(".arrow");if(g){var h={top:"",bottom:"",left:"",right:""};if(c=this.parsePlacement(c),"center"===c[1])return void angular.element(g).css(h);var i="border-"+c[0]+"-width",j=b.getComputedStyle(g)[i],k="border-";f.vertical.test(c[0])?k+=c[0]+"-"+c[1]:k+=c[1]+"-"+c[0],k+="-radius";var l=b.getComputedStyle(e?d:a)[k];switch(c[0]){case"top":h.bottom=e?"0":"-"+j;break;case"bottom":h.top=e?"0":"-"+j;break;case"left":h.right=e?"0":"-"+j;break;case"right":h.left=e?"0":"-"+j}h[c[1]]=l,angular.element(g).css(h)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(b){var c=l.parse(b,x,a.date);if(isNaN(c))for(var d=0;d<J.length;d++)if(c=l.parse(b,J[d],a.date),!isNaN(c))return c;return c}function r(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=q(a);if(!isNaN(b))return l.toTimezone(b,H.getOption("timezone"))}return H.getOption("allowInvalid")?a:void 0}function s(a,b){var d=a||b;return!c.ngRequired&&!d||(angular.isNumber(d)&&(d=new Date(d)),!d||(!(!angular.isDate(d)||isNaN(d))||!!angular.isString(d)&&!isNaN(q(d))))}function t(c){if(a.isOpen||!a.disabled){var d=I[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function u(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function v(){if(a.isOpen){var d=angular.element(I[0].querySelector(".uib-datepicker-popup")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,z);d.css({top:f.top+"px",left:f.left+"px"}),d.hasClass("uib-position-measure")&&d.removeClass("uib-position-measure")}}function w(a){var b;return angular.version.minor<6?(b=angular.isObject(a.$options)?a.$options:{timezone:null},b.getOption=function(a){return b[a]}):b=a.$options,b}var x,y,z,A,B,C,D,E,F,G,H,I,J,K=!1,L=[];this.init=function(e){if(G=e,H=w(G),y=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,z=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,A=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,B=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,C=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,J=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(x=m.html5Types[c.type],K=!0):(x=c.uibDatepickerPopup||m.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||m.datepickerPopup;if(c!==x&&(x=c,G.$modelValue=null,!x))throw new Error("uibDatepickerPopup must have a date format specified.")})),!x)throw new Error("uibDatepickerPopup must have a date format specified.");if(K&&c.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");D=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),D.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":B}),E=angular.element(D.children()[0]),E.attr("template-url",C),a.datepickerOptions||(a.datepickerOptions={}),K&&"month"===c.type&&(a.datepickerOptions.datepickerMode="month",a.datepickerOptions.minMode="month"),E.attr("datepicker-options","datepickerOptions"),K?G.$formatters.push(function(b){return a.date=l.fromTimezone(b,H.getOption("timezone")),b}):(G.$$parserName="date",G.$validators.date=s,G.$parsers.unshift(r),G.$formatters.push(function(b){return G.$isEmpty(b)?(a.date=b,b):(angular.isNumber(b)&&(b=new Date(b)),a.date=l.fromTimezone(b,H.getOption("timezone")),l.filter(a.date,x))})),G.$viewChangeListeners.push(function(){a.date=q(G.$viewValue)}),b.on("keydown",u),I=d(D)(a),D.remove(),z?h.find("body").append(I):b.after(I),a.$on("$destroy",function(){for(!0===a.isOpen&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),I.remove(),b.off("keydown",u),h.off("click",t),F&&F.off("scroll",v),angular.element(g).off("resize",v);L.length;)L.shift()()})},a.getText=function(b){return a[b+"Text"]||m[b+"Text"]},a.isDisabled=function(b){"today"===b&&(b=l.fromTimezone(new Date,H.getOption("timezone")));var c={};return angular.forEach(["minDate","maxDate"],function(b){a.datepickerOptions[b]?angular.isDate(a.datepickerOptions[b])?c[b]=new Date(a.datepickerOptions[b]):(p&&e.warn("Literal date support has been deprecated, please switch to date object usage"),c[b]=new Date(k(a.datepickerOptions[b],"medium"))):c[b]=null}),a.datepickerOptions&&c.minDate&&a.compare(b,c.minDate)<0||c.maxDate&&a.compare(b,c.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){a.date=c;var d=a.date?l.filter(a.date,x):null;b.val(d),G.$setViewValue(d),y&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),"today"===b){var d=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):(b=l.fromTimezone(d,H.getOption("timezone")),b.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=angular.isDefined(c.disabled)||!1,c.ngDisabled&&L.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch("isOpen",function(d){d?a.disabled?a.isOpen=!1:n(function(){v(),A&&a.$broadcast("uib:datepicker.focus"),h.on("click",t);var d=c.popupPlacement?c.popupPlacement:m.placement;z||j.parsePlacement(d)[2]?(F=F||angular.element(j.scrollParent(b)))&&F.on("scroll",v):F=null,angular.element(g).on("resize",v)},0,!1):(h.off("click",t),F&&F.off("scroll",v),angular.element(g).off("resize",v))}),a.$on("uib:datepicker.mode",function(){n(v,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(a,b,c){var d=null,e=c.createNew();this.isOnlyOpen=function(a,b){var c=e.get(b);if(c){if(c.reduce(function(b,c){return c.scope===a?c:b},{}))return 1===c.length}return!1},this.open=function(b,c,g){if(d||a.on("click",f),d&&d!==b&&(d.isOpen=!1),d=b,g){var h=e.get(g);if(h){-1===h.map(function(a){return a.scope}).indexOf(b)&&e.put(g,{scope:b})}else e.put(g,{scope:b})}},this.close=function(b,c,g){if(d===b&&(a.off("click",f),a.off("keydown",this.keybindFilter),d=null),g){var h=e.get(g);if(h){var i=h.reduce(function(a,c){return c.scope===b?c:a},{});i&&e.remove(g,i)}}};var f=function(a){if(d&&d.isOpen&&!(a&&"disabled"===d.getAutoClose()||a&&3===a.which)){var c=d.getToggleElement();if(!(a&&c&&c[0].contains(a.target))){var e=d.getDropdownElement();a&&"outsideClick"===d.getAutoClose()&&e&&e[0].contains(a.target)||(d.focusToggleElement(),d.isOpen=!1,b.$$phase||d.$apply())}}};this.keybindFilter=function(a){if(d){var b=d.getDropdownElement(),c=d.getToggleElement(),e=b&&b[0].contains(a.target),g=c&&c[0].contains(a.target);27===a.which?(a.stopPropagation(),d.focusToggleElement(),f()):d.isKeynavEnabled()&&-1!==[38,40].indexOf(a.which)&&d.isOpen&&(e||g)&&(a.preventDefault(),a.stopPropagation(),d.focusDropdownEntry(a.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){function l(){b.append(o.dropdownMenu)}var m,n,o=this,p=a.$new(),q=e.appendToOpenClass,r=e.openClass,s=angular.noop,t=c.onToggle?d(c.onToggle):angular.noop,u=!1,v=i.find("body");b.addClass("dropdown"),this.init=function(){c.isOpen&&(n=d(c.isOpen),s=n.assign,a.$watch(n,function(a){p.isOpen=!!a})),u=angular.isDefined(c.keyboardNav)},this.toggle=function(a){return p.isOpen=arguments.length?!!a:!p.isOpen,angular.isFunction(s)&&s(p,p.isOpen),p.isOpen},this.isOpen=function(){return p.isOpen},p.getToggleElement=function(){return o.toggleElement},p.getAutoClose=function(){return c.autoClose||"always"},p.getElement=function(){return b},p.isKeynavEnabled=function(){return u},p.focusDropdownEntry=function(a){var c=o.dropdownMenu?angular.element(o.dropdownMenu).find("a"):b.find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(o.selectedOption)?o.selectedOption=o.selectedOption===c.length-1?o.selectedOption:o.selectedOption+1:o.selectedOption=0;break;case 38:angular.isNumber(o.selectedOption)?o.selectedOption=0===o.selectedOption?0:o.selectedOption-1:o.selectedOption=c.length-1}c[o.selectedOption].focus()},p.getDropdownElement=function(){return o.dropdownMenu},p.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()},p.$watch("isOpen",function(e,n){var u=null,w=!1;if(angular.isDefined(c.dropdownAppendTo)){var x=d(c.dropdownAppendTo)(p);x&&(u=angular.element(x))}if(angular.isDefined(c.dropdownAppendToBody)){!1!==d(c.dropdownAppendToBody)(p)&&(w=!0)}if(w&&!u&&(u=v),u&&o.dropdownMenu&&(e?(u.append(o.dropdownMenu),b.on("$destroy",l)):(b.off("$destroy",l),l())),u&&o.dropdownMenu){var y,z,A,B=h.positionElements(b,o.dropdownMenu,"bottom-left",!0),C=0;if(y={top:B.top+"px",display:e?"block":"none"},z=o.dropdownMenu.hasClass("dropdown-menu-right"),z?(y.left="auto",A=h.scrollbarPadding(u),A.heightOverflow&&A.scrollbarWidth&&(C=A.scrollbarWidth),
y.right=window.innerWidth-C-(B.left+b.prop("offsetWidth"))+"px"):(y.left=B.left+"px",y.right="auto"),!w){var D=h.offset(u);y.top=B.top-D.top+"px",z?y.right=window.innerWidth-(B.left-D.left+b.prop("offsetWidth"))+"px":y.left=B.left-D.left+"px"}o.dropdownMenu.css(y)}var E=u||b,F=u?q:r,G=E.hasClass(F),H=f.isOnlyOpen(a,u);if(G===!e){var I;I=u?H?"removeClass":"addClass":e?"addClass":"removeClass",g[I](E,F).then(function(){angular.isDefined(e)&&e!==n&&t(a,{open:!!e})})}if(e)o.dropdownMenuTemplateUrl?k(o.dropdownMenuTemplateUrl).then(function(a){m=p.$new(),j(a.trim())(m,function(a){var b=a;o.dropdownMenu.replaceWith(b),o.dropdownMenu=b,i.on("keydown",f.keybindFilter)})}):i.on("keydown",f.keybindFilter),p.focusToggleElement(),f.open(p,b,u);else{if(f.close(p,b,u),o.dropdownMenuTemplateUrl){m&&m.$destroy();var J=angular.element('<ul class="dropdown-menu"></ul>');o.dropdownMenu.replaceWith(J),o.dropdownMenu=J}o.selectedOption=null}angular.isFunction(s)&&s(a,e)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.on("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.off("click",e)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.pop()},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=["$injector","$q",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d)return d.resolve(a,e,f,g);var h=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?h.push(c.resolve(b.invoke(a))):angular.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return angular.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a.removeClass(d,e.modalInClass).then(g):g()}))}return{restrict:"A",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(a,b,c,d){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/modal/window.html"},link:function(e,f,g){f.addClass(g.windowTopClass||""),e.size=g.size,e.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",e.close),e.$isRendered=!0;var h=b.defer();e.$$postDigest(function(){h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=c(f,{addClass:g.modalInClass}).start(),e.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c(f,{removeClass:g.modalInClass}).start().then(d)})),b.when(h).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!d[0].activeElement||!f[0].contains(d[0].activeElement)){var c=f[0].querySelector("[autofocus]");c?c.focus():f[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(a){return{link:function(b,c,d,e,f){f(b.$parent,function(b){c.empty(),a.enter(b,c)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(a,b,c,d,e,f,g,h,i){function j(a){return a.replace(D,function(a,b){return(b?"-":"")+a.toLowerCase()})}function k(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}function l(){for(var a=-1,b=x.keys(),c=0;c<b.length;c++)x.get(b[c]).value.backdrop&&(a=c);return a>-1&&a<A&&(a=A),a}function m(a,b){var c=x.get(a).value,d=c.appendTo;x.remove(a),B=x.top(),B&&(A=parseInt(B.value.modalDomEl.attr("index"),10)),p(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||w;y.remove(b,a);var e=y.hasKey(b);d.toggleClass(b,e),!e&&v&&v.heightOverflow&&v.scrollbarWidth&&(v.originalRight?d.css({paddingRight:v.originalRight+"px"}):d.css({paddingRight:""}),v=null),n(!0)},c.closedDeferred),o(),b&&b.focus?b.focus():d.focus&&d.focus()}function n(a){var b;x.length()>0&&(b=x.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function o(){if(t&&-1===l()){var a=u;p(t,u,function(){a=null}),t=void 0,u=void 0}}function p(b,c,d,e){function g(){g.done||(g.done=!0,a.leave(b).then(function(){d&&d(),b.remove(),e&&e.resolve()}),c.$destroy())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(z.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function q(a){if(a.isDefaultPrevented())return a;var b=x.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){z.dismiss(b.key,"escape key press")}));break;case 9:var c=z.loadFocusElementList(b),d=!1;a.shiftKey?(z.isFocusInFirstItem(a,c)||z.isModalFocused(a,b))&&(d=z.focusLastFocusableElement(c)):z.isFocusInLastItem(a,c)&&(d=z.focusFirstFocusableElement(c)),d&&(a.preventDefault(),a.stopPropagation())}}function r(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}function s(){Array.prototype.forEach.call(document.querySelectorAll("["+C+"]"),function(a){var b=parseInt(a.getAttribute(C),10),c=b-1;a.setAttribute(C,c),c||(a.removeAttribute(C),a.removeAttribute("aria-hidden"))})}var t,u,v,w="modal-open",x=h.createNew(),y=g.createNew(),z={NOW_CLOSING_EVENT:"modal.stack.now-closing"},A=0,B=null,C="data-bootstrap-modal-aria-hidden-count",D=/[A-Z]/g;return e.$watch(l,function(a){u&&(u.index=a)}),c.on("keydown",q),e.$on("$destroy",function(){c.off("keydown",q)}),z.open=function(b,f){function g(a){if(a&&"BODY"!==a[0].tagName)return function(a){var b=a.parent()?a.parent().children():[];return Array.prototype.filter.call(b,function(b){return b!==a[0]})}(a).forEach(function(a){var b="true"===a.getAttribute("aria-hidden"),c=parseInt(a.getAttribute(C),10);c||(c=b?1:0),a.setAttribute(C,c+1),a.setAttribute("aria-hidden","true")}),g(a.parent())}var h=c[0].activeElement,k=f.openedClass||w;n(!1),B=x.top(),x.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),y.put(k,b);var m=f.appendTo,o=l();o>=0&&!t&&(u=e.$new(!0),u.modalOptions=f,u.index=o,t=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),t.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),f.backdropClass&&t.addClass(f.backdropClass),f.animation&&t.attr("modal-animation","true"),d(t)(u),a.enter(t,m),i.isScrollable(m)&&(v=i.scrollbarPadding(m),v.heightOverflow&&v.scrollbarWidth&&m.css({paddingRight:v.right+"px"})));var p;f.component?(p=document.createElement(j(f.component.name)),p=angular.element(p),p.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):p=f.content,A=B?parseInt(B.value.modalDomEl.attr("index"),10)+1:0;var q=angular.element('<div uib-modal-window="modal-window"></div>');q.attr({class:"modal","template-url":f.windowTemplateUrl,"window-top-class":f.windowTopClass,role:"dialog","aria-labelledby":f.ariaLabelledBy,"aria-describedby":f.ariaDescribedBy,size:f.size,index:A,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(p),f.windowClass&&q.addClass(f.windowClass),f.animation&&q.attr("modal-animation","true"),m.addClass(k),f.scope&&(f.scope.$$topModalIndex=A),a.enter(d(q)(f.scope),m),x.top().value.modalDomEl=q,x.top().value.modalOpener=h,g(q)},z.close=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),m(a,c.value.modalOpener),!0):!c},z.dismiss=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),m(a,c.value.modalOpener),!0):!c},z.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},z.getTop=function(){return x.top()},z.modalRendered=function(a){var b=x.get(a);b&&b.value.renderDeferred.resolve()},z.focusFirstFocusableElement=function(a){return a.length>0&&(a[0].focus(),!0)},z.focusLastFocusableElement=function(a){return a.length>0&&(a[a.length-1].focus(),!0)},z.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},z.isFocusInFirstItem=function(a,b){return b.length>0&&(a.target||a.srcElement)===b[0]},z.isFocusInLastItem=function(a,b){return b.length>0&&(a.target||a.srcElement)===b[b.length-1]},z.loadFocusElementList=function(a){if(a){var b=a.value.modalDomEl;if(b&&b.length){var c=b[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return c?Array.prototype.filter.call(c,function(a){return k(a)}):c}}},z}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return q}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=angular.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find("body").eq(0),!e.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!e.component&&!e.template&&!e.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var q;q=e.component?c.when(g.resolve(e.resolve,{},null,null)):c.all([i(e),g.resolve(e.resolve,{},null,null)]);var r;return r=k=c.all([k]).then(j,j).then(function(a){function c(b,c,d,e){b.$scope=g,b.$scope.$resolve={},d?b.$scope.$uibModalInstance=p:b.$uibModalInstance=p;var f=c?a[1]:a;angular.forEach(f,function(a,c){e&&(b[c]=a),b.$scope.$resolve[c]=a})}var d=e.scope||b,g=d.$new();g.$close=p.close,g.$dismiss=p.dismiss,g.$on("$destroy",function(){g.$$uibDestructionScheduled||g.$dismiss("$uibUnscheduledDestruction")});var i,j,k={scope:g,deferred:l,renderDeferred:o,closedDeferred:n,animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo},q={},r={};e.component?(c(q,!1,!0,!1),q.name=e.component,k.component=q):e.controller&&(c(r,!0,!1,!0),j=f(e.controller,r,!0,e.controllerAs),e.controllerAs&&e.bindToController&&(i=j.instance,i.$close=g.$close,i.$dismiss=g.$dismiss,angular.extend(i,{$resolve:r.$scope.$resolve},d)),i=j(),angular.isFunction(i.$onInit)&&i.$onInit()),e.component||(k.content=a[0]),h.open(p,k),m.resolve(!0)},function(a){m.reject(a),l.reject(a)}).finally(function(){k===r&&(k=null)}),p},j}]};return a}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop,b.ngModelCtrl={$setViewValue:angular.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){b.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch("totalItems",function(a,d){(angular.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault(),(!c.ngDisabled||!d)&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+"Text"]||b.config[a+"Text"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on("$destroy",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(a,b){return b.templateUrl||"uib/template/pager/pager.html"},link:function(b,c,d,e){c.addClass("pager");var f=e[0],g=e[1];g&&f.init(g,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}function g(a,b){var c=[],d=1,e=b,g=angular.isDefined(i)&&i<b;g&&(j?(d=Math.max(a-Math.floor(i/2),1),(e=d+i-1)>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;h<=e;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,"...",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,"2",!1);c.unshift(p)}var q=f(1,"1",!1);c.unshift(q)}}if(e<b){if(!l||e<b-2){var r=f(e+1,"...",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}var h=this,i=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=angular.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:angular.identity;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,b.$set("role","menu"),d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=g(a.page,a.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"uib/template/pagination/pagination.html"},link:function(a,c,d,e){c.addClass("pagination");var f=e[0],g=e[1];g&&f.init(g,b)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g;return a.replace(b,function(a,b){return(b?"-":"")+a.toLowerCase()})}var b={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),b=null)}}var o=m.createNew();return h.on("keyup",n),k.$on("$destroy",function(){h.off("keyup",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(" ");return{show:b,hide:b.map(function(a){return c[a]||a})}}n=angular.extend({},b,d,n);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup uib-title="'+r+"title"+s+'" '+(n.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'origin-scope="origScope" class="uib-position-measure '+k+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){O.isOpen?q():m()}function m(){N&&!a.$eval(d[k+"Enable"])||(u(),x(),O.popupDelay?G||(G=g(r,O.popupDelay,!1)):r())}function q(){s(),O.popupCloseDelay?H||(H=g(t,O.popupCloseDelay,!1)):t()}function r(){if(s(),u(),!O.content)return angular.noop;v(),O.$evalAsync(function(){O.isOpen=!0,y(!0),T()})}function s(){G&&(g.cancel(G),G=null),I&&(g.cancel(I),I=null)}function t(){O&&O.$evalAsync(function(){O&&(O.isOpen=!1,y(!1),O.animation?F||(F=g(w,150,!1)):w())})}function u(){H&&(g.cancel(H),H=null),F&&(g.cancel(F),F=null)}function v(){D||(E=O.$new(),D=c(E,function(a){L?h.find("body").append(a):b.after(a)}),o.add(O,{close:t}),z())}function w(){s(),u(),A(),D&&(D.remove(),D=null,J&&g.cancel(J)),o.remove(O),E&&(E.$destroy(),E=null)}function x(){O.title=d[k+"Title"],O.content=R?R(a):d[e],O.popupClass=d[k+"Class"],O.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:n.placement;var b=i.parsePlacement(O.placement);K=b[1]?b[0]+"-"+b[1]:b[0];var c=parseInt(d[k+"PopupDelay"],10),f=parseInt(d[k+"PopupCloseDelay"],10);O.popupDelay=isNaN(c)?n.popupDelay:c,O.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}function y(b){Q&&angular.isFunction(Q.assign)&&Q.assign(a,b)}function z(){S.length=0,R?(S.push(a.$watch(R,function(a){O.content=a,!a&&O.isOpen&&t()})),S.push(E.$watch(function(){P||(P=!0,E.$$postDigest(function(){P=!1,O&&O.isOpen&&T()}))}))):S.push(d.$observe(e,function(a){O.content=a,!a&&O.isOpen?t():T()})),S.push(d.$observe(k+"Title",function(a){O.title=a,O.isOpen&&T()})),S.push(d.$observe(k+"Placement",function(a){O.placement=a||n.placement,O.isOpen&&T()}))}function A(){S.length&&(angular.forEach(S,function(a){a()}),S.length=0)}function B(a){O&&O.isOpen&&D&&(b[0].contains(a.target)||D[0].contains(a.target)||q())}function C(a){27===a.which&&q()}var D,E,F,G,H,I,J,K,L=!!angular.isDefined(n.appendToBody)&&n.appendToBody,M=p(void 0),N=angular.isDefined(d[k+"Enable"]),O=a.$new(!0),P=!1,Q=!!angular.isDefined(d[k+"IsOpen"])&&l(d[k+"IsOpen"]),R=!!n.useContentExp&&l(d[e]),S=[],T=function(){D&&D.html()&&(I||(I=g(function(){var a=i.positionElements(b,D,O.placement,L),c=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),d=L?i.offset(b):i.position(b);D.css({top:a.top+"px",left:a.left+"px"});var e=a.placement.split("-");D.hasClass(e[0])||(D.removeClass(K.split("-")[0]),D.addClass(e[0])),D.hasClass(n.placementClassPrefix+a.placement)||(D.removeClass(n.placementClassPrefix+K),D.addClass(n.placementClassPrefix+a.placement)),J=g(function(){var a=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),b=i.adjustTop(e,d,c,a);b&&D.css(b),J=null},0,!1),D.hasClass("uib-position-measure")?(i.positionArrow(D,a.placement),D.removeClass("uib-position-measure")):K!==a.placement&&i.positionArrow(D,a.placement),K=a.placement,I=null},0,!1)))};O.origScope=a,O.isOpen=!1,O.contentExp=function(){return O.content},d.$observe("disabled",function(a){a&&s(),a&&O.isOpen&&t()}),Q&&a.$watch(Q,function(a){O&&!a===O.isOpen&&j()});var U=function(){M.show.forEach(function(a){"outsideClick"===a?b.off("click",j):(b.off(a,m),b.off(a,j)),b.off("keypress",C)}),M.hide.forEach(function(a){"outsideClick"===a?h.off("click",B):b.off(a,q)})};!function(){var c=[],e=[],f=a.$eval(d[k+"Trigger"]);U(),angular.isObject(f)?(Object.keys(f).forEach(function(a){c.push(a),e.push(f[a])}),M={show:c,hide:e}):M=p(f),"none"!==M.show&&M.show.forEach(function(a,c){"outsideClick"===a?(b.on("click",j),h.on("click",B)):a===M.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(M.hide[c],q)),b.on("keypress",C)})}();var V=a.$eval(d[k+"Animation"]);O.animation=angular.isDefined(V)?!!V:n.animation;var W,X=k+"AppendToBody";W=X in d&&void 0===d[X]||a.$eval(d[X]),L=angular.isDefined(W)?W:L,a.$on("$destroy",function(){U(),w(),O=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation&&c.addClass(d.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){function d(){return angular.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:"none"}),this.bars.push(a),a.max=d(),a.title=c&&angular.isDefined(c.title)?c.title:"progressbar",a.$watch("value",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on("$destroy",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("maxParam",function(a){e.bars.forEach(function(a){a.max=d(),a.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop},e=this;this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff,this.enableReset=angular.isDefined(b.enableReset)?a.$parent.$eval(b.enableReset):c.enableReset;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;b<c;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){if(!a.readonly&&b>=0&&b<=a.range.length){var c=e.enableReset&&d.$viewValue===b?0:b;d.$setViewValue(c),d.$render()}},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue,a.title=e.getTitle(a.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a,f){if(!e){var g=b(c),h=d.tabs[g];if(h){if(h.tab.onDeselect({$event:f,$selectedIndex:a}),f&&f.isDefaultPrevented())return;h.tab.active=!1}var i=d.tabs[a];i?(i.tab.onSelect({$event:f}),i.tab.active=!0,d.active=i.index,c=i.index):!i&&angular.isDefined(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!angular.isDefined(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){for(var b,c=0;c<d.tabs.length;c++)if(d.tabs[c].tab===a){b=c;break}if(d.tabs[b].index===d.active){var e=b===d.tabs.length-1?b-1:b+1%d.tabs.length;d.select(e)}d.tabs.splice(b,1)},a.$watch("tabset.active",function(a){angular.isDefined(a)&&a!==c&&d.select(b(a))});var e;a.$on("$destroy",function(){e=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tabset.html"},link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),angular.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),angular.isUndefined(d.classes)&&(b.classes=""),b.select=function(a){if(!b.disabled){for(var c,d=0;d<e.tabs.length;d++)if(e.tabs[d].tab===b){c=d;break}e.select(c,a)}},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase()||"uib:tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),
angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=+a.hours;if((a.showMeridian?b>0&&b<13:b>=0&&b<24)&&""!==a.hours)return a.showMeridian&&(12===b&&(b=0),a.meridian===y[1]&&(b+=12)),b}function i(){var b=+a.minutes;if(b>=0&&b<60&&""!==a.minutes)return b}function j(){var b=+a.seconds;return b>=0&&b<60?b:void 0}function k(a,b){return null===a?"":angular.isDefined(a)&&a.toString().length<2&&!b?"0"+a:a.toString()}function l(a){m(),x.$setViewValue(new Date(v)),n(a)}function m(){s&&s.$setValidity("hours",!0),t&&t.$setValidity("minutes",!0),u&&u.$setValidity("seconds",!0),x.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(x.$modelValue){var c=v.getHours(),d=v.getMinutes(),e=v.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:k(c,!z),"m"!==b&&(a.minutes=k(d)),a.meridian=v.getHours()<12?y[0]:y[1],"s"!==b&&(a.seconds=k(e)),a.meridian=v.getHours()<12?y[0]:y[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=y[0]}function o(a){v=q(v,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}function r(){return(null===a.hours||""===a.hours)&&(null===a.minutes||""===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||""===a.seconds))}var s,t,u,v=new Date,w=[],x={$setViewValue:angular.noop},y=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS,z=!angular.isDefined(c.padHours)||a.$parent.$eval(c.padHours);a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){x=b,x.$render=this.render,x.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2);s=e.controller("ngModel"),t=f.controller("ngModel"),u=h.controller("ngModel"),(angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel)&&this.setupMousewheelEvents(e,f,h),(angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys)&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var A=g.hourStep;c.hourStep&&w.push(a.$parent.$watch(d(c.hourStep),function(a){A=+a}));var B=g.minuteStep;c.minuteStep&&w.push(a.$parent.$watch(d(c.minuteStep),function(a){B=+a}));var C;w.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);C=isNaN(b)?void 0:b}));var D;w.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);D=isNaN(b)?void 0:b}));var E=!1;c.ngDisabled&&w.push(a.$parent.$watch(d(c.ngDisabled),function(a){E=a})),a.noIncrementHours=function(){var a=p(v,60*A);return E||a>D||a<v&&a<C},a.noDecrementHours=function(){var a=p(v,60*-A);return E||a<C||a>v&&a>D},a.noIncrementMinutes=function(){var a=p(v,B);return E||a>D||a<v&&a<C},a.noDecrementMinutes=function(){var a=p(v,-B);return E||a<C||a>v&&a>D},a.noIncrementSeconds=function(){var a=q(v,F);return E||a>D||a<v&&a<C},a.noDecrementSeconds=function(){var a=q(v,-F);return E||a<C||a>v&&a>D},a.noToggleMeridian=function(){return v.getHours()<12?E||p(v,720)>D:E||p(v,-720)<C};var F=g.secondStep;c.secondStep&&w.push(a.$parent.$watch(d(c.secondStep),function(a){F=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&w.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&w.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,x.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(v.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.on("mousewheel wheel",function(b){E||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.on("mousewheel wheel",function(b){E||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.on("mousewheel wheel",function(b){E||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.on("keydown",function(b){E||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()))}),c.on("keydown",function(b){E||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.on("keydown",function(b){E||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){x.$setViewValue(null),x.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b,s&&s.$setValidity("hours",!1)),angular.isDefined(c)&&(a.invalidMinutes=c,t&&t.$setValidity("minutes",!1)),angular.isDefined(d)&&(a.invalidSeconds=d,u&&u.$setValidity("seconds",!1))};a.updateHours=function(){var a=h(),b=i();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(a),v.setMinutes(b),v<C||v>D?e(!0):l("h")):e(!0)},b.on("blur",function(b){x.$setTouched(),r()?m():null===a.hours||""===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours,!z)})}),a.updateMinutes=function(){var a=i(),b=h();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(b),v.setMinutes(a),v<C||v>D?e(void 0,!0):l("m")):e(void 0,!0)},c.on("blur",function(b){x.$setTouched(),r()?m():null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();x.$setDirty(),angular.isDefined(a)?(v.setSeconds(a),l("s")):e(void 0,void 0,!0)},d.on("blur",function(b){r()?m():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=x.$viewValue;isNaN(b)?(x.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(v=b),v<C||v>D?(x.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*A*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-A*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*B)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-B)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(F)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-F)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(angular.isDefined(b)&&angular.isDefined(c)?o(720*(v.getHours()<12?60:-60)):a.meridian=a.meridian===y[0]?y[1]:y[0])},a.blur=function(){x.$setTouched()},a.$on("$destroy",function(){for(;w.length;)w.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(a){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){O.moveInProgress||(O.moveInProgress=!0,O.$digest()),Z()}function o(){O.position=E?l.offset(b):l.position(b),O.position.top+=b.prop("offsetHeight")}function p(a){var b;return angular.version.minor<6?(b=a.$options||{},b.getOption=function(a){return b[a]}):b=a.$options,b}var q,r,s=[9,13,27,38,40],t=a.$eval(c.typeaheadMinLength);t||0===t||(t=1),a.$watch(c.typeaheadMinLength,function(a){t=a||0===a?a:1});var u=a.$eval(c.typeaheadWaitMs)||0,v=!1!==a.$eval(c.typeaheadEditable);a.$watch(c.typeaheadEditable,function(a){v=!1!==a});var w,x,y=e(c.typeaheadLoading).assign||angular.noop,z=c.typeaheadShouldSelect?e(c.typeaheadShouldSelect):function(a,b){var c=b.$event;return 13===c.which||9===c.which},A=e(c.typeaheadOnSelect),B=!!angular.isDefined(c.typeaheadSelectOnBlur)&&a.$eval(c.typeaheadSelectOnBlur),C=e(c.typeaheadNoResults).assign||angular.noop,D=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,E=!!c.typeaheadAppendToBody&&a.$eval(c.typeaheadAppendToBody),F=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,G=!1!==a.$eval(c.typeaheadFocusFirst),H=!!c.typeaheadSelectOnExact&&a.$eval(c.typeaheadSelectOnExact),I=e(c.typeaheadIsOpen).assign||angular.noop,J=a.$eval(c.typeaheadShowHint)||!1,K=e(c.ngModel),L=e(c.ngModel+"($$$p)"),M=function(b,c){return angular.isFunction(K(a))&&r.getOption("getterSetter")?L(b,{$$$p:c}):K.assign(b,c)},N=m.parse(c.uibTypeahead),O=a.$new(),P=a.$on("$destroy",function(){O.$destroy()});O.$on("$destroy",P);var Q="typeahead-"+O.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":Q});var R,S;J&&(R=angular.element("<div></div>"),R.css("position","relative"),b.after(R),S=b.clone(),S.attr("placeholder",""),S.attr("tabindex","-1"),S.val(""),S.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),b.css({position:"relative","vertical-align":"top","background-color":"transparent"}),S.attr("id")&&S.removeAttr("id"),R.append(S),S.after(b));var T=angular.element("<div uib-typeahead-popup></div>");T.attr({id:Q,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(c.typeaheadTemplateUrl)&&T.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&T.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var U=function(){J&&S.val("")},V=function(){O.matches=[],O.activeIdx=-1,b.attr("aria-expanded",!1),U()},W=function(a){return Q+"-option-"+a};O.$watch("activeIdx",function(a){a<0?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",W(a))});var X=function(a,b){return!!(O.matches.length>b&&a)&&a.toUpperCase()===O.matches[b].label.toUpperCase()},Y=function(c,d){var e={$viewValue:c};y(a,!0),C(a,!1),f.when(N.source(a,e)).then(function(f){var g=c===q.$viewValue;if(g&&w)if(f&&f.length>0){O.activeIdx=G?0:-1,C(a,!1),O.matches.length=0;for(var h=0;h<f.length;h++)e[N.itemName]=f[h],O.matches.push({id:W(h),label:N.viewMapper(O,e),model:f[h]});if(O.query=c,o(),b.attr("aria-expanded",!0),H&&1===O.matches.length&&X(c,0)&&(angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?k(function(){O.select(0,d)},angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate.default):O.select(0,d)),J){var i=O.matches[0].label;angular.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?S.val(c+i.slice(c.length)):S.val("")}}else V(),C(a,!0);g&&y(a,!1)},function(){V(),y(a,!1),C(a,!0)})};E&&(angular.element(i).on("resize",n),h.find("body").on("scroll",n));var Z=k(function(){O.matches.length&&o(),O.moveInProgress=!1},200);O.moveInProgress=!1,O.query=void 0;var $,_=function(a){$=g(function(){Y(a)},u)},aa=function(){$&&g.cancel($)};V(),O.assignIsOpen=function(b){I(a,b)},O.select=function(d,e){var f,h,i={};x=!0,i[N.itemName]=h=O.matches[d].model,f=N.modelMapper(a,i),M(a,f),q.$setValidity("editable",!0),q.$setValidity("parse",!0),A(a,{$item:h,$model:f,$label:N.viewMapper(a,i),$event:e}),V(),!1!==O.$eval(c.typeaheadFocusOnSelect)&&g(function(){b[0].focus()},0,!1)},b.on("keydown",function(b){if(0!==O.matches.length&&-1!==s.indexOf(b.which)){var c=z(a,{$event:b});if(-1===O.activeIdx&&c||9===b.which&&b.shiftKey)return V(),void O.$digest();b.preventDefault();var d;switch(b.which){case 27:b.stopPropagation(),V(),a.$digest();break;case 38:O.activeIdx=(O.activeIdx>0?O.activeIdx:O.matches.length)-1,O.$digest(),d=T[0].querySelectorAll(".uib-typeahead-match")[O.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;case 40:O.activeIdx=(O.activeIdx+1)%O.matches.length,O.$digest(),d=T[0].querySelectorAll(".uib-typeahead-match")[O.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;default:c&&O.$apply(function(){angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?k(function(){O.select(O.activeIdx,b)},angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate.default):O.select(O.activeIdx,b)})}}}),b.on("focus",function(a){w=!0,0!==t||q.$viewValue||g(function(){Y(q.$viewValue,a)},0)}),b.on("blur",function(a){B&&O.matches.length&&-1!==O.activeIdx&&!x&&(x=!0,O.$apply(function(){angular.isObject(O.debounceUpdate)&&angular.isNumber(O.debounceUpdate.blur)?k(function(){O.select(O.activeIdx,a)},O.debounceUpdate.blur):O.select(O.activeIdx,a)})),!v&&q.$error.editable&&(q.$setViewValue(),O.$apply(function(){q.$setValidity("editable",!0),q.$setValidity("parse",!0)}),b.val("")),w=!1,x=!1});var ba=function(c){b[0]!==c.target&&3!==c.which&&0!==O.matches.length&&(V(),j.$$phase||a.$digest())};h.on("click",ba),a.$on("$destroy",function(){h.off("click",ba),(E||F)&&ca.remove(),E&&(angular.element(i).off("resize",n),h.find("body").off("scroll",n)),T.remove(),J&&R.remove()});var ca=d(T)(O);E?h.find("body").append(ca):F?angular.element(F).eq(0).append(ca):b.after(ca),this.init=function(b){q=b,r=p(q),O.debounceUpdate=e(r.getOption("debounce"))(a),q.$parsers.unshift(function(b){return w=!0,0===t||b&&b.length>=t?u>0?(aa(),_(b)):Y(b):(y(a,!1),aa(),V()),v?b:b?void q.$setValidity("editable",!1):(q.$setValidity("editable",!0),null)}),q.$formatters.push(function(b){var c,d,e={};return v||q.$setValidity("editable",!0),D?(e.$model=b,D(a,e)):(e[N.itemName]=b,c=N.viewMapper(a,e),e[N.itemName]=void 0,d=N.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(a,b,c,d){d[1].init(d[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();angular.isNumber(e)||angular.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e.default):b.select({activeIdx:c,evt:d})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"uib/template/typeahead/typeahead-match.html";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(a){
a.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(b,c,d,e,f,g){function h(){d.cancel(j),g.complete(),l=0,k=0}function i(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||!1===b.cache||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d&&void 0!==d.get(b.url);return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var j,k=0,l=0,m=g.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||i(a)||(e.$broadcast("cfpLoadingBar:loading",{url:a.url}),0===k&&(j=d(function(){g.start()},m)),k++,g.set(l/k)),a},response:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),a):(f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),a)},responseError:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),b.reject(a)):(f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),b.reject(a))}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c,d){function e(){k||(k=a.get("$animate"));var e=b.find(n).eq(0);c.cancel(m),r||(d.$broadcast("cfpLoadingBar:started"),r=!0,u&&k.enter(o,e,angular.element(e[0].lastChild)),t&&k.enter(q,e,angular.element(e[0].lastChild)),f(v))}function f(a){if(r){var b=100*a+"%";p.css("width",b),s=a,c.cancel(l),l=c(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&b<.25?(3*Math.random()+3)/100:b>=.25&&b<.65?3*Math.random()/100:b>=.65&&b<.9?2*Math.random()/100:b>=.9&&b<.99?.005:0;f(h()+a)}}function h(){return s}function i(){s=0,r=!1}function j(){k||(k=a.get("$animate")),d.$broadcast("cfpLoadingBar:completed"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i),k.leave(q)},500)}var k,l,m,n=this.parentSelector,o=angular.element(this.loadingBarTemplate),p=o.find("div").eq(0),q=angular.element(this.spinnerTemplate),r=!1,s=0,t=this.includeSpinner,u=this.includeBar,v=this.startSize;return{start:e,set:f,status:h,inc:g,complete:j,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(){"use strict";var a={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,delete:46,comma:188},b=["text","email","url"],c=angular.module("ngTagsInput",[]);c.directive("tagsInput",["$timeout","$document","$window","tagsInputConfig","tiUtil",function(c,d,e,f,g){function h(a,b,c,d){var e,f,h,i={};return e=function(b){return g.safeToString(b[a.displayProperty])},f=function(b,c){b[a.displayProperty]=c},h=function(b){var d=e(b);return d&&d.length>=a.minLength&&d.length<=a.maxLength&&a.allowedTagsPattern.test(d)&&!g.findInObjectArray(i.items,b,a.keyProperty||a.displayProperty)&&c({$tag:b})},i.items=[],i.addText=function(a){var b={};return f(b,a),i.add(b)},i.add=function(c){var d=e(c);return a.replaceSpacesWithDashes&&(d=g.replaceSpacesWithDashes(d)),f(c,d),h(c)?(i.items.push(c),b.trigger("tag-added",{$tag:c})):d&&b.trigger("invalid-tag",{$tag:c}),c},i.remove=function(a){var c=i.items[a];if(d({$tag:c}))return i.items.splice(a,1),i.clearSelection(),b.trigger("tag-removed",{$tag:c}),c},i.select=function(a){a<0?a=i.items.length-1:a>=i.items.length&&(a=0),i.index=a,i.selected=i.items[a]},i.selectPrior=function(){i.select(--i.index)},i.selectNext=function(){i.select(++i.index)},i.removeSelected=function(){return i.remove(i.index)},i.clearSelection=function(){i.selected=null,i.index=-1},i.clearSelection(),i}function i(a){return-1!==b.indexOf(a)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(a,b,c){a.events=g.simplePubSub(),f.load("tagsInput",a,b,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",i],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,9007199254740991],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,9007199254740991],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),a.tagList=new h(a.options,a.events,g.handleUndefinedResult(a.onTagAdding,!0),g.handleUndefinedResult(a.onTagRemoving,!0)),this.registerAutocomplete=function(){var b=c.find("input");return{addTag:function(b){return a.tagList.add(b)},focusInput:function(){b[0].focus()},getTags:function(){return a.tagList.items},getCurrentTagText:function(){return a.newTag.text()},getOptions:function(){return a.options},on:function(b,c){return a.events.on(b,c),this}}},this.registerTagItem=function(){return{getOptions:function(){return a.options},removeTag:function(b){a.disabled||a.tagList.remove(b)}}}}],link:function(b,f,h,i){var j,k=[a.enter,a.comma,a.space,a.backspace,a.delete,a.left,a.right],l=b.tagList,m=b.events,n=b.options,o=f.find("input"),p=["minTags","maxTags","allowLeftoverText"];j=function(){i.$setValidity("maxTags",l.items.length<=n.maxTags),i.$setValidity("minTags",l.items.length>=n.minTags),i.$setValidity("leftoverText",!(!b.hasFocus&&!n.allowLeftoverText)||!b.newTag.text())},i.$isEmpty=function(a){return!a||!a.length},b.newTag={text:function(a){if(!angular.isDefined(a))return b.text||"";b.text=a,m.trigger("input-change",a)},invalid:null},b.track=function(a){return a[n.keyProperty||n.displayProperty]},b.$watch("tags",function(a){a?(l.items=g.makeObjectArray(a,n.displayProperty),b.tags=l.items):l.items=[]}),b.$watch("tags.length",function(){j(),i.$validate()}),h.$observe("disabled",function(a){b.disabled=a}),b.eventHandlers={input:{keydown:function(a){m.trigger("input-keydown",a)},focus:function(){b.hasFocus||(b.hasFocus=!0,m.trigger("input-focus"))},blur:function(){c(function(){var a=d.prop("activeElement"),c=a===o[0],e=f[0].contains(a);!c&&e||(b.hasFocus=!1,m.trigger("input-blur"))})},paste:function(a){a.getTextData=function(){var b=a.clipboardData||a.originalEvent&&a.originalEvent.clipboardData;return b?b.getData("text/plain"):e.clipboardData.getData("Text")},m.trigger("input-paste",a)}},host:{click:function(){b.disabled||o[0].focus()}},tag:{click:function(a){m.trigger("tag-clicked",{$tag:a})}}},m.on("tag-added",b.onTagAdded).on("invalid-tag",b.onInvalidTag).on("tag-removed",b.onTagRemoved).on("tag-clicked",b.onTagClicked).on("tag-added",function(){b.newTag.text("")}).on("tag-added tag-removed",function(){b.tags=l.items,i.$setDirty()}).on("invalid-tag",function(){b.newTag.invalid=!0}).on("option-change",function(a){-1!==p.indexOf(a.name)&&j()}).on("input-change",function(){l.clearSelection(),b.newTag.invalid=null}).on("input-focus",function(){f.triggerHandler("focus"),i.$setValidity("leftoverText",!0)}).on("input-blur",function(){n.addOnBlur&&!n.addFromAutocompleteOnly&&l.addText(b.newTag.text()),f.triggerHandler("blur"),j()}).on("input-keydown",function(c){var d,e,f,h,i=c.keyCode,j={};if(!g.isModifierOn(c)&&-1!==k.indexOf(i)){if(j[a.enter]=n.addOnEnter,j[a.comma]=n.addOnComma,j[a.space]=n.addOnSpace,d=!n.addFromAutocompleteOnly&&j[i],e=(i===a.backspace||i===a.delete)&&l.selected,h=i===a.backspace&&0===b.newTag.text().length&&n.enableEditingLastTag,f=(i===a.backspace||i===a.left||i===a.right)&&0===b.newTag.text().length&&!n.enableEditingLastTag,d)l.addText(b.newTag.text());else if(h){var m;l.selectPrior(),m=l.removeSelected(),m&&b.newTag.text(m[n.displayProperty])}else e?l.removeSelected():f&&(i===a.left||i===a.backspace?l.selectPrior():i===a.right&&l.selectNext());(d||f||e||h)&&c.preventDefault()}}).on("input-paste",function(a){if(n.addOnPaste){var b=a.getTextData(),c=b.split(n.pasteSplitPattern);c.length>1&&(c.forEach(function(a){l.addText(a)}),a.preventDefault())}})}}}]),c.directive("tiTagItem",["tiUtil",function(a){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(b,c,d,e){var f=e.registerTagItem(),g=f.getOptions();b.$$template=g.template,b.$$removeTagSymbol=g.removeTagSymbol,b.$getDisplayText=function(){return a.safeToString(b.data[g.displayProperty])},b.$removeTag=function(){f.removeTag(b.$index)},b.$watch("$parent.$index",function(a){b.$index=a})}}}]),c.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(b,c,d,e,f,g){function h(a,b,c){var d,f,h,i={};return h=function(){return b.tagsInput.keyProperty||b.tagsInput.displayProperty},d=function(a,c){return a.filter(function(a){return!g.findInObjectArray(c,a,h(),function(a,c){return b.tagsInput.replaceSpacesWithDashes&&(a=g.replaceSpacesWithDashes(a),c=g.replaceSpacesWithDashes(c)),g.defaultComparer(a,c)})})},i.reset=function(){f=null,i.items=[],i.visible=!1,i.index=-1,i.selected=null,i.query=null},i.show=function(){b.selectFirstMatch?i.select(0):i.selected=null,i.visible=!0},i.load=g.debounce(function(c,j){i.query=c;var k=e.when(a({$query:c}));f=k,k.then(function(a){k===f&&(a=g.makeObjectArray(a.data||a,h()),a=d(a,j),i.items=a.slice(0,b.maxResultsToShow),i.items.length>0?i.show():i.reset())})},b.debounceDelay),i.selectNext=function(){i.select(++i.index)},i.selectPrior=function(){i.select(--i.index)},i.select=function(a){a<0?a=i.items.length-1:a>=i.items.length&&(a=0),i.index=a,i.selected=i.items[a],c.trigger("suggestion-selected",a)},i.reset(),i}function i(a,b){var c=a.find("li").eq(b),d=c.parent(),e=c.prop("offsetTop"),f=c.prop("offsetHeight"),g=d.prop("clientHeight"),h=d.prop("scrollTop");e<h?d.prop("scrollTop",e):e+f>g+h&&d.prop("scrollTop",e+f-g)}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(a,b,c){a.events=g.simplePubSub(),f.load("autoComplete",a,c,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),a.suggestionList=new h(a.source,a.options,a.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return a.options},getQuery:function(){return a.suggestionList.query}}}}],link:function(b,c,d,e){var f,h=[a.enter,a.tab,a.escape,a.up,a.down],j=b.suggestionList,k=e.registerAutocomplete(),l=b.options,m=b.events;l.tagsInput=k.getOptions(),f=function(a){return a&&a.length>=l.minLength||!a&&l.loadOnEmpty},b.addSuggestionByIndex=function(a){j.select(a),b.addSuggestion()},b.addSuggestion=function(){var a=!1;return j.selected&&(k.addTag(angular.copy(j.selected)),j.reset(),k.focusInput(),a=!0),a},b.track=function(a){return a[l.tagsInput.keyProperty||l.tagsInput.displayProperty]},k.on("tag-added tag-removed invalid-tag input-blur",function(){j.reset()}).on("input-change",function(a){f(a)?j.load(a,k.getTags()):j.reset()}).on("input-focus",function(){var a=k.getCurrentTagText();l.loadOnFocus&&f(a)&&j.load(a,k.getTags())}).on("input-keydown",function(c){var d=c.keyCode,e=!1;if(!g.isModifierOn(c)&&-1!==h.indexOf(d))return j.visible?d===a.down?(j.selectNext(),e=!0):d===a.up?(j.selectPrior(),e=!0):d===a.escape?(j.reset(),e=!0):d!==a.enter&&d!==a.tab||(e=b.addSuggestion()):d===a.down&&b.options.loadOnDownArrow&&(j.load(k.getCurrentTagText(),k.getTags()),e=!0),e?(c.preventDefault(),c.stopImmediatePropagation(),!1):void 0}),m.on("suggestion-selected",function(a){i(c,a)})}}}]),c.directive("tiAutocompleteMatch",["$sce","tiUtil",function(a,b){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(c,d,e,f){var g=f.registerAutocompleteMatch(),h=g.getOptions();c.$$template=h.template,c.$index=c.$parent.$index,c.$highlight=function(c){return h.highlightMatchedText&&(c=b.safeHighlight(c,g.getQuery())),a.trustAsHtml(c)},c.$getDisplayText=function(){return b.safeToString(c.data[h.displayProperty||h.tagsInput.displayProperty])}}}}]),c.directive("tiTranscludeAppend",function(){return function(a,b,c,d,e){e(function(a){b.append(a)})}}),c.directive("tiAutosize",["tagsInputConfig",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f,g,h=a.getTextAutosizeThreshold();f=angular.element('<span class="input"></span>'),f.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),c.parent().append(f),g=function(a){var b,e=a;return angular.isString(e)&&0===e.length&&(e=d.placeholder),e&&(f.text(e),f.css("display",""),b=f.prop("offsetWidth"),f.css("display","none")),c.css("width",b?b+h+"px":""),a},e.$parsers.unshift(g),e.$formatters.unshift(g),d.$observe("placeholder",function(a){e.$modelValue||g(a)})}}}]),c.directive("tiBindAttrs",function(){return function(a,b,c){a.$watch(c.tiBindAttrs,function(a){angular.forEach(a,function(a,b){c.$set(b,a)})},!0)}}),c.provider("tagsInputConfig",function(){var a={},b={},c=3;this.setDefaults=function(b,c){return a[b]=c,this},this.setActiveInterpolation=function(a,c){return b[a]=c,this},this.setTextAutosizeThreshold=function(a){return c=a,this},this.$get=["$interpolate",function(d){var e={};return e[String]=function(a){return a},e[Number]=function(a){return parseInt(a,10)},e[Boolean]=function(a){return"true"===a.toLowerCase()},e[RegExp]=function(a){return new RegExp(a)},{load:function(c,f,g,h){var i=function(){return!0};f.options={},angular.forEach(h,function(h,j){var k,l,m,n,o,p;k=h[0],l=h[1],m=h[2]||i,n=e[k],o=function(){var b=a[c]&&a[c][j];return angular.isDefined(b)?b:l},p=function(a){f.options[j]=a&&m(a)?n(a):o()},b[c]&&b[c][j]?g.$observe(j,function(a){p(a),f.events.trigger("option-change",{name:j,newValue:a})}):p(g[j]&&d(g[j])(f.$parent))})},getTextAutosizeThreshold:function(){return c}}}]}),c.factory("tiUtil",["$timeout",function(a){var b={};return b.debounce=function(b,c){var d;return function(){var e=arguments;a.cancel(d),d=a(function(){b.apply(null,e)},c)}},b.makeObjectArray=function(a,b){if(!angular.isArray(a)||0===a.length||angular.isObject(a[0]))return a;var c=[];return a.forEach(function(a){var d={};d[b]=a,c.push(d)}),c},b.findInObjectArray=function(a,c,d,e){var f=null;return e=e||b.defaultComparer,a.some(function(a){if(e(a[d],c[d]))return f=a,!0}),f},b.defaultComparer=function(a,c){return b.safeToString(a).toLowerCase()===b.safeToString(c).toLowerCase()},b.safeHighlight=function(a,c){if(!c)return a;a=b.encodeHTML(a),c=b.encodeHTML(c);var d=new RegExp("&[^;]+;|"+function(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(c),"gi");return a.replace(d,function(a){return a.toLowerCase()===c.toLowerCase()?"<em>"+a+"</em>":a})},b.safeToString=function(a){return angular.isUndefined(a)||null==a?"":a.toString().trim()},b.encodeHTML=function(a){return b.safeToString(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},b.handleUndefinedResult=function(a,b){return function(){var c=a.apply(null,arguments);return angular.isUndefined(c)?b:c}},b.replaceSpacesWithDashes=function(a){return b.safeToString(a).replace(/\s/g,"-")},b.isModifierOn=function(a){return a.shiftKey||a.ctrlKey||a.altKey||a.metaKey},b.simplePubSub=function(){var a={};return{on:function(b,c){return b.split(" ").forEach(function(b){a[b]||(a[b]=[]),a[b].push(c)}),this},trigger:function(c,d){return(a[c]||[]).every(function(a){return b.handleUndefinedResult(a,!0)(d)}),this}}},b}]),c.run(["$templateCache",function(a){a.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),a.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),a.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match data="::item"></ti-autocomplete-match></li></ul></div>'),a.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}();var duScrollDefaultEasing=function(a){"use strict";return a<.5?Math.pow(2*a,2)/2:1-Math.pow(2*(1-a),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollSpyRefreshInterval",0).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(a,b,c,d,e,f,g,h){"use strict";var i={},j=function(a){return"undefined"!=typeof HTMLDocument&&a instanceof HTMLDocument||a.nodeType&&a.nodeType===a.DOCUMENT_NODE},k=function(a){return"undefined"!=typeof HTMLElement&&a instanceof HTMLElement||a.nodeType&&a.nodeType===a.ELEMENT_NODE},l=function(a){return k(a)||j(a)?a:a[0]};i.duScrollTo=function(b,c,d,e){var f;if(angular.isElement(b)?f=this.duScrollToElement:angular.isDefined(d)&&(f=this.duScrollToAnimated),f)return f.apply(this,arguments);var g=l(this);if(j(g))return a.scrollTo(b,c);g.scrollLeft=b,g.scrollTop=c};var m,n;i.duScrollToAnimated=function(a,f,g,i){g&&!i&&(i=e);var j=this.duScrollLeft(),k=this.duScrollTop(),l=Math.round(a-j),o=Math.round(f-k),p=null,q=0,r=this,s=function(a){(!a||q&&a.which>0)&&(h&&r.unbind(h,s),c(m),n.reject(),m=null)};if(m&&s(),n=b.defer(),0===g||!l&&!o)return 0===g&&r.duScrollTo(a,f),n.resolve(),n.promise;var t=function(a){null===p&&(p=a),q=a-p;var b=q>=g?1:i(q/g);r.scrollTo(j+Math.ceil(l*b),k+Math.ceil(o*b)),b<1?m=d(t):(h&&r.unbind(h,s),m=null,n.resolve())};return r.duScrollTo(j,k),h&&r.bind(h,s),m=d(t),n.promise},i.duScrollToElement=function(a,b,c,d){var e=l(this);angular.isNumber(b)&&!isNaN(b)||(b=g);var f=this.duScrollTop()+l(a).getBoundingClientRect().top-b;return k(e)&&(f-=e.getBoundingClientRect().top),this.duScrollTo(0,f,c,d)},i.duScrollLeft=function(b,c,d){
if(angular.isNumber(b))return this.duScrollTo(b,this.duScrollTop(),c,d);var e=l(this);return j(e)?a.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:e.scrollLeft},i.duScrollTop=function(b,c,d){if(angular.isNumber(b))return this.duScrollTo(this.duScrollLeft(),b,c,d);var e=l(this);return j(e)?a.scrollY||document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop},i.duScrollToElementAnimated=function(a,b,c,d){return this.duScrollToElement(a,b,c||f,d)},i.duScrollTopAnimated=function(a,b,c){return this.duScrollTop(a,b||f,c)},i.duScrollLeftAnimated=function(a,b,c){return this.duScrollLeft(a,b||f,c)},angular.forEach(i,function(a,b){angular.element.prototype[b]=a;var c=b.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[c])&&(angular.element.prototype[c]=a)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(a){"use strict";var b=["webkit","moz","o","ms"];return function(c,d){if(a[c])return a[c];for(var e,f=c.substr(0,1).toUpperCase()+c.substr(1),g=0;g<b.length;g++)if(e=b[g]+f,a[e])return a[e];return d}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(a,b){"use strict";var c=0;return a("requestAnimationFrame",function(a,d){var e=(new Date).getTime(),f=Math.max(0,16-(e-c)),g=b(function(){a(e+f)},f);return c=e+f,g})}]).factory("cancelAnimation",["polyfill","$timeout",function(a,b){"use strict";return a("cancelAnimationFrame",function(a){b.cancel(a)})}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$interval","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollSpyRefreshInterval","duScrollBottomSpy","duScrollActiveClass",function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=function(c){var f=!1,i=!1,l=function(){i=!1;var b,f=c.container,h=f[0],l=0;if("undefined"!=typeof HTMLElement&&h instanceof HTMLElement||h.nodeType&&h.nodeType===h.ELEMENT_NODE)l=h.getBoundingClientRect().top,b=Math.round(h.scrollTop+h.clientHeight)>=h.scrollHeight;else{var m=e[0].body.scrollHeight||e[0].documentElement.scrollHeight;b=Math.round(d.pageYOffset+d.innerHeight)>=m}var n,o,p,q,r,s,t=j&&b?"bottom":"top";for(q=c.spies,o=c.currentlyActive,p=void 0,n=0;n<q.length;n++)r=q[n],(s=r.getTargetPosition())&&r.$element&&(j&&b||s.top+r.offset-l<20&&(g||-1*s.top+l)<s.height)&&(!p||p[t]<s[t])&&(p={spy:r},p[t]=s[t]);p&&(p=p.spy),o===p||g&&!p||(o&&o.$element&&(o.$element.removeClass(k),a.$broadcast("duScrollspy:becameInactive",o.$element,angular.element(o.getTargetElement()))),p&&(p.$element.addClass(k),a.$broadcast("duScrollspy:becameActive",p.$element,angular.element(p.getTargetElement()))),c.currentlyActive=p)};return h?function(){f?i=!0:(l(),f=b(function(){f=!1,i&&l()},h,!1))}:l},m={},n=function(a){var b=a.$id,c={spies:[]};return c.handler=l(c),m[b]=c,a.$on("$destroy",function(){o(a)}),b},o=function(a){var b=a.$id,d=m[b],e=d.container;d.intervalPromise&&c.cancel(d.intervalPromise),e&&e.off("scroll",d.handler),delete m[b]},p=n(a),q=function(a){return m[a.$id]?m[a.$id]:a.$parent?q(a.$parent):m[p]},r=function(a){var b,c,d=a.$scope;if(d)return q(d);for(c in m)if(b=m[c],-1!==b.spies.indexOf(a))return b},s=function(a){for(;a.parentNode;)if((a=a.parentNode)===document)return!0;return!1};return{addSpy:function(a){var b=r(a);b&&(b.spies.push(a),b.container&&s(b.container)||(b.container&&b.container.off("scroll",b.handler),b.container=f.getContainer(a.$scope),i&&!b.intervalPromise&&(b.intervalPromise=c(b.handler,i,0,!1)),b.container.on("scroll",b.handler).triggerHandler("scroll")))},removeSpy:function(b){var c=r(b);b===c.currentlyActive&&(a.$broadcast("duScrollspy:becameInactive",c.currentlyActive.$element),c.currentlyActive=null);var d=c.spies.indexOf(b);-1!==d&&c.spies.splice(d,1),b.$element=null},createContext:n,destroyContext:o,getContextForScope:q}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(a){"use strict";var b={},c=function(a,c){var d=a.$id;return b[d]=c,d},d=function(a){return b[a.$id]?a.$id:a.$parent?d(a.$parent):void 0};return{getContainerId:d,getContainer:function(c){var e=d(c);return e?b[e]:a},setContainer:c,removeContainer:function(a){var c=d(a);c&&delete b[c]}}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(a,b,c){"use strict";return{link:function(d,e,f){e.on("click",function(e){if(f.href&&-1!==f.href.indexOf("#")||""!==f.duSmoothScroll){var g=f.href?f.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):f.duSmoothScroll,h=document.getElementById(g)||document.getElementsByName(g)[0];if(h&&h.getBoundingClientRect){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var i=f.offset?parseInt(f.offset,10):b,j=f.duration?parseInt(f.duration,10):a;c.getContainer(d).duScrollToElement(angular.element(h),isNaN(i)?0:i,isNaN(j)?0:j)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(a){"use strict";return{restrict:"A",scope:!0,compile:function(b,c,d){return{pre:function(b,c,d,e){a.createContext(b)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(a){"use strict";return{restrict:"A",scope:!0,compile:function(b,c,d){return{pre:function(b,c,d,e){d.$observe("duScrollContainer",function(d){angular.isString(d)&&(d=document.getElementById(d)),d=angular.isElement(d)?angular.element(d):c,a.setContainer(b,d),b.$on("$destroy",function(){a.removeContainer(b)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(a,b,c,d){"use strict";var e=function(a,b,c,d){angular.isElement(a)?this.target=a:angular.isString(a)&&(this.targetId=a),this.$scope=b,this.$element=c,this.offset=d};return e.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},e.prototype.getTargetPosition=function(){var a=this.getTargetElement();if(a)return a.getBoundingClientRect()},e.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(f,g,h){var i,j=h.ngHref||h.href;if(j&&-1!==j.indexOf("#")?i=j.replace(/.*(?=#[^\s]+$)/,"").substring(1):h.duScrollspy?i=h.duScrollspy:h.duSmoothScroll&&(i=h.duSmoothScroll),i){var k=c(function(){var c=new e(i,f,g,-(h.offset?parseInt(h.offset,10):b));a.addSpy(c),f.$on("$locationChangeSuccess",c.flushTargetCache.bind(c));var j=d.$on("$stateChangeSuccess",c.flushTargetCache.bind(c));f.$on("$destroy",function(){a.removeSpy(c),j()})},0,!1);f.$on("$destroy",function(){c.cancel(k)})}}}}]),!function(){"use strict";var a={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(b){switch(b.which){case a.COMMAND:case a.SHIFT:case a.CTRL:case a.ALT:return!0}return!!b.metaKey},isFunctionKey:function(a){return(a=a.which?a.which:a)>=112&&123>=a},isVerticalMovement:function(b){return~[a.UP,a.DOWN].indexOf(b)},isHorizontalMovement:function(b){return~[a.LEFT,a.RIGHT,a.BACKSPACE,a.DELETE].indexOf(b)},toSeparator:function(b){var c={ENTER:"\n",TAB:"\t",SPACE:" "}[b];return c||(a[b]?void 0:b)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(a){return angular.element(this[0].querySelectorAll(a))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(a){for(var b=this[0],c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector;b;){if(c.bind(b)(a))return b;b=b.parentElement}return!1});var b=0,c=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return b++},appendToBody:!1}).service("uiSelectMinErr",function(){var a=angular.$$minErr("ui.select");return function(){var b=a.apply(this,arguments),c=b.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(c)}}).directive("uisTranscludeAppend",function(){return{link:function(a,b,c,d,e){e(a,function(a){b.append(a)})}}}).filter("highlight",function(){function a(a){return(""+a).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c&&b?(""+b).replace(new RegExp(a(c),"gi"),'<span class="ui-select-highlight">$&</span>'):b}}).factory("uisOffset",["$document","$window",function(a,b){return function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}}}]);c.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(a,b,c,d,e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(b){return b.addClass("ui-select-choices"),(b.parent().attr("theme")||a.theme)+"/choices.tpl.html"},compile:function(f,g){if(!g.repeat)throw c("repeat","Expected 'repeat' expression.");return function(f,g,h,i,j){var k=h.groupBy,l=h.groupFilter;if(i.parseRepeatAttr(h.repeat,k,l),i.disableChoiceExpression=h.uiDisableChoice,i.onHighlightCallback=h.onHighlight,i.dropdownPosition=h.position?h.position.toLowerCase():a.dropdownPosition,k){var m=g.querySelectorAll(".ui-select-choices-group");if(1!==m.length)throw c("rows","Expected 1 .ui-select-choices-group but got '{0}'.",m.length);m.attr("ng-repeat",b.getGroupNgRepeatExpression())}var n=g.querySelectorAll(".ui-select-choices-row");if(1!==n.length)throw c("rows","Expected 1 .ui-select-choices-row but got '{0}'.",n.length);n.attr("ng-repeat",i.parserResult.repeatExpression(k)).attr("ng-if","$select.open"),e.document.addEventListener&&n.attr("ng-mouseenter","$select.setActiveItem("+i.parserResult.itemName+")").attr("ng-click","$select.select("+i.parserResult.itemName+",$select.skipFocusser,$event)");var o=g.querySelectorAll(".ui-select-choices-row-inner");if(1!==o.length)throw c("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",o.length);o.attr("uis-transclude-append",""),e.document.addEventListener||o.attr("ng-mouseenter","$select.setActiveItem("+i.parserResult.itemName+")").attr("ng-click","$select.select("+i.parserResult.itemName+",$select.skipFocusser,$event)"),d(g,j)(f),f.$watch("$select.search",function(a){a&&!i.open&&i.multiple&&i.activate(!1,!0),i.activeIndex=i.tagging.isActivated?-1:0,!h.minimumInputLength||i.search.length>=h.minimumInputLength?i.refresh(h.refresh):i.items=[]}),h.$observe("refreshDelay",function(){var b=f.$eval(h.refreshDelay);i.refreshDelay=void 0!==b?b:a.refreshDelay})}}}}]),c.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(b,c,d,e,f,g,h,i,j,k){function l(a,b,c){if(a.findIndex)return a.findIndex(b,c);for(var d,e=Object(a),f=e.length>>>0,g=0;f>g;g++)if(d=e[g],b.call(c,d,g,e))return g;return-1}function m(){(q.resetSearchInput||void 0===q.resetSearchInput&&h.resetSearchInput)&&(q.search=r,q.selected&&q.items.length&&!q.multiple&&(q.activeIndex=l(q.items,function(a){return angular.equals(this,a)},q.selected)))}function n(a,b){var c,d,e=[];for(c=0;c<b.length;c++)for(d=0;d<a.length;d++)a[d].name==[b[c]]&&e.push(a[d]);return e}function o(b){var c=!0;switch(b){case a.DOWN:!q.open&&q.multiple?q.activate(!1,!0):q.activeIndex<q.items.length-1&&q.activeIndex++;break;case a.UP:!q.open&&q.multiple?q.activate(!1,!0):(q.activeIndex>0||0===q.search.length&&q.tagging.isActivated&&q.activeIndex>-1)&&q.activeIndex--;break;case a.TAB:(!q.multiple||q.open)&&q.select(q.items[q.activeIndex],!0);break;case a.ENTER:q.open&&(q.tagging.isActivated||q.activeIndex>=0)?q.select(q.items[q.activeIndex],q.skipFocusser):q.activate(!1,!0);break;case a.ESC:q.close();break;default:c=!1}return c}function p(){var a=c.querySelectorAll(".ui-select-choices-content"),b=a.querySelectorAll(".ui-select-choices-row");if(b.length<1)throw g("choices","Expected multiple .ui-select-choices-row but got '{0}'.",b.length);if(!(q.activeIndex<0)){var d=b[q.activeIndex],e=d.offsetTop+d.clientHeight-a[0].scrollTop,f=a[0].offsetHeight;e>f?a[0].scrollTop+=e-f:e<d.clientHeight&&(q.isGrouped&&0===q.activeIndex?a[0].scrollTop=0:a[0].scrollTop-=d.clientHeight-e)}}var q=this,r="";if(q.placeholder=h.placeholder,q.searchEnabled=h.searchEnabled,q.sortable=h.sortable,q.refreshDelay=h.refreshDelay,q.paste=h.paste,q.removeSelected=!1,q.closeOnSelect=!0,q.skipFocusser=!1,q.search=r,q.activeIndex=0,q.items=[],q.open=!1,q.focus=!1,q.disabled=!1,q.selected=void 0,q.dropdownPosition="auto",q.focusser=void 0,q.resetSearchInput=!0,q.multiple=void 0,q.disableChoiceExpression=void 0,q.tagging={isActivated:!1,fct:void 0},q.taggingTokens={isActivated:!1,tokens:void 0},q.lockChoiceExpression=void 0,q.clickTriggeredSelect=!1,q.$filter=e,q.$animate=function(){try{return j.get("$animate")}catch(a){return null}}(),q.searchInput=c.querySelectorAll("input.ui-select-search"),1!==q.searchInput.length)throw g("searchInput","Expected 1 input.ui-select-search but got '{0}'.",q.searchInput.length);q.isEmpty=function(){return angular.isUndefined(q.selected)||null===q.selected||""===q.selected||q.multiple&&0===q.selected.length},q.activate=function(a,e){if(!q.disabled&&!q.open){e||m(),b.$broadcast("uis:activate"),q.open=!0,q.activeIndex=q.activeIndex>=q.items.length?0:q.activeIndex,-1===q.activeIndex&&!1!==q.taggingLabel&&(q.activeIndex=0);var f=c.querySelectorAll(".ui-select-choices-content");q.$animate&&q.$animate.on&&q.$animate.enabled(f[0])?q.$animate.on("enter",f[0],function(b,c){"close"===c&&d(function(){q.focusSearchInput(a)})}):d(function(){q.focusSearchInput(a),!q.tagging.isActivated&&q.items.length>1&&p()})}},q.focusSearchInput=function(a){q.search=a||q.search,q.searchInput[0].focus()},q.findGroupByName=function(a){return q.groups&&q.groups.filter(function(b){return b.name===a})[0]},q.parseRepeatAttr=function(a,c,d){function e(a){var e=b.$eval(c);if(q.groups=[],angular.forEach(a,function(a){var b=angular.isFunction(e)?e(a):a[e],c=q.findGroupByName(b);c?c.items.push(a):q.groups.push({name:b,items:[a]})}),d){var f=b.$eval(d);angular.isFunction(f)?q.groups=f(q.groups):angular.isArray(f)&&(q.groups=n(q.groups,f))}q.items=[],q.groups.forEach(function(a){q.items=q.items.concat(a.items)})}function h(a){q.items=a}q.setItemsFn=c?e:h,q.parserResult=f.parse(a),q.isGrouped=!!c,q.itemProperty=q.parserResult.itemName;var j=q.parserResult.source,k=function(){var a=j(b);b.$uisSource=Object.keys(a).map(function(b){var c={};return c[q.parserResult.keyName]=b,c.value=a[b],c})};q.parserResult.keyName&&(k(),q.parserResult.source=i("$uisSource"+q.parserResult.filters),b.$watch(j,function(a,b){a!==b&&k()},!0)),q.refreshItems=function(a){a=a||q.parserResult.source(b);var c=q.selected;if(q.isEmpty()||angular.isArray(c)&&!c.length||!q.removeSelected)q.setItemsFn(a);else if(void 0!==a){var d=a.filter(function(a){return c.every(function(b){return!angular.equals(a,b)})});q.setItemsFn(d)}("auto"===q.dropdownPosition||"up"===q.dropdownPosition)&&b.calculateDropdownPos()},b.$watchCollection(q.parserResult.source,function(a){if(void 0===a||null===a)q.items=[];else{if(!angular.isArray(a))throw g("items","Expected an array but got '{0}'.",a);q.refreshItems(a),q.ngModel.$modelValue=null}})};var s;q.refresh=function(a){void 0!==a&&(s&&d.cancel(s),s=d(function(){b.$eval(a)},q.refreshDelay))},q.isActive=function(a){if(!q.open)return!1;var b=q.items.indexOf(a[q.itemProperty]),c=b==q.activeIndex;return!(!c||0>b&&!1!==q.taggingLabel||0>b&&!1===q.taggingLabel)&&(c&&!angular.isUndefined(q.onHighlightCallback)&&a.$eval(q.onHighlightCallback),c)},q.isDisabled=function(a){if(q.open){var b,c=q.items.indexOf(a[q.itemProperty]),d=!1;return c>=0&&!angular.isUndefined(q.disableChoiceExpression)&&(b=q.items[c],d=!!a.$eval(q.disableChoiceExpression),b._uiSelectChoiceDisabled=d),d}},q.select=function(a,c,e){if(void 0===a||!a._uiSelectChoiceDisabled){if(!q.items&&!q.search&&!q.tagging.isActivated)return;if(!a||!a._uiSelectChoiceDisabled){if(q.tagging.isActivated){if(!1===q.taggingLabel)if(q.activeIndex<0){if(!(a=void 0!==q.tagging.fct?q.tagging.fct(q.search):q.search)||angular.equals(q.items[0],a))return}else a=q.items[q.activeIndex];else if(0===q.activeIndex){if(void 0===a)return;if(void 0!==q.tagging.fct&&"string"==typeof a){if(!(a=q.tagging.fct(a)))return}else"string"==typeof a&&(a=a.replace(q.taggingLabel,"").trim())}if(q.selected&&angular.isArray(q.selected)&&q.selected.filter(function(b){return angular.equals(b,a)}).length>0)return void q.close(c)}b.$broadcast("uis:select",a);var f={};f[q.parserResult.itemName]=a,d(function(){q.onSelectCallback(b,{$item:a,$model:q.parserResult.modelMapper(b,f)})}),q.closeOnSelect&&q.close(c),e&&"click"===e.type&&(q.clickTriggeredSelect=!0)}}},q.close=function(a){q.open&&(q.ngModel&&q.ngModel.$setTouched&&q.ngModel.$setTouched(),m(),q.open=!1,b.$broadcast("uis:close",a))},q.setFocus=function(){q.focus||q.focusInput[0].focus()},q.clear=function(a){q.select(void 0),a.stopPropagation(),d(function(){q.focusser[0].focus()},0,!1)},q.toggle=function(a){q.open?(q.close(),a.preventDefault(),a.stopPropagation()):q.activate()},q.isLocked=function(a,b){var c,d=q.selected[b];return d&&!angular.isUndefined(q.lockChoiceExpression)&&(c=!!a.$eval(q.lockChoiceExpression),d._uiSelectChoiceLocked=c),c};var t=null;q.sizeSearchInput=function(){var a=q.searchInput[0],c=q.searchInput.parent().parent()[0],e=function(){return c.clientWidth*!!a.offsetParent},f=function(b){if(0===b)return!1;var c=b-a.offsetLeft-10;return 50>c&&(c=b),q.searchInput.css("width",c+"px"),!0};q.searchInput.css("width","10px"),d(function(){null!==t||f(e())||(t=b.$watch(e,function(a){f(a)&&(t(),t=null)}))})},q.searchInput.on("keydown",function(c){var e=c.which;~[a.ENTER,a.ESC].indexOf(e)&&(c.preventDefault(),c.stopPropagation()),b.$apply(function(){var b=!1;if((q.items.length>0||q.tagging.isActivated)&&(o(e),q.taggingTokens.isActivated)){for(var f=0;f<q.taggingTokens.tokens.length;f++)q.taggingTokens.tokens[f]===a.MAP[c.keyCode]&&q.search.length>0&&(b=!0);b&&d(function(){q.searchInput.triggerHandler("tagged");var b=q.search.replace(a.MAP[c.keyCode],"").trim();q.tagging.fct&&(b=q.tagging.fct(b)),b&&q.select(b,!0)})}}),a.isVerticalMovement(e)&&q.items.length>0&&p(),(e===a.ENTER||e===a.ESC)&&(c.preventDefault(),c.stopPropagation())}),q.searchInput.on("paste",function(b){var c;if(c=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(b.originalEvent||b).clipboardData.getData("text/plain"),(c=q.search+c)&&c.length>0)if(q.taggingTokens.isActivated){var d=a.toSeparator(q.taggingTokens.tokens[0]),e=c.split(d||q.taggingTokens.tokens[0]);if(e&&e.length>0){var f=q.search;angular.forEach(e,function(a){var b=q.tagging.fct?q.tagging.fct(a):a;b&&q.select(b,!0)}),q.search=f||r,b.preventDefault(),b.stopPropagation()}}else q.paste&&(q.paste(c),q.search=r,b.preventDefault(),b.stopPropagation())}),q.searchInput.on("tagged",function(){d(function(){m()})}),b.$on("$destroy",function(){q.searchInput.off("keyup keydown tagged blur paste")}),angular.element(k).bind("resize",function(){q.sizeSearchInput()})}]),c.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(a,b,c,d,e,f,g){return{restrict:"EA",templateUrl:function(a,c){return(c.theme||b.theme)+(angular.isDefined(c.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(e,h){var i=/{(.*)}\s*{(.*)}/.exec(h.ngClass);if(i){var j="{"+i[1]+", "+i[2]+"}";h.ngClass=j,e.attr("ng-class",j)}return angular.isDefined(h.multiple)?e.append("<ui-select-multiple/>").removeAttr("multiple"):e.append("<ui-select-single/>"),h.inputId&&(e.querySelectorAll("input.ui-select-search")[0].id=h.inputId),function(e,h,i,j,k){function l(a){if(o.open){if(!(window.jQuery?window.jQuery.contains(h[0],a.target):h[0].contains(a.target))&&!o.clickTriggeredSelect){var b;if(o.skipFocusser)b=!0;else{var c=["input","button","textarea","select"],d=angular.element(a.target).controller("uiSelect");(b=d&&d!==o)||(b=~c.indexOf(a.target.tagName.toLowerCase()))}o.close(b),e.$digest()}o.clickTriggeredSelect=!1}}function m(){var b=d(h);r=angular.element('<div class="ui-select-placeholder"></div>'),r[0].style.width=b.width+"px",r[0].style.height=b.height+"px",h.after(r),s=h[0].style.width,a.find("body").append(h),h[0].style.position="absolute",h[0].style.left=b.left+"px",h[0].style.top=b.top+"px",h[0].style.width=b.width+"px"}function n(){null!==r&&(r.replaceWith(h),r=null,h[0].style.position="",h[0].style.left="",h[0].style.top="",h[0].style.width=s,o.setFocus())}var o=j[0],p=j[1];o.generatedId=b.generateId(),o.baseTitle=i.title||"Select box",o.focusserTitle=o.baseTitle+" focus",o.focusserId="focusser-"+o.generatedId,o.closeOnSelect=function(){return angular.isDefined(i.closeOnSelect)?f(i.closeOnSelect)():b.closeOnSelect}(),e.$watch("skipFocusser",function(){var a=e.$eval(i.skipFocusser);o.skipFocusser=void 0!==a?a:b.skipFocusser}),o.onSelectCallback=f(i.onSelect),o.onRemoveCallback=f(i.onRemove),o.limit=angular.isDefined(i.limit)?parseInt(i.limit,10):void 0,o.ngModel=p,o.choiceGrouped=function(a){return o.isGrouped&&a&&a.name},i.tabindex&&i.$observe("tabindex",function(a){o.focusInput.attr("tabindex",a),h.removeAttr("tabindex")}),e.$watch("searchEnabled",function(){var a=e.$eval(i.searchEnabled);o.searchEnabled=void 0!==a?a:b.searchEnabled}),e.$watch("sortable",function(){var a=e.$eval(i.sortable);o.sortable=void 0!==a?a:b.sortable}),i.$observe("disabled",function(){o.disabled=void 0!==i.disabled&&i.disabled}),i.$observe("resetSearchInput",function(){var a=e.$eval(i.resetSearchInput);o.resetSearchInput=void 0===a||a}),i.$observe("paste",function(){o.paste=e.$eval(i.paste)}),i.$observe("tagging",function(){if(void 0!==i.tagging){var a=e.$eval(i.tagging);o.tagging={isActivated:!0,fct:!0!==a?a:void 0}}else o.tagging={isActivated:!1,fct:void 0}}),i.$observe("taggingLabel",function(){void 0!==i.tagging&&(o.taggingLabel="false"!==i.taggingLabel&&(void 0!==i.taggingLabel?i.taggingLabel:"(new)"))}),i.$observe("taggingTokens",function(){if(void 0!==i.tagging){var a=void 0!==i.taggingTokens?i.taggingTokens.split("|"):[",","ENTER"];o.taggingTokens={isActivated:!0,tokens:a}}}),angular.isDefined(i.autofocus)&&g(function(){o.setFocus()}),angular.isDefined(i.focusOn)&&e.$on(i.focusOn,function(){g(function(){o.setFocus()})}),a.on("click",l),e.$on("$destroy",function(){a.off("click",l)}),k(e,function(a){var b=angular.element("<div>").append(a),d=b.querySelectorAll(".ui-select-match");if(d.removeAttr("ui-select-match"),d.removeAttr("data-ui-select-match"),1!==d.length)throw c("transcluded","Expected 1 .ui-select-match but got '{0}'.",d.length);h.querySelectorAll(".ui-select-match").replaceWith(d);var e=b.querySelectorAll(".ui-select-choices");if(e.removeAttr("ui-select-choices"),e.removeAttr("data-ui-select-choices"),1!==e.length)throw c("transcluded","Expected 1 .ui-select-choices but got '{0}'.",e.length);h.querySelectorAll(".ui-select-choices").replaceWith(e)});var q=e.$eval(i.appendToBody);(void 0!==q?q:b.appendToBody)&&(e.$watch("$select.open",function(a){a?m():n()}),e.$on("$destroy",function(){n()}));var r=null,s="",t=null,u="direction-up";e.$watch("$select.open",function(){("auto"===o.dropdownPosition||"up"===o.dropdownPosition)&&e.calculateDropdownPos()});var v=function(a,b){a=a||d(h),b=b||d(t),t[0].style.position="absolute",t[0].style.top=-1*b.height+"px",h.addClass(u)},w=function(a,b){h.removeClass(u),a=a||d(h),b=b||d(t),t[0].style.position="",t[0].style.top=""};e.calculateDropdownPos=function(){if(o.open){if(t=angular.element(h).querySelectorAll(".ui-select-dropdown"),0===t.length)return;t[0].style.opacity=0,g(function(){if("up"===o.dropdownPosition)v();else{h.removeClass(u);var b=d(h),c=d(t),e=a[0].documentElement.scrollTop||a[0].body.scrollTop;b.top+b.height+c.height>e+a[0].documentElement.clientHeight?v(b,c):w(b,c)}t[0].style.opacity=1})}else{if(null===t||0===t.length)return;t[0].style.position="",t[0].style.top="",h.removeClass(u)}}}}}}]),c.directive("uiSelectMatch",["uiSelectConfig",function(a){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(b){return b.addClass("ui-select-match"),(b.parent().attr("theme")||a.theme)+(b.parent().attr("multiple")?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(b,c,d,e){function f(a){e.allowClear=!!angular.isDefined(a)&&(""===a||"true"===a.toLowerCase())}e.lockChoiceExpression=d.uiLockChoice,d.$observe("placeholder",function(b){e.placeholder=void 0!==b?b:a.placeholder}),d.$observe("allowClear",f),f(d.allowClear),e.multiple&&e.sizeSearchInput()}}}]),c.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(b,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(a,b){var c,d=this,e=a.$select;angular.isUndefined(e.selected)&&(e.selected=[]),a.$evalAsync(function(){c=a.ngModel}),d.activeMatchIndex=-1,d.updateModel=function(){c.$setViewValue(Date.now()),d.refreshComponent()},d.refreshComponent=function(){e.refreshItems(),e.sizeSearchInput()},d.removeChoice=function(c){var f=e.selected[c];if(!f._uiSelectChoiceLocked){var g={};g[e.parserResult.itemName]=f,e.selected.splice(c,1),d.activeMatchIndex=-1,e.sizeSearchInput(),b(function(){e.onRemoveCallback(a,{$item:f,$model:e.parserResult.modelMapper(a,g)})}),d.updateModel()}},d.getPlaceholder=function(){return e.selected&&e.selected.length?void 0:e.placeholder}}],controllerAs:"$selectMultiple",link:function(d,e,f,g){function h(a){return angular.isNumber(a.selectionStart)?a.selectionStart:a.value.length}function i(b){var c=h(l.searchInput[0]),d=l.selected.length,e=d-1,f=n.activeMatchIndex,g=n.activeMatchIndex+1,i=n.activeMatchIndex-1,j=f;return!(c>0||l.search.length&&b==a.RIGHT)&&(l.close(),j=function(){switch(b){case a.LEFT:return~n.activeMatchIndex?i:e;case a.RIGHT:return~n.activeMatchIndex&&f!==e?g:(l.activate(),!1);case a.BACKSPACE:return~n.activeMatchIndex?(n.removeChoice(f),i):e;case a.DELETE:return!!~n.activeMatchIndex&&(n.removeChoice(n.activeMatchIndex),f)}}(),n.activeMatchIndex=l.selected.length&&!1!==j?Math.min(e,Math.max(0,j)):-1,!0)}function j(a){return void 0!==a&&void 0!==l.search&&a.filter(function(a){return void 0!==l.search.toUpperCase()&&void 0!==a&&a.toUpperCase()===l.search.toUpperCase()}).length>0}function k(a,b){var c=-1;if(angular.isArray(a))for(var d=angular.copy(a),e=0;e<d.length;e++)if(void 0===l.tagging.fct)d[e]+" "+l.taggingLabel===b&&(c=e);else{var f=d[e];angular.isObject(f)&&(f.isTag=!0),angular.equals(f,b)&&(c=e)}return c}var l=g[0],m=d.ngModel=g[1],n=d.$selectMultiple;l.multiple=!0,l.removeSelected=!0,l.focusInput=l.searchInput,m.$isEmpty=function(a){return!a||0===a.length},m.$parsers.unshift(function(){for(var a,b={},c=[],e=l.selected.length-1;e>=0;e--)b={},b[l.parserResult.itemName]=l.selected[e],a=l.parserResult.modelMapper(d,b),c.unshift(a);return c}),m.$formatters.unshift(function(a){var b,c=l.parserResult.source(d,{$select:{search:""}}),e={};if(!c)return a;var f=[],g=function(a,c){if(a&&a.length){for(var g=a.length-1;g>=0;g--){if(e[l.parserResult.itemName]=a[g],b=l.parserResult.modelMapper(d,e),l.parserResult.trackByExp){var h=/(\w*)\./.exec(l.parserResult.trackByExp),i=/\.([^\s]+)/.exec(l.parserResult.trackByExp);if(h&&h.length>0&&h[1]==l.parserResult.itemName&&i&&i.length>0&&b[i[1]]==c[i[1]])return f.unshift(a[g]),!0}if(angular.equals(b,c))return f.unshift(a[g]),!0}return!1}};if(!a)return f;for(var h=a.length-1;h>=0;h--)g(l.selected,a[h])||g(c,a[h])||f.unshift(a[h]);return f}),d.$watchCollection(function(){return m.$modelValue},function(a,b){b!=a&&(m.$modelValue=null,n.refreshComponent())}),m.$render=function(){if(!angular.isArray(m.$viewValue)){if(!angular.isUndefined(m.$viewValue)&&null!==m.$viewValue)throw b("multiarr","Expected model value to be array but got '{0}'",m.$viewValue);l.selected=[]}l.selected=m.$viewValue,n.refreshComponent(),d.$evalAsync()},d.$on("uis:select",function(a,b){l.selected.length>=l.limit||(l.selected.push(b),n.updateModel())}),d.$on("uis:activate",function(){n.activeMatchIndex=-1}),d.$watch("$select.disabled",function(a,b){b&&!a&&l.sizeSearchInput()}),l.searchInput.on("keydown",function(b){var c=b.which;d.$apply(function(){var d=!1;a.isHorizontalMovement(c)&&(d=i(c)),d&&c!=a.TAB&&(b.preventDefault(),b.stopPropagation())})}),l.searchInput.on("keyup",function(b){if(a.isVerticalMovement(b.which)||d.$evalAsync(function(){l.activeIndex=!1===l.taggingLabel?-1:0}),l.tagging.isActivated&&l.search.length>0){if(b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||a.isVerticalMovement(b.which))return;if(l.activeIndex=!1===l.taggingLabel?-1:0,!1===l.taggingLabel)return;var c,e,f,g,h=angular.copy(l.items),i=angular.copy(l.items),m=!1,n=-1;if(void 0!==l.tagging.fct){if(f=l.$filter("filter")(h,{isTag:!0}),f.length>0&&(g=f[0]),h.length>0&&g&&(m=!0,h=h.slice(1,h.length),i=i.slice(1,i.length)),c=l.tagging.fct(l.search),i.some(function(a){return angular.equals(a,l.tagging.fct(l.search))})||l.selected.some(function(a){return angular.equals(a,c)}))return void d.$evalAsync(function(){l.activeIndex=0,l.items=h});c.isTag=!0}else{if(f=l.$filter("filter")(h,function(a){return a.match(l.taggingLabel)}),f.length>0&&(g=f[0]),e=h[0],void 0!==e&&h.length>0&&g&&(m=!0,h=h.slice(1,h.length),i=i.slice(1,i.length)),c=l.search+" "+l.taggingLabel,k(l.selected,l.search)>-1)return;if(j(i.concat(l.selected)))return void(m&&(h=i,d.$evalAsync(function(){l.activeIndex=0,l.items=h})));if(j(i))return void(m&&(l.items=i.slice(1,i.length)))}m&&(n=k(l.selected,c)),n>-1?h=h.slice(n+1,h.length-1):(h=[],h.push(c),h=h.concat(i)),d.$evalAsync(function(){l.activeIndex=0,l.items=h})}}),l.searchInput.on("blur",function(){c(function(){n.activeMatchIndex=-1})})}}}]),c.directive("uiSelectSingle",["$timeout","$compile",function(b,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(d,e,f,g){var h=g[0],i=g[1];i.$parsers.unshift(function(a){var b={};return b[h.parserResult.itemName]=a,h.parserResult.modelMapper(d,b)}),i.$formatters.unshift(function(a){var b,c=h.parserResult.source(d,{$select:{search:""}}),e={};if(c){var f=function(c){return e[h.parserResult.itemName]=c,(b=h.parserResult.modelMapper(d,e))==a};if(h.selected&&f(h.selected))return h.selected;for(var g=c.length-1;g>=0;g--)if(f(c[g]))return c[g]}return a}),d.$watch("$select.selected",function(a){i.$viewValue!==a&&i.$setViewValue(a)}),i.$render=function(){h.selected=i.$viewValue
},d.$on("uis:select",function(a,b){h.selected=b}),d.$on("uis:close",function(a,c){b(function(){h.focusser.prop("disabled",!1),c||h.focusser[0].focus()},0,!1)}),d.$on("uis:activate",function(){j.prop("disabled",!0)});var j=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");c(j)(d),h.focusser=j,h.focusInput=j,e.parent().append(j),j.bind("focus",function(){d.$evalAsync(function(){h.focus=!0})}),j.bind("blur",function(){d.$evalAsync(function(){h.focus=!1})}),j.bind("keydown",function(b){return b.which===a.BACKSPACE?(b.preventDefault(),b.stopPropagation(),h.select(void 0),void d.$apply()):void(b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||((b.which==a.DOWN||b.which==a.UP||b.which==a.ENTER||b.which==a.SPACE)&&(b.preventDefault(),b.stopPropagation(),h.activate()),d.$digest()))}),j.bind("keyup input",function(b){b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||b.which==a.ENTER||b.which===a.BACKSPACE||(h.activate(j.val()),j.val(""),d.$digest())})}}}]),c.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(a,b,c){return{require:"^^uiSelect",link:function(b,d,e,f){if(null===b[e.uiSelectSort])throw c("sort","Expected a list to sort");var g=angular.extend({axis:"horizontal"},b.$eval(e.uiSelectSortOptions)),h=g.axis,i="dragging",j="dropping",k="dropping-before",l="dropping-after";b.$watch(function(){return f.sortable},function(a){a?d.attr("draggable",!0):d.removeAttr("draggable")}),d.on("dragstart",function(a){d.addClass(i),(a.dataTransfer||a.originalEvent.dataTransfer).setData("text",b.$index.toString())}),d.on("dragend",function(){d.removeClass(i)});var m,n=function(a,b){this.splice(b,0,this.splice(a,1)[0])},o=function(a){a.preventDefault(),("vertical"===h?a.offsetY||a.layerY||(a.originalEvent?a.originalEvent.offsetY:0):a.offsetX||a.layerX||(a.originalEvent?a.originalEvent.offsetX:0))<this["vertical"===h?"offsetHeight":"offsetWidth"]/2?(d.removeClass(l),d.addClass(k)):(d.removeClass(k),d.addClass(l))},p=function(b){b.preventDefault();var c=parseInt((b.dataTransfer||b.originalEvent.dataTransfer).getData("text"),10);a.cancel(m),m=a(function(){q(c)},20)},q=function(a){var c=b.$eval(e.uiSelectSort),f=c[a],g=null;g=d.hasClass(k)?a<b.$index?b.$index-1:b.$index:a<b.$index?b.$index:b.$index+1,n.apply(c,[a,g]),b.$apply(function(){b.$emit("uiSelectSort:change",{array:c,item:f,from:a,to:g})}),d.removeClass(j),d.removeClass(k),d.removeClass(l),d.off("drop",p)};d.on("dragenter",function(){d.hasClass(i)||(d.addClass(j),d.on("dragover",o),d.on("drop",p))}),d.on("dragleave",function(a){a.target==d&&(d.removeClass(j),d.removeClass(k),d.removeClass(l),d.off("dragover",o),d.off("drop",p))})}}}]),c.service("uisRepeatParser",["uiSelectMinErr","$parse",function(a,b){var c=this;c.parse=function(c){var d;if(!(d=c.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",c);var e=d[5],f="";if(d[3]){e=d[5].replace(/(^\()|(\)$)/g,"");var g=d[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);g&&g[1].trim()&&(f=g[1],e=e.replace(f,""))}return{itemName:d[4]||d[2],keyName:d[3],source:b(e),filters:f,trackByExp:d[6],modelMapper:b(d[1]||d[4]||d[2]),repeatExpression:function(a){var b=this.itemName+" in "+(a?"$group.items":"$select.items");return this.trackByExp&&(b+=" track by "+this.trackByExp),b}}},c.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(a){a.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),a.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),a.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),a.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),a.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),a.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),a.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),a.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),a.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),a.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),a.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),a.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),a.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),function(a){var b;"undefined"!=typeof window?b=window:"undefined"!=typeof self&&(b=self),b.ALGOLIA_MIGRATION_LAYER=function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b){for(var c in b)a.setAttribute(c,b[c])}function e(a,b){a.onload=function(){this.onerror=this.onload=null,b(null,a)},a.onerror=function(){this.onerror=this.onload=null,b(new Error("Failed to load "+this.src),a)}}function f(a,b){a.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,b(null,a))}}b.exports=function(a,b,c){var g=document.head||document.getElementsByTagName("head")[0],h=document.createElement("script");"function"==typeof b&&(c=b,b={}),b=b||{},c=c||function(){},h.type=b.type||"text/javascript",h.charset=b.charset||"utf8",h.async=!("async"in b&&!b.async),h.src=a,b.attrs&&d(h,b.attrs),b.text&&(h.text=""+b.text),("onload"in h?e:f)(h,c),h.onload||e(h,c),g.appendChild(h)}},{}],2:[function(a,b,c){"use strict";function d(a){for(var b=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+a.replace(".","\\.")+"(?:\\.min)?\\.js$"),c=document.getElementsByTagName("script"),d=!1,e=0,f=c.length;e<f;e++)if(c[e].src&&b.test(c[e].src)){d=!0;break}return d}b.exports=d},{}],3:[function(a,b,c){"use strict";function d(b){var c=a(1),d="//cdn.jsdelivr.net/algoliasearch/2/"+b+".min.js",f="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(f):window.console.log&&window.console.log(f));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true<\/script>"),!0===window.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+d+'"><\/script>'),e("document.write")()):c(d,e("DOMElement"))}catch(a){c(d,e("DOMElement"))}}function e(a){return function(){var b="AlgoliaSearch: loaded V2 script using "+a;window.console&&window.console.log&&window.console.log(b)}}b.exports=d},{1:1}],4:[function(a,b,c){"use strict";function d(){var a="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(a)},window.AlgoliaSearchHelper=function(){throw new Error(a)},window.AlgoliaExplainResults=function(){throw new Error(a)}}b.exports=d},{}],5:[function(a,b,c){"use strict";!function(b){var c=a(2),d=a(3),e=a(4);c(b)?d(b):e()}("algoliasearch")},{2:2,3:3,4:4}]},{},[5])(5)}()}(),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.algoliasearch=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b.long?f(a):e(a)}},{}],2:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],3:[function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(a){}}function h(){var a;try{a=c.storage.debug}catch(a){}return a}c=b.exports=a(4),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d,c.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(a){}}(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{4:4}],4:[function(a,b,c){function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g)),(e.log||c.log||console.log.bind(console)).apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;e<d;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a(1),c.names=[],c.skips=[],c.formatters={};var j,k=0},{1:1}],5:[function(b,c,d){(function(d,e){(function(){"use strict";function f(a){return"function"==typeof a||"object"==typeof a&&null!==a}function g(a){return"function"==typeof a}function h(a){T=a}function i(a){X=a}function j(){return function(){S(l)}}function k(){return function(){setTimeout(l,1)}}function l(){for(var a=0;a<W;a+=2){(0,ba[a])(ba[a+1]),ba[a]=void 0,ba[a+1]=void 0}W=0}function m(a,b){var c=this,d=new this.constructor(o);void 0===d[ea]&&H(d);var e=c._state;if(e){var f=arguments[e-1];X(function(){E(e,d,f,c._result)})}else A(c,d,a,b);return d}function n(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(o);return w(c,a),c}function o(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function q(){return new TypeError("A promises callback cannot return that same promise.")}function r(a){try{return a.then}catch(a){return ia.error=a,ia}}function s(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function t(a,b,c){X(function(a){var d=!1,e=s(c,b,function(c){d||(d=!0,b!==c?w(a,c):y(a,c))},function(b){d||(d=!0,z(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,z(a,e))},a)}function u(a,b){b._state===ga?y(a,b._result):b._state===ha?z(a,b._result):A(b,void 0,function(b){w(a,b)},function(b){z(a,b)})}function v(a,b,c){b.constructor===a.constructor&&c===ca&&constructor.resolve===da?u(a,b):c===ia?z(a,ia.error):void 0===c?y(a,b):g(c)?t(a,b,c):y(a,b)}function w(a,b){a===b?z(a,p()):f(b)?v(a,b,r(b)):y(a,b)}function x(a){a._onerror&&a._onerror(a._result),B(a)}function y(a,b){a._state===fa&&(a._result=b,a._state=ga,0!==a._subscribers.length&&X(B,a))}function z(a,b){a._state===fa&&(a._state=ha,a._result=b,X(x,a))}function A(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ga]=c,e[f+ha]=d,0===f&&a._state&&X(B,a)}function B(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?E(c,d,e,f):e(f);a._subscribers.length=0}}function C(){this.error=null}function D(a,b){try{return a(b)}catch(a){return ja.error=a,ja}}function E(a,b,c,d){var e,f,h,i,j=g(c);if(j){if(e=D(c,d),e===ja?(i=!0,f=e.error,e=null):h=!0,b===e)return void z(b,q())}else e=d,h=!0;b._state!==fa||(j&&h?w(b,e):i?z(b,f):a===ga?y(b,e):a===ha&&z(b,e))}function F(a,b){try{b(function(b){w(a,b)},function(b){z(a,b)})}catch(b){z(a,b)}}function G(){return ka++}function H(a){a[ea]=ka++,a._state=void 0,a._result=void 0,a._subscribers=[]}function I(a){return new pa(this,a).promise}function J(a){var b=this;return new b(V(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){b(new TypeError("You must pass an array to race."))})}function K(a){var b=this,c=new b(o);return z(c,a),c}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(a){this[ea]=G(),this._result=this._state=void 0,this._subscribers=[],o!==a&&("function"!=typeof a&&L(),this instanceof N?F(this,a):M())}function O(a,b){this._instanceConstructor=a,this.promise=new a(o),this.promise[ea]||H(this.promise),V(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?y(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&y(this.promise,this._result))):z(this.promise,P())}function P(){return new Error("Array Methods must be provided an Array")}function Q(){var a;if(void 0!==e)a=e;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;b&&"[object Promise]"===Object.prototype.toString.call(b.resolve())&&!b.cast||(a.Promise=oa)}var R;R=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var S,T,U,V=R,W=0,X=function(a,b){ba[W]=a,ba[W+1]=b,2===(W+=2)&&(T?T(l):U())},Y="undefined"!=typeof window?window:void 0,Z=Y||{},$=Z.MutationObserver||Z.WebKitMutationObserver,_="undefined"==typeof self&&void 0!==d&&"[object process]"==={}.toString.call(d),aa="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ba=new Array(1e3);U=_?function(){return function(){d.nextTick(l)}}():$?function(){var a=0,b=new $(l),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}():aa?function(){var a=new MessageChannel;return a.port1.onmessage=l,function(){a.port2.postMessage(0)}}():void 0===Y&&"function"==typeof b?function(){try{var a=b,c=a("vertx");return S=c.runOnLoop||c.runOnContext,j()}catch(a){return k()}}():k();var ca=m,da=n,ea=Math.random().toString(36).substring(16),fa=void 0,ga=1,ha=2,ia=new C,ja=new C,ka=0,la=I,ma=J,na=K,oa=N;N.all=la,N.race=ma,N.resolve=da,N.reject=na,N._setScheduler=h,N._setAsap=i,N._asap=X,N.prototype={constructor:N,then:ca,catch:function(a){return this.then(null,a)}};var pa=O;O.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===fa&&c<a;c++)this._eachEntry(b[c],c)},O.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===da){var e=r(a);if(e===ca&&a._state!==fa)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===oa){var f=new c(o);v(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){b(a)}),b)}else this._willSettleAt(d(a),b)},O.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===fa&&(this._remaining--,a===ha?z(d,c):this._result[b]=c),0===this._remaining&&y(d,this._result)},O.prototype._willSettleAt=function(a,b){var c=this;A(a,void 0,function(a){c._settledAt(ga,b,a)},function(a){c._settledAt(ha,b,a)})};var qa=Q,ra={Promise:oa,polyfill:qa};"function"==typeof a&&a.amd?a(function(){return ra}):void 0!==c&&c.exports?c.exports=ra:void 0!==this&&(this.ES6Promise=ra),qa()}).call(this)}).call(this,b(2),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],6:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace()),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},
d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],7:[function(a,b,c){var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString;b.exports=function(a,b,c){if("[object Function]"!==e.call(b))throw new TypeError("iterator must be a function");var f=a.length;if(f===+f)for(var g=0;g<f;g++)b.call(c,a[g],g,a);else for(var h in a)d.call(a,h)&&b.call(c,a[h],h,a)}},{}],8:[function(a,b,c){(function(a){"undefined"!=typeof window?b.exports=window:void 0!==a?b.exports=a:"undefined"!=typeof self?b.exports=self:b.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],10:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],11:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,h){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"==typeof a?d(g(a),function(g){var h=encodeURIComponent(e(g))+c;return f(a[g])?d(a[g],function(a){return h+encodeURIComponent(e(a))}).join(b):h+encodeURIComponent(e(a[g]))}).join(b):h?encodeURIComponent(e(h))+c+encodeURIComponent(e(a)):""};var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],12:[function(a,b,c){function d(){i.apply(this,arguments)}function e(){throw new k.AlgoliaSearchError("Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com")}b.exports=d;var f=a(14),g=a(24),h=a(25),i=a(13),j=a(9),k=a(26);j(d,i),d.prototype.deleteIndex=function(a,b){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(a),hostType:"write",callback:b})},d.prototype.moveIndex=function(a,b,c){var d={operation:"move",destination:b};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a)+"/operation",body:d,hostType:"write",callback:c})},d.prototype.copyIndex=function(a,b,c){var d={operation:"copy",destination:b};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a)+"/operation",body:d,hostType:"write",callback:c})},d.prototype.getLogs=function(b,c,d){var e=a(23),f={};return"object"==typeof b?(f=e(b),d=c):0===arguments.length||"function"==typeof b?d=b:1===arguments.length||"function"==typeof c?(d=c,f.offset=b):(f.offset=b,f.length=c),void 0===f.offset&&(f.offset=0),void 0===f.length&&(f.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(f,""),hostType:"read",callback:d})},d.prototype.listIndexes=function(a,b){var c="";return void 0===a||"function"==typeof a?b=a:c="?page="+a,this._jsonRequest({method:"GET",url:"/1/indexes"+c,hostType:"read",callback:b})},d.prototype.initIndex=function(a){return new f(this,a)},d.prototype.listUserKeys=function(a){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:a})},d.prototype.getUserKeyACL=function(a,b){return this._jsonRequest({method:"GET",url:"/1/keys/"+a,hostType:"read",callback:b})},d.prototype.deleteUserKey=function(a,b){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+a,hostType:"write",callback:b})},d.prototype.addUserKey=function(b,c,d){if(!a(10)(b))throw new Error("Usage: client.addUserKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof c||(d=c,c=null);var e={acl:b};return c&&(e.validity=c.validity,e.maxQueriesPerIPPerHour=c.maxQueriesPerIPPerHour,e.maxHitsPerQuery=c.maxHitsPerQuery,e.indexes=c.indexes,e.description=c.description,c.queryParameters&&(e.queryParameters=this._getSearchParams(c.queryParameters,"")),e.referers=c.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:e,hostType:"write",callback:d})},d.prototype.addUserKeyWithValidity=g(function(a,b,c){return this.addUserKey(a,b,c)},h("client.addUserKeyWithValidity()","client.addUserKey()")),d.prototype.updateUserKey=function(b,c,d,e){if(!a(10)(c))throw new Error("Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof d||(e=d,d=null);var f={acl:c};return d&&(f.validity=d.validity,f.maxQueriesPerIPPerHour=d.maxQueriesPerIPPerHour,f.maxHitsPerQuery=d.maxHitsPerQuery,f.indexes=d.indexes,f.description=d.description,d.queryParameters&&(f.queryParameters=this._getSearchParams(d.queryParameters,"")),f.referers=d.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+b,body:f,hostType:"write",callback:e})},d.prototype.startQueriesBatch=g(function(){this._batch=[]},h("client.startQueriesBatch()","client.search()")),d.prototype.addQueryInBatch=g(function(a,b,c){this._batch.push({indexName:a,query:b,params:c})},h("client.addQueryInBatch()","client.search()")),d.prototype.sendQueriesBatch=g(function(a){return this.search(this._batch,a)},h("client.sendQueriesBatch()","client.search()")),d.prototype.batch=function(b,c){if(!a(10)(b))throw new Error("Usage: client.batch(operations[, callback])");return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:b},hostType:"write",callback:c})},d.prototype.destroy=e,d.prototype.enableRateLimitForward=e,d.prototype.disableRateLimitForward=e,d.prototype.useSecuredAPIKey=e,d.prototype.disableSecuredAPIKey=e,d.prototype.generateSecuredApiKey=e},{10:10,13:13,14:14,23:23,24:24,25:25,26:26,9:9}],13:[function(a,b,c){function d(b,c,d){var f=a(3)("algoliasearch"),h=a(23),j=a(10),k=a(28),l="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==d._allowEmptyCredentials&&!b)throw new i.AlgoliaSearchError("Please provide an application ID. "+l);if(!0!==d._allowEmptyCredentials&&!c)throw new i.AlgoliaSearchError("Please provide an API key. "+l);this.applicationID=b,this.apiKey=c;var m=g([this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"]);this.hosts={read:[],write:[]},this.hostIndex={read:0,write:0},d=d||{};var n=d.protocol||"https:",o=void 0===d.timeout?2e3:d.timeout;if(/:$/.test(n)||(n+=":"),"http:"!==d.protocol&&"https:"!==d.protocol)throw new i.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+d.protocol+"`)");d.hosts?j(d.hosts)?(this.hosts.read=h(d.hosts),this.hosts.write=h(d.hosts)):(this.hosts.read=h(d.hosts.read),this.hosts.write=h(d.hosts.write)):(this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(m),this.hosts.write=[this.applicationID+".algolia.net"].concat(m)),this.hosts.read=k(this.hosts.read,e(n)),this.hosts.write=k(this.hosts.write,e(n)),this.requestTimeout=o,this.extraHeaders=[],this.cache=d._cache||{},this._ua=d._ua,this._useCache=!(void 0!==d._useCache&&!d._cache)||d._useCache,this._useFallback=void 0===d.useFallback||d.useFallback,this._setTimeout=d._setTimeout,f("init done, %j",this)}function e(a){return function(b){return a+"//"+b.toLowerCase()}}function f(a){if(void 0===Array.prototype.toJSON)return JSON.stringify(a);var b=Array.prototype.toJSON;delete Array.prototype.toJSON;var c=JSON.stringify(a);return Array.prototype.toJSON=b,c}function g(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}function h(a){var b={};for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d;d="x-algolia-api-key"===c||"x-algolia-application-id"===c?"**hidden for security purposes**":a[c],b[c]=d}return b}b.exports=d;var i=a(26),j=a(27),k=a(16);d.prototype.initIndex=function(a){return new k(this,a)},d.prototype.setExtraHeader=function(a,b){this.extraHeaders.push({name:a.toLowerCase(),value:b})},d.prototype.addAlgoliaAgent=function(a){this._ua+=";"+a},d.prototype._jsonRequest=function(b){function c(a,j){function q(a){var b=a&&a.body&&a.body.message&&a.body.status||a.statusCode||a&&a.body&&200;g("received response: statusCode: %s, computed statusCode: %d, headers: %j",a.statusCode,b,a.headers);var c=2===Math.floor(b/100),f=new Date;if(p.push({currentHost:w,headers:h(e),content:d||null,contentLength:void 0!==d?d.length:null,method:j.method,timeout:j.timeout,url:j.url,startTime:v,endTime:f,duration:f-v,statusCode:b}),c)return l._useCache&&k&&(k[u]=a.responseText),a.body;if(4!==Math.floor(b/100))return m+=1,s();g("unrecoverable error");var n=new i.AlgoliaSearchError(a.body&&a.body.message,{debugData:p,statusCode:b});return l._promise.reject(n)}function r(a){g("error: %s, stack: %s",a.message,a.stack);var c=new Date;return p.push({currentHost:w,headers:h(e),content:d||null,contentLength:void 0!==d?d.length:null,method:j.method,timeout:j.timeout,url:j.url,startTime:v,endTime:c,duration:c-v}),a instanceof i.AlgoliaSearchError||(a=new i.Unknown(a&&a.message,a)),m+=1,a instanceof i.Unknown||a instanceof i.UnparsableJSON||m>=l.hosts[b.hostType].length&&(n||!o)?(a.debugData=p,l._promise.reject(a)):a instanceof i.RequestTimeout?t():s()}function s(){return g("retrying request"),l.hostIndex[b.hostType]=(l.hostIndex[b.hostType]+1)%l.hosts[b.hostType].length,c(a,j)}function t(){return g("retrying request with higher timeout"),l.hostIndex[b.hostType]=(l.hostIndex[b.hostType]+1)%l.hosts[b.hostType].length,j.timeout=l.requestTimeout*(m+1),c(a,j)}var u,v=new Date;if(l._useCache&&(u=b.url),l._useCache&&d&&(u+="_body_"+j.body),l._useCache&&k&&void 0!==k[u])return g("serving response from cache"),l._promise.resolve(JSON.parse(k[u]));if(m>=l.hosts[b.hostType].length)return!o||n?(g("could not get any response"),l._promise.reject(new i.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+l.applicationID,{debugData:p}))):(g("switching to fallback"),m=0,j.method=b.fallback.method,j.url=b.fallback.url,j.jsonBody=b.fallback.body,j.jsonBody&&(j.body=f(j.jsonBody)),e=l._computeRequestHeaders(),j.timeout=l.requestTimeout*(m+1),l.hostIndex[b.hostType]=0,n=!0,c(l._request.fallback,j));var w=l.hosts[b.hostType][l.hostIndex[b.hostType]],x=w+j.url,y={body:j.body,jsonBody:j.jsonBody,method:j.method,headers:e,timeout:j.timeout,debug:g};return g("method: %s, url: %s, headers: %j, timeout: %d",y.method,x,y.headers,y.timeout),a===l._request.fallback&&g("using fallback"),a.call(l,x,y).then(q,r)}var d,e,g=a(3)("algoliasearch:"+b.url),k=b.cache,l=this,m=0,n=!1,o=l._useFallback&&l._request.fallback&&b.fallback;this.apiKey.length>500&&void 0!==b.body&&(void 0!==b.body.params||void 0!==b.body.requests)?(b.body.apiKey=this.apiKey,e=this._computeRequestHeaders(!1)):e=this._computeRequestHeaders(),void 0!==b.body&&(d=f(b.body)),g("request start");var p=[],q=c(l._request,{url:b.url,method:b.method,body:d,jsonBody:b.body,timeout:l.requestTimeout*(m+1)});return b.callback?void q.then(function(a){j(function(){b.callback(null,a)},l._setTimeout||setTimeout)},function(a){j(function(){b.callback(a)},l._setTimeout||setTimeout)}):q},d.prototype._getSearchParams=function(a,b){if(void 0===a||null===a)return b;for(var c in a)null!==c&&void 0!==a[c]&&a.hasOwnProperty(c)&&(b+=""===b?"":"&",b+=c+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(a[c])?f(a[c]):a[c]));return b},d.prototype._computeRequestHeaders=function(b){var c=a(7),d={"x-algolia-agent":this._ua,"x-algolia-application-id":this.applicationID};return!1!==b&&(d["x-algolia-api-key"]=this.apiKey),this.userToken&&(d["x-algolia-usertoken"]=this.userToken),this.securityTags&&(d["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&c(this.extraHeaders,function(a){d[a.name]=a.value}),d},d.prototype.search=function(b,c,d){var e=a(10),f=a(28);if(!e(b))throw new Error("Usage: client.search(arrayOfQueries[, callback])");"function"==typeof c?(d=c,c={}):void 0===c&&(c={});var g=this,h={requests:f(b,function(a){var b="";return void 0!==a.query&&(b+="query="+encodeURIComponent(a.query)),{indexName:a.indexName,params:g._getSearchParams(a.params,b)}})},i=f(h.requests,function(a,b){return b+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(a.indexName)+"?"+a.params)}).join("&"),j="/1/indexes/*/queries";return void 0!==c.strategy&&(j+="?strategy="+c.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:j,body:h,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:i}},callback:d})},d.prototype.setSecurityTags=function(a){if("[object Array]"===Object.prototype.toString.call(a)){for(var b=[],c=0;c<a.length;++c)if("[object Array]"===Object.prototype.toString.call(a[c])){for(var d=[],e=0;e<a[c].length;++e)d.push(a[c][e]);b.push("("+d.join(",")+")")}else b.push(a[c]);a=b.join(",")}this.securityTags=a},d.prototype.setUserToken=function(a){this.userToken=a},d.prototype.clearCache=function(){this.cache={}},d.prototype.setRequestTimeout=function(a){a&&(this.requestTimeout=parseInt(a,10))}},{10:10,16:16,23:23,26:26,27:27,28:28,3:3,7:7}],14:[function(a,b,c){function d(){f.apply(this,arguments)}var e=a(9),f=a(16),g=a(24),h=a(25),i=a(27),j=a(26);b.exports=d,e(d,f),d.prototype.addObject=function(a,b,c){var d=this;return 1!==arguments.length&&"function"!=typeof b||(c=b,b=void 0),this.as._jsonRequest({method:void 0!==b?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(d.indexName)+(void 0!==b?"/"+encodeURIComponent(b):""),body:a,hostType:"write",callback:c})},d.prototype.addObjects=function(b,c){if(!a(10)(b))throw new Error("Usage: index.addObjects(arrayOfObjects[, callback])");for(var d=this,e={requests:[]},f=0;f<b.length;++f){var g={action:"addObject",body:b[f]};e.requests.push(g)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(d.indexName)+"/batch",body:e,hostType:"write",callback:c})},d.prototype.partialUpdateObject=function(a,b,c){1!==arguments.length&&"function"!=typeof b||(c=b,b=void 0);var d=this,e="/1/indexes/"+encodeURIComponent(d.indexName)+"/"+encodeURIComponent(a.objectID)+"/partial";return!1===b&&(e+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:e,body:a,hostType:"write",callback:c})},d.prototype.partialUpdateObjects=function(b,c){if(!a(10)(b))throw new Error("Usage: index.partialUpdateObjects(arrayOfObjects[, callback])");for(var d=this,e={requests:[]},f=0;f<b.length;++f){var g={action:"partialUpdateObject",objectID:b[f].objectID,body:b[f]};e.requests.push(g)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(d.indexName)+"/batch",body:e,hostType:"write",callback:c})},d.prototype.saveObject=function(a,b){var c=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/"+encodeURIComponent(a.objectID),body:a,hostType:"write",callback:b})},d.prototype.saveObjects=function(b,c){if(!a(10)(b))throw new Error("Usage: index.saveObjects(arrayOfObjects[, callback])");for(var d=this,e={requests:[]},f=0;f<b.length;++f){var g={action:"updateObject",objectID:b[f].objectID,body:b[f]};e.requests.push(g)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(d.indexName)+"/batch",body:e,hostType:"write",callback:c})},d.prototype.deleteObject=function(a,b){if("function"==typeof a||"string"!=typeof a&&"number"!=typeof a){var c=new j.AlgoliaSearchError("Cannot delete an object without an objectID");return b=a,"function"==typeof b?b(c):this.as._promise.reject(c)}var d=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(d.indexName)+"/"+encodeURIComponent(a),hostType:"write",callback:b})},d.prototype.deleteObjects=function(b,c){var d=a(10),e=a(28);if(!d(b))throw new Error("Usage: index.deleteObjects(arrayOfObjectIDs[, callback])");var f=this,g={requests:e(b,function(a){return{action:"deleteObject",objectID:a,body:{objectID:a}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(f.indexName)+"/batch",body:g,hostType:"write",callback:c})},d.prototype.deleteByQuery=function(b,c,d){function e(a){if(0===a.nbHits)return a;var b=l(a.hits,function(a){return a.objectID});return m.deleteObjects(b).then(f).then(g)}function f(a){return m.waitTask(a.taskID)}function g(){return m.deleteByQuery(b,c)}function h(){i(function(){d(null)},n._setTimeout||setTimeout)}function j(a){i(function(){d(a)},n._setTimeout||setTimeout)}var k=a(23),l=a(28),m=this,n=m.as;1===arguments.length||"function"==typeof c?(d=c,c={}):c=k(c),c.attributesToRetrieve="objectID",c.hitsPerPage=1e3,c.distinct=!1,this.clearCache();var o=this.search(b,c).then(e);return d?void o.then(h,j):o},d.prototype.browseAll=function(b,c){function d(a){if(!h._stopped){var b;b=void 0!==a?"cursor="+encodeURIComponent(a):k,i._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(j.indexName)+"/browse?"+b,hostType:"read",callback:e})}}function e(a,b){if(!h._stopped)return a?void h._error(a):(h._result(b),void 0===b.cursor?void h._end():void d(b.cursor))}"object"==typeof b&&(c=b,b=void 0);var f=a(29),g=a(15),h=new g,i=this.as,j=this,k=i._getSearchParams(f({},c||{},{query:b}),"");return d(),h},d.prototype.ttAdapter=function(a){var b=this;return function(c,d,e){var f;f="function"==typeof e?e:d,b.search(c,a,function(a,b){return a?void f(a):void f(b.hits)})}},d.prototype.waitTask=function(a,b){function c(){return k._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(j.indexName)+"/task/"+a}).then(function(a){h++;var b=f*h*h;return b>g&&(b=g),"published"!==a.status?k._promise.delay(b).then(c):a})}function d(a){i(function(){b(null,a)},k._setTimeout||setTimeout)}function e(a){i(function(){b(a)},k._setTimeout||setTimeout)}var f=100,g=5e3,h=0,j=this,k=j.as,l=c();return b?void l.then(d,e):l},d.prototype.clearIndex=function(a){var b=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(b.indexName)+"/clear",hostType:"write",callback:a})},d.prototype.getSettings=function(a){var b=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(b.indexName)+"/settings?getVersion=2",hostType:"read",callback:a})},d.prototype.searchSynonyms=function(a,b){return"function"==typeof a?(b=a,a={}):void 0===a&&(a={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:a,hostType:"read",callback:b})},d.prototype.saveSynonym=function(a,b,c){return"function"==typeof b?(c=b,b={}):void 0===b&&(b={}),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(a.objectID)+"?forwardToSlaves="+(b.forwardToSlaves?"true":"false"),body:a,hostType:"write",callback:c})},d.prototype.getSynonym=function(a,b){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(a),hostType:"read",callback:b})},d.prototype.deleteSynonym=function(a,b,c){return"function"==typeof b?(c=b,b={}):void 0===b&&(b={}),this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(a)+"?forwardToSlaves="+(b.forwardToSlaves?"true":"false"),hostType:"write",callback:c})},d.prototype.clearSynonyms=function(a,b){return"function"==typeof a?(b=a,a={}):void 0===a&&(a={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToSlaves="+(a.forwardToSlaves?"true":"false"),hostType:"write",callback:b})},d.prototype.batchSynonyms=function(a,b,c){return"function"==typeof b?(c=b,b={}):void 0===b&&(b={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToSlaves="+(b.forwardToSlaves?"true":"false")+"&replaceExistingSynonyms="+(b.replaceExistingSynonyms?"true":"false"),hostType:"write",body:a,callback:c})},d.prototype.setSettings=function(a,b,c){1!==arguments.length&&"function"!=typeof b||(c=b,b={});var d=b.forwardToSlaves||!1,e=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(e.indexName)+"/settings?forwardToSlaves="+(d?"true":"false"),hostType:"write",body:a,callback:c})},d.prototype.listUserKeys=function(a){var b=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(b.indexName)+"/keys",hostType:"read",callback:a})},d.prototype.getUserKeyACL=function(a,b){var c=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/keys/"+a,hostType:"read",callback:b})},d.prototype.deleteUserKey=function(a,b){var c=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/keys/"+a,hostType:"write",callback:b})},d.prototype.addUserKey=function(b,c,d){if(!a(10)(b))throw new Error("Usage: index.addUserKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof c||(d=c,c=null);var e={acl:b};return c&&(e.validity=c.validity,e.maxQueriesPerIPPerHour=c.maxQueriesPerIPPerHour,e.maxHitsPerQuery=c.maxHitsPerQuery,e.description=c.description,c.queryParameters&&(e.queryParameters=this.as._getSearchParams(c.queryParameters,"")),e.referers=c.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:e,hostType:"write",callback:d})},d.prototype.addUserKeyWithValidity=g(function(a,b,c){return this.addUserKey(a,b,c)},h("index.addUserKeyWithValidity()","index.addUserKey()")),d.prototype.updateUserKey=function(b,c,d,e){if(!a(10)(c))throw new Error("Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof d||(e=d,d=null);var f={acl:c};return d&&(f.validity=d.validity,f.maxQueriesPerIPPerHour=d.maxQueriesPerIPPerHour,f.maxHitsPerQuery=d.maxHitsPerQuery,f.description=d.description,d.queryParameters&&(f.queryParameters=this.as._getSearchParams(d.queryParameters,"")),f.referers=d.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+b,body:f,hostType:"write",callback:e})}},{10:10,15:15,16:16,23:23,24:24,25:25,26:26,27:27,28:28,29:29,9:9}],15:[function(a,b,c){"use strict";function d(){}b.exports=d,a(9)(d,a(6).EventEmitter),d.prototype.stop=function(){this._stopped=!0,this._clean()},d.prototype._end=function(){this.emit("end"),this._clean()},d.prototype._error=function(a){this.emit("error",a),this._clean()},d.prototype._result=function(a){this.emit("result",a)},d.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{6:6,9:9}],16:[function(a,b,c){function d(a,b){this.indexName=b,this.as=a,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var e=a(22);b.exports=d,d.prototype.clearCache=function(){this.cache={}},d.prototype.search=e("query"),d.prototype.similarSearch=e("similarQuery"),d.prototype.browse=function(b,c,d){var e,f,g=a(29),h=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(e=0,d=arguments[0],b=void 0):"number"==typeof arguments[0]?(e=arguments[0],"number"==typeof arguments[1]?f=arguments[1]:"function"==typeof arguments[1]&&(d=arguments[1],f=void 0),b=void 0,c=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(d=arguments[1]),c=arguments[0],b=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(d=arguments[1],c=void 0),c=g({},c||{},{page:e,hitsPerPage:f,query:b});var i=this.as._getSearchParams(c,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(h.indexName)+"/browse?"+i,hostType:"read",callback:d})},d.prototype.browseFrom=function(a,b){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(a),hostType:"read",callback:b})},d.prototype._search=function(a,b,c){return this.as._jsonRequest({cache:this.cache,method:"POST",url:b||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:a},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:a}},callback:c})},d.prototype.getObject=function(a,b,c){var d=this;1!==arguments.length&&"function"!=typeof b||(c=b,b=void 0);var e="";if(void 0!==b){e="?attributes=";for(var f=0;f<b.length;++f)0!==f&&(e+=","),e+=b[f]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(d.indexName)+"/"+encodeURIComponent(a)+e,hostType:"read",callback:c})},d.prototype.getObjects=function(b,c,d){var e=a(10),f=a(28);if(!e(b))throw new Error("Usage: index.getObjects(arrayOfObjectIDs[, callback])");var g=this;1!==arguments.length&&"function"!=typeof c||(d=c,c=void 0);var h={requests:f(b,function(a){var b={indexName:g.indexName,objectID:a};return c&&(b.attributesToRetrieve=c.join(",")),b})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:h,callback:d})},d.prototype.as=null,d.prototype.indexName=null,d.prototype.typeAheadArgs=null,d.prototype.typeAheadValueOption=null},{10:10,22:22,28:28,29:29}],17:[function(a,b,c){"use strict";var d=a(12),e=a(18);b.exports=e(d)},{12:12,18:18}],18:[function(a,b,c){(function(c){"use strict";var d=a(8),e=d.Promise||a(5).Promise;b.exports=function(b,f){function g(b,c,d){var e=a(23),f=a(19);return d=e(d||{}),void 0===d.protocol&&(d.protocol=f()),d._ua=d._ua||g.ua,new h(b,c,d)}function h(){b.apply(this,arguments)}var i=a(9),j=a(26),k=a(20),l=a(21),m=a(30);f=f||"","debug"===c.env.NODE_ENV&&a(3).enable("algoliasearch*"),g.version=a(31),g.ua="Algolia for vanilla JavaScript "+f+g.version,g.initPlaces=m(g),d.__algolia={debug:a(3),algoliasearch:g};var n={hasXMLHttpRequest:"XMLHttpRequest"in d,hasXDomainRequest:"XDomainRequest"in d};return n.hasXMLHttpRequest&&(n.cors="withCredentials"in new XMLHttpRequest,n.timeout="timeout"in new XMLHttpRequest),i(h,b),h.prototype._request=function(a,b){return new e(function(c,d){function e(){if(!i){n.timeout||clearTimeout(h);var a;try{a={body:JSON.parse(m.responseText),responseText:m.responseText,statusCode:m.status,headers:m.getAllResponseHeaders&&m.getAllResponseHeaders()||{}}}catch(b){a=new j.UnparsableJSON({more:m.responseText})}a instanceof j.UnparsableJSON?d(a):c(a)}}function f(a){i||(n.timeout||clearTimeout(h),d(new j.Network({more:a})))}function g(){n.timeout||(i=!0,m.abort()),d(new j.RequestTimeout)}if(!n.cors&&!n.hasXDomainRequest)return void d(new j.Network("CORS not supported"));a=k(a,b.headers);var h,i,l=b.body,m=n.cors?new XMLHttpRequest:new XDomainRequest;m instanceof XMLHttpRequest?m.open(b.method,a,!0):m.open(b.method,a),n.cors&&(l&&("POST"===b.method?m.setRequestHeader("content-type","application/x-www-form-urlencoded"):m.setRequestHeader("content-type","application/json")),m.setRequestHeader("accept","application/json")),m.onprogress=function(){},m.onload=e,m.onerror=f,n.timeout?(m.timeout=b.timeout,m.ontimeout=g):h=setTimeout(g,b.timeout),m.send(l)})},h.prototype._request.fallback=function(a,b){return a=k(a,b.headers),new e(function(c,d){l(a,b,function(a,b){return a?void d(a):void c(b)})})},h.prototype._promise={reject:function(a){return e.reject(a)},resolve:function(a){return e.resolve(a)},delay:function(a){return new e(function(b){setTimeout(b,a)})}},g}}).call(this,a(2))},{19:19,2:2,20:20,21:21,23:23,26:26,3:3,30:30,31:31,5:5,8:8,9:9}],19:[function(a,b,c){"use strict";function d(){var a=window.document.location.protocol;return"http:"!==a&&"https:"!==a&&(a="http:"),a}b.exports=d},{}],20:[function(a,b,c){"use strict";function d(a,b){return(a+=/\?/.test(a)?"&":"?")+e(b)}b.exports=d;var e=a(11)},{11:11}],21:[function(a,b,c){"use strict";function d(a,b,c){function d(){b.debug("JSONP: success"),q||m||(q=!0,l||(b.debug("JSONP: Fail. Script loaded but did not call the callback"),h(),c(new e.JSONPScriptFail)))}function g(){"loaded"!==this.readyState&&"complete"!==this.readyState||d()}function h(){clearTimeout(r),o.onload=null,o.onreadystatechange=null,o.onerror=null,n.removeChild(o)}function i(){try{delete window[p],delete window[p+"_loaded"]}catch(a){window[p]=window[p+"_loaded"]=void 0}}function j(){b.debug("JSONP: Script timeout"),m=!0,h(),c(new e.RequestTimeout)}function k(){b.debug("JSONP: Script error"),q||m||(h(),c(new e.JSONPScriptError))}if("GET"!==b.method)return void c(new Error("Method "+b.method+" "+a+" is not supported by JSONP."));b.debug("JSONP: start");var l=!1,m=!1;f+=1;var n=document.getElementsByTagName("head")[0],o=document.createElement("script"),p="algoliaJSONP_"+f,q=!1;window[p]=function(a){return i(),m?void b.debug("JSONP: Late answer, ignoring"):(l=!0,h(),void c(null,{body:a}))},a+="&callback="+p,b.jsonBody&&b.jsonBody.params&&(a+="&"+b.jsonBody.params);var r=setTimeout(j,b.timeout);o.onreadystatechange=g,o.onload=d,o.onerror=k,o.async=!0,o.defer=!0,o.src=a,n.appendChild(o)}b.exports=d;var e=a(26),f=0},{26:26}],22:[function(a,b,c){function d(a,b){return function(c,d,f){if("function"==typeof c&&"object"==typeof d||"object"==typeof f)throw new e.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof c?(f=c,c=""):1!==arguments.length&&"function"!=typeof d||(f=d,d=void 0),"object"==typeof c&&null!==c?(d=c,c=void 0):void 0!==c&&null!==c||(c="");var g="";return void 0!==c&&(g+=a+"="+encodeURIComponent(c)),void 0!==d&&(g=this.as._getSearchParams(d,g)),this._search(g,b,f)}}b.exports=d;var e=a(26)},{26:26}],23:[function(a,b,c){b.exports=function(a){return JSON.parse(JSON.stringify(a))}},{}],24:[function(a,b,c){b.exports=function(a,b){function c(){return d||(console.log(b),d=!0),a.apply(this,arguments)}var d=!1;return c}},{}],25:[function(a,b,c){b.exports=function(a,b){return"algoliasearch: `"+a+"` was replaced by `"+b+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+a.toLowerCase().replace(".","").replace("()","")}},{}],26:[function(a,b,c){"use strict";function d(b,c){var d=a(7),e=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):e.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=b||"Unknown error",c&&d(c,function(a,b){e[b]=a})}function e(a,b){function c(){var c=Array.prototype.slice.call(arguments,0);"string"!=typeof c[0]&&c.unshift(b),d.apply(this,c),this.name="AlgoliaSearch"+a+"Error"}return f(c,d),c}var f=a(9);f(d,Error),b.exports={AlgoliaSearchError:d,UnparsableJSON:e("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:e("RequestTimeout","Request timedout before getting a response"),Network:e("Network","Network issue, see err.more for details"),JSONPScriptFail:e("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:e("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:e("Unknown","Unknown error occured")}},{7:7,9:9}],27:[function(a,b,c){b.exports=function(a,b){b(a,0)}},{}],28:[function(a,b,c){var d=a(7);b.exports=function(a,b){var c=[];return d(a,function(d,e){c.push(b(d,e,a))}),c}},{7:7}],29:[function(a,b,c){var d=a(7);b.exports=function a(b){var c=Array.prototype.slice.call(arguments);return d(c,function(c){for(var d in c)c.hasOwnProperty(d)&&("object"==typeof b[d]&&"object"==typeof c[d]?b[d]=a({},b[d],c[d]):void 0!==c[d]&&(b[d]=c[d]))}),b}},{7:7}],30:[function(a,b,c){function d(b){return function(c,d,f){var g=a(23);f=f&&g(f)||{},
f.hosts=f.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof c&&void 0!==c||(c="",d="",f._allowEmptyCredentials=!0);var h=b(c,d,f),i=h.initIndex("places");return i.search=e("query","/1/places/query"),i}}b.exports=d;var e=a(22)},{22:22,23:23}],31:[function(a,b,c){"use strict";b.exports="3.18.1"},{}]},{},[17])(17)}),function(a,b){"use strict";a.module("smart-table",[]).run(["$templateCache",function(a){a.put("template/smart-table/pagination.html",'<nav ng-if="numPages && pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a href="#" ng-click="selectPage(page); $event.preventDefault(); $event.stopPropagation();">{{page}}</a></li></ul></nav>')}]),a.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400,inputEvent:"input",trimSearch:!1},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",descendingFirst:!1,skipNatural:!1,delay:300},pipe:{delay:100}}),a.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function(c,d,e,f){function g(a){return a?[].concat(a):[]}function h(){r=g(j(c)),!0===t&&u.pipe()}function i(a,b){if(-1!=b.indexOf(".")){var c=b.split("."),e=c.pop(),f=c.join("."),g=d(f)(a);delete g[e],0==Object.keys(g).length&&i(a,f)}else delete a[b]}var j,k,l,m=f.stTable,n=d(m),o=n.assign,p=e("orderBy"),q=e("filter"),r=g(n(c)),s={sort:{},search:{},pagination:{start:0,totalItemCount:0}},t=!0,u=this;f.stSafeSrc&&(j=d(f.stSafeSrc),c.$watch(function(){var a=j(c);return a&&a.length?a[0]:b},function(a,b){a!==b&&h()}),c.$watch(function(){var a=j(c);return a?a.length:0},function(a,b){a!==r.length&&h()}),c.$watch(function(){return j(c)},function(a,b){a!==b&&(s.pagination.start=0,h())})),this.sortBy=function(b,c){return s.sort.predicate=b,s.sort.reverse=!0===c,a.isFunction(b)?s.sort.functionName=b.name:delete s.sort.functionName,s.pagination.start=0,this.pipe()},this.search=function(a,b,c){var e=s.search.predicateObject||{},f=b||"$";return d(f).assign(e,a),a||i(e,f),s.search.predicateObject=e,s.pagination.start=0,this.pipe()},this.pipe=function(){var a,d=s.pagination;k=s.search.predicateObject?q(r,s.search.predicateObject):r,s.sort.predicate&&(k=p(k,s.sort.predicate,s.sort.reverse)),d.totalItemCount=k.length,d.number!==b&&(d.numberOfPages=k.length>0?Math.ceil(k.length/d.number):1,d.start=d.start>=k.length?(d.numberOfPages-1)*d.number:d.start,a=k.slice(d.start,d.start+parseInt(d.number))),o(c,a||k)},this.select=function(a,d){var e=g(n(c)),f=e.indexOf(a);-1!==f&&("single"===d?(a.isSelected=!0!==a.isSelected,l&&(l.isSelected=!1),l=!0===a.isSelected?a:b):e[f].isSelected=!e[f].isSelected)},this.slice=function(a,b){return s.pagination.start=a,s.pagination.number=b,this.pipe()},this.tableState=function(){return s},this.getFilteredCollection=function(){return k||r},this.setFilterFunction=function(a){q=e(a)},this.setSortFunction=function(a){p=e(a)},this.preventPipeOnWatch=function(){t=!1}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(a,b,c,d){c.stSetFilter&&d.setFilterFunction(c.stSetFilter),c.stSetSort&&d.setSortFunction(c.stSetSort)}}}),a.module("smart-table").directive("stSearch",["stConfig","$timeout","$parse",function(b,c,d){return{require:"^stTable",link:function(e,f,g,h){var i=h,j=null,k=g.stDelay||b.search.delay,l=g.stInputEvent||b.search.inputEvent,m=g.trimSearch||b.search.trimSearch;g.$observe("stSearch",function(b,c){var d=f[0].value;b!==c&&d&&(h.tableState().search={},d=a.isString(d)&&m?d.trim():d,i.search(d,b))}),e.$watch(function(){return h.tableState().search},function(a,b){var c=g.stSearch||"$";a.predicateObject&&d(c)(a.predicateObject)!==f[0].value&&(f[0].value=d(c)(a.predicateObject)||"")},!0),f.bind(l,function(b){b=b.originalEvent||b,null!==j&&c.cancel(j),j=c(function(){var c=b.target.value;c=a.isString(c)&&m?c.trim():c,i.search(c,g.stSearch||""),j=null},k)})}}}]),a.module("smart-table").directive("stSelectRow",["stConfig",function(a){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(b,c,d,e){var f=d.stSelectMode||a.select.mode;c.bind("click",function(){b.$apply(function(){e.select(b.row,f)})}),b.$watch("row.isSelected",function(b){!0===b?c.addClass(a.select.selectedClass):c.removeClass(a.select.selectedClass)})}}}]),a.module("smart-table").directive("stSort",["stConfig","$parse","$timeout",function(c,d,e){return{restrict:"A",require:"^stTable",link:function(f,g,h,i){function j(){s?n=0===n?2:n-1:n++;var b;l=a.isFunction(m(f))||a.isArray(m(f))?m(f):h.stSort,n%3==0&&1!=!!r?(n=0,i.tableState().sort={},i.tableState().pagination.start=0,b=i.pipe.bind(i)):b=i.sortBy.bind(i,l,n%2==0),null!==t&&e.cancel(t),u<0?b():t=e(function(){b()},u)}var k,l=h.stSort,m=d(l),n=0,o=h.stClassAscent||c.sort.ascentClass,p=h.stClassDescent||c.sort.descentClass,q=[o,p],r=h.stSkipNatural!==b?h.stSkipNatural:c.sort.skipNatural,s=h.stDescendingFirst!==b?h.stDescendingFirst:c.sort.descendingFirst,t=null,u=h.stDelay||c.sort.delay,v="aria-sort";g.attr("role","columnheader").attr(v,"none"),h.stSortDefault&&(k=f.$eval(h.stSortDefault)!==b?f.$eval(h.stSortDefault):h.stSortDefault),g.bind("click",function(){l&&f.$apply(j)}),k&&(n="reverse"===k?1:0,j()),f.$watch(function(){return i.tableState().sort},function(a){a.predicate!==l?(n=0,g.removeClass(o).removeClass(p).attr(v,"none")):(n=!0===a.reverse?2:1,g.removeClass(q[n%2]).addClass(q[n-1]).attr(v,a.reverse?"ascending":"descending"))},!0)}}}]),a.module("smart-table").directive("stPagination",["stConfig",function(a){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(b,c){return c.stTemplate?c.stTemplate:a.pagination.template},link:function(b,c,d,e){function f(){var a,c,d=e.tableState().pagination,f=1,g=b.currentPage;for(b.totalItemCount=d.totalItemCount,b.currentPage=Math.floor(d.start/d.number)+1,(a=(f=Math.max(f,b.currentPage-Math.abs(Math.floor(b.stDisplayedPages/2))))+b.stDisplayedPages)>d.numberOfPages&&(a=d.numberOfPages+1,f=Math.max(1,a-b.stDisplayedPages)),b.pages=[],b.numPages=d.numberOfPages,c=f;c<a;c++)b.pages.push(c);g!==b.currentPage&&b.stPageChange({newPage:b.currentPage})}b.stItemsByPage=b.stItemsByPage?+b.stItemsByPage:a.pagination.itemsByPage,b.stDisplayedPages=b.stDisplayedPages?+b.stDisplayedPages:a.pagination.displayedPages,b.currentPage=1,b.pages=[],b.$watch(function(){return e.tableState().pagination},f,!0),b.$watch("stItemsByPage",function(a,c){a!==c&&b.selectPage(1)}),b.$watch("stDisplayedPages",f),b.selectPage=function(a){a>0&&a<=b.numPages&&e.slice((a-1)*b.stItemsByPage,b.stItemsByPage)},e.tableState().pagination.number||e.slice(0,b.stItemsByPage)}}}]),a.module("smart-table").directive("stPipe",["stConfig","$timeout",function(b,c){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(d,e,f,g){var h=null;a.isFunction(d.stPipe)&&(g.preventPipeOnWatch(),g.pipe=function(){return null!==h&&c.cancel(h),h=c(function(){d.stPipe(g.tableState(),g)},b.pipe.delay)})},post:function(a,b,c,d){d.pipe()}}}}])}(angular),function(a,b){var c=b.isDefined,d=b.isUndefined,e=b.isNumber,f=b.isObject,g=b.isArray,h=b.extend,i=b.toJson;b.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.defaultToCookie=!0,this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){return this.prefix=a,this},this.setStorageType=function(a){return this.storageType=a,this},this.setDefaultToCookie=function(a){return this.defaultToCookie=!!a,this},this.setStorageCookie=function(a,b){return this.cookie.expiry=a,this.cookie.path=b,this},this.setStorageCookieDomain=function(a){return this.cookie.domain=a,this},this.setNotify=function(a,b){return this.notify={setItem:a,removeItem:b},this},this.$get=["$rootScope","$window","$document","$parse","$timeout",function(a,b,j,k,l){function m(c){if(c||(c=b.event),r.setItem&&v(c.key)){var d=u(c.key);l(function(){a.$broadcast("LocalStorageModule.notification.changed",{key:d,newvalue:c.newValue,storageType:o.storageType})})}}var n,o=this,p=o.prefix,q=o.cookie,r=o.notify,s=o.storageType;j?j[0]&&(j=j[0]):j=document,"."!==p.substr(-1)&&(p=p?p+".":"");var t=function(a){return p+a},u=function(a){return a.replace(new RegExp("^"+p,"g"),"")},v=function(a){return 0===a.indexOf(p)},w=function(){try{var c=s in b&&null!==b[s],d=t("__"+Math.round(1e7*Math.random()));return c&&(n=b[s],n.setItem(d,""),n.removeItem(d)),c}catch(b){return o.defaultToCookie&&(s="cookie"),a.$broadcast("LocalStorageModule.notification.error",b.message),!1}},x=w(),y=function(b,c,e){if(J(e),c=d(c)?null:i(c),!x&&o.defaultToCookie||"cookie"===o.storageType)return x||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),r.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),E(b,c);try{n&&n.setItem(t(b),c),r.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:o.storageType})}catch(d){return a.$broadcast("LocalStorageModule.notification.error",d.message),E(b,c)}return!0},z=function(b,c){if(J(c),!x&&o.defaultToCookie||"cookie"===o.storageType)return x||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),F(b);var d=n?n.getItem(t(b)):null;if(!d||"null"===d)return null;try{return JSON.parse(d)}catch(a){return d}},A=function(){var b=0;arguments.length>=1&&("localStorage"===arguments[arguments.length-1]||"sessionStorage"===arguments[arguments.length-1])&&(b=1,J(arguments[arguments.length-1]));var c,d;for(c=0;c<arguments.length-b;c++)if(d=arguments[c],!x&&o.defaultToCookie||"cookie"===o.storageType)x||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),r.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:d,storageType:"cookie"}),G(d);else try{n.removeItem(t(d)),r.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:d,storageType:o.storageType})}catch(b){a.$broadcast("LocalStorageModule.notification.error",b.message),G(d)}},B=function(b){if(J(b),!x)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var c=p.length,d=[];for(var e in n)if(e.substr(0,c)===p)try{d.push(e.substr(c))}catch(b){return a.$broadcast("LocalStorageModule.notification.error",b.Description),[]}return d},C=function(b,c){J(c);var d=p?new RegExp("^"+p):new RegExp,e=b?new RegExp(b):new RegExp;if(!x&&o.defaultToCookie||"cookie"===o.storageType)return x||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),H();if(!x&&!o.defaultToCookie)return!1;var f=p.length;for(var g in n)if(d.test(g)&&e.test(g.substr(f)))try{A(g.substr(f))}catch(b){return a.$broadcast("LocalStorageModule.notification.error",b.message),H()}return!0},D=function(){try{return b.navigator.cookieEnabled||"cookie"in j&&(j.cookie.length>0||(j.cookie="test").indexOf.call(j.cookie,"test")>-1)}catch(b){return a.$broadcast("LocalStorageModule.notification.error",b.message),!1}}(),E=function(b,c,h){if(d(c))return!1;if((g(c)||f(c))&&(c=i(c)),!D)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var k="",l=new Date,m="";if(null===c?(l.setTime(l.getTime()+-864e5),k="; expires="+l.toGMTString(),c=""):e(h)&&0!==h?(l.setTime(l.getTime()+24*h*60*60*1e3),k="; expires="+l.toGMTString()):0!==q.expiry&&(l.setTime(l.getTime()+24*q.expiry*60*60*1e3),k="; expires="+l.toGMTString()),b){var n="; path="+q.path;q.domain&&(m="; domain="+q.domain),j.cookie=t(b)+"="+encodeURIComponent(c)+k+n+m}}catch(b){return a.$broadcast("LocalStorageModule.notification.error",b.message),!1}return!0},F=function(b){if(!D)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var c=j.cookie&&j.cookie.split(";")||[],d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t(b)+"=")){var f=decodeURIComponent(e.substring(p.length+b.length+1,e.length));try{return JSON.parse(f)}catch(a){return f}}}return null},G=function(a){E(a,null)},H=function(){for(var a=null,b=p.length,c=j.cookie.split(";"),d=0;d<c.length;d++){for(a=c[d];" "===a.charAt(0);)a=a.substring(1,a.length);var e=a.substring(b,a.indexOf("="));G(e)}},I=function(){return s},J=function(a){return a&&s!==a&&(s=a,x=w()),x},K=function(a,b,d,e,g){e=e||b;var i=z(e,g);return null===i&&c(d)?i=d:f(i)&&f(d)&&(i=h(i,d)),k(b).assign(a,i),a.$watch(b,function(a){y(e,a,g)},f(a[b]))};return x&&(b.addEventListener?b.addEventListener("storage",m,!1):b.attachEvent&&b.attachEvent("onstorage",m)),{isSupported:x,getStorageType:I,setStorageType:J,set:y,add:y,get:z,keys:B,remove:A,clearAll:C,bind:K,deriveKey:t,underiveKey:u,length:function(a){J(a);for(var c=0,d=b[s],e=0;e<d.length;e++)0===d.key(e).indexOf(p)&&c++;return c},defaultToCookie:this.defaultToCookie,cookie:{isSupported:D,set:E,add:E,get:F,remove:G,clearAll:H}}}]})}(window,window.angular),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("auth0-js",[],b):"object"==typeof exports?exports["auth0-js"]=b():a.auth0=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(60)},function(a,b,c){function d(a,b){return b.reduce(function(b,c){return a[c]&&(b[c]=a[c]),b},{})}function e(a,b){var c=[];for(var d in a)-1===b.indexOf(d)&&c.push(d);return c}function f(a){var b=[];for(var c in a)b.push(a[c]);return b}function g(){var a=f(arguments);return a.unshift({}),q.get().apply(void 0,a)}function h(a,b){return{base:b?d(a,b):a,with:function(a,b){return a=b?d(a,b):a,g(this.base,a)}}}function i(a,b){return Object.keys(a).reduce(function(c,d){return-1===b.indexOf(d)&&(c[d]=a[d]),c},{})}function j(a){for(var b,c="",d=0,e=!0,f=!0;d<a.length;)b=a.charCodeAt(d),!f&&b>=65&&b<=90||!e&&b>=48&&b<=57?(c+="_",c+=a[d].toLowerCase()):c+=a[d].toLowerCase(),e=b>=48&&b<=57,f=b>=65&&b<=90,d++;return c}function k(a){var b=a.split("_");return b.reduce(function(a,b){return a+b.charAt(0).toUpperCase()+b.slice(1)},b.shift())}function l(a,b){return"object"!=typeof a||p.isArray(a)||null===a?a:(b=b||[],Object.keys(a).reduce(function(c,d){return c[-1===b.indexOf(d)?j(d):d]=l(a[d]),c},{}))}function m(a,b){return"object"!=typeof a||p.isArray(a)||null===a?a:(b=b||[],Object.keys(a).reduce(function(c,d){return c[-1===b.indexOf(d)?k(d):d]=m(a[d]),c},{}))}function n(a){var b=a.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return b&&{href:a,protocol:b[1],host:b[2],hostname:b[3],port:b[4],pathname:b[5],search:b[6],hash:b[7]}}function o(a){if(a){var b=n(a),c=b.protocol+"//"+b.hostname;return b.port&&(c+=":"+b.port),c}}var p=c(4),q=c(15);a.exports={toSnakeCase:l,toCamelCase:m,blacklist:i,merge:h,pick:d,getKeysNotIn:e,extend:g,getOriginFromUrl:o,getLocationFromUrl:n}},function(a,b,c){(function(b){function d(a){b.window.location=a}function e(){return b.window.document}function f(){return b.window}function g(){var a=b.window.location,c=a.origin;return c||(c=h.getOriginFromUrl(a.href)),c}var h=c(1);a.exports={redirect:d,getDocument:e,getWindow:f,getOrigin:g}}).call(b,function(){return this}())},function(a,b,c){var d,e;!function(f,g,h){void 0!==a&&a.exports?a.exports=h():(d=h,void 0!==(e="function"==typeof d?d.call(b,c,b,a):d)&&(a.exports=e))}(0,0,function(){function a(a,b){return a=a.replace(/:\//g,"://"),a=a.replace(/([^:\s])\/+/g,"$1/"),a=a.replace(/\/(\?|&|#[^!])/g,"$1"),a=a.replace(/(\?.+)\?/g,"$1&")}return function(){var b=arguments,c={};return"object"==typeof arguments[0]&&(b=arguments[0],c=arguments[1]||{}),a([].slice.call(b,0).join("/"),c)}})},function(a,b){function c(a,b,c,d){if(c="array"===c?"object":c,a&&typeof a[b]!==c)throw new Error(d)}function d(a,b,c){if(typeof a!==b)throw new Error(c)}function e(a,b,c){if(-1===b.indexOf(a))throw new Error(c)}function f(a,b,f){if(b.optional&&!a||d(a,b.type,b.message),"object"===b.type&&f)for(var g=Object.keys(f),h=0;h<g.length;h++){var i=g[h];f[i].optional&&!a[i]||f[i].condition&&!f[i].condition(a)||(c(a,i,f[i].type,f[i].message),f[i].values&&e(a[i],f[i].values,f[i].value_message))}}function g(a){return this.supportsIsArray()?Array.isArray(a):"[object Array]"===i.call(a)}function h(){return null!=Array.isArray}var i=Object.prototype.toString;a.exports={check:f,attribute:c,variable:d,value:e,isArray:g,supportsIsArray:h}},function(a,b,c){function d(a,b){return b=b||{},b.ignoreCasing=!!b.ignoreCasing&&b.ignoreCasing,function(c,d){var g;return c||d?(!c&&d.err&&(c=d.err,d=null),!c&&d.error&&(c=d,d=null),c?(g={original:c},c.response&&c.response.statusCode&&(g.statusCode=c.response.statusCode),c.response&&c.response.statusText&&(g.statusText=c.response.statusText),c.response&&c.response.body&&(c=c.response.body),c.err&&(c=c.err),g.code=c.error||c.code||c.error_code||c.status||null,g.description=c.errorDescription||c.error_description||c.description||c.error||c.details||c.err||null,b.forceLegacyError&&(g.error=g.code,g.error_description=g.description),c.name&&(g.name=c.name),c.policy&&(g.policy=c.policy),a(g)):!d.type||"text/html"!==d.type&&"text/plain"!==d.type?b.ignoreCasing?a(null,d.body||d):a(null,f.toCamelCase(d.body||d)):a(null,d.text)):a(e.buildResponse("generic_error","Something went wrong"))}}var e=c(26),f=c(1);a.exports=d},function(a,b,c){"use strict";var d=c(14),e=c(13),f=c(8);a.exports={formats:f,parse:e,stringify:d}},function(a,b){function c(a){this.disableWarnings=a.disableWarnings}c.prototype.warning=function(a){this.disableWarnings||console.warn(a)},a.exports=c},function(a,b){"use strict";var c=String.prototype.replace,d=/%20/g;a.exports={default:"RFC3986",formatters:{RFC1738:function(a){return c.call(a,d,"+")},RFC3986:function(a){return a}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(a,b){"use strict";var c=Object.prototype.hasOwnProperty,d=function(){for(var a=[],b=0;b<256;++b)a.push("%"+((b<16?"0":"")+b.toString(16)).toUpperCase());return a}();b.arrayToObject=function(a,b){for(var c=b&&b.plainObjects?Object.create(null):{},d=0;d<a.length;++d)void 0!==a[d]&&(c[d]=a[d]);return c},b.merge=function(a,d,e){if(!d)return a;if("object"!=typeof d){if(Array.isArray(a))a.push(d);else{if("object"!=typeof a)return[a,d];(e.plainObjects||e.allowPrototypes||!c.call(Object.prototype,d))&&(a[d]=!0)}return a}if("object"!=typeof a)return[a].concat(d);var f=a;return Array.isArray(a)&&!Array.isArray(d)&&(f=b.arrayToObject(a,e)),Array.isArray(a)&&Array.isArray(d)?(d.forEach(function(d,f){c.call(a,f)?a[f]&&"object"==typeof a[f]?a[f]=b.merge(a[f],d,e):a.push(d):a[f]=d}),a):Object.keys(d).reduce(function(a,c){var f=d[c];return Object.prototype.hasOwnProperty.call(a,c)?a[c]=b.merge(a[c],f,e):a[c]=f,a},f)},b.decode=function(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}},b.encode=function(a){if(0===a.length)return a;for(var b="string"==typeof a?a:String(a),c="",e=0;e<b.length;++e){var f=b.charCodeAt(e);45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122?c+=b.charAt(e):f<128?c+=d[f]:f<2048?c+=d[192|f>>6]+d[128|63&f]:f<55296||f>=57344?c+=d[224|f>>12]+d[128|f>>6&63]+d[128|63&f]:(e+=1,f=65536+((1023&f)<<10|1023&b.charCodeAt(e)),c+=d[240|f>>18]+d[128|f>>12&63]+d[128|f>>6&63]+d[128|63&f])}return c},b.compact=function(a,c){if("object"!=typeof a||null===a)return a;var d=c||[],e=d.indexOf(a);if(-1!==e)return d[e];if(d.push(a),Array.isArray(a)){for(var f=[],g=0;g<a.length;++g)a[g]&&"object"==typeof a[g]?f.push(b.compact(a[g],d)):void 0!==a[g]&&f.push(a[g]);return f}return Object.keys(a).forEach(function(c){a[c]=b.compact(a[c],d)}),a},b.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},b.isBuffer=function(a){return null!==a&&void 0!==a&&!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))}},function(a,b,c){function d(a){this.request=a,this.method=a.method,this.url=a.url,this.body=a._data,this.headers=a._header}function e(a){this.request=a}function f(a){this._sendTelemetry=!1!==a._sendTelemetry||a._sendTelemetry,this._telemetryInfo=a._telemetryInfo||null,this._timesToRetryFailedRequests=a._timesToRetryFailedRequests,this.headers=a.headers||{}}var g=c(22),h=c(51),i=c(11);d.prototype.abort=function(){this.request.abort()},d.prototype.getMethod=function(){return this.method},d.prototype.getBody=function(){return this.body},d.prototype.getUrl=function(){return this.url},d.prototype.getHeaders=function(){return this.headers},e.prototype.set=function(a,b){return this.request=this.request.set(a,b),this},e.prototype.send=function(a){return this.request=this.request.send(a),this},e.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},e.prototype.end=function(a){return this.request=this.request.end(a),new d(this.request)},f.prototype.setCommonConfiguration=function(a,b){if(b=b||{},this._timesToRetryFailedRequests>0&&(a=a.retry(this._timesToRetryFailedRequests)),b.noHeaders)return a;var c=this.headers;a=a.set("Content-Type","application/json");for(var d=Object.keys(this.headers),e=0;e<d.length;e++)a=a.set(d[e],c[d[e]]);return this._sendTelemetry&&(a=a.set("Auth0-Client",this.getTelemetryData())),a},f.prototype.getTelemetryData=function(){var a=this._telemetryInfo||{name:"auth0.js",version:i.raw},b=JSON.stringify(a);return h.encode(b)},f.prototype.get=function(a,b){return new e(this.setCommonConfiguration(g.get(a),b))},f.prototype.post=function(a,b){return new e(this.setCommonConfiguration(g.post(a),b))},f.prototype.patch=function(a,b){return new e(this.setCommonConfiguration(g.patch(a),b))},a.exports=f},function(a,b){a.exports={raw:"9.5.1"}},function(a,b,c){!function(c,d){a.exports=b=d()}(0,function(){var a=a||function(a,b){var c=Object.create||function(){function a(){}return function(b){var c;return a.prototype=b,c=new a,a.prototype=null,c}}(),d={},e=d.lib={},f=e.Base=function(){return{extend:function(a){var b=c(this);return a&&b.mixIn(a),b.hasOwnProperty("init")&&this.init!==b.init||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),g=e.WordArray=f.extend({init:function(a,b){a=this.words=a||[],this.sigBytes=void 0!=b?b:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes,e=a.sigBytes;if(this.clamp(),d%4)for(var f=0;f<e;f++){var g=c[f>>>2]>>>24-f%4*8&255;b[d+f>>>2]|=g<<24-(d+f)%4*8}else for(var f=0;f<e;f+=4)b[d+f>>>2]=c[f>>>2];return this.sigBytes+=e,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8,b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c,d=[],e=0;e<b;e+=4){var f=function(b){var b=b,c=987654321,d=4294967295;return function(){c=36969*(65535&c)+(c>>16)&d,b=18e3*(65535&b)+(b>>16)&d;var e=(c<<16)+b&d;return e/=4294967296,(e+=.5)*(a.random()>.5?1:-1)}}(4294967296*(c||a.random()));c=987654071*f(),d.push(4294967296*f()|0)}return new g.init(d,b)}}),h=d.enc={},i=h.Hex={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;e<c;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push((f>>>4).toString(16)),d.push((15&f).toString(16))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;e<c;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push(String.fromCharCode(f))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-d%4*8;return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(a){throw new Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=e.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=4*f,i=e/h;i=b?a.ceil(i):a.max((0|i)-this._minBufferSize,0);var j=i*f,k=a.min(4*j,e);if(j){for(var l=0;l<j;l+=f)this._doProcessBlock(d,l);var m=d.splice(0,j);c.sigBytes-=k}return new g.init(m,k)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0}),m=(e.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}}),d.algo={});return d}(Math);return a})},function(a,b,c){"use strict";var d=c(9),e=Object.prototype.hasOwnProperty,f={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:d.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},g=function(a,b){for(var c={},d=a.split(b.delimiter,b.parameterLimit===1/0?void 0:b.parameterLimit),f=0;f<d.length;++f){var g,h,i=d[f],j=-1===i.indexOf("]=")?i.indexOf("="):i.indexOf("]=")+1;-1===j?(g=b.decoder(i),h=b.strictNullHandling?null:""):(g=b.decoder(i.slice(0,j)),h=b.decoder(i.slice(j+1))),e.call(c,g)?c[g]=[].concat(c[g]).concat(h):c[g]=h}return c},h=function(a,b,c){if(!a.length)return b;var d,e=a.shift();if("[]"===e)d=[],d=d.concat(h(a,b,c));else{d=c.plainObjects?Object.create(null):{};var f="["===e.charAt(0)&&"]"===e.charAt(e.length-1)?e.slice(1,-1):e,g=parseInt(f,10);!isNaN(g)&&e!==f&&String(g)===f&&g>=0&&c.parseArrays&&g<=c.arrayLimit?(d=[],d[g]=h(a,b,c)):d[f]=h(a,b,c)}return d},i=function(a,b,c){if(a){var d=c.allowDots?a.replace(/\.([^.[]+)/g,"[$1]"):a,f=/(\[[^[\]]*])/,g=/(\[[^[\]]*])/g,i=f.exec(d),j=i?d.slice(0,i.index):d,k=[];if(j){if(!c.plainObjects&&e.call(Object.prototype,j)&&!c.allowPrototypes)return;k.push(j)}for(var l=0;null!==(i=g.exec(d))&&l<c.depth;){if(l+=1,!c.plainObjects&&e.call(Object.prototype,i[1].slice(1,-1))&&!c.allowPrototypes)return;k.push(i[1])}return i&&k.push("["+d.slice(i.index)+"]"),h(k,b,c)}};a.exports=function(a,b){var c=b||{};if(null!==c.decoder&&void 0!==c.decoder&&"function"!=typeof c.decoder)throw new TypeError("Decoder has to be a function.");if(c.delimiter="string"==typeof c.delimiter||d.isRegExp(c.delimiter)?c.delimiter:f.delimiter,c.depth="number"==typeof c.depth?c.depth:f.depth,c.arrayLimit="number"==typeof c.arrayLimit?c.arrayLimit:f.arrayLimit,c.parseArrays=!1!==c.parseArrays,c.decoder="function"==typeof c.decoder?c.decoder:f.decoder,c.allowDots="boolean"==typeof c.allowDots?c.allowDots:f.allowDots,c.plainObjects="boolean"==typeof c.plainObjects?c.plainObjects:f.plainObjects,c.allowPrototypes="boolean"==typeof c.allowPrototypes?c.allowPrototypes:f.allowPrototypes,c.parameterLimit="number"==typeof c.parameterLimit?c.parameterLimit:f.parameterLimit,c.strictNullHandling="boolean"==typeof c.strictNullHandling?c.strictNullHandling:f.strictNullHandling,""===a||null===a||void 0===a)return c.plainObjects?Object.create(null):{};for(var e="string"==typeof a?g(a,c):a,h=c.plainObjects?Object.create(null):{},j=Object.keys(e),k=0;k<j.length;++k){var l=j[k],m=i(l,e[l],c);h=d.merge(h,m,c)}return d.compact(h)}},function(a,b,c){"use strict";var d=c(9),e=c(8),f={brackets:function(a){return a+"[]"},indices:function(a,b){return a+"["+b+"]"},repeat:function(a){return a}},g=Date.prototype.toISOString,h={delimiter:"&",encode:!0,encoder:d.encode,encodeValuesOnly:!1,serializeDate:function(a){return g.call(a)},skipNulls:!1,strictNullHandling:!1},i=function a(b,c,e,f,g,h,i,j,k,l,m,n){var o=b;if("function"==typeof i)o=i(c,o);else if(o instanceof Date)o=l(o);else if(null===o){if(f)return h&&!n?h(c):c;o=""}if("string"==typeof o||"number"==typeof o||"boolean"==typeof o||d.isBuffer(o)){if(h){return[m(n?c:h(c))+"="+m(h(o))]}return[m(c)+"="+m(String(o))]}var p=[];if(void 0===o)return p;var q;if(Array.isArray(i))q=i;else{var r=Object.keys(o);q=j?r.sort(j):r}for(var s=0;s<q.length;++s){var t=q[s];g&&null===o[t]||(p=Array.isArray(o)?p.concat(a(o[t],e(c,t),e,f,g,h,i,j,k,l,m,n)):p.concat(a(o[t],c+(k?"."+t:"["+t+"]"),e,f,g,h,i,j,k,l,m,n)))}return p};a.exports=function(a,b){var c=a,d=b||{};if(null!==d.encoder&&void 0!==d.encoder&&"function"!=typeof d.encoder)throw new TypeError("Encoder has to be a function.");var g=void 0===d.delimiter?h.delimiter:d.delimiter,j="boolean"==typeof d.strictNullHandling?d.strictNullHandling:h.strictNullHandling,k="boolean"==typeof d.skipNulls?d.skipNulls:h.skipNulls,l="boolean"==typeof d.encode?d.encode:h.encode,m="function"==typeof d.encoder?d.encoder:h.encoder,n="function"==typeof d.sort?d.sort:null,o=void 0!==d.allowDots&&d.allowDots,p="function"==typeof d.serializeDate?d.serializeDate:h.serializeDate,q="boolean"==typeof d.encodeValuesOnly?d.encodeValuesOnly:h.encodeValuesOnly;if(void 0===d.format)d.format=e.default;else if(!Object.prototype.hasOwnProperty.call(e.formatters,d.format))throw new TypeError("Unknown format option provided.");var r,s,t=e.formatters[d.format];"function"==typeof d.filter?(s=d.filter,c=s("",c)):Array.isArray(d.filter)&&(s=d.filter,r=s);var u=[];if("object"!=typeof c||null===c)return"";var v;v=d.arrayFormat in f?d.arrayFormat:"indices"in d?d.indices?"indices":"repeat":"indices";var w=f[v];r||(r=Object.keys(c)),n&&r.sort(n);for(var x=0;x<r.length;++x){var y=r[x];k&&null===c[y]||(u=u.concat(i(c[y],y,w,j,k,l?m:null,s,n,o,p,t,q)))}return u.join(g)}},function(a,b){function c(){return Object.assign?Object.assign:d}function d(a){"use strict";if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e=Object.keys(Object(d)),f=0,g=e.length;f<g;f++){var h=e[f],i=Object.getOwnPropertyDescriptor(d,h);void 0!==i&&i.enumerable&&(b[h]=d[h])}}return b}a.exports={get:c,objectAssignPolyfill:d}},function(a,b,c){var d,e=c(58),f=function(){return d||(d=new e),d};a.exports={getItem:function(a){var b=f().getItem(a);try{return JSON.parse(b)}catch(a){return b}},removeItem:function(a){return f().removeItem(a)},setItem:function(a,b,c){var d=JSON.stringify(b);return f().setItem(a,d,c)}}},function(a,b,c){function d(a,b){this.webAuth=a,this.baseOptions=b,this.request=new k(b),this.webMessageHandler=new l(a)}function e(a){var b=i.getWindow(),c="&"+b.location.hash.substring(1),d=c.split("&"+a+"=");if(2===d.length)return d.pop().split("&").shift()}function f(a,b){return["co/verifier",encodeURIComponent(a),encodeURIComponent(b)].join("/")}function g(a,b){try{var c=n.getItem(b);return n.removeItem(b),c||""}catch(a){return""}}var h=c(3),i=c(2),j=c(1),k=c(10),l=c(31),m=c(5),n=c(16),o=c(29);d.prototype.login=function(a,b){var c=this,d=h(this.baseOptions.rootUrl,"/co/authenticate");a.username=a.username||a.email,delete a.email;var e={client_id:a.clientID||this.baseOptions.clientID,username:a.username};a.password&&(e.password=a.password),a.otp&&(e.otp=a.otp);var g=a.realm||this.baseOptions.realm;if(g){
var i=a.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";e.realm=g,e.credential_type=i}else e.credential_type="password";this.request.post(d).withCredentials().send(e).end(function(d,e){if(d){var g=d.response&&d.response.body||{error:"request_error",error_description:JSON.stringify(d)};return m(b,{forceLegacyError:!0})(g)}var h=!0===a.popup;a=j.blacklist(a,["password","credentialType","otp","popup"]);var i=j.merge(a).with({loginTicket:e.body.login_ticket}),k=f(c.baseOptions.rootUrl,e.body.co_id);n.setItem(k,e.body.co_verifier,{expires:o.MINUTES_15}),h?c.webMessageHandler.run(i,m(b,{forceLegacyError:!0})):c.webAuth.authorize(i)})},d.prototype.callback=function(){var a=decodeURIComponent(e("origin")),b=i.getWindow();b.addEventListener("message",function(a){if("co_verifier_request"===a.data.type){var c=f(a.origin,a.data.request.id),d=g(b,c);a.source.postMessage({type:"co_verifier_response",response:{verifier:d}},a.origin)}}),b.parent.postMessage({type:"ready"},a)},a.exports=d},function(a,b,c){function d(a){a=a||{},this.namespace=a.namespace||h,this.keyLength=a.keyLength||32}var e=c(55),f=c(16),g=c(29),h="com.auth0.auth.";d.prototype.process=function(a){if(!a.responseType)throw new Error("responseType is required");var b=a.realm||a.connection,c=-1!==a.responseType.indexOf("id_token"),d=this.generateTransaction(a.appState,a.state,a.nonce,b,c);return a.state||(a.state=d.state),c&&!a.nonce&&(a.nonce=d.nonce),a},d.prototype.generateTransaction=function(a,b,c,d,h){return b=b||e.randomString(this.keyLength),c=c||(h?e.randomString(this.keyLength):null),f.setItem(this.namespace+b,{nonce:c,appState:a,state:b,lastUsedConnection:d},g.MINUTES_30),{state:b,nonce:c}},d.prototype.getStoredTransaction=function(a){var b;return b=f.getItem(this.namespace+a),f.removeItem(this.namespace+a),b},a.exports=d},function(a,b){"use strict";function c(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function d(a){return 3*a.length/4-c(a)}function e(a){var b,d,e,f,g,h,i=a.length;g=c(a),h=new k(3*i/4-g),e=g>0?i-4:i;var l=0;for(b=0,d=0;b<e;b+=4,d+=3)f=j[a.charCodeAt(b)]<<18|j[a.charCodeAt(b+1)]<<12|j[a.charCodeAt(b+2)]<<6|j[a.charCodeAt(b+3)],h[l++]=f>>16&255,h[l++]=f>>8&255,h[l++]=255&f;return 2===g?(f=j[a.charCodeAt(b)]<<2|j[a.charCodeAt(b+1)]>>4,h[l++]=255&f):1===g&&(f=j[a.charCodeAt(b)]<<10|j[a.charCodeAt(b+1)]<<4|j[a.charCodeAt(b+2)]>>2,h[l++]=f>>8&255,h[l++]=255&f),h}function f(a){return i[a>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]}function g(a,b,c){for(var d,e=[],g=b;g<c;g+=3)d=(a[g]<<16)+(a[g+1]<<8)+a[g+2],e.push(f(d));return e.join("")}function h(a){for(var b,c=a.length,d=c%3,e="",f=[],h=0,j=c-d;h<j;h+=16383)f.push(g(a,h,h+16383>j?j:h+16383));return 1===d?(b=a[c-1],e+=i[b>>2],e+=i[b<<4&63],e+="=="):2===d&&(b=(a[c-2]<<8)+a[c-1],e+=i[b>>10],e+=i[b>>4&63],e+=i[b<<2&63],e+="="),f.push(e),f.join("")}b.byteLength=d,b.toByteArray=e,b.fromByteArray=h;for(var i=[],j=[],k="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,n=l.length;m<n;++m)i[m]=l[m],j[l.charCodeAt(m)]=m;j["-".charCodeAt(0)]=62,j["_".charCodeAt(0)]=63},function(a,b,c){!function(d,e){a.exports=b=e(c(12))}(0,function(a){return function(b){var c=a,d=c.lib,e=d.WordArray,f=d.Hasher,g=c.algo,h=[],i=[];!function(){function a(a){return 4294967296*(a-(0|a))|0}for(var c=2,d=0;d<64;)(function(a){for(var c=b.sqrt(a),d=2;d<=c;d++)if(!(a%d))return!1;return!0})(c)&&(d<8&&(h[d]=a(b.pow(c,.5))),i[d]=a(b.pow(c,1/3)),d++),c++}();var j=[],k=g.SHA256=f.extend({_doReset:function(){this._hash=new e.init(h.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7],n=0;n<64;n++){if(n<16)j[n]=0|a[b+n];else{var o=j[n-15],p=(o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3,q=j[n-2],r=(q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10;j[n]=p+j[n-7]+r+j[n-16]}var s=h&k^~h&l,t=d&e^d&f^e&f,u=(d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22),v=(h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25),w=m+v+s+i[n]+j[n],x=u+t;m=l,l=k,k=h,h=g+w|0,g=f,f=e,e=d,d=w+x|0}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+g|0,c[4]=c[4]+h|0,c[5]=c[5]+k|0,c[6]=c[6]+l|0,c[7]=c[7]+m|0},_doFinalize:function(){var a=this._data,c=a.words,d=8*this._nDataBytes,e=8*a.sigBytes;return c[e>>>5]|=128<<24-e%32,c[14+(e+64>>>9<<4)]=b.floor(d/4294967296),c[15+(e+64>>>9<<4)]=d,a.sigBytes=4*c.length,this._process(),this._hash},clone:function(){var a=f.clone.call(this);return a._hash=this._hash.clone(),a}});c.SHA256=f._createHelper(k),c.HmacSHA256=f._createHmacHelper(k)}(Math),a.SHA256})},function(a,b,c){function d(a){var b=a.length%4,c=4-b;return 0===b?a:a+new Array(1+c).join("=")}function e(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b}function f(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}function g(a){for(var b="",c=0;c<a.length;c++){var d=a[c].toString(16);b+=2===d.length?d:"0"+d}return b}function h(a){return l.fromByteArray(f(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}))).replace(/\+/g,"-").replace(/\//g,"_")}function i(a){return a=d(a).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(e(l.toByteArray(a)).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function j(a){return g(l.toByteArray(d(a)))}function k(a){var b={"+":"-","/":"_","=":""};return a.replace(/[+\/=]/g,function(a){return b[a]})}var l=c(19);a.exports={encodeString:h,decodeToString:i,byteArrayToString:e,stringToByteArray:f,padding:d,byteArrayToHex:g,decodeToHEX:j,base64ToBase64Url:k}},function(a,b,c){function d(){}function e(a){if(!p(a))return a;var b=[];for(var c in a)f(b,c,a[c]);return b.join("&")}function f(a,b,c){if(null!=c)if(Array.isArray(c))c.forEach(function(c){f(a,b,c)});else if(p(c))for(var d in c)f(a,b+"["+d+"]",c[d]);else a.push(encodeURIComponent(b)+"="+encodeURIComponent(c));else null===c&&a.push(encodeURIComponent(b))}function g(a){for(var b,c,d={},e=a.split("&"),f=0,g=e.length;f<g;++f)b=e[f],c=b.indexOf("="),-1==c?d[decodeURIComponent(b)]="":d[decodeURIComponent(b.slice(0,c))]=decodeURIComponent(b.slice(c+1));return d}function h(a){for(var b,c,d,e,f=a.split(/\r?\n/),g={},h=0,i=f.length;h<i;++h)c=f[h],-1!==(b=c.indexOf(":"))&&(d=c.slice(0,b).toLowerCase(),e=t(c.slice(b+1)),g[d]=e);return g}function i(a){return/[\/+]json($|[^-\w])/.test(a)}function j(a){this.req=a,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var b=this.xhr.status;1223===b&&(b=204),this._setStatusProperties(b),this.header=this.headers=h(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&a._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function k(a,b){var c=this;this._query=this._query||[],this.method=a,this.url=b,this.header={},this._header={},this.on("end",function(){var a=null,b=null;try{b=new j(c)}catch(b){return a=new Error("Parser is unable to parse the response"),a.parse=!0,a.original=b,c.xhr?(a.rawResponse=void 0===c.xhr.responseType?c.xhr.responseText:c.xhr.response,a.status=c.xhr.status?c.xhr.status:null,a.statusCode=a.status):(a.rawResponse=null,a.status=null),c.callback(a)}c.emit("response",b);var d;try{c._isResponseOK(b)||(d=new Error(b.statusText||"Unsuccessful HTTP response"))}catch(a){d=a}d?(d.original=a,d.response=b,d.status=b.status,c.callback(d,b)):c.callback(null,b)})}function l(a,b,c){var d=s("DELETE",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d}var m;"undefined"!=typeof window?m=window:"undefined"!=typeof self?m=self:(console.warn("Using browser-only version of superagent in non-browser environment"),m=this);var n=c(32),o=c(43),p=c(23),q=c(44),r=c(42),s=b=a.exports=function(a,c){return"function"==typeof c?new b.Request("GET",a).end(c):1==arguments.length?new b.Request("GET",a):new b.Request(a,c)};b.Request=k,s.getXHR=function(){if(!(!m.XMLHttpRequest||m.location&&"file:"==m.location.protocol&&m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}throw Error("Browser-only version of superagent could not find XHR")};var t="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};s.serializeObject=e,s.parseString=g,s.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},s.serialize={"application/x-www-form-urlencoded":e,"application/json":JSON.stringify},s.parse={"application/x-www-form-urlencoded":g,"application/json":JSON.parse},q(j.prototype),j.prototype._parseBody=function(a){var b=s.parse[this.type];return this.req._parser?this.req._parser(this,a):(!b&&i(this.type)&&(b=s.parse["application/json"]),b&&a&&(a.length||a instanceof Object)?b(a):null)},j.prototype.toError=function(){var a=this.req,b=a.method,c=a.url,d="cannot "+b+" "+c+" ("+this.status+")",e=new Error(d);return e.status=this.status,e.method=b,e.url=c,e},s.Response=j,n(k.prototype),o(k.prototype),k.prototype.type=function(a){return this.set("Content-Type",s.types[a]||a),this},k.prototype.accept=function(a){return this.set("Accept",s.types[a]||a),this},k.prototype.auth=function(a,b,c){1===arguments.length&&(b=""),"object"==typeof b&&null!==b&&(c=b,b=""),c||(c={type:"function"==typeof btoa?"basic":"auto"});var d=function(a){if("function"==typeof btoa)return btoa(a);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(a,b,c,d)},k.prototype.query=function(a){return"string"!=typeof a&&(a=e(a)),a&&this._query.push(a),this},k.prototype.attach=function(a,b,c){if(b){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(a,b,c||b.name)}return this},k.prototype._getFormData=function(){return this._formData||(this._formData=new m.FormData),this._formData},k.prototype.callback=function(a,b){if(this._shouldRetry(a,b))return this._retry();var c=this._callback;this.clearTimeout(),a&&(this._maxRetries&&(a.retries=this._retries-1),this.emit("error",a)),c(a,b)},k.prototype.crossDomainError=function(){var a=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");a.crossDomain=!0,a.status=this.status,a.method=this.method,a.url=this.url,this.callback(a)},k.prototype.buffer=k.prototype.ca=k.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},k.prototype.pipe=k.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},k.prototype._isHost=function(a){return a&&"object"==typeof a&&!Array.isArray(a)&&"[object Object]"!==Object.prototype.toString.call(a)},k.prototype.end=function(a){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=a||d,this._finalizeQueryString(),this._end()},k.prototype._end=function(){var a=this,b=this.xhr=s.getXHR(),c=this._formData||this._data;this._setTimeouts(),b.onreadystatechange=function(){var c=b.readyState;if(c>=2&&a._responseTimeoutTimer&&clearTimeout(a._responseTimeoutTimer),4==c){var d;try{d=b.status}catch(a){d=0}if(!d){if(a.timedout||a._aborted)return;return a.crossDomainError()}a.emit("end")}};var d=function(b,c){c.total>0&&(c.percent=c.loaded/c.total*100),c.direction=b,a.emit("progress",c)};if(this.hasListeners("progress"))try{b.onprogress=d.bind(null,"download"),b.upload&&(b.upload.onprogress=d.bind(null,"upload"))}catch(a){}try{this.username&&this.password?b.open(this.method,this.url,!0,this.username,this.password):b.open(this.method,this.url,!0)}catch(a){return this.callback(a)}if(this._withCredentials&&(b.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof c&&!this._isHost(c)){var e=this._header["content-type"],f=this._serializer||s.serialize[e?e.split(";")[0]:""];!f&&i(e)&&(f=s.serialize["application/json"]),f&&(c=f(c))}for(var g in this.header)null!=this.header[g]&&this.header.hasOwnProperty(g)&&b.setRequestHeader(g,this.header[g]);return this._responseType&&(b.responseType=this._responseType),this.emit("request",this),b.send(void 0!==c?c:null),this},s.agent=function(){return new r},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(a){r.prototype[a.toLowerCase()]=function(b,c){var d=new s.Request(a,b);return this._setDefaults(d),c&&d.end(c),d}}),r.prototype.del=r.prototype.delete,s.get=function(a,b,c){var d=s("GET",a);return"function"==typeof b&&(c=b,b=null),b&&d.query(b),c&&d.end(c),d},s.head=function(a,b,c){var d=s("HEAD",a);return"function"==typeof b&&(c=b,b=null),b&&d.query(b),c&&d.end(c),d},s.options=function(a,b,c){var d=s("OPTIONS",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},s.del=l,s.delete=l,s.patch=function(a,b,c){var d=s("PATCH",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},s.post=function(a,b,c){var d=s("POST",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},s.put=function(a,b,c){var d=s("PUT",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d}},function(a,b){"use strict";function c(a){return null!==a&&"object"==typeof a}a.exports=c},function(a,b){var c=function(){function a(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function b(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}function c(){try{var a=navigator.userAgent;return-1!=a.indexOf("Fennec/")||-1!=a.indexOf("Firefox/")&&-1!=a.indexOf("Android")}catch(a){}return!1}function d(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function e(){for(var a=(window.location,window.opener.frames),b=a.length-1;b>=0;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&a[b].name===f)return a[b]}catch(a){}}var f="__winchan_relay_frame",g="die",h=function(){if("undefined"==typeof navigator)return!1;var a=-1,b=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){var c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}else if(b.indexOf("Trident")>-1){var c=new RegExp("rv:([0-9]{2,2}[.0-9]{0,})");null!==c.exec(b)&&(a=parseFloat(RegExp.$1))}return a>=8}();return function(){return"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage}()?{open:function(e,i){function j(){if(m&&document.body.removeChild(m),m=void 0,q&&(q=clearInterval(q)),b(window,"message",k),b(window,"unload",j),p)try{p.close()}catch(a){o.postMessage(g,n)}p=o=void 0}function k(a){if(a.origin===n){try{var b=JSON.parse(a.data)}catch(a){if(!i)throw a;i(a)}"ready"===b.a?o.postMessage(r,n):"error"===b.a?(j(),i&&(i(b.d),i=null)):"response"===b.a&&(j(),i&&(i(null,b.d),i=null))}}if(!i)throw"missing required callback argument";var l;e.url||(l="missing required 'url' parameter"),e.relay_url||(l="missing required 'relay_url' parameter"),l&&setTimeout(function(){i(l)},0),e.window_name||(e.window_name=null),e.window_features&&!c()||(e.window_features=void 0);var m,n=e.origin||d(e.url);if(n!==d(e.relay_url))return setTimeout(function(){i("invalid arguments: origin of url and relay_url must match")},0);var o;h&&(m=document.createElement("iframe"),m.setAttribute("src",e.relay_url),m.style.display="none",m.setAttribute("name",f),document.body.appendChild(m),o=m.contentWindow);var p=e.popup||window.open(e.url,e.window_name,e.window_features);e.popup&&(p.location.href=e.url),o||(o=p);var q=setInterval(function(){p&&p.closed&&(j(),i&&(i("User closed the popup window"),i=null))},500),r=JSON.stringify({a:"request",d:e.params});return a(window,"unload",j),a(window,"message",k),{close:j,focus:function(){if(p)try{p.focus()}catch(a){}}}},onOpen:function(c){function d(a){a=JSON.stringify(a),h?k.doPost(a,j):k.postMessage(a,j)}function f(a){var e;try{e=JSON.parse(a.data)}catch(a){}e&&"request"===e.a&&(b(window,"message",f),j=a.origin,c&&setTimeout(function(){c(j,e.d,function(a){c=void 0,d({a:"response",d:a})})},0))}function i(a){if(a.data===g)try{window.close()}catch(a){}}var j="*",k=h?e():window.opener;if(!k)throw"can't find relay frame";a(h?k:window,"message",f),a(h?k:window,"message",i);try{d({a:"ready"})}catch(b){a(k,"load",function(a){d({a:"ready"})})}var l=function(){try{b(h?k:window,"message",i)}catch(a){}c&&d({a:"error",d:"client closed window"}),c=void 0;try{window.close()}catch(a){}};return a(window,"unload",l),{detach:function(){b(window,"unload",l)}}}}:{open:function(a,b,c,d){setTimeout(function(){d("unsupported browser")},0)},onOpen:function(a){setTimeout(function(){a("unsupported browser")},0)}}}();void 0!==a&&a.exports&&(a.exports=c)},function(a,b,c){function d(a,b){2===arguments.length?this.auth0=a:b=a,i.check(b,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=b,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl="https://"+this.baseOptions.domain,this.request=new g(this.baseOptions),this.passwordless=new o(this.request,this.baseOptions),this.dbConnection=new p(this.request,this.baseOptions),this.warn=new n({disableWarnings:!!b._disableDeprecationWarnings})}var e=c(3),f=c(6),g=c(10),h=c(1),i=c(4),j=c(28),k=c(2),l=c(5),m=c(52),n=c(7),o=c(50),p=c(49);d.prototype.buildAuthorizeUrl=function(a){var b,c;return i.check(a,{type:"object",message:"options parameter is not valid"}),b=h.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(a),i.check(b,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(a){return-1===a.responseType.indexOf("code")&&-1!==a.responseType.indexOf("id_token")}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(b.auth0Client=this.request.getTelemetryData()),b.connection_scope&&i.isArray(b.connection_scope)&&(b.connection_scope=b.connection_scope.join(",")),b=h.blacklist(b,["username","popupOptions","domain","tenant","timeout"]),b=h.toSnakeCase(b,["auth0Client"]),b=m.oauthAuthorizeParams(this.warn,b),c=f.stringify(b),e(this.baseOptions.rootUrl,"authorize","?"+c)},d.prototype.buildLogoutUrl=function(a){var b,c;return i.check(a,{optional:!0,type:"object",message:"options parameter is not valid"}),b=h.merge(this.baseOptions,["clientID"]).with(a||{}),this.baseOptions._sendTelemetry&&(b.auth0Client=this.request.getTelemetryData()),b=h.toSnakeCase(b,["auth0Client","returnTo"]),c=f.stringify(h.blacklist(b,["federated"])),a&&void 0!==a.federated&&!1!==a.federated&&"false"!==a.federated&&(c+="&federated"),e(this.baseOptions.rootUrl,"v2","logout","?"+c)},d.prototype.loginWithDefaultDirectory=function(a,b){return i.check(a,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),a.grantType="password",this.oauthToken(a,b)},d.prototype.login=function(a,b){return i.check(a,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),a.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(a,b)},d.prototype.oauthToken=function(a,b){var c,d;return i.check(a,{type:"object",message:"options parameter is not valid"}),i.check(b,{type:"function",message:"cb parameter is not valid"}),c=e(this.baseOptions.rootUrl,"oauth","token"),d=h.merge(this.baseOptions,["clientID","scope","audience"]).with(a),i.check(d,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),d=h.toSnakeCase(d,["auth0Client"]),d=m.oauthTokenParams(this.warn,d),this.request.post(c).send(d).end(l(b))},d.prototype.loginWithResourceOwner=function(a,b){var c,d;return i.check(a,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),i.check(b,{type:"function",message:"cb parameter is not valid"}),c=e(this.baseOptions.rootUrl,"oauth","ro"),d=h.merge(this.baseOptions,["clientID","scope"]).with(a,["username","password","scope","connection","device"]),d=h.toSnakeCase(d,["auth0Client"]),d.grant_type=d.grant_type||"password",this.request.post(c).send(d).end(l(b))},d.prototype.getSSOData=function(a,b){if(!this.auth0){var d=c(30);this.auth0=new d(this.baseOptions)}if(k.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(a,b);"function"==typeof a&&(b=a),i.check(b,{type:"function",message:"cb parameter is not valid"});var e=this.baseOptions.clientID,f=j.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:f.lastUsedConnection,timeout:5e3},function(a,c){return a?"login_required"===a.error?b(null,{sso:!1}):("consent_required"===a.error&&(a.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),b(a,{sso:!1})):f.lastUsedSub&&f.lastUsedSub!==c.idTokenPayload.sub?b(a,{sso:!1}):b(null,{lastUsedConnection:{name:f.lastUsedConnection},lastUsedUserID:c.idTokenPayload.sub,lastUsedUsername:c.idTokenPayload.email||c.idTokenPayload.name,lastUsedClientID:e,sessionClients:[e],sso:!0})})},d.prototype.userInfo=function(a,b){var c;return i.check(a,{type:"string",message:"accessToken parameter is not valid"}),i.check(b,{type:"function",message:"cb parameter is not valid"}),c=e(this.baseOptions.rootUrl,"userinfo"),this.request.get(c).set("Authorization","Bearer "+a).end(l(b,{ignoreCasing:!0}))},d.prototype.delegation=function(a,b){var c,d;return i.check(a,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),i.check(b,{type:"function",message:"cb parameter is not valid"}),c=e(this.baseOptions.rootUrl,"delegation"),d=h.merge(this.baseOptions,["clientID"]).with(a),d=h.toSnakeCase(d,["auth0Client"]),this.request.post(c).send(d).end(l(b))},d.prototype.getUserCountry=function(a){var b;return i.check(a,{type:"function",message:"cb parameter is not valid"}),b=e(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(b).end(l(a))},a.exports=d},function(a,b){function c(a,b){return{error:a,errorDescription:b}}function d(a){return c("invalid_token",a)}a.exports={buildResponse:c,invalidToken:d}},function(a,b,c){function d(a){if(this.url=a.url,this.callback=a.callback,this.timeout=a.timeout||6e4,this.timeoutCallback=a.timeoutCallback||null,this.eventListenerType=a.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=a.eventValidator||{isValid:function(){return!0}},"function"!=typeof this.callback)throw new Error("options.callback must be a function")}var e=c(2);d.prototype.init=function(){var a=this,b=e.getWindow();switch(this.iframe=b.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(b){a.eventListener(b)},this.eventListenerType){case"message":this.eventSourceObject=b;break;case"load":this.eventSourceObject=this.iframe;break;default:throw new Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),b.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout(function(){a.timeoutHandler()},this.timeout)},d.prototype.eventListener=function(a){var b={event:a,sourceObject:this.eventSourceObject};this.eventValidator.isValid(b)&&(this.destroy(),this.callback(b))},d.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},d.prototype.destroy=function(){var a=this,b=e.getWindow();clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout(function(){a.eventSourceObject.removeEventListener(a.eventListenerType,a.proxyEventListener,!1),b.document.body.removeChild(a.iframe)},0)},a.exports=d},function(a,b,c){var d=c(16);a.exports={set:function(a,b){var c={lastUsedConnection:a,lastUsedSub:b};d.setItem("auth0.ssodata",JSON.stringify(c))},get:function(){var a=d.getItem("auth0.ssodata");if(a)return JSON.parse(a)}}},function(a,b){a.exports.MINUTES_15=1/96,a.exports.MINUTES_30=1/48},function(a,b,c){function d(a){g.check(a,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),a.overrides&&g.check(a.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=a,this.baseOptions.plugins=new j(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=a._timesToRetryFailedRequests?parseInt(a._timesToRetryFailedRequests,0):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,this.transactionManager=new n(this.baseOptions.transaction),this.client=new o(this.baseOptions),this.redirect=new p(this,this.baseOptions),this.popup=new q(this,this.baseOptions),this.crossOriginAuthentication=new s(this,this.baseOptions),this.webMessageHandler=new t(this),this._universalLogin=new u(this,this.baseOptions)}function e(a,b,c){return{accessToken:a.access_token||null,idToken:a.id_token||null,idTokenPayload:c||null,appState:b||null,refreshToken:a.refresh_token||null,state:a.state||null,expiresIn:a.expires_in?parseInt(a.expires_in,10):null,tokenType:a.token_type||null,scope:a.scope||null}}var f=c(39),g=c(4),h=c(26),i=c(6),j=c(53),k=c(2),l=c(1),m=c(28),n=c(18),o=c(25),p=c(64),q=c(63),r=c(65),s=c(17),t=c(31),u=c(62);d.prototype.parseHash=function(a,b){var c,d;b||"function"!=typeof a?a=a||{}:(b=a,a={});var e=k.getWindow(),f=void 0===a.hash?e.location.hash:a.hash;if(f=f.replace(/^#?\/?/,""),c=i.parse(f),c.hasOwnProperty("error"))return d=h.buildResponse(c.error,c.error_description),c.state&&(d.state=c.state),b(d);if(!c.hasOwnProperty("access_token")&&!c.hasOwnProperty("id_token")&&!c.hasOwnProperty("refresh_token"))return b(null,null);var g=(this.baseOptions.responseType||a.responseType||"").split(" ");return g.length>0&&-1!==g.indexOf("token")&&!c.hasOwnProperty("access_token")?b(h.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):g.length>0&&-1!==g.indexOf("id_token")&&!c.hasOwnProperty("id_token")?b(h.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(a,c,b)},d.prototype.validateAuthenticationResponse=function(a,b,c){var d=this;a.__enableIdPInitiatedLogin=a.__enableIdPInitiatedLogin||a.__enableImpersonation;var g=b.state,i=this.transactionManager.getStoredTransaction(g),j=a.state||i&&i.state||null,k=j===g;if((g||j||!a.__enableIdPInitiatedLogin)&&!k)return c({error:"invalid_token",errorDescription:"`state` does not match."});var l=a.nonce||i&&i.nonce||null,n=a.state||i&&i.appState||null,o=function(a,d){if(a)return c(a);if(i&&i.lastUsedConnection){var f;d&&(f=d.sub),m.set(i.lastUsedConnection,f)}return c(null,e(b,n,d))};return b.id_token?this.validateToken(b.id_token,l,function(a,c){if(!a)return b.access_token&&c.at_hash?(new f).validateAccessToken(b.access_token,"RS256",c.at_hash,function(a){return a?o(h.invalidToken(a.message)):o(null,c)}):o(null,c);if("invalid_token"!==a.error)return o(a);if("HS256"!==(new f).decode(b.id_token).header.alg)return o(a);if(!b.access_token){return o({error:"invalid_token",
description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) can’t store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"})}return d.client.userInfo(b.access_token,function(a,b){return a?o(a):o(null,b)})}):o(null,null)},d.prototype.validateToken=function(a,b,c){new f({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||0,__disableExpirationCheck:this.baseOptions.__disableExpirationCheck}).verify(a,b,function(a,b){if(a)return c(h.invalidToken(a.message));c(null,b)})},d.prototype.renewAuth=function(a,b){var c,d=!!a.usePostMessage,e=a.postMessageDataType||!1,f=a.postMessageOrigin||k.getWindow().origin,h=a.timeout,i=this,j=l.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(a);j.responseType=j.responseType||"token",j.responseMode=j.responseMode||"fragment",j=this.transactionManager.process(j),g.check(j,{type:"object",message:"options parameter is not valid"}),g.check(b,{type:"function",message:"cb parameter is not valid"}),j.prompt="none",j=l.blacklist(j,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),c=r.create({authenticationUrl:this.client.buildAuthorizeUrl(j),postMessageDataType:e,postMessageOrigin:f,timeout:h}),c.login(d,function(a,c){if("object"==typeof c)return b(a,c);i.parseHash({hash:c},b)})},d.prototype.checkSession=function(a,b){var c=l.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(a);if("code"===c.responseType)return b({error:"error",error_description:"responseType can't be `code`"});a.nonce||(c=this.transactionManager.process(c)),g.check(c,{type:"object",message:"options parameter is not valid"}),g.check(b,{type:"function",message:"cb parameter is not valid"}),c=l.blacklist(c,["usePostMessage","tenant","postMessageDataType"]),this.webMessageHandler.run(c,b)},d.prototype.changePassword=function(a,b){return this.client.dbConnection.changePassword(a,b)},d.prototype.passwordlessStart=function(a,b){var c=l.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(a.authParams);return a.authParams=this.transactionManager.process(c),this.client.passwordless.start(a,b)},d.prototype.signup=function(a,b){return this.client.dbConnection.signup(a,b)},d.prototype.authorize=function(a){var b=l.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(a);g.check(b,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),b=this.transactionManager.process(b),b.scope=b.scope||"openid profile email",k.redirect(this.client.buildAuthorizeUrl(b))},d.prototype.signupAndAuthorize=function(a,b){var c=this;return this.client.dbConnection.signup(l.blacklist(a,["popupHandler"]),function(d){if(d)return b(d);a.realm=a.connection,a.username||(a.username=a.email),c.client.login(a,b)})},d.prototype.login=function(a,b){var c=l.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(a);c=this.transactionManager.process(c),k.getWindow().location.host===this.baseOptions.domain?(c.connection=c.realm,delete c.realm,this._universalLogin.login(c,b)):this.crossOriginAuthentication.login(c,b)},d.prototype.passwordlessLogin=function(a,b){var c=l.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(a);if(c=this.transactionManager.process(c),k.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(c,b);else{var d=l.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:c.connection,username:c.email||c.phoneNumber,otp:c.verificationCode},l.blacklist(c,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(d,b)}},d.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},d.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},d.prototype.logout=function(a){k.redirect(this.client.buildLogoutUrl(a))},d.prototype.passwordlessVerify=function(a,b){var c=this,d=l.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(a);return g.check(d,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),d=this.transactionManager.process(d),this.client.passwordless.verify(d,function(a){return a?b(a):k.redirect(c.client.passwordless.buildVerifyUrl(d))})},a.exports=d},function(a,b,c){function d(a,b,c){new f({url:a,eventListenerType:"message",callback:function(a){c(null,a)},timeout:b.timeout,eventValidator:{isValid:function(a){return"authorization_response"===a.event.data.type&&b.state===a.event.data.response.state}},timeoutCallback:function(){c({error:"timeout",error_description:"Timeout during executing web_message communication"})}}).init()}function e(a){this.webAuth=a,this.warn=new i(a.baseOptions)}var f=c(27),g=c(1),h=c(2),i=c(7);e.prototype.run=function(a,b){var c=this;a.responseMode="web_message",a.prompt="none";var e=h.getOrigin(),f=g.getOriginFromUrl(a.redirectUri);if(f&&e!==f)return b({error:"origin_mismatch",error_description:"The redirectUri's origin ("+f+") should match the window's origin ("+e+")."});d(this.webAuth.client.buildAuthorizeUrl(a),a,function(d,e){var f=d;if(!d&&e.event.data.response.error&&(f=g.pick(e.event.data.response,["error","error_description"])),f&&"consent_required"===f.error&&"localhost"===h.getWindow().location.hostname&&c.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),f)return b(f);var i=e.event.data.response;c.webAuth.validateAuthenticationResponse(a,i,b)})},a.exports=e},function(a,b,c){function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}a.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){this.off(a,c),b.apply(this,arguments)}return c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,e=0;e<c.length;e++)if((d=c[e])===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(a,b,c){!function(d,e){a.exports=b=e(c(12))}(0,function(a){return function(){function b(a,b,c){for(var d=[],f=0,g=0;g<b;g++)if(g%4){var h=c[a.charCodeAt(g-1)]<<g%4*2,i=c[a.charCodeAt(g)]>>>6-g%4*2;d[f>>>2]|=(h|i)<<24-f%4*8,f++}return e.create(d,f)}var c=a,d=c.lib,e=d.WordArray,f=c.enc;f.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp();for(var e=[],f=0;f<c;f+=3)for(var g=b[f>>>2]>>>24-f%4*8&255,h=b[f+1>>>2]>>>24-(f+1)%4*8&255,i=b[f+2>>>2]>>>24-(f+2)%4*8&255,j=g<<16|h<<8|i,k=0;k<4&&f+.75*k<c;k++)e.push(d.charAt(j>>>6*(3-k)&63));var l=d.charAt(64);if(l)for(;e.length%4;)e.push(l);return e.join("")},parse:function(a){var c=a.length,d=this._map,e=this._reverseMap;if(!e){e=this._reverseMap=[];for(var f=0;f<d.length;f++)e[d.charCodeAt(f)]=f}var g=d.charAt(64);if(g){var h=a.indexOf(g);-1!==h&&(c=h)}return b(a,c,e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),a.enc.Base64})},function(a,b,c){!function(d,e){a.exports=b=e(c(12))}(0,function(a){return a.enc.Hex})},function(a,b){function c(){}c.prototype.get=function(){return null},c.prototype.has=function(){return!1},c.prototype.set=function(){},a.exports=c},function(a,b){function c(a){this.name="ConfigurationError",this.message=a||""}function d(a){this.name="TokenValidationError",this.message=a||""}c.prototype=Error.prototype,d.prototype=Error.prototype,a.exports={ConfigurationError:c,TokenValidationError:d}},function(a,b,c){function d(a){return{modulus:g.decodeToHEX(a.n),exp:g.decodeToHEX(a.e)}}function e(a,b){var c=a.jwksURI||f(a.iss,".well-known","jwks.json");return h.get(c).end(function(c,e){var f,g,h=null;if(c)return b(c);for(f=0;f<e.body.keys.length&&null===h;f++)g=e.body.keys[f],g.kid===a.kid&&(h=g);return b(null,d(h))})}var f=c(3),g=c(21),h=c(22);a.exports={process:d,getJWKS:e}},function(a,b,c){function d(a,b){if(this.n=null,this.e=0,!(null!=a&&null!=b&&a.length>0&&b.length>0))throw new Error("Invalid key data");this.n=new f(a,16),this.e=parseInt(b,16)}function e(a){for(var b in h){var c=h[b],d=c.length;if(a.substring(0,d)===c)return{alg:b,hash:a.substring(d)}}return[]}var f=c(41).BigInteger,g=c(20),h={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},i={sha256:g};d.prototype.verify=function(a,b){b=b.replace(/[^0-9a-f]|[\s\n]]/gi,"");var c=new f(b,16);if(c.bitLength()>this.n.bitLength())throw new Error("Signature does not match with the key modulus.");var d=c.modPowInt(this.e,this.n),g=d.toString(16).replace(/^1f+00/,""),h=e(g);if(0===h.length)return!1;if(!i.hasOwnProperty(h.alg))throw new Error("Hashing algorithm is not supported.");var j=i[h.alg](a).toString();return h.hash===j},a.exports=d},function(a,b,c){function d(a){var b=a||{};if(this.jwksCache=b.jwksCache||new l,this.expectedAlg=b.expectedAlg||"RS256",this.issuer=b.issuer,this.audience=b.audience,this.leeway=b.leeway||0,this.__disableExpirationCheck=b.__disableExpirationCheck||!1,this.jwksURI=b.jwksURI,this.leeway<0||this.leeway>60)throw new k.ConfigurationError("The leeway should be positive and lower than a minute.");if(-1===m.indexOf(this.expectedAlg))throw new k.ConfigurationError("Algorithm "+this.expectedAlg+" is not supported. (Expected algs: ["+m.join(",")+"])")}var e=c(20),f=c(33),g=c(34),h=c(38),i=c(21),j=c(37),k=c(36),l=c(35),m=["RS256"];d.prototype.verify=function(a,b,c){var d=this.decode(a);if(d instanceof Error)return c(d,!1);var e=d.encoded.header+"."+d.encoded.payload,f=i.decodeToHEX(d.encoded.signature),g=d.header.alg,h=d.header.kid,j=d.payload.aud,l=d.payload.iss,n=d.payload.exp,o=d.payload.nbf,p=d.payload.nonce||null;if(this.issuer!==l)return c(new k.TokenValidationError("Issuer "+l+" is not valid."),!1);if(this.audience!==j)return c(new k.TokenValidationError("Audience "+j+" is not valid."),!1);if(this.expectedAlg!==g)return c(new k.TokenValidationError("Algorithm "+g+" is not supported. (Expected algs: ["+m.join(",")+"])"),!1);if(p!==b)return c(new k.TokenValidationError("Nonce does not match."),!1);var q=this.verifyExpAndNbf(n,o);return q?c(q,!1):this.getRsaVerifier(l,h,function(a,b){return a?c(a):b.verify(e,f)?c(null,d.payload):c(new k.TokenValidationError("Invalid signature."))})},d.prototype.verifyExpAndNbf=function(a,b){var c=new Date,d=new Date(0),e=new Date(0);return this.__disableExpirationCheck?null:(d.setUTCSeconds(a+this.leeway),c>d?new k.TokenValidationError("Expired token."):void 0===b?null:(e.setUTCSeconds(b-this.leeway),c<e?new k.TokenValidationError("The token is not valid until later in the future. Please check your computed clock."):null))},d.prototype.verifyExpAndIat=function(a,b){var c=new Date,d=new Date(0),e=new Date(0);return this.__disableExpirationCheck?null:(d.setUTCSeconds(a+this.leeway),c>d?new k.TokenValidationError("Expired token."):(e.setUTCSeconds(b-this.leeway),c<e?new k.TokenValidationError("The token was issued in the future. Please check your computed clock."):null))},d.prototype.getRsaVerifier=function(a,b,c){var d=this,e=a+b;if(this.jwksCache.has(e)){var f=this.jwksCache.get(e);c(null,new h(f.modulus,f.exp))}else j.getJWKS({jwksURI:this.jwksURI,iss:a,kid:b},function(a,b){return a?c(a):(d.jwksCache.set(e,b),c(null,new h(b.modulus,b.exp)))})},d.prototype.decode=function(a){var b,c,d=a.split(".");if(3!==d.length)return new k.TokenValidationError("Cannot decode a malformed JWT");try{b=JSON.parse(i.decodeToString(d[0])),c=JSON.parse(i.decodeToString(d[1]))}catch(a){return new k.TokenValidationError("Token header or payload is not valid JSON")}return{header:b,payload:c,encoded:{header:d[0],payload:d[1],signature:d[2]}}},d.prototype.validateAccessToken=function(a,b,c,d){if(this.expectedAlg!==b)return d(new k.TokenValidationError("Algorithm "+b+" is not supported. (Expected alg: "+this.expectedAlg+")"));var h=e(a),j=g.stringify(h),l=j.substring(0,j.length/2),m=g.parse(l),n=f.stringify(m);return d(i.base64ToBase64Url(n)!==c?new k.TokenValidationError("Invalid access_token"):null)},a.exports=d},function(a,b,c){var d,e;!function(f){var g=!1;if(d=f,void 0!==(e="function"==typeof d?d.call(b,c,b,a):d)&&(a.exports=e),g=!0,a.exports=f(),g=!0,!g){var h=window.Cookies,i=window.Cookies=f();i.noConflict=function(){return window.Cookies=h,i}}}(function(){function a(){for(var a=0,b={};a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d]}return b}function b(c){function d(b,e,f){var g;if("undefined"!=typeof document){if(arguments.length>1){if(f=a({path:"/"},d.defaults,f),"number"==typeof f.expires){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*f.expires),f.expires=h}f.expires=f.expires?f.expires.toUTCString():"";try{g=JSON.stringify(e),/^[\{\[]/.test(g)&&(e=g)}catch(a){}e=c.write?c.write(e,b):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),b=encodeURIComponent(String(b)),b=b.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),b=b.replace(/[\(\)]/g,escape);var i="";for(var j in f)f[j]&&(i+="; "+j,!0!==f[j]&&(i+="="+f[j]));return document.cookie=b+"="+e+i}b||(g={});for(var k=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,m=0;m<k.length;m++){var n=k[m].split("="),o=n.slice(1).join("=");this.json||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var p=n[0].replace(l,decodeURIComponent);if(o=c.read?c.read(o,p):c(o,p)||o.replace(l,decodeURIComponent),this.json)try{o=JSON.parse(o)}catch(a){}if(b===p){g=o;break}b||(g[p]=o)}catch(a){}}return g}}return d.set=d,d.get=function(a){return d.call(d,a)},d.getJSON=function(){return d.apply({json:!0},[].slice.call(arguments))},d.defaults={},d.remove=function(b,c){d(b,"",a(c,{expires:-1}))},d.withConverter=b,d}return b(function(){})})},function(a,b,c){(function(){function c(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function d(){return new c(null)}function e(a,b,c,d,e,f){for(;--f>=0;){var g=b*this[a++]+c[d]+e;e=Math.floor(g/67108864),c[d++]=67108863&g}return e}function f(a,b,c,d,e,f){for(var g=32767&b,h=b>>15;--f>=0;){var i=32767&this[a],j=this[a++]>>15,k=h*i+j*g;i=g*i+((32767&k)<<15)+c[d]+(1073741823&e),e=(i>>>30)+(k>>>15)+h*j+(e>>>30),c[d++]=1073741823&i}return e}function g(a,b,c,d,e,f){for(var g=16383&b,h=b>>14;--f>=0;){var i=16383&this[a],j=this[a++]>>14,k=h*i+j*g;i=g*i+((16383&k)<<14)+c[d]+e,e=(i>>28)+(k>>14)+h*j,c[d++]=268435455&i}return e}function h(a){return nb.charAt(a)}function i(a,b){var c=ob[a.charCodeAt(b)];return null==c?-1:c}function j(a){for(var b=this.t-1;b>=0;--b)a[b]=this[b];a.t=this.t,a.s=this.s}function k(a){this.t=1,this.s=a<0?-1:0,a>0?this[0]=a:a<-1?this[0]=a+this.DV:this.t=0}function l(a){var b=d();return b.fromInt(a),b}function m(a,b){var d;if(16==b)d=4;else if(8==b)d=3;else if(256==b)d=8;else if(2==b)d=1;else if(32==b)d=5;else{if(4!=b)return void this.fromRadix(a,b);d=2}this.t=0,this.s=0;for(var e=a.length,f=!1,g=0;--e>=0;){var h=8==d?255&a[e]:i(a,e);h<0?"-"==a.charAt(e)&&(f=!0):(f=!1,0==g?this[this.t++]=h:g+d>this.DB?(this[this.t-1]|=(h&(1<<this.DB-g)-1)<<g,this[this.t++]=h>>this.DB-g):this[this.t-1]|=h<<g,(g+=d)>=this.DB&&(g-=this.DB))}8==d&&0!=(128&a[0])&&(this.s=-1,g>0&&(this[this.t-1]|=(1<<this.DB-g)-1<<g)),this.clamp(),f&&c.ZERO.subTo(this,this)}function n(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t}function o(a){if(this.s<0)return"-"+this.negate().toString(a);var b;if(16==a)b=4;else if(8==a)b=3;else if(2==a)b=1;else if(32==a)b=5;else{if(4!=a)return this.toRadix(a);b=2}var c,d=(1<<b)-1,e=!1,f="",g=this.t,i=this.DB-g*this.DB%b;if(g-- >0)for(i<this.DB&&(c=this[g]>>i)>0&&(e=!0,f=h(c));g>=0;)i<b?(c=(this[g]&(1<<i)-1)<<b-i,c|=this[--g]>>(i+=this.DB-b)):(c=this[g]>>(i-=b)&d,i<=0&&(i+=this.DB,--g)),c>0&&(e=!0),e&&(f+=h(c));return e?f:"0"}function p(){var a=d();return c.ZERO.subTo(this,a),a}function q(){return this.s<0?this.negate():this}function r(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t;if(0!=(b=c-a.t))return this.s<0?-b:b;for(;--c>=0;)if(0!=(b=this[c]-a[c]))return b;return 0}function s(a){var b,c=1;return 0!=(b=a>>>16)&&(a=b,c+=16),0!=(b=a>>8)&&(a=b,c+=8),0!=(b=a>>4)&&(a=b,c+=4),0!=(b=a>>2)&&(a=b,c+=2),0!=(b=a>>1)&&(a=b,c+=1),c}function t(){return this.t<=0?0:this.DB*(this.t-1)+s(this[this.t-1]^this.s&this.DM)}function u(a,b){var c;for(c=this.t-1;c>=0;--c)b[c+a]=this[c];for(c=a-1;c>=0;--c)b[c]=0;b.t=this.t+a,b.s=this.s}function v(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0),b.s=this.s}function w(a,b){var c,d=a%this.DB,e=this.DB-d,f=(1<<e)-1,g=Math.floor(a/this.DB),h=this.s<<d&this.DM;for(c=this.t-1;c>=0;--c)b[c+g+1]=this[c]>>e|h,h=(this[c]&f)<<d;for(c=g-1;c>=0;--c)b[c]=0;b[g]=h,b.t=this.t+g+1,b.s=this.s,b.clamp()}function x(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)return void(b.t=0);var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b[0]=this[c]>>d;for(var g=c+1;g<this.t;++g)b[g-c-1]|=(this[g]&f)<<e,b[g-c]=this[g]>>d;d>0&&(b[this.t-c-1]|=(this.s&f)<<e),b.t=this.t-c,b.clamp()}function y(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]-a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a[c],b[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=d<0?-1:0,d<-1?b[c++]=this.DV+d:d>0&&(b[c++]=d),b.t=c,b.clamp()}function z(a,b){var d=this.abs(),e=a.abs(),f=d.t;for(b.t=f+e.t;--f>=0;)b[f]=0;for(f=0;f<e.t;++f)b[f+d.t]=d.am(0,e[f],b,f,0,d.t);b.s=0,b.clamp(),this.s!=a.s&&c.ZERO.subTo(b,b)}function A(a){for(var b=this.abs(),c=a.t=2*b.t;--c>=0;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}a.t>0&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1)),a.s=0,a.clamp()}function B(a,b,e){var f=a.abs();if(!(f.t<=0)){var g=this.abs();if(g.t<f.t)return null!=b&&b.fromInt(0),void(null!=e&&this.copyTo(e));null==e&&(e=d());var h=d(),i=this.s,j=a.s,k=this.DB-s(f[f.t-1]);k>0?(f.lShiftTo(k,h),g.lShiftTo(k,e)):(f.copyTo(h),g.copyTo(e));var l=h.t,m=h[l-1];if(0!=m){var n=m*(1<<this.F1)+(l>1?h[l-2]>>this.F2:0),o=this.FV/n,p=(1<<this.F1)/n,q=1<<this.F2,r=e.t,t=r-l,u=null==b?d():b;for(h.dlShiftTo(t,u),e.compareTo(u)>=0&&(e[e.t++]=1,e.subTo(u,e)),c.ONE.dlShiftTo(l,u),u.subTo(h,h);h.t<l;)h[h.t++]=0;for(;--t>=0;){var v=e[--r]==m?this.DM:Math.floor(e[r]*o+(e[r-1]+q)*p);if((e[r]+=h.am(0,v,e,t,0,l))<v)for(h.dlShiftTo(t,u),e.subTo(u,e);e[r]<--v;)e.subTo(u,e)}null!=b&&(e.drShiftTo(l,b),i!=j&&c.ZERO.subTo(b,b)),e.t=l,e.clamp(),k>0&&e.rShiftTo(k,e),i<0&&c.ZERO.subTo(e,e)}}}function C(a){var b=d();return this.abs().divRemTo(a,null,b),this.s<0&&b.compareTo(c.ZERO)>0&&a.subTo(b,b),b}function D(a){this.m=a}function E(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}function F(a){return a}function G(a){a.divRemTo(this.m,null,a)}function H(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function I(a,b){a.squareTo(b),this.reduce(b)}function J(){if(this.t<1)return 0;var a=this[0];if(0==(1&a))return 0;var b=3&a;return b=b*(2-(15&a)*b)&15,b=b*(2-(255&a)*b)&255,b=b*(2-((65535&a)*b&65535))&65535,b=b*(2-a*b%this.DV)%this.DV,b>0?this.DV-b:-b}function K(a){this.m=a,this.mp=a.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function L(a){var b=d();return a.abs().dlShiftTo(this.m.t,b),b.divRemTo(this.m,null,b),a.s<0&&b.compareTo(c.ZERO)>0&&this.m.subTo(b,b),b}function M(a){var b=d();return a.copyTo(b),this.reduce(b),b}function N(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=32767&a[b],d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM;for(c=b+this.m.t,a[c]+=this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)}function O(a,b){a.squareTo(b),this.reduce(b)}function P(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function Q(){return 0==(this.t>0?1&this[0]:this.s)}function R(a,b){if(a>4294967295||a<1)return c.ONE;var e=d(),f=d(),g=b.convert(this),h=s(a)-1;for(g.copyTo(e);--h>=0;)if(b.sqrTo(e,f),(a&1<<h)>0)b.mulTo(f,g,e);else{var i=e;e=f,f=i}return b.revert(e)}function S(a,b){var c;return c=a<256||b.isEven()?new D(b):new K(b),this.exp(a,c)}function T(){var a=d();return this.copyTo(a),a}function U(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function V(){return 0==this.t?this.s:this[0]<<24>>24}function W(){return 0==this.t?this.s:this[0]<<16>>16}function X(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}function Y(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Z(a){if(null==a&&(a=10),0==this.signum()||a<2||a>36)return"0";var b=this.chunkSize(a),c=Math.pow(a,b),e=l(c),f=d(),g=d(),h="";for(this.divRemTo(e,f,g);f.signum()>0;)h=(c+g.intValue()).toString(a).substr(1)+h,f.divRemTo(e,f,g);return g.intValue().toString(a)+h}function $(a,b){this.fromInt(0),null==b&&(b=10);for(var d=this.chunkSize(b),e=Math.pow(b,d),f=!1,g=0,h=0,j=0;j<a.length;++j){var k=i(a,j);k<0?"-"==a.charAt(j)&&0==this.signum()&&(f=!0):(h=b*h+k,++g>=d&&(this.dMultiply(e),this.dAddOffset(h,0),g=0,h=0))}g>0&&(this.dMultiply(Math.pow(b,g)),this.dAddOffset(h,0)),f&&c.ZERO.subTo(this,this)}function _(a,b,d){if("number"==typeof b)if(a<2)this.fromInt(1);else for(this.fromNumber(a,d),this.testBit(a-1)||this.bitwiseTo(c.ONE.shiftLeft(a-1),ha,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(c.ONE.shiftLeft(a-1),this);else{var e=new Array,f=7&a;e.length=1+(a>>3),b.nextBytes(e),f>0?e[0]&=(1<<f)-1:e[0]=0,this.fromString(e,256)}}function aa(){var a=this.t,b=new Array;b[0]=this.s;var c,d=this.DB-a*this.DB%8,e=0;if(a-- >0)for(d<this.DB&&(c=this[a]>>d)!=(this.s&this.DM)>>d&&(b[e++]=c|this.s<<this.DB-d);a>=0;)d<8?(c=(this[a]&(1<<d)-1)<<8-d,c|=this[--a]>>(d+=this.DB-8)):(c=this[a]>>(d-=8)&255,d<=0&&(d+=this.DB,--a)),0!=(128&c)&&(c|=-256),0==e&&(128&this.s)!=(128&c)&&++e,(e>0||c!=this.s)&&(b[e++]=c);return b}function ba(a){return 0==this.compareTo(a)}function ca(a){return this.compareTo(a)<0?this:a}function da(a){return this.compareTo(a)>0?this:a}function ea(a,b,c){var d,e,f=Math.min(a.t,this.t);for(d=0;d<f;++d)c[d]=b(this[d],a[d]);if(a.t<this.t){for(e=a.s&this.DM,d=f;d<this.t;++d)c[d]=b(this[d],e);c.t=this.t}else{for(e=this.s&this.DM,d=f;d<a.t;++d)c[d]=b(e,a[d]);c.t=a.t}c.s=b(this.s,a.s),c.clamp()}function fa(a,b){return a&b}function ga(a){var b=d();return this.bitwiseTo(a,fa,b),b}function ha(a,b){return a|b}function ia(a){var b=d();return this.bitwiseTo(a,ha,b),b}function ja(a,b){return a^b}function ka(a){var b=d();return this.bitwiseTo(a,ja,b),b}function la(a,b){return a&~b}function ma(a){var b=d();return this.bitwiseTo(a,la,b),b}function na(){for(var a=d(),b=0;b<this.t;++b)a[b]=this.DM&~this[b];return a.t=this.t,a.s=~this.s,a}function oa(a){var b=d();return a<0?this.rShiftTo(-a,b):this.lShiftTo(a,b),b}function pa(a){var b=d();return a<0?this.lShiftTo(-a,b):this.rShiftTo(a,b),b}function qa(a){if(0==a)return-1;var b=0;return 0==(65535&a)&&(a>>=16,b+=16),0==(255&a)&&(a>>=8,b+=8),0==(15&a)&&(a>>=4,b+=4),0==(3&a)&&(a>>=2,b+=2),0==(1&a)&&++b,b}function ra(){for(var a=0;a<this.t;++a)if(0!=this[a])return a*this.DB+qa(this[a]);return this.s<0?this.t*this.DB:-1}function sa(a){for(var b=0;0!=a;)a&=a-1,++b;return b}function ta(){for(var a=0,b=this.s&this.DM,c=0;c<this.t;++c)a+=sa(this[c]^b);return a}function ua(a){var b=Math.floor(a/this.DB);return b>=this.t?0!=this.s:0!=(this[b]&1<<a%this.DB)}function va(a,b){var d=c.ONE.shiftLeft(a);return this.bitwiseTo(d,b,d),d}function wa(a){return this.changeBit(a,ha)}function xa(a){return this.changeBit(a,la)}function ya(a){return this.changeBit(a,ja)}function za(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]+a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d+=a[c],b[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=d<0?-1:0,d>0?b[c++]=d:d<-1&&(b[c++]=this.DV+d),b.t=c,b.clamp()}function Aa(a){var b=d();return this.addTo(a,b),b}function Ba(a){var b=d();return this.subTo(a,b),b}function Ca(a){var b=d();return this.multiplyTo(a,b),b}function Da(){var a=d();return this.squareTo(a),a}function Ea(a){var b=d();return this.divRemTo(a,b,null),b}function Fa(a){var b=d();return this.divRemTo(a,null,b),b}function Ga(a){var b=d(),c=d();return this.divRemTo(a,b,c),new Array(b,c)}function Ha(a){this[this.t]=this.am(0,a-1,this,0,0,this.t),++this.t,this.clamp()}function Ia(a,b){if(0!=a){for(;this.t<=b;)this[this.t++]=0;for(this[b]+=a;this[b]>=this.DV;)this[b]-=this.DV,++b>=this.t&&(this[this.t++]=0),++this[b]}}function Ja(){}function Ka(a){return a}function La(a,b,c){a.multiplyTo(b,c)}function Ma(a,b){a.squareTo(b)}function Na(a){return this.exp(a,new Ja)}function Oa(a,b,c){var d=Math.min(this.t+a.t,b);for(c.s=0,c.t=d;d>0;)c[--d]=0;var e;for(e=c.t-this.t;d<e;++d)c[d+this.t]=this.am(0,a[d],c,d,0,this.t);for(e=Math.min(a.t,b);d<e;++d)this.am(0,a[d],c,d,0,b-d);c.clamp()}function Pa(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.s=0;--d>=0;)c[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c[this.t+d-b]=this.am(b-d,a[d],c,0,0,this.t+d-b);c.clamp(),c.drShiftTo(1,c)}function Qa(a){this.r2=d(),this.q3=d(),c.ONE.dlShiftTo(2*a.t,this.r2),this.mu=this.r2.divide(a),this.m=a}function Ra(a){if(a.s<0||a.t>2*this.m.t)return a.mod(this.m);if(a.compareTo(this.m)<0)return a;var b=d();return a.copyTo(b),this.reduce(b),b}function Sa(a){return a}function Ta(a){for(a.drShiftTo(this.m.t-1,this.r2),a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);a.compareTo(this.r2)<0;)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);a.compareTo(this.m)>=0;)a.subTo(this.m,a)}function Ua(a,b){a.squareTo(b),this.reduce(b)}function Va(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function Wa(a,b){var c,e,f=a.bitLength(),g=l(1);if(f<=0)return g;c=f<18?1:f<48?3:f<144?4:f<768?5:6,e=f<8?new D(b):b.isEven()?new Qa(b):new K(b);var h=new Array,i=3,j=c-1,k=(1<<c)-1;if(h[1]=e.convert(this),c>1){var m=d();for(e.sqrTo(h[1],m);i<=k;)h[i]=d(),e.mulTo(m,h[i-2],h[i]),i+=2}var n,o,p=a.t-1,q=!0,r=d();for(f=s(a[p])-1;p>=0;){for(f>=j?n=a[p]>>f-j&k:(n=(a[p]&(1<<f+1)-1)<<j-f,p>0&&(n|=a[p-1]>>this.DB+f-j)),i=c;0==(1&n);)n>>=1,--i;if((f-=i)<0&&(f+=this.DB,--p),q)h[n].copyTo(g),q=!1;else{for(;i>1;)e.sqrTo(g,r),e.sqrTo(r,g),i-=2;i>0?e.sqrTo(g,r):(o=g,g=r,r=o),e.mulTo(r,h[n],g)}for(;p>=0&&0==(a[p]&1<<f);)e.sqrTo(g,r),o=g,g=r,r=o,--f<0&&(f=this.DB-1,--p)}return e.revert(g)}function Xa(a){var b=this.s<0?this.negate():this.clone(),c=a.s<0?a.negate():a.clone();if(b.compareTo(c)<0){var d=b;b=c,c=d}var e=b.getLowestSetBit(),f=c.getLowestSetBit();if(f<0)return b;for(e<f&&(f=e),f>0&&(b.rShiftTo(f,b),c.rShiftTo(f,c));b.signum()>0;)(e=b.getLowestSetBit())>0&&b.rShiftTo(e,b),(e=c.getLowestSetBit())>0&&c.rShiftTo(e,c),b.compareTo(c)>=0?(b.subTo(c,b),b.rShiftTo(1,b)):(c.subTo(b,c),c.rShiftTo(1,c));return f>0&&c.lShiftTo(f,c),c}function Ya(a){if(a<=0)return 0;var b=this.DV%a,c=this.s<0?a-1:0;if(this.t>0)if(0==b)c=this[0]%a;else for(var d=this.t-1;d>=0;--d)c=(b*c+this[d])%a;return c}function Za(a){var b=a.isEven();if(this.isEven()&&b||0==a.signum())return c.ZERO;for(var d=a.clone(),e=this.clone(),f=l(1),g=l(0),h=l(0),i=l(1);0!=d.signum();){for(;d.isEven();)d.rShiftTo(1,d),b?(f.isEven()&&g.isEven()||(f.addTo(this,f),g.subTo(a,g)),f.rShiftTo(1,f)):g.isEven()||g.subTo(a,g),g.rShiftTo(1,g);for(;e.isEven();)e.rShiftTo(1,e),b?(h.isEven()&&i.isEven()||(h.addTo(this,h),i.subTo(a,i)),h.rShiftTo(1,h)):i.isEven()||i.subTo(a,i),i.rShiftTo(1,i);d.compareTo(e)>=0?(d.subTo(e,d),b&&f.subTo(h,f),g.subTo(i,g)):(e.subTo(d,e),b&&h.subTo(f,h),i.subTo(g,i))}return 0!=e.compareTo(c.ONE)?c.ZERO:i.compareTo(a)>=0?i.subtract(a):i.signum()<0?(i.addTo(a,i),i.signum()<0?i.add(a):i):i}function $a(a){var b,c=this.abs();if(1==c.t&&c[0]<=pb[pb.length-1]){for(b=0;b<pb.length;++b)if(c[0]==pb[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b<pb.length;){for(var d=pb[b],e=b+1;e<pb.length&&d<qb;)d*=pb[e++];for(d=c.modInt(d);b<e;)if(d%pb[b++]==0)return!1}return c.millerRabin(a)}function _a(a){var b=this.subtract(c.ONE),e=b.getLowestSetBit();if(e<=0)return!1;var f=b.shiftRight(e);(a=a+1>>1)>pb.length&&(a=pb.length);for(var g=d(),h=0;h<a;++h){g.fromInt(pb[Math.floor(Math.random()*pb.length)]);var i=g.modPow(f,this);if(0!=i.compareTo(c.ONE)&&0!=i.compareTo(b)){for(var j=1;j++<e&&0!=i.compareTo(b);)if(i=i.modPowInt(2,this),0==i.compareTo(c.ONE))return!1;if(0!=i.compareTo(b))return!1}}return!0}function ab(a){sb[tb++]^=255&a,sb[tb++]^=a>>8&255,sb[tb++]^=a>>16&255,sb[tb++]^=a>>24&255,tb>=xb&&(tb-=xb)}function bb(){ab((new Date).getTime())}function cb(){if(null==rb){for(bb(),rb=ib(),rb.init(sb),tb=0;tb<sb.length;++tb)sb[tb]=0;tb=0}return rb.next()}function db(a){var b;for(b=0;b<a.length;++b)a[b]=cb()}function eb(){}function fb(){this.i=0,this.j=0,this.S=new Array}function gb(a){var b,c,d;for(b=0;b<256;++b)this.S[b]=b;for(c=0,b=0;b<256;++b)c=c+this.S[b]+a[b%a.length]&255,d=this.S[b],this.S[b]=this.S[c],this.S[c]=d;this.i=0,this.j=0}function hb(){var a;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,a=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=a,this.S[a+this.S[this.i]&255]}function ib(){return new fb}var jb,kb="undefined"!=typeof navigator;kb&&"Microsoft Internet Explorer"==navigator.appName?(c.prototype.am=f,jb=30):kb&&"Netscape"!=navigator.appName?(c.prototype.am=e,jb=26):(c.prototype.am=g,jb=28),c.prototype.DB=jb,c.prototype.DM=(1<<jb)-1,c.prototype.DV=1<<jb;c.prototype.FV=Math.pow(2,52),c.prototype.F1=52-jb,c.prototype.F2=2*jb-52;var lb,mb,nb="0123456789abcdefghijklmnopqrstuvwxyz",ob=new Array;for(lb="0".charCodeAt(0),mb=0;mb<=9;++mb)ob[lb++]=mb;for(lb="a".charCodeAt(0),mb=10;mb<36;++mb)ob[lb++]=mb;for(lb="A".charCodeAt(0),mb=10;mb<36;++mb)ob[lb++]=mb;D.prototype.convert=E,D.prototype.revert=F,D.prototype.reduce=G,D.prototype.mulTo=H,D.prototype.sqrTo=I,K.prototype.convert=L,K.prototype.revert=M,K.prototype.reduce=N,K.prototype.mulTo=P,K.prototype.sqrTo=O,c.prototype.copyTo=j,c.prototype.fromInt=k,c.prototype.fromString=m,
c.prototype.clamp=n,c.prototype.dlShiftTo=u,c.prototype.drShiftTo=v,c.prototype.lShiftTo=w,c.prototype.rShiftTo=x,c.prototype.subTo=y,c.prototype.multiplyTo=z,c.prototype.squareTo=A,c.prototype.divRemTo=B,c.prototype.invDigit=J,c.prototype.isEven=Q,c.prototype.exp=R,c.prototype.toString=o,c.prototype.negate=p,c.prototype.abs=q,c.prototype.compareTo=r,c.prototype.bitLength=t,c.prototype.mod=C,c.prototype.modPowInt=S,c.ZERO=l(0),c.ONE=l(1),Ja.prototype.convert=Ka,Ja.prototype.revert=Ka,Ja.prototype.mulTo=La,Ja.prototype.sqrTo=Ma,Qa.prototype.convert=Ra,Qa.prototype.revert=Sa,Qa.prototype.reduce=Ta,Qa.prototype.mulTo=Va,Qa.prototype.sqrTo=Ua;var pb=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],qb=(1<<26)/pb[pb.length-1];c.prototype.chunkSize=X,c.prototype.toRadix=Z,c.prototype.fromRadix=$,c.prototype.fromNumber=_,c.prototype.bitwiseTo=ea,c.prototype.changeBit=va,c.prototype.addTo=za,c.prototype.dMultiply=Ha,c.prototype.dAddOffset=Ia,c.prototype.multiplyLowerTo=Oa,c.prototype.multiplyUpperTo=Pa,c.prototype.modInt=Ya,c.prototype.millerRabin=_a,c.prototype.clone=T,c.prototype.intValue=U,c.prototype.byteValue=V,c.prototype.shortValue=W,c.prototype.signum=Y,c.prototype.toByteArray=aa,c.prototype.equals=ba,c.prototype.min=ca,c.prototype.max=da,c.prototype.and=ga,c.prototype.or=ia,c.prototype.xor=ka,c.prototype.andNot=ma,c.prototype.not=na,c.prototype.shiftLeft=oa,c.prototype.shiftRight=pa,c.prototype.getLowestSetBit=ra,c.prototype.bitCount=ta,c.prototype.testBit=ua,c.prototype.setBit=wa,c.prototype.clearBit=xa,c.prototype.flipBit=ya,c.prototype.add=Aa,c.prototype.subtract=Ba,c.prototype.multiply=Ca,c.prototype.divide=Ea,c.prototype.remainder=Fa,c.prototype.divideAndRemainder=Ga,c.prototype.modPow=Wa,c.prototype.modInverse=Za,c.prototype.pow=Na,c.prototype.gcd=Xa,c.prototype.isProbablePrime=$a,c.prototype.square=Da,c.prototype.Barrett=Qa;var rb,sb,tb;if(null==sb){sb=new Array,tb=0;var ub;if("undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var vb=new Uint8Array(32);for(window.crypto.getRandomValues(vb),ub=0;ub<32;++ub)sb[tb++]=vb[ub]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var wb=window.crypto.random(32);for(ub=0;ub<wb.length;++ub)sb[tb++]=255&wb.charCodeAt(ub)}for(;tb<xb;)ub=Math.floor(65536*Math.random()),sb[tb++]=ub>>>8,sb[tb++]=255&ub;tb=0,bb()}eb.prototype.nextBytes=db,fb.prototype.init=gb,fb.prototype.next=hb;var xb=256;c.SecureRandom=eb,c.BigInteger=c,b=a.exports=c}).call(this)},function(a,b){function c(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(a){c.prototype[a]=function(){return this._defaults.push({fn:a,arguments:arguments}),this}}),c.prototype._setDefaults=function(a){this._defaults.forEach(function(b){a[b.fn].apply(a,b.arguments)})},a.exports=c},function(a,b,c){"use strict";function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}var f=c(23);a.exports=d,d.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},d.prototype.parse=function(a){return this._parser=a,this},d.prototype.responseType=function(a){return this._responseType=a,this},d.prototype.serialize=function(a){return this._serializer=a,this},d.prototype.timeout=function(a){if(!a||"object"!=typeof a)return this._timeout=a,this._responseTimeout=0,this;for(var b in a)switch(b){case"deadline":this._timeout=a.deadline;break;case"response":this._responseTimeout=a.response;break;default:console.warn("Unknown timeout option",b)}return this},d.prototype.retry=function(a,b){return 0!==arguments.length&&!0!==a||(a=1),a<=0&&(a=0),this._maxRetries=a,this._retries=0,this._retryCallback=b,this};var g=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];d.prototype._shouldRetry=function(a,b){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var c=this._retryCallback(a,b);if(!0===c)return!0;if(!1===c)return!1}catch(a){console.error(a)}if(b&&b.status&&b.status>=500&&501!=b.status)return!0;if(a){if(a.code&&~g.indexOf(a.code))return!0;if(a.timeout&&"ECONNABORTED"==a.code)return!0;if(a.crossDomain)return!0}return!1},d.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},d.prototype.then=function(a,b){if(!this._fullfilledPromise){var c=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(a,b){c.end(function(c,d){c?b(c):a(d)})})}return this._fullfilledPromise.then(a,b)},d.prototype.catch=function(a){return this.then(void 0,a)},d.prototype.use=function(a){return a(this),this},d.prototype.ok=function(a){if("function"!=typeof a)throw Error("Callback required");return this._okCallback=a,this},d.prototype._isResponseOK=function(a){return!!a&&(this._okCallback?this._okCallback(a):a.status>=200&&a.status<300)},d.prototype.get=function(a){return this._header[a.toLowerCase()]},d.prototype.getHeader=d.prototype.get,d.prototype.set=function(a,b){if(f(a)){for(var c in a)this.set(c,a[c]);return this}return this._header[a.toLowerCase()]=b,this.header[a]=b,this},d.prototype.unset=function(a){return delete this._header[a.toLowerCase()],delete this.header[a],this},d.prototype.field=function(a,b){if(null===a||void 0===a)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),f(a)){for(var c in a)this.field(c,a[c]);return this}if(Array.isArray(b)){for(var d in b)this.field(a,b[d]);return this}if(null===b||void 0===b)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof b&&(b=""+b),this._getFormData().append(a,b),this},d.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},d.prototype._auth=function(a,b,c,d){switch(c.type){case"basic":this.set("Authorization","Basic "+d(a+":"+b));break;case"auto":this.username=a,this.password=b;break;case"bearer":this.set("Authorization","Bearer "+a)}return this},d.prototype.withCredentials=function(a){return void 0==a&&(a=!0),this._withCredentials=a,this},d.prototype.redirects=function(a){return this._maxRedirects=a,this},d.prototype.maxResponseSize=function(a){if("number"!=typeof a)throw TypeError("Invalid argument");return this._maxResponseSize=a,this},d.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},d.prototype.send=function(a){var b=f(a),c=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),b&&!this._data)Array.isArray(a)?this._data=[]:this._isHost(a)||(this._data={});else if(a&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(b&&f(this._data))for(var d in a)this._data[d]=a[d];else"string"==typeof a?(c||this.type("form"),c=this._header["content-type"],this._data="application/x-www-form-urlencoded"==c?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;return!b||this._isHost(a)?this:(c||this.type("json"),this)},d.prototype.sortQuery=function(a){return this._sort=void 0===a||a,this},d.prototype._finalizeQueryString=function(){var a=this._query.join("&");if(a&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+a),this._query.length=0,this._sort){var b=this.url.indexOf("?");if(b>=0){var c=this.url.substring(b+1).split("&");"function"==typeof this._sort?c.sort(this._sort):c.sort(),this.url=this.url.substring(0,b)+"?"+c.join("&")}}},d.prototype._appendQueryString=function(){console.trace("Unsupported")},d.prototype._timeoutError=function(a,b,c){if(!this._aborted){var d=new Error(a+b+"ms exceeded");d.timeout=b,d.code="ECONNABORTED",d.errno=c,this.timedout=!0,this.abort(),this.callback(d)}},d.prototype._setTimeouts=function(){var a=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){a._timeoutError("Timeout of ",a._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){a._timeoutError("Response timeout of ",a._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(a,b,c){"use strict";function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}var f=c(45);a.exports=d,d.prototype.get=function(a){return this.header[a.toLowerCase()]},d.prototype._setHeaderProperties=function(a){var b=a["content-type"]||"";this.type=f.type(b);var c=f.params(b);for(var d in c)this[d]=c[d];this.links={};try{a.link&&(this.links=f.parseLinks(a.link))}catch(a){}},d.prototype._setStatusProperties=function(a){var b=a/100|0;this.status=this.statusCode=a,this.statusType=b,this.info=1==b,this.ok=2==b,this.redirect=3==b,this.clientError=4==b,this.serverError=5==b,this.error=(4==b||5==b)&&this.toError(),this.accepted=202==a,this.noContent=204==a,this.badRequest=400==a,this.unauthorized=401==a,this.notAcceptable=406==a,this.forbidden=403==a,this.notFound=404==a}},function(a,b){"use strict";b.type=function(a){return a.split(/ *; */).shift()},b.params=function(a){return a.split(/ *; */).reduce(function(a,b){var c=b.split(/ *= */),d=c.shift(),e=c.shift();return d&&e&&(a[d]=e),a},{})},b.parseLinks=function(a){return a.split(/ *, */).reduce(function(a,b){var c=b.split(/ *; */),d=c[0].slice(1,-1);return a[c[1].split(/ *= */)[1].slice(1,-1)]=d,a},{})},b.cleanHeader=function(a,b){return delete a["content-type"],delete a["content-length"],delete a["transfer-encoding"],delete a.host,b&&(delete a.authorization,delete a.cookie),a}},,,,function(a,b,c){function d(a,b){this.baseOptions=b,this.request=a}var e=c(3),f=c(1),g=c(4),h=c(5);d.prototype.signup=function(a,b){var c,d,i;return g.check(a,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),g.check(b,{type:"function",message:"cb parameter is not valid"}),c=e(this.baseOptions.rootUrl,"dbconnections","signup"),d=f.merge(this.baseOptions,["clientID"]).with(a),i=d.user_metadata||d.userMetadata,d=f.blacklist(d,["scope","userMetadata","user_metadata"]),d=f.toSnakeCase(d,["auth0Client"]),i&&(d.user_metadata=i),this.request.post(c).send(d).end(h(b))},d.prototype.changePassword=function(a,b){var c,d;return g.check(a,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),g.check(b,{type:"function",message:"cb parameter is not valid"}),c=e(this.baseOptions.rootUrl,"dbconnections","change_password"),d=f.merge(this.baseOptions,["clientID"]).with(a,["email","connection"]),d=f.toSnakeCase(d,["auth0Client"]),this.request.post(c).send(d).end(h(b))},a.exports=d},function(a,b,c){function d(a,b){this.baseOptions=b,this.request=a}var e=c(3),f=c(1),g=c(4),h=c(6),i=c(5);d.prototype.buildVerifyUrl=function(a){var b,c;return g.check(a,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(a){return!a.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(a){return!a.phoneNumber}}}),b=f.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(a),this.baseOptions._sendTelemetry&&(b.auth0Client=this.request.getTelemetryData()),b=f.toSnakeCase(b,["auth0Client"]),c=h.stringify(b),e(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+c)},d.prototype.start=function(a,b){var c,d;return g.check(a,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(a){return"code"===a.send||!a.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(a){return"link"===a.send||!a.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),g.check(b,{type:"function",message:"cb parameter is not valid"}),c=e(this.baseOptions.rootUrl,"passwordless","start"),d=f.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(a),d.scope&&(d.authParams=d.authParams||{},d.authParams.scope=d.scope),d.redirectUri&&(d.authParams=d.authParams||{},d.authParams.redirect_uri=d.redirectUri),d.responseType&&(d.authParams=d.authParams||{},d.authParams.response_type=d.responseType),delete d.redirectUri,delete d.responseType,delete d.scope,d=f.toSnakeCase(d,["auth0Client","authParams"]),this.request.post(c).send(d).end(i(b))},d.prototype.verify=function(a,b){var c,d;return g.check(a,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(a){return!a.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(a){return!a.phoneNumber}}}),g.check(b,{type:"function",message:"cb parameter is not valid"}),d=f.pick(a,["connection","verificationCode","phoneNumber","email","auth0Client"]),d=f.toSnakeCase(d,["auth0Client"]),c=e(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(c).send(d).end(i(b))},a.exports=d},function(a,b,c){function d(a){var b=a.length%4,c=4-b;return 0===b?a:a+new Array(1+c).join("=")}function e(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}function f(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b}function g(a){return i.fromByteArray(e(a)).replace(/\+/g,"-").replace(/\//g,"_")}function h(a){return a=d(a).replace(/-/g,"+").replace(/_/g,"/"),f(i.toByteArray(a))}var i=c(19);a.exports={encode:g,decode:h}},function(a,b,c){function d(a,b){var c=f.getKeysNotIn(b,h);return c.length>0&&a.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+c.join(",")+"]"),b}function e(a,b){return f.pick(b,g)}var f=c(1),g=["realm","audience","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],h=["connection","connection_scope","auth0Client","owp","device","realm","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method"];a.exports={oauthTokenParams:e,oauthAuthorizeParams:d}},function(a,b,c){function d(a,b){this.plugins=b;for(var c=0;c<this.plugins.length;c++){if(this.plugins[c].version!==e.raw){var d="";throw this.plugins[c].constructor&&this.plugins[c].constructor.name&&(d=this.plugins[c].constructor.name),new Error("Plugin "+d+" version ("+this.plugins[c].version+") is not compatible with the SDK version ("+e.raw+")")}this.plugins[c].setWebAuth(a)}}var e=c(11);d.prototype.get=function(a){for(var b=0;b<this.plugins.length;b++)if(this.plugins[b].supports(a))return this.plugins[b].init();return null},a.exports=d},function(a,b,c){function d(){this._current_popup=null}var e=c(24),f=c(2),g=c(1),h=c(6);d.prototype.calculatePosition=function(a){var b=a.width||500,c=a.height||600,d=f.getWindow(),e=void 0!==d.screenX?d.screenX:d.screenLeft,g=void 0!==d.screenY?d.screenY:d.screenTop;return{width:b,height:c,left:e+((void 0!==d.outerWidth?d.outerWidth:d.document.body.clientWidth)-b)/2,top:g+((void 0!==d.outerHeight?d.outerHeight:d.document.body.clientHeight)-c)/2}},d.prototype.preload=function(a){var b=this,c=f.getWindow(),d=this.calculatePosition(a.popupOptions||{}),e=g.merge(d).with(a.popupOptions),i=a.url||"about:blank",j=h.stringify(e,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed?this._current_popup:(this._current_popup=c.open(i,"auth0_signup_popup",j),this._current_popup.kill=function(){this.close(),b._current_popup=null},this._current_popup)},d.prototype.load=function(a,b,c,d){var f=this,i=this.calculatePosition(c.popupOptions||{}),j=g.merge(i).with(c.popupOptions),k=g.merge({url:a,relay_url:b,window_features:h.stringify(j,{delimiter:",",encode:!1}),popup:this._current_popup}).with(c),l=e.open(k,function(a,b){return f._current_popup=null,d(a,b)});return l.focus(),l},a.exports=d},function(a,b,c){function d(a){var b=new Uint8Array(a),c=[],d="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",f=e.getWindow().crypto||e.getWindow().msCrypto;if(!f)return null;for(var g=f.getRandomValues(b),h=0;h<g.length;h++)c.push(d[g[h]%d.length]);return c.join("")}var e=c(2);a.exports={randomString:d}},function(a,b,c){function d(){}var e=c(40),f=c(1);d.prototype.getItem=function(a){return e.get(a)},d.prototype.removeItem=function(a){e.remove(a)},d.prototype.setItem=function(a,b,c){var d=f.extend({expires:1},c);e.set(a,b,d)},a.exports=d},function(a,b){function c(){}c.prototype.getItem=function(){return null},c.prototype.removeItem=function(){},c.prototype.setItem=function(){},a.exports=c},function(a,b,c){function d(){this.warn=new h({}),this.storage=new g;try{var a=e.getWindow().localStorage;a&&(this.storage=a)}catch(a){this.warn.warning(a),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}var e=c(2),f=c(57),g=c(56),h=c(7);d.prototype.failover=function(){if(this.storage instanceof f)return void this.warn.warning("DummyStorage: ignore failover");this.storage instanceof g?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new f):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new g)},d.prototype.getItem=function(a){try{return this.storage.getItem(a)}catch(b){return this.warn.warning(b),this.failover(),this.getItem(a)}},d.prototype.removeItem=function(a){try{return this.storage.removeItem(a)}catch(b){return this.warn.warning(b),this.failover(),this.removeItem(a)}},d.prototype.setItem=function(a,b,c){try{return this.storage.setItem(a,b,c)}catch(d){return this.warn.warning(d),this.failover(),this.setItem(a,b,c)}},a.exports=d},function(a,b){function c(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(a);return b?b[1]:a}a.exports={extractOrigin:c}},function(a,b,c){var d=c(25),e=c(61),f=c(30),g=c(11);a.exports={Authentication:d,Management:e,WebAuth:f,version:g.raw}},function(a,b,c){function d(a){g.check(a,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=a,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new f(this.baseOptions),this.baseOptions.rootUrl=e("https://"+this.baseOptions.domain,"api","v2")}var e=c(3),f=c(10),g=c(4),h=c(5);d.prototype.getUser=function(a,b){var c;return g.check(a,{type:"string",message:"userId parameter is not valid"}),g.check(b,{type:"function",message:"cb parameter is not valid"}),c=e(this.baseOptions.rootUrl,"users",a),this.request.get(c).end(h(b,{ignoreCasing:!0}))},d.prototype.patchUserMetadata=function(a,b,c){var d;return g.check(a,{type:"string",message:"userId parameter is not valid"}),g.check(b,{type:"object",message:"userMetadata parameter is not valid"}),g.check(c,{type:"function",message:"cb parameter is not valid"}),d=e(this.baseOptions.rootUrl,"users",a),this.request.patch(d).send({user_metadata:b}).end(h(c,{ignoreCasing:!0}))},d.prototype.linkUser=function(a,b,c){var d;return g.check(a,{type:"string",message:"userId parameter is not valid"}),g.check(b,{type:"string",message:"secondaryUserToken parameter is not valid"}),g.check(c,{type:"function",message:"cb parameter is not valid"}),d=e(this.baseOptions.rootUrl,"users",a,"identities"),this.request.post(d).send({link_with:b}).end(h(c,{ignoreCasing:!0}))},a.exports=d},function(a,b,c){function d(a,b){this.baseOptions=b,this.client=a,this.request=new h(this.baseOptions),this.warn=new l({disableWarnings:!!b._disableDeprecationWarnings})}var e=c(3),f=c(6),g=c(66),h=c(10),i=c(5),j=c(1),k=c(2),l=c(7),m=c(4);d.prototype.login=function(a,b){if(k.getWindow().location.host!==this.baseOptions.domain)throw new Error("This method is meant to be used only inside the Universal Login Page.");var c,d=j.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(a);return m.check(d,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),c=new g(this.baseOptions),c.login(d,function(a,d){return a?b(a):c.callback(d)})},d.prototype.signupAndLogin=function(a,b){var c=this;return c.client.client.dbConnection.signup(a,function(d){return d?b(d):c.login(a,b)})},d.prototype.getSSOData=function(a,b){var c,d="";return"function"==typeof a&&(b=a,a=!1),m.check(a,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),m.check(b,{type:"function",message:"cb parameter is not valid"}),a&&(d="?"+f.stringify({ldaps:1,client_id:this.baseOptions.clientID})),c=e(this.baseOptions.rootUrl,"user","ssodata",d),this.request.get(c,{noHeaders:!0}).withCredentials().end(i(b))},a.exports=d},function(a,b,c){function d(a,b){this.baseOptions=b,this.baseOptions.popupOrigin=b.popupOrigin,this.client=a.client,this.webAuth=a,this.transactionManager=new n(this.baseOptions.transaction),this.crossOriginAuthentication=new o(a,this.baseOptions),this.warn=new m({disableWarnings:!!b._disableDeprecationWarnings})}var e=c(3),f=c(24),g=c(59),h=c(4),i=c(5),j=c(54),k=c(1),l=c(2),m=c(7),n=c(18),o=c(17);d.prototype.buildPopupHandler=function(){var a=this.baseOptions.plugins.get("popup.getPopupHandler");return a?a.getPopupHandler():new j},d.prototype.preload=function(a){a=a||{};var b=this.buildPopupHandler();return b.preload(a),b},d.prototype.getPopupHandler=function(a,b){return a.popupHandler?a.popupHandler:b?this.preload(a):this.buildPopupHandler()},d.prototype.callback=function(a){var b=this,c=l.getWindow();a=a||{};var d=a.popupOrigin||this.baseOptions.popupOrigin||l.getOrigin();if(!c.opener)return void(c.doPost=function(a){c.parent&&c.parent.postMessage(a,d)});f.onOpen(function(c,e,f){if(c!==d)return f({error:"origin_mismatch",error_description:"The popup's origin ("+c+") should match the `popupOrigin` parameter ("+d+")."});b.webAuth.parseHash(a||{},function(a,b){return f(a||b)})})},d.prototype.authorize=function(a,b){var c,d,f,j={},l=this.baseOptions.plugins.get("popup.authorize"),m=k.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce"]).with(k.blacklist(a,["popupHandler"]));return h.check(m,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),f=e(this.baseOptions.rootUrl,"relay.html"),a.owp?m.owp=!0:(j.origin=g.extractOrigin(m.redirectUri),f=m.redirectUri),a.popupOptions&&(j.popupOptions=k.pick(a.popupOptions,["width","height"])),l&&(m=l.processParams(m)),m=this.transactionManager.process(m),m.scope=m.scope||"openid profile email",delete m.domain,d=this.client.buildAuthorizeUrl(m),c=this.getPopupHandler(a),c.load(d,f,j,i(b))},d.prototype.loginWithCredentials=function(a,b){a.realm=a.realm||a.connection,a.popup=!0,a=k.merge(this.baseOptions,["redirectUri","responseType","state","nonce"]).with(k.blacklist(a,["popupHandler","connection"])),a=this.transactionManager.process(a),this.crossOriginAuthentication.login(a,b)},d.prototype.passwordlessVerify=function(a,b){var c=this;return this.client.passwordless.verify(k.blacklist(a,["popupHandler"]),function(d){if(d)return b(d);a.username=a.phoneNumber||a.email,a.password=a.verificationCode,delete a.email,delete a.phoneNumber,delete a.verificationCode,delete a.type,c.client.loginWithResourceOwner(a,b)})},d.prototype.signupAndLogin=function(a,b){var c=this,d=this.getPopupHandler(a,!0);return a.popupHandler=d,this.client.dbConnection.signup(k.blacklist(a,["popupHandler"]),function(e){if(e)return d._current_popup&&d._current_popup.kill(),b(e);c.loginWithCredentials(a,b)})},a.exports=d},function(a,b,c){function d(a,b){this.webAuth=a,this.baseOptions=b,this.crossOriginAuthentication=new e(a,this.baseOptions),this.warn=new f({disableWarnings:!!b._disableDeprecationWarnings})}var e=c(17),f=c(7);d.prototype.loginWithCredentials=function(a,b){a.realm=a.realm||a.connection,delete a.connection,this.crossOriginAuthentication.login(a,b)},d.prototype.signupAndLogin=function(a,b){var c=this;return this.webAuth.client.dbConnection.signup(a,function(d){return d?b(d):(a.realm=a.realm||a.connection,delete a.connection,c.webAuth.login(a,b))})},a.exports=d},function(a,b,c){function d(a){this.authenticationUrl=a.authenticationUrl,this.timeout=a.timeout||6e4,this.handler=null,this.postMessageDataType=a.postMessageDataType||!1,this.postMessageOrigin=a.postMessageOrigin||f.getWindow().location.origin||f.getWindow().location.protocol+"//"+f.getWindow().location.hostname+(f.getWindow().location.port?":"+f.getWindow().location.port:"")}var e=c(27),f=c(2);d.create=function(a){return new d(a)},d.prototype.login=function(a,b){this.handler=new e({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:a?"message":"load",callback:this.getCallbackHandler(b,a),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){b(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:a||!1}),this.handler.init()},d.prototype.getEventValidator=function(){var a=this;return{isValid:function(b){switch(b.event.type){case"message":return b.event.origin===a.postMessageOrigin&&b.event.source===a.handler.iframe.contentWindow&&(!1===a.postMessageDataType||b.event.data.type&&b.event.data.type===a.postMessageDataType);case"load":if("about:"===b.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},d.prototype.getCallbackHandler=function(a,b){return function(c){var d;d=b?"object"==typeof c.event.data&&c.event.data.hash?c.event.data.hash:c.event.data:c.sourceObject.contentWindow.location.hash,a(null,d)}},a.exports=d},function(a,b,c){function d(a){this.baseOptions=a,this.request=new g(a),this.transactionManager=new j(this.baseOptions.transaction)}var e=c(3),f=c(1),g=c(10),h=c(5),i=c(2),j=c(18);d.prototype.login=function(a,b){var c,d;return c=e(this.baseOptions.rootUrl,"usernamepassword","login"),a.username=a.username||a.email,a=f.blacklist(a,["email"]),d=f.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(a),d=this.transactionManager.process(d),d=f.toSnakeCase(d,["auth0Client"]),this.request.post(c).send(d).end(h(b))},d.prototype.callback=function(a){var b,c,d=i.getDocument();b=d.createElement("div"),b.innerHTML=a,c=d.body.appendChild(b).children[0],c.submit()},a.exports=d}])}),function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=0)}([function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=c.n(d),f=c(2),g=c.n(f);if("object"!=typeof e.a)throw new Error("Angular must be loaded.");if(!e.a.isObject(g.a))throw new Error("Auth0 must be loaded.");e.a.module("auth0.auth0",[]).provider("angularAuth0",function(){this.init=function(a){if(!a)throw new Error("Client ID and Domain are required to initialize Auth0.js");this.config=a},this.$get=["$rootScope",function(a){function b(b){var d=b.length-1,f=b[d];return e.a.isFunction(f)&&(b[d]=function(){var b=arguments;a.$evalAsync(function(){f.apply(c,b)})}),b}var c=new g.a.WebAuth(this.config),d={},f=[];for(var h in c)e.a.isFunction(c[h])&&f.push(h),e.a.isObject(c[h])&&(d[h]=c[h]);for(var h=0;h<f.length;h++)d[f[h]]=function(a){return function(){return c[a].apply(c,b(arguments))}}(f[h]);return d}]})},function(a){a.exports=angular},function(a){a.exports=auth0}]),function(a){"use strict";var b=a.module("angular-progress-arc",[]);b.provider("progressArcDefaults",function(){var b={size:200,strokeWidth:20,stroke:"black",background:null};this.setDefault=function(a,c){return b[a]=c,this},this.$get=function(){return function(c){a.forEach(b,function(a,b){c[b]||(c[b]=a)})}}}),b.directive("progressArc",["progressArcDefaults",function(a){return{restrict:"E",scope:{size:"@",strokeWidth:"@",stroke:"@",counterClockwise:"@",complete:"&",background:"@"},compile:function(b,c){return a(c),function(a,b,c){a.offset=/firefox/i.test(navigator.userAgent)?-89.9:-90;var d=function(){a.strokeWidthCapped=Math.min(a.strokeWidth,a.size/2-1),a.radius=Math.max((a.size-a.strokeWidthCapped)/2-1,0),a.circumference=2*Math.PI*a.radius};a.$watchCollection("[size, strokeWidth]",d),d()}},template:'<svg ng-attr-width="{{size}}" ng-attr-height="{{size}}"><circle fill="none" ng-if="background" ng-attr-cx="{{size/2}}" ng-attr-cy="{{size/2}}" ng-attr-r="{{radius}}" ng-attr-stroke="{{background}}" ng-attr-stroke-width="{{strokeWidthCapped}}"/><circle fill="none" ng-attr-cx="{{size/2}}" ng-attr-cy="{{size/2}}" ng-attr-r="{{radius}}" ng-attr-stroke="{{stroke}}" ng-attr-stroke-width="{{strokeWidthCapped}}"ng-attr-stroke-dasharray="{{circumference}}"ng-attr-stroke-dashoffset="{{(1 - complete()) * circumference}}"ng-attr-transform="rotate({{offset}}, {{size/2}}, {{size/2}})'+"{{ (counterClockwise && counterClockwise != 'false') ? ' translate(0, ' + size + ') scale(1, -1)' : '' }}\"/></svg>"}}])}(window.angular),function(){function p(a){return void 0!==a}function aa(){}function ba(a){a.yb=function(){return a.zf?a.zf:a.zf=new a}}function ca(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b
;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function r(a){return"function"==ca(a)}function ga(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ha(a,b,c){return a.call.apply(a.bind,arguments)}function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function u(a,b,c){return u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,u.apply(null,arguments)}function ka(a,b){function c(){}c.prototype=b.prototype,a.ph=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.lh=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}}function la(a){if(Error.captureStackTrace)Error.captureStackTrace(this,la);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function v(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function ma(a,b){var c,d={};for(c in a)d[c]=b.call(void 0,a[c],c,a);return d}function na(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function oa(a){var b,c=0;for(b in a)c++;return c}function pa(a){for(var b in a)return b}function qa(a){var b,c=[],d=0;for(b in a)c[d++]=a[b];return c}function ra(a){var b,c=[],d=0;for(b in a)c[d++]=b;return c}function sa(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function ta(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function ua(a,b){var c=ta(a,b,void 0);return c&&a[c]}function va(a){for(var b in a)return!1;return!0}function wa(a){var b,c={};for(b in a)c[b]=a[b];return c}function ya(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<xa.length;f++)c=xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function za(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(a){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Vd=void 0}function Ba(a,b,c){switch(typeof b){case"string":Ca(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case"boolean":c.push(b);break;case"undefined":c.push("null");break;case"object":if(null==b){c.push("null");break}if(da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ba(a,a.Vd?a.Vd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{"),d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&"function"!=typeof(e=b[f])&&(c.push(d),Ca(f,c),c.push(":"),Ba(a,a.Vd?a.Vd.call(b,f,e):e,c),d=",");c.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof b)}}function Ca(a,b){b.push('"',a.replace(Ea,function(a){if(a in Da)return Da[a];var b=a.charCodeAt(0),c="\\u";return 16>b?c+="000":256>b?c+="00":4096>b&&(c+="0"),Da[a]=c+b.toString(16)}),'"')}function Fa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)}function Ia(){this.Ya=-1}function Ja(){this.Ya=-1,this.Ya=64,this.P=[],this.pe=[],this.eg=[],this.Od=[],this.Od[0]=128;for(var a=1;a<this.Ya;++a)this.Od[a]=0;this.ge=this.ec=0,this.reset()}function Ka(a,b,c){c||(c=0);var d=a.eg;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=4294967295&(f<<1|f>>>31)}b=a.P[0],c=a.P[1];for(var g,h=a.P[2],i=a.P[3],j=a.P[4],e=0;80>e;e++)40>e?20>e?(f=i^c&(h^i),g=1518500249):(f=c^h^i,g=1859775393):60>e?(f=c&h|i&(c|h),g=2400959708):(f=c^h^i,g=3395469782),f=(b<<5|b>>>27)+f+j+g+d[e]&4294967295,j=i,i=h,h=4294967295&(c<<30|c>>>2),c=b,b=f;a.P[0]=a.P[0]+b&4294967295,a.P[1]=a.P[1]+c&4294967295,a.P[2]=a.P[2]+h&4294967295,a.P[3]=a.P[3]+i&4294967295,a.P[4]=a.P[4]+j&4294967295}function Ra(a,b){var c=Sa(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function Sa(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Ta(a,b){var c=La(a,b);0<=c&&x.splice.call(a,c,1)}function Ua(a,b,c){return 2>=arguments.length?x.slice.call(a,b):x.slice.call(a,b,c)}function Va(a,b){a.sort(b||Wa)}function Wa(a,b){return a>b?1:a<b?-1:0}function Xa(a){n.setTimeout(function(){throw a},0)}function Za(){var a=n.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==w.indexOf("Presto")&&(a=function(){var a=document.createElement("iframe");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=u(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),void 0!==a&&-1==w.indexOf("Trident")&&-1==w.indexOf("MSIE")){var b=new a,c={},d=c;return b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.hb;c.hb=null,a()}},function(a){d.next={hb:a},d=d.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}}function $a(a,b){ab||bb(),cb||(ab(),cb=!0),db.push(new eb(a,b))}function bb(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve();ab=function(){a.then(fb)}}else ab=function(){var a=fb;!r(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ya||(Ya=Za()),Ya(a)):n.setImmediate(a)}}function fb(){for(;db.length;){var a=db;db=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.yg.call(c.scope)}catch(a){Xa(a)}}}cb=!1}function eb(a,b){this.yg=a,this.scope=b}function nb(a,b){if(!ea(a))throw Error("encodeByteArray takes an array as a parameter");ob();for(var c=b?lb:kb,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,h=g?a[e+1]:0,i=e+2<a.length,j=i?a[e+2]:0,k=f>>2,f=(3&f)<<4|h>>4,h=(15&h)<<2|j>>6,j=63&j;i||(j=64,g||(h=64)),d.push(c[k],c[f],c[h],c[j])}return d.join("")}function ob(){if(!kb){kb={},lb={},mb={};for(var a=0;65>a;a++)kb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),lb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),mb[lb[a]]=a,62<=a&&(mb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}}function pb(a,b){if(this.N=qb,this.Rf=void 0,this.Ba=this.Ha=null,this.yd=this.ye=!1,a==rb)sb(this,tb,b);else try{var c=this;a.call(b,function(a){sb(c,tb,a)},function(a){if(!(a instanceof ub))try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(a){}sb(c,vb,a)})}catch(a){sb(this,vb,a)}}function rb(){}function xb(a,b){if(a.N==qb)if(a.Ha){var c=a.Ha;if(c.Ba){for(var d,e=0,f=-1,g=0;(d=c.Ba[g])&&!((d=d.o)&&(e++,d==a&&(f=g),0<=f&&1<e));g++);0<=f&&(c.N==qb&&1==e?xb(c,b):(e=c.Ba.splice(f,1)[0],yb(c,e,vb,b)))}a.Ha=null}else sb(a,vb,b)}function zb(a,b){a.Ba&&a.Ba.length||a.N!=tb&&a.N!=vb||Ab(a),a.Ba||(a.Ba=[]),a.Ba.push(b)}function wb(a,b,c,d){var e={o:null,Hf:null,Jf:null};return e.o=new pb(function(a,f){e.Hf=b?function(c){try{var e=b.call(d,c);a(e)}catch(a){f(a)}}:a,e.Jf=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof ub?f(b):a(e)}catch(a){f(a)}}:f}),e.o.Ha=a,zb(a,e),e.o}function sb(a,b,c){if(a.N==qb){if(a==c)b=vb,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(a){d=!1}else d=!1;if(d)return a.N=1,void c.then(a.Yf,a.Zf,a);if(ga(c))try{var e=c.then;if(r(e))return void Bb(a,c,e)}catch(a){b=vb,c=a}}a.Rf=c,a.N=b,a.Ha=null,Ab(a),b!=vb||c instanceof ub||Cb(a,c)}}function Bb(a,b,c){function d(b){f||(f=!0,a.Zf(b))}function e(b){f||(f=!0,a.Yf(b))}a.N=1;var f=!1;try{c.call(b,e,d)}catch(a){d(a)}}function Ab(a){a.ye||(a.ye=!0,$a(a.wg,a))}function yb(a,b,c,d){if(c==tb)b.Hf(d);else{if(b.o)for(;a&&a.yd;a=a.Ha)a.yd=!1;b.Jf(d)}}function Cb(a,b){a.yd=!0,$a(function(){a.yd&&Db.call(null,b)})}function ub(a){la.call(this,a)}function y(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function z(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Fb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function Gb(a){var b={};return Fb(a,function(a,c){b[a]=c}),b}function Hb(a){return"object"==typeof a&&null!==a}function Ib(a){var b=[];return Fb(a,function(a,c){da(c)?Ma(c,function(c){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}),b.length?"&"+b.join("&"):""}function Jb(a){var b={};return a=a.replace(/^\?/,"").split("&"),Ma(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])}),b}function Kb(a,b){if(!a)throw Lb(b)}function Lb(a){return Error("Firebase ("+Eb+") INTERNAL ASSERT FAILED: "+a)}function B(){var a=this;this.reject=this.resolve=null,this.D=new Mb(function(b,c){a.resolve=b,a.reject=c})}function C(a,b){return function(c,d){c?a.reject(c):a.resolve(d),r(b)&&(Nb(a.D),1===b.length?b(c):b(c,d))}}function Nb(a){a.then(void 0,aa)}function Ob(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,Kb(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320)),128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b}function Pb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b}function D(a,b,c,d){var e;if(d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".")}function E(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return a=a+" failed: "+d+" argument "}function F(a,b,c,d){if((!d||p(c))&&!r(c))throw Error(E(a,b,d)+"must be a valid function.")}function Qb(a,b,c){if(p(c)&&(!ga(c)||null===c))throw Error(E(a,b,!0)+"must be a valid context object.")}function Rb(a){return"undefined"!=typeof JSON&&p(JSON.parse)?JSON.parse(a):za(a)}function G(a){if("undefined"!=typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ba(new Aa,a,b),a=b.join("")}return a}function Sb(){this.Zd=H}function Tb(){}function Vb(a,b,c){this.bg=a,this.Oa=b,this.Nd=c}function Zb(){this.xb=[]}function $b(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.cc();null===c||f.ea(c.cc())||(a.xb.push(c),c=null),null===c&&(c=new ac(f)),c.add(e)}c&&a.xb.push(c)}function bc(a,b,c){$b(a,c),cc(a,function(a){return a.ea(b)})}function dc(a,b,c){$b(a,c),cc(a,function(a){return a.contains(b)||b.contains(a)})}function cc(a,b){for(var c=!0,d=0;d<a.xb.length;d++){var e=a.xb[d];if(e)if(e=e.cc(),b(e)){for(var e=a.xb[d],f=0;f<e.xd.length;f++){var g=e.xd[f];if(null!==g){e.xd[f]=null;var h=g.Zb();ec&&fc("event: "+g.toString()),gc(h)}}a.xb[d]=null}else c=!1}c&&(a.xb=[])}function ac(a){this.ta=a,this.xd=[]}function J(a,b,c,d){this.type=a,this.Na=b,this.Za=c,this.Oe=d,this.Td=void 0}function hc(a){return new J(ic,a)}function jc(a,b,c,d){this.xe=b,this.be=c,this.Td=d,this.wd=a}function kc(a,b,c){this.xe=a,this.error=b,this.path=c}function Xb(a,b,c){this.A=a,this.ga=b,this.Yb=c}function lc(a){return a.ga}function mc(a){return a.Yb}function nc(a,b){return b.e()?a.ga&&!a.Yb:Wb(a,K(b))}function Wb(a,b){return a.ga&&!a.Yb||a.A.Fa(b)}function oc(a){this.pg=a,this.Gd=null}function pc(a,b){this.Vf={},this.hd=new oc(a),this.da=b;var c=1e4+2e4*Math.random();setTimeout(u(this.Of,this),Math.floor(c))}function qc(){this.Hc={}}function rc(a,b,c){p(c)||(c=1),y(a.Hc,b)||(a.Hc[b]=0),a.Hc[b]+=c}function uc(a){return a=a.toString(),sc[a]||(sc[a]=new qc),sc[a]}function vc(a,b){var c=a.toString();return tc[c]||(tc[c]=b()),tc[c]}function L(a,b){this.name=a,this.U=b}function wc(a,b){return new L(a,b)}function xc(a,b){return yc(a.name,b.name)}function zc(a,b){return yc(a,b)}function Ac(a,b,c){this.type=Bc,this.source=a,this.path=b,this.Ja=c}function Cc(a,b){this.type=Dc,this.source=a,this.path=b}function Ec(a,b){this.Pa=a,this.xa=b||Fc}function Gc(a,b){for(var c,d=a.xa,e=null;!d.e();){if(0===(c=a.Pa(b,d.key))){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Hc(a,b,c,d,e){for(this.Xd=e||null,this.Je=d,this.Ta=[],e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.Je?a.left:a.right;else{if(0===e){this.Ta.push(a);break}this.Ta.push(a),a=this.Je?a.right:a.left}}function Ic(a){if(0===a.Ta.length)return null;var b,c=a.Ta.pop();if(b=a.Xd?a.Xd(c.key,c.value):{key:c.key,value:c.value},a.Je)for(c=c.left;!c.e();)a.Ta.push(c),c=c.right;else for(c=c.right;!c.e();)a.Ta.push(c),c=c.left;return b}function Jc(a){if(0===a.Ta.length)return null;var b;return b=a.Ta,b=b[b.length-1],a.Xd?a.Xd(b.key,b.value):{key:b.key,value:b.value}}function Kc(a,b,c,d,e){this.key=a,this.value=b,this.color=null==c||c,this.left=null!=d?d:Fc,this.right=null!=e?e:Fc}function Lc(a){return a.left.e()?a:Lc(a.left)}function Nc(a){return a.left.e()?Fc:(a.left.ha()||a.left.left.ha()||(a=Oc(a)),a=a.$(null,null,null,Nc(a.left),null),Mc(a))}function Mc(a){return a.right.ha()&&!a.left.ha()&&(a=Rc(a)),a.left.ha()&&a.left.left.ha()&&(a=Pc(a)),a.left.ha()&&a.right.ha()&&(a=Qc(a)),a}function Oc(a){return a=Qc(a),a.right.left.ha()&&(a=a.$(null,null,null,null,Pc(a.right)),a=Rc(a),a=Qc(a)),a}function Rc(a){return a.right.$(null,null,a.color,a.$(null,null,!0,null,a.right.left),null)}function Pc(a){return a.left.$(null,null,a.color,null,a.$(null,null,!0,a.left.right,null))}function Qc(a){return a.$(null,null,!a.color,a.left.$(null,null,!a.left.color,null,null),a.right.$(null,null,!a.right.color,null,null))}function Sc(){}function Tc(a,b){return a&&"object"==typeof a?(O(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Uc(a,b){var c=new Vc;return Wc(a,new P(""),function(a,d){c.rc(a,Xc(d,b))}),c}function Xc(a,b){var c,d=a.C().J(),d=Tc(d,b);if(a.L()){var e=Tc(a.Ea(),b);return e!==a.Ea()||d!==a.C().J()?new Yc(e,Q(d)):a}return c=a,d!==a.C().J()&&(c=c.ia(new Yc(d))),a.R(R,function(a,d){var e=Xc(d,b);e!==d&&(c=c.W(a,e))}),c}function Zc(){this.Ac={}}function $c(a){this.Ic=a,this.Sd="firebase:"}function ad(a){try{if("undefined"!=typeof window&&void 0!==window[a]){var b=window[a];return b.setItem("firebase:sentinel","cache"),b.removeItem("firebase:sentinel"),new $c(b)}}catch(a){}return new Zc}function dd(a,b,c,d,e){this.host=a.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.ob=b,this.lc=c,this.jh=d,this.Rd=e||"",this.ab=bd.get("host:"+a)||this.host}function ed(a,b){b!==a.ab&&(a.ab=b,"s-"===a.ab.substr(0,2)&&bd.set("host:"+a.host,a.ab))}function fd(a,b,c){if(O("string"==typeof b,"typeof type must == string"),O("object"==typeof c,"typeof params must == object"),b===gd)b=(a.ob?"wss://":"ws://")+a.ab+"/.ws?";else{if(b!==hd)throw Error("Unknown connection type: "+b);b=(a.ob?"https://":"http://")+a.ab+"/.lp?"}a.host!==a.ab&&(c.ns=a.lc);var d=[];return v(c,function(a,b){d.push(b+"="+a)}),b+d.join("&")}function kd(a){try{var b;if("undefined"!=typeof atob)b=atob(a);else{ob();for(var c=mb,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0;++e;var h=e<a.length?c[a.charAt(e)]:64;++e;var i=e<a.length?c[a.charAt(e)]:64;if(++e,null==f||null==g||null==h||null==i)throw Error();d.push(f<<2|g>>4),64!=h&&(d.push(g<<4&240|h>>2),64!=i&&d.push(h<<6&192|i))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{for(a="",c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Ua(d,c,c+8192));b=a}}return b}catch(a){fc("base64Decode failed: ",a)}return null}function ld(a){var b=Ob(a);a=new Ja,a.update(b);var b=[],c=8*a.ge;56>a.ec?a.update(a.Od,56-a.ec):a.update(a.Od,a.Ya-(a.ec-56));for(var d=a.Ya-1;56<=d;d--)a.pe[d]=255&c,c/=256;for(Ka(a,a.pe),d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.P[d]>>e&255,++c;return nb(b)}function md(a){for(var b="",c=0;c<arguments.length;c++)b=ea(arguments[c])?b+md.apply(null,arguments[c]):"object"==typeof arguments[c]?b+G(arguments[c]):b+arguments[c],b+=" ";return b}function od(a,b){Kb(!b||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?("undefined"!=typeof console&&("function"==typeof console.log?ec=u(console.log,console):"object"==typeof console.log&&(ec=function(a){console.log(a)})),b&&cd.set("logging_enabled",!0)):r(a)?ec=a:(ec=null,cd.remove("logging_enabled"))}function fc(a){if(!0===nd&&(nd=!1,null===ec&&!0===cd.get("logging_enabled")&&od(!0)),ec){var b=md.apply(null,arguments);ec(b)}}function pd(a){return function(){fc(a,arguments)}}function qd(a){if("undefined"!=typeof console){var b="FIREBASE INTERNAL ERROR: "+md.apply(null,arguments);void 0!==console.error?console.error(b):console.log(b)}}function rd(a){var b=md.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b)}function S(a){if("undefined"!=typeof console){var b="FIREBASE WARNING: "+md.apply(null,arguments);void 0!==console.warn?console.warn(b):console.log(b)}}function sd(a){var b="",c="",d="",e="",f=!0,g="https",h=443;if(q(a)){var i=a.indexOf("//");for(0<=i&&(g=a.substring(0,i-1),a=a.substring(i+2)),i=a.indexOf("/"),-1===i&&(i=a.length),b=a.substring(0,i),e="",a=a.substring(i).split("/"),i=0;i<a.length;i++)if(0<a[i].length){var j=a[i];try{j=decodeURIComponent(j.replace(/\+/g," "))}catch(a){}e+="/"+j}a=b.split("."),3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]),i=b.indexOf(":"),0<=i&&(f="https"===g||"wss"===g,h=b.substring(i+1),isFinite(h)&&(h=String(h)),h=q(h)?/^\s*-?0x/i.test(h)?parseInt(h,16):parseInt(h,10):NaN)}return{host:b,port:h,domain:c,fh:d,ob:f,scheme:g,bd:e}}function td(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function ud(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}function yc(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=vd(a),d=vd(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function wd(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+G(b))}function xd(a){if("object"!=typeof a||null===a)return G(a);var b,c=[];for(b in a)c.push(b);c.sort(),b="{";for(var d=0;d<c.length;d++)0!==d&&(b+=","),b+=G(c[d]),b+=":",b+=xd(a[c[d]]);return b+"}"}function yd(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function zd(a,b){if(da(a))for(var c=0;c<a.length;++c)b(c,a[c]);else v(a,b)}function Ad(a){O(!td(a),"Invalid JSON number");var b,c,d,e;for(0===a?(d=c=0,b=-1/0==1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074)))),e=[],a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);for(e.push(b?1:0),e.reverse(),b=e.join(""),c="",a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&(d="0"+d),c+=d;return c.toLowerCase()}function vd(a){return Bd.test(a)&&-2147483648<=(a=Number(a))&&2147483647>=a?a:null}function gc(a){try{a()}catch(a){setTimeout(function(){throw S("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}}function T(a,b){if(r(a)){var c=Array.prototype.slice.call(arguments,1).slice();gc(function(){a.apply(null,c)})}}function Cd(a){var b={},c={},d={},e="";try{var f=a.split("."),b=Rb(kd(f[0])||""),c=Rb(kd(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(a){}return{mh:b,Ec:c,data:d,bh:e}}function Dd(a){return a=Cd(a).Ec,"object"==typeof a&&a.hasOwnProperty("iat")?z(a,"iat"):null}function Ed(a){a=Cd(a);var b=a.Ec;return!!a.bh&&!!b&&"object"==typeof b&&b.hasOwnProperty("iat")}function Fd(a){this.Y=a,this.g=a.n.g}function Gd(a,b,c,d){var e=[],f=[];return Ma(b,function(b){"child_changed"===b.type&&a.g.Dd(b.Oe,b.Na)&&f.push(new J("child_moved",b.Na,b.Za))}),Hd(a,e,"child_removed",b,d,c),Hd(a,e,"child_added",b,d,c),Hd(a,e,"child_moved",f,d,c),Hd(a,e,"child_changed",b,d,c),Hd(a,e,ic,b,d,c),e}function Hd(a,b,c,d,e,f){d=Na(d,function(a){return a.type===c}),Va(d,u(a.qg,a)),Ma(d,function(c){var d=Id(a,c,f);Ma(e,function(e){e.Qf(c.type)&&b.push(e.createEvent(d,a.Y))})})}function Id(a,b,c){return"value"!==b.type&&"child_removed"!==b.type&&(b.Td=c.wf(b.Za,b.Na,a.g)),b}function Jd(){this.ib={}}function Kd(a,b){var c=b.type,d=b.Za;O("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking"),O(".priority"!==d,"Only non-priority child changes can be tracked.");var e=z(a.ib,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.ib[d]=new J("child_changed",b.Na,d,e.Na);else if("child_removed"==c&&"child_added"==f)delete a.ib[d];else if("child_removed"==c&&"child_changed"==f)a.ib[d]=new J("child_removed",e.Oe,d);else if("child_changed"==c&&"child_added"==f)a.ib[d]=new J("child_added",b.Na,d);else{if("child_changed"!=c||"child_changed"!=f)throw jd("Illegal combination of changes: "+b+" occurred after "+e);a.ib[d]=new J("child_changed",b.Na,d,e.Oe)}}else a.ib[d]=b}function Ld(a){this.g=a}function Md(a){this.Fe=new Ld(a.g),this.g=a.g;var b;a.oa?(b=Nd(a),b=a.g.Sc(Od(a),b)):b=a.g.Wc(),this.gd=b,a.ra?(b=Pd(a),a=a.g.Sc(Rd(a),b)):a=a.g.Tc(),this.Jc=a}function Sd(a){this.ua=new Md(a),this.g=a.g,O(a.la,"Only valid if limit has been set"),this.ma=a.ma,this.Nb=!Td(a)}function Ud(a,b,c,d,e,f){var g;if(a.Nb){var h=Vd(a.g);g=function(a,b){return h(b,a)}}else g=Vd(a.g);O(b.Hb()==a.ma,"");var i=new L(c,d),j=a.Nb?Wd(b,a.g):Xd(b,a.g),k=a.ua.matches(i);if(b.Fa(c)){for(var l=b.T(c),j=e.Ce(a.g,j,a.Nb);null!=j&&(j.name==c||b.Fa(j.name));)j=e.Ce(a.g,j,a.Nb);return e=null==j?1:g(j,i),k&&!d.e()&&0<=e?(null!=f&&Kd(f,new J("child_changed",d,c,l)),b.W(c,d)):(null!=f&&Kd(f,new J("child_removed",l,c)),b=b.W(c,H),null!=j&&a.ua.matches(j)?(null!=f&&Kd(f,new J("child_added",j.U,j.name)),b.W(j.name,j.U)):b)}return d.e()?b:k&&0<=g(j,i)?(null!=f&&(Kd(f,new J("child_removed",j.U,j.name)),Kd(f,new J("child_added",d,c))),b.W(c,d).W(j.name,H)):b}function Yd(a,b){this.me=a,this.og=b}function Zd(a){this.X=a}function ie(a,b,c,d,e,f){var g=b.Q;if(null!=d.xc(c))return b;var h;if(c.e())O(lc(b.w()),"If change path is empty, we must have complete server data"),mc(b.w())?(e=Yb(b),d=d.Cc(e instanceof fe?e:H)):d=d.Aa(Yb(b)),f=a.X.ya(b.Q.j(),d,f);else{var i=K(c);if(".priority"==i)O(1==le(c),"Can't have a priority with additional path components"),f=g.j(),h=b.w().j(),d=d.nd(c,f,h),f=null!=d?a.X.ia(f,d):g.j();else{var j=N(c);Wb(g,i)?(h=b.w().j(),d=d.nd(c,g.j(),h),d=null!=d?g.j().T(i).H(j,d):g.j().T(i)):d=d.Bc(i,b.w()),f=null!=d?a.X.H(g.j(),i,d,j,e,f):g.j()}}return ge(b,f,g.ga||c.e(),a.X.Ra())}function ae(a,b,c,d,e,f,g,h){var i=b.w();if(g=g?a.X:a.X.$b(),c.e())d=g.ya(i.j(),d,null);else if(g.Ra()&&!i.Yb)d=i.j().H(c,d),d=g.ya(i.j(),d,null);else{var j=K(c);if(!nc(i,c)&&1<le(c))return b;var k=N(c);d=i.j().T(j).H(k,d),d=".priority"==j?g.ia(i.j(),d):g.H(i.j(),j,d,k,Ub,null)}return i=i.ga||c.e(),b=new je(b.Q,new Xb(d,i,g.Ra())),ie(a,b,c,e,new Vb(e,b,f),h)}function $d(a,b,c,d,e,f,g){var h=b.Q;if(e=new Vb(e,b,f),c.e())g=a.X.ya(b.Q.j(),d,g),a=ge(b,g,!0,a.X.Ra());else if(".priority"===(f=K(c)))g=a.X.ia(b.Q.j(),d),a=ge(b,g,h.ga,h.Yb);else{c=N(c);var i=h.j().T(f);if(!c.e()){var j=e.uf(f);d=null!=j?".priority"===me(c)&&j.S(c.parent()).e()?j:j.H(c,d):H}i.ea(d)?a=b:(g=a.X.H(h.j(),f,d,c,e,g),a=ge(b,g,h.ga,a.X.Ra()))}return a}function ce(a,b,c,d,e,f,g){var h=b;return ne(d,function(d,i){var j=c.o(d);Wb(b.Q,K(j))&&(h=$d(a,h,j,i,e,f,g))}),ne(d,function(d,i){var j=c.o(d);Wb(b.Q,K(j))||(h=$d(a,h,j,i,e,f,g))}),h}function oe(a,b){return ne(b,function(b,c){a=a.H(b,c)}),a}function de(a,b,c,d,e,f,g,h){if(b.w().j().e()&&!lc(b.w()))return b;var i=b;c=c.e()?d:pe(qe,c,d);var j=b.w().j();return c.children.ka(function(c,d){if(j.Fa(c)){var k=b.w().j().T(c),k=oe(k,d);i=ae(a,i,new P(c),k,e,f,g,h)}}),c.children.ka(function(c,d){var k=!Wb(b.w(),c)&&null==d.value;j.Fa(c)||k||(k=b.w().j().T(c),k=oe(k,d),i=ae(a,i,new P(c),k,e,f,g,h))}),i}function he(a,b,c,d,e,f,g){if(null!=e.xc(c))return b;var h=mc(b.w()),i=b.w();if(null!=d.value){if(c.e()&&i.ga||nc(i,c))return ae(a,b,c,i.j().S(c),e,f,h,g);if(c.e()){var j=qe;return i.j().R(re,function(a,b){j=j.set(new P(a),b)}),de(a,b,c,j,e,f,h,g)}return b}return j=qe,ne(d,function(a){var b=c.o(a);nc(i,b)&&(j=j.set(a,i.j().S(b)))}),de(a,b,c,j,e,f,h,g)}function se(){}function Vd(a){return u(a.compare,a)}function ve(a){O(!a.e()&&".priority"!==K(a),"Can't create PathIndex with empty path or .priority key"),this.gc=a}function xe(){}function ye(){}function ze(){}function Ce(){this.Xb=this.ra=this.Pb=this.oa=this.la=!1,this.ma=0,this.Rb="",this.ic=null,this.Bb="",this.fc=null,this.zb="",this.g=R}function Td(a){return""===a.Rb?a.oa:"l"===a.Rb}function Od(a){return O(a.oa,"Only valid if start has been set"),a.ic}function Nd(a){return O(a.oa,"Only valid if start has been set"),a.Pb?a.Bb:"[MIN_NAME]"}function Rd(a){return O(a.ra,"Only valid if end has been set"),a.fc}function Pd(a){return O(a.ra,"Only valid if end has been set"),a.Xb?a.zb:"[MAX_NAME]"}function Ee(a){var b=new Ce;return b.la=a.la,b.ma=a.ma,b.oa=a.oa,b.ic=a.ic,b.Pb=a.Pb,b.Bb=a.Bb,b.ra=a.ra,b.fc=a.fc,b.Xb=a.Xb,b.zb=a.zb,b.g=a.g,b}function Fe(a,b){var c=Ee(a);return c.g=b,c}function Ge(a){var b={};if(a.oa&&(b.sp=a.ic,a.Pb&&(b.sn=a.Bb)),a.ra&&(b.ep=a.fc,a.Xb&&(b.en=a.zb)),a.la){b.l=a.ma;var c=a.Rb;""===c&&(c=Td(a)?"l":"r"),b.vf=c}return a.g!==R&&(b.i=a.g.toString()),b}function He(a){return!(a.oa||a.ra||a.la)}function Ie(a){return He(a)&&a.g==R}function Je(a){var b={};if(Ie(a))return b;var c;return a.g===R?c="$priority":a.g===Be?c="$value":a.g===re?c="$key":(O(a.g instanceof ve,"Unrecognized index type!"),c=a.g.toString()),b.orderBy=G(c),a.oa&&(b.startAt=G(a.ic),a.Pb&&(b.startAt+=","+G(a.Bb))),a.ra&&(b.endAt=G(a.fc),a.Xb&&(b.endAt+=","+G(a.zb))),a.la&&(Td(a)?b.limitToFirst=a.ma:b.limitToLast=a.ma),b}function Ke(a,b){this.Ed=a,this.hc=b}function Le(a,b,c){return new Ke(ma(a.Ed,function(d,e){var f=z(a.hc,e);if(O(f,"Missing index implementation for "+e),d===te){if(f.Lc(b.U)){for(var g=[],h=c.ac(wc),i=Ic(h);i;)i.name!=b.name&&g.push(i),i=Ic(h);return g.push(b),Me(g,Vd(f))}return te}return f=c.get(b.name),g=d,f&&(g=g.remove(new L(b.name,f))),g.Sa(b,b.U)}),a.hc)}function Ne(a,b,c){return new Ke(ma(a.Ed,function(a){if(a===te)return a;var d=c.get(b.name);return d?a.remove(new L(b.name,d)):a}),a.hc)}function Yc(a,b){this.B=a,O(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.ca=b||H,Pe(this.ca),this.Gb=null}function fe(a,b,c){this.m=a,(this.ca=b)&&Pe(this.ca),a.e()&&O(!this.ca||this.ca.e(),"An empty node cannot have a priority"),this.Ab=c,this.Gb=null}function Wd(a,b){var c;return c=(c=Te(a,b))?(c=c.Vc())&&c.name:a.m.Vc(),c?new L(c,a.m.get(c)):null}function Xd(a,b){var c;return c=(c=Te(a,b))?(c=c.jc())&&c.name:a.m.jc(),c?new L(c,a.m.get(c)):null}function Te(a,b){return b===re?null:a.Ab.get(b.toString())}function Q(a,b){if(null===a)return H;var c=null;if("object"==typeof a&&".priority"in a?c=a[".priority"]:void 0!==b&&(c=b),O(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new Yc(a,Q(c));if(a instanceof Array){var d=H,e=a;return v(e,function(a,b){if(y(e,b)&&"."!==b.substring(0,1)){var c=Q(a);!c.L()&&c.e()||(d=d.W(b,c))}}),d.ia(Q(c))}var f=[],g=!1,h=a;if(Fb(h,function(a){if("string"!=typeof a||"."!==a.substring(0,1)){var b=Q(h[a]);b.e()||(g=g||!b.C().e(),f.push(new L(a,b)))}}),0==f.length)return H;var i=Me(f,xc,function(a){return a.name},zc);if(g){var j=Me(f,Vd(R));return new fe(i,Q(c),new Ke({".priority":j},{".priority":R}))}return new fe(i,Q(c),Oe)}function Ve(a){this.count=parseInt(Math.log(a+1)/Ue,10),this.nf=this.count-1,this.ng=a+1&parseInt(Array(this.count+1).join("1"),2)}function We(a){var b=!(a.ng&1<<a.nf);return a.nf--,b}function Me(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var g=a[b],h=c?c(g):g;return new Kc(h,g.U,!1,null,null)}var g=parseInt(f/2,10)+b,f=e(b,g),i=e(g+1,d),g=a[g],h=c?c(g):g;return new Kc(h,g.U,!1,f,i)}a.sort(b);var f=function(b){function d(b,d){var i=h-b,j=h;h-=b;var j=e(i+1,j),i=a[i],k=c?c(i):i,j=new Kc(k,i.U,d,null,j);f?f.left=j:g=j,f=j}for(var f=null,g=null,h=a.length,i=0;i<b.count;++i){var j=We(b),k=Math.pow(2,b.count-(i+1));j?d(k,!1):(d(k,!1),d(k,!0))}return g}(new Ve(a.length));return null!==f?new Ec(d||b,f):new Ec(d||b)}function Re(a){return"number"==typeof a?"number:"+Ad(a):"string:"+a}function Pe(a){if(a.L()){var b=a.J();O("string"==typeof b||"number"==typeof b||"object"==typeof b&&y(b,".sv"),"Priority must be a string or number.")}else O(a===we||a.e(),"priority of unexpected type.");O(a===we||a.C().e(),"Priority nodes can't have a priority of their own.")}function Xe(){fe.call(this,new Ec(zc),H,Oe)}function je(a,b){this.Q=a,this.ae=b}function ge(a,b,c,d){return new je(new Xb(b,c,d),a.ae)}function ke(a){return a.Q.ga?a.Q.j():null}function Yb(a){return a.ae.ga?a.ae.j():null}function Ye(a,b){this.Y=a;var c=a.n,d=new Ld(c.g),c=He(c)?new Ld(c.g):c.la?new Sd(c):new Md(c);this.Nf=new Zd(c);var e=b.w(),f=b.Q,g=d.ya(H,e.j(),null),h=c.ya(H,f.j(),null);this.Oa=new je(new Xb(h,f.ga,c.Ra()),new Xb(g,e.ga,d.Ra())),this.$a=[],this.ug=new Fd(a)}function Ze(a){return a.Y}function af(a,b){var c=a.Oa.Q,d=[];return c.j().L()||c.j().R(R,function(a,b){d.push(new J("child_added",b,a))}),c.ga&&d.push(hc(c.j())),$e(a,d,c.j(),b)}function $e(a,b,c,d){return Gd(a.ug,b,c,d?[d]:a.$a)}function bf(a,b,c){this.type=be,this.source=a,this.path=b,this.children=c}function cf(a,b){this.f=pd("p:rest:"),this.G=a,this.Kb=b,this.Ca=null,this.ba={}}function df(a,b){return p(b)?"tag$"+b:(O(Ie(a.n),"should have a tag if it's not a default query."),a.path.toString())}function ef(a,b,c,d){c=c||{},c.format="export",a.Ca&&(c.auth=a.Ca);var e=(a.G.ob?"https://":"http://")+a.G.host+b+"?"+Ib(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{
b=Rb(f.responseText)}catch(a){S("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==f.status&&S("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}},f.open("GET",e,!0),f.send()}function ff(a){O(da(a)&&0<a.length,"Requires a non-empty array"),this.fg=a,this.Rc={}}function gf(a,b){O(Ra(a.fg,function(a){return a===b}),"Unknown event: "+b)}function jf(){if(ff.call(this,["online"]),this.oc=!0,"undefined"!=typeof window&&void 0!==window.addEventListener){var a=this;window.addEventListener("online",function(){a.oc||(a.oc=!0,a.ie("online",!0))},!1),window.addEventListener("offline",function(){a.oc&&(a.oc=!1,a.ie("online",!1))},!1)}}function kf(){ff.call(this,["visible"]);var a,b;if("undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(b="visibilitychange",a="hidden"):void 0!==document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):void 0!==document.msHidden?(b="msvisibilitychange",a="msHidden"):void 0!==document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden")),this.Sb=!0,b){var c=this;document.addEventListener(b,function(){var b=!document[a];b!==c.Sb&&(c.Sb=b,c.ie("visible",b))},!1)}}function P(a,b){if(1==arguments.length){this.u=a.split("/");for(var c=0,d=0;d<this.u.length;d++)0<this.u[d].length&&(this.u[c]=this.u[d],c++);this.u.length=c,this.aa=0}else this.u=a,this.aa=b}function lf(a,b){var c=K(a);if(null===c)return b;if(c===K(b))return lf(N(a),N(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}function mf(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=yc(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function K(a){return a.aa>=a.u.length?null:a.u[a.aa]}function le(a){return a.u.length-a.aa}function N(a){var b=a.aa;return b<a.u.length&&b++,new P(a.u,b)}function me(a){return a.aa<a.u.length?a.u[a.u.length-1]:null}function nf(a,b){this.Ua=a.slice(),this.Ka=Math.max(1,this.Ua.length),this.pf=b;for(var c=0;c<this.Ua.length;c++)this.Ka+=Pb(this.Ua[c]);of(this)}function of(a){if(768<a.Ka)throw Error(a.pf+"has a key path longer than 768 bytes ("+a.Ka+").");if(32<a.Ua.length)throw Error(a.pf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pf(a))}function pf(a){return 0==a.Ua.length?"":"in property '"+a.Ua.join(".")+"'"}function qf(a,b){this.value=a,this.children=b||rf}function sf(a){var b=qe;return v(a,function(a,c){b=b.set(new P(c),a)}),b}function tf(a,b,c){if(null!=a.value&&c(a.value))return{path:M,value:a.value};if(b.e())return null;var d=K(b);return a=a.children.get(d),null!==a?(b=tf(a,N(b),c),null!=b?{path:new P(d).o(b.path),value:b.value}:null):null}function uf(a,b){return tf(a,b,function(){return!0})}function pe(a,b,c){if(b.e())return c;var d=K(b);return b=pe(a.children.get(d)||qe,N(b),c),d=b.e()?a.children.remove(d):a.children.Sa(d,b),new qf(a.value,d)}function vf(a,b){return wf(a,M,b)}function wf(a,b,c){var d={};return a.children.ka(function(a,e){d[a]=wf(e,b.o(a),c)}),c(b,a.value,d)}function xf(a,b,c){return yf(a,b,M,c)}function yf(a,b,c,d){var e=!!a.value&&d(c,a.value);return e||(b.e()?null:(e=K(b),(a=a.children.get(e))?yf(a,N(b),c.o(e),d):null))}function zf(a,b,c){Af(a,b,M,c)}function Af(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=K(b);return(a=a.children.get(e))?Af(a,N(b),c.o(e),d):qe}function ne(a,b){Bf(a,M,b)}function Bf(a,b,c){a.children.ka(function(a,d){Bf(d,b.o(a),c)}),a.value&&c(b,a.value)}function Cf(a,b){a.children.ka(function(a,c){c.value&&b(a,c.value)})}function Df(a,b,c){this.type=ee,this.source=Ef,this.path=a,this.Ub=b,this.Yd=c}function Ff(a,b,c,d){this.Ae=a,this.tf=b,this.Lb=c,this.ef=d,O(!d||b,"Tagged queries must be from server.")}function Hf(a){this.Z=a}function Jf(a,b,c){if(b.e())return new Hf(new qf(c));var d=uf(a.Z,b);if(null!=d){var e=d.path,d=d.value;return b=lf(e,b),d=d.H(b,c),new Hf(a.Z.set(e,d))}return a=pe(a.Z,b,new qf(c)),new Hf(a)}function Kf(a,b,c){var d=a;return Fb(c,function(a,c){d=Jf(d,b.o(a),c)}),d}function Lf(a,b){var c=uf(a.Z,b);return null!=c?a.Z.get(c.path).S(lf(c.path,b)):null}function Mf(a){var b=[],c=a.Z.value;return null!=c?c.L()||c.R(R,function(a,c){b.push(new L(a,c))}):a.Z.children.ka(function(a,c){null!=c.value&&b.push(new L(a,c.value))}),b}function Nf(a,b){if(b.e())return a;var c=Lf(a,b);return new Hf(null!=c?new qf(c):a.Z.subtree(b))}function Of(a,b,c){if(null!=b.value)return c.H(a,b.value);var d=null;return b.children.ka(function(b,e){".priority"===b?(O(null!==e.value,"Priority writes must always be leaf nodes"),d=e.value):c=Of(a.o(b),e,c)}),c.S(a).e()||null===d||(c=c.H(a.o(".priority"),d)),c}function Pf(){this.V=If,this.pa=[],this.Pc=-1}function Qf(a,b){for(var c=0;c<a.pa.length;c++){var d=a.pa[c];if(d.md===b)return d}return null}function Rf(a,b){return a.Ja?a.path.contains(b):!!ta(a.children,function(c,d){return a.path.o(d).contains(b)})}function Tf(a){return a.visible}function Sf(a,b,c){for(var d=If,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Ja)c.contains(g)?(g=lf(c,g),d=Jf(d,g,f.Ja)):g.contains(c)&&(g=lf(g,c),d=Jf(d,M,f.Ja.S(g)));else{if(!f.children)throw jd("WriteRecord should have .snap or .children");c.contains(g)?(g=lf(c,g),d=Kf(d,g,f.children)):g.contains(c)&&(g=lf(g,c),g.e()?d=Kf(d,M,f.children):(f=z(f.children,K(g)))&&(f=f.S(N(g)),d=Jf(d,M,f)))}}}return d}function Uf(a,b){this.Qb=a,this.Z=b}function Vf(){this.children={},this.pd=0,this.value=null}function Wf(a,b,c){this.Jd=a||"",this.Ha=b||null,this.A=c||new Vf}function Xf(a,b){for(var c,d=b instanceof P?b:new P(b),e=a;null!==(c=K(d));)e=new Wf(c,e,z(e.A.children,c)||new Vf),d=N(d);return e}function Yf(a,b){O(void 0!==b,"Cannot set value to undefined"),a.A.value=b,Zf(a)}function $f(a,b,c,d){c&&!d&&b(a),a.R(function(a){$f(a,b,!0,d)}),c&&d&&b(a)}function ag(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}function Zf(a){if(null!==a.Ha){var b=a.Ha,c=a.Jd,d=a.e(),e=y(b.A.children,c);d&&e?(delete b.A.children[c],b.A.pd--,Zf(b)):d||e||(b.A.children[c]=a.A,b.A.pd++,Zf(b))}}function eg(a){return q(a)&&0!==a.length&&!bg.test(a)}function fg(a){return null===a||q(a)||fa(a)&&!td(a)||ga(a)&&y(a,".sv")}function gg(a,b,c,d){d&&!p(b)||hg(E(a,1,d),b,c)}function hg(a,b,c){if(c instanceof P&&(c=new nf(c,a)),!p(b))throw Error(a+"contains undefined "+pf(c));if(r(b))throw Error(a+"contains a function "+pf(c)+" with contents: "+b.toString());if(td(b))throw Error(a+"contains "+b.toString()+" "+pf(c));if(q(b)&&b.length>10485760/3&&10485760<Pb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+pf(c)+" ('"+b.substring(0,50)+"...')");if(ga(b)){var d=!1,e=!1;if(Fb(b,function(b,f){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=!0,!eg(b)))throw Error(a+" contains an invalid key ("+b+") "+pf(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b),hg(a,f,c),c.pop()}),d&&e)throw Error(a+' contains ".value" child '+pf(c)+" in addition to actual children.")}}function ig(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!eg(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(b.sort(mf),e=null,c=0;c<b.length;c++){if(d=b[c],null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}function jg(a,b,c){var d=E(a,1,!1);if(!ga(b)||da(b))throw Error(d+" must be an object containing the children to replace.");var e=[];Fb(b,function(a,b){var f=new P(a);if(hg(d,b,c.o(f)),".priority"===me(f)&&!fg(b))throw Error(d+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(f)}),ig(d,e)}function kg(a,b,c){if(td(c))throw Error(E(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fg(c))throw Error(E(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function lg(a,b,c){if(!c||p(b))switch(b){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(E(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function mg(a,b){if(p(b)&&!eg(b))throw Error(E(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ng(a,b){if(!q(b)||0===b.length||cg.test(b))throw Error(E(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function og(a,b){if(".info"===K(b))throw Error(a+" failed: Can't modify data under /.info/")}function pg(a,b){if(!q(b))throw Error(E(a,1,!1)+"must be a valid credential (a string).")}function qg(a,b,c){if(!q(c))throw Error(E(a,b,!1)+"must be a valid string.")}function rg(a,b){if(qg(a,1,b),!dg.test(b))throw Error(E(a,1,!1)+"'"+b+"' is not a valid authentication provider.")}function sg(a,b,c,d){if((!d||p(c))&&(!ga(c)||null===c))throw Error(E(a,b,d)+"must be a valid object.")}function tg(a,b,c){if(!ga(b)||!y(b,c))throw Error(E(a,1,!1)+'must contain the key "'+c+'"');if(!q(z(b,c)))throw Error(E(a,1,!1)+'must contain the key "'+c+'" with type "string"')}function ug(){this.set={}}function vg(a,b){v(a.set,function(a,c){b(c,a)})}function Vc(){this.m=this.B=null}function wg(a,b){if(b.e())return a.B=null,a.m=null,!0;if(null!==a.B){if(a.B.L())return!1;var c=a.B;return a.B=null,c.R(R,function(b,c){a.rc(new P(b),c)}),wg(a,b)}return null===a.m||(c=K(b),b=N(b),a.m.contains(c)&&wg(a.m.get(c),b)&&a.m.remove(c),!!a.m.e()&&(a.m=null,!0))}function Wc(a,b,c){null!==a.B?c(b,a.B):a.R(function(a,d){Wc(d,new P(b.toString()+"/"+a),c)})}function yg(a,b,c){this.qd=a||{},this.he=b||{},this.fb=c||{},this.qd.remember||(this.qd.remember="default")}function Ag(a){var b={},c={};return Fb(a||{},function(a,d){0<=La(zg,a)?b[a]=d:c[a]=d}),new yg(b,{},c)}function Bg(a,b){this.Ue=["session",a.Rd,a.lc].join(":"),this.ee=b}function Cg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cg())}function Eg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Fg(a){var b=Cg();if(""===b)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((b=b.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<b.length)return parseFloat(b[1])>=a}else if(-1<b.indexOf("Trident")&&(b=b.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<b.length)return parseFloat(b[1])>=a;return!1}function Gg(){var a,b=window.opener.frames;for(a=b.length-1;0<=a;a--)try{if(b[a].location.protocol===window.location.protocol&&b[a].location.host===window.location.host&&"__winchan_relay_frame"===b[a].name)return b[a]}catch(a){}return null}function Hg(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function Ig(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}function Jg(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function Kg(a){var b="";try{a=a.replace(/.*\?/,"");var c=Jb(a);c&&y(c,"__firebase_request_key")&&(b=z(c,"__firebase_request_key"))}catch(a){}return b}function Lg(){try{var a=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,""),a=a.replace(/\?$/,""),a=a.replace(/^#+$/,"");document.location.hash=a}catch(a){}}function Mg(){var a=sd(xg);return a.scheme+"://"+a.host+"/v2"}function Ng(a){return Mg()+"/"+a+"/auth/channel"}function Og(a){var b=this;if(this.hb=a,this.fe="*",Fg(8)?this.Uc=this.Cd=Gg():(this.Uc=window.opener,this.Cd=window),!b.Uc)throw"Unable to find relay frame";Hg(this.Cd,"message",u(this.nc,this)),Hg(this.Cd,"message",u(this.Ff,this));try{Pg(this,{a:"ready"})}catch(a){Hg(this.Uc,"load",function(){Pg(b,{a:"ready"})})}Hg(window,"unload",u(this.Ng,this))}function Pg(a,b){b=G(b),Fg(8)?a.Uc.doPost(b,a.fe):a.Uc.postMessage(b,a.fe)}function Qg(a){this.tc=Fa()+Fa()+Fa(),this.Kf=a}function Sg(a){var b=Error(z(Rg,a),a);return b.code=a,b}function Tg(a){var b;(b=!a.window_features)||(b=Cg(),b=-1!==b.indexOf("Fennec/")||-1!==b.indexOf("Firefox/")&&-1!==b.indexOf("Android")),b&&(a.window_features=void 0),a.window_name||(a.window_name="_blank"),this.options=a}function Ug(a){a.method||(a.method="GET"),a.headers||(a.headers={}),a.headers.content_type||(a.headers.content_type="application/json"),a.headers.content_type=a.headers.content_type.toLowerCase(),this.options=a}function Vg(a){this.tc=Fa()+Fa()+Fa(),this.Kf=a}function Wg(a){a.callback_parameter||(a.callback_parameter="callback"),this.options=a,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Xg(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript",d.id=a,d.async=!0,d.src=b,d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b),c&&c(Sg("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(a){c&&c(Sg("NETWORK_ERROR"))}},0)}function Yg(a,b,c,d){ff.call(this,["auth_status"]),this.G=a,this.hf=b,this.ih=c,this.Pe=d,this.wc=new Bg(a,[bd,cd]),this.qb=null,this.We=!1,Zg(this)}function Zg(a){cd.get("redirect_request_id")&&$g(a);var b=a.wc.get();b&&b.token?(ah(a,b),a.hf(b.token,function(c,d){bh(a,c,d,!1,b.token,b)},function(b,c){ch(a,"resumeSession()",b,c)})):ah(a,null)}function dh(a,b,c,d,e,f){"firebaseio-demo.com"===a.G.domain&&S("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),a.hf(b,function(f,g){bh(a,f,g,!0,b,c,d||{},e)},function(b,c){ch(a,"auth()",b,c,f)})}function eh(a,b){a.wc.clear(),ah(a,null),a.ih(function(a,c){if("ok"===a)T(b,null);else{var d=(a||"error").toUpperCase(),e=d;c&&(e+=": "+c),e=Error(e),e.code=d,T(b,e)}})}function bh(a,b,c,d,e,f,g,h){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=Ed(e)?e:"",c=null,b&&y(b,"uid")?c=z(b,"uid"):y(f,"uid")&&(c=z(f,"uid")),f.uid=c,c="custom",b&&y(b,"provider")?c=z(b,"provider"):y(f,"provider")&&(c=z(f,"provider")),f.provider=c,a.wc.clear(),Ed(e)&&(g=g||{},c=bd,"sessionOnly"===g.remember&&(c=cd),"none"!==g.remember&&a.wc.set(f,c)),ah(a,f)),T(h,null,f)):(a.wc.clear(),ah(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,T(h,f))}function ch(a,b,c,d,e){S(b+" was canceled: "+d),a.wc.clear(),ah(a,null),a=Error(d),a.code=c.toUpperCase(),T(e,a)}function fh(a,b,c,d,e){gh(a),c=new yg(d||{},{},c||{}),hh(a,[Ug,Wg],"/auth/"+b,c,e)}function ih(a,b,c,d){gh(a);var e=[Tg,Vg];c=Ag(c);var f=625;"anonymous"===b||"password"===b?setTimeout(function(){T(d,Sg("TRANSPORT_UNAVAILABLE"))},0):("github"===b&&(f=1025),c.he.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width="+f+",top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-f):0),c.he.relay_url=Ng(a.G.lc),c.he.requestWithCredential=u(a.uc,a),hh(a,e,"/auth/"+b,c,d))}function $g(a){var b=cd.get("redirect_request_id");if(b){var c=cd.get("redirect_client_options");cd.remove("redirect_request_id"),cd.remove("redirect_client_options");var d=[Ug,Wg],b={requestId:b,requestKey:Kg(document.location.hash)},c=new yg(c,{},b);a.We=!0,Lg(),hh(a,d,"/auth/session",c,function(){this.We=!1}.bind(a))}}function hh(a,b,c,d,e){jh(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?dh(a,c.token,c,d.qd,function(a,b){a?T(e,a):T(e,null,b)}):T(e,b||Sg("UNKNOWN_ERROR"))})}function jh(a,b,c,d,e){b=Na(b,function(a){return"function"==typeof a.isAvailable&&a.isAvailable()}),0===b.length?setTimeout(function(){T(e,Sg("TRANSPORT_UNAVAILABLE"))},0):(b=new(b.shift())(d.he),d=Gb(d.fb),d.v="js-"+Eb,d.transport=b.Fc(),d.suppress_status_codes=!0,a=Mg()+"/"+a.G.lc+c,b.open(a,d,function(a,b){if(a)T(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code,c.details=b.error.details,T(e,c)}else T(e,null,b)}))}function ah(a,b){var c=null!==a.qb||null!==b;a.qb=b,c&&a.ie("auth_status",b),a.Pe(null!==b)}function gh(a){var b=a.G;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===xg)throw Error("This custom Firebase server ('"+a.G.domain+"') does not support delegated login.")}function kh(a){this.nc=a,this.Qd=[],this.Wb=0,this.te=-1,this.Jb=null}function lh(a,b,c){a.te=b,a.Jb=c,a.te<a.Wb&&(a.Jb(),a.Jb=null)}function mh(a,b,c){for(a.Qd[b]=c;a.Qd[a.Wb];){var d=a.Qd[a.Wb];delete a.Qd[a.Wb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;gc(function(){f.nc(d[e])})}if(a.Wb===a.te){a.Jb&&(clearTimeout(a.Jb),a.Jb(),a.Jb=null);break}a.Wb++}}function nh(a,b,c,d){this.ue=a,this.f=pd(a),this.rb=this.sb=0,this.Xa=uc(b),this.Xf=c,this.Kc=!1,this.Fb=d,this.ld=function(a){return fd(b,hd,a)}}function rh(a,b){var c=G(b).length;a.rb+=c,rc(a.Xa,"bytes_received",c)}function qh(a,b,c,d){if(this.ld=d,this.lb=c,this.Te=new ug,this.cd=[],this.we=Math.floor(1e8*Math.random()),this.$d=!0,this.ke=id(),window["pLPCommand"+this.ke]=a,window["pRTLPCB"+this.ke]=b,a=document.createElement("iframe"),a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||fc("No IE domain setting required")}catch(b){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}a.contentDocument?a.jb=a.contentDocument:a.contentWindow?a.jb=a.contentWindow.document:a.document&&(a.jb=a.document),this.Ga=a,a="",this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>'),a="<html><body>"+a+"</body></html>";try{this.Ga.jb.open(),this.Ga.jb.write(a),this.Ga.jb.close()}catch(a){fc("frame writing exception"),a.stack&&fc(a.stack),fc(a)}}function th(a){if(a.oe&&a.$d&&a.Te.count()<(0<a.cd.length?2:1)){a.we++;var b={};b.id=a.Gg,b.pw=a.Hg,b.ser=a.we;for(var b=a.ld(b),c="",d=0;0<a.cd.length&&1870>=a.cd[0].of.length+30+c.length;){var e=a.cd.shift(),c=c+"&seg"+d+"="+e.Yg+"&ts"+d+"="+e.hh+"&d"+d+"="+e.of;d++}return uh(a,b+c,a.we),!0}return!1}function uh(a,b,c){function d(){a.Te.remove(c),th(a)}a.Te.add(c,1);var e=setTimeout(d,Math.floor(25e3));sh(a,b,function(){clearTimeout(e),d()})}function sh(a,b,c){setTimeout(function(){try{if(a.$d){var d=a.Ga.jb.createElement("script");d.type="text/javascript",d.async=!0,d.src=b,d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())},d.onerror=function(){fc("Long-poll script failed to load: "+b),a.$d=!1,a.close()},a.Ga.jb.body.appendChild(d)}}catch(a){}},Math.floor(1))}function wh(a,b,c,d){this.ue=a,this.f=pd(this.ue),this.frames=this.Nc=null,this.rb=this.sb=this.ff=0,this.Xa=uc(b),a={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f"),c&&(a.s=c),d&&(a.ls=d),this.jf=fd(b,gd,a)}function zh(a,b){if(a.frames.push(b),a.frames.length==a.ff){var c=a.frames.join("");a.frames=null,c=Rb(c),a.Lg(c)}}function yh(a){clearInterval(a.Nc),a.Nc=setInterval(function(){a.La&&Ah(a,"0"),yh(a)},Math.floor(45e3))}function Ah(a,b){try{a.La.send(b)}catch(b){a.f("Exception thrown from WebSocket.send():",b.message||b.data,"Closing connection."),setTimeout(u(a.bb,a),0)}}function Bh(a){Ch(this,a)}function Ch(a,b){var c=wh&&wh.isAvailable(),d=c&&!(bd.Af||!0===bd.get("previous_websocket_failure"));if(b.jh&&(c||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0),d)a.jd=[wh];else{var e=a.jd=[];zd(Dh,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function Eh(a){if(0<a.jd.length)return a.jd[0];throw Error("No transports available")}function Fh(a,b,c,d,e,f,g){this.id=a,this.f=pd("c:"+this.id+":"),this.nc=c,this.Zc=d,this.na=e,this.Re=f,this.G=b,this.Pd=[],this.kf=0,this.Wf=new Bh(b),this.N=0,this.Fb=g,this.f("Connection created"),Gh(this)}function Gh(a){var b=Eh(a.Wf);a.K=new b("c:"+a.id+":"+a.kf++,a.G,void 0,a.Fb),a.Ve=b.responsesRequiredToBeHealthy||0;var c=Hh(a,a.K),d=Ih(a,a.K);a.kd=a.K,a.ed=a.K,a.F=null,a.Eb=!1,setTimeout(function(){a.K&&a.K.open(c,d)},Math.floor(0)),0<(b=b.healthyTimeout||0)&&(a.Bd=setTimeout(function(){a.Bd=null,a.Eb||(a.K&&102400<a.K.rb?(a.f("Connection exceeded healthy timeout but has received "+a.K.rb+" bytes.  Marking connection healthy."),a.Eb=!0,a.K.Hd()):a.K&&10240<a.K.sb?a.f("Connection exceeded healthy timeout but has sent "+a.K.sb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function Ih(a,b){return function(c){b===a.K?(a.K=null,c||0!==a.N?1===a.N&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.G.ab.substr(0,2)&&(bd.remove("host:"+a.G.host),a.G.ab=a.G.host)),a.close()):b===a.F?(a.f("Secondary connection lost."),c=a.F,a.F=null,a.kd!==c&&a.ed!==c||a.close()):a.f("closing an old connection")}}function Hh(a,b){return function(c){if(2!=a.N)if(b===a.ed){var d=wd("t",c);if(c=wd("d",c),"c"==d){if(d=wd("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Uf=c.s,ed(a.G,f),0==a.N&&(a.K.start(),Jh(a,a.K,d),"5"!==e&&S("Protocol version mismatch detected"),c=a.Wf,(c=1<c.jd.length?c.jd[1]:null)&&Kh(a,c))}else if("n"===d){for(a.f("recvd end transmission on primary"),a.ed=a.F,c=0;c<a.Pd.length;++c)a.Ld(a.Pd[c]);a.Pd=[],Lh(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),a.Re&&(a.Re(c),a.Re=null),a.na=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),ed(a.G,c),1===a.N?a.close():(Mh(a),Gh(a))):"e"===d?qd("Server Error: "+c):"o"===d?(a.f("got pong on primary."),Nh(a),Oh(a)):qd("Unknown control packet command: "+d)}else"d"==d&&a.Ld(c)}else if(b===a.F)if(d=wd("t",c),c=wd("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Ph(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.F.close(),a.kd!==a.F&&a.ed!==a.F||a.close()):"o"===c&&(a.f("got pong on secondary."),a.Tf--,Ph(a)));else{if("d"!=d)throw Error("Unknown protocol layer: "+d);a.Pd.push(c)}else a.f("message on old connection")}}function Lh(a){a.kd===a.F&&a.ed===a.F&&(a.f("cleaning up and promoting a connection: "+a.F.ue),a.K=a.F,a.F=null)}function Ph(a){0>=a.Tf?(a.f("Secondary connection is healthy."),a.Eb=!0,a.F.Hd(),a.F.start(),a.f("sending client ack on secondary"),a.F.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.K.send({t:"c",d:{t:"n",d:{}}}),a.kd=a.F,Lh(a)):(a.f("sending ping on secondary."),a.F.send({t:"c",d:{t:"p",d:{}}}))}function Nh(a){a.Eb||0>=--a.Ve&&(a.f("Primary connection is healthy."),a.Eb=!0,a.K.Hd())}function Kh(a,b){a.F=new b("c:"+a.id+":"+a.kf++,a.G,a.Uf),a.Tf=b.responsesRequiredToBeHealthy||0,a.F.open(Hh(a,a.F),Ih(a,a.F)),setTimeout(function(){a.F&&(a.f("Timed out trying to upgrade."),a.F.close())},Math.floor(6e4))}function Jh(a,b,c){a.f("Realtime connection established."),a.K=b,a.N=1,a.Zc&&(a.Zc(c,a.Uf),a.Zc=null),0===a.Ve?(a.f("Primary connection is healthy."),a.Eb=!0):setTimeout(function(){Oh(a)},Math.floor(5e3))}function Oh(a){a.Eb||1!==a.N||(a.f("sending ping on primary."),Qh(a,{t:"c",d:{t:"p",d:{}}}))}function Qh(a,b){if(1!==a.N)throw"Connection is not connected";a.kd.send(b)}function Mh(a){a.f("Shutting down all connections"),a.K&&(a.K.close(),a.K=null),a.F&&(a.F.close(),a.F=null),a.Bd&&(clearTimeout(a.Bd),a.Bd=null)}function Rh(a,b,c,d){this.id=Sh++,this.f=pd("p:"+this.id+":"),this.Bf=this.Ie=!1,this.ba={},this.sa=[],this.ad=0,this.Yc=[],this.qa=!1,this.eb=1e3,this.Id=3e5,this.Kb=b,this.Xc=c,this.Se=d,this.G=a,this.wb=this.Ca=this.Ma=this.Fb=this.$e=null,this.Sb=!1,this.Wd={},this.Xg=0,this.rf=!0,this.Oc=this.Ke=null,Th(this,0),kf.yb().Ib("visible",this.Og,this),-1===a.host.indexOf("fblocal")&&jf.yb().Ib("online",this.Mg,this)}function Vh(a,b){var c=b.Ug,d=c.path.toString(),e=c.wa();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=Ge(c.n),f.t=b.tag),f.h=b.Ad(),a.Ia("q",f,function(f){var g=f.d,h=f.s;if(g&&"object"==typeof g&&y(g,"w")){var i=z(g,"w");da(i)&&0<=La(i,"no_index")&&S('Using an unspecified index. Consider adding ".indexOn": "'+c.n.g.toString()+'" at '+c.path.toString()+" to your security rules for better performance")}(a.ba[d]&&a.ba[d][e])===b&&(a.f("listen response",f),"ok"!==h&&Wh(a,d,e),b.I&&b.I(h,g))})}function Xh(a){var b=a.Ca;a.qa&&b&&a.Ia("auth",{cred:b.rg},function(c){var d=c.s;c=c.d||"error","ok"!==d&&a.Ca===b&&(a.Ca=null),b.sf?"ok"!==d&&b.od&&b.od(d,c):(b.sf=!0,b.Dc&&b.Dc(d,c))})}function Yh(a,b,c,d,e){c={p:c,d:d},a.f("onDisconnect "+b,c),a.Ia(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}function Zh(a,b,c,d,e,f){d={p:c,d:d},p(f)&&(d.h=f),a.sa.push({action:b,Pf:d,I:e}),a.ad++,b=a.sa.length-1,a.qa?$h(a,b):a.f("Buffering put: "+c)}function $h(a,b){var c=a.sa[b].action,d=a.sa[b].Pf,e=a.sa[b].I;a.sa[b].Vg=a.qa,a.Ia(c,d,function(d){a.f(c+" response",d),delete a.sa[b],a.ad--,0===a.ad&&(a.sa=[]),e&&e(d.s,d.d)})}function Th(a,b){O(!a.Ma,"Scheduling a connect when we're already connected/ing?"),a.wb&&clearTimeout(a.wb),a.wb=setTimeout(function(){a.wb=null,ci(a)},Math.floor(b))}function ci(a){if(di(a)){a.f("Making a connection attempt"),a.Ke=(new Date).getTime(),a.Oc=null;var b=u(a.Ld,a),c=u(a.Zc,a),d=u(a.If,a),e=a.id+":"+Uh++;a.Ma=new Fh(e,a.G,b,c,d,function(b){S(b+" ("+a.G.toString()+")"),a.Bf=!0},a.Fb)}}function ai(a,b,c){c=c?Oa(c,function(a){return xd(a)}).join("$"):"default",(a=Wh(a,b,c))&&a.I&&a.I("permission_denied")}function Wh(a,b,c){b=new P(b).toString();var d;return p(a.ba[b])?(d=a.ba[b][c],delete a.ba[b][c],0===oa(a.ba[b])&&delete a.ba[b]):d=void 0,d}function bi(a){Xh(a),v(a.ba,function(b){v(b,function(b){Vh(a,b)})});for(var b=0;b<a.sa.length;b++)a.sa[b]&&$h(a,b);for(;a.Yc.length;)b=a.Yc.shift(),Yh(a,b.action,b.bd,b.data,b.I)}function di(a){var b;return b=jf.yb().oc,!a.Bf&&!a.Ie&&b}function ei(a,b){this.committed=a,this.snapshot=b}function V(a,b){this.dd=a,this.ta=b}function W(a,b,c){this.A=a,this.Y=b,this.g=c}function ii(a,b,c){this.Vb=a,this.tb=b,this.vb=c||null}function ji(a,b,c){this.ja=a,this.tb=b,this.vb=c}function ki(){this.za={}}function mi(a){return Na(qa(a.za),function(a){return!He(a.Y.n)})}function ni(a,b){if(He(b.n))return li(a);var c=b.wa();return z(a.za,c)}function li(a){return ua(a.za,function(a){return He(a.Y.n)})||null}function oi(a){this.va=qe,this.mb=new Pf,this.df={},this.qc={},this.Qc=a}function pi(a,b,c,d,e){var f=a.mb,g=e;return O(d>f.Pc,"Stacking an older write on top of newer ones"),p(g)||(g=!0),f.pa.push({path:b,Ja:c,md:d,visible:g}),g&&(f.V=Jf(f.V,b,c)),f.Pc=d,e?qi(a,new Ac(Ef,b,c)):[]}function ri(a,b,c,d){var e=a.mb;return O(d>e.Pc,"Stacking an older merge on top of newer ones"),e.pa.push({path:b,children:c,md:d,visible:!0}),e.V=Kf(e.V,b,c),e.Pc=d,c=sf(c),qi(a,new bf(Ef,b,c))}function si(a,b,c){c=c||!1;var d=Qf(a.mb,b);if(a.mb.Ud(b)){var e=qe;return null!=d.Ja?e=e.set(M,!0):Fb(d.children,function(a,b){e=e.set(new P(a),b)}),qi(a,new Df(d.path,e,c))}return[]}function ti(a,b,c){return c=sf(c),qi(a,new bf(Gf,b,c))}function ui(a,b,c,d){if(null!=(d=vi(a,d))){var e=wi(d);return d=e.path,e=e.Lb,b=lf(d,b),c=new Ac(new Ff(!1,!0,e,!0),b,c),xi(a,d,c)}return[]}function yi(a,b,c,d){if(d=vi(a,d)){var e=wi(d);return d=e.path,e=e.Lb,b=lf(d,b),c=sf(c),c=new bf(new Ff(!1,!0,e,!0),b,c),xi(a,d,c)}return[]}function Ci(a){return vf(a,function(a,b,c){if(b&&null!=li(b))return[li(b)];var d=[];return b&&(d=mi(b)),v(c,function(a){d=d.concat(a)}),d})}function Gi(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!He(d.n)){var d=zi(d),e=a.qc[d];delete a.qc[d],delete a.df["_"+e]}}}function Ei(a){return He(a.n)&&!Ie(a.n)?a.Mb():a}function Bi(a,b,c){var d=b.path,e=Fi(a,b);if(c=Di(a,c),b=a.Qc.af(Ei(b),e,c.Ad,c.I),d=a.va.subtree(d),e)O(null==li(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=vf(d,function(a,b,c){if(!a.e()&&b&&null!=li(b))return[Ze(li(b))];var d=[];return b&&(d=d.concat(Oa(mi(b),function(a){return a.Y}))),v(c,function(a){d=d.concat(a)}),d}),d=0;d<e.length;++d)c=e[d],a.Qc.de(Ei(c),Fi(a,c));return b}function Di(a,b){var c=b.Y,d=Fi(a,c);return{Ad:function(){return(b.w()||H).hash()},I:function(b){if("ok"===b){if(d){var e=c.path;if(b=vi(a,d)){var f=wi(b);b=f.path,f=f.Lb,e=lf(b,e),e=new Cc(new Ff(!1,!0,f,!0),e),b=xi(a,b,e)}else b=[]}else b=qi(a,new Cc(Gf,c.path));return b}return e="Unknown Error","too_big"===b?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?e="Client doesn't have permission to access the desired data.":"unavailable"==b&&(e="The service is unavailable"),e=Error(b+" at "+c.path.toString()+": "+e),e.code=b.toUpperCase(),a.nb(c,null,e)}}}function zi(a){return a.path.toString()+"$"+a.wa()}function wi(a){var b=a.indexOf("$");return O(-1!==b&&b<a.length-1,"Bad queryKey."),{Lb:a.substr(b+1),path:new P(a.substr(0,b))}}function vi(a,b){var c=a.df,d="_"+b;return d in c?c[d]:void 0}function Fi(a,b){var c=zi(b);return z(a.qc,c)}function xi(a,b,c){var d=a.va.get(b);return O(d,"Missing sync point for query tag that we're tracking"),d.gb(c,new Uf(b,a.mb),null)}function qi(a,b){return Hi(a,b,a.va,null,new Uf(M,a.mb))}function Hi(a,b,c,d,e){if(b.path.e())return Ii(a,b,c,d,e);var f=c.get(M);null==d&&null!=f&&(d=f.kb(M));var g=[],h=K(b.path),i=b.$c(h);if((c=c.children.get(h))&&i)var j=d?d.T(h):null,h=e.o(h),g=g.concat(Hi(a,i,c,j,h));return f&&(g=g.concat(f.gb(b,e,d))),g}function Ii(a,b,c,d,e){var f=c.get(M);null==d&&null!=f&&(d=f.kb(M));var g=[];return c.children.ka(function(c,f){var h=d?d.T(c):null,i=e.o(c),j=b.$c(c);j&&(g=g.concat(Ii(a,j,f,h,i)))}),f&&(g=g.concat(f.gb(b,e,d))),g}function Ji(a,b){this.G=a,this.Xa=uc(a),this.hd=null,this.fa=new Zb,this.Kd=1,this.Va=null,b||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.da=new cf(this.G,u(this.Kb,this)),setTimeout(u(this.Xc,this,!0),0)):this.da=this.Va=new Rh(this.G,u(this.Kb,this),u(this.Xc,this),u(this.Se,this)),this.eh=vc(a,u(function(){return new pc(this.Xa,this.da)},this)),this.yc=new Wf,this.Ge=new Sb;var c=this;this.Fd=new oi({af:function(a,b,d,e){return b=[],d=c.Ge.j(a.path),d.e()||(b=qi(c.Fd,new Ac(Gf,a.path,d)),setTimeout(function(){e("ok")},0)),b},de:aa}),Ki(this,"connected",!1),this.na=new Vc,this.O=new Yg(a,u(this.da.O,this.da),u(this.da.je,this.da),u(this.Pe,this)),this.ud=0,this.He=null,this.M=new oi({af:function(a,b,d,e){return c.da.Cf(a,d,b,function(b,d){var f=e(b,d);dc(c.fa,a.path,f)}),[]},de:function(a,b){c.da.$f(a,b)}})}function Li(a){return a=a.Ge.j(new P(".info/serverTimeOffset")).J()||0,(new Date).getTime()+a}function Mi(a){return a=a={timestamp:Li(a)},a.timestamp=a.timestamp||(new Date).getTime(),a}function Ki(a,b,c){b=new P("/.info/"+b),c=Q(c);var d=a.Ge;d.Zd=d.Zd.H(b,c),c=qi(a.Fd,new Ac(Gf,b,c)),dc(a.fa,b,c)}function Oi(a){a.f("onDisconnectEvents");var b=Mi(a),c=[];Wc(Uc(a.na,b),M,function(b,d){c=c.concat(qi(a.M,new Ac(Gf,b,d)));var e=Qi(a,b);Ni(a,e)}),a.na=new Vc,dc(a.fa,M,c)}function fi(a,b,c,d){var e=Q(c);a.da.Qe(b.toString(),e.J(!0),function(c,f){"ok"===c&&a.na.rc(b,e),Pi(d,c,f)})}function gi(a,b,c,d,e){var f=Q(c,d);a.da.Qe(b.toString(),f.J(!0),function(c,d){"ok"===c&&a.na.rc(b,f),Pi(e,c,d)})}function hi(a,b,c,d){var e,f=!0;for(e in c)f=!1;f?(fc("onDisconnect().update() called with empty data.  Don't do anything."),Pi(d,"ok")):a.da.Gf(b.toString(),c,function(e,f){if("ok"===e)for(var g in c){var h=Q(c[g]);a.na.rc(b.o(g),h)}
Pi(d,e,f)})}function Ri(a,b,c){c=".info"===K(b.path)?a.Fd.Tb(b,c):a.M.Tb(b,c),bc(a.fa,b.path,c)}function Pi(a,b,c){a&&gc(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c),e=Error(e),e.code=d,a(e)}})}function Si(a,b,c,d,e){function f(){}a.f("transaction on "+b);var g=new X(a,b);if(g.Ib("value",f),c={path:b,update:c,I:d,status:null,Lf:id(),gf:e,Sf:0,le:function(){g.mc("value",f)},ne:null,Da:null,rd:null,sd:null,td:null},d=a.M.Aa(b,void 0)||H,c.rd=d,d=c.update(d.J()),p(d)){hg("transaction failed: Data returned ",d,c.path),c.status=1,e=Xf(a.yc,b);var h=e.Ea()||[];h.push(c),Yf(e,h),"object"==typeof d&&null!==d&&y(d,".priority")?(h=z(d,".priority"),O(fg(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(a.M.Aa(b)||H).C().J(),e=Mi(a),d=Q(d,h),e=Xc(d,e),c.sd=d,c.td=e,c.Da=a.Kd++,c=pi(a.M,b,e,c.Da,c.gf),dc(a.fa,b,c),Ti(a)}else c.le(),c.sd=null,c.td=null,c.I&&(a=new W(c.rd,new X(a,c.path),R),c.I(null,!1,a))}function Ti(a,b){var c=b||a.yc;if(b||Ui(a,c),null!==c.Ea()){var d=Vi(a,c);O(0<d.length,"Sending zero length transaction queue"),Qa(d,function(a){return 1===a.status})&&Wi(a,c.path(),d)}else c.zd()&&c.R(function(b){Ti(a,b)})}function Wi(a,b,c){for(var d=Oa(c,function(a){return a.Da}),e=a.M.Aa(b,d)||H,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];O(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=2,g.Sf++;var h=lf(b,g.path),d=d.H(h,g.sd)}d=d.J(!0),a.da.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){for(d=[],f=0;f<c.length;f++){if(c[f].status=3,e=e.concat(si(a.M,c[f].Da)),c[f].I){var g=c[f].td,h=new X(a,c[f].path);d.push(u(c[f].I,null,null,!0,new W(g,h,R)))}c[f].le()}for(Ui(a,Xf(a.yc,b)),Ti(a),dc(a.fa,b,e),f=0;f<d.length;f++)gc(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(S("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].ne=d;Ni(a,b)}},e)}function Ni(a,b){var c=Xi(a,b),d=c.path(),c=Vi(a,c);return Yi(a,c,d),d}function Yi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Na(b,function(a){return 1===a.status}),f=Oa(f,function(a){return a.Da}),g=0;g<b.length;g++){var h,i=b[g],j=lf(c,i.path),k=!1;if(O(null!==j,"rerunTransactionsUnderNode_: relativePath should not be null."),5===i.status)k=!0,h=i.ne,e=e.concat(si(a.M,i.Da,!0));else if(1===i.status)if(25<=i.Sf)k=!0,h="maxretry",e=e.concat(si(a.M,i.Da,!0));else{var l=a.M.Aa(i.path,f)||H;i.rd=l;var m=b[g].update(l.J());p(m)?(hg("transaction failed: Data returned ",m,i.path),j=Q(m),"object"==typeof m&&null!=m&&y(m,".priority")||(j=j.ia(l.C())),l=i.Da,m=Mi(a),m=Xc(j,m),i.sd=j,i.td=m,i.Da=a.Kd++,Ta(f,l),e=e.concat(pi(a.M,i.path,m,i.Da,i.gf)),e=e.concat(si(a.M,l,!0))):(k=!0,h="nodata",e=e.concat(si(a.M,i.Da,!0)))}dc(a.fa,c,e),e=[],k&&(b[g].status=3,setTimeout(b[g].le,Math.floor(0)),b[g].I&&("nodata"===h?(i=new X(a,b[g].path),d.push(u(b[g].I,null,null,!1,new W(b[g].rd,i,R)))):d.push(u(b[g].I,null,Error(h),!1,null))))}for(Ui(a,a.yc),g=0;g<d.length;g++)gc(d[g]);Ti(a)}}function Xi(a,b){for(var c,d=a.yc;null!==(c=K(b))&&null===d.Ea();)d=Xf(d,c),b=N(b);return d}function Vi(a,b){var c=[];return Zi(a,b,c),c.sort(function(a,b){return a.Lf-b.Lf}),c}function Zi(a,b,c){var d=b.Ea();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.R(function(b){Zi(a,b,c)})}function Ui(a,b){var c=b.Ea();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d,Yf(b,0<c.length?c:null)}b.R(function(b){Ui(a,b)})}function Qi(a,b){var c=Xi(a,b).path(),d=Xf(a.yc,b);return ag(d,function(b){$i(a,b)}),$i(a,d),$f(d,function(b){$i(a,b)}),c}function $i(a,b){var c=b.Ea();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(O(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].ne="set"):(O(1===c[g].status,"Unexpected transaction status in abort"),c[g].le(),e=e.concat(si(a.M,c[g].Da,!0)),c[g].I&&d.push(u(c[g].I,null,Error("set"),!1,null))));for(-1===f?Yf(b,null):c.length=f+1,dc(a.fa,b.path(),e),g=0;g<d.length;g++)gc(d[g])}}function aj(){this.sc={},this.ag=!1}function Y(a,b,c,d){this.k=a,this.path=b,this.n=c,this.pc=d}function bj(a){var b=null,c=null;if(a.oa&&(b=Od(a)),a.ra&&(c=Rd(a)),a.g===re){if(a.oa){if("[MIN_NAME]"!=Nd(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(a.ra){if("[MAX_NAME]"!=Pd(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(a.g===R){if(null!=b&&!fg(b)||null!=c&&!fg(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(a.g instanceof ve||a.g===Be,"unknown index type."),null!=b&&"object"==typeof b||null!=c&&"object"==typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function cj(a){if(a.oa&&a.ra&&a.la&&(!a.la||""===a.Rb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function dj(a,b){if(!0===a.pc)throw Error(b+": You can't combine multiple orderBy calls.")}function ej(a,b,c){var d={cancel:null,Qa:null};if(b&&c)d.cancel=b,F(a,3,d.cancel,!0),d.Qa=c,Qb(a,4,d.Qa);else if(b)if("object"==typeof b&&null!==b)d.Qa=b;else{if("function"!=typeof b)throw Error(E(a,3,!0)+" must either be a cancel callback or a context object.");d.cancel=b}return d}function X(a,b){var c,d,e;if(a instanceof Ji)c=a,d=b;else{D("new Firebase",1,2,arguments.length),d=sd(arguments[0]),c=d.fh,"firebase"===d.domain&&rd(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),c&&"undefined"!=c||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.ob||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),c=new dd(d.host,d.ob,c,"ws"===d.scheme||"wss"===d.scheme),d=new P(d.bd),e=d.toString();var f;if(!(f=!q(c.host)||0===c.host.length||!eg(c.lc))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(q(e)&&0!==e.length&&!cg.test(e))),f)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof aj)e=b;else{if(!q(b))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");e=aj.yb(),c.Rd=b}else e=aj.yb();f=c.toString();var g=z(e.sc,f);g||(g=new Ji(c,e.ag),e.sc[f]=g),c=g}Y.call(this,c,d,De,!1),this.then=void 0,this.catch=void 0}var h,n=this,ja=Date.now||function(){return+new Date};ka(la,Error),la.prototype.name="CustomError";var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ea=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,w;a:{var Ga=n.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){w=Ha;break a}}w=""}ka(Ja,Ia),Ja.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ge=this.ec=0},Ja.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.Ya,d=0,e=this.pe,f=this.ec;d<b;){if(0==f)for(;d<=c;)Ka(this,a,d),d+=this.Ya;if(q(a)){for(;d<b;)if(e[f]=a.charCodeAt(d),++f,++d,f==this.Ya){Ka(this,e),f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Ya){Ka(this,e),f=0;break}}this.ec=f,this.ge+=b}};var x=Array.prototype,La=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Na=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var i=g[h];b.call(c,i,h,a)&&(e[f++]=i)}return e},Oa=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Pa=x.reduce?function(a,b,c,d){for(var e=[],f=1,g=arguments.length;f<g;f++)e.push(arguments[f]);return d&&(e[0]=u(b,d)),x.reduce.apply(a,e)}:function(a,b,c,d){var e=c;return Ma(a,function(c,f){e=b.call(d,e,c,f,a)}),e},Qa=x.every?function(a,b,c){return x.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},Ya,ab,cb=!1,db=[];[].push(function(){cb=!1,db=[]});var gb=-1!=w.indexOf("Opera")||-1!=w.indexOf("OPR"),hb=-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"),ib=-1!=w.indexOf("Gecko")&&-1==w.toLowerCase().indexOf("webkit")&&!(-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE")),jb=-1!=w.toLowerCase().indexOf("webkit");!function(){var a,b="";gb&&n.opera?(b=n.opera.version,r(b)&&b()):(ib?a=/rv\:([^\);]+)(\)|;)/:hb?a=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jb&&(a=/WebKit\/(\S+)/),a&&(b=(b=a.exec(w))?b[1]:""),hb&&(a=(a=n.document)?a.documentMode:void 0)>parseFloat(b)&&String(a))}();var kb=null,lb=null,mb=null,qb=0,tb=2,vb=3;pb.prototype.then=function(a,b,c){return wb(this,r(a)?a:null,r(b)?b:null,c)},pb.prototype.then=pb.prototype.then,pb.prototype.$goog_Thenable=!0,h=pb.prototype,h.gh=function(a,b){return wb(this,null,a,b)},h.cancel=function(a){this.N==qb&&$a(function(){xb(this,new ub(a))},this)},h.Yf=function(a){this.N=qb,sb(this,tb,a)},h.Zf=function(a){this.N=qb,sb(this,vb,a)},h.wg=function(){for(;this.Ba&&this.Ba.length;){var a=this.Ba;this.Ba=null;for(var b=0;b<a.length;b++)yb(this,a[b],this.N,this.Rf)}this.ye=!1};var Db=Xa;ka(ub,la),ub.prototype.name="cancel";var Eb=Eb||"2.4.2",Mb=n.Promise||pb;pb.prototype.catch=pb.prototype.gh,Sb.prototype.j=function(a){return this.Zd.S(a)},Sb.prototype.toString=function(){return this.Zd.toString()},Tb.prototype.uf=function(){return null},Tb.prototype.Ce=function(){return null};var Ub=new Tb;Vb.prototype.uf=function(a){var b=this.Oa.Q;return Wb(b,a)?b.j().T(a):(b=null!=this.Nd?new Xb(this.Nd,!0,!1):this.Oa.w(),this.bg.Bc(a,b))},Vb.prototype.Ce=function(a,b,c){var d=null!=this.Nd?this.Nd:Yb(this.Oa);return a=this.bg.qe(d,b,1,c,a),0===a.length?null:a[0]},ac.prototype.add=function(a){this.xd.push(a)},ac.prototype.cc=function(){return this.ta};var ic="value";jc.prototype.cc=function(){var a=this.be.Mb();return"value"===this.wd?a.path:a.parent().path},jc.prototype.De=function(){return this.wd},jc.prototype.Zb=function(){return this.xe.Zb(this)},jc.prototype.toString=function(){return this.cc().toString()+":"+this.wd+":"+G(this.be.qf())},kc.prototype.cc=function(){return this.path},kc.prototype.De=function(){return"cancel"},kc.prototype.Zb=function(){return this.xe.Zb(this)},kc.prototype.toString=function(){return this.path.toString()+":cancel"},Xb.prototype.j=function(){return this.A},oc.prototype.get=function(){var a=this.pg.get(),b=wa(a);if(this.Gd)for(var c in this.Gd)b[c]-=this.Gd[c];return this.Gd=a,b},pc.prototype.Of=function(){var a,b=this.hd.get(),c={},d=!1;for(a in b)0<b[a]&&y(this.Vf,a)&&(c[a]=b[a],d=!0);d&&this.da.Ye(c),setTimeout(u(this.Of,this),Math.floor(6e5*Math.random()))},qc.prototype.get=function(){return wa(this.Hc)};var sc={},tc={};Ac.prototype.$c=function(a){return this.path.e()?new Ac(this.source,M,this.Ja.T(a)):new Ac(this.source,N(this.path),this.Ja)},Ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"},Cc.prototype.$c=function(){return this.path.e()?new Cc(this.source,M):new Cc(this.source,N(this.path))},Cc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=Ec.prototype,h.Sa=function(a,b){return new Ec(this.Pa,this.xa.Sa(a,b,this.Pa).$(null,null,!1,null,null))},h.remove=function(a){return new Ec(this.Pa,this.xa.remove(a,this.Pa).$(null,null,!1,null,null))},h.get=function(a){for(var b,c=this.xa;!c.e();){if(0===(b=this.Pa(a,c.key)))return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Vc=function(){return this.xa.Vc()},h.jc=function(){return this.xa.jc()},h.ka=function(a){return this.xa.ka(a)},h.ac=function(a){return new Hc(this.xa,null,this.Pa,!1,a)},h.bc=function(a,b){return new Hc(this.xa,a,this.Pa,!1,b)},h.dc=function(a,b){return new Hc(this.xa,a,this.Pa,!0,b)},h.xf=function(a){return new Hc(this.xa,null,this.Pa,!0,a)},h=Kc.prototype,h.$=function(a,b,c,d,e){return new Kc(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ka=function(a){return this.left.ka(a)||a(this.key,this.value)||this.right.ka(a)},h.Vc=function(){return Lc(this).key},h.jc=function(){return this.right.e()?this.key:this.right.jc()},h.Sa=function(a,b,c){var d,e;return e=this,d=c(a,e.key),e=0>d?e.$(null,null,null,e.left.Sa(a,b,c),null):0===d?e.$(null,b,null,null,null):e.$(null,null,null,null,e.right.Sa(a,b,c)),Mc(e)},h.remove=function(a,b){var c,d;if(c=this,0>b(a,c.key))c.left.e()||c.left.ha()||c.left.left.ha()||(c=Oc(c)),c=c.$(null,null,null,c.left.remove(a,b),null);else{if(c.left.ha()&&(c=Pc(c)),c.right.e()||c.right.ha()||c.right.left.ha()||(c=Qc(c),c.left.left.ha()&&(c=Pc(c),c=Qc(c))),0===b(a,c.key)){if(c.right.e())return Fc;d=Lc(c.right),c=c.$(d.key,d.value,null,null,Nc(c.right))}c=c.$(null,null,null,null,c.right.remove(a,b))}return Mc(c)},h.ha=function(){return this.color},h=Sc.prototype,h.$=function(){return this},h.Sa=function(a,b){return new Kc(a,b,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ka=function(){return!1},h.Vc=function(){return null},h.jc=function(){return null},h.ha=function(){return!1};var Fc=new Sc;Zc.prototype.set=function(a,b){null==b?delete this.Ac[a]:this.Ac[a]=b},Zc.prototype.get=function(a){return y(this.Ac,a)?this.Ac[a]:null},Zc.prototype.remove=function(a){delete this.Ac[a]},Zc.prototype.Af=!0,h=$c.prototype,h.set=function(a,b){null==b?this.Ic.removeItem(this.Sd+a):this.Ic.setItem(this.Sd+a,G(b))},h.get=function(a){return a=this.Ic.getItem(this.Sd+a),null==a?null:Rb(a)},h.remove=function(a){this.Ic.removeItem(this.Sd+a)},h.Af=!1,h.toString=function(){return this.Ic.toString()};var bd=ad("localStorage"),cd=ad("sessionStorage");dd.prototype.toString=function(){var a=(this.ob?"https://":"http://")+this.host;return this.Rd&&(a+="<"+this.Rd+">"),a};var id=function(){var a=1;return function(){return a++}}(),O=Kb,jd=Lb,ec=null,nd=!0,Bd=/^-?\d{1,10}$/;Fd.prototype.qg=function(a,b){if(null==a.Za||null==b.Za)throw jd("Should only compare child_ events.");return this.g.compare(new L(a.Za,a.Na),new L(b.Za,b.Na))},h=Ld.prototype,h.H=function(a,b,c,d,e,f){return O(a.Mc(this.g),"A node must be indexed if only a child is updated"),e=a.T(b),e.S(d).ea(c.S(d))&&e.e()==c.e()?a:(null!=f&&(c.e()?a.Fa(b)?Kd(f,new J("child_removed",e,b)):O(a.L(),"A child remove without an old child only makes sense on a leaf node"):e.e()?Kd(f,new J("child_added",c,b)):Kd(f,new J("child_changed",c,b,e))),a.L()&&c.e()?a:a.W(b,c).pb(this.g))},h.ya=function(a,b,c){return null!=c&&(a.L()||a.R(R,function(a,d){b.Fa(a)||Kd(c,new J("child_removed",d,a))}),b.L()||b.R(R,function(b,d){if(a.Fa(b)){var e=a.T(b);e.ea(d)||Kd(c,new J("child_changed",d,b,e))}else Kd(c,new J("child_added",d,b))})),b.pb(this.g)},h.ia=function(a,b){return a.e()?H:a.ia(b)},h.Ra=function(){return!1},h.$b=function(){return this},h=Md.prototype,h.matches=function(a){return 0>=this.g.compare(this.gd,a)&&0>=this.g.compare(a,this.Jc)},h.H=function(a,b,c,d,e,f){return this.matches(new L(b,c))||(c=H),this.Fe.H(a,b,c,d,e,f)},h.ya=function(a,b,c){b.L()&&(b=H);var d=b.pb(this.g),d=d.ia(H),e=this;return b.R(R,function(a,b){e.matches(new L(a,b))||(d=d.W(a,H))}),this.Fe.ya(a,d,c)},h.ia=function(a){return a},h.Ra=function(){return!0},h.$b=function(){return this.Fe},h=Sd.prototype,h.H=function(a,b,c,d,e,f){return this.ua.matches(new L(b,c))||(c=H),a.T(b).ea(c)?a:a.Hb()<this.ma?this.ua.$b().H(a,b,c,d,e,f):Ud(this,a,b,c,e,f)},h.ya=function(a,b,c){var d;if(b.L()||b.e())d=H.pb(this.g);else if(2*this.ma<b.Hb()&&b.Mc(this.g)){d=H.pb(this.g),b=this.Nb?b.dc(this.ua.Jc,this.g):b.bc(this.ua.gd,this.g);for(var e=0;0<b.Ta.length&&e<this.ma;){var f=Ic(b);if(!(this.Nb?0>=this.g.compare(this.ua.gd,f):0>=this.g.compare(f,this.ua.Jc)))break;d=d.W(f.name,f.U),e++}}else{d=b.pb(this.g),d=d.ia(H);var g,h,i;if(this.Nb){b=d.xf(this.g),g=this.ua.Jc,h=this.ua.gd;var j=Vd(this.g);i=function(a,b){return j(b,a)}}else b=d.ac(this.g),g=this.ua.gd,h=this.ua.Jc,i=Vd(this.g);for(var e=0,k=!1;0<b.Ta.length;)f=Ic(b),!k&&0>=i(g,f)&&(k=!0),k&&e<this.ma&&0>=i(f,h)?e++:d=d.W(f.name,H)}return this.ua.$b().ya(a,d,c)},h.ia=function(a){return a},h.Ra=function(){return!0},h.$b=function(){return this.ua.$b()},Zd.prototype.gb=function(a,b,c,d){var e,f=new Jd;if(b.type===Bc)b.source.Ae?c=$d(this,a,b.path,b.Ja,c,d,f):(O(b.source.tf,"Unknown source."),e=b.source.ef||mc(a.w())&&!b.path.e(),c=ae(this,a,b.path,b.Ja,c,d,e,f));else if(b.type===be)b.source.Ae?c=ce(this,a,b.path,b.children,c,d,f):(O(b.source.tf,"Unknown source."),e=b.source.ef||mc(a.w()),c=de(this,a,b.path,b.children,c,d,e,f));else if(b.type===ee)if(b.Yd)if(b=b.path,null!=c.xc(b))c=a;else{if(e=new Vb(c,a,d),d=a.Q.j(),b.e()||".priority"===K(b))lc(a.w())?b=c.Aa(Yb(a)):(b=a.w().j(),O(b instanceof fe,"serverChildren would be complete if leaf node"),b=c.Cc(b)),b=this.X.ya(d,b,f);else{var g=K(b),h=c.Bc(g,a.w());null==h&&Wb(a.w(),g)&&(h=d.T(g)),b=null!=h?this.X.H(d,g,h,N(b),e,f):a.Q.j().Fa(g)?this.X.H(d,g,H,N(b),e,f):d,b.e()&&lc(a.w())&&(d=c.Aa(Yb(a)),d.L()&&(b=this.X.ya(b,d,f)))}d=lc(a.w())||null!=c.xc(M),c=ge(a,b,d,this.X.Ra())}else c=he(this,a,b.path,b.Ub,c,d,f);else{if(b.type!==Dc)throw jd("Unknown operation type: "+b.type);d=b.path,b=a.w(),e=b.j(),g=b.ga||d.e(),c=ie(this,new je(a.Q,new Xb(e,g,b.Yb)),d,c,Ub,f)}return f=qa(f.ib),d=c,b=d.Q,b.ga&&(e=b.j().L()||b.j().e(),g=ke(a),(0<f.length||!a.Q.ga||e&&!b.j().ea(g)||!b.j().C().ea(g.C()))&&f.push(hc(ke(d)))),new Yd(c,f)};var te={};se.prototype.Dd=function(a,b){return 0!==this.compare(new L("[MIN_NAME]",a),new L("[MIN_NAME]",b))},se.prototype.Wc=function(){return ue},ka(ve,se),h=ve.prototype,h.Lc=function(a){return!a.S(this.gc).e()},h.compare=function(a,b){var c=a.U.S(this.gc),d=b.U.S(this.gc),c=c.Gc(d);return 0===c?yc(a.name,b.name):c},h.Sc=function(a,b){var c=Q(a),c=H.H(this.gc,c);return new L(b,c)},h.Tc=function(){return new L("[MAX_NAME]",H.H(this.gc,we))},h.toString=function(){return this.gc.slice().join("/")},ka(xe,se),h=xe.prototype,h.compare=function(a,b){var c=a.U.C(),d=b.U.C(),c=c.Gc(d);return 0===c?yc(a.name,b.name):c},h.Lc=function(a){return!a.C().e()},h.Dd=function(a,b){return!a.C().ea(b.C())},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",new Yc("[PRIORITY-POST]",we))},h.Sc=function(a,b){return new L(b,new Yc("[PRIORITY-POST]",Q(a)))},h.toString=function(){return".priority"};var R=new xe;ka(ye,se),h=ye.prototype,h.compare=function(a,b){return yc(a.name,b.name)},h.Lc=function(){throw jd("KeyIndex.isDefinedOn not expected to be called.")},h.Dd=function(){return!1},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",H)},h.Sc=function(a){return O(q(a),"KeyIndex indexValue must always be a string."),new L(a,H)},h.toString=function(){return".key"};var re=new ye;ka(ze,se),h=ze.prototype,h.compare=function(a,b){var c=a.U.Gc(b.U);return 0===c?yc(a.name,b.name):c},h.Lc=function(){return!0},h.Dd=function(a,b){return!a.ea(b)},h.Wc=function(){return ue},h.Tc=function(){return Ae},h.Sc=function(a,b){return new L(b,Q(a))},h.toString=function(){return".value"};var Be=new ze,De=new Ce;h=Ce.prototype,h.Le=function(a){var b=Ee(this);return b.la=!0,b.ma=a,b.Rb="",b},h.Me=function(a){var b=Ee(this);return b.la=!0,b.ma=a,b.Rb="l",b},h.Ne=function(a){var b=Ee(this);return b.la=!0,b.ma=a,b.Rb="r",b},h.ce=function(a,b){var c=Ee(this);return c.oa=!0,p(a)||(a=null),c.ic=a,null!=b?(c.Pb=!0,c.Bb=b):(c.Pb=!1,c.Bb=""),c},h.vd=function(a,b){var c=Ee(this);return c.ra=!0,p(a)||(a=null),c.fc=a,p(b)?(c.Xb=!0,c.zb=b):(c.oh=!1,c.zb=""),c},h.toString=function(){return G(Ge(this))},Ke.prototype.get=function(a){var b=z(this.Ed,a);if(!b)throw Error("No index defined for "+a);return b===te?null:b};var Oe=new Ke({".priority":te},{".priority":R}),Qe=["object","boolean","number","string"];h=Yc.prototype,h.L=function(){return!0},h.C=function(){return this.ca},h.ia=function(a){return new Yc(this.B,a)},h.T=function(a){return".priority"===a?this.ca:H},h.S=function(a){return a.e()?this:".priority"===K(a)?this.ca:H},h.Fa=function(){return!1},h.wf=function(){return null},h.W=function(a,b){return".priority"===a?this.ia(b):b.e()&&".priority"!==a?this:H.W(a,b).ia(this.ca)},h.H=function(a,b){var c=K(a);return null===c?b:b.e()&&".priority"!==c?this:(O(".priority"!==c||1===le(a),".priority must be the last token in a path"),this.W(c,H.H(N(a),b)))},h.e=function(){return!1},h.Hb=function(){return 0},h.R=function(){return!1},h.J=function(a){return a&&!this.C().e()?{".value":this.Ea(),".priority":this.C().J()}:this.Ea()},h.hash=function(){if(null===this.Gb){var a="";this.ca.e()||(a+="priority:"+Re(this.ca.J())+":");var b=typeof this.B,a=a+(b+":"),a="number"===b?a+Ad(this.B):a+this.B;this.Gb=ld(a)}return this.Gb},h.Ea=function(){return this.B},h.Gc=function(a){if(a===H)return 1;if(a instanceof fe)return-1;O(a.L(),"Unknown node type");var b=typeof a.B,c=typeof this.B,d=La(Qe,b),e=La(Qe,c);return O(0<=d,"Unknown leaf type: "+b),O(0<=e,"Unknown leaf type: "+c),d===e?"object"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d},h.pb=function(){return this},h.Mc=function(){return!0},h.ea=function(a){return a===this||!!a.L()&&(this.B===a.B&&this.ca.ea(a.ca))},h.toString=function(){return G(this.J(!0))},h=fe.prototype,h.L=function(){return!1},h.C=function(){return this.ca||H},h.ia=function(a){return this.m.e()?this:new fe(this.m,a,this.Ab)},h.T=function(a){return".priority"===a?this.C():(a=this.m.get(a),null===a?H:a)},h.S=function(a){var b=K(a);return null===b?this:this.T(b).S(N(a))},h.Fa=function(a){return null!==this.m.get(a)},h.W=function(a,b){if(O(b,"We should always be passing snapshot nodes"),".priority"===a)return this.ia(b);var c,d,e=new L(a,b);return b.e()?(c=this.m.remove(a),e=Ne(this.Ab,e,this.m)):(c=this.m.Sa(a,b),e=Le(this.Ab,e,this.m)),d=c.e()?H:this.ca,new fe(c,d,e)},h.H=function(a,b){var c=K(a);if(null===c)return b;O(".priority"!==K(a)||1===le(a),".priority must be the last token in a path");var d=this.T(c).H(N(a),b);return this.W(c,d)},h.e=function(){return this.m.e()},h.Hb=function(){return this.m.count()};var Se=/^(0|[1-9]\d*)$/;h=fe.prototype,h.J=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;if(this.R(R,function(f,g){b[f]=g.J(a),c++,e&&Se.test(f)?d=Math.max(d,Number(f)):e=!1}),!a&&e&&d<2*c){var f,g=[];for(f in b)g[f]=b[f];return g}return a&&!this.C().e()&&(b[".priority"]=this.C().J()),b},h.hash=function(){if(null===this.Gb){var a="";this.C().e()||(a+="priority:"+Re(this.C().J())+":"),this.R(R,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)}),this.Gb=""===a?"":ld(a)}return this.Gb},h.wf=function(a,b,c){return(c=Te(this,c))?(a=Gc(c,new L(a,b)))?a.name:null:Gc(this.m,a)},h.R=function(a,b){var c=Te(this,a);return c?c.ka(function(a){return b(a.name,a.U)}):this.m.ka(b)},h.ac=function(a){return this.bc(a.Wc(),a)},h.bc=function(a,b){var c=Te(this,b);if(c)return c.bc(a,function(a){return a});for(var c=this.m.bc(a.name,wc),d=Jc(c);null!=d&&0>b.compare(d,a);)Ic(c),d=Jc(c);return c},h.xf=function(a){return this.dc(a.Tc(),a)},h.dc=function(a,b){var c=Te(this,b);if(c)return c.dc(a,function(a){return a});for(var c=this.m.dc(a.name,wc),d=Jc(c);null!=d&&0<b.compare(d,a);)Ic(c),d=Jc(c);return c},h.Gc=function(a){return this.e()?a.e()?0:-1:a.L()||a.e()?1:a===we?-1:0},h.pb=function(a){if(a===re||sa(this.Ab.hc,a.toString()))return this;var b=this.Ab,c=this.m;O(a!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.ac(wc),f=Ic(c);f;)e=e||a.Lc(f.U),d.push(f),f=Ic(c);return d=e?Me(d,Vd(a)):te,e=a.toString(),c=wa(b.hc),c[e]=a,a=wa(b.Ed),a[e]=d,new fe(this.m,this.ca,new Ke(a,c))},h.Mc=function(a){return a===re||sa(this.Ab.hc,a.toString())},h.ea=function(a){if(a===this)return!0;if(a.L())return!1;if(this.C().ea(a.C())&&this.m.count()===a.m.count()){var b=this.ac(R);a=a.ac(R);for(var c=Ic(b),d=Ic(a);c&&d;){if(c.name!==d.name||!c.U.ea(d.U))return!1;c=Ic(b),d=Ic(a)}return null===c&&null===d}return!1},h.toString=function(){return G(this.J(!0))};var Ue=Math.log(2),H=new fe(new Ec(zc),null,Oe);ka(Xe,fe),h=Xe.prototype,h.Gc=function(a){return a===this?0:1},h.ea=function(a){return a===this},h.C=function(){return this},h.T=function(){return H},h.e=function(){return!1};var we=new Xe,ue=new L("[MIN_NAME]",H),Ae=new L("[MAX_NAME]",we);je.prototype.w=function(){return this.ae},h=Ye.prototype,h.w=function(){return this.Oa.w().j()},h.kb=function(a){var b=Yb(this.Oa);return b&&(He(this.Y.n)||!a.e()&&!b.T(K(a)).e())?b.S(a):null},h.e=function(){return 0===this.$a.length},h.Tb=function(a){this.$a.push(a)},h.nb=function(a,b){var c=[];if(b){O(null==a,"A cancel should cancel all event registrations.");var d=this.Y.path;Ma(this.$a,function(a){(a=a.lf(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.$a.length;++f){var g=this.$a[f];if(g.matches(a)){if(a.yf()){e=e.concat(this.$a.slice(f+1));break}}else e.push(g)}this.$a=e}else this.$a=[];return c},h.gb=function(a,b,c){a.type===be&&null!==a.source.Lb&&(O(Yb(this.Oa),"We should always have a full cache before handling merges"),O(ke(this.Oa),"Missing event cache, even though we have a server cache"));var d=this.Oa;return a=this.Nf.gb(d,a,b,c),b=this.Nf,c=a.me,O(c.Q.j().Mc(b.X.g),"Event snap not indexed"),O(c.w().j().Mc(b.X.g),"Server snap not indexed"),O(lc(a.me.w())||!lc(d.w()),"Once a server snap is complete, it should never go back"),this.Oa=a.me,$e(this,a.og,a.me.Q.j(),null)},bf.prototype.$c=function(a){return this.path.e()?(a=this.children.subtree(new P(a)),a.e()?null:a.value?new Ac(this.source,M,a.value):new bf(this.source,M,a)):(O(K(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new bf(this.source,N(this.path),this.children))},bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},h=cf.prototype,h.Cf=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.wa());var f=df(a,c),g={};this.ba[f]=g,a=Je(a.n);var h=this;ef(this,e+".json",a,function(a,b){var i=b;404===a&&(a=i=null),null===a&&h.Kb(e,i,!1,c),z(h.ba,f)===g&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})},h.$f=function(a,b){var c=df(a,b);delete this.ba[c]},h.O=function(a,b){this.Ca=a;var c=Cd(a),d=c.data,c=c.Ec&&c.Ec.exp;b&&b("ok",{auth:d,expires:c})},h.je=function(a){this.Ca=null,a("ok",null)},h.Qe=function(){},h.Gf=function(){},h.Md=function(){},h.put=function(){},h.Df=function(){},h.Ye=function(){},ff.prototype.ie=function(a,b){var c;c=this.Rc[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++)e[f]=c[f];c=e}else c=[];for(d=0;d<c.length;d++)c[d].Dc.apply(c[d].Qa,Array.prototype.slice.call(arguments,1))},ff.prototype.Ib=function(a,b,c){gf(this,a),this.Rc[a]=this.Rc[a]||[],this.Rc[a].push({Dc:b,Qa:c}),(a=this.Ee(a))&&b.apply(c,a)},ff.prototype.mc=function(a,b,c){gf(this,a),a=this.Rc[a]||[];for(var d=0;d<a.length;d++)if(a[d].Dc===b&&(!c||c===a[d].Qa)){a.splice(d,1);break}};var hf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);if(O(0===c,"Cannot push at time == 0"),c=e.join(""),d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);return O(20===c.length,"nextPushId: Length should be 20."),c}}();ka(jf,ff),jf.prototype.Ee=function(a){return O("online"===a,"Unknown event type: "+a),[this.oc]},ba(jf),ka(kf,ff),kf.prototype.Ee=function(a){return O("visible"===a,"Unknown event type: "+a),[this.Sb]},ba(kf),h=P.prototype,h.toString=function(){for(var a="",b=this.aa;b<this.u.length;b++)""!==this.u[b]&&(a+="/"+this.u[b]);return a||"/"},h.slice=function(a){return this.u.slice(this.aa+(a||0))},h.parent=function(){if(this.aa>=this.u.length)return null;for(var a=[],b=this.aa;b<this.u.length-1;b++)a.push(this.u[b]);return new P(a,0)},h.o=function(a){for(var b=[],c=this.aa;c<this.u.length;c++)b.push(this.u[c]);if(a instanceof P)for(c=a.aa;c<a.u.length;c++)b.push(a.u[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new P(b,0)},h.e=function(){return this.aa>=this.u.length},h.ea=function(a){if(le(this)!==le(a))return!1;for(var b=this.aa,c=a.aa;b<=this.u.length;b++,c++)if(this.u[b]!==a.u[c])return!1;return!0},h.contains=function(a){var b=this.aa,c=a.aa;if(le(this)>le(a))return!1;for(;b<this.u.length;){if(this.u[b]!==a.u[c])return!1;++b,++c}return!0};var M=new P("");nf.prototype.push=function(a){0<this.Ua.length&&(this.Ka+=1),this.Ua.push(a),this.Ka+=Pb(a),of(this)},nf.prototype.pop=function(){var a=this.Ua.pop();this.Ka-=Pb(a),0<this.Ua.length&&--this.Ka};var rf=new Ec(function(a,b){return a===b?0:a<b?-1:1});h=qf.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(a){if(a.e())return this;var b=this.children.get(K(a));return null!==b?b.subtree(N(a)):qe},h.set=function(a,b){if(a.e())return new qf(b,this.children);var c=K(a),d=(this.children.get(c)||qe).set(N(a),b),c=this.children.Sa(c,d);return new qf(this.value,c)},h.remove=function(a){if(a.e())return this.children.e()?qe:new qf(null,this.children);var b=K(a),c=this.children.get(b);return c?(a=c.remove(N(a)),b=a.e()?this.children.remove(b):this.children.Sa(b,a),null===this.value&&b.e()?qe:new qf(this.value,b)):this},h.get=function(a){if(a.e())return this.value;var b=this.children.get(K(a));return b?b.get(N(a)):null};var qe=new qf(null);qf.prototype.toString=function(){var a={};return ne(this,function(b,c){a[b.toString()]=c.toString()}),G(a)},Df.prototype.$c=function(a){return this.path.e()?null!=this.Ub.value?(O(this.Ub.children.e(),"affectedTree should not have overlapping affected paths."),this):(a=this.Ub.subtree(new P(a)),new Df(M,a,this.Yd)):(O(K(this.path)===a,"operationForChild called for unrelated child."),new Df(N(this.path),this.Ub,this.Yd))},Df.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yd+" affectedTree="+this.Ub+")"};var Bc=0,be=1,ee=2,Dc=3,Ef=new Ff(!0,!1,null,!1),Gf=new Ff(!1,!0,null,!1);Ff.prototype.toString=function(){return this.Ae?"user":this.ef?"server(queryID="+this.Lb+")":"server"};var If=new Hf(new qf(null));Hf.prototype.Ud=function(a){return a.e()?If:(a=pe(this.Z,a,qe),new Hf(a))},Hf.prototype.e=function(){return this.Z.e()},Hf.prototype.apply=function(a){return Of(M,this.Z,a)},h=Pf.prototype,h.Ud=function(a){var b=Sa(this.pa,function(b){return b.md===a});O(0<=b,"removeWrite called with nonexistent writeId.");var c=this.pa[b];this.pa.splice(b,1)
;for(var d=c.visible,e=!1,f=this.pa.length-1;d&&0<=f;){var g=this.pa[f];g.visible&&(f>=b&&Rf(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0)),f--}if(d){if(e)this.V=Sf(this.pa,Tf,M),this.Pc=0<this.pa.length?this.pa[this.pa.length-1].md:-1;else if(c.Ja)this.V=this.V.Ud(c.path);else{var h=this;v(c.children,function(a,b){h.V=h.V.Ud(c.path.o(b))})}return!0}return!1},h.Aa=function(a,b,c,d){if(c||d){var e=Nf(this.V,a);return!d&&e.e()?b:d||null!=b||null!=Lf(e,M)?(e=Sf(this.pa,function(b){return(b.visible||d)&&(!c||!(0<=La(c,b.md)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||H,e.apply(b)):null}return null!=(e=Lf(this.V,a))?e:(e=Nf(this.V,a),e.e()?b:null!=b||null!=Lf(e,M)?(b=b||H,e.apply(b)):null)},h.Cc=function(a,b){var c=H,d=Lf(this.V,a);if(d)d.L()||d.R(R,function(a,b){c=c.W(a,b)});else if(b){var e=Nf(this.V,a);b.R(R,function(a,b){var d=Nf(e,new P(a)).apply(b);c=c.W(a,d)}),Ma(Mf(e),function(a){c=c.W(a.name,a.U)})}else e=Nf(this.V,a),Ma(Mf(e),function(a){c=c.W(a.name,a.U)});return c},h.nd=function(a,b,c,d){return O(c||d,"Either existingEventSnap or existingServerSnap must exist"),a=a.o(b),null!=Lf(this.V,a)?null:(a=Nf(this.V,a),a.e()?d.S(b):a.apply(d.S(b)))},h.Bc=function(a,b,c){a=a.o(b);var d=Lf(this.V,a);return null!=d?d:Wb(c,b)?Nf(this.V,a).apply(c.j().T(b)):null},h.xc=function(a){return Lf(this.V,a)},h.qe=function(a,b,c,d,e,f){var g;if(a=Nf(this.V,a),null==(g=Lf(a,M))){if(null==b)return[];g=a.apply(b)}if(g=g.pb(f),g.e()||g.L())return[];for(b=[],a=Vd(f),e=e?g.dc(c,f):g.bc(c,f),f=Ic(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=Ic(e);return b},h=Uf.prototype,h.Aa=function(a,b,c){return this.Z.Aa(this.Qb,a,b,c)},h.Cc=function(a){return this.Z.Cc(this.Qb,a)},h.nd=function(a,b,c){return this.Z.nd(this.Qb,a,b,c)},h.xc=function(a){return this.Z.xc(this.Qb.o(a))},h.qe=function(a,b,c,d,e){return this.Z.qe(this.Qb,a,b,c,d,e)},h.Bc=function(a,b){return this.Z.Bc(this.Qb,a,b)},h.o=function(a){return new Uf(this.Qb.o(a),this.Z)},h=Wf.prototype,h.Ea=function(){return this.A.value},h.clear=function(){this.A.value=null,this.A.children={},this.A.pd=0,Zf(this)},h.zd=function(){return 0<this.A.pd},h.e=function(){return null===this.Ea()&&!this.zd()},h.R=function(a){var b=this;v(this.A.children,function(c,d){a(new Wf(d,b,c))})},h.path=function(){return new P(null===this.Ha?this.Jd:this.Ha.path()+"/"+this.Jd)},h.name=function(){return this.Jd},h.parent=function(){return this.Ha};var bg=/[\[\].#$\/\u0000-\u001F\u007F]/,cg=/[\[\].#$\u0000-\u001F\u007F]/,dg=/^[a-zA-Z][a-zA-Z._\-+]+$/;h=ug.prototype,h.add=function(a,b){this.set[a]=null===b||b},h.contains=function(a){return y(this.set,a)},h.get=function(a){return this.contains(a)?this.set[a]:void 0},h.remove=function(a){delete this.set[a]},h.clear=function(){this.set={}},h.e=function(){return va(this.set)},h.count=function(){return oa(this.set)},h.keys=function(){var a=[];return v(this.set,function(b,c){a.push(c)}),a},Vc.prototype.find=function(a){if(null!=this.B)return this.B.S(a);if(a.e()||null==this.m)return null;var b=K(a);return a=N(a),this.m.contains(b)?this.m.get(b).find(a):null},Vc.prototype.rc=function(a,b){if(a.e())this.B=b,this.m=null;else if(null!==this.B)this.B=this.B.H(a,b);else{null==this.m&&(this.m=new ug);var c=K(a);this.m.contains(c)||this.m.add(c,new Vc),c=this.m.get(c),a=N(a),c.rc(a,b)}},Vc.prototype.R=function(a){null!==this.m&&vg(this.m,function(b,c){a(b,c)})};var xg="auth.firebase.com",zg=["remember","redirectTo"];Bg.prototype.set=function(a,b){if(!b){if(!this.ee.length)throw Error("fb.login.SessionManager : No storage options available!");b=this.ee[0]}b.set(this.Ue,a)},Bg.prototype.get=function(){var a=Oa(this.ee,u(this.Bg,this)),a=Na(a,function(a){return null!==a});return Va(a,function(a,b){return Dd(b.token)-Dd(a.token)}),0<a.length?a.shift():null},Bg.prototype.Bg=function(a){try{var b=a.get(this.Ue);if(b&&b.token)return b}catch(a){}return null},Bg.prototype.clear=function(){var a=this;Ma(this.ee,function(b){b.remove(a.Ue)})},Og.prototype.nc=function(a){var b,c=this;try{b=Rb(a.data)}catch(a){}b&&"request"===b.a&&(Ig(window,"message",this.nc),this.fe=a.origin,this.hb&&setTimeout(function(){c.hb(c.fe,b.d,function(a,b){c.mg=!b,c.hb=void 0,Pg(c,{a:"response",d:a,forceKeepWindowOpen:b})})},0))},Og.prototype.Ng=function(){try{Ig(this.Cd,"message",this.Ff)}catch(a){}this.hb&&(Pg(this,{a:"error",d:"unknown closed window"}),this.hb=void 0);try{window.close()}catch(a){}},Og.prototype.Ff=function(a){if(this.mg&&"die"===a.data)try{window.close()}catch(a){}},Qg.prototype.open=function(a,b){cd.set("redirect_request_id",this.tc),cd.set("redirect_request_id",this.tc),b.requestId=this.tc,b.redirectTo=b.redirectTo||window.location.href,a+=(/\?/.test(a)?"":"?")+Ib(b),window.location=a},Qg.isAvailable=function(){return!Eg()&&!Dg()},Qg.prototype.Fc=function(){return"redirect"};var Rg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Tg.prototype.open=function(a,b,c){function d(a){if(f&&(document.body.removeChild(f),f=void 0),k&&(k=clearInterval(k)),Ig(window,"message",e),Ig(window,"unload",d),j&&!a)try{j.close()}catch(a){g.postMessage("die",i)}j=g=void 0}function e(a){if(a.origin===i)try{var b=Rb(a.data);"ready"===b.a?g.postMessage(l,i):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(a){}}var f,g,h=Fg(8);if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));var i=Jg(a);if(i!==Jg(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{h&&(f=document.createElement("iframe"),f.setAttribute("src",this.options.relay_url),f.style.display="none",f.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(f),g=f.contentWindow),a+=(/\?/.test(a)?"":"?")+Ib(b);var j=window.open(a,this.options.window_name,this.options.window_features);g||(g=j);var k=setInterval(function(){j&&j.closed&&(d(!1),c&&(c(Sg("USER_CANCELLED")),c=null))},500),l=G({a:"request",d:b});Hg(window,"unload",d),Hg(window,"message",e)}},Tg.isAvailable=function(){var a;return(a="postMessage"in window&&!Eg())&&((a=Dg()||"undefined"!=typeof navigator&&(!!Cg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(a=Cg(),a="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||a.match(/CriOS/)||a.match(/Twitter for iPhone/)||a.match(/FBAN\/FBIOS/)||window.navigator.standalone)),a=!a),a&&!Cg().match(/PhantomJS/)},Tg.prototype.Fc=function(){return"popup"},Ug.prototype.open=function(a,b,c){function d(){c&&(c(Sg("REQUEST_INTERRUPTED")),c=null)}var e,f=new XMLHttpRequest,g=this.options.method.toUpperCase();if(Hg(window,"beforeunload",d),f.onreadystatechange=function(){if(c&&4===f.readyState){var a;if(200<=f.status&&300>f.status){try{a=Rb(f.responseText)}catch(a){}c(null,a)}else c(500<=f.status&&600>f.status?Sg("SERVER_ERROR"):Sg("NETWORK_ERROR"));c=null,Ig(window,"beforeunload",d)}},"GET"===g)a+=(/\?/.test(a)?"":"?")+Ib(b),e=null;else{var h=this.options.headers.content_type;"application/json"===h&&(e=G(b)),"application/x-www-form-urlencoded"===h&&(e=Ib(b))}f.open(g,a,!0),a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},ya(a,this.options.headers);for(var i in a)f.setRequestHeader(i,a[i]);f.send(e)},Ug.isAvailable=function(){var a;return(a=!!window.XMLHttpRequest)&&(a=Cg(),a=!(a.match(/MSIE/)||a.match(/Trident/))||Fg(10)),a},Ug.prototype.Fc=function(){return"json"},Vg.prototype.open=function(a,b,c){function d(){c&&(c(Sg("USER_CANCELLED")),c=null)}var e,f=this,g=sd(xg);b.requestId=this.tc,b.redirectTo=g.scheme+"://"+g.host+"/blank/page.html",a+=/\?/.test(a)?"":"?",a+=Ib(b),(e=window.open(a,"_blank","location=no"))&&r(e.addEventListener)?(e.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var h=document.createElement("a");h.href=a.url,b=h.host===g.host&&"/blank/page.html"===h.pathname;break a}catch(a){}b=!1}b&&(a=Kg(a.url),e.removeEventListener("exit",d),e.close(),a=new yg(null,null,{requestId:f.tc,requestKey:a}),f.Kf.requestWithCredential("/auth/session",a,c),c=null)}),e.addEventListener("exit",d)):c(Sg("TRANSPORT_UNAVAILABLE"))},Vg.isAvailable=function(){return Dg()},Vg.prototype.Fc=function(){return"redirect"},Wg.prototype.open=function(a,b,c){function d(){c&&(c(Sg("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0,va(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(a){}},1),Ig(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f,a+=(/\?/.test(a)?"":"?")+Ib(b),Hg(window,"beforeunload",d),window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null),e()},Xg(f,a,c)},Wg.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Wg.prototype.Fc=function(){return"json"},ka(Yg,ff),h=Yg.prototype,h.Be=function(){return this.qb||null},h.ve=function(a,b){gh(this);var c=Ag(a);c.fb._method="POST",this.uc("/users",c,function(a,c){a?T(b,a):T(b,a,c)})},h.Xe=function(a,b){var c=this;gh(this);var d="/users/"+encodeURIComponent(a.email),e=Ag(a);e.fb._method="DELETE",this.uc(d,e,function(a,d){!a&&d&&d.uid&&c.qb&&c.qb.uid&&c.qb.uid===d.uid&&eh(c),T(b,a)})},h.se=function(a,b){gh(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=Ag(a);d.fb._method="PUT",d.fb.password=a.newPassword,this.uc(c,d,function(a){T(b,a)})},h.re=function(a,b){gh(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=Ag(a);d.fb._method="PUT",d.fb.email=a.newEmail,d.fb.password=a.password,this.uc(c,d,function(a){T(b,a)})},h.Ze=function(a,b){gh(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=Ag(a);d.fb._method="POST",this.uc(c,d,function(a){T(b,a)})},h.uc=function(a,b,c){jh(this,[Ug,Wg],a,b,c)},h.Ee=function(a){return O("auth_status"===a,'initial event must be of type "auth_status"'),this.We?null:[this.qb]};var gd="websocket",hd="long_polling",oh,ph;nh.prototype.open=function(a,b){this.mf=0,this.na=b,this.Ef=new kh(a),this.Db=!1;var c=this;this.ub=setTimeout(function(){c.f("Timed out trying to connect."),c.bb(),c.ub=null},Math.floor(3e4)),ud(function(){if(!c.Db){c.Wa=new qh(function(a,b,d,e,f){if(rh(c,arguments),c.Wa)if(c.ub&&(clearTimeout(c.ub),c.ub=null),c.Kc=!0,"start"==a)c.id=b,c.Mf=d;else{if("close"!==a)throw Error("Unrecognized command received: "+a);b?(c.Wa.$d=!1,lh(c.Ef,b,function(){c.bb()})):c.bb()}},function(a,b){rh(c,arguments),mh(c.Ef,a,b)},function(){c.bb()},c.ld);var a={start:"t"};a.ser=Math.floor(1e8*Math.random()),c.Wa.ke&&(a.cb=c.Wa.ke),a.v="5",c.Xf&&(a.s=c.Xf),c.Fb&&(a.ls=c.Fb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f"),a=c.ld(a),c.f("Connecting via long-poll to "+a),sh(c.Wa,a,function(){})}})},nh.prototype.start=function(){var a=this.Wa,b=this.Mf;for(a.Gg=this.id,a.Hg=b,a.oe=!0;th(a););a=this.id,b=this.Mf,this.kc=document.createElement("iframe");var c={dframe:"t"};c.id=a,c.pw=b,this.kc.src=this.ld(c),this.kc.style.display="none",document.body.appendChild(this.kc)},nh.isAvailable=function(){return oh||!ph&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.kh)&&!0},h=nh.prototype,h.Hd=function(){},h.fd=function(){this.Db=!0,this.Wa&&(this.Wa.close(),this.Wa=null),this.kc&&(document.body.removeChild(this.kc),this.kc=null),this.ub&&(clearTimeout(this.ub),this.ub=null)},h.bb=function(){this.Db||(this.f("Longpoll is closing itself"),this.fd(),this.na&&(this.na(this.Kc),this.na=null))},h.close=function(){this.Db||(this.f("Longpoll is being closed."),this.fd())},h.send=function(a){a=G(a),this.sb+=a.length,rc(this.Xa,"bytes_sent",a.length),a=Ob(a),a=nb(a,!0),a=yd(a,1840);for(var b=0;b<a.length;b++){var c=this.Wa;c.cd.push({Yg:this.mf,hh:a.length,of:a[b]}),c.oe&&th(c),this.mf++}},qh.prototype.close=function(){if(this.oe=!1,this.Ga){this.Ga.jb.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ga&&(document.body.removeChild(a.Ga),a.Ga=null)},Math.floor(0))}var b=this.lb;b&&(this.lb=null,b())};var vh=null;"undefined"!=typeof MozWebSocket?vh=MozWebSocket:"undefined"!=typeof WebSocket&&(vh=WebSocket);var xh;wh.prototype.open=function(a,b){this.lb=b,this.Lg=a,this.f("Websocket connecting to "+this.jf),this.Kc=!1,bd.set("previous_websocket_failure",!0);try{this.La=new vh(this.jf)}catch(a){this.f("Error instantiating WebSocket.");var c=a.message||a.data;return c&&this.f(c),void this.bb()}var d=this;this.La.onopen=function(){d.f("Websocket connected."),d.Kc=!0},this.La.onclose=function(){d.f("Websocket connection was disconnected."),d.La=null,d.bb()},this.La.onmessage=function(a){if(null!==d.La)if(a=a.data,d.rb+=a.length,rc(d.Xa,"bytes_received",a.length),yh(d),null!==d.frames)zh(d,a);else{a:{if(O(null===d.frames,"We already have a frame buffer"),6>=a.length){var b=Number(a);if(!isNaN(b)){d.ff=b,d.frames=[],a=null;break a}}d.ff=1,d.frames=[]}null!==a&&zh(d,a)}},this.La.onerror=function(a){d.f("WebSocket error.  Closing connection."),(a=a.message||a.data)&&d.f(a),d.bb()}},wh.prototype.start=function(){},wh.isAvailable=function(){var a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==vh&&!xh},wh.responsesRequiredToBeHealthy=2,wh.healthyTimeout=3e4,h=wh.prototype,h.Hd=function(){bd.remove("previous_websocket_failure")},h.send=function(a){yh(this),a=G(a),this.sb+=a.length,rc(this.Xa,"bytes_sent",a.length),a=yd(a,16384),1<a.length&&Ah(this,String(a.length));for(var b=0;b<a.length;b++)Ah(this,a[b])},h.fd=function(){this.Db=!0,this.Nc&&(clearInterval(this.Nc),this.Nc=null),this.La&&(this.La.close(),this.La=null)},h.bb=function(){this.Db||(this.f("WebSocket is closing itself"),this.fd(),this.lb&&(this.lb(this.Kc),this.lb=null))},h.close=function(){this.Db||(this.f("WebSocket is being closed"),this.fd())};var Dh=[nh,wh];Fh.prototype.Ia=function(a){Qh(this,{t:"d",d:a})},Fh.prototype.Ld=function(a){Nh(this),this.nc(a)},Fh.prototype.close=function(){2!==this.N&&(this.f("Closing realtime connection."),this.N=2,Mh(this),this.na&&(this.na(),this.na=null))};var Sh=0,Uh=0;h=Rh.prototype,h.Ia=function(a,b,c){var d=++this.Xg;a={r:d,a:a,b:b},this.f(G(a)),O(this.qa,"sendRequest call when we're not connected not allowed."),this.Ma.Ia(a),c&&(this.Wd[d]=c)},h.Cf=function(a,b,c,d){var e=a.wa(),f=a.path.toString();this.f("Listen called for "+f+" "+e),this.ba[f]=this.ba[f]||{},O(Ie(a.n)||!He(a.n),"listen() called for non-default but complete query"),O(!this.ba[f][e],"listen() called twice for same path/queryId."),a={I:d,Ad:b,Ug:a,tag:c},this.ba[f][e]=a,this.qa&&Vh(this,a)},h.O=function(a,b,c){this.Ca={rg:a,sf:!1,Dc:b,od:c},this.f("Authenticating using credential: "+a),Xh(this),(b=40==a.length)||(a=Cd(a).Ec,b="object"==typeof a&&!0===z(a,"admin")),b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Id=3e4)},h.je=function(a){this.Ca=null,this.qa&&this.Ia("unauth",{},function(b){a(b.s,b.d)})},h.$f=function(a,b){var c=a.path.toString(),d=a.wa();if(this.f("Unlisten called for "+c+" "+d),O(Ie(a.n)||!He(a.n),"unlisten() called for non-default but complete query"),Wh(this,c,d)&&this.qa){var e=Ge(a.n);this.f("Unlisten on "+c+" for "+d),c={p:c},b&&(c.q=e,c.t=b),this.Ia("n",c)}},h.Qe=function(a,b,c){this.qa?Yh(this,"o",a,b,c):this.Yc.push({bd:a,action:"o",data:b,I:c})},h.Gf=function(a,b,c){this.qa?Yh(this,"om",a,b,c):this.Yc.push({bd:a,action:"om",data:b,I:c})},h.Md=function(a,b){this.qa?Yh(this,"oc",a,null,b):this.Yc.push({bd:a,action:"oc",data:null,I:b})},h.put=function(a,b,c,d){Zh(this,"p",a,b,c,d)},h.Df=function(a,b,c,d){Zh(this,"m",a,b,c,d)},h.Ye=function(a){this.qa&&(a={c:a},this.f("reportStats",a),this.Ia("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))},h.Ld=function(a){if("r"in a){this.f("from server: "+G(a));var b=a.r,c=this.Wd[b];c&&(delete this.Wd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.Kb(c.p,c.d,!1,c.t):"m"===b?this.Kb(c.p,c.d,!0,c.t):"c"===b?ai(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Ca,this.Ca=null,c&&c.od&&c.od(a,b)):"sd"===b?this.$e?this.$e(c):"msg"in c&&"undefined"!=typeof console&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: ")):qd("Unrecognized action received from server: "+G(b)+"\nAre you using the latest client?"))}},h.Zc=function(a,b){if(this.f("connection ready"),this.qa=!0,this.Oc=(new Date).getTime(),this.Se({serverTimeOffset:a-(new Date).getTime()}),this.Fb=b,this.rf){var c={};c["sdk.js."+Eb.replace(/\./g,"-")]=1,Dg()?c["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(c["framework.reactnative"]=1),this.Ye(c)}bi(this),this.rf=!1,this.Xc(!0)},h.Og=function(a){a&&!this.Sb&&this.eb===this.Id&&(this.f("Window became visible.  Reducing delay."),this.eb=1e3,this.Ma||Th(this,0)),this.Sb=a},h.Mg=function(a){a?(this.f("Browser went online."),this.eb=1e3,this.Ma||Th(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close())},h.If=function(){this.f("data client disconnected"),this.qa=!1,this.Ma=null;for(var a=0;a<this.sa.length;a++){var b=this.sa[a];b&&"h"in b.Pf&&b.Vg&&(b.I&&b.I("disconnect"),delete this.sa[a],this.ad--)}0===this.ad&&(this.sa=[]),this.Wd={},di(this)&&(this.Sb?this.Oc&&(3e4<(new Date).getTime()-this.Oc&&(this.eb=1e3),this.Oc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.eb=this.Id,this.Ke=(new Date).getTime()),a=Math.max(0,this.eb-((new Date).getTime()-this.Ke)),a*=Math.random(),this.f("Trying to reconnect in "+a+"ms"),Th(this,a),this.eb=Math.min(this.Id,1.3*this.eb)),this.Xc(!1)},h.Cb=function(){this.Ie=!0,this.Ma?this.Ma.close():(this.wb&&(clearTimeout(this.wb),this.wb=null),this.qa&&this.If())},h.vc=function(){this.Ie=!1,this.eb=1e3,this.Ma||Th(this,0)};var U={zg:function(){oh=xh=!0}};U.forceLongPolling=U.zg,U.Ag=function(){ph=!0},U.forceWebSockets=U.Ag,U.Eg=function(){return wh.isAvailable()},U.isWebSocketsAvailable=U.Eg,U.ah=function(a,b){a.k.Va.$e=b},U.setSecurityDebugCallback=U.ah,U.bf=function(a,b){a.k.bf(b)},U.stats=U.bf,U.cf=function(a,b){a.k.cf(b)},U.statsIncrementCounter=U.cf,U.ud=function(a){return a.k.ud},U.dataUpdateCount=U.ud,U.Dg=function(a,b){a.k.He=b},U.interceptServerData=U.Dg,U.Kg=function(a){new Og(a)},U.onPopupOpen=U.Kg,U.Zg=function(a){xg=a},U.setAuthenticationServer=U.Zg,V.prototype.cancel=function(a){D("Firebase.onDisconnect().cancel",0,1,arguments.length),F("Firebase.onDisconnect().cancel",1,a,!0);var b=new B;return this.dd.Md(this.ta,C(b,a)),b.D},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(a){D("Firebase.onDisconnect().remove",0,1,arguments.length),og("Firebase.onDisconnect().remove",this.ta),F("Firebase.onDisconnect().remove",1,a,!0);var b=new B;return fi(this.dd,this.ta,null,C(b,a)),b.D},V.prototype.remove=V.prototype.remove,V.prototype.set=function(a,b){D("Firebase.onDisconnect().set",1,2,arguments.length),og("Firebase.onDisconnect().set",this.ta),gg("Firebase.onDisconnect().set",a,this.ta,!1),F("Firebase.onDisconnect().set",2,b,!0);var c=new B;return fi(this.dd,this.ta,a,C(c,b)),c.D},V.prototype.set=V.prototype.set,V.prototype.Ob=function(a,b,c){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),og("Firebase.onDisconnect().setWithPriority",this.ta),gg("Firebase.onDisconnect().setWithPriority",a,this.ta,!1),kg("Firebase.onDisconnect().setWithPriority",2,b),F("Firebase.onDisconnect().setWithPriority",3,c,!0);var d=new B;return gi(this.dd,this.ta,a,b,C(d,c)),d.D},V.prototype.setWithPriority=V.prototype.Ob,V.prototype.update=function(a,b){if(D("Firebase.onDisconnect().update",1,2,arguments.length),og("Firebase.onDisconnect().update",this.ta),da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c,S("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.onDisconnect().update",a,this.ta),F("Firebase.onDisconnect().update",2,b,!0),c=new B,hi(this.dd,this.ta,a,C(c,b)),c.D},V.prototype.update=V.prototype.update,W.prototype.J=function(){return D("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.J()},W.prototype.val=W.prototype.J,W.prototype.qf=function(){return D("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.J(!0)},W.prototype.exportVal=W.prototype.qf,W.prototype.xg=function(){return D("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.xg,W.prototype.o=function(a){D("Firebase.DataSnapshot.child",0,1,arguments.length),fa(a)&&(a=String(a)),ng("Firebase.DataSnapshot.child",a);var b=new P(a),c=this.Y.o(b);return new W(this.A.S(b),c,R)},W.prototype.child=W.prototype.o,W.prototype.Fa=function(a){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ng("Firebase.DataSnapshot.hasChild",a);var b=new P(a);return!this.A.S(b).e()},W.prototype.hasChild=W.prototype.Fa,W.prototype.C=function(){return D("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().J()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(a){if(D("Firebase.DataSnapshot.forEach",1,1,arguments.length),F("Firebase.DataSnapshot.forEach",1,a,!1),this.A.L())return!1;var b=this;return!!this.A.R(this.g,function(c,d){return a(new W(d,b.Y.o(c),R))})},W.prototype.forEach=W.prototype.forEach,W.prototype.zd=function(){return D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.L()&&!this.A.e()},W.prototype.hasChildren=W.prototype.zd,W.prototype.name=function(){return S("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),D("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},W.prototype.name=W.prototype.name,W.prototype.key=function(){return D("Firebase.DataSnapshot.key",0,0,arguments.length),this.Y.key()},W.prototype.key=W.prototype.key,W.prototype.Hb=function(){return D("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Hb()},W.prototype.numChildren=W.prototype.Hb,W.prototype.Mb=function(){return D("Firebase.DataSnapshot.ref",0,0,arguments.length),this.Y},W.prototype.ref=W.prototype.Mb,h=ii.prototype,h.Qf=function(a){return"value"===a},h.createEvent=function(a,b){var c=b.n.g;return new jc("value",this,new W(a.Na,b.Mb(),c))},h.Zb=function(a){var b=this.vb;if("cancel"===a.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var c=this.tb;return function(){c.call(b,a.error)}}var d=this.Vb;return function(){d.call(b,a.be)}},h.lf=function(a,b){return this.tb?new kc(this,a,b):null},h.matches=function(a){return a instanceof ii&&(!a.Vb||!this.Vb||a.Vb===this.Vb&&a.vb===this.vb)},h.yf=function(){return null!==this.Vb},h=ji.prototype,h.Qf=function(a){return a="children_added"===a?"child_added":a,("children_removed"===a?"child_removed":a)in this.ja},h.lf=function(a,b){return this.tb?new kc(this,a,b):null},h.createEvent=function(a,b){O(null!=a.Za,"Child events should have a childName.");var c=b.Mb().o(a.Za);return new jc(a.type,this,new W(a.Na,c,b.n.g),a.Td)},h.Zb=function(a){var b=this.vb;if("cancel"===a.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var c=this.tb;return function(){c.call(b,a.error)}}var d=this.ja[a.wd];return function(){d.call(b,a.be,a.Td)}},h.matches=function(a){if(a instanceof ji){if(!this.ja||!a.ja)return!0;if(this.vb===a.vb){var b=oa(a.ja);if(b===oa(this.ja)){if(1===b){var b=pa(a.ja),c=pa(this.ja);return!(c!==b||a.ja[b]&&this.ja[c]&&a.ja[b]!==this.ja[c])}return na(this.ja,function(b,c){return a.ja[c]===b})}}}return!1},h.yf=function(){return null!==this.ja},h=ki.prototype,h.e=function(){return va(this.za)},h.gb=function(a,b,c){var d=a.source.Lb;if(null!==d)return d=z(this.za,d),O(null!=d,"SyncTree gave us an op for an invalid query."),d.gb(a,b,c);var e=[];return v(this.za,function(d){e=e.concat(d.gb(a,b,c))}),e},h.Tb=function(a,b,c,d,e){var f=a.wa(),g=z(this.za,f);if(!g){var g=c.Aa(e?d:null),h=!1;g?h=!0:(g=d instanceof fe?c.Cc(d):H,h=!1),g=new Ye(a,new je(new Xb(g,h,!1),new Xb(d,e,!1))),this.za[f]=g}return g.Tb(b),af(g,b)},h.nb=function(a,b,c){var d=a.wa(),e=[],f=[],g=null!=li(this);if("default"===d){var h=this;v(this.za,function(a,d){f=f.concat(a.nb(b,c)),a.e()&&(delete h.za[d],He(a.Y.n)||e.push(a.Y))})}else{var i=z(this.za,d);i&&(f=f.concat(i.nb(b,c)),i.e()&&(delete this.za[d],He(i.Y.n)||e.push(i.Y)))}return g&&null==li(this)&&e.push(new X(a.k,a.path)),{Wg:e,vg:f}},h.kb=function(a){var b=null;return v(this.za,function(c){b=b||c.kb(a)}),b},oi.prototype.Tb=function(a,b){var c=a.path,d=null,e=!1;zf(this.va,c,function(a,b){var f=lf(a,c);d=d||b.kb(f),e=e||null!=li(b)});var f=this.va.get(c);f?(e=e||null!=li(f),d=d||f.kb(M)):(f=new ki,this.va=this.va.set(c,f));var g;null!=d?g=!0:(g=!1,d=H,Cf(this.va.subtree(c),function(a,b){var c=b.kb(M);c&&(d=d.W(a,c))}));var h=null!=ni(f,a);if(!h&&!He(a.n)){var i=zi(a);O(!(i in this.qc),"View does not exist, but we have a tag");var j=Ai++;this.qc[i]=j,this.df["_"+j]=i}return g=f.Tb(a,b,new Uf(c,this.mb),d,g),h||e||(f=ni(f,a),g=g.concat(Bi(this,a,f))),g},oi.prototype.nb=function(a,b,c){var d=a.path,e=this.va.get(d),f=[];if(e&&("default"===a.wa()||null!=ni(e,a))){f=e.nb(a,b,c),e.e()&&(this.va=this.va.remove(d)),e=f.Wg,f=f.vg,b=-1!==Sa(e,function(a){return He(a.n)});var g=xf(this.va,d,function(a,b){return null!=li(b)});if(b&&!g&&(d=this.va.subtree(d),!d.e()))for(var d=Ci(d),h=0;h<d.length;++h){var i=d[h],j=i.Y,i=Di(this,i);this.Qc.af(Ei(j),Fi(this,j),i.Ad,i.I)}if(!g&&0<e.length&&!c)if(b)this.Qc.de(Ei(a),null);else{var k=this;Ma(e,function(a){a.wa();var b=k.qc[zi(a)];k.Qc.de(Ei(a),b)})}Gi(this,e)}return f},oi.prototype.Aa=function(a,b){var c=this.mb,d=xf(this.va,a,function(b,c){var d=lf(b,a);if(d=c.kb(d))return d});return c.Aa(a,d,b,!0)};var Ai=1;h=Ji.prototype,h.toString=function(){return(this.G.ob?"https://":"http://")+this.G.host},h.name=function(){return this.G.lc},h.Kb=function(a,b,c,d){this.ud++;var e=new P(a);b=this.He?this.He(a,b):b,a=[],d?c?(b=ma(b,function(a){return Q(a)}),a=yi(this.M,e,b,d)):(b=Q(b),a=ui(this.M,e,b,d)):c?(d=ma(b,function(a){return Q(a)}),a=ti(this.M,e,d)):(d=Q(b),a=qi(this.M,new Ac(Gf,e,d))),d=e,0<a.length&&(d=Ni(this,e)),dc(this.fa,d,a)},h.Xc=function(a){Ki(this,"connected",a),!1===a&&Oi(this)},h.Se=function(a){var b=this;zd(a,function(a,c){Ki(b,c,a)})},h.Pe=function(a){Ki(this,"authenticated",a)},h.Ob=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,nh:c});var e=Mi(this);b=Q(b,c);var e=Xc(b,e),f=this.Kd++,e=pi(this.M,a,e,f,!0);$b(this.fa,e);var g=this;this.da.put(a.toString(),b.J(!0),function(b,c){var e="ok"===b;e||S("set at "+a+" failed: "+b),e=si(g.M,f,!e),dc(g.fa,a,e),Pi(d,b,c)}),e=Qi(this,a),Ni(this,e),dc(this.fa,e,[])},h.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Mi(this),f={};if(v(b,function(a,b){d=!1;var c=Q(a);f[b]=Xc(c,e)}),d)fc("update() called with empty data.  Don't do anything."),Pi(c,"ok");else{var g=this.Kd++,h=ri(this.M,a,f,g);$b(this.fa,h);var i=this;this.da.Df(a.toString(),b,function(b,d){var e="ok"===b;e||S("update at "+a+" failed: "+b);var e=si(i.M,g,!e),f=a;0<e.length&&(f=Ni(i,a)),dc(i.fa,f,e),Pi(c,b,d)}),b=Qi(this,a),Ni(this,b),dc(this.fa,a,[])}},h.Md=function(a,b){var c=this;this.da.Md(a.toString(),function(d,e){"ok"===d&&wg(c.na,a),Pi(b,d,e)})},h.Cb=function(){this.Va&&this.Va.Cb()},h.vc=function(){this.Va&&this.Va.vc()},h.bf=function(a){if("undefined"!=typeof console){a?(this.hd||(this.hd=new oc(this.Xa)),a=this.hd.get()):a=this.Xa.get();var b,c=Pa(ra(a),function(a,b){return Math.max(b.length,a)},0);for(b in a){for(var d=a[b],e=b.length;e<c+2;e++)b+=" ";console.log(b+d)}}},h.cf=function(a){rc(this.Xa,a),this.eh.Vf[a]=!0},h.f=function(a){var b="";this.Va&&(b=this.Va.id+":"),fc(b,arguments)},aj.prototype.Cb=function(){for(var a in this.sc)this.sc[a].Cb()},aj.prototype.vc=function(){for(var a in this.sc)this.sc[a].vc()},aj.prototype.ze=function(){this.ag=!0},ba(aj),aj.prototype.interrupt=aj.prototype.Cb,aj.prototype.resume=aj.prototype.vc,h=Y.prototype,h.Mb=function(){return D("Query.ref",0,0,arguments.length),new X(this.k,this.path)},h.Ib=function(a,b,c,d){D("Query.on",2,4,arguments.length),lg("Query.on",a,!1),F("Query.on",2,b,!1);var e=ej("Query.on",c,d);if("value"===a)Ri(this.k,this,new ii(b,e.cancel||null,e.Qa||null));else{var f={};f[a]=b,Ri(this.k,this,new ji(f,e.cancel,e.Qa))}return b},h.mc=function(a,b,c){D("Query.off",0,3,arguments.length),lg("Query.off",a,!0),F("Query.off",2,b,!0),Qb("Query.off",3,c);var d=null,e=null;"value"===a?d=new ii(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new ji(e,null,c||null)),e=this.k,d=".info"===K(this.path)?e.Fd.nb(this,d):e.M.nb(this,d),bc(e.fa,this.path,d)},h.Pg=function(a,b){function c(h){f&&(f=!1,e.mc(a,c),b&&b.call(d.Qa,h),g.resolve(h))}D("Query.once",1,4,arguments.length),lg("Query.once",a,!1),F("Query.once",2,b,!0);var d=ej("Query.once",arguments[2],arguments[3]),e=this,f=!0,g=new B;return Nb(g.D),this.Ib(a,c,function(b){e.mc(a,c),d.cancel&&d.cancel.call(d.Qa,b),g.reject(b)}),g.D},h.Le=function(a){if(S("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),D("Query.limit",1,1,arguments.length),!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.n.Le(a);return cj(b),new Y(this.k,this.path,b,this.pc)},h.Me=function(a){if(D("Query.limitToFirst",1,1,arguments.length),!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Me(a),this.pc)},h.Ne=function(a){if(D("Query.limitToLast",1,1,arguments.length),!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ne(a),this.pc)},h.Qg=function(a){if(D("Query.orderByChild",1,1,arguments.length),"$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ng("Query.orderByChild",a),dj(this,"Query.orderByChild");var b=new P(a);if(b.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return b=new ve(b),b=Fe(this.n,b),bj(b),new Y(this.k,this.path,b,!0)},h.Rg=function(){D("Query.orderByKey",0,0,arguments.length),dj(this,"Query.orderByKey");var a=Fe(this.n,re);return bj(a),new Y(this.k,this.path,a,!0)},h.Sg=function(){D("Query.orderByPriority",0,0,arguments.length),dj(this,"Query.orderByPriority");var a=Fe(this.n,R);return bj(a),new Y(this.k,this.path,a,!0)},h.Tg=function(){D("Query.orderByValue",0,0,arguments.length),dj(this,"Query.orderByValue");var a=Fe(this.n,Be);return bj(a),new Y(this.k,this.path,a,!0)
},h.ce=function(a,b){D("Query.startAt",0,2,arguments.length),gg("Query.startAt",a,this.path,!0),mg("Query.startAt",b);var c=this.n.ce(a,b);if(cj(c),bj(c),this.n.oa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return p(a)||(b=a=null),new Y(this.k,this.path,c,this.pc)},h.vd=function(a,b){D("Query.endAt",0,2,arguments.length),gg("Query.endAt",a,this.path,!0),mg("Query.endAt",b);var c=this.n.vd(a,b);if(cj(c),bj(c),this.n.ra)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,c,this.pc)},h.tg=function(a,b){if(D("Query.equalTo",1,2,arguments.length),gg("Query.equalTo",a,this.path,!1),mg("Query.equalTo",b),this.n.oa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.ra)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ce(a,b).vd(a,b)},h.toString=function(){D("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.aa;c<a.u.length;c++)""!==a.u[c]&&(b+="/"+encodeURIComponent(String(a.u[c])));return this.k.toString()+(b||"/")},h.wa=function(){var a=xd(Ge(this.n));return"{}"===a?"default":a},Y.prototype.ref=Y.prototype.Mb,Y.prototype.on=Y.prototype.Ib,Y.prototype.off=Y.prototype.mc,Y.prototype.once=Y.prototype.Pg,Y.prototype.limit=Y.prototype.Le,Y.prototype.limitToFirst=Y.prototype.Me,Y.prototype.limitToLast=Y.prototype.Ne,Y.prototype.orderByChild=Y.prototype.Qg,Y.prototype.orderByKey=Y.prototype.Rg,Y.prototype.orderByPriority=Y.prototype.Sg,Y.prototype.orderByValue=Y.prototype.Tg,Y.prototype.startAt=Y.prototype.ce,Y.prototype.endAt=Y.prototype.vd,Y.prototype.equalTo=Y.prototype.tg,Y.prototype.toString=Y.prototype.toString;var Z={};Z.zc=Rh,Z.DataConnection=Z.zc,Rh.prototype.dh=function(a,b){this.Ia("q",{p:a},b)},Z.zc.prototype.simpleListen=Z.zc.prototype.dh,Rh.prototype.sg=function(a,b){this.Ia("echo",{d:a},b)},Z.zc.prototype.echo=Z.zc.prototype.sg,Rh.prototype.interrupt=Rh.prototype.Cb,Z.dg=Fh,Z.RealTimeConnection=Z.dg,Fh.prototype.sendRequest=Fh.prototype.Ia,Fh.prototype.close=Fh.prototype.close,Z.Cg=function(a){var b=Rh.prototype.put;return Rh.prototype.put=function(c,d,e,f){p(f)&&(f=a()),b.call(this,c,d,e,f)},function(){Rh.prototype.put=b}},Z.hijackHash=Z.Cg,Z.cg=dd,Z.ConnectionTarget=Z.cg,Z.wa=function(a){return a.wa()},Z.queryIdentifier=Z.wa,Z.Fg=function(a){return a.k.Va.ba},Z.listens=Z.Fg,Z.ze=function(a){a.ze()},Z.forceRestClient=Z.ze,ka(X,Y);var fj=X,gj=["Firebase"],hj=n;gj[0]in hj||!hj.execScript||hj.execScript("var "+gj[0]);for(var ij;gj.length&&(ij=gj.shift());)!gj.length&&p(fj)?hj[ij]=fj:hj=hj[ij]?hj[ij]:hj[ij]={};X.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length),aj.yb().Cb()},X.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length),aj.yb().vc()},X.enableLogging=od,X.ServerValue={TIMESTAMP:{".sv":"timestamp"}},X.SDK_VERSION=Eb,X.INTERNAL=U,X.Context=aj,X.TEST_ACCESS=Z,X.prototype.name=function(){return S("Firebase.name() being deprecated. Please use Firebase.key() instead."),D("Firebase.name",0,0,arguments.length),this.key()},X.prototype.name=X.prototype.name,X.prototype.key=function(){return D("Firebase.key",0,0,arguments.length),this.path.e()?null:me(this.path)},X.prototype.key=X.prototype.key,X.prototype.o=function(a){if(D("Firebase.child",1,1,arguments.length),fa(a))a=String(a);else if(!(a instanceof P))if(null===K(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/")),ng("Firebase.child",b)}else ng("Firebase.child",a);return new X(this.k,this.path.o(a))},X.prototype.child=X.prototype.o,X.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new X(this.k,a)},X.prototype.parent=X.prototype.parent,X.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a},X.prototype.root=X.prototype.root,X.prototype.set=function(a,b){D("Firebase.set",1,2,arguments.length),og("Firebase.set",this.path),gg("Firebase.set",a,this.path,!1),F("Firebase.set",2,b,!0);var c=new B;return this.k.Ob(this.path,a,null,C(c,b)),c.D},X.prototype.set=X.prototype.set,X.prototype.update=function(a,b){if(D("Firebase.update",1,2,arguments.length),og("Firebase.update",this.path),da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.update",a,this.path),F("Firebase.update",2,b,!0),c=new B,this.k.update(this.path,a,C(c,b)),c.D},X.prototype.update=X.prototype.update,X.prototype.Ob=function(a,b,c){if(D("Firebase.setWithPriority",2,3,arguments.length),og("Firebase.setWithPriority",this.path),gg("Firebase.setWithPriority",a,this.path,!1),kg("Firebase.setWithPriority",2,b),F("Firebase.setWithPriority",3,c,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var d=new B;return this.k.Ob(this.path,a,b,C(d,c)),d.D},X.prototype.setWithPriority=X.prototype.Ob,X.prototype.remove=function(a){return D("Firebase.remove",0,1,arguments.length),og("Firebase.remove",this.path),F("Firebase.remove",1,a,!0),this.set(null,a)},X.prototype.remove=X.prototype.remove,X.prototype.transaction=function(a,b,c){if(D("Firebase.transaction",1,3,arguments.length),og("Firebase.transaction",this.path),F("Firebase.transaction",1,a,!1),F("Firebase.transaction",2,b,!0),p(c)&&"boolean"!=typeof c)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";void 0===c&&(c=!0);var d=new B;return r(b)&&Nb(d.D),Si(this.k,this.path,a,function(a,c,e){a?d.reject(a):d.resolve(new ei(c,e)),r(b)&&b(a,c,e)},c),d.D},X.prototype.transaction=X.prototype.transaction,X.prototype.$g=function(a,b){D("Firebase.setPriority",1,2,arguments.length),og("Firebase.setPriority",this.path),kg("Firebase.setPriority",1,a),F("Firebase.setPriority",2,b,!0);var c=new B;return this.k.Ob(this.path.o(".priority"),a,null,C(c,b)),c.D},X.prototype.setPriority=X.prototype.$g,X.prototype.push=function(a,b){D("Firebase.push",0,2,arguments.length),og("Firebase.push",this.path),gg("Firebase.push",a,this.path,!0),F("Firebase.push",2,b,!0);var c=Li(this.k),d=hf(c),c=this.o(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.o(d)});c.then=u(f.then,f),c.catch=u(f.then,f,void 0),r(b)&&Nb(f)}return c},X.prototype.push=X.prototype.push,X.prototype.lb=function(){return og("Firebase.onDisconnect",this.path),new V(this.k,this.path)},X.prototype.onDisconnect=X.prototype.lb,X.prototype.O=function(a,b,c){S("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),D("Firebase.auth",1,3,arguments.length),pg("Firebase.auth",a),F("Firebase.auth",2,b,!0),F("Firebase.auth",3,b,!0);var d=new B;return dh(this.k.O,a,{},{remember:"none"},C(d,b),c),d.D},X.prototype.auth=X.prototype.O,X.prototype.je=function(a){D("Firebase.unauth",0,1,arguments.length),F("Firebase.unauth",1,a,!0);var b=new B;return eh(this.k.O,C(b,a)),b.D},X.prototype.unauth=X.prototype.je,X.prototype.Be=function(){return D("Firebase.getAuth",0,0,arguments.length),this.k.O.Be()},X.prototype.getAuth=X.prototype.Be,X.prototype.Jg=function(a,b){D("Firebase.onAuth",1,2,arguments.length),F("Firebase.onAuth",1,a,!1),Qb("Firebase.onAuth",2,b),this.k.O.Ib("auth_status",a,b)},X.prototype.onAuth=X.prototype.Jg,X.prototype.Ig=function(a,b){D("Firebase.offAuth",1,2,arguments.length),F("Firebase.offAuth",1,a,!1),Qb("Firebase.offAuth",2,b),this.k.O.mc("auth_status",a,b)},X.prototype.offAuth=X.prototype.Ig,X.prototype.hg=function(a,b,c){D("Firebase.authWithCustomToken",1,3,arguments.length),2===arguments.length&&Hb(b)&&(c=b,b=void 0),pg("Firebase.authWithCustomToken",a),F("Firebase.authWithCustomToken",2,b,!0),sg("Firebase.authWithCustomToken",3,c,!0);var d=new B;return dh(this.k.O,a,{},c||{},C(d,b)),d.D},X.prototype.authWithCustomToken=X.prototype.hg,X.prototype.ig=function(a,b,c){D("Firebase.authWithOAuthPopup",1,3,arguments.length),2===arguments.length&&Hb(b)&&(c=b,b=void 0),rg("Firebase.authWithOAuthPopup",a),F("Firebase.authWithOAuthPopup",2,b,!0),sg("Firebase.authWithOAuthPopup",3,c,!0);var d=new B;return ih(this.k.O,a,c,C(d,b)),d.D},X.prototype.authWithOAuthPopup=X.prototype.ig,X.prototype.jg=function(a,b,c){D("Firebase.authWithOAuthRedirect",1,3,arguments.length),2===arguments.length&&Hb(b)&&(c=b,b=void 0),rg("Firebase.authWithOAuthRedirect",a),F("Firebase.authWithOAuthRedirect",2,b,!1),sg("Firebase.authWithOAuthRedirect",3,c,!0);var d=new B,e=this.k.O,f=c,g=C(d,b);gh(e);var h=[Qg],f=Ag(f);return"anonymous"===a||"firebase"===a?T(g,Sg("TRANSPORT_UNAVAILABLE")):(cd.set("redirect_client_options",f.qd),hh(e,h,"/auth/"+a,f,g)),d.D},X.prototype.authWithOAuthRedirect=X.prototype.jg,X.prototype.kg=function(a,b,c,d){D("Firebase.authWithOAuthToken",2,4,arguments.length),3===arguments.length&&Hb(c)&&(d=c,c=void 0),rg("Firebase.authWithOAuthToken",a),F("Firebase.authWithOAuthToken",3,c,!0),sg("Firebase.authWithOAuthToken",4,d,!0);var e=new B;return q(b)?(qg("Firebase.authWithOAuthToken",2,b),fh(this.k.O,a+"/token",{access_token:b},d,C(e,c))):(sg("Firebase.authWithOAuthToken",2,b,!1),fh(this.k.O,a+"/token",b,d,C(e,c))),e.D},X.prototype.authWithOAuthToken=X.prototype.kg,X.prototype.gg=function(a,b){D("Firebase.authAnonymously",0,2,arguments.length),1===arguments.length&&Hb(a)&&(b=a,a=void 0),F("Firebase.authAnonymously",1,a,!0),sg("Firebase.authAnonymously",2,b,!0);var c=new B;return fh(this.k.O,"anonymous",{},b,C(c,a)),c.D},X.prototype.authAnonymously=X.prototype.gg,X.prototype.lg=function(a,b,c){D("Firebase.authWithPassword",1,3,arguments.length),2===arguments.length&&Hb(b)&&(c=b,b=void 0),sg("Firebase.authWithPassword",1,a,!1),tg("Firebase.authWithPassword",a,"email"),tg("Firebase.authWithPassword",a,"password"),F("Firebase.authWithPassword",2,b,!0),sg("Firebase.authWithPassword",3,c,!0);var d=new B;return fh(this.k.O,"password",a,c,C(d,b)),d.D},X.prototype.authWithPassword=X.prototype.lg,X.prototype.ve=function(a,b){D("Firebase.createUser",1,2,arguments.length),sg("Firebase.createUser",1,a,!1),tg("Firebase.createUser",a,"email"),tg("Firebase.createUser",a,"password"),F("Firebase.createUser",2,b,!0);var c=new B;return this.k.O.ve(a,C(c,b)),c.D},X.prototype.createUser=X.prototype.ve,X.prototype.Xe=function(a,b){D("Firebase.removeUser",1,2,arguments.length),sg("Firebase.removeUser",1,a,!1),tg("Firebase.removeUser",a,"email"),tg("Firebase.removeUser",a,"password"),F("Firebase.removeUser",2,b,!0);var c=new B;return this.k.O.Xe(a,C(c,b)),c.D},X.prototype.removeUser=X.prototype.Xe,X.prototype.se=function(a,b){D("Firebase.changePassword",1,2,arguments.length),sg("Firebase.changePassword",1,a,!1),tg("Firebase.changePassword",a,"email"),tg("Firebase.changePassword",a,"oldPassword"),tg("Firebase.changePassword",a,"newPassword"),F("Firebase.changePassword",2,b,!0);var c=new B;return this.k.O.se(a,C(c,b)),c.D},X.prototype.changePassword=X.prototype.se,X.prototype.re=function(a,b){D("Firebase.changeEmail",1,2,arguments.length),sg("Firebase.changeEmail",1,a,!1),tg("Firebase.changeEmail",a,"oldEmail"),tg("Firebase.changeEmail",a,"newEmail"),tg("Firebase.changeEmail",a,"password"),F("Firebase.changeEmail",2,b,!0);var c=new B;return this.k.O.re(a,C(c,b)),c.D},X.prototype.changeEmail=X.prototype.re,X.prototype.Ze=function(a,b){D("Firebase.resetPassword",1,2,arguments.length),sg("Firebase.resetPassword",1,a,!1),tg("Firebase.resetPassword",a,"email"),F("Firebase.resetPassword",2,b,!0);var c=new B;return this.k.O.Ze(a,C(c,b)),c.D},X.prototype.resetPassword=X.prototype.Ze}(),function(a){"use strict";angular.module("firebase",[]).value("Firebase",a.Firebase)}(window),function(){"use strict";angular.module("firebase").factory("$firebaseArray",["$log","$firebaseUtils","$q",function(a,b,c){function d(a){if(!(this instanceof d))return new d(a);var c=this;return this._observers=[],this.$list=[],this._ref=a,this._sync=new e(this),b.assertValidRef(a,"Must pass a valid Firebase reference to $firebaseArray (not a string or URL)"),this._indexCache={},b.getPublicMethods(c,function(a,b){c.$list[b]=a.bind(c)}),this._sync.init(this.$list),this.$list}function e(d){function e(a){if(!r.isDestroyed){r.isDestroyed=!0;var b=d.$ref();b.off("child_added",j),b.off("child_moved",l),b.off("child_changed",k),b.off("child_removed",m),d=null,q(a||"destroyed")}}function f(b){var c=d.$ref();c.on("child_added",j,p),c.on("child_moved",l,p),c.on("child_changed",k,p),c.on("child_removed",m,p),c.once("value",function(c){angular.isArray(c.val())&&a.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information."),q(null,b)},q)}function g(a,b){o||(o=!0,a?i.reject(a):i.resolve(b))}function h(a,b){var d=c.when(a);d.then(function(a){a&&b(a)}),o||n.push(d)}var i=b.defer(),j=function(a,b){h(d.$$added(a,b),function(a){d.$$process("child_added",a,b)})},k=function(a){var c=d.$getRecord(b.getKey(a));c&&h(d.$$updated(a),function(){d.$$process("child_changed",c)})},l=function(a,c){var e=d.$getRecord(b.getKey(a));e&&h(d.$$moved(a,c),function(){d.$$process("child_moved",e,c)})},m=function(a){var c=d.$getRecord(b.getKey(a));c&&h(d.$$removed(a),function(){d.$$process("child_removed",c)})},n=[],o=!1,p=b.batch(function(a){g(a),d&&d.$$error(a)}),q=b.batch(g),r={destroy:e,isDestroyed:!1,init:f,ready:function(){return i.promise.then(function(a){return c.all(n).then(function(){return a})})}};return r}return d.prototype={$add:function(a){this._assertNotDestroyed("$add");var c=b.defer(),d=this.$ref().ref().push();return d.set(b.toJSON(a),b.makeNodeResolver(c)),c.promise.then(function(){return d})},$save:function(a){this._assertNotDestroyed("$save");var c=this,d=c._resolveItem(a),e=c.$keyAt(d);if(null!==e){var f=c.$ref().ref().child(e),g=b.toJSON(d);return b.doSet(f,g).then(function(){return c.$$notify("child_changed",e),f})}return b.reject("Invalid record; could determine key for "+a)},$remove:function(a){this._assertNotDestroyed("$remove");var c=this.$keyAt(a);if(null!==c){var d=this.$ref().ref().child(c);return b.doRemove(d).then(function(){return d})}return b.reject("Invalid record; could not determine key for "+a)},$keyAt:function(a){var b=this._resolveItem(a);return this.$$getKey(b)},$indexFor:function(a){var b=this,c=b._indexCache;if(!c.hasOwnProperty(a)||b.$keyAt(c[a])!==a){var d=b.$list.findIndex(function(c){return b.$$getKey(c)===a});-1!==d&&(c[a]=d)}return c.hasOwnProperty(a)?c[a]:-1},$loaded:function(a,b){var c=this._sync.ready();return arguments.length&&(c=c.then.call(c,a,b)),c},$ref:function(){return this._ref},$watch:function(a,b){var c=this._observers;return c.push([a,b]),function(){var d=c.findIndex(function(c){return c[0]===a&&c[1]===b});d>-1&&c.splice(d,1)}},$destroy:function(a){this._isDestroyed||(this._isDestroyed=!0,this._sync.destroy(a),this.$list.length=0)},$getRecord:function(a){var b=this.$indexFor(a);return b>-1?this.$list[b]:null},$$added:function(a){if(-1===this.$indexFor(b.getKey(a))){var c=a.val();return angular.isObject(c)||(c={$value:c}),c.$id=b.getKey(a),c.$priority=a.getPriority(),b.applyDefaults(c,this.$$defaults),c}return!1},$$removed:function(a){return this.$indexFor(b.getKey(a))>-1},$$updated:function(a){var c=!1,d=this.$getRecord(b.getKey(a));return angular.isObject(d)&&(c=b.updateRec(d,a),b.applyDefaults(d,this.$$defaults)),c},$$moved:function(a){var c=this.$getRecord(b.getKey(a));return!!angular.isObject(c)&&(c.$priority=a.getPriority(),!0)},$$error:function(b){a.error(b),this.$destroy(b)},$$getKey:function(a){return angular.isObject(a)?a.$id:null},$$process:function(a,b,c){var d,e=this.$$getKey(b),f=!1;switch(a){case"child_added":d=this.$indexFor(e);break;case"child_moved":d=this.$indexFor(e),this._spliceOut(e);break;case"child_removed":f=null!==this._spliceOut(e);break;case"child_changed":f=!0;break;default:throw new Error("Invalid event type: "+a)}return angular.isDefined(d)&&(f=this._addAfter(b,c)!==d),f&&this.$$notify(a,e,c),f},$$notify:function(a,b,c){var d={event:a,key:b};angular.isDefined(c)&&(d.prevChild=c),angular.forEach(this._observers,function(a){a[0].call(a[1],d)})},_addAfter:function(a,b){var c;return null===b?c=0:0===(c=this.$indexFor(b)+1)&&(c=this.$list.length),this.$list.splice(c,0,a),this._indexCache[this.$$getKey(a)]=c,c},_spliceOut:function(a){var b=this.$indexFor(a);return b>-1?(delete this._indexCache[a],this.$list.splice(b,1)[0]):null},_resolveItem:function(a){var b=this.$list;if(angular.isNumber(a)&&a>=0&&b.length>=a)return b[a];if(angular.isObject(a)){var c=this.$$getKey(a),d=this.$getRecord(c);return d===a?d:null}return null},_assertNotDestroyed:function(a){if(this._isDestroyed)throw new Error("Cannot call "+a+" method on a destroyed $firebaseArray object")}},d.$extend=function(a,c){return 1===arguments.length&&angular.isObject(a)&&(c=a,a=function(b){return this instanceof a?(d.apply(this,arguments),this.$list):new a(b)}),b.inherit(a,d,c)},d}]),angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseArray",function(a,b){return function(){return a.warn("$FirebaseArray has been renamed. Use $firebaseArray instead."),b.apply(null,arguments)}}])}(),function(){"use strict";var a;angular.module("firebase").factory("$firebaseAuth",["$q","$firebaseUtils",function(b,c){return function(d){return new a(b,c,d).construct()}}]),a=function(a,b,c){if(this._q=a,this._utils=b,"string"==typeof c)throw new Error("Please provide a Firebase reference instead of a URL when creating a `$firebaseAuth` object.");this._ref=c,this._initialAuthResolver=this._initAuthResolver()},a.prototype={construct:function(){return this._object={$authWithCustomToken:this.authWithCustomToken.bind(this),$authAnonymously:this.authAnonymously.bind(this),$authWithPassword:this.authWithPassword.bind(this),$authWithOAuthPopup:this.authWithOAuthPopup.bind(this),$authWithOAuthRedirect:this.authWithOAuthRedirect.bind(this),$authWithOAuthToken:this.authWithOAuthToken.bind(this),$unauth:this.unauth.bind(this),$onAuth:this.onAuth.bind(this),$getAuth:this.getAuth.bind(this),$requireAuth:this.requireAuth.bind(this),$waitForAuth:this.waitForAuth.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$changeEmail:this.changeEmail.bind(this),$removeUser:this.removeUser.bind(this),$resetPassword:this.resetPassword.bind(this)},this._object},authWithCustomToken:function(a,b){var c=this._q.defer();try{this._ref.authWithCustomToken(a,this._utils.makeNodeResolver(c),b)}catch(a){c.reject(a)}return c.promise},authAnonymously:function(a){var b=this._q.defer();try{this._ref.authAnonymously(this._utils.makeNodeResolver(b),a)}catch(a){b.reject(a)}return b.promise},authWithPassword:function(a,b){var c=this._q.defer();try{this._ref.authWithPassword(a,this._utils.makeNodeResolver(c),b)}catch(a){c.reject(a)}return c.promise},authWithOAuthPopup:function(a,b){var c=this._q.defer();try{this._ref.authWithOAuthPopup(a,this._utils.makeNodeResolver(c),b)}catch(a){c.reject(a)}return c.promise},authWithOAuthRedirect:function(a,b){var c=this._q.defer();try{this._ref.authWithOAuthRedirect(a,this._utils.makeNodeResolver(c),b)}catch(a){c.reject(a)}return c.promise},authWithOAuthToken:function(a,b,c){var d=this._q.defer();try{this._ref.authWithOAuthToken(a,b,this._utils.makeNodeResolver(d),c)}catch(a){d.reject(a)}return d.promise},unauth:function(){null!==this.getAuth()&&this._ref.unauth()},onAuth:function(a,b){var c=this,d=this._utils.debounce(a,b,0);return this._ref.onAuth(d),function(){c._ref.offAuth(d)}},getAuth:function(){return this._ref.getAuth()},_routerMethodOnAuthPromise:function(a){var b=this._ref,c=this._utils;return this._initialAuthResolver.then(function(){var d=b.getAuth();return a&&null===d?c.reject("AUTH_REQUIRED"):c.resolve(d)})},_initAuthResolver:function(){var a=this._ref;return this._utils.promise(function(b){function c(){a.offAuth(c),b()}a.onAuth(c)})},requireAuth:function(){return this._routerMethodOnAuthPromise(!0)},waitForAuth:function(){return this._routerMethodOnAuthPromise(!1)},createUser:function(a){var b=this._q.defer();if("string"==typeof a)throw new Error("$createUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.createUser(a,this._utils.makeNodeResolver(b))}catch(a){b.reject(a)}return b.promise},changePassword:function(a){var b=this._q.defer();if("string"==typeof a)throw new Error("$changePassword() expects an object containing 'email', 'oldPassword', and 'newPassword', but got a string.");try{this._ref.changePassword(a,this._utils.makeNodeResolver(b))}catch(a){b.reject(a)}return b.promise},changeEmail:function(a){var b=this._q.defer();if("function"!=typeof this._ref.changeEmail)throw new Error("$firebaseAuth.$changeEmail() requires Firebase version 2.1.0 or greater.");if("string"==typeof a)throw new Error("$changeEmail() expects an object containing 'oldEmail', 'newEmail', and 'password', but got a string.");try{this._ref.changeEmail(a,this._utils.makeNodeResolver(b))}catch(a){b.reject(a)}return b.promise},removeUser:function(a){var b=this._q.defer();if("string"==typeof a)throw new Error("$removeUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.removeUser(a,this._utils.makeNodeResolver(b))}catch(a){b.reject(a)}return b.promise},resetPassword:function(a){var b=this._q.defer();if("string"==typeof a)throw new Error("$resetPassword() expects an object containing 'email', but got a string.");try{this._ref.resetPassword(a,this._utils.makeNodeResolver(b))}catch(a){b.reject(a)}return b.promise}}}(),function(){"use strict";angular.module("firebase").factory("$firebaseObject",["$parse","$firebaseUtils","$log",function(a,b,c){function d(a){return this instanceof d?(this.$$conf={sync:new f(this,a),ref:a,binding:new e(this),listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=b.getKey(a.ref()),this.$priority=null,b.applyDefaults(this,this.$$defaults),void this.$$conf.sync.init()):new d(a)}function e(a){this.subs=[],this.scope=null,this.key=null,this.rec=a}function f(a,d){function e(b){m.isDestroyed||(m.isDestroyed=!0,d.off("value",j),a=null,l(b||"destroyed"))}function f(){d.on("value",j,k),d.once("value",function(a){angular.isArray(a.val())&&c.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information. Also note that you probably wanted $firebaseArray and not $firebaseObject."),l(null)},l)}function g(b){h||(h=!0,b?i.reject(b):i.resolve(a))}var h=!1,i=b.defer(),j=b.batch(function(b){a.$$updated(b)&&a.$$notify()}),k=b.batch(function(b){g(b),a&&a.$$error(b)}),l=b.batch(g),m={isDestroyed:!1,destroy:e,init:f,ready:function(){return i.promise}};return m}return d.prototype={$save:function(){var a=this,c=a.$ref(),d=b.toJSON(a);return b.doSet(c,d).then(function(){return a.$$notify(),a.$ref()})},$remove:function(){var a=this;return b.trimKeys(a,{}),a.$value=null,b.doRemove(a.$ref()).then(function(){return a.$$notify(),a.$ref()})},$loaded:function(a,b){var c=this.$$conf.sync.ready();return arguments.length&&(c=c.then.call(c,a,b)),c},$ref:function(){return this.$$conf.ref},$bindTo:function(a,b){var c=this;return c.$loaded().then(function(){return c.$$conf.binding.bindTo(a,b)})},$watch:function(a,b){var c=this.$$conf.listeners;return c.push([a,b]),function(){var d=c.findIndex(function(c){return c[0]===a&&c[1]===b});d>-1&&c.splice(d,1)}},$destroy:function(a){var c=this;c.$isDestroyed||(c.$isDestroyed=!0,c.$$conf.sync.destroy(a),c.$$conf.binding.destroy(),b.each(c,function(a,b){delete c[b]}))},$$updated:function(a){var c=b.updateRec(this,a);return b.applyDefaults(this,this.$$defaults),c},$$error:function(a){c.error(a),this.$destroy(a)},$$scopeUpdated:function(a){var c=b.defer();return this.$ref().set(b.toJSON(a),b.makeNodeResolver(c)),c.promise},$$notify:function(){var a=this,b=this.$$conf.listeners.slice();angular.forEach(b,function(b){b[0].call(b[1],{event:"value",key:a.$id})})},forEach:function(a,c){return b.each(this,a,c)}},d.$extend=function(a,c){return 1===arguments.length&&angular.isObject(a)&&(c=a,a=function(b){return this instanceof a?void d.apply(this,arguments):new a(b)}),b.inherit(a,d,c)},e.prototype={assertNotBound:function(a){if(this.scope){var d="Cannot bind to "+a+" because this instance is already bound to "+this.key+"; one binding per instance (call unbind method or create another FirebaseObject instance)";return c.error(d),b.reject(d)}},bindTo:function(c,d){return this.assertNotBound(d)||function(e){function f(a){return angular.equals(a,k)&&a.$priority===k.$priority&&a.$value===k.$value}function g(a){j.assign(c,b.scopeData(a))}function h(){var a=j(c);return[a,a.$priority,a.$value]}var i=!1,j=a(d),k=e.rec;e.scope=c,e.varName=d;var l=b.debounce(function(a){var d=b.scopeData(a);k.$$scopeUpdated(d).finally(function(){i=!1,d.hasOwnProperty("$value")||(delete k.$value,delete j(c).$value),g(k)})},50,500),m=function(a){a=a[0],f(a)||(i=!0,l(a))},n=function(){i||f(j(c))||g(k)};return g(k),e.subs.push(c.$on("$destroy",e.unbind.bind(e))),e.subs.push(c.$watch(h,m,!0)),e.subs.push(k.$watch(n)),e.unbind.bind(e)}(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(a){a()}),this.subs=[],this.scope=null,this.key=null)},destroy:function(){this.unbind(),this.rec=null}},d}]),angular.module("firebase").factory("$FirebaseObject",["$log","$firebaseObject",function(a,b){return function(){return a.warn("$FirebaseObject has been renamed. Use $firebaseObject instead."),b.apply(null,arguments)}}])}(),function(){"use strict";angular.module("firebase").factory("$firebase",function(){return function(){throw new Error("$firebase has been removed. You may instantiate $firebaseArray and $firebaseObject directly now. For simple write operations, just use the Firebase ref directly. See the AngularFire 1.0.0 changelog for details: https://www.firebase.com/docs/web/libraries/angular/changelog.html")}})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&0>(b+=c)&&(b=0);c>b;b++)if(this[b]===a)return b;return-1}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(a){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var b,c=Object(this),d=c.length>>>0,e=arguments[1],f=0;d>f;f++)if(f in c&&(b=c[f],a.call(e,b,f,c)))return f;return-1}}),"function"!=typeof Object.create&&function(){var a=function(){};Object.create=function(b){if(arguments.length>1)throw new Error("Second argument not supported");if(null===b)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof b)throw new TypeError("Argument must be an object");return a.prototype=b,new a}}(),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype}),function(){"use strict";function a(b){if(!angular.isObject(b))return b;var c=angular.isArray(b)?[]:{};return angular.forEach(b,function(b,d){"string"==typeof d&&"$"===d.charAt(0)||(c[d]=a(b))}),c}angular.module("firebase").factory("$firebaseConfig",["$firebaseArray","$firebaseObject","$injector",function(a,b,c){return function(d){var e=angular.extend({},d);return"string"==typeof e.objectFactory&&(e.objectFactory=c.get(e.objectFactory)),"string"==typeof e.arrayFactory&&(e.arrayFactory=c.get(e.arrayFactory)),angular.extend({arrayFactory:a,objectFactory:b},e)}}]).factory("$firebaseUtils",["$q","$timeout","$rootScope",function(b,c,d){function e(a){function c(a){e.resolve(a)}function d(a){e.reject(a)}if(!angular.isFunction(a))throw new Error("missing resolver function");var e=b.defer();return a(c,d),e.promise}var f={batch:function(a,b){return function(){var c=Array.prototype.slice.call(arguments,0);f.compile(function(){a.apply(b,c)})}},debounce:function(a,b,c,d){function e(){j&&(j(),j=null),i&&Date.now()-i>d?l||(l=!0,f.compile(g)):(i||(i=Date.now()),j=f.wait(g,c))}function g(){j=null,i=null,l=!1,a.apply(b,k)}function h(){k=Array.prototype.slice.call(arguments,0),e()}var i,j,k,l;if("number"==typeof b&&(d=c,c=b,b=null),"number"!=typeof c)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof a)throw new Error("Must provide a valid function to debounce");return d||(d=10*c||100),h.running=function(){return i>0},h},assertValidRef:function(a,b){if(!angular.isObject(a)||"function"!=typeof a.ref||"function"!=typeof a.ref().transaction)throw new Error(b||"Invalid Firebase reference")},inherit:function(a,b,c){var d=a.prototype;return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,angular.forEach(Object.keys(d),function(b){a.prototype[b]=d[b]}),angular.isObject(c)&&angular.extend(a.prototype,c),a},getPrototypeMethods:function(a,b,c){for(var d={},e=Object.getPrototypeOf({}),f=angular.isFunction(a)&&angular.isObject(a.prototype)?a.prototype:Object.getPrototypeOf(a);f&&f!==e;){for(var g in f)f.hasOwnProperty(g)&&!d.hasOwnProperty(g)&&(d[g]=!0,b.call(c,f[g],g,f));f=Object.getPrototypeOf(f)}},getPublicMethods:function(a,b,c){f.getPrototypeMethods(a,function(a,d){"function"==typeof a&&"_"!==d.charAt(0)&&b.call(c,a,d)})},defer:b.defer,reject:b.reject,resolve:b.when,promise:angular.isFunction(b)?b:e,makeNodeResolver:function(a){return function(b,c){null===b?(arguments.length>2&&(c=Array.prototype.slice.call(arguments,1)),a.resolve(c)):a.reject(b)}},wait:function(a,b){var d=c(a,b||0);return function(){d&&(c.cancel(d),d=null)}},compile:function(a){return d.$evalAsync(a||function(){})},deepCopy:function(a){if(!angular.isObject(a))return a;var b=angular.isArray(a)?a.slice():angular.extend({},a);for(var c in b)b.hasOwnProperty(c)&&angular.isObject(b[c])&&(b[c]=f.deepCopy(b[c]));return b},trimKeys:function(a,b){f.each(a,function(c,d){b.hasOwnProperty(d)||delete a[d]})},scopeData:function(a){var b={$id:a.$id,$priority:a.$priority},c=!1;return f.each(a,function(a,d){c=!0,b[d]=f.deepCopy(a)}),!c&&a.hasOwnProperty("$value")&&(b.$value=a.$value),b},updateRec:function(a,b){var c=b.val(),d=angular.extend({},a);return angular.isObject(c)?delete a.$value:(a.$value=c,c={}),f.trimKeys(a,c),angular.extend(a,c),a.$priority=b.getPriority(),!angular.equals(d,a)||d.$value!==a.$value||d.$priority!==a.$priority},applyDefaults:function(a,b){return angular.isObject(b)&&angular.forEach(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)}),a},dataKeys:function(a){var b=[]
;return f.each(a,function(a,c){b.push(c)}),b},each:function(a,b,c){if(angular.isObject(a)){for(var d in a)if(a.hasOwnProperty(d)){var e=d.charAt(0);"_"!==e&&"$"!==e&&"."!==e&&b.call(c,a[d],d,a)}}else if(angular.isArray(a))for(var f=0,g=a.length;g>f;f++)b.call(c,a[f],f,a);return a},getKey:function(a){return"function"==typeof a.key?a.key():a.name()},toJSON:function(b){var c;return angular.isObject(b)||(b={$value:b}),angular.isFunction(b.toJSON)?c=b.toJSON():(c={},f.each(b,function(b,d){c[d]=a(b)})),angular.isDefined(b.$value)&&0===Object.keys(c).length&&null!==b.$value&&(c[".value"]=b.$value),angular.isDefined(b.$priority)&&Object.keys(c).length>0&&null!==b.$priority&&(c[".priority"]=b.$priority),angular.forEach(c,function(a,b){if(b.match(/[.$\[\]#\/]/)&&".value"!==b&&".priority"!==b)throw new Error("Invalid key "+b+" (cannot contain .$[]#)");if(angular.isUndefined(a))throw new Error("Key "+b+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),c},doSet:function(a,b){var c=f.defer();if(angular.isFunction(a.set)||!angular.isObject(b))a.set(b,f.makeNodeResolver(c));else{var d=angular.extend({},b);a.once("value",function(b){b.forEach(function(a){d.hasOwnProperty(f.getKey(a))||(d[f.getKey(a)]=null)}),a.ref().update(d,f.makeNodeResolver(c))},function(a){c.reject(a)})}return c.promise},doRemove:function(a){var b=f.defer();return angular.isFunction(a.remove)?a.remove(f.makeNodeResolver(b)):a.once("value",function(c){var d=[];c.forEach(function(a){var c=f.defer();d.push(c.promise),a.ref().remove(f.makeNodeResolver(b))}),f.allPromises(d).then(function(){b.resolve(a)},function(a){b.reject(a)})},function(a){b.reject(a)}),b.promise},VERSION:"1.1.4",allPromises:b.all.bind(b)};return f}])}(),angular.module("com.2fdevs.videogular",["ngSanitize"]).run(["$templateCache",function(a){a.put("vg-templates/vg-media-video","<video></video>"),a.put("vg-templates/vg-media-audio","<audio></audio>"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}]),angular.module("com.2fdevs.videogular").constant("VG_STATES",{PLAY:"play",PAUSE:"pause",STOP:"stop"}).constant("VG_VOLUME_KEY","videogularVolume"),angular.module("com.2fdevs.videogular").controller("vgController",["$scope","$window","vgConfigLoader","vgFullscreen","VG_UTILS","VG_STATES","VG_VOLUME_KEY",function(a,b,c,d,e,f,g){var h=null,i=!1,j=!1,k=!1,l=!1;this.videogularElement=null,this.clearMedia=function(){this.mediaElement[0].src="",this.mediaElement[0].removeEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].removeEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].removeEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].removeEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].removeEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].removeEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].removeEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].removeEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].removeEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].removeEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].removeEventListener("progress",this.onProgress.bind(this),!1),this.mediaElement[0].removeEventListener("seeking",this.onSeeking.bind(this),!1),this.mediaElement[0].removeEventListener("seeked",this.onSeeked.bind(this),!1),this.mediaElement[0].removeEventListener("error",this.onVideoError.bind(this),!1)},this.onRouteChange=function(){(void 0===this.clearMediaOnNavigate||!0===this.clearMediaOnNavigate)&&this.clearMedia()},this.onCanPlay=function(b){this.isBuffering=!1,a.$parent.$digest(a.vgCanPlay({$event:b})),!k&&(this.startTime>0||0===this.startTime)&&(this.seekTime(this.startTime),k=!0)},this.onVideoReady=function(){this.isReady=!0,this.autoPlay=a.vgAutoPlay,this.playsInline=a.vgPlaysInline,this.nativeFullscreen=a.vgNativeFullscreen||!0,this.cuePoints=a.vgCuePoints,this.startTime=a.vgStartTime,this.virtualClipDuration=a.vgVirtualClipDuration,this.clearMediaOnNavigate=a.vgClearMediaOnNavigate||!0,this.currentState=f.STOP,j=!0,l=this.startTime>=0&&this.virtualClipDuration>0,e.supportsLocalStorage()&&this.setVolume(parseFloat(b.localStorage.getItem(g)||"1")),a.vgConfig?c.loadConfig(a.vgConfig).then(this.onLoadConfig.bind(this)):a.vgPlayerReady({$API:this})},this.onLoadConfig=function(b){this.config=b,a.vgTheme=this.config.theme,a.vgAutoPlay=this.config.autoPlay,a.vgPlaysInline=this.config.playsInline,a.vgNativeFullscreen=this.config.nativeFullscreen,a.vgCuePoints=this.config.cuePoints,a.vgClearMediaOnNavigate=this.config.clearMediaOnNavigate,a.vgStartTime=this.config.startTime,a.vgVirtualClipDuration=this.config.virtualClipDuration,l=a.vgStartTime>=0&&a.vgVirtualClipDuration>0,a.vgPlayerReady({$API:this})},this.onLoadMetaData=function(a){this.isBuffering=!1,this.onUpdateTime(a)},this.onProgress=function(b){this.updateBuffer(b),a.$parent.$digest()},this.updateBuffer=function(a){a.target.buffered.length&&(this.buffered=a.target.buffered,this.bufferEnd=1e3*a.target.buffered.end(a.target.buffered.length-1),this.bufferEnd>this.totalTime&&(this.bufferEnd=this.totalTime))},this.onUpdateTime=function(b){var c=1e3*b.target.currentTime;this.updateBuffer(b),b.target.duration!=1/0&&null!=b.target.duration&&void 0!=b.target.duration&&1.7976931348623157e308!=b.target.duration?(l?k&&(b.target.currentTime<this.startTime||b.target.currentTime-this.startTime>this.virtualClipDuration)?this.onComplete():(this.currentTime=Math.max(0,c-1e3*this.startTime),this.totalTime=1e3*this.virtualClipDuration,this.timeLeft=1e3*this.virtualClipDuration-this.currentTime):(this.currentTime=c,this.totalTime=1e3*b.target.duration,this.timeLeft=1e3*(b.target.duration-b.target.currentTime)),this.isLive=!1):(this.currentTime=c,this.isLive=!0);var d=l?this.currentTime/1e3:b.target.currentTime,e=l?this.totalTime/1e3:b.target.duration;this.cuePoints&&this.checkCuePoints(d),a.vgUpdateTime({$currentTime:d,$duration:e}),"$apply"!=a.$$phase&&"$digest"!=a.$$phase&&a.$parent.$digest()},this.checkCuePoints=function(a){for(var b in this.cuePoints)for(var c=0,d=this.cuePoints[b].length;d>c;c++){var e=this.cuePoints[b][c],f=parseInt(a,10),g=parseInt(e.timeLapse.start,10);e.timeLapse.end||(e.timeLapse.end=e.timeLapse.start+1),a<e.timeLapse.end&&(e.$$isCompleted=!1),e.$$isDirty||f!==g||"function"!=typeof e.onEnter||(e.onEnter(a,e.timeLapse,e.params),e.$$isDirty=!0),a>e.timeLapse.start?(a<e.timeLapse.end&&(e.onUpdate&&e.onUpdate(a,e.timeLapse,e.params),e.$$isDirty||"function"!=typeof e.onEnter||e.onEnter(a,e.timeLapse,e.params)),a>=e.timeLapse.end&&e.onComplete&&!e.$$isCompleted&&(e.$$isCompleted=!0,e.onComplete(a,e.timeLapse,e.params)),e.$$isDirty=!0):(e.onLeave&&e.$$isDirty&&e.onLeave(a,e.timeLapse,e.params),e.$$isDirty=!1)}},this.onPlay=function(){this.setState(f.PLAY),a.$parent.$digest()},this.onPause=function(){0==(l?this.currentTime:this.mediaElement[0].currentTime)?this.setState(f.STOP):this.setState(f.PAUSE),a.$parent.$digest()},this.onVolumeChange=function(){this.volume=this.mediaElement[0].volume,a.$parent.$digest()},this.onPlaybackChange=function(){this.playback=this.mediaElement[0].playbackRate,a.$parent.$digest()},this.onSeeking=function(b){a.vgSeeking({$currentTime:b.target.currentTime,$duration:b.target.duration})},this.onSeeked=function(b){a.vgSeeked({$currentTime:b.target.currentTime,$duration:b.target.duration})},this.seekTime=function(a,b){var c;if(b)l?(a=Math.max(0,Math.min(a,100)),c=a*this.virtualClipDuration/100,this.mediaElement[0].currentTime=this.startTime+c):(c=a*this.mediaElement[0].duration/100,this.mediaElement[0].currentTime=c);else if(l){var d=a/this.mediaElement[0].duration;c=k?this.virtualClipDuration*d:0,this.mediaElement[0].currentTime=k?this.startTime+c:this.startTime}else c=a,this.mediaElement[0].currentTime=c;this.currentTime=1e3*c},this.playPause=function(){this.mediaElement[0].paused?this.play():this.pause()},this.setState=function(b){return b&&b!=this.currentState&&(a.vgUpdateState({$state:b}),this.currentState=b),this.currentState},this.play=function(){this.mediaElement[0].play(),this.setState(f.PLAY)},this.pause=function(){this.mediaElement[0].pause(),this.setState(f.PAUSE)},this.stop=function(){try{this.mediaElement[0].pause();var a=l?this.startTime:0;this.mediaElement[0].currentTime=a,this.currentTime=a,this.buffered=[],this.bufferEnd=0,this.setState(f.STOP)}catch(a){return a}},this.toggleFullScreen=function(){d.isAvailable&&this.nativeFullscreen?this.isFullScreen?e.isMobileDevice()||d.exit():e.isMobileDevice()?e.isiOSDevice()?j?this.enterElementInFullScreen(this.mediaElement[0]):(i=!0,this.play()):this.enterElementInFullScreen(this.mediaElement[0]):this.enterElementInFullScreen(this.videogularElement[0]):(this.isFullScreen?(this.videogularElement.removeClass("fullscreen"),this.videogularElement.css("z-index","auto")):(this.videogularElement.addClass("fullscreen"),this.videogularElement.css("z-index",e.getZIndex())),this.isFullScreen=!this.isFullScreen)},this.enterElementInFullScreen=function(a){d.request(a)},this.changeSource=function(b){a.vgChangeSource({$source:b})},this.setVolume=function(c){c=Math.max(Math.min(c,1),0),a.vgUpdateVolume({$volume:c}),this.mediaElement[0].volume=c,this.volume=c,e.supportsLocalStorage()&&b.localStorage.setItem(g,c.toString())},this.setPlayback=function(b){a.vgUpdatePlayback({$playBack:b}),this.mediaElement[0].playbackRate=b,this.playback=b},this.updateTheme=function(a){var b,c,d=document.getElementsByTagName("link");if(h)for(b=0,c=d.length;c>b;b++)if(d[b].outerHTML.indexOf(h)>=0){d[b].parentNode.removeChild(d[b]);break}if(a){var e=angular.element(document).find("head"),f=!1;for(b=0,c=d.length;c>b&&!(f=d[b].outerHTML.indexOf(a)>=0);b++);f||e.append("<link rel='stylesheet' href='"+a+"'>"),h=a}},this.onStartBuffering=function(b){this.isBuffering=!0,a.$parent.$digest()},this.onStartPlaying=function(b){this.isBuffering=!1,a.$parent.$digest()},this.onComplete=function(b){a.vgComplete(),this.setState(f.STOP),this.isCompleted=!0,l&&this.stop(),a.$parent.$digest()},this.onVideoError=function(b){a.vgError({$event:b})},this.addListeners=function(){this.mediaElement[0].addEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].addEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].addEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].addEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].addEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].addEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].addEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].addEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].addEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].addEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].addEventListener("progress",this.onProgress.bind(this),!1),this.mediaElement[0].addEventListener("seeking",this.onSeeking.bind(this),!1),this.mediaElement[0].addEventListener("seeked",this.onSeeked.bind(this),!1),this.mediaElement[0].addEventListener("error",this.onVideoError.bind(this),!1)},this.init=function(){this.isReady=!1,this.isCompleted=!1,this.buffered=[],this.bufferEnd=0,this.currentTime=0,this.totalTime=0,this.timeLeft=0,this.isLive=!1,this.isFullScreen=!1,this.playback=1,this.isConfig=void 0!=a.vgConfig,this.mediaElement=[{play:function(){},pause:function(){},stop:function(){},addEventListener:function(){},removeEventListener:function(){}}],d.isAvailable&&(this.isFullScreen=d.isFullScreen()),this.updateTheme(a.vgTheme),this.addBindings(),d.isAvailable&&document.addEventListener(d.onchange,this.onFullScreenChange.bind(this))},this.onUpdateTheme=function(a){this.updateTheme(a)},this.onUpdateAutoPlay=function(a){a&&!this.autoPlay&&(this.autoPlay=a,this.play(this))},this.onUpdateStartTime=function(a){if(a&&a!=this.startTime){this.mediaElement[0].currentTime=a,this.startTime=a,l=this.startTime>=0&&this.virtualClipDuration>0;var b={target:this.mediaElement[0]};this.onUpdateTime(b,!0)}},this.onUpdateVirtualClipDuration=function(a){if(a&&a!=this.virtualClipDuration){this.virtualClipDuration=a,l=this.startTime>=0&&this.virtualClipDuration>0;var b={target:this.mediaElement[0]};this.onUpdateTime(b,!0)}},this.onUpdatePlaysInline=function(a){this.playsInline=a},this.onUpdateNativeFullscreen=function(a){void 0==a&&(a=!0),this.nativeFullscreen=a},this.onUpdateCuePoints=function(a){this.cuePoints=a,this.checkCuePoints(this.currentTime)},this.onUpdateClearMediaOnNavigate=function(a){this.clearMediaOnNavigate=a},this.addBindings=function(){a.$watch("vgTheme",this.onUpdateTheme.bind(this)),a.$watch("vgAutoPlay",this.onUpdateAutoPlay.bind(this)),a.$watch("vgStartTime",this.onUpdateStartTime.bind(this)),a.$watch("vgVirtualClipDuration",this.onUpdateVirtualClipDuration.bind(this)),a.$watch("vgPlaysInline",this.onUpdatePlaysInline.bind(this)),a.$watch("vgNativeFullscreen",this.onUpdateNativeFullscreen.bind(this)),a.$watch("vgCuePoints",this.onUpdateCuePoints.bind(this)),a.$watch("vgClearMediaOnNavigate",this.onUpdateClearMediaOnNavigate.bind(this))},this.onFullScreenChange=function(b){this.isFullScreen=d.isFullScreen(),a.$parent.$digest()},a.$on("$destroy",this.clearMedia.bind(this)),a.$on("$routeChangeStart",this.onRouteChange.bind(this)),this.init()}]),angular.module("com.2fdevs.videogular").directive("vgCrossorigin",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(a,b,c,d){var e;a.setCrossorigin=function(a){a?d.mediaElement.attr("crossorigin",a):d.mediaElement.removeAttr("crossorigin")},d.isConfig?a.$watch(function(){return d.config},function(){d.config&&a.setCrossorigin(d.config.crossorigin)}):a.$watch(c.vgCrossorigin,function(b,c){e&&b==c||!b?a.setCrossorigin():(e=b,a.setCrossorigin(e))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgLoop",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(a,b,c,d){var e;a.setLoop=function(a){a?d.mediaElement.attr("loop",a):d.mediaElement.removeAttr("loop")},d.isConfig?a.$watch(function(){return d.config},function(){d.config&&a.setLoop(d.config.loop)}):a.$watch(c.vgLoop,function(b,c){e&&b==c||!b?a.setLoop():(e=b,a.setLoop(e))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgMedia",["$timeout","VG_UTILS","VG_STATES",function(a,b,c){return{restrict:"E",require:"^videogular",templateUrl:function(a,b){var c=b.vgType||"video";return b.vgTemplate||"vg-templates/vg-media-"+c},scope:{vgSrc:"=?",vgType:"=?"},link:function(d,e,f,g){var h;f.vgType&&"video"!==f.vgType?f.vgType="audio":f.vgType="video",d.onChangeSource=function(a,b){h&&a==b||!a||(h=a,g.currentState!==c.PLAY&&(g.currentState=c.STOP),g.sources=h,d.changeSource())},d.changeSource=function(){if(angular.isArray(h)){var c="";if(g.mediaElement[0].canPlayType){for(var d=0,e=h.length;e>d;d++)if("maybe"==(c=g.mediaElement[0].canPlayType(h[d].type))||"probably"==c){g.mediaElement.attr("src",h[d].src),g.mediaElement.attr("type",h[d].type),g.changeSource(h[d]);break}}else g.mediaElement.attr("src",h[0].src),g.mediaElement.attr("type",h[0].type),g.changeSource(h[0])}else g.mediaElement.attr("src",h),g.changeSource(h);b.isMobileDevice()&&g.mediaElement[0].load(),a(function(){!g.autoPlay||!b.isCordova()&&b.isMobileDevice()||g.play()}),""==c&&g.onVideoError()},g.mediaElement=e.find(f.vgType),g.sources=d.vgSrc,g.addListeners(),g.onVideoReady(),d.$watch("vgSrc",d.onChangeSource),d.$watch(function(){return g.sources},d.onChangeSource),d.$watch(function(){return g.playsInline},function(a,b){a?g.mediaElement.attr("webkit-playsinline",""):g.mediaElement.removeAttr("webkit-playsinline")}),g.isConfig&&d.$watch(function(){return g.config},function(){g.config&&(d.vgSrc=g.config.sources)})}}}]),angular.module("com.2fdevs.videogular").directive("vgNativeControls",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(a,b,c,d){var e;a.setControls=function(a){a?d.mediaElement.attr("controls",a):d.mediaElement.removeAttr("controls")},d.isConfig?a.$watch(function(){return d.config},function(){d.config&&a.setControls(d.config.controls)}):a.$watch(c.vgNativeControls,function(b,c){e&&b==c||!b?a.setControls():(e=b,a.setControls(e))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgPreload",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(a,b,c,d){var e;a.setPreload=function(a){a?d.mediaElement.attr("preload",a):d.mediaElement.removeAttr("preload")},d.isConfig?a.$watch(function(){return d.config},function(){d.config&&a.setPreload(d.config.preload)}):a.$watch(c.vgPreload,function(b,c){e&&b==c||!b?a.setPreload():(e=b,a.setPreload(e))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgTracks",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(a,b,c,d){var e,f,g,h=!1;a.onLoadMetaData=function(){h=!0,a.updateTracks()},a.updateTracks=function(){var b=d.mediaElement.children();for(f=0,g=b.length;g>f;f++)b[f].remove&&b[f].remove();if(e)for(f=0,g=e.length;g>f;f++){var c=document.createElement("track");for(var h in e[f])c[h]=e[f][h];c.addEventListener("load",a.onLoadTrack.bind(a,c)),d.mediaElement[0].appendChild(c)}},a.onLoadTrack=function(b){b.default?b.mode="showing":b.mode="hidden";for(var c=0,e=d.mediaElement[0].textTracks.length;e>c;c++)b.label==d.mediaElement[0].textTracks[c].label&&(b.default?d.mediaElement[0].textTracks[c].mode="showing":d.mediaElement[0].textTracks[c].mode="disabled");b.removeEventListener("load",a.onLoadTrack.bind(a,b))},a.setTracks=function(b){e=b,d.tracks=b,h?a.updateTracks():d.mediaElement[0].addEventListener("loadedmetadata",a.onLoadMetaData.bind(a),!1)},d.isConfig?a.$watch(function(){return d.config},function(){d.config&&a.setTracks(d.config.tracks)}):a.$watch(c.vgTracks,function(b,c){e&&b==c||a.setTracks(b)},!0)}}}}]),angular.module("com.2fdevs.videogular").directive("videogular",[function(){return{restrict:"EA",scope:{vgTheme:"=?",vgAutoPlay:"=?",vgStartTime:"=?",vgVirtualClipDuration:"=?",vgPlaysInline:"=?",vgNativeFullscreen:"=?",vgClearMediaOnNavigate:"=?",vgCuePoints:"=?",vgConfig:"@",vgCanPlay:"&",vgComplete:"&",vgUpdateVolume:"&",vgUpdatePlayback:"&",vgUpdateTime:"&",vgUpdateState:"&",vgPlayerReady:"&",vgChangeSource:"&",vgSeeking:"&",vgSeeked:"&",vgError:"&"},controller:"vgController",controllerAs:"API",link:{pre:function(a,b,c,d){d.videogularElement=angular.element(b)}}}}]),angular.module("com.2fdevs.videogular").service("vgConfigLoader",["$http","$q","$sce",function(a,b,c){this.loadConfig=function(d){var e=b.defer();return a({method:"GET",url:d}).then(function(a){for(var b=a.data,d=0,f=b.sources.length;f>d;d++)b.sources[d].src=c.trustAsResourceUrl(b.sources[d].src);e.resolve(b)},function(){e.reject()}),e.promise}}]),angular.module("com.2fdevs.videogular").service("vgFullscreen",["VG_UTILS",function(a){function b(){return c?null!=document[d.element]||c.webkitDisplayingFullscreen:null!=document[d.element]}var c,d=null,e={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(var f in e)if(e[f].enabled in document){d=e[f];break}a.isiOSDevice()&&(d=e.ios),this.isAvailable=null!=d,d&&(this.onchange=d.onchange,this.onerror=d.onerror,this.isFullScreen=b,this.exit=function(){document[d.exit]()},this.request=function(a){c=a,c[d.request]()})}]),angular.module("com.2fdevs.videogular").service("VG_UTILS",["$window",function(a){this.fixEventOffset=function(a){var b=navigator.userAgent.match(/Firefox\/(\d+)/i);if(b&&Number.parseInt(b.pop())<39){var c=a.currentTarget.currentStyle||window.getComputedStyle(a.target,null),d=parseInt(c.borderLeftWidth,10),e=parseInt(c.borderTopWidth,10),f=a.currentTarget.getBoundingClientRect(),g=a.clientX-d-f.left,h=a.clientY-e-f.top;a.offsetX=g,a.offsetY=h}return a},this.getZIndex=function(){for(var a,b=1,c=document.getElementsByTagName("*"),d=0,e=c.length;e>d;d++)(a=parseInt(window.getComputedStyle(c[d])["z-index"]))>b&&(b=a+1);return b},this.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},this.isiOSDevice=function(){return navigator.userAgent.match(/ip(hone|ad|od)/i)&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)},this.isCordova=function(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")},this.supportsLocalStorage=function(){var b="videogular-test-key";try{var c=a.sessionStorage;return c.setItem(b,"1"),c.removeItem(b),"localStorage"in a&&null!==a.localStorage}catch(a){return!1}}}]),angular.module("com.2fdevs.videogular.plugins.controls",[]).run(["$templateCache",function(a){a.put("vg-templates/vg-controls",'<div class="controls-container" ng-mousemove="onMouseMove()" ng-class="animationClass" ng-transclude></div>')}]).directive("vgControls",["$timeout","VG_STATES",function(a,b){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-controls"},scope:{vgAutohide:"=?",vgAutohideTime:"=?"},link:function(c,d,e,f){var g,h=2e3;c.API=f,c.onMouseMove=function(){c.vgAutohide&&c.showControls()},c.setAutohide=function(d){d&&f.currentState==b.PLAY?g=a(c.hideControls,h):(c.animationClass="",a.cancel(g),c.showControls())},c.setAutohideTime=function(a){h=a},c.hideControls=function(){c.animationClass="hide-animation"},c.showControls=function(){c.animationClass="show-animation",a.cancel(g),c.vgAutohide&&f.currentState==b.PLAY&&(g=a(c.hideControls,h))},f.isConfig?c.$watch("API.config",function(){if(c.API.config){var a=c.API.config.plugins.controls.autohide||!1,b=c.API.config.plugins.controls.autohideTime||2e3;c.vgAutohide=a,c.vgAutohideTime=b,c.setAutohideTime(b),c.setAutohide(a)}}):(void 0!=c.vgAutohide&&c.$watch("vgAutohide",c.setAutohide),void 0!=c.vgAutohideTime&&c.$watch("vgAutohideTime",c.setAutohideTime)),c.$watch(function(){return f.currentState},function(a,b){c.vgAutohide&&c.showControls()})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(a){a.put("vg-templates/vg-fullscreen-button",'<button class="iconButton" ng-click="onClickFullScreen()" ng-class="fullscreenIcon" aria-label="Toggle full screen" type="button"> </button>')}]).directive("vgFullscreenButton",[function(){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-fullscreen-button"},link:function(a,b,c,d){a.onChangeFullScreen=function(b){a.fullscreenIcon={enter:!b,exit:b}},a.onClickFullScreen=function(){d.toggleFullScreen()},a.fullscreenIcon={enter:!0},a.$watch(function(){return d.isFullScreen},function(b,c){b!=c&&a.onChangeFullScreen(b)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(a){a.put("vg-templates/vg-play-pause-button",'<button class="iconButton" ng-click="onClickPlayPause()" ng-class="playPauseIcon" aria-label="Play/Pause" type="button"></button>')}]).directive("vgPlayPauseButton",["VG_STATES",function(a){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-play-pause-button"},link:function(b,c,d,e){b.setState=function(c){switch(c){case a.PLAY:b.playPauseIcon={pause:!0};break;case a.PAUSE:b.playPauseIcon={play:!0};break;case a.STOP:b.playPauseIcon={play:!0}}},b.onClickPlayPause=function(){e.playPause()},b.playPauseIcon={play:!0},b.$watch(function(){return e.currentState},function(a,c){b.setState(a)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(a){a.put("vg-templates/vg-playback-button",'<button class="playbackValue iconButton" ng-click="onClickPlayback()">{{playback}}x</button>')}]).directive("vgPlaybackButton",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-playback-button"},scope:{vgSpeeds:"=?"},link:function(a,b,c,d){a.playback="1",a.setPlayback=function(b){a.playback=b,d.setPlayback(parseFloat(b))},a.onClickPlayback=function(){var b=a.vgSpeeds||["0.5","1","1.5","2"],c=b.indexOf(a.playback.toString())+1;c>=b.length?a.playback=b[0]:a.playback=b[c],a.setPlayback(a.playback)},a.$watch(function(){return d.playback},function(b,c){b!=c&&a.setPlayback(b)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgScrubBarBuffer",[function(){return{restrict:"E",require:"^videogular",link:function(a,b,c,d){var e=0;a.onUpdateBuffer=function(a){"number"==typeof a&&d.totalTime?(e=a/d.totalTime*100,b.css("width",e+"%")):b.css("width",0)},a.$watch(function(){return d.bufferEnd},function(b,c){a.onUpdateBuffer(b)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(a){a.put("vg-templates/vg-scrub-bar-cue-points",'<div class="cue-point-timeline"><div ng-repeat="cuePoint in vgCuePoints" class="cue-point" ng-style="cuePoint.$$style"></div></div>')}]).directive("vgScrubBarCuePoints",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-scrub-bar-cue-points"},scope:{vgCuePoints:"="},link:function(a,b,c,d){a.onPlayerReady=function(){a.updateCuePoints(a.vgCuePoints)},a.updateCuePoints=function(a){if(a){parseInt(b[0].clientWidth);for(var c=0,e=a.length;e>c;c++){var f=a[c].timeLapse.end>=0?a[c].timeLapse.end:a[c].timeLapse.start+1,g=1e3*(f-a[c].timeLapse.start),h=100*a[c].timeLapse.start/Math.round(d.totalTime/1e3)+"%",i=0;"number"==typeof g&&d.totalTime&&(i=100*g/d.totalTime+"%"),a[c].$$style={width:i,left:h}}}},a.$watch("vgCuePoints",a.updateCuePoints),a.$watch(function(){return d.totalTime},function(b,c){b>0&&a.onPlayerReady()})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgScrubBarCurrentTime",[function(){return{restrict:"E",require:"^videogular",link:function(a,b,c,d){var e=0;a.onUpdateTime=function(a){"number"==typeof a&&d.totalTime?(e=a/d.totalTime*100,b.css("width",e+"%")):b.css("width",0)},a.$watch(function(){return d.currentTime},function(b,c){a.onUpdateTime(b)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(a){a.put("vg-templates/vg-scrub-bar-thumbnails",'<div class="vg-thumbnails" ng-show="thumbnails" ng-style="thumbnailContainer"><div class="image-thumbnail" ng-style="thumbnails"></div></div><div class="background"></div>')}]).directive("vgScrubBarThumbnails",["VG_UTILS",function(a){return{restrict:"E",require:"^videogular",templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-scrub-bar-thumbnails"},scope:{vgThumbnails:"="},link:function(b,c,d,e){var f=0,g=0,h=c[0].querySelector(".background"),i="string"==typeof b.vgThumbnails;b.thumbnails=!1,b.thumbnailContainer={},b.getOffset=function(a){for(var b=a.target,c=0;b&&!isNaN(b.offsetLeft);)c+=b.offsetLeft-b.scrollLeft,b=b.offsetParent;return a.clientX-c},b.onLoadThumbnails=function(a){f=a.currentTarget.naturalWidth,g=f/100},b.onLoadThumbnail=function(a){g=a.currentTarget.naturalWidth},b.updateThumbnails=function(a){var c=Math.round(100*a/(e.totalTime/1e3)),d=h.scrollWidth*c/100-g/2;if(i){var j=Math.round(f*c/100);b.thumbnailContainer={width:g+"px",left:d+"px"},b.thumbnails={"background-image":'url("'+b.vgThumbnails+'")',"background-position":-j+"px 0px"}}else{var k=e.totalTime/h.scrollWidth/1e3,l={start:Math.floor(a-k/2),end:Math.ceil(a)};if(l.start<0&&(l.start=0),l.end>e.totalTime&&(l.end=e.totalTime),b.thumbnailContainer={left:d+"px"},b.thumbnails={"background-image":"none"},b.vgThumbnails)for(var m=0,n=b.vgThumbnails.length;n>m;m++){var o=b.vgThumbnails[m];if(o.timeLapse.end>=0){if(l.start>=o.timeLapse.start&&(l.end<=o.timeLapse.end||l.end<=o.timeLapse.start)){b.thumbnails={"background-image":'url("'+o.params.thumbnail+'")'};break}}else if(o.timeLapse.start>=l.start&&o.timeLapse.start<=l.end){b.thumbnails={"background-image":'url("'+o.params.thumbnail+'")'};break}}}},b.onMouseMove=function(a){var c=Math.round(a.offsetX*e.mediaElement[0].duration/h.scrollWidth);b.updateThumbnails(c),b.$digest()},b.onTouchMove=function(a){var c=a.touches,d=b.getOffset(c[0]),f=Math.round(d*e.mediaElement[0].duration/h.scrollWidth);b.updateThumbnails(f),b.$digest()},b.onMouseLeave=function(a){b.thumbnails=!1,b.$digest()},b.onTouchLeave=function(a){b.thumbnails=!1,b.$digest()},b.onDestroy=function(){c.unbind("touchmove",b.onTouchMove),c.unbind("touchleave",b.onTouchLeave),c.unbind("touchend",b.onTouchLeave),c.unbind("mousemove",b.onMouseMove),c.unbind("mouseleave",b.onMouseLeave)};var j;i?(j=new Image,j.onload=b.onLoadThumbnails.bind(b),j.src=b.vgThumbnails):(j=new Image,j.onload=b.onLoadThumbnail.bind(b),j.src=b.vgThumbnails[0].params.thumbnail),a.isMobileDevice()?(c.bind("touchmove",b.onTouchMove),c.bind("touchleave",b.onTouchLeave),c.bind("touchend",b.onTouchLeave)):(c.bind("mousemove",b.onMouseMove),c.bind("mouseleave",b.onMouseLeave)),b.$on("destroy",b.onDestroy.bind(b))}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(a){a.put("vg-templates/vg-scrub-bar",'<div role="slider" aria-valuemax="{{ariaTime(API.totalTime)}}" aria-valuenow="{{ariaTime(API.currentTime)}}" aria-valuemin="0" aria-label="Time scrub bar" tabindex="0" ng-keydown="onScrubBarKeyDown($event)"></div><div class="container" ng-transclude></div>')}]).directive("vgScrubBar",["VG_STATES","VG_UTILS",function(a,b){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-scrub-bar"},scope:{vgThumbnails:"="},link:function(c,d,e,f){var g=!1,h=!1,i=!1,j=0,k=0,l=d[0].querySelector("div[role=slider]");if(c.thumbnails=!1,c.thumbnailContainer={},c.API=f,c.onLoadThumbnails=function(a){j=a.path[0].naturalWidth,k=j/100},c.ariaTime=function(a){return Math.round(a/1e3)},c.getOffset=function(a){for(var b=a.target,c=0;b&&!isNaN(b.offsetLeft);)c+=b.offsetLeft-b.scrollLeft,b=b.offsetParent;return a.clientX-c},c.onScrubBarTouchStart=function(a){var b=a.originalEvent||a,d=b.touches,e=c.getOffset(d[0]);g=!0,h&&(i=!0),f.pause(),f.seekTime(e*f.mediaElement[0].duration/l.scrollWidth),c.$digest()},c.onScrubBarTouchEnd=function(a){a.originalEvent,i&&(i=!1,f.play()),g=!1,c.$digest()},c.onScrubBarTouchMove=function(a){var b=a.originalEvent||a,d=b.touches,e=c.getOffset(d[0]);if(c.vgThumbnails&&c.vgThumbnails.length){
var h=Math.round(e*f.mediaElement[0].duration/l.scrollWidth),i=Math.round(100*h/(f.totalTime/1e3));c.updateThumbnails(i)}g&&f.seekTime(e*f.mediaElement[0].duration/l.scrollWidth),c.$digest()},c.onScrubBarTouchLeave=function(a){g=!1,c.thumbnails=!1,c.$digest()},c.onScrubBarMouseDown=function(a){a=b.fixEventOffset(a),g=!0,h&&(i=!0),f.pause(),f.seekTime(a.offsetX*f.mediaElement[0].duration/l.scrollWidth),c.$digest()},c.onScrubBarMouseUp=function(a){i&&(i=!1,f.play()),g=!1,c.$digest()},c.onScrubBarMouseMove=function(a){if(c.vgThumbnails&&c.vgThumbnails.length){var d=Math.round(a.offsetX*f.mediaElement[0].duration/l.scrollWidth),e=Math.round(100*d/(f.totalTime/1e3));c.updateThumbnails(e)}g&&(a=b.fixEventOffset(a),f.seekTime(a.offsetX*f.mediaElement[0].duration/l.scrollWidth)),c.$digest()},c.onScrubBarMouseLeave=function(a){g=!1,c.thumbnails=!1,c.$digest()},c.onScrubBarKeyDown=function(a){var b=f.currentTime/f.totalTime*100;37===a.which||37===a.keyCode?(f.seekTime(b-5,!0),a.preventDefault()):(39===a.which||39===a.keyCode)&&(f.seekTime(b+5,!0),a.preventDefault())},c.updateThumbnails=function(a){var b=Math.round(j*a/100),d=l.scrollWidth*a/100-k/2;c.thumbnailContainer={width:k+"px",left:d+"px"},c.thumbnails={"background-image":'url("'+c.vgThumbnails+'")',"background-position":-b+"px 0px"}},c.setState=function(b){if(!g)switch(b){case a.PLAY:h=!0;break;case a.PAUSE:h=!1;break;case a.STOP:h=!1}},c.onDestroy=function(){d.unbind("touchstart",c.onScrubBarTouchStart),d.unbind("touchend",c.onScrubBarTouchEnd),d.unbind("touchmove",c.onScrubBarTouchMove),d.unbind("touchleave",c.onScrubBarTouchLeave),d.unbind("mousedown",c.onScrubBarMouseDown),d.unbind("mouseup",c.onScrubBarMouseUp),d.unbind("mousemove",c.onScrubBarMouseMove),d.unbind("mouseleave",c.onScrubBarMouseLeave)},c.$watch(function(){return f.currentState},function(a,b){a!=b&&c.setState(a)}),c.vgThumbnails){var m=new Image;m.onload=c.onLoadThumbnails.bind(c),m.src=c.vgThumbnails}b.isMobileDevice()?(d.bind("touchstart",c.onScrubBarTouchStart),d.bind("touchend",c.onScrubBarTouchEnd),d.bind("touchmove",c.onScrubBarTouchMove),d.bind("touchleave",c.onScrubBarTouchLeave)):(d.bind("mousedown",c.onScrubBarMouseDown),d.bind("mouseup",c.onScrubBarMouseUp),d.bind("mousemove",c.onScrubBarMouseMove),d.bind("mouseleave",c.onScrubBarMouseLeave)),c.$on("destroy",c.onDestroy.bind(c))}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgTimeDisplay",[function(){return{require:"^videogular",restrict:"E",link:function(a,b,c,d){a.currentTime=d.currentTime,a.timeLeft=d.timeLeft,a.totalTime=d.totalTime,a.isLive=d.isLive,a.$watch(function(){return d.currentTime},function(b,c){a.currentTime=b}),a.$watch(function(){return d.timeLeft},function(b,c){a.timeLeft=b}),a.$watch(function(){return d.totalTime},function(b,c){a.totalTime=b}),a.$watch(function(){return d.isLive},function(b,c){a.isLive=b})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(a){a.put("vg-templates/vg-mute-button",'<button type="button" class="iconButton" ng-class="muteIcon" ng-click="onClickMute()" ng-focus="onMuteButtonFocus()" ng-blur="onMuteButtonLoseFocus()" ng-mouseleave="onMuteButtonLeave()" ng-keydown="onMuteButtonKeyDown($event)" aria-label="Mute"></button>')}]).directive("vgMuteButton",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-mute-button"},link:function(a,b,c,d){var e=!1;a.onClickMute=function(){e?a.currentVolume=a.defaultVolume:(a.currentVolume=0,a.muteIcon={mute:!0}),e=!e,d.setVolume(a.currentVolume)},a.onMuteButtonFocus=function(){a.volumeVisibility="visible"},a.onMuteButtonLoseFocus=function(){a.volumeVisibility="hidden"},a.onMuteButtonLeave=function(){document.activeElement.blur()},a.onMuteButtonKeyDown=function(a){var b,c=null!=d.volume?d.volume:1;38===a.which||38===a.keyCode?(b=c+.05,b>1&&(b=1),d.setVolume(b),a.preventDefault()):(40===a.which||40===a.keyCode)&&(b=c-.05,0>b&&(b=0),d.setVolume(b),a.preventDefault())},a.onSetVolume=function(b){a.currentVolume=b,e=0===a.currentVolume,e?b>0&&(a.defaultVolume=b):a.defaultVolume=b;var c=Math.round(100*b);0==c?a.muteIcon={mute:!0}:c>0&&25>c?a.muteIcon={level0:!0}:c>=25&&50>c?a.muteIcon={level1:!0}:c>=50&&75>c?a.muteIcon={level2:!0}:c>=75&&(a.muteIcon={level3:!0})},a.defaultVolume=1,a.currentVolume=a.defaultVolume,a.muteIcon={level3:!0},a.onSetVolume(d.volume),a.$watch(function(){return d.volume},function(b,c){b!=c&&a.onSetVolume(b)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(a){a.put("vg-templates/vg-volume-bar",'<div class="verticalVolumeBar">              <div class="volumeBackground" ng-click="onClickVolume($event)" ng-mousedown="onMouseDownVolume()" ng-mouseup="onMouseUpVolume()" ng-mousemove="onMouseMoveVolume($event)" ng-mouseleave="onMouseLeaveVolume()">                <div class="volumeValue"></div>                <div class="volumeClickArea"></div>              </div>            </div>')}]).directive("vgVolumeBar",["VG_UTILS",function(a){return{restrict:"E",require:"^videogular",templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-volume-bar"},link:function(b,c,d,e){var f=!1,g=angular.element(c[0].getElementsByClassName("volumeBackground")),h=angular.element(c[0].getElementsByClassName("volumeValue"));b.onClickVolume=function(b){b=a.fixEventOffset(b);var c=parseInt(g.prop("offsetHeight")),d=100*b.offsetY/c,f=1-d/100;e.setVolume(f)},b.onMouseDownVolume=function(){f=!0},b.onMouseUpVolume=function(){f=!1},b.onMouseLeaveVolume=function(){f=!1},b.onMouseMoveVolume=function(b){if(f){b=a.fixEventOffset(b);var c=parseInt(g.prop("offsetHeight")),d=100*b.offsetY/c,h=1-d/100;e.setVolume(h)}},b.updateVolumeView=function(a){a*=100,h.css("height",a+"%"),h.css("top",100-a+"%")},b.onChangeVisibility=function(a){c.css("visibility",a)},c.css("visibility",b.volumeVisibility),b.$watch("volumeVisibility",b.onChangeVisibility),b.updateVolumeView(e.volume),b.$watch(function(){return e.volume},function(a,c){a!=c&&b.updateVolumeView(a)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgVolume",["VG_UTILS",function(a){return{restrict:"E",link:function(b,c,d){b.onMouseOverVolume=function(){b.$evalAsync(function(){b.volumeVisibility="visible"})},b.onMouseLeaveVolume=function(){b.$evalAsync(function(){b.volumeVisibility="hidden"})},b.onDestroy=function(){c.unbind("mouseover",b.onScrubBarTouchStart),c.unbind("mouseleave",b.onScrubBarTouchEnd)},a.isMobileDevice()?c.css("display","none"):(b.volumeVisibility="hidden",c.bind("mouseover",b.onMouseOverVolume),c.bind("mouseleave",b.onMouseLeaveVolume)),b.$on("destroy",b.onDestroy.bind(b))}}}]),angular.module("com.2fdevs.videogular.plugins.overlayplay",[]).run(["$templateCache",function(a){a.put("vg-templates/vg-overlay-play",'<div class="overlayPlayContainer" ng-click="onClickOverlayPlay()">                  <div class="iconButton" ng-class="overlayPlayIcon"></div>                </div>')}]).directive("vgOverlayPlay",["VG_STATES",function(a){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-overlay-play"},link:function(b,c,d,e){b.onChangeState=function(c){switch(c){case a.PLAY:b.overlayPlayIcon={};break;case a.PAUSE:b.overlayPlayIcon={play:!0};break;case a.STOP:b.overlayPlayIcon={play:!0}}},b.onClickOverlayPlay=function(a){e.playPause()},b.overlayPlayIcon={play:!0},b.$watch(function(){return e.currentState},function(a,c){b.onChangeState(a)})}}}]),angular.module("com.2fdevs.videogular.plugins.buffering",[]).run(["$templateCache",function(a){a.put("vg-templates/vg-buffering",'<div class="bufferingContainer">              <div ng-class="spinnerClass" class="loadingSpinner"></div>            </div>')}]).directive("vgBuffering",["VG_STATES","VG_UTILS",function(a,b){return{restrict:"E",require:"^videogular",templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-buffering"},link:function(c,d,e,f){c.showSpinner=function(){c.spinnerClass={stop:f.isBuffering},d.css("display","block")},c.hideSpinner=function(){c.spinnerClass={stop:f.isBuffering},d.css("display","none")},c.setState=function(a){a?c.showSpinner():c.hideSpinner()},c.onStateChange=function(b){b==a.STOP&&c.hideSpinner()},c.onPlayerReady=function(a){a&&c.hideSpinner()},c.showSpinner(),b.isMobileDevice()?c.hideSpinner():c.$watch(function(){return f.isReady},function(a,b){(1==f.isReady||a!=b)&&c.onPlayerReady(a)}),c.$watch(function(){return f.currentState},function(a,b){a!=b&&c.onStateChange(a)}),c.$watch(function(){return f.isBuffering},function(a,b){a!=b&&c.setState(a)})}}}]),angular.module("com.2fdevs.videogular.plugins.poster",[]).run(["$templateCache",function(a){a.put("vg-templates/vg-poster",'<img ng-src="{{vgUrl}}" ng-class="API.currentState" role="presentation" alt="">')}]).directive("vgPoster",[function(){return{restrict:"E",require:"^videogular",scope:{vgUrl:"=?"},templateUrl:function(a,b){return b.vgTemplate||"vg-templates/vg-poster"},link:function(a,b,c,d){a.API=d,d.isConfig&&a.$watch("API.config",function(){a.API.config&&(a.vgUrl=a.API.config.plugins.poster.url)})}}}]),angular.module("com.2fdevs.videogular.plugins.dash",[]).directive("vgDash",["$window",function(a){return{restrict:"A",require:"^videogular",link:function(b,c,d,e){var f,g=/^application\/dash\+xml/i;(function(){return"MediaSource"in a})()&&(b.isDASH=function(a){var b=g.test(a.type),c=a.src.indexOf&&a.src.indexOf(".mpd")>0;return b||c},b.onSourceChange=function(a){var c=a.src;b.isDASH(a)?angular.isFunction(dashjs&&dashjs.MediaPlayer)?(f=dashjs.MediaPlayer().create(),f.extend("RequestModifier",function(){return{modifyRequestURL:function(a){return a.indexOf(".fmp4")>=0?a+"?"+f.getSource().split("?")[1]:a}}},!0),f.initialize(e.mediaElement[0],c,e.autoPlay)):(f=new MediaPlayer(new Dash.di.DashContext),f.setAutoPlay(e.autoPlay),f.startup(),f.attachView(e.mediaElement[0]),f.attachSource(c)):f&&(f.reset(),f=null,e.mediaElement.attr("src",c),e.stop())},b.$watch(function(){return e.sources},function(a,c){b.onSourceChange(a[0])}))}}}]),function(){"use strict";angular.module("th.co.softever.videogular.plugins.quality",[]).run(["$templateCache",function(a){a.put("vg-templates/vg-quality",'<div>{{ currentQuality.name }} <span class="vg-auto-quality">{{ (autoQualityName && "("+ autoQualityName +")" || null) }}</span></div><vg-quality-selector></<vg-quality-selector>')}]).directive("vgQuality",["VG_UTILS",function(a){return{restrict:"E",require:"^videogular",templateUrl:"vg-templates/vg-quality",scope:{qualities:"=qualitySources",currentQuality:"=defaultQuality"},link:function(b,c,d,e){b.onMouseOverQuality=function(){b.$evalAsync(function(){b.qualityVisibility="visible"})},b.onMouseLeaveQuality=function(){b.$evalAsync(function(){b.qualityVisibility="hidden"})},a.isMobileDevice()?c.css("display","none"):(b.qualityVisibility="hidden",c.bind("mouseover",b.onMouseOverQuality),c.bind("mouseleave",b.onMouseLeaveQuality))}}}])}(),function(){angular.module("th.co.softever.videogular.plugins.quality").run(["$templateCache",function(a){a.put("vg-templates/vg-quality-selector",'<ul><li ng-repeat="o in qualities" ng-class="{\'active\':currentQuality === o}" ng-click="changeQuality(o)">{{ o.name }}</li></ul>')}]).directive("vgQualitySelector",["VG_STATES","$rootScope",function(a,b){return{restrict:"E",require:"^videogular",templateUrl:"vg-templates/vg-quality-selector",link:function(c,d,e,f){c.currentTime=0,c.playback=f.playback,c.getQualityNameByDashIndex=function(a){for(i=0;i<c.qualities.length;i++)if(c.qualities[i].dashIndex===a)return c.qualities[i].name};var g=function(){h=setInterval(function(){c.autoQualityName=c.getQualityNameByDashIndex(f.dashPlayer.getQualityFor("video"))},3e3)};c.isDASHSupport=function(){return!!window.MediaSource};var h;if(c.isDASHSupport())f.isDASH&&f.isDASH(c.currentQuality.sources[0].src)&&g();else if(f.isDASH&&f.isDASH(c.currentQuality.sources[0].src))for(i=0;i<c.qualities.length;i++)c.qualities[i]===c.currentQuality&&(c.qualities.splice(i,1),c.currentQuality=c.qualities[0]);f.isDASH&&f.isDASH(c.currentQuality.sources[0].src)?(c.dashLoaded=function(){f.dashPlayer.seek(c.currentTime/1e3),c.currentState===a.PLAY&&f.dashPlayer.play(),f.dashPlayer.getVideoModel().getElement().removeEventListener("loadedmetadata",c.dashLoaded.bind(c)),f.setPlayback(c.playback)},c.changeQuality=function(a){b.$emit("VIDEO_QUALITY_CHANGED",a),f.dashPlayer.getVideoModel().getElement().addEventListener("loadedmetadata",c.dashLoaded.bind(c)),c.currentQuality=a,c.currentTime=f.currentTime,c.playback=f.playback,c.qualityVisibility="hidden",c.currentState=f.currentState,f.isDASH(a.sources[0].src)?(f.dashPlayer.setAutoSwitchQuality(!0),g()):(f.dashPlayer.setAutoSwitchQuality(!1),f.dashPlayer.setQualityFor("video",a.dashIndex),clearInterval(h),c.autoQualityName=null)}):(c.changeQuality=function(a){b.$emit("VIDEO_QUALITY_CHANGED",a),c.currentQuality=a,c.qualityVisibility="hidden",c.currentTime=f.currentTime,c.currentState=f.currentState,c.playback=f.playback,f.changeSource(a.sources)},c.onMediaLoaded=function(){f.seekTime(c.currentTime/1e3),f.setPlayback(c.playback),c.currentState==a.PLAY&&f.play()},f.mediaElement[0].addEventListener("loadedmetadata",c.onMediaLoaded.bind(c),!1)),c.onChangeVisibility=function(a){d.css("visibility",a)},c.$watch("qualityVisibility",c.onChangeVisibility)}}}])}(),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){"use strict";var e={};e.encode=function(a){for(var b=[],c=0;c<a.length;++c){var d=a.charCodeAt(c);d<128?b.push(d):d<2048?(b.push(192|d>>6),b.push(128|63&d)):d<65536?(b.push(224|d>>12),b.push(128|63&d>>6),b.push(128|63&d)):(b.push(240|d>>18),b.push(128|63&d>>12),b.push(128|63&d>>6),b.push(128|63&d))}return b},e.decode=function(a){for(var b=[],c=0;c<a.length;){var d=a[c++];d<128||(d<224?(d=(31&d)<<6,d|=63&a[c++]):d<240?(d=(15&d)<<12,d|=(63&a[c++])<<6,d|=63&a[c++]):(d=(7&d)<<18,d|=(63&a[c++])<<12,d|=(63&a[c++])<<6,d|=63&a[c++])),b.push(String.fromCharCode(d))}return b.join("")};var f={};!function(b){var c=function(a){for(var c=0,d=[],e=0|a.length/3;0<e--;){var f=(a[c]<<16)+(a[c+1]<<8)+a[c+2];c+=3,d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(b.charAt(63&f>>6)),d.push(b.charAt(63&f))}if(2==a.length-c){var f=(a[c]<<16)+(a[c+1]<<8);d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(b.charAt(63&f>>6)),d.push("=")}else if(1==a.length-c){var f=a[c]<<16;d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push("==")}return d.join("")},d=function(){for(var a=[],c=0;c<b.length;++c)a[b.charCodeAt(c)]=c;return a["=".charCodeAt(0)]=0,a}(),g=function(a){for(var b=0,c=[],e=0|a.length/4;0<e--;){var f=(d[a.charCodeAt(b)]<<18)+(d[a.charCodeAt(b+1)]<<12)+(d[a.charCodeAt(b+2)]<<6)+d[a.charCodeAt(b+3)];c.push(255&f>>16),c.push(255&f>>8),c.push(255&f),b+=4}return c&&("="==a.charAt(b-2)?(c.pop(),c.pop()):"="==a.charAt(b-1)&&c.pop()),c},h={};h.encode=function(a){for(var b=[],c=0;c<a.length;++c)b.push(a.charCodeAt(c));return b},h.decode=function(b){for(var c=0;c<s.length;++c)a[c]=String.fromCharCode(a[c]);return a.join("")},f.decodeArray=function(a){var b=g(a);return new Uint8Array(b)},f.encodeASCII=function(a){var b=h.encode(a);return c(b)},f.decodeASCII=function(a){var b=g(a);return h.decode(b)},f.encode=function(a){var b=e.encode(a);return c(b)},f.decode=function(a){var b=g(a);return e.decode(b)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),void 0!==d&&(d.decode=f.decode,d.decodeArray=f.decodeArray,d.encode=f.encode,d.encodeASCII=f.encodeASCII)},{}],2:[function(a,b,c){"use strict";!function(a){var b={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},c=function(a){var c=a;return b.hasOwnProperty(a)&&(c=b[a]),String.fromCharCode(c)},d=15,e=32,f={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},g={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},i={25:2,26:4,29:6,30:8,31:10,27:13,28:15},j=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],k={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(a){this.time=a},log:function(a,b){var c=this.verboseFilter[a];this.verboseLevel>=c&&console.log(this.time+" ["+a+"] "+b)}},l=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].toString(16));return b},m=function(a,b,c,d,e){this.foreground=a||"white",this.underline=b||!1,this.italics=c||!1,this.background=d||"black",this.flash=e||!1};m.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(a){for(var b=["foreground","underline","italics","background","flash"],c=0;c<b.length;c++){var d=b[c];a.hasOwnProperty(d)&&(this[d]=a[d])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(a){return this.foreground===a.foreground&&this.underline===a.underline&&this.italics===a.italics&&this.background===a.background&&this.flash===a.flash},copy:function(a){this.foreground=a.foreground,this.underline=a.underline,this.italics=a.italics,this.background=a.background,this.flash=a.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var n=function(a,b,c,d,e,f){this.uchar=a||" ",this.penState=new m(b,c,d,e,f)};n.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(a,b){this.uchar=a,this.penState.copy(b)},setPenState:function(a){this.penState.copy(a)},equals:function(a){return this.uchar===a.uchar&&this.penState.equals(a.penState)},copy:function(a){this.uchar=a.uchar,this.penState.copy(a.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var o=function(){this.chars=[];for(var a=0;a<e;a++)this.chars.push(new n);this.pos=0,this.currPenState=new m};o.prototype={equals:function(a){for(var b=!0,c=0;c<e;c++)if(!this.chars[c].equals(a.chars[c])){b=!1;break}return b},copy:function(a){for(var b=0;b<e;b++)this.chars[b].copy(a.chars[b])},isEmpty:function(){for(var a=!0,b=0;b<e;b++)if(!this.chars[b].isEmpty()){a=!1;break}return a},setCursor:function(a){this.pos!==a&&(this.pos=a),this.pos<0?(k.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>e&&(k.log("ERROR","Too large cursor position "+this.pos),this.pos=e)},moveCursor:function(a){var b=this.pos+a;if(a>1)for(var c=this.pos+1;c<b+1;c++)this.chars[c].setPenState(this.currPenState);this.setCursor(b)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(a){a>=144&&this.backSpace();var b=c(a);if(this.pos>=e)return void k.log("ERROR","Cannot insert "+a.toString(16)+" ("+b+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(b,this.currPenState),this.moveCursor(1)},clearFromPos:function(a){var b;for(b=a;b<e;b++)this.chars[b].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var a=[],b=!0,c=0;c<e;c++){var d=this.chars[c].uchar;" "!==d&&(b=!1),a.push(d)}return b?"":a.join("")},setPenStyles:function(a){this.currPenState.setStyles(a),this.chars[this.pos].setPenState(this.currPenState)}};var p=function(){this.rows=[];for(var a=0;a<d;a++)this.rows.push(new o);this.currRow=14,this.nrRollUpRows=null,this.reset()};p.prototype={reset:function(){for(var a=0;a<d;a++)this.rows[a].clear();this.currRow=14},equals:function(a){for(var b=!0,c=0;c<d;c++)if(!this.rows[c].equals(a.rows[c])){b=!1;break}return b},copy:function(a){for(var b=0;b<d;b++)this.rows[b].copy(a.rows[b])},isEmpty:function(){for(var a=!0,b=0;b<d;b++)if(!this.rows[b].isEmpty()){a=!1;break}return a},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(a){this.rows[this.currRow].insertChar(a)},setPen:function(a){this.rows[this.currRow].setPenStyles(a)},moveCursor:function(a){this.rows[this.currRow].moveCursor(a)},setCursor:function(a){k.log("INFO","setCursor: "+a),this.rows[this.currRow].setCursor(a)},setPAC:function(a){k.log("INFO","pacData = "+JSON.stringify(a));var b=a.row-1;this.nrRollUpRows&&b<this.nrRollUpRows-1&&(b=this.nrRollUpRows-1),this.currRow=b;var c=this.rows[this.currRow];if(null!==a.indent){var d=a.indent,e=Math.max(d-1,0);c.setCursor(a.indent),a.color=c.chars[e].penState.foreground}var f={foreground:a.color,underline:a.underline,italics:a.italics,background:"black",flash:!1};this.setPen(f)},setBkgData:function(a){k.log("INFO","bkgData = "+JSON.stringify(a)),this.backSpace(),this.setPen(a),this.insertChar(32)},setRollUpRows:function(a){this.nrRollUpRows=a},rollUp:function(){if(null===this.nrRollUpRows)return void k.log("DEBUG","roll_up but nrRollUpRows not set yet");k.log("TEXT",this.getDisplayText());var a=this.currRow+1-this.nrRollUpRows,b=this.rows.splice(a,1)[0];b.clear(),this.rows.splice(this.currRow,0,b),k.log("INFO","Rolling up")},getDisplayText:function(a){a=a||!1;for(var b=[],c="",e=-1,f=0;f<d;f++){var g=this.rows[f].getTextString();g&&(e=f+1,a?b.push("Row "+e+': "'+g+'"'):b.push(g.trim()))}return b.length>0&&(c=a?"["+b.join(" | ")+"]":b.join("\n")),c},getTextAndFormat:function(){return this.rows}};var q=function(a,b){this.chNr=a,this.outputFilter=b,this.mode=null,this.verbose=0,this.displayedMemory=new p,this.nonDisplayedMemory=new p,this.lastOutputScreen=new p,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};q.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(a){this.outputFilter=a},setPAC:function(a){this.writeScreen.setPAC(a)},setBkgData:function(a){this.writeScreen.setBkgData(a)},setMode:function(a){a!==this.mode&&(this.mode=a,k.log("INFO","MODE="+a),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=a)},insertChars:function(a){for(var b=0;b<a.length;b++)this.writeScreen.insertChar(a[b]);var c=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";k.log("INFO",c+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(k.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){k.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){k.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){k.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(a){k.log("INFO","RU("+a+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(a)},cc_FON:function(){k.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){k.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){k.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){k.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){k.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){k.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){k.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(k.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var a=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=a,this.writeScreen=this.nonDisplayedMemory,k.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(a){k.log("INFO","TO("+a+") - Tab Offset"),this.writeScreen.moveCursor(a)},cc_MIDROW:function(a){var b={flash:!1};if(b.underline=a%2==1,b.italics=a>=46,b.italics)b.foreground="white";else{var c=Math.floor(a/2)-16,d=["white","green","blue","cyan","red","yellow","magenta"];b.foreground=d[c]}k.log("INFO","MIDROW: "+JSON.stringify(b)),this.writeScreen.setPen(b)},outputDataUpdate:function(){var a=k.time;null!==a&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(a,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,a,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:a):this.cueStartTime=a,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(a){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,a,this.displayedMemory),this.cueStartTime=a))}};var r=function(a,b,c){this.field=a||1,this.outputs=[b,c],this.channels=[new q(1,b),new q(2,c)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};r.prototype={getHandler:function(a){return this.channels[a].getHandler()},setHandler:function(a,b){this.channels[a].setHandler(b)},addData:function(a,b){var c,d,e,f=!1;this.lastTime=a,k.setTime(a);for(var g=0;g<b.length;g+=2)if(d=127&b[g],e=127&b[g+1],d>=16&&d<=31&&d===this.lastCmdA&&e===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,k.log("DEBUG","Repeated command ("+l([d,e])+") is dropped");else if(0!==d||0!==e){if(k.log("DATA","["+l([b[g],b[g+1]])+"] -> ("+l([d,e])+")"),c=this.parseCmd(d,e),c||(c=this.parseMidrow(d,e)),c||(c=this.parsePAC(d,e)),c||(c=this.parseBackgroundAttributes(d,e)),!c&&(f=this.parseChars(d,e)))if(this.currChNr&&this.currChNr>=0){var h=this.channels[this.currChNr-1];h.insertChars(f)}else k.log("WARNING","No channel found yet. TEXT-MODE?");c?this.dataCounters.cmd+=2:f?this.dataCounters.char+=2:(this.dataCounters.other+=2,k.log("WARNING","Couldn't parse cleaned data "+l([d,e])+" orig: "+l([b[g],b[g+1]])))}else this.dataCounters.padding+=2},parseCmd:function(a,b){var c=null,d=(20===a||21===a||28===a||29===a)&&32<=b&&b<=47,e=(23===a||31===a)&&33<=b&&b<=35;if(!d&&!e)return!1;c=20===a||21===a||23===a?1:2;var f=this.channels[c-1];return 20===a||21===a||28===a||29===a?32===b?f.cc_RCL():33===b?f.cc_BS():34===b?f.cc_AOF():35===b?f.cc_AON():36===b?f.cc_DER():37===b?f.cc_RU(2):38===b?f.cc_RU(3):39===b?f.cc_RU(4):40===b?f.cc_FON():41===b?f.cc_RDC():42===b?f.cc_TR():43===b?f.cc_RTD():44===b?f.cc_EDM():45===b?f.cc_CR():46===b?f.cc_ENM():47===b&&f.cc_EOC():f.cc_TO(b-32),this.lastCmdA=a,this.lastCmdB=b,this.currChNr=c,!0},parseMidrow:function(a,b){var c=null;if((17===a||25===a)&&32<=b&&b<=47){if((c=17===a?1:2)!==this.currChNr)return k.log("ERROR","Mismatch channel in midrow parsing"),!1;var d=this.channels[c-1];return d.insertChars([32]),d.cc_MIDROW(b),k.log("DEBUG","MIDROW ("+l([a,b])+")"),this.lastCmdA=a,this.lastCmdB=b,!0}return!1},parsePAC:function(a,b){var c=null,d=null,e=(17<=a&&a<=23||25<=a&&a<=31)&&64<=b&&b<=127,j=(16===a||24===a)&&64<=b&&b<=95;if(!e&&!j)return!1;c=a<=23?1:2,d=64<=b&&b<=95?1===c?f[a]:h[a]:1===c?g[a]:i[a];var k=this.interpretPAC(d,b);return this.channels[c-1].setPAC(k),this.lastCmdA=a,this.lastCmdB=b,this.currChNr=c,!0},interpretPAC:function(a,b){var c=b,d={color:null,italics:!1,indent:null,underline:!1,row:a};return c=b>95?b-96:b-64,d.underline=1==(1&c),c<=13?d.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(c/2)]:c<=15?(d.italics=!0,d.color="white"):d.indent=4*Math.floor((c-16)/2),d},parseChars:function(a,b){var d=null,e=null,f=null;if(a>=25?(d=2,f=a-8):(d=1,f=a),17<=f&&f<=19){var g=b;g=17===f?b+80:18===f?b+112:b+144,k.log("INFO","Special char '"+c(g)+"' in channel "+d),e=[g],this.lastCmdA=a,this.lastCmdB=b}else 32<=a&&a<=127&&(e=0===b?[a]:[a,b],this.lastCmdA=null,this.lastCmdB=null);if(e){var h=l(e);k.log("DEBUG","Char codes =  "+h.join(","))}return e},parseBackgroundAttributes:function(a,b){var c,d,e,f,g=(16===a||24===a)&&32<=b&&b<=47,h=(23===a||31===a)&&45<=b&&b<=47;return!(!g&&!h||(c={},16===a||24===a?(d=Math.floor((b-32)/2),c.background=j[d],b%2==1&&(c.background=c.background+"_semi")):45===b?c.background="transparent":(c.foreground="black",47===b&&(c.underline=!0)),e=a<24?1:2,f=this.channels[e-1],f.setBkgData(c),this.lastCmdA=a,this.lastCmdB=b,0))},reset:function(){for(var a=0;a<this.channels.length;a++)this.channels[a]&&this.channels[a].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(a){for(var b=0;b<this.channels.length;b++)this.channels[b]&&this.channels[b].cueSplitAtTime(a)}};var s=function(a,b,c){for(var d=0,e=b,f=[];e<b+c;){if(d=a.getUint32(e),6==(31&a.getUint8(e+4)))for(var g=e+5,h=-1;g<e+4+d-1;){h=0;for(var i=255;255===i;)i=a.getUint8(g),h+=i,g++;var j=0;for(i=255;255===i;)i=a.getUint8(g),j+=i,g++;(function(a,b,c,d){if(4!==a||b<8)return null;var e=c.getUint8(d),f=c.getUint16(d+1),g=c.getUint32(d+3),h=c.getUint8(d+7);return 181==e&&49==f&&1195456820==g&&3==h})(h,j,a,g)&&f.push([g,j]),g+=j}e+=d+4}return f},t=function(a,b){var c=b[0],d=[[],[]];c+=8;var e=31&a.getUint8(c);c+=2;for(var f=0;f<e;f++){var g=a.getUint8(c),h=4&g,i=3&g;c++;var j=a.getUint8(c);c++;var k=a.getUint8(c);c++,h&&(127&j)+(127&k)!=0&&(0===i?(d[0].push(j),d[0].push(k)):1===i&&(d[1].push(j),d[1].push(k)))}return d};a.logger=k,a.PenState=m,a.CaptionScreen=p,a.Cea608Parser=r,a.findCea608Nalus=s,a.extractCea608DataFromRange=t}(void 0===c?(void 0).cea608parser={}:c)},{}],3:[function(a,b,c){"use strict";function d(a){var b,c,d;for(b=[],d=0,c=a.length;d<c;d+=1)a[d].isRoot?b.push("root"):b.push(a[d].name);var e=function(a,b){var c;if(null!==a&&null!==b)for(c in a)a.hasOwnProperty(c)&&(b.hasOwnProperty(c)||(b[c]=a[c]))},f=function(a,b,c){var d,f,g,h,i;if(null!==a&&0!==a.length)for(d=0,f=a.length;d<f;d+=1)g=a[d],b.hasOwnProperty(g.name)&&(c.hasOwnProperty(g.name)?g.merge&&(h=b[g.name],i=c[g.name],"object"==typeof h&&"object"==typeof i?e(h,i):null!=g.mergeFunction?c[g.name]=g.mergeFunction(h,i):c[g.name]=h+i):c[g.name]=b[g.name])},g=function a(b,c){var d,e,g,h,i,j,k,l=b;if(null!==l.children&&0!==l.children.length)for(d=0,e=l.children.length;d<e;d+=1)if(j=l.children[d],c.hasOwnProperty(j.name))if(j.isArray)for(i=c[j.name+"_asArray"],
g=0,h=i.length;g<h;g+=1)k=i[g],f(l.properties,c,k),a(j,k);else k=c[j.name],f(l.properties,c,k),a(j,k)};return{run:function c(d){var e,f,h,i,j,k,l;if(null===d)return d;if("object"!=typeof d)return d;for(e=0,f=b.length;e<f;e+=1)"root"===b[e]&&(j=a[e],k=d,g(j,k));for(i in d)if(d.hasOwnProperty(i)&&"__children"!=i){if(-1!==(h=b.indexOf(i)))if(j=a[h],j.isArray)for(l=d[i+"_asArray"],e=0,f=l.length;e<f;e+=1)k=l[e],g(j,k);else k=d[i],g(j,k);c(d[i])}return d}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,b.exports=c.default},{}],4:[function(a,b,c){"use strict";function d(a){function b(a){var b=a.localName;return null==b&&(b=a.baseName),null!=b&&""!=b||(b=a.nodeName),b}function c(a){return a.prefix}function d(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):a}function e(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e];if("string"==typeof f){if(f==d)break}else if(f instanceof RegExp){if(f.test(d))break}else if("function"==typeof f&&f(b,c,d))break}return e!=a.length}function f(b,c,d){switch(a.arrayAccessForm){case"property":b[c]instanceof Array?b[c+"_asArray"]=b[c]:b[c+"_asArray"]=[b[c]]}!(b[c]instanceof Array)&&a.arrayAccessFormPaths.length>0&&e(a.arrayAccessFormPaths,b,c,d)&&(b[c]=[b[c]])}function g(a){var b=a.split(/[-T:+Z]/g),c=new Date(b[0],b[1]-1,b[2]),d=b[5].split(".");if(c.setHours(b[3],b[4],d[0]),d.length>1&&c.setMilliseconds(d[1]),b[6]&&b[7]){var e=60*b[6]+Number(b[7]);e=0+("-"==(/\d\d-\d\d:\d\d$/.test(a)?"-":"+")?-1*e:e),c.setMinutes(c.getMinutes()-e-c.getTimezoneOffset())}else-1!==a.indexOf("Z",a.length-1)&&(c=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())));return c}function h(b,c,d){if(a.datetimeAccessFormPaths.length>0){var f=d.split(".#")[0];return e(a.datetimeAccessFormPaths,b,c,f)?g(b):b}return b}function i(b,c,d,f){return!(c==w.ELEMENT_NODE&&a.xmlElementsFilter.length>0)||e(a.xmlElementsFilter,b,d,f)}function j(d,e){if(d.nodeType==w.DOCUMENT_NODE){for(var g=new Object,k=d.childNodes,l=0;l<k.length;l++){var m=k[l];if(m.nodeType==w.ELEMENT_NODE)if(a.ignoreRoot)g=j(m);else{g={};var n=b(m);g[n]=j(m)}}return g}if(d.nodeType==w.ELEMENT_NODE){var g=new Object;g.__cnt=0;for(var o=[],k=d.childNodes,l=0;l<k.length;l++){var m=k[l],n=b(m);if(m.nodeType!=w.COMMENT_NODE){var p=e+"."+n;if(i(g,m.nodeType,n,p))if(g.__cnt++,null==g[n]){var q=j(m,p);if("#text"!=n||/[^\s]/.test(q)){var r={};r[n]=q,o.push(r)}g[n]=q,f(g,n,p)}else{null!=g[n]&&(g[n]instanceof Array||(g[n]=[g[n]],f(g,n,p)));var q=j(m,p);if("#text"!=n||/[^\s]/.test(q)){var r={};r[n]=q,o.push(r)}g[n][g[n].length]=q}}}g.__children=o;for(var s=b(d),t=0;t<d.attributes.length;t++){var u=d.attributes[t];g.__cnt++;for(var v=u.value,x=0,y=a.matchers.length;x<y;x++){var z=a.matchers[x];z.test(u,s)&&(v=z.converter(u.value))}g[a.attributePrefix+u.name]=v}var A=c(d);return null!=A&&""!=A&&(g.__cnt++,g.__prefix=A),null!=g["#text"]&&(g.__text=g["#text"],g.__text instanceof Array&&(g.__text=g.__text.join("\n")),a.stripWhitespaces&&(g.__text=g.__text.trim()),delete g["#text"],"property"==a.arrayAccessForm&&delete g["#text_asArray"],g.__text=h(g.__text,n,e+"."+n)),null!=g["#cdata-section"]&&(g.__cdata=g["#cdata-section"],delete g["#cdata-section"],"property"==a.arrayAccessForm&&delete g["#cdata-section_asArray"]),0==g.__cnt&&"text"==a.emptyNodeForm?g="":1==g.__cnt&&null!=g.__text?g=g.__text:1!=g.__cnt||null==g.__cdata||a.keepCData?g.__cnt>1&&null!=g.__text&&a.skipEmptyTextNodesForObj&&(a.stripWhitespaces&&""==g.__text||""==g.__text.trim())&&delete g.__text:g=g.__cdata,delete g.__cnt,!a.enableToStringFunc||null==g.__text&&null==g.__cdata||(g.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),g}if(d.nodeType==w.TEXT_NODE||d.nodeType==w.CDATA_SECTION_NODE)return d.nodeValue}function k(b,c,e,f){var g="<"+(null!=b&&null!=b.__prefix?b.__prefix+":":"")+c;if(null!=e)for(var h=0;h<e.length;h++){var i=e[h],j=b[i];a.escapeMode&&(j=d(j)),g+=" "+i.substr(a.attributePrefix.length)+"=",a.useDoubleQuotes?g+='"'+j+'"':g+="'"+j+"'"}return g+=f?"/>":">"}function l(a,b){return"</"+(null!=a.__prefix?a.__prefix+":":"")+b+">"}function m(a,b){return-1!==a.indexOf(b,a.length-b.length)}function n(b,c){return!!("property"==a.arrayAccessForm&&m(c.toString(),"_asArray")||0==c.toString().indexOf(a.attributePrefix)||0==c.toString().indexOf("__")||b[c]instanceof Function)}function o(a){var b=0;if(a instanceof Object)for(var c in a)n(a,c)||b++;return b}function p(b,c,d){return 0==a.jsonPropertiesFilter.length||""==d||e(a.jsonPropertiesFilter,b,c,d)}function q(b){var c=[];if(b instanceof Object)for(var d in b)-1==d.toString().indexOf("__")&&0==d.toString().indexOf(a.attributePrefix)&&c.push(d);return c}function r(b){var c="";return null!=b.__cdata&&(c+="<![CDATA["+b.__cdata+"]]>"),null!=b.__text&&(a.escapeMode?c+=d(b.__text):c+=b.__text),c}function s(b){var c="";return b instanceof Object?c+=r(b):null!=b&&(a.escapeMode?c+=d(b):c+=b),c}function t(a,b){return""===a?b:a+"."+b}function u(a,b,c,d){var e="";if(0==a.length)e+=k(a,b,c,!0);else for(var f=0;f<a.length;f++)e+=k(a[f],b,q(a[f]),!1),e+=v(a[f],t(d,b)),e+=l(a[f],b);return e}function v(a,b){var c="";if(o(a)>0)for(var d in a)if(!n(a,d)&&(""==b||p(a,d,t(b,d)))){var e=a[d],f=q(e);if(null==e||void 0==e)c+=k(e,d,f,!0);else if(e instanceof Object)if(e instanceof Array)c+=u(e,d,f,b);else if(e instanceof Date)c+=k(e,d,f,!1),c+=e.toISOString(),c+=l(e,d);else{var g=o(e);g>0||null!=e.__text||null!=e.__cdata?(c+=k(e,d,f,!1),c+=v(e,t(b,d)),c+=l(e,d)):c+=k(e,d,f,!0)}else c+=k(e,d,f,!1),c+=s(e),c+=l(e,d)}return c+=s(a)}a=a||{},function(){void 0===a.escapeMode&&(a.escapeMode=!0),void 0===a.attributePrefix&&(a.attributePrefix="_"),a.arrayAccessForm=a.arrayAccessForm||"none",a.emptyNodeForm=a.emptyNodeForm||"text",void 0===a.enableToStringFunc&&(a.enableToStringFunc=!0),a.arrayAccessFormPaths=a.arrayAccessFormPaths||[],void 0===a.skipEmptyTextNodesForObj&&(a.skipEmptyTextNodesForObj=!0),void 0===a.stripWhitespaces&&(a.stripWhitespaces=!0),a.datetimeAccessFormPaths=a.datetimeAccessFormPaths||[],void 0===a.useDoubleQuotes&&(a.useDoubleQuotes=!1),a.xmlElementsFilter=a.xmlElementsFilter||[],a.jsonPropertiesFilter=a.jsonPropertiesFilter||[],void 0===a.keepCData&&(a.keepCData=!1),void 0===a.ignoreRoot&&(a.ignoreRoot=!1)}();var w={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(a){if(window.ActiveXObject||window,void 0===a)return null;var b;if(window.DOMParser){var c=new window.DOMParser;try{b=c.parseFromString(a,"text/xml"),b.getElementsByTagNameNS("*","parsererror").length>0&&(b=null)}catch(a){b=null}}else 0==a.indexOf("<?")&&(a=a.substr(a.indexOf("?>")+2)),b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a);return b},this.asArray=function(a){return void 0===a||null==a?[]:a instanceof Array?a:[a]},this.toXmlDateTime=function(a){return a instanceof Date?a.toISOString():"number"==typeof a?new Date(a).toISOString():null},this.asDateTime=function(a){return"string"==typeof a?g(a):a},this.xml2json=function(a){return j(a)},this.xml_str2json=function(a){var b=this.parseXmlString(a);return null!=b?this.xml2json(b):null},this.json2xml_str=function(a){return v(a,"")},this.json2xml=function(a){var b=this.json2xml_str(a);return this.parseXmlString(b)},this.getVersion=function(){return"1.2.0"}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,b.exports=c.default},{}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(6),f=a(115),g=d(f),h=a(149),i=d(h),j=a(93),k=d(j);dashjs.Protection=i.default,dashjs.MetricsReporting=g.default,dashjs.MediaPlayerFactory=k.default,c.default=dashjs,c.MediaPlayer=e.MediaPlayer,c.Protection=i.default,c.MetricsReporting=g.default,c.MediaPlayerFactory=k.default},{115:115,149:149,6:6,93:93}],6:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(91),f=d(e),g=a(48),h=d(g),i=a(49),j="undefined"!=typeof window&&window||b,k=j.dashjs;k||(k=j.dashjs={}),k.MediaPlayer=f.default,k.FactoryMaker=h.default,k.Version=(0,i.getVersionString)(),c.default=k,c.MediaPlayer=f.default,c.FactoryMaker=h.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{48:48,49:49,91:91}],7:[function(a,b,c){!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===f||b===k?62:b===g||b===l?63:b<h?-1:b<h+10?b-h+26+26:b<j+26?b-j:b<i+26?b-i+26:void 0}function c(a){function c(a){j[l++]=a}var d,f,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new e(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,f=0;d<g;d+=4,f+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function d(a){function b(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a)}var c,d,e,f=a.length%3,g="";for(c=0,e=a.length-f;c<e;c+=3)d=(a[c]<<16)+(a[c+1]<<8)+a[c+2],g+=function(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}(d);switch(f){case 1:d=a[a.length-1],g+=b(d>>2),g+=b(d<<4&63),g+="==";break;case 2:d=(a[a.length-2]<<8)+a[a.length-1],g+=b(d>>10),g+=b(d>>4&63),g+=b(d<<2&63),g+="="}return g}var e="undefined"!=typeof Uint8Array?Uint8Array:Array,f="+".charCodeAt(0),g="/".charCodeAt(0),h="0".charCodeAt(0),i="a".charCodeAt(0),j="A".charCodeAt(0),k="-".charCodeAt(0),l="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=d}(void 0===c?this.base64js={}:c)},{}],8:[function(a,b,c){},{}],9:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a(10).Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{10:10}],10:[function(a,b,c){(function(b){"use strict";function d(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(a){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?f(this,a):"string"==typeof a?g(this,a,arguments.length>1?arguments[1]:"utf8"):h(this,a)):arguments.length>1?new e(a,arguments[1]):new e(a)}function f(a,b){if(a=o(a,b<0?0:0|p(b)),!e.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;c++)a[c]=0;return a}function g(a,b,c){return"string"==typeof c&&""!==c||(c="utf8"),a=o(a,0|r(b,c)),a.write(b,c),a}function h(a,b){if(e.isBuffer(b))return i(a,b);if(X(b))return j(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return k(a,b);if(b instanceof ArrayBuffer)return l(a,b)}return b.length?m(a,b):n(a,b)}function i(a,b){var c=0|p(b.length);return a=o(a,c),b.copy(a,0,0,c),a}function j(a,b){var c=0|p(b.length);a=o(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function k(a,b){var c=0|p(b.length);a=o(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function l(a,b){return e.TYPED_ARRAY_SUPPORT?(b.byteLength,a=e._augment(new Uint8Array(b))):a=k(a,new Uint8Array(b)),a}function m(a,b){var c=0|p(b.length);a=o(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function n(a,b){var c,d=0;"Buffer"===b.type&&X(b.data)&&(c=b.data,d=0|p(c.length)),a=o(a,d);for(var e=0;e<d;e+=1)a[e]=255&c[e];return a}function o(a,b){return e.TYPED_ARRAY_SUPPORT?(a=e._augment(new Uint8Array(b)),a.__proto__=e.prototype):(a.length=b,a._isBuffer=!0),0!==b&&b<=e.poolSize>>>1&&(a.parent=Y),a}function p(a){if(a>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|a}function q(a,b){if(!(this instanceof q))return new q(a,b);var c=new e(a,b);return delete c.parent,c}function r(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return Q(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return T(a).length;default:if(d)return Q(a).length;b=(""+b).toLowerCase(),d=!0}}function s(a,b,c){var d=!1;if(b|=0,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),b<0&&(b=0),c>this.length&&(c=this.length),c<=b)return"";for(;;)switch(a){case"hex":return E(this,b,c);case"utf8":case"utf-8":return A(this,b,c);case"ascii":return C(this,b,c);case"binary":return D(this,b,c);case"base64":return z(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function t(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function u(a,b,c,d){return U(Q(b,a.length-c),a,c,d)}function v(a,b,c,d){return U(R(b),a,c,d)}function w(a,b,c,d){return v(a,b,c,d)}function x(a,b,c,d){return U(T(b),a,c,d)}function y(a,b,c,d){return U(S(b,a.length-c),a,c,d)}function z(a,b,c){return 0===b&&c===a.length?V.fromByteArray(a):V.fromByteArray(a.slice(b,c))}function A(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:128==(192&(i=a[e+1]))&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return B(d)}function B(a){var b=a.length;if(b<=Z)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=Z));return c}function C(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(127&a[e]);return d}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(a[e]);return d}function E(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;f++)e+=P(a[f]);return e}function F(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function G(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function H(a,b,c,d,f,g){if(!e.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>f||b<g)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function I(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function J(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function K(a,b,c,d,e,f){if(b>e||b<f)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(c<0)throw new RangeError("index out of range")}function L(a,b,c,d,e){return e||K(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(a,b,c,d,23,4),c+4}function M(a,b,c,d,e){return e||K(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(a,b,c,d,52,8),c+8}function N(a){if(a=O(a).replace(_,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function O(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function P(a){return a<16?"0"+a.toString(16):a.toString(16)}function Q(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;g++){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function R(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function S(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function T(a){return V.toByteArray(N(a))}function U(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var V=a(7),W=a(15),X=a(25);c.Buffer=e,c.SlowBuffer=q,c.INSPECT_MAX_BYTES=50,e.poolSize=8192;var Y={};e.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:function(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(a){return!1}}(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(a){return!(null==a||!a._isBuffer)},e.compare=function(a,b){if(!e.isBuffer(a)||!e.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,f=0,g=Math.min(c,d);f<g&&a[f]===b[f];)++f;return f!==g&&(c=a[f],d=b[f]),c<d?-1:d<c?1:0},e.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(a,b){if(!X(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new e(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new e(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,f),f+=g.length}return d},e.byteLength=r,e.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?A(this,0,a):s.apply(this,arguments)},e.prototype.equals=function(a){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===e.compare(this,a)},e.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},e.prototype.compare=function(a){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:e.compare(this,a)},e.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(b<0&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(e.isBuffer(a))return c(this,a,b);if("number"==typeof a)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},e.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},e.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return t(this,a,b,c);case"utf8":case"utf-8":return u(this,a,b,c);case"ascii":return v(this,a,b,c);case"binary":return w(this,a,b,c);case"base64":return x(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;e.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(e.TYPED_ARRAY_SUPPORT)d=e._augment(this.subarray(a,b));else{var f=b-a;d=new e(f,void 0);for(var g=0;g<f;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},e.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||G(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},e.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||G(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},e.prototype.readUInt8=function(a,b){return b||G(a,1,this.length),this[a]},e.prototype.readUInt16LE=function(a,b){return b||G(a,2,this.length),this[a]|this[a+1]<<8},e.prototype.readUInt16BE=function(a,b){return b||G(a,2,this.length),this[a]<<8|this[a+1]},e.prototype.readUInt32LE=function(a,b){return b||G(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},e.prototype.readUInt32BE=function(a,b){return b||G(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},e.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||G(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},e.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||G(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},e.prototype.readInt8=function(a,b){return b||G(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},e.prototype.readInt16LE=function(a,b){b||G(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},e.prototype.readInt16BE=function(a,b){b||G(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},e.prototype.readInt32LE=function(a,b){return b||G(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},e.prototype.readInt32BE=function(a,b){return b||G(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},e.prototype.readFloatLE=function(a,b){return b||G(a,4,this.length),W.read(this,a,!0,23,4)},e.prototype.readFloatBE=function(a,b){return b||G(a,4,this.length),W.read(this,a,!1,23,4)},e.prototype.readDoubleLE=function(a,b){return b||G(a,8,this.length),W.read(this,a,!0,52,8)},e.prototype.readDoubleBE=function(a,b){return b||G(a,8,this.length),W.read(this,a,!1,52,8)},e.prototype.writeUIntLE=function(a,b,c,d){a=+a,b|=0,c|=0,d||H(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},e.prototype.writeUIntBE=function(a,b,c,d){a=+a,b|=0,c|=0,d||H(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},e.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,1,255,0),e.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},e.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):I(this,a,b,!0),b+2},e.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):I(this,a,b,!1),b+2},e.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):J(this,a,b,!0),b+4},e.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):J(this,a,b,!1),b+4},e.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);H(this,a,b,c,e-1,-e)}var f=0,g=1,h=a<0?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},e.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);H(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=a<0?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},e.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,1,127,-128),e.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},e.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):I(this,a,b,!0),b+2},e.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):I(this,a,b,!1),b+2},e.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):J(this,a,b,!0),b+4},e.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):J(this,a,b,!1),b+4},e.prototype.writeFloatLE=function(a,b,c){return L(this,a,b,!0,c)},e.prototype.writeFloatBE=function(a,b,c){return L(this,a,b,!1,c)},e.prototype.writeDoubleLE=function(a,b,c){return M(this,a,b,!0,c)},e.prototype.writeDoubleBE=function(a,b,c){return M(this,a,b,!1,c)},e.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var f,g=d-c;if(this===a&&c<b&&b<d)for(f=g-1;f>=0;f--)a[f+b]=this[f+c];else if(g<1e3||!e.TYPED_ARRAY_SUPPORT)for(f=0;f<g;f++)a[f+b]=this[f+c];else a._set(this.subarray(c,c+g),b);return g},e.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),c<b)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(b<0||b>=this.length)throw new RangeError("start out of bounds");if(c<0||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;d<c;d++)this[d]=a;else{var e=Q(a.toString()),f=e.length;for(d=b;d<c;d++)this[d]=e[d%f]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;b<c;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=e.prototype;e._augment=function(a){return a.constructor=e,a._isBuffer=!0,a._set=a.set,a.get=$.get,a.set=$.set,a.write=$.write,a.toString=$.toString,a.toLocaleString=$.toString,a.toJSON=$.toJSON,a.equals=$.equals,a.compare=$.compare,a.indexOf=$.indexOf,a.copy=$.copy,a.slice=$.slice,a.readUIntLE=$.readUIntLE,a.readUIntBE=$.readUIntBE,a.readUInt8=$.readUInt8,a.readUInt16LE=$.readUInt16LE,a.readUInt16BE=$.readUInt16BE,a.readUInt32LE=$.readUInt32LE,a.readUInt32BE=$.readUInt32BE,a.readIntLE=$.readIntLE,a.readIntBE=$.readIntBE,a.readInt8=$.readInt8,a.readInt16LE=$.readInt16LE,a.readInt16BE=$.readInt16BE,a.readInt32LE=$.readInt32LE,a.readInt32BE=$.readInt32BE,a.readFloatLE=$.readFloatLE,a.readFloatBE=$.readFloatBE,a.readDoubleLE=$.readDoubleLE,a.readDoubleBE=$.readDoubleBE,a.writeUInt8=$.writeUInt8,a.writeUIntLE=$.writeUIntLE,a.writeUIntBE=$.writeUIntBE,a.writeUInt16LE=$.writeUInt16LE,a.writeUInt16BE=$.writeUInt16BE,a.writeUInt32LE=$.writeUInt32LE,a.writeUInt32BE=$.writeUInt32BE,a.writeIntLE=$.writeIntLE,a.writeIntBE=$.writeIntBE,a.writeInt8=$.writeInt8,a.writeInt16LE=$.writeInt16LE,a.writeInt16BE=$.writeInt16BE,a.writeInt32LE=$.writeInt32LE,a.writeInt32BE=$.writeInt32BE,a.writeFloatLE=$.writeFloatLE,a.writeFloatBE=$.writeFloatBE,a.writeDoubleLE=$.writeDoubleLE,a.writeDoubleBE=$.writeDoubleBE,a.fill=$.fill,a.inspect=$.inspect,a.toArrayBuffer=$.toArrayBuffer,a};var _=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{15:15,25:25,7:7}],11:[function(a,b,c){var d={};d.parseBuffer=function(a){return new e(a).parse()},d.addBoxProcessor=function(a,b){"string"==typeof a&&"function"==typeof b&&(f.prototype._boxProcessors[a]=b)},d.createFile=function(){return new e},d.createBox=function(a,b,c){var d=f.create(a);return b&&b.append(d,c),d},d.createFullBox=function(a,b,c){var e=d.createBox(a,b,c);return e.version=0,e.flags=0,e},d.Utils={},d.Utils.dataViewToString=function(a,b){var c=b||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(c).decode(a);var d=[],e=0;if("utf-8"===c)for(;e<a.byteLength;){var f=a.getUint8(e++);f<128||(f<224?(f=(31&f)<<6,f|=63&a.getUint8(e++)):f<240?(f=(15&f)<<12,f|=(63&a.getUint8(e++))<<6,f|=63&a.getUint8(e++)):(f=(7&f)<<18,f|=(63&a.getUint8(e++))<<12,f|=(63&a.getUint8(e++))<<6,f|=63&a.getUint8(e++))),d.push(String.fromCharCode(f))}else for(;e<a.byteLength;)d.push(String.fromCharCode(a.getUint8(e++)));return d.join("")},d.Utils.utf8ToByteArray=function(a){var b,c;if("undefined"!=typeof TextEncoder)b=(new TextEncoder).encode(a);else for(b=[],c=0;c<a.length;++c){var d=a.charCodeAt(c)
;d<128?b.push(d):d<2048?(b.push(192|d>>6),b.push(128|63&d)):d<65536?(b.push(224|d>>12),b.push(128|63&d>>6),b.push(128|63&d)):(b.push(240|d>>18),b.push(128|63&d>>12),b.push(128|63&d>>6),b.push(128|63&d))}return b},d.Utils.appendBox=function(a,b,c){if(b._offset=a._cursor.offset,b._root=a._root?a._root:a,b._raw=a._raw,b._parent=a,-1!==c){if(void 0===c||null===c)return void a.boxes.push(b);var d,e=-1;if("number"==typeof c)e=c;else{if("string"==typeof c)d=c;else{if("object"!=typeof c||!c.type)return void a.boxes.push(b);d=c.type}for(var f=0;f<a.boxes.length;f++)if(d===a.boxes[f].type){e=f+1;break}}a.boxes.splice(e,0,b)}},void 0!==c&&(c.parseBuffer=d.parseBuffer,c.addBoxProcessor=d.addBoxProcessor,c.createFile=d.createFile,c.createBox=d.createBox,c.createFullBox=d.createFullBox,c.Utils=d.Utils),d.Cursor=function(a){this.offset=void 0===a?0:a};var e=function(a){this._cursor=new d.Cursor,this.boxes=[],a&&(this._raw=new DataView(a))};e.prototype.fetch=function(a){var b=this.fetchAll(a,!0);return b.length?b[0]:null},e.prototype.fetchAll=function(a,b){var c=[];return e._sweep.call(this,a,c,b),c},e.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var a=f.parse(this);if(void 0===a.type)break;this.boxes.push(a)}return this},e._sweep=function(a,b,c){this.type&&this.type==a&&b.push(this);for(var d in this.boxes){if(b.length&&c)return;e._sweep.call(this.boxes[d],a,b,c)}},e.prototype.write=function(){var a,b=0;for(a=0;a<this.boxes.length;a++)b+=this.boxes[a].getLength(!1);var c=new Uint8Array(b);for(this._rawo=new DataView(c.buffer),this.bytes=c,this._cursor.offset=0,a=0;a<this.boxes.length;a++)this.boxes[a].write();return c.buffer},e.prototype.append=function(a,b){d.Utils.appendBox(this,a,b)};var f=function(){this._cursor=new d.Cursor};f.parse=function(a){var b=new f;return b._offset=a._cursor.offset,b._root=a._root?a._root:a,b._raw=a._raw,b._parent=a,b._parseBox(),a._cursor.offset=b._raw.byteOffset+b._raw.byteLength,b},f.create=function(a){var b=new f;return b.type=a,b.boxes=[],b},f.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],f.prototype._boxProcessors={},f.prototype._procField=function(a,b,c){this._parsing?this[a]=this._readField(b,c):this._writeField(b,c,this[a])},f.prototype._procFieldArray=function(a,b,c,d){var e;if(this._parsing)for(this[a]=[],e=0;e<b;e++)this[a][e]=this._readField(c,d);else for(e=0;e<this[a].length;e++)this._writeField(c,d,this[a][e])},f.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},f.prototype._procEntries=function(a,b,c){var d;if(this._parsing)for(this[a]=[],d=0;d<b;d++)this[a].push({}),c.call(this,this[a][d]);else for(d=0;d<b;d++)c.call(this,this[a][d])},f.prototype._procSubEntries=function(a,b,c,d){var e;if(this._parsing)for(a[b]=[],e=0;e<c;e++)a[b].push({}),d.call(this,a[b][e]);else for(e=0;e<c;e++)d.call(this,a[b][e])},f.prototype._procEntryField=function(a,b,c,d){this._parsing?a[b]=this._readField(c,d):this._writeField(c,d,a[b])},f.prototype._procSubBoxes=function(a,b){var c;if(this._parsing)for(this[a]=[],c=0;c<b;c++)this[a].push(f.parse(this));else for(c=0;c<b;c++)this._rawo?this[a][c].write():this.size+=this[a][c].getLength()},f.prototype._readField=function(a,b){switch(a){case"uint":return this._readUint(b);case"int":return this._readInt(b);case"template":return this._readTemplate(b);case"string":return-1===b?this._readTerminatedString():this._readString(b);case"data":return this._readData(b);case"utf8":return this._readUTF8String();default:return-1}},f.prototype._readInt=function(a){var b=null,c=this._cursor.offset-this._raw.byteOffset;switch(a){case 8:b=this._raw.getInt8(c);break;case 16:b=this._raw.getInt16(c);break;case 32:b=this._raw.getInt32(c);break;case 64:var d=this._raw.getInt32(c),e=this._raw.getInt32(c+4);b=d*Math.pow(2,32)+e}return this._cursor.offset+=a>>3,b},f.prototype._readUint=function(a){var b,c,d=null,e=this._cursor.offset-this._raw.byteOffset;switch(a){case 8:d=this._raw.getUint8(e);break;case 16:d=this._raw.getUint16(e);break;case 24:b=this._raw.getUint16(e),c=this._raw.getUint8(e+2),d=(b<<8)+c;break;case 32:d=this._raw.getUint32(e);break;case 64:b=this._raw.getUint32(e),c=this._raw.getUint32(e+4),d=b*Math.pow(2,32)+c}return this._cursor.offset+=a>>3,d},f.prototype._readString=function(a){for(var b="",c=0;c<a;c++){var d=this._readUint(8);b+=String.fromCharCode(d)}return b},f.prototype._readTemplate=function(a){return this._readUint(a/2)+this._readUint(a/2)/Math.pow(2,a/2)},f.prototype._readTerminatedString=function(){for(var a="";this._cursor.offset-this._offset<this._raw.byteLength;){var b=this._readUint(8);if(0===b)break;a+=String.fromCharCode(b)}return a},f.prototype._readData=function(a){var b=a>0?a:this._raw.byteLength-(this._cursor.offset-this._offset);if(b>0){var c=new Uint8Array(this._raw.buffer,this._cursor.offset,b);return this._cursor.offset+=b,c}return null},f.prototype._readUTF8String=function(){var a=this._raw.byteLength-(this._cursor.offset-this._offset),b=null;return a>0&&(b=new DataView(this._raw.buffer,this._cursor.offset,a),this._cursor.offset+=a),b?d.Utils.dataViewToString(b):b},f.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())},f.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},f.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(f.parse(this))},f.prototype.append=function(a,b){d.Utils.appendBox(this,a,b)},f.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var a=0;a<this.boxes.length;a++)this.size+=this.boxes[a].getLength();return this._data&&this._writeData(this._data),this.size},f.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var a=0;a<this.boxes.length;a++)this.boxes[a].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},f.prototype._writeInt=function(a,b){if(this._rawo){var c=this._cursor.offset-this._rawo.byteOffset;switch(a){case 8:this._rawo.setInt8(c,b);break;case 16:this._rawo.setInt16(c,b);break;case 32:this._rawo.setInt32(c,b);break;case 64:var d=Math.floor(b/Math.pow(2,32)),e=b-d*Math.pow(2,32);this._rawo.setUint32(c,d),this._rawo.setUint32(c+4,e)}this._cursor.offset+=a>>3}else this.size+=a>>3},f.prototype._writeUint=function(a,b){if(this._rawo){var c,d,e=this._cursor.offset-this._rawo.byteOffset;switch(a){case 8:this._rawo.setUint8(e,b);break;case 16:this._rawo.setUint16(e,b);break;case 24:c=(16776960&b)>>8,d=255&b,this._rawo.setUint16(e,c),this._rawo.setUint8(e+2,d);break;case 32:this._rawo.setUint32(e,b);break;case 64:c=Math.floor(b/Math.pow(2,32)),d=b-c*Math.pow(2,32),this._rawo.setUint32(e,c),this._rawo.setUint32(e+4,d)}this._cursor.offset+=a>>3}else this.size+=a>>3},f.prototype._writeString=function(a,b){for(var c=0;c<a;c++)this._writeUint(8,b.charCodeAt(c))},f.prototype._writeTerminatedString=function(a){if(0!==a.length){for(var b=0;b<a.length;b++)this._writeUint(8,a.charCodeAt(b));this._writeUint(8,0)}},f.prototype._writeTemplate=function(a,b){var c=Math.floor(b),d=(b-c)*Math.pow(2,a/2);this._writeUint(a/2,c),this._writeUint(a/2,d)},f.prototype._writeData=function(a){var b;if(a)if(this._rawo){if(a instanceof Array){for(var c=this._cursor.offset-this._rawo.byteOffset,b=0;b<a.length;b++)this._rawo.setInt8(c+b,a[b]);this._cursor.offset+=a.length}a instanceof Uint8Array&&(this._root.bytes.set(a,this._cursor.offset),this._cursor.offset+=a.length)}else this.size+=a.length},f.prototype._writeUTF8String=function(a){var b=d.Utils.utf8ToByteArray(a);if(this._rawo)for(var c=new DataView(this._rawo.buffer,this._cursor.offset,b.length),e=0;e<b.length;e++)c.setUint8(e,b[e]);else this.size+=b.length},f.prototype._writeField=function(a,b,c){switch(a){case"uint":this._writeUint(b,c);break;case"int":this._writeInt(b,c);break;case"template":this._writeTemplate(b,c);break;case"string":-1==b?this._writeTerminatedString(c):this._writeString(b,c);break;case"data":this._writeData(c);break;case"utf8":this._writeUTF8String(c)}},f.prototype._boxProcessors.avc1=f.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},f.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},f.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(a){this._procEntryField(a,"segment_duration","uint",1===this.version?64:32),this._procEntryField(a,"media_time","int",1===this.version?64:32),this._procEntryField(a,"media_rate_integer","int",16),this._procEntryField(a,"media_rate_fraction","int",16)})},f.prototype._boxProcessors.emsg=function(){this._procFullBox(),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("message_data","data",-1)},f.prototype._boxProcessors.free=f.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},f.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},f.prototype._boxProcessors.ftyp=f.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var a=-1;this._parsing&&(a=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",a,"string",4)},f.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},f.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},f.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},f.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},f.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},f.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},f.prototype._boxProcessors.mp4a=f.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},f.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},f.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},f.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},f.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},f.prototype._boxProcessors.sdtp=function(){this._procFullBox();var a=-1;this._parsing&&(a=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",a,"uint",8)},f.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(a){this._parsing||(a.reference=(1&a.reference_type)<<31,a.reference|=2147483647&a.referenced_size,a.sap=(1&a.starts_with_SAP)<<31,a.sap|=(3&a.SAP_type)<<28,a.sap|=268435455&a.SAP_delta_time),this._procEntryField(a,"reference","uint",32),this._procEntryField(a,"subsegment_duration","uint",32),this._procEntryField(a,"sap","uint",32),this._parsing&&(a.reference_type=a.reference>>31&1,a.referenced_size=2147483647&a.reference,a.starts_with_SAP=a.sap>>31&1,a.SAP_type=a.sap>>28&7,a.SAP_delta_time=268435455&a.sap)})},f.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},f.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(a){this._procEntryField(a,"ranges_count","uint",32),this._procSubEntries(a,"ranges",a.ranges_count,function(a){this._procEntryField(a,"level","uint",8),this._procEntryField(a,"range_size","uint",24)})})},f.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},f.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(a){this._procEntryField(a,"sample_delta","uint",32),this._procEntryField(a,"subsample_count","uint",16),this._procSubEntries(a,"subsamples",a.subsample_count,function(a){this._procEntryField(a,"subsample_size","uint",1===this.version?32:16),this._procEntryField(a,"subsample_priority","uint",8),this._procEntryField(a,"discardable","uint",8),this._procEntryField(a,"codec_specific_parameters","uint",32)})})},f.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},f.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},f.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},f.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(a){this._procEntryField(a,"time","uint",1===this.version?64:32),this._procEntryField(a,"moof_offset","uint",1===this.version?64:32),this._procEntryField(a,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(a,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(a,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},f.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},f.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},f.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(a){256&this.flags&&this._procEntryField(a,"sample_duration","uint",32),512&this.flags&&this._procEntryField(a,"sample_size","uint",32),1024&this.flags&&this._procEntryField(a,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(a,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},f.prototype._boxProcessors["url "]=f.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},f.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},f.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},f.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},f.prototype._boxProcessors.vtte=function(){}},{}],12:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a(24)})},{24:24}],13:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){return a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],14:[function(a,b,c){"use strict";var d=Array.isArray,e=Object.keys,f=Object.prototype.hasOwnProperty;b.exports=function a(b,c){if(b===c)return!0;var g,h,i,j=d(b),k=d(c);if(j&&k){if((h=b.length)!=c.length)return!1;for(g=0;g<h;g++)if(!a(b[g],c[g]))return!1;return!0}if(j!=k)return!1;var l=b instanceof Date,m=c instanceof Date;if(l!=m)return!1;if(l&&m)return b.getTime()==c.getTime();var n=b instanceof RegExp,o=c instanceof RegExp;if(n!=o)return!1;if(n&&o)return b.toString()==c.toString();if(b instanceof Object&&c instanceof Object){var p=e(b);if((h=p.length)!==e(c).length)return!1;for(g=0;g<h;g++)if(!f.call(c,p[g]))return!1;for(g=0;g<h;g++)if(i=p[g],!a(b[i],c[i]))return!1;return!0}return!1}},{}],15:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],16:[function(a,b,c){!function(a,b,c,d,e){function f(a){this.node=a}function g(){this.events=[],this.head=null,this.body=null}function h(){this.styling=null,this.layout=null}function i(){this.styles={}}function j(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function k(){this.regions={}}function l(a){this.kind=a,this.begin=null,this.end=null,this.styleAttrs=null,this.regionID=null,this.sets=null,this.timeContainer=null}function m(){l.call(this,"body")}function n(){l.call(this,"div")}function o(){l.call(this,"p")}function p(){l.call(this,"span"),this.space=null}function q(){l.call(this,"span"),this.space=null,this.text=null}function r(){l.call(this,"br")}function s(){this.id=null,this.begin=null,this.end=null,this.styleAttrs=null,this.sets=null}function t(){this.begin=null,this.end=null,this.qname=null,this.value=null}function u(a){return a&&"xml:id"in a.attributes?a.attributes["xml:id"].value||null:null}function v(a){return a&&"region"in a.attributes?a.attributes.region.value:""}function w(a,b){var c=a&&"timeContainer"in a.attributes?a.attributes.timeContainer.value:null;return c&&"par"!==c?"seq"===c?"seq":(K(b,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}function x(a){return a&&"style"in a.attributes?a.attributes.style.value.split(" "):[]}function y(a,b){var c={};if(null!==a)for(var e in a.attributes){var f=a.attributes[e].uri+" "+a.attributes[e].local,g=d.byQName[f];if(void 0!==g){var h=g.parse(a.attributes[e].value);null!==h?(c[f]=h,g===d.byName.zIndex&&J(b,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):K(b,"Cannot parse styling attribute "+f+" --\x3e "+a.attributes[e].value)}}return c}function z(a,b,c){for(var d in a.attributes)if(a.attributes[d].uri===b&&a.attributes[d].local===c)return a.attributes[d].value;return null}function A(a,b){var d=z(a,c.ns_ittp,"aspectRatio"),e=null;if(null!==d){var f=/(\d+) (\d+)/,g=f.exec(d);if(null!==g){var h=parseInt(g[1]),i=parseInt(g[2]);0!==h&&0!==i?e=h/i:K(b,"Illegal aspectRatio values (ignoring)")}else K(b,"Malformed aspectRatio attribute (ignoring)")}return e}function B(a,b){var d=z(a,c.ns_ttp,"cellResolution"),e=15,f=32;if(null!==d){var g=/(\d+) (\d+)/,h=g.exec(d);null!==h?(f=parseInt(h[1]),e=parseInt(h[2])):J(b,"Malformed cellResolution value (using initial value instead)")}return{w:f,h:e}}function C(a,b){var d,e=z(a,c.ns_ttp,"frameRate"),f=30;null!==e&&(d=/(\d+)/.exec(e),null!==d?f=parseInt(d[1]):J(b,"Malformed frame rate attribute (using initial value instead)"));var g=z(a,c.ns_ttp,"frameRateMultiplier"),h=1;null!==g&&(d=/(\d+) (\d+)/.exec(g),null!==d?h=parseInt(d[1])/parseInt(d[2]):J(b,"Malformed frame rate multiplier attribute (using initial value instead)"));var i=h*f,j=1,k=z(a,c.ns_ttp,"tickRate");return null===k?null!==e&&(j=i):(d=/(\d+)/.exec(k),null!==d?j=parseInt(d[1]):J(b,"Malformed tick rate attribute (using initial value instead)")),{effectiveFrameRate:i,tickRate:j}}function D(a,b){var d=z(a,c.ns_tts,"extent");if(null===d)return null;var f=d.split(" ");if(2!==f.length)return J(b,"Malformed extent (ignoring)"),null;var g=e.parseLength(f[0]),h=e.parseLength(f[1]);return h&&g?{h:h,w:g}:(J(b,"Malformed extent values (ignoring)"),null)}function E(a,b,c){var d,e=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,f=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/,g=/^(\d+(?:\.\d+)?)f$/,h=/^(\d+(?:\.\d+)?)t$/,i=/^(\d+(?:\.\d+)?)ms$/,j=/^(\d+(?:\.\d+)?)s$/,k=/^(\d+(?:\.\d+)?)h$/,l=/^(\d+(?:\.\d+)?)m$/,m=null;return null!==(d=g.exec(c))?null!==b&&(m=parseFloat(d[1])/b):null!==(d=h.exec(c))?null!==a&&(m=parseFloat(d[1])/a):null!==(d=i.exec(c))?m=parseFloat(d[1])/1e3:null!==(d=j.exec(c))?m=parseFloat(d[1]):null!==(d=k.exec(c))?m=3600*parseFloat(d[1]):null!==(d=l.exec(c))?m=60*parseFloat(d[1]):null!==(d=e.exec(c))?m=3600*parseInt(d[1])+60*parseInt(d[2])+parseFloat(d[3]):null!==(d=f.exec(c))&&null!==b&&(m=3600*parseInt(d[1])+60*parseInt(d[2])+parseInt(d[3])+(null===d[4]?0:parseInt(d[4])/b)),m}function F(a,b,c,d){var e=b&&"seq"===b.timeContainer,f=0;c&&"begin"in c.attributes&&null===(f=E(a.tickRate,a.effectiveFrameRate,c.attributes.begin.value))&&(J(d,"Malformed begin value "+c.attributes.begin.value+" (using 0)"),f=0);var g=e?0:null;c&&"dur"in c.attributes&&null===(g=E(a.tickRate,a.effectiveFrameRate,c.attributes.dur.value))&&J(d,"Malformed dur value "+c.attributes.dur.value+" (ignoring)");var h=null
;c&&"end"in c.attributes&&null===(h=E(a.tickRate,a.effectiveFrameRate,c.attributes.end.value))&&J(d,"Malformed end value (ignoring)");var i=0;if(b&&(i=e&&"contents"in b&&b.contents.length>0?b.contents[b.contents.length-1].end:b.begin||0),f+=i,null!==g)h=f+g;else{var j=b&&"end"in b?b.end:Number.POSITIVE_INFINITY;h=null!==h?h+i:j}return{begin:f,end:h}}function G(a,b,c){for(;b.styleRefs.length>0;){var d=b.styleRefs.pop();d in a.styles?(G(a,a.styles[d],c),I(a.styles[d].styleAttrs,b.styleAttrs)):K(c,"Non-existant style id referenced")}}function H(a,b,c,d){for(var e=b.length-1;e>=0;e--){var f=b[e];f in a.styles?I(a.styles[f].styleAttrs,c):K(d,"Non-existant style id referenced")}}function I(a,b){for(var c in a)c in b||(b[c]=a[c])}function J(a,b){if(a&&a.warn&&a.warn(b))throw b}function K(a,b){if(a&&a.error&&a.error(b))throw b}function L(a,b){throw a&&a.fatal&&a.fatal(b),b}function M(a,b){for(var c,d=0,e=a.length-1;d<=e;){c=Math.floor((d+e)/2);var f=a[c];if(f<b)d=c+1;else{if(!(f>b))return{found:!0,index:c};e=c-1}}return{found:!1,index:d}}a.fromXML=function(a,d,e){var l=b.parser(!0,{xmlns:!0}),u=[],v=[],w=[],x=0,y=null;l.onclosetag=function(a){if(u[0]instanceof i)for(var b in u[0].styles)G(u[0],u[0].styles[b],d);else if(u[0]instanceof o||u[0]instanceof p){if(u[0].contents.length>1){var g,h=[u[0].contents[0]];for(g=1;g<u[0].contents.length;g++)u[0].contents[g]instanceof q&&h[h.length-1]instanceof q?h[h.length-1].text+=u[0].contents[g].text:h.push(u[0].contents[g]);u[0].contents=h}u[0]instanceof p&&1===u[0].contents.length&&u[0].contents[0]instanceof q&&null===u[0].text&&(u[0].text=u[0].contents[0].text,delete u[0].contents)}else u[0]instanceof f&&(u[0].node.uri===c.ns_tt&&"metadata"===u[0].node.local?x--:x>0&&e&&"onCloseTag"in e&&e.onCloseTag());w.shift(),v.shift(),u.shift()},l.ontext=function(a){if(void 0===u[0]);else if(u[0]instanceof p||u[0]instanceof o){var b=new q;b.initFromText(y,u[0],a,w[0],d),u[0].contents.push(b)}else u[0]instanceof f&&x>0&&e&&"onText"in e&&e.onText(a)},l.onopentag=function(a){var b=a.attributes["xml:space"];b?w.unshift(b.value):0===w.length?w.unshift("default"):w.unshift(w[0]);var l=a.attributes["xml:lang"];if(l?v.unshift(l.value):0===v.length?v.unshift(""):v.unshift(v[0]),a.uri===c.ns_tt)if("tt"===a.local)null!==y&&L("Two <tt> elements at ("+this.line+","+this.column+")"),y=new g,y.initFromNode(a,d),u.unshift(y);else if("head"===a.local)u[0]instanceof g||L("Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==y.head&&L("Second <head> element at ("+this.line+","+this.column+")"),y.head=new h,u.unshift(y.head);else if("styling"===a.local)u[0]instanceof h||L("Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==y.head.styling&&L("Second <styling> element at ("+this.line+","+this.column+")"),y.head.styling=new i,u.unshift(y.head.styling);else if("style"===a.local){var q;u[0]instanceof i?(q=new j,q.initFromNode(a,d),q.id?y.head.styling.styles[q.id]=q:K("<style> element missing @id attribute"),u.unshift(q)):u[0]instanceof s?(q=new j,q.initFromNode(a,d),I(q.styleAttrs,u[0].styleAttrs),u.unshift(q)):L(d,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("layout"===a.local)u[0]instanceof h||L(d,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==y.head.layout&&L(d,"Second <layout> element at "+this.line+","+this.column+")"),y.head.layout=new k,u.unshift(y.head.layout);else if("region"===a.local){u[0]instanceof k||L(d,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var z=new s;z.initFromNode(y,a,d),!z.id||z.id in y.head.layout.regions?K(d,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):(y.head.layout.regions[z.id]=z,y._registerEvent(z)),u.unshift(z)}else if("body"===a.local){u[0]instanceof g||L(d,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==y.body&&L(d,"Second <body> element at "+this.line+","+this.column+")");var A=new m;A.initFromNode(y,a,d),y._registerEvent(A),y.body=A,u.unshift(A)}else if("div"===a.local){u[0]instanceof n||u[0]instanceof m||L(d,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var B=new n;B.initFromNode(y,u[0],a,d),y._registerEvent(B),u[0].contents.push(B),u.unshift(B)}else if("p"===a.local){u[0]instanceof n||L(d,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var C=new o;C.initFromNode(y,u[0],a,d),y._registerEvent(C),u[0].contents.push(C),u.unshift(C)}else if("span"===a.local){u[0]instanceof p||u[0]instanceof o||L(d,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var D=new p;D.initFromNode(y,u[0],a,w[0],d),y._registerEvent(D),u[0].contents.push(D),u.unshift(D)}else if("br"===a.local){u[0]instanceof p||u[0]instanceof o||L(d,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var E=new r;E.initFromNode(y,u[0],a,d),y._registerEvent(E),u[0].contents.push(E),u.unshift(E)}else if("set"===a.local){u[0]instanceof p||u[0]instanceof o||u[0]instanceof n||u[0]instanceof m||u[0]instanceof s||u[0]instanceof r||L(d,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var F=new t;F.initFromNode(y,u[0],a,d),y._registerEvent(F),u[0].sets.push(F),u.unshift(F)}else u.unshift(new f(a));else u.unshift(new f(a));if(u[0]instanceof f)if(a.uri===c.ns_tt&&"metadata"===a.local)x++;else if(x>0&&e&&"onOpenTag"in e){var G=[];for(var H in a.attributes)G[a.attributes[H].uri+" "+a.attributes[H].local]={uri:a.attributes[H].uri,local:a.attributes[H].local,value:a.attributes[H].value};e.onOpenTag(a.uri,a.local,G)}},l.write(a).close(),null!==y.head?delete y.head.styling:y.head=new h,null===y.head.layout&&(y.head.layout=new k);var z=!1;for(var A in y.head.layout.regions){z=!0;break}if(!z){var B=s.createDefaultRegion();y.head.layout.regions[B.id]=B}return y},g.prototype.initFromNode=function(a,b){this.cellResolution=B(a,b);var d=C(a,b);this.effectiveFrameRate=d.effectiveFrameRate,this.tickRate=d.tickRate,this.aspectRatio=A(a,b);var e=z(a,c.ns_ttp,"timeBase");null!==e&&"media"!==e&&L(b,"Unsupported time base");var f=D(a,b);null===f?this.pxDimensions={h:480,w:640}:("px"===f.h.unit&&"px"===f.w.unit||L(b,"Extent on TT must be in px or absent"),this.pxDimensions={h:f.h.value,w:f.w.value})},g.prototype._registerEvent=function(a){if(!(a.end<=a.begin)){var b=M(this.events,a.begin);if(b.found||this.events.splice(b.index,0,a.begin),a.end!==Number.POSITIVE_INFINITY){var c=M(this.events,a.end);c.found||this.events.splice(c.index,0,a.end)}}},g.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},g.prototype.getMediaTimeEvents=function(){return this.events},j.prototype.initFromNode=function(a,b){this.id=u(a),this.styleAttrs=y(a,b),this.styleRefs=x(a)},l.prototype.initFromNode=function(a,b,c,d){var e=F(a,b,c,d);this.begin=e.begin,this.end=e.end,this.styleAttrs=y(c,d),null!==a.head&&null!==a.head.styling&&H(a.head.styling,x(c),this.styleAttrs,d),this.regionID=v(c),this.sets=[],this.timeContainer=w(c,d)},m.prototype.initFromNode=function(a,b,c){l.prototype.initFromNode.call(this,a,null,b,c),this.contents=[]},n.prototype.initFromNode=function(a,b,c,d){l.prototype.initFromNode.call(this,a,b,c,d),this.contents=[]},o.prototype.initFromNode=function(a,b,c,d){l.prototype.initFromNode.call(this,a,b,c,d),this.contents=[]},p.prototype.initFromNode=function(a,b,c,d,e){l.prototype.initFromNode.call(this,a,b,c,e),this.space=d,this.contents=[]},q.prototype.initFromText=function(a,b,c,d,e){l.prototype.initFromNode.call(this,a,b,null,e),this.text=c,this.space=d},r.prototype.initFromNode=function(a,b,c,d){l.prototype.initFromNode.call(this,a,b,c,d)},s.createDefaultRegion=function(){var a=new s;return a.id="",a.begin=0,a.end=Number.POSITIVE_INFINITY,a.styleAttrs={},a.sets=[],a},s.prototype.initFromNode=function(a,b,c){this.id=u(b);var d=F(a,null,b,c);this.begin=d.begin,this.end=d.end,this.styleAttrs=y(b,c),this.sets=[],null!==a.head&&null!==a.head.styling&&H(a.head.styling,x(b),this.styleAttrs,c)},t.prototype.initFromNode=function(a,b,c,d){var e=F(a,b,c,d);this.begin=e.begin,this.end=e.end;var f=y(c,d);for(var g in f){if(this.qname){K(d,"More than one style specified on set");break}this.qname=g,this.value=f[g]}}}(void 0===c?this.imscDoc={}:c,"undefined"==typeof sax?a(42):sax,"undefined"==typeof imscNames?a(20):imscNames,"undefined"==typeof imscStyles?a(21):imscStyles,"undefined"==typeof imscUtils?a(22):imscUtils)},{20:20,21:21,22:22,42:42}],17:[function(a,b,c){!function(a,b,c){function d(a,b,h){var j;if("region"===h.kind?(j=document.createElement("div"),j.style.position="absolute"):"body"===h.kind?j=document.createElement("div"):"div"===h.kind?j=document.createElement("div"):"p"===h.kind?j=document.createElement("p"):"span"===h.kind?j=document.createElement("span"):"br"===h.kind&&(j=document.createElement("br")),!j)return void n(a.errorHandler,"Error processing ISD element kind: "+h.kind);j.style.margin="0";for(var k in o){var l=o[k],m=h.styleAttrs[l.qname];void 0!==m&&null!==l.map&&l.map(a,j,h,m)}var p=j,q=h.styleAttrs[c.byName.multiRowAlign.qname];if(q&&"auto"!==q){var r=document.createElement("span");r.style.display="inline-block",r.style.textAlign=q,j.appendChild(r),p=r,a.mra=q}var s=h.styleAttrs[c.byName.linePadding.qname];if(s&&s>0&&(a.lp=s),"span"===h.kind&&h.text)if(a.lp||a.mra)for(var t=0;t<h.text.length;t++){var u=document.createElement("span");u.textContent=h.text.charAt(t),j.appendChild(u)}else j.textContent=h.text;b.appendChild(j);for(var v in h.contents)d(a,p,h.contents[v]);if((a.lp||a.mra)&&"p"===h.kind){var w=[];f(p,w,"red"),i(w,a.lp*a.h),a.lp&&delete a.lp,a.mra&&delete a.mra}if("region"===h.kind){var x=[];g(p,x);var y=h.styleAttrs[c.byName.writingMode.qname];if(("lrtb"===y||"lr"===y||"rltb"===y||"rl"===y)&&a.enableRollUp&&h.contents.length>0&&"after"===h.styleAttrs[c.byName.displayAlign.qname]){var z=""===h.id?"_":h.id,A=new e(z,x);if(a.currentISDState[A.id]=A,a.previousISDState&&A.id in a.previousISDState&&a.previousISDState[A.id].plist.length>0&&A.plist.length>1&&A.plist[A.plist.length-2].text===a.previousISDState[A.id].plist[a.previousISDState[A.id].plist.length-1].text){var B=j.firstElementChild;B.style.bottom="-"+A.plist[A.plist.length-1].height+"px",B.style.transition="transform 0.4s",B.style.position="relative",B.style.transform="translateY(-"+A.plist[A.plist.length-1].height+"px)"}}}}function e(a,b){this.id=a,this.plist=b}function f(a,b,c){if(0===a.childElementCount)b.push({element:a,bgcolor:c});else for(var d=a.style.backgroundColor||c,e=a.firstChild;e;)e.nodeType===Node.ELEMENT_NODE&&f(e,b,d),e=e.nextSibling}function g(a,b){if(0===a.childElementCount&&"span"===a.localName){var c=a.getBoundingClientRect();0!==b.length&&h(c.top,c.height,b[b.length-1].top,b[b.length-1].height)?(c.top<b[b.length-1].top&&(b[b.length-1].top=c.top),c.height>b[b.length-1].height&&(b[b.length-1].height=c.height),b[b.length-1].text+=a.textContent):b.push({top:c.top,height:c.height,text:a.textContent})}else for(var d=a.firstChild;d;)d.nodeType===Node.ELEMENT_NODE&&g(d,b),d=d.nextSibling}function h(a,b,c,d){return a+b<c+d&&a>c||c+d<=a+b&&c>=a}function i(a,b){for(var c=null,d=!0,e=!1,f=0;f<=a.length;f++)if(f===a.length||"br"!==a[f].element.localName){if(null===c||f===a.length||!h(a[f].element.getBoundingClientRect().top,a[f].element.getBoundingClientRect().height,a[c].element.getBoundingClientRect().top,a[c].element.getBoundingClientRect().height)){if(b&&!d){for(;--f>=0;)if(0!==a[f].element.getBoundingClientRect().width){if(k(a[f].element,a[f].color,b),0!==a[f].element.getBoundingClientRect().width&&h(a[f].element.getBoundingClientRect().top,a[f].element.getBoundingClientRect().height,a[c].element.getBoundingClientRect().top,a[c].element.getBoundingClientRect().height))break;l(a[f].element)}d=!0;continue}if(f!==a.length&&null!==c&&!e){var g=document.createElement("br");a[f].element.parentElement.insertBefore(g,a[f].element),a.splice(f,0,{element:g}),e=!0;continue}if(f!==a.length&&b)for(;f<a.length;f++)if(0!==a[f].element.getBoundingClientRect().width){j(a[f].element,a[f].color,b);break}d=!1,e=!1,c=f}}else e=!0}function j(a,b,c){a.style.paddingLeft=c+"px",a.style.backgroundColor=b}function k(a,b,c){a.style.paddingRight=c+"px",a.style.backgroundColor=b}function l(a){a.style.paddingRight=null}function m(a,b){this.qname=a,this.map=b}function n(a,b){if(a&&a.error&&a.error(b))throw b}a.render=function(a,b,c,e,f,g,h,i,j){var k=e||b.clientHeight,l=f||b.clientWidth;if(null!==a.aspectRatio){var m=k*a.aspectRatio;m>l?k=Math.round(l/a.aspectRatio):l=m}var n=document.createElement("div");n.style.position="relative",n.style.width=l+"px",n.style.height=k+"px",n.style.margin="auto",n.style.top=0,n.style.bottom=0,n.style.left=0,n.style.right=0,n.style.zIndex=0;var o={h:k,w:l,regionH:null,regionW:null,imgResolver:c,displayForcedOnlyMode:g||!1,isd:a,errorHandler:h,previousISDState:i,enableRollUp:j||!1,currentISDState:{}};b.appendChild(n);for(var p in a.contents)d(o,n,a.contents[p]);return o.currentISDState};var o=[new m("http://www.w3.org/ns/ttml#styling backgroundColor",function(a,b,c,d){b.style.backgroundColor="rgba("+d[0].toString()+","+d[1].toString()+","+d[2].toString()+","+(d[3]/255).toString()+")"}),new m("http://www.w3.org/ns/ttml#styling color",function(a,b,c,d){b.style.color="rgba("+d[0].toString()+","+d[1].toString()+","+d[2].toString()+","+(d[3]/255).toString()+")"}),new m("http://www.w3.org/ns/ttml#styling direction",function(a,b,c,d){b.style.direction=d}),new m("http://www.w3.org/ns/ttml#styling display",function(a,b,c,d){}),new m("http://www.w3.org/ns/ttml#styling displayAlign",function(a,b,c,d){b.style.display="flex",b.style.flexDirection="column","before"===d?b.style.justifyContent="flex-start":"center"===d?b.style.justifyContent="center":"after"===d&&(b.style.justifyContent="flex-end")}),new m("http://www.w3.org/ns/ttml#styling extent",function(a,b,c,d){a.regionH=d.h*a.h,a.regionW=d.w*a.w;var e=0,f=0,g=c.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];g&&(e=(g[0]+g[2])*a.h,f=(g[1]+g[3])*a.w),b.style.height=a.regionH-e+"px",b.style.width=a.regionW-f+"px"}),new m("http://www.w3.org/ns/ttml#styling fontFamily",function(a,b,c,d){var e=[];for(var f in d)"monospaceSerif"===d[f]?(e.push("Courier New"),e.push('"Liberation Mono"'),e.push("Courier"),e.push("monospace")):"proportionalSansSerif"===d[f]?(e.push("Arial"),e.push("Helvetica"),e.push('"Liberation Sans"'),e.push("sans-serif")):"monospace"===d[f]?e.push("monospace"):"sansSerif"===d[f]?e.push("sans-serif"):"serif"===d[f]?e.push("serif"):"monospaceSansSerif"===d[f]?(e.push("Consolas"),e.push("monospace")):"proportionalSerif"===d[f]?e.push("serif"):e.push(d[f]);b.style.fontFamily=e.join(",")}),new m("http://www.w3.org/ns/ttml#styling fontSize",function(a,b,c,d){b.style.fontSize=d*a.h+"px"}),new m("http://www.w3.org/ns/ttml#styling fontStyle",function(a,b,c,d){b.style.fontStyle=d}),new m("http://www.w3.org/ns/ttml#styling fontWeight",function(a,b,c,d){b.style.fontWeight=d}),new m("http://www.w3.org/ns/ttml#styling lineHeight",function(a,b,c,d){b.style.lineHeight="normal"===d?"normal":d*a.h+"px"}),new m("http://www.w3.org/ns/ttml#styling opacity",function(a,b,c,d){b.style.opacity=d}),new m("http://www.w3.org/ns/ttml#styling origin",function(a,b,c,d){b.style.top=d.h*a.h+"px",b.style.left=d.w*a.w+"px"}),new m("http://www.w3.org/ns/ttml#styling overflow",function(a,b,c,d){b.style.overflow=d}),new m("http://www.w3.org/ns/ttml#styling padding",function(a,b,c,d){var e=[];e[0]=d[0]*a.h+"px",e[1]=d[3]*a.w+"px",e[2]=d[2]*a.h+"px",e[3]=d[1]*a.w+"px",b.style.padding=e.join(" ")}),new m("http://www.w3.org/ns/ttml#styling showBackground",null),new m("http://www.w3.org/ns/ttml#styling textAlign",function(a,b,d,e){var f,g=d.styleAttrs[c.byName.direction.qname];f="start"===e?"rtl"===g?"right":"left":"end"===e?"rtl"===g?"left":"right":e,b.style.textAlign=f}),new m("http://www.w3.org/ns/ttml#styling textDecoration",function(a,b,c,d){b.style.textDecoration=d.join(" ").replace("lineThrough","line-through")}),new m("http://www.w3.org/ns/ttml#styling textOutline",function(a,b,c,d){b.style.textShadow="none"===d?"":"rgba("+d.color[0].toString()+","+d.color[1].toString()+","+d.color[2].toString()+","+(d.color[3]/255).toString()+") 0px 0px "+d.thickness*a.h+"px"}),new m("http://www.w3.org/ns/ttml#styling unicodeBidi",function(a,b,c,d){var e;e="bidiOverride"===d?"bidi-override":d,b.style.unicodeBidi=e}),new m("http://www.w3.org/ns/ttml#styling visibility",function(a,b,c,d){b.style.visibility=d}),new m("http://www.w3.org/ns/ttml#styling wrapOption",function(a,b,c,d){"wrap"===d?"preserve"===c.space?b.style.whiteSpace="pre-wrap":b.style.whiteSpace="normal":"preserve"===c.space?b.style.whiteSpace="pre":b.style.whiteSpace="noWrap"}),new m("http://www.w3.org/ns/ttml#styling writingMode",function(a,b,c,d){"lrtb"===d||"lr"===d?b.style.writingMode="horizontal-tb":"rltb"===d||"rl"===d?b.style.writingMode="horizontal-tb":"tblr"===d?b.style.writingMode="vertical-lr":"tbrl"!==d&&"tb"!==d||(b.style.writingMode="vertical-rl")}),new m("http://www.w3.org/ns/ttml#styling zIndex",function(a,b,c,d){b.style.zIndex=d}),new m("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(a,b,c,d){if(null!==a.imgResolver&&null!==d){var e=document.createElement("img"),f=a.imgResolver(d,e);f&&(e.src=f),e.height=a.regionH,e.width=a.regionW,b.appendChild(e)}}),new m("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(a,b,c,d){a.displayForcedOnlyMode&&!1===d&&(b.style.visibility="hidden")})],p={};for(var q in o)p[o[q].qname]=o[q]}(void 0===c?this.imscHTML={}:c,"undefined"==typeof imscNames?a(20):imscNames,"undefined"==typeof imscStyles?a(21):imscStyles)},{20:20,21:21}],18:[function(a,b,c){!function(a,b,c){function d(a,b,g,j,k,l,m,n){if(b<m.begin||b>=m.end)return null;var o="regionID"in m&&""!==m.regionID?m.regionID:l;if(null!==k&&o!==g.id&&(!("contents"in m)||"contents"in m&&0===m.contents.length||""!==o))return null;var p=new h(m);for(var q in m.sets)b<m.sets[q].begin||b>=m.sets[q].end||(p.styleAttrs[m.sets[q].qname]=m.sets[q].value);var r={};for(var s in p.styleAttrs)if(r[s]=!0,s===c.byName.writingMode.qname&&!(c.byName.direction.qname in p.styleAttrs)){var t=p.styleAttrs[s];"lrtb"===t||"lr"===t?p.styleAttrs[c.byName.direction.qname]="ltr":"rltb"!==t&&"rl"!==t||(p.styleAttrs[c.byName.direction.qname]="rtl")}if(null!==k)for(var u in c.all){var v=c.all[u];if(v.qname===c.byName.textDecoration.qname){var w=k.styleAttrs[v.qname],x=p.styleAttrs[v.qname],y=[];void 0===x?y=w:-1===x.indexOf("none")?((-1===x.indexOf("noUnderline")&&-1!==w.indexOf("underline")||-1!==x.indexOf("underline"))&&y.push("underline"),(-1===x.indexOf("noLineThrough")&&-1!==w.indexOf("lineThrough")||-1!==x.indexOf("lineThrough"))&&y.push("lineThrough"),(-1===x.indexOf("noOverline")&&-1!==w.indexOf("overline")||-1!==x.indexOf("overline"))&&y.push("overline")):y.push("none"),p.styleAttrs[v.qname]=y}else v.inherit&&v.qname in k.styleAttrs&&!(v.qname in p.styleAttrs)&&(p.styleAttrs[v.qname]=k.styleAttrs[v.qname])}for(var z in c.all){var A=c.all[z];A.qname in p.styleAttrs||("region"===p.kind||!1===A.inherit&&null!==A.initial)&&(p.styleAttrs[A.qname]=A.parse(A.initial),r[A.qname]=!0)}for(var B in c.all){var C=c.all[B];if(C.qname in r&&null!==C.compute){var D=C.compute(a,k,p,p.styleAttrs[C.qname]);null!==D?p.styleAttrs[C.qname]=D:i(n,"Style '"+C.qname+"' on element '"+p.kind+"' cannot be computed")}}if("none"===p.styleAttrs[c.byName.display.qname])return null;var E;null===k?E=null===j?[]:[j]:"contents"in m&&(E=m.contents);for(var F in E){var G=d(a,b,g,j,p,o,E[F]);null!==G&&p.contents.push(G.element)}for(var H in p.styleAttrs)-1===c.byQName[H].applies.indexOf(p.kind)&&delete p.styleAttrs[H];if("span"===p.kind&&p.text&&"default"===p.space){var I=p.text.replace(/\s+/g," ");p.text=I}if("p"===p.kind){var J=[];e(p,J);for(var K=0,L="after_br",M=0;;)if("after_br"===L)K>=J.length||"br"===J[K].kind?(L="before_br",M=K,K--):("preserve"!==J[K].space&&(J[K].text=J[K].text.replace(/^\s+/g,"")),J[K].text.length>0?(L="looking_br",K++):J.splice(K,1));else if("before_br"===L)if(K<0||"br"===J[K].kind){if(L="after_br",(K=M+1)>=J.length)break}else if("preserve"!==J[K].space&&(J[K].text=J[K].text.replace(/\s+$/g,"")),J[K].text.length>0){if(L="after_br",(K=M+1)>=J.length)break}else J.splice(K,1),K--;else K>=J.length||"br"===J[K].kind?(L="before_br",M=K,K--):K++;f(p)}return"div"===p.kind&&c.byName.backgroundImage.qname in p.styleAttrs||"br"===p.kind||"contents"in p&&p.contents.length>0||"span"===p.kind&&null!==p.text||"region"===p.kind&&"always"===p.styleAttrs[c.byName.showBackground.qname]?{region_id:o,element:p}:null}function e(a,b){if("contents"in a)for(var c in a.contents)e(a.contents[c],b);else b.push(a)}function f(a){if("br"===a.kind)return!1;if("text"in a)return 0===a.text.length;if("contents"in a){for(var b=a.contents.length;b--;)f(a.contents[b])&&a.contents.splice(b,1);return 0===a.contents.length}}function g(a){this.contents=[],this.aspectRatio=a.aspectRatio}function h(a){this.kind=a.kind||"region",a.id&&(this.id=a.id),this.styleAttrs={};for(var b in a.styleAttrs)this.styleAttrs[b]=a.styleAttrs[b];"text"in a?this.text=a.text:"br"!==a.kind&&(this.contents=[]),"space"in a&&(this.space=a.space)}function i(a,b){if(a&&a.error&&a.error(b))throw b}a.generateISD=function(a,b,c){var e=new g(a);for(var f in a.head.layout.regions){var h=d(a,b,a.head.layout.regions[f],a.body,null,"",a.head.layout.regions[f],c);null!==h&&e.contents.push(h.element)}return e}}(void 0===c?this.imscISD={}:c,"undefined"==typeof imscNames?a(20):imscNames,"undefined"==typeof imscStyles?a(21):imscStyles)},{20:20,21:21}],19:[function(a,b,c){c.generateISD=a(18).generateISD,c.fromXML=a(16).fromXML,c.renderHTML=a(17).render},{16:16,17:17,18:18}],20:[function(a,b,c){!function(a){a.ns_tt="http://www.w3.org/ns/ttml",a.ns_tts="http://www.w3.org/ns/ttml#styling",a.ns_ttp="http://www.w3.org/ns/ttml#parameter",a.ns_xml="http://www.w3.org/XML/1998/namespace",a.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",a.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",a.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",a.ns_ebutts="urn:ebu:tt:style"}(void 0===c?this.imscNames={}:c)},{}],21:[function(a,b,c){!function(a,b,c){function d(a,b,c,d,e,f,g,h){this.name=b,this.ns=a,this.qname=a+" "+b,this.inherit=e,this.animatable=f,this.initial=c,this.applies=d,this.parse=g,this.compute=h}a.all=[new d(b.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,c.parseColor,null),new d(b.ns_tts,"color","white",["span"],!0,!0,c.parseColor,null),new d(b.ns_tts,"direction","ltr",["p","span"],!0,!0,function(a){return a},null),new d(b.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(a){return a},null),new d(b.ns_tts,"displayAlign","before",["region"],!1,!0,function(a){return a},null),new d(b.ns_tts,"extent","auto",["tt","region"],!1,!0,function(a){if("auto"===a)return a;var b=a.split(" ");if(2!==b.length)return null;var d=c.parseLength(b[0]),e=c.parseLength(b[1]);return e&&d?{h:e,w:d}:null},function(a,b,c,d){var e,f;if("auto"===d)e=1;else if("%"===d.h.unit)e=d.h.value/100;else{if("px"!==d.h.unit)return null;e=d.h.value/a.pxDimensions.h}if("auto"===d)f=1;else if("%"===d.w.unit)f=d.w.value/100;else{if("px"!==d.w.unit)return null;f=d.w.value/a.pxDimensions.w}return{h:e,w:f}}),new d(b.ns_tts,"fontFamily","default",["span"],!0,!0,function(a){var b=a.split(","),c=[];for(var d in b)"'"!==b[d].charAt(0)&&'"'!==b[d].charAt(0)&&"default"===b[d]?c.push("monospaceSerif"):c.push(b[d]);return c},null),new d(b.ns_tts,"fontSize","1c",["span"],!0,!0,c.parseLength,function(b,c,d,e){var f;if("%"===e.unit)f=null!==c?c.styleAttrs[a.byName.fontSize.qname]*e.value/100:e.value/100/b.cellResolution.h;else if("em"===e.unit)f=null!==c?c.styleAttrs[a.byName.fontSize.qname]*e.value:e.value/b.cellResolution.h;else if("c"===e.unit)f=e.value/b.cellResolution.h;else{if("px"!==e.unit)return null;f=e.value/b.pxDimensions.h}return f}),new d(b.ns_tts,"fontStyle","normal",["span"],!0,!0,function(a){return a},null),new d(b.ns_tts,"fontWeight","normal",["span"],!0,!0,function(a){return a},null),new d(b.ns_tts,"lineHeight","normal",["p"],!0,!0,function(a){return"normal"===a?a:c.parseLength(a)},function(b,c,d,e){var f;if("normal"===e)f=e;else if("%"===e.unit)f=d.styleAttrs[a.byName.fontSize.qname]*e.value/100;else if("em"===e.unit)f=d.styleAttrs[a.byName.fontSize.qname]*e.value;else if("c"===e.unit)f=e.value/b.cellResolution.h;else{if("px"!==e.unit)return null;f=e.value/b.pxDimensions.h}return f}),new d(b.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new d(b.ns_tts,"origin","auto",["region"],!1,!0,function(a){if("auto"===a)return a;var b=a.split(" ");if(2!==b.length)return null;var d=c.parseLength(b[0]),e=c.parseLength(b[1]);return e&&d?{h:e,w:d}:null},function(a,b,c,d){var e,f;if("auto"===d)e=0;else if("%"===d.h.unit)e=d.h.value/100;else{if("px"!==d.h.unit)return null;e=d.h.value/a.pxDimensions.h}if("auto"===d)f=0;else if("%"===d.w.unit)f=d.w.value/100;else{if("px"!==d.w.unit)return null;f=d.w.value/a.pxDimensions.w}return{h:e,w:f}}),new d(b.ns_tts,"overflow","hidden",["region"],!1,!0,function(a){return a},null),new d(b.ns_tts,"padding","0px",["region"],!1,!0,function(a){var b=a.split(" ");if(b.length>4)return null;var d=[];for(var e in b){var f=c.parseLength(b[e]);if(!f)return null;d.push(f)}return d},function(b,c,d,e){var f;if(1===e.length)f=[e[0],e[0],e[0],e[0]];else if(2===e.length)f=[e[0],e[1],e[0],e[1]];else if(3===e.length)f=[e[0],e[1],e[2],e[1]];else{if(4!==e.length)return null;f=[e[0],e[1],e[2],e[3]]}var g=d.styleAttrs[a.byName.writingMode.qname];if("lrtb"===g||"lr"===g)f=[f[0],f[3],f[2],f[1]];else if("rltb"===g||"rl"===g)f=[f[0],f[1],f[2],f[3]];else if("tblr"===g)f=[f[3],f[0],f[1],f[2]];else{if("tbrl"!==g&&"tb"!==g)return null;f=[f[3],f[2],f[1],f[0]]}var h=[];for(var i in f)if(0===f[i].value)h[i]=0;else if("%"===f[i].unit)h[i]="0"===i||"2"===i?d.styleAttrs[a.byName.extent.qname].h*f[i].value/100:d.styleAttrs[a.byName.extent.qname].w*f[i].value/100;else if("em"===f[i].unit)h[i]=d.styleAttrs[a.byName.fontSize.qname]*f[i].value;else if("c"===f[i].unit)h[i]=f[i].value/b.cellResolution.h;else{if("px"!==f[i].unit)return null;h[i]=f[i].value/b.pxDimensions.h}return h}),new d(b.ns_tts,"showBackground","always",["region"],!1,!0,function(a){return a},null),new d(b.ns_tts,"textAlign","start",["p"],!0,!0,function(a){return a},function(a,b,c,d){return"left"===d?"start":"right"===d?"end":d}),new d(b.ns_tts,"textDecoration","none",["span"],!0,!0,function(a){return a.split(" ")},null),new d(b.ns_tts,"textOutline","none",["span"],!0,!0,function(a){if("none"===a)return a;var b={},d=a.split(" ");if(0===d.length||d.length>2)return null;var e=c.parseColor(d[0]);if(b.color=e,null!==e&&d.shift(),1!==d.length)return null;var f=c.parseLength(d[0]);return f?(b.thickness=f,b):null},function(b,c,d,e){if("none"===e)return e;var f={};if(null===e.color?f.color=d.styleAttrs[a.byName.color.qname]:f.color=e.color,"%"===e.thickness.unit)f.thickness=d.styleAttrs[a.byName.fontSize.qname]*e.thickness.value/100;else if("em"===e.thickness.unit)f.thickness=d.styleAttrs[a.byName.fontSize.qname]*e.thickness.value;else if("c"===e.thickness.unit)f.thickness=e.thickness.value/b.cellResolution.h;else{if("px"!==e.thickness.unit)return null;f.thickness=e.thickness.value/b.pxDimensions.h}return f}),new d(b.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(a){return a},null),new d(b.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(a){return a},null),new d(b.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(a){return a},null),new d(b.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(a){return a},null),new d(b.ns_tts,"zIndex","auto",["region"],!1,!0,function(a){var b;return"auto"===a?b=a:(b=parseInt(a),isNaN(b)&&(b=null)),b},null),new d(b.ns_ebutts,"linePadding","0c",["p"],!0,!1,c.parseLength,function(a,b,c,d){return"c"===d.unit?d.value/a.cellResolution.h:null}),new d(b.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(a){return a},null),new d(b.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(a){return a},null),new d(b.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(a){return"true"===a},null)],a.byQName={};for(var e in a.all)a.byQName[a.all[e].qname]=a.all[e];a.byName={};for(var f in a.all)a.byName[a.all[f].name]=a.all[f]}(void 0===c?this.imscStyles={}:c,"undefined"==typeof imscNames?a(20):imscNames,"undefined"==typeof imscUtils?a(22):imscUtils)},{20:20,22:22}],22:[function(a,b,c){!function(a){var b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,c=/rgb\((\d+),(\d+),(\d+)\)/,d=/rgba\((\d+),(\d+),(\d+),(\d+)\)/,e={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};a.parseColor=function(a){var f,g=null;return a in e?g=e[a]:null!==(f=b.exec(a))?g=[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16),void 0!==f[4]?parseInt(f[4],16):255]:null!==(f=c.exec(a))?g=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),255]:null!==(f=d.exec(a))&&(g=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),parseInt(f[4])]),g};var f=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;a.parseLength=function(a){var b,c=null;return null!==(b=f.exec(a))&&(c={value:parseFloat(b[1]),unit:b[2]}),c}}(void 0===c?this.imscUtils={}:c)},{}],23:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],24:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],25:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],26:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports={nextTick:c}:b.exports=a}).call(this,a(27))},{27:27}],27:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}
function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],28:[function(a,b,c){b.exports=a(29)},{29:29}],29:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);j.call(this,a),k.call(this,a),a&&!1===a.readable&&(this.readable=!1),a&&!1===a.writable&&(this.writable=!1),this.allowHalfOpen=!0,a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||g.nextTick(f,this)}function f(a){a.end()}var g=a(26),h=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var i=a(12);i.inherits=a(23);var j=a(31),k=a(33);i.inherits(d,j);for(var l=h(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),d.prototype._destroy=function(a,b){this.push(null),this.end(),g.nextTick(b,a)}},{12:12,23:23,26:26,31:31,33:33}],30:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);e.call(this,a)}b.exports=d;var e=a(32),f=a(12);f.inherits=a(23),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{12:12,23:23,32:32}],31:[function(a,b,c){(function(c,d){"use strict";function e(a){return L.from(a)}function f(a){return L.isBuffer(a)||a instanceof M}function g(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?I(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}function h(b,c){H=H||a(29),b=b||{};var d=c instanceof H;this.objectMode=!!b.objectMode,d&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var e=b.highWaterMark,f=b.readableHighWaterMark,g=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:d&&(f||0===f)?f:g,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(Q||(Q=a(44).StringDecoder),this.decoder=new Q(b.encoding),this.encoding=b.encoding)}function i(b){if(H=H||a(29),!(this instanceof i))return new i(b);this._readableState=new h(b,this),this.readable=!0,b&&("function"==typeof b.read&&(this._read=b.read),"function"==typeof b.destroy&&(this._destroy=b.destroy)),K.call(this)}function j(a,b,c,d,f){var g=a._readableState;if(null===b)g.reading=!1,p(a,g);else{var h;f||(h=l(g,b)),h?a.emit("error",h):g.objectMode||b&&b.length>0?("string"==typeof b||g.objectMode||Object.getPrototypeOf(b)===L.prototype||(b=e(b)),d?g.endEmitted?a.emit("error",new Error("stream.unshift() after end event")):k(a,g,b,!0):g.ended?a.emit("error",new Error("stream.push() after EOF")):(g.reading=!1,g.decoder&&!c?(b=g.decoder.write(b),g.objectMode||0!==b.length?k(a,g,b,!1):s(a,g)):k(a,g,b,!1))):d||(g.reading=!1)}return m(g)}function k(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&q(a)),s(a,b)}function l(a,b){var c;return f(b)||"string"==typeof b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function m(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function n(a){return a>=U?a=U:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function o(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=n(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function p(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,q(a)}}function q(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(P("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?G.nextTick(r,a):r(a))}function r(a){P("emit readable"),a.emit("readable"),y(a)}function s(a,b){b.readingMore||(b.readingMore=!0,G.nextTick(t,a,b))}function t(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(P("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function u(a){return function(){var b=a._readableState;P("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&J(a,"data")&&(b.flowing=!0,y(a))}}function v(a){P("readable nexttick read 0"),a.read(0)}function w(a,b){b.resumeScheduled||(b.resumeScheduled=!0,G.nextTick(x,a,b))}function x(a,b){b.reading||(P("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),y(a),b.flowing&&!b.reading&&a.read(0)}function y(a){var b=a._readableState;for(P("flow",b.flowing);b.flowing&&null!==a.read(););}function z(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=A(a,b.buffer,b.decoder),c}function A(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?B(a,b):C(a,b),d}function B(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(g===f.length?e+=f:e+=f.slice(0,a),0==(a-=g)){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function C(a,b){var c=L.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),0==(a-=g)){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function D(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,G.nextTick(E,b,a))}function E(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function F(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}var G=a(26);b.exports=i;var H,I=a(25);i.ReadableState=h;var J=(a(13).EventEmitter,function(a,b){return a.listeners(b).length}),K=a(36),L=a(41).Buffer,M=d.Uint8Array||function(){},N=a(12);N.inherits=a(23);var O=a(8),P=void 0;P=O&&O.debuglog?O.debuglog("stream"):function(){};var Q,R=a(34),S=a(35);N.inherits(i,K);var T=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),i.prototype.destroy=S.destroy,i.prototype._undestroy=S.undestroy,i.prototype._destroy=function(a,b){this.push(null),b(a)},i.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&(b=b||d.defaultEncoding,b!==d.encoding&&(a=L.from(a,b),b=""),c=!0),j(this,a,b,!1,c)},i.prototype.unshift=function(a){return j(this,a,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(b){return Q||(Q=a(44).StringDecoder),this._readableState.decoder=new Q(b),this._readableState.encoding=b,this};var U=8388608;i.prototype.read=function(a){P("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return P("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?D(this):q(this),null;if(0===(a=o(a,b))&&b.ended)return 0===b.length&&D(this),null;var d=b.needReadable;P("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,P("length less than watermark",d)),b.ended||b.reading?(d=!1,P("reading or ended",d)):d&&(P("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=o(c,b)));var e;return e=a>0?z(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&D(this)),null!==e&&this.emit("data",e),e},i.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(a,b){function d(a,b){P("onunpipe"),a===m&&b&&!1===b.hasUnpiped&&(b.hasUnpiped=!0,f())}function e(){P("onend"),a.end()}function f(){P("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",q),a.removeListener("error",i),a.removeListener("unpipe",d),m.removeListener("end",e),m.removeListener("end",l),m.removeListener("data",h),r=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||q()}function h(b){P("ondata"),s=!1,!1!==a.write(b)||s||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==F(n.pipes,a))&&!r&&(P("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,s=!0),m.pause())}function i(b){P("onerror",b),l(),a.removeListener("error",i),0===J(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){P("onfinish"),a.removeListener("close",j),l()}function l(){P("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,P("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||!1!==b.end)&&a!==c.stdout&&a!==c.stderr,p=o?e:l;n.endEmitted?G.nextTick(p):m.once("end",p),a.on("unpipe",d);var q=u(m);a.on("drain",q);var r=!1,s=!1;return m.on("data",h),g(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(P("pipe resume"),m.resume()),a},i.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c),this);if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,c);return this}var g=F(b.pipes,a);return-1===g?this:(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c),this)},i.prototype.on=function(a,b){var c=K.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&q(this):G.nextTick(v,this))}return c},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var a=this._readableState;return a.flowing||(P("resume"),a.flowing=!0,w(this,a)),this},i.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(a){var b=this,c=this._readableState,d=!1;a.on("end",function(){if(P("wrapped end"),c.decoder&&!c.ended){var a=c.decoder.end();a&&a.length&&b.push(a)}b.push(null)}),a.on("data",function(e){P("wrapped data"),c.decoder&&(e=c.decoder.write(e)),(!c.objectMode||null!==e&&void 0!==e)&&(c.objectMode||e&&e.length)&&(b.push(e)||(d=!0,a.pause()))});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<T.length;f++)a.on(T[f],this.emit.bind(this,T[f]));return this._read=function(b){P("wrapped _read",b),d&&(d=!1,a.resume())},this},i._fromList=z}).call(this,a(27),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12,13:13,23:23,25:25,26:26,27:27,29:29,34:34,35:35,36:36,41:41,44:44,8:8}],32:[function(a,b,c){"use strict";function d(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,null!=b&&this.push(b),d(a);var e=this._readableState;e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}function e(a){if(!(this instanceof e))return new e(a);h.call(this,a),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",f)}function f(){var a=this;"function"==typeof this._flush?this._flush(function(b,c){g(a,b,c)}):g(this,null,null)}function g(a,b,c){if(b)return a.emit("error",b);if(null!=c&&a.push(c),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=e;var h=a(29),i=a(12);i.inherits=a(23),i.inherits(e,h),e.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},e.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},e.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},e.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},e.prototype._destroy=function(a,b){var c=this;h.prototype._destroy.call(this,a,function(a){b(a),c.emit("close")})}},{12:12,23:23,29:29}],33:[function(a,b,c){(function(c,d){"use strict";function e(a){var b=this;this.next=null,this.entry=null,this.finish=function(){A(b,a)}}function f(a){return H.from(a)}function g(a){return H.isBuffer(a)||a instanceof I}function h(){}function i(b,c){C=C||a(29),b=b||{};var d=c instanceof C;this.objectMode=!!b.objectMode,d&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var f=b.highWaterMark,g=b.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=f||0===f?f:d&&(g||0===g)?g:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===b.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){r(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function j(b){if(C=C||a(29),!(K.call(j,this)||this instanceof C))return new j(b);this._writableState=new i(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev),"function"==typeof b.destroy&&(this._destroy=b.destroy),"function"==typeof b.final&&(this._final=b.final)),G.call(this)}function k(a,b){var c=new Error("write after end");a.emit("error",c),B.nextTick(b,c)}function l(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),B.nextTick(d,f),e=!1),e}function m(a,b,c){return a.objectMode||!1===a.decodeStrings||"string"!=typeof b||(b=H.from(b,c)),b}function n(a,b,c,d,e,f){if(!c){var g=m(b,d,e);d!==g&&(c=!0,e="buffer",d=g)}var h=b.objectMode?1:d.length;b.length+=h;var i=b.length<b.highWaterMark;if(i||(b.needDrain=!0),b.writing||b.corked){var j=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},j?j.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else o(a,b,!1,h,d,e,f);return i}function o(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function p(a,b,c,d,e){--b.pendingcb,c?(B.nextTick(e,d),B.nextTick(y,a,b),a._writableState.errorEmitted=!0,a.emit("error",d)):(e(d),a._writableState.errorEmitted=!0,a.emit("error",d),y(a,b))}function q(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function r(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(q(c),b)p(a,c,d,b,e);else{var f=v(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||u(a,c),d?D(s,a,c,f,e):s(a,c,f,e)}}function s(a,b,c,d){c||t(a,b),b.pendingcb--,d(),y(a,b)}function t(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function u(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,f=new Array(d),g=b.corkedRequestsFree;g.entry=c;for(var h=0,i=!0;c;)f[h]=c,c.isBuf||(i=!1),c=c.next,h+=1;f.allBuffers=i,o(a,b,!0,b.length,f,"",g.finish),b.pendingcb++,b.lastBufferedRequest=null,g.next?(b.corkedRequestsFree=g.next,g.next=null):b.corkedRequestsFree=new e(b),b.bufferedRequestCount=0}else{for(;c;){var j=c.chunk,k=c.encoding,l=c.callback;if(o(a,b,!1,b.objectMode?1:j.length,j,k,l),c=c.next,b.bufferedRequestCount--,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequest=c,b.bufferProcessing=!1}function v(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function w(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),y(a,b)})}function x(a,b){b.prefinished||b.finalCalled||("function"==typeof a._final?(b.pendingcb++,b.finalCalled=!0,B.nextTick(w,a,b)):(b.prefinished=!0,a.emit("prefinish")))}function y(a,b){var c=v(b);return c&&(x(a,b),0===b.pendingcb&&(b.finished=!0,a.emit("finish"))),c}function z(a,b,c){b.ending=!0,y(a,b),c&&(b.finished?B.nextTick(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function A(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}var B=a(26);b.exports=j;var C,D=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:B.nextTick;j.WritableState=i;var E=a(12);E.inherits=a(23);var F={deprecate:a(45)},G=a(36),H=a(41).Buffer,I=d.Uint8Array||function(){},J=a(35);E.inherits(j,G),i.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(i.prototype,"buffer",{get:F.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}();var K;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(a){return!!K.call(this,a)||this===j&&a&&a._writableState instanceof i}})):K=function(a){return a instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function(a,b,c){var d=this._writableState,e=!1,i=!d.objectMode&&g(a);return i&&!H.isBuffer(a)&&(a=f(a)),"function"==typeof b&&(c=b,b=null),i?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=h),d.ended?k(this,c):(i||l(this,d,a,c))&&(d.pendingcb++,e=n(this,d,i,a,b,c)),e},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||u(this,a))},j.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},j.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||z(this,d,c)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),j.prototype.destroy=J.destroy,j.prototype._undestroy=J.undestroy,j.prototype._destroy=function(a,b){this.end(),b(a)}}).call(this,a(27),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12,23:23,26:26,27:27,29:29,35:35,36:36,41:41,45:45}],34:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){a.copy(b,c)}var f=a(41).Buffer,g=a(8);b.exports=function(){function a(){d(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},a.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},a.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},a.prototype.concat=function(a){if(0===this.length)return f.alloc(0);if(1===this.length)return this.head.data;for(var b=f.allocUnsafe(a>>>0),c=this.head,d=0;c;)e(c.data,b,d),d+=c.data.length,c=c.next;return b},a}(),g&&g.inspect&&g.inspect.custom&&(b.exports.prototype[g.inspect.custom]=function(){var a=g.inspect({length:this.length});return this.constructor.name+" "+a})},{41:41,8:8}],35:[function(a,b,c){"use strict";function d(a,b){var c=this,d=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return d||e?(b?b(a):!a||this._writableState&&this._writableState.errorEmitted||g.nextTick(f,this,a),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?(g.nextTick(f,c,a),c._writableState&&(c._writableState.errorEmitted=!0)):b&&b(a)}),this)}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(a,b){a.emit("error",b)}var g=a(26);b.exports={destroy:d,undestroy:e}},{26:26}],36:[function(a,b,c){b.exports=a(13).EventEmitter},{13:13}],37:[function(a,b,c){b.exports=a(38).PassThrough},{38:38}],38:[function(a,b,c){c=b.exports=a(31),c.Stream=c,c.Readable=c,c.Writable=a(33),c.Duplex=a(29),c.Transform=a(32),c.PassThrough=a(30)},{29:29,30:30,31:31,32:32,33:33}],39:[function(a,b,c){b.exports=a(38).Transform},{38:38}],40:[function(a,b,c){b.exports=a(33)},{33:33}],41:[function(a,b,c){function d(a,b){for(var c in a)b[c]=a[c]}function e(a,b,c){return g(a,b,c)}var f=a(10),g=f.Buffer;g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?b.exports=f:(d(f,c),c.Buffer=e),d(g,e),e.from=function(a,b,c){if("number"==typeof a)throw new TypeError("Argument must not be a number");return g(a,b,c)},e.alloc=function(a,b,c){if("number"!=typeof a)throw new TypeError("Argument must be a number");var d=g(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},e.allocUnsafe=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return g(a)},e.allocUnsafeSlow=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return f.SlowBuffer(a)}},{10:10}],42:[function(a,b,c){(function(b){!function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);var e=this;f(e),e.q=e.c="",e.bufferCheckPosition=c.MAX_BUFFER_LENGTH,e.opt=b||{},e.opt.lowercase=e.opt.lowercase||e.opt.lowercasetags,e.looseCase=e.opt.lowercase?"toLowerCase":"toUpperCase",e.tags=[],e.closed=e.closedRoot=e.sawRoot=!1,e.tag=e.error=null,e.strict=!!a,e.noscript=!(!a&&!e.opt.noscript),e.state=U.BEGIN,e.strictEntities=e.opt.strictEntities,e.ENTITIES=e.strictEntities?Object.create(c.XML_ENTITIES):Object.create(c.ENTITIES),e.attribList=[],e.opt.xmlns&&(e.ns=Object.create(P)),e.trackPosition=!1!==e.opt.position,e.trackPosition&&(e.position=e.line=e.column=0),n(e,"onready")}function e(a){for(var b=Math.max(c.MAX_BUFFER_LENGTH,10),d=0,e=0,f=D.length;e<f;e++){var g=a[D[e]].length;if(g>b)switch(D[e]){case"textNode":p(a);break;case"cdata":o(a,"oncdata",a.cdata),a.cdata="";break;case"script":o(a,"onscript",a.script),a.script="";break;default:r(a,"Max buffer length exceeded: "+D[e])}d=Math.max(d,g)}var h=c.MAX_BUFFER_LENGTH-d;a.bufferCheckPosition=h+a.position}function f(a){for(var b=0,c=D.length;b<c;b++)a[D[b]]=""}function g(a){p(a),""!==a.cdata&&(o(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(o(a,"onscript",a.script),a.script="")}function h(a,b){return new i(a,b)}function i(a,b){if(!(this instanceof i))return new i(a,b);E.apply(this),this._parser=new d(a,b),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,F.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){if(!b)return c.removeAllListeners(a),c._parser["on"+a]=b,b;c.on(a,b)},enumerable:!0,configurable:!1})})}function j(a){return a.split("").reduce(function(a,b){return a[b]=!0,a},{})}function k(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function l(a,b){return k(a)?!!b.match(a):a[b]}function m(a,b){return!l(a,b)}function n(a,b,c){a[b]&&a[b](c)}function o(a,b,c){a.textNode&&p(a),n(a,b,c)}function p(a){a.textNode=q(a.opt,a.textNode),a.textNode&&n(a,"ontext",a.textNode),a.textNode=""}function q(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function r(a,b){return p(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,n(a,"onerror",b),a}function s(a){return a.sawRoot&&!a.closedRoot&&t(a,"Unclosed root tag"),a.state!==U.BEGIN&&a.state!==U.BEGIN_WHITESPACE&&a.state!==U.TEXT&&r(a,"Unexpected end"),p(a),a.c="",a.closed=!0,n(a,"onend"),d.call(a,a.strict,a.opt),a}function t(a,b){if("object"!=typeof a||!(a instanceof d))throw new Error("bad call to strictFail");a.strict&&r(a,b)}function u(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0,o(a,"onopentagstart",c)}function v(a,b){var c=a.indexOf(":"),d=c<0?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function w(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),-1!==a.attribList.indexOf(a.attribName)||a.tag.attributes.hasOwnProperty(a.attribName))return void(a.attribName=a.attribValue="");if(a.opt.xmlns){var b=v(a.attribName,!0),c=b.prefix,d=b.local;if("xmlns"===c)if("xml"===d&&a.attribValue!==N)t(a,"xml: prefix must be bound to "+N+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==O)t(a,"xmlns: prefix must be bound to "+O+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,o(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function x(a,b){if(a.opt.xmlns){var c=a.tag,d=v(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(t(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){o(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;f<g;f++){var h=a.attribList[f],i=h[0],j=h[1],k=v(i,!0),l=k.prefix,m=k.local,n=""===l?"":c.ns[l]||"",p={name:i,value:j,prefix:l,local:m,uri:n};l&&"xmlns"!==l&&!n&&(t(a,"Unbound namespace prefix: "+JSON.stringify(l)),p.uri=l),a.tag.attributes[i]=p,o(a,"onattribute",p)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),o(a,"onopentag",a.tag),b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=U.TEXT:a.state=U.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function y(a){if(!a.tagName)return t(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=U.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=U.SCRIPT);o(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--&&a.tags[b].name!==d;)t(a,"Unexpected close tag");if(b<0)return t(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=U.TEXT);a.tagName=c;for(var e=a.tags.length;e-- >b;){var f=a.tag=a.tags.pop();a.tagName=a.tag.name,o(a,"onclosetag",a.tagName);var g={};for(var h in f.ns)g[h]=f.ns[h];var i=a.tags[a.tags.length-1]||a;a.opt.xmlns&&f.ns!==i.ns&&Object.keys(f.ns).forEach(function(b){var c=f.ns[b];o(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=U.TEXT}function z(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),e.toLowerCase()!==c?(t(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function A(a,b){"<"===b?(a.state=U.OPEN_WAKA,a.startTagPosition=a.position):m(G,b)&&(t(a,"Non-whitespace before first tag."),a.textNode=b,a.state=U.TEXT)}function B(a,b){var c="";return b<a.length&&(c=a.charAt(b)),c}function C(a){var b=this;if(this.error)throw this.error;if(b.closed)return r(b,"Cannot write after close. Assign an onready handler.");if(null===a)return s(b);"object"==typeof a&&(a=a.toString());for(var c=0,d="";d=B(a,c++),b.c=d,d;)switch(b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++),b.state){case U.BEGIN:
if(b.state=U.BEGIN_WHITESPACE,"\ufeff"===d)continue;A(b,d);continue;case U.BEGIN_WHITESPACE:A(b,d);continue;case U.TEXT:if(b.sawRoot&&!b.closedRoot){for(var f=c-1;d&&"<"!==d&&"&"!==d;)(d=B(a,c++))&&b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}"<"!==d||b.sawRoot&&b.closedRoot&&!b.strict?(!m(G,d)||b.sawRoot&&!b.closedRoot||t(b,"Text data outside of root node."),"&"===d?b.state=U.TEXT_ENTITY:b.textNode+=d):(b.state=U.OPEN_WAKA,b.startTagPosition=b.position);continue;case U.SCRIPT:"<"===d?b.state=U.SCRIPT_ENDING:b.script+=d;continue;case U.SCRIPT_ENDING:"/"===d?b.state=U.CLOSE_TAG:(b.script+="<"+d,b.state=U.SCRIPT);continue;case U.OPEN_WAKA:if("!"===d)b.state=U.SGML_DECL,b.sgmlDecl="";else if(l(G,d));else if(l(Q,d))b.state=U.OPEN_TAG,b.tagName=d;else if("/"===d)b.state=U.CLOSE_TAG,b.tagName="";else if("?"===d)b.state=U.PROC_INST,b.procInstName=b.procInstBody="";else{if(t(b,"Unencoded <"),b.startTagPosition+1<b.position){var g=b.position-b.startTagPosition;d=new Array(g).join(" ")+d}b.textNode+="<"+d,b.state=U.TEXT}continue;case U.SGML_DECL:(b.sgmlDecl+d).toUpperCase()===L?(o(b,"onopencdata"),b.state=U.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+d==="--"?(b.state=U.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+d).toUpperCase()===M?(b.state=U.DOCTYPE,(b.doctype||b.sawRoot)&&t(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):">"===d?(o(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=U.TEXT):l(J,d)?(b.state=U.SGML_DECL_QUOTED,b.sgmlDecl+=d):b.sgmlDecl+=d;continue;case U.SGML_DECL_QUOTED:d===b.q&&(b.state=U.SGML_DECL,b.q=""),b.sgmlDecl+=d;continue;case U.DOCTYPE:">"===d?(b.state=U.TEXT,o(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=d,"["===d?b.state=U.DOCTYPE_DTD:l(J,d)&&(b.state=U.DOCTYPE_QUOTED,b.q=d));continue;case U.DOCTYPE_QUOTED:b.doctype+=d,d===b.q&&(b.q="",b.state=U.DOCTYPE);continue;case U.DOCTYPE_DTD:b.doctype+=d,"]"===d?b.state=U.DOCTYPE:l(J,d)&&(b.state=U.DOCTYPE_DTD_QUOTED,b.q=d);continue;case U.DOCTYPE_DTD_QUOTED:b.doctype+=d,d===b.q&&(b.state=U.DOCTYPE_DTD,b.q="");continue;case U.COMMENT:"-"===d?b.state=U.COMMENT_ENDING:b.comment+=d;continue;case U.COMMENT_ENDING:"-"===d?(b.state=U.COMMENT_ENDED,b.comment=q(b.opt,b.comment),b.comment&&o(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+d,b.state=U.COMMENT);continue;case U.COMMENT_ENDED:">"!==d?(t(b,"Malformed comment"),b.comment+="--"+d,b.state=U.COMMENT):b.state=U.TEXT;continue;case U.CDATA:"]"===d?b.state=U.CDATA_ENDING:b.cdata+=d;continue;case U.CDATA_ENDING:"]"===d?b.state=U.CDATA_ENDING_2:(b.cdata+="]"+d,b.state=U.CDATA);continue;case U.CDATA_ENDING_2:">"===d?(b.cdata&&o(b,"oncdata",b.cdata),o(b,"onclosecdata"),b.cdata="",b.state=U.TEXT):"]"===d?b.cdata+="]":(b.cdata+="]]"+d,b.state=U.CDATA);continue;case U.PROC_INST:"?"===d?b.state=U.PROC_INST_ENDING:l(G,d)?b.state=U.PROC_INST_BODY:b.procInstName+=d;continue;case U.PROC_INST_BODY:if(!b.procInstBody&&l(G,d))continue;"?"===d?b.state=U.PROC_INST_ENDING:b.procInstBody+=d;continue;case U.PROC_INST_ENDING:">"===d?(o(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=U.TEXT):(b.procInstBody+="?"+d,b.state=U.PROC_INST_BODY);continue;case U.OPEN_TAG:l(R,d)?b.tagName+=d:(u(b),">"===d?x(b):"/"===d?b.state=U.OPEN_TAG_SLASH:(m(G,d)&&t(b,"Invalid character in tag name"),b.state=U.ATTRIB));continue;case U.OPEN_TAG_SLASH:">"===d?(x(b,!0),y(b)):(t(b,"Forward-slash in opening tag not followed by >"),b.state=U.ATTRIB);continue;case U.ATTRIB:if(l(G,d))continue;">"===d?x(b):"/"===d?b.state=U.OPEN_TAG_SLASH:l(Q,d)?(b.attribName=d,b.attribValue="",b.state=U.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case U.ATTRIB_NAME:"="===d?b.state=U.ATTRIB_VALUE:">"===d?(t(b,"Attribute without value"),b.attribValue=b.attribName,w(b),x(b)):l(G,d)?b.state=U.ATTRIB_NAME_SAW_WHITE:l(R,d)?b.attribName+=d:t(b,"Invalid attribute name");continue;case U.ATTRIB_NAME_SAW_WHITE:if("="===d)b.state=U.ATTRIB_VALUE;else{if(l(G,d))continue;t(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",o(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===d?x(b):l(Q,d)?(b.attribName=d,b.state=U.ATTRIB_NAME):(t(b,"Invalid attribute name"),b.state=U.ATTRIB)}continue;case U.ATTRIB_VALUE:if(l(G,d))continue;l(J,d)?(b.q=d,b.state=U.ATTRIB_VALUE_QUOTED):(t(b,"Unquoted attribute value"),b.state=U.ATTRIB_VALUE_UNQUOTED,b.attribValue=d);continue;case U.ATTRIB_VALUE_QUOTED:if(d!==b.q){"&"===d?b.state=U.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=d;continue}w(b),b.q="",b.state=U.ATTRIB_VALUE_CLOSED;continue;case U.ATTRIB_VALUE_CLOSED:l(G,d)?b.state=U.ATTRIB:">"===d?x(b):"/"===d?b.state=U.OPEN_TAG_SLASH:l(Q,d)?(t(b,"No whitespace between attributes"),b.attribName=d,b.attribValue="",b.state=U.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case U.ATTRIB_VALUE_UNQUOTED:if(m(K,d)){"&"===d?b.state=U.ATTRIB_VALUE_ENTITY_U:b.attribValue+=d;continue}w(b),">"===d?x(b):b.state=U.ATTRIB;continue;case U.CLOSE_TAG:if(b.tagName)">"===d?y(b):l(R,d)?b.tagName+=d:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=U.SCRIPT):(m(G,d)&&t(b,"Invalid tagname in closing tag"),b.state=U.CLOSE_TAG_SAW_WHITE);else{if(l(G,d))continue;m(Q,d)?b.script?(b.script+="</"+d,b.state=U.SCRIPT):t(b,"Invalid tagname in closing tag."):b.tagName=d}continue;case U.CLOSE_TAG_SAW_WHITE:if(l(G,d))continue;">"===d?y(b):t(b,"Invalid characters in closing tag");continue;case U.TEXT_ENTITY:case U.ATTRIB_VALUE_ENTITY_Q:case U.ATTRIB_VALUE_ENTITY_U:var h,i;switch(b.state){case U.TEXT_ENTITY:h=U.TEXT,i="textNode";break;case U.ATTRIB_VALUE_ENTITY_Q:h=U.ATTRIB_VALUE_QUOTED,i="attribValue";break;case U.ATTRIB_VALUE_ENTITY_U:h=U.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===d?(b[i]+=z(b),b.entity="",b.state=h):l(b.entity.length?T:S,d)?b.entity+=d:(t(b,"Invalid character in entity name"),b[i]+="&"+b.entity+d,b.entity="",b.state=h);continue;default:throw new Error(b,"Unknown state: "+b.state)}return b.position>=b.bufferCheckPosition&&e(b),b}c.parser=function(a,b){return new d(a,b)},c.SAXParser=d,c.SAXStream=i,c.createStream=h,c.MAX_BUFFER_LENGTH=65536;var D=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(a){function b(){}return b.prototype=a,new b}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),d.prototype={end:function(){s(this)},write:C,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){g(this)}};var E;try{E=a(43).Stream}catch(a){E=function(){}}var F=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});i.prototype=Object.create(E.prototype,{constructor:{value:i}}),i.prototype.write=function(c){if("function"==typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(c)){if(!this._decoder){var d=a(9).StringDecoder;this._decoder=new d("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},i.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},i.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||-1===F.indexOf(a)||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),E.prototype.on.call(c,a,b)};var G="\r\n\t ",H="0124356789",I="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",J="'\"",K=G+">",L="[CDATA[",M="DOCTYPE",N="http://www.w3.org/XML/1998/namespace",O="http://www.w3.org/2000/xmlns/",P={xml:N,xmlns:O};G=j(G),H=j(H),I=j(I);var Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;J=j(J),K=j(K);var U=0;c.STATE={BEGIN:U++,BEGIN_WHITESPACE:U++,TEXT:U++,TEXT_ENTITY:U++,OPEN_WAKA:U++,SGML_DECL:U++,SGML_DECL_QUOTED:U++,DOCTYPE:U++,DOCTYPE_QUOTED:U++,DOCTYPE_DTD:U++,DOCTYPE_DTD_QUOTED:U++,COMMENT_STARTING:U++,COMMENT:U++,COMMENT_ENDING:U++,COMMENT_ENDED:U++,CDATA:U++,CDATA_ENDING:U++,CDATA_ENDING_2:U++,PROC_INST:U++,PROC_INST_BODY:U++,PROC_INST_ENDING:U++,OPEN_TAG:U++,OPEN_TAG_SLASH:U++,ATTRIB:U++,ATTRIB_NAME:U++,ATTRIB_NAME_SAW_WHITE:U++,ATTRIB_VALUE:U++,ATTRIB_VALUE_QUOTED:U++,ATTRIB_VALUE_CLOSED:U++,ATTRIB_VALUE_UNQUOTED:U++,ATTRIB_VALUE_ENTITY_Q:U++,ATTRIB_VALUE_ENTITY_U:U++,CLOSE_TAG:U++,CLOSE_TAG_SAW_WHITE:U++,SCRIPT:U++,SCRIPT_ENDING:U++},c.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a],d="number"==typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=d});for(var V in c.STATE)c.STATE[c.STATE[V]]=V;U=c.STATE,String.fromCodePoint||function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=[],f=-1,g=arguments.length;if(!g)return"";for(var h="";++f<g;){var i=Number(arguments[f]);if(!isFinite(i)||i<0||i>1114111||b(i)!==i)throw RangeError("Invalid code point: "+i);i<=65535?e.push(i):(i-=65536,c=55296+(i>>10),d=i%1024+56320,e.push(c,d)),(f+1===g||e.length>16384)&&(h+=a.apply(null,e),e.length=0)}return h};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}(void 0===c?this.sax={}:c)}).call(this,a(10).Buffer)},{10:10,43:43,9:9}],43:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a(13).EventEmitter;a(23)(d,e),d.Readable=a(38),d.Writable=a(40),d.Duplex=a(28),d.Transform=a(39),d.PassThrough=a(37),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&!1===b.end||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{13:13,23:23,28:28,37:37,38:38,39:39,40:40}],44:[function(a,b,c){"use strict";function d(a){if(!a)return"utf8";for(var b;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}function e(a){var b=d(a);if("string"!=typeof b&&(s.isEncoding===t||!t(a)))throw new Error("Unknown encoding: "+a);return b||a}function f(a){this.encoding=e(a);var b;switch(this.encoding){case"utf16le":this.text=m,this.end=n,b=4;break;case"utf8":this.fillLast=j,b=4;break;case"base64":this.text=o,this.end=p,b=3;break;default:return this.write=q,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:-1}function h(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c?0:(e=g(b[d]))>=0?(e>0&&(a.lastNeed=e-2),e):--d<c?0:(e=g(b[d]),e>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0)}function i(a,b,c){if(128!=(192&b[0]))return a.lastNeed=0,"�".repeat(c);if(a.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return a.lastNeed=1,"�".repeat(c+1);if(a.lastNeed>2&&b.length>2&&128!=(192&b[2]))return a.lastNeed=2,"�".repeat(c+2)}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,b,0,a.length),void(this.lastNeed-=a.length))}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"�".repeat(this.lastTotal-this.lastNeed):b}function m(a,b){if((a.length-b)%2==0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function n(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function o(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function p(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function q(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}var s=a(41).Buffer,t=s.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};c.StringDecoder=f,f.prototype.write=function(a){if(0===a.length)return"";var b,c;if(this.lastNeed){if(void 0===(b=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=l,f.prototype.text=k,f.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},{41:41}],45:[function(a,b,c){(function(a){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(a){return!1}var c=a.localStorage[b];return null!=c&&"true"===String(c).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){l=a}function b(a){m=a}function c(a){k=a}function d(){return k}function e(){var a="",b=null;l&&(b=(new Date).getTime(),a+="["+(b-n)+"]"),m&&this&&this.getClassName&&(a+="["+this.getClassName()+"]",this.getType&&(a+="["+this.getType()+"]")),a.length>0&&(a+=" "),Array.apply(null,arguments).forEach(function(b){a+=b+" "}),k&&console.log(a),h.trigger(i.default.LOG,{message:a})}var f=this.context,h=(0,g.default)(f).getInstance(),j=void 0,k=void 0,l=void 0,m=void 0,n=void 0;return j={log:e,setLogTimestampVisible:a,setCalleeNameVisible:b,setLogToBrowserConsole:c,getLogToBrowserConsole:d},function(){k=!0,l=!0,m=!1,n=(new Date).getTime()}(),j}Object.defineProperty(c,"__esModule",{value:!0});var f=a(47),g=d(f),h=a(51),i=d(h),j=a(48),k=d(j);e.__dashjs_factory_name="Debug",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{47:47,48:48,51:51}],47:[function(a,b,c){"use strict";function d(){function a(a,b,c){var e=arguments.length<=3||void 0===arguments[3]?g:arguments[3];if(!a)throw new Error("event type cannot be null or undefined");if(!b||"function"!=typeof b)throw new Error("listener must be a function: "+b);if(!(d(a,b,c)>=0)){f[a]=f[a]||[];var h={callback:b,scope:c,priority:e};f[a].some(function(b,c){if(b&&e>b.priority)return f[a].splice(c,0,h),!0})||f[a].push(h)}}function b(a,b,c){if(a&&b&&f[a]){var e=d(a,b,c);e<0||(f[a][e]=null)}}function c(a,b){if(a&&f[a]){if(b=b||{},b.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");b.type=a,f[a]=f[a].filter(function(a){return a}),f[a].forEach(function(a){return a&&a.callback.call(a.scope,b)})}}function d(a,b,c){var d=-1;return f[a]?(f[a].some(function(a,e){if(a&&a.callback===b&&(!c||c===a.scope))return d=e,!0}),d):d}function e(){f={}}var f={};return{on:a,off:b,trigger:c,reset:e}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=0;d.__dashjs_factory_name="EventBus";var h=f.default.getSingletonFactory(d);h.EVENT_PRIORITY_LOW=g,h.EVENT_PRIORITY_HIGH=5e3,f.default.updateSingletonFactory(d.__dashjs_factory_name,h),c.default=h,b.exports=c.default},{48:48}],48:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(a,b,c,d){var e=m(d);!e[a]&&b&&(e[a]={instance:b,override:c})}function b(a,b){for(var c in p){var d=p[c];if(d.context===a&&d.name===b)return d.instance}return null}function c(a,b,c){for(var d in p){var e=p[d];if(e.context===a&&e.name===b)return void(p[d].instance=c)}p.push({name:b,context:a,instance:c})}function d(a,b){return b[a]}function e(a,b,c){a in c&&(c[a]=b)}function f(a,b){e(a,b,r)}function g(a){return d(a,r)}function h(a){var b=d(a.__dashjs_factory_name,r);return b||(b=function(b){return void 0===b&&(b={}),{create:function(){return l(a.__dashjs_factory_name,a.apply({context:b},arguments),b,arguments)}}},r[a.__dashjs_factory_name]=b),b}function i(a,b){e(a,b,q)}function j(a){return d(a,q)}function k(a){var c=d(a.__dashjs_factory_name,q);return c||(c=function(c){var d=void 0;return void 0===c&&(c={}),{getInstance:function(){return d||(d=b(c,a.__dashjs_factory_name)),d||(d=l(a.__dashjs_factory_name,a.apply({context:c},arguments),c,arguments),p.push({name:a.__dashjs_factory_name,context:c,instance:d})),d}}},q[a.__dashjs_factory_name]=c),c}function l(a,b,c,d){b.getClassName=function(){return a};var e=m(c),f=e[a];if(f){var g=f.instance;if(!f.override)return g.apply({context:c,factory:n},d);g=g.apply({context:c,factory:n,parent:b},d);for(var h in g)b.hasOwnProperty(h)&&(b[h]=g[h])}return b}function m(a){var b=void 0;return o.forEach(function(c){c===a&&(b=c)}),b||(o.push(a),b=a),b}var n=void 0,o=[],p=[],q={},r={};return n={extend:a,getSingletonInstance:b,setSingletonInstance:c,getSingletonFactory:k,getSingletonFactoryByName:j,updateSingletonFactory:i,getClassFactory:h,getClassFactoryByName:g,updateClassFactory:f}}();c.default=d,b.exports=c.default},{}],49:[function(a,b,c){"use strict";function d(){return e}Object.defineProperty(c,"__esModule",{value:!0}),c.getVersionString=d;var e="2.6.8"},{}],50:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},g=a(52),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(){d(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return e(b,a),b}(h.default);c.default=i,b.exports=c.default},{52:52}],51:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},g=a(50),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(){d(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),b}(h.default),j=new i;c.default=j,b.exports=c.default},{50:50}],52:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"extend",value:function(a,b){if(a){var c=!!b&&b.override,d=!!b&&b.publicOnly;for(var e in a)!a.hasOwnProperty(e)||this[e]&&!c||d&&-1===a[e].indexOf("public_")||(this[e]=a[e])}}}]),a}();c.default=f,b.exports=c.default},{}],53:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&a.dashManifestModel&&(M=a.dashManifestModel)}function b(a,b){return b&&a?b.getRepresentationForQuality(a.quality):null}function c(a){return a&&a.streamInfo&&void 0!==a.streamInfo.id&&O[a.streamInfo.id]?O[a.streamInfo.id][a.index]:null}function d(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d];if(a.id===e.id)return e}return null}function e(a){var b=new i.default,c=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index],d=M.getRepresentationFor(a.index,c);return b.id=a.id,b.quality=a.index,b.bandwidth=M.getBandwidth(d),b.DVRWindow=a.segmentAvailabilityRange,b.fragmentDuration=a.segmentDuration||(a.segments&&a.segments.length>0?a.segments[0].duration:NaN),b.MSETimeOffset=a.MSETimeOffset,b.useCalculatedLiveEdgeTime=a.useCalculatedLiveEdgeTime,b.mediaInfo=f(a.adaptation),b}function f(a){var b=new k.default,c=a.period.mpd.manifest.Period_asArray[a.period.index].AdaptationSet_asArray[a.index],d=void 0;return b.id=a.id,b.index=a.index,b.type=a.type,b.streamInfo=l(a.period),b.representationCount=M.getRepresentationCount(c),b.lang=M.getLanguageForAdaptation(c),d=M.getViewpointForAdaptation(c),b.viewpoint=d?d.value:void 0,b.accessibility=M.getAccessibilityForAdaptation(c).map(function(a){var c=a.value,d=c;return a.schemeIdUri&&a.schemeIdUri.search("cea-608")>=0&&void 0!==u.default&&(d=c?"cea-608:"+c:"cea-608",b.embeddedCaptions=!0),d}),b.audioChannelConfiguration=M.getAudioChannelConfigurationForAdaptation(c).map(function(a){return a.value}),b.roles=M.getRolesForAdaptation(c).map(function(a){return a.value}),b.codec=M.getCodec(c),b.mimeType=M.getMimeType(c),b.contentProtection=M.getContentProtectionData(c),b.bitrateList=M.getBitrateListForAdaptation(c),b.contentProtection&&b.contentProtection.forEach(function(a){a.KID=M.getKID(a)}),b.isText=M.getIsTextTrack(b.mimeType),b}function h(a,b,c){a.id=b,a.index=100+parseInt(b.substring(2,3)),a.type=g.default.EMBEDDED_TEXT,a.codec="cea-608-in-SEI",a.isText=!0,a.isEmbedded=!0,a.lang=b+" "+c,a.roles=["caption"]}function j(a){a.type=g.default.IMAGE}function l(a){var b=new m.default;return b.id=a.id,b.index=a.index,b.start=a.start,b.duration=a.duration,b.manifestInfo=n(a.mpd),b.isLast=1===a.mpd.manifest.Period_asArray.length||Math.abs(b.start+b.duration-b.manifestInfo.duration)<1,b}function n(a){var b=new o.default;return b.DVRWindowSize=a.timeShiftBufferDepth,b.loadedTime=a.manifest.loadedTime,b.availableFrom=a.availabilityStartTime,b.minBufferTime=a.manifest.minBufferTime,b.maxFragmentDuration=a.maxSegmentDuration,b.duration=M.getDuration(a.manifest),b.isDynamic=M.getIsDynamic(a.manifest),b}function p(a,b){if(0===N.length)return null;var c=N[0].mpd.manifest,e=M.getAdaptationForType(c,a.index,b,a);if(!e)return null;var g=d(a,N),h=g.id,i=M.getIndexForAdaptation(e,c,a.index);return O[h]=O[h]||M.getAdaptationsForPeriod(g),f(O[h][i])}function r(a,b,c){var e=N,i=c,k=[],l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0;if(i){s();var r=M.getMpd(i);e=M.getRegularPeriods(r)}else{if(!(N.length>0))return k;i=N[0].mpd.manifest}var t=d(a,e),u=t.id,v=M.getAdaptationsForType(i,a.index,b!==g.default.EMBEDDED_TEXT?b:g.default.VIDEO);if(!v)return k;for(O[u]=O[u]||M.getAdaptationsForPeriod(t),o=0,q=v.length;o<q;o++)if(l=v[o],n=M.getIndexForAdaptation(l,i,a.index),m=f(O[u][n]),b===g.default.EMBEDDED_TEXT){var w=m.accessibility.length;for(p=0;p<w;p++)if(m){var x=m.accessibility[p];if(0===x.indexOf("cea-608:")){var y=x.substring(8),z=y.split(";");if("CC"===z[0].substring(0,2))for(p=0;p<z.length;p++)m||(m=f.call(this,O[u][n])),h(m,z[p].substring(0,3),z[p].substring(4)),k.push(m),m=null;else for(p=0;p<z.length;p++)m||(m=f.call(this,O[u][n])),h(m,"CC"+(p+1),z[p]),k.push(m),m=null}else 0===x.indexOf("cea-608")&&(h(m,g.default.CC1,"eng"),k.push(m),m=null)}}else b===g.default.IMAGE?(j(m),k.push(m),m=null):m&&k.push(m);return k}function s(){if(!M||!M.hasOwnProperty("getMpd")||!M.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously")}function t(a){if(!a)return null;s();var b=M.getMpd(a);N=M.getRegularPeriods(b),O={}}function v(a,b){var c=[],d=N;if(a){s();var e=M.getMpd(a);d=M.getRegularPeriods(e)}b||(b=d.length);for(var f=0;f<b;f++)c.push(l(d[f]));return c}function w(a){if(!(a&&a.hasOwnProperty("getRepresentationController")&&a.hasOwnProperty("getIndexHandler")&&a.hasOwnProperty("getMediaInfo")&&a.hasOwnProperty("getType")&&a.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!")}function x(a){if(!a||!a.hasOwnProperty("getRepresentationForQuality")||!a.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}function y(a){if(null===a||isNaN(a)||a%1!=0)throw new Error("quality argument is not an integer")}function z(a,b){var c=void 0,d=void 0,e=void 0;return w(a),y(b),c=a.getRepresentationController(),e=a.getIndexHandler(),d=c?c.getRepresentationForQuality(b):null,e?e.getInitRequest(d):null}function A(a,c){var d=void 0,e=void 0,f=void 0;return w(a),d=a.getRepresentationController(),e=b(c,d),f=a.getIndexHandler(),f?f.getNextSegmentRequest(e):null}function B(a,c,d,e){var f=void 0,g=void 0,h=void 0;return w(a),f=a.getRepresentationController(),
g=b(c,f),h=a.getIndexHandler(),h?h.getSegmentRequestForTime(g,d,e):null}function C(a,c,d){var e=void 0,f=void 0,g=void 0;return w(a),e=a.getRepresentationController(),f=b(c,e),g=a.getIndexHandler(),g?g.generateSegmentRequestForTime(f,d):null}function D(a){w(a);var b=a.getIndexHandler();return b?b.getCurrentTime():NaN}function E(a,b){w(a);var c=a.getIndexHandler();c&&c.setCurrentTime(b)}function F(a){w(a);var b=d(a.getStreamInfo(),N),e=a.getMediaInfo(),f=c(e),g=a.getType(),h=void 0,i=void 0;h=e?e.id:null,N.length>0&&(i=h?M.getAdaptationForId(h,N[0].mpd.manifest,b.index):M.getAdaptationForIndex(e.index,N[0].mpd.manifest,b.index),a.getRepresentationController().updateData(i,f,g))}function G(a,b){x(a),y(b);var c=a.getRepresentationForQuality(b);return c?e(c):null}function H(a){x(a);var b=a.getCurrentRepresentation();return b?e(b):null}function I(a,b,c){if(!a||!b)return null;var d=new q.default,e=a.scheme_id_uri,f=a.value,g=a.timescale,h=a.presentation_time_delta,i=a.event_duration,j=a.id,k=a.message_data,l=c*g+h;return b[e]?(d.eventStream=b[e],d.eventStream.value=f,d.eventStream.timescale=g,d.duration=i,d.id=j,d.presentationTime=l,d.messageData=k,d.presentationTimeDelta=h,d):null}function J(a,e){var f=[];if(0===N.length)return f;var g=N[0].mpd.manifest;return a instanceof m.default?f=M.getEventsForPeriod(d(a,N)):a instanceof k.default?f=M.getEventStreamForAdaptationSet(g,c(a)):a instanceof i.default&&(f=M.getEventStreamForRepresentation(g,b(a,e.getRepresentationController()))),f}function K(){N=[],O={}}var L=void 0,M=void 0,N=void 0,O=void 0;return L={convertDataToRepresentationInfo:e,getDataForMedia:c,getStreamsInfo:v,getMediaInfoForType:p,getAllMediaInfoForType:r,getCurrentRepresentationInfo:H,getRepresentationInfoForQuality:G,updateData:F,getInitRequest:z,getNextFragmentRequest:A,getFragmentRequestForTime:B,generateFragmentRequestForTime:C,getIndexHandlerTime:D,setIndexHandlerTime:E,getEventsFor:J,getEvent:I,setConfig:a,updatePeriods:t,reset:K},function(){K()}(),L}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(221),i=d(h),j=a(219),k=d(j),l=a(222),m=d(l),n=a(218),o=d(n),p=a(81),q=d(p),r=a(48),s=d(r),t=a(2),u=d(t);e.__dashjs_factory_name="DashAdapter",c.default=s.default.getSingletonFactory(e),b.exports=c.default},{2:2,218:218,219:219,221:221,222:222,48:48,81:81,99:99}],54:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){return"webm"===a.split("/")[1].toLowerCase()}function c(b){ba=b;var c=ba?ba.getStreamInfo().manifestInfo.isDynamic:null;Q.initialize(),ca=(0,C.default)(N).create(a,c)}function d(){return ba}function e(a){_=a}function f(){return _}function h(){return aa}function j(){Z=-1,_=0,aa=NaN,$=null,ba=null,ca=null}function l(){j(),O.off(p.default.INITIALIZATION_LOADED,L,X),O.off(p.default.SEGMENTS_LOADED,M,X)}function o(a,b,c){var d=W.resolve(c.path),e=void 0,f=void 0;return d&&b!==d.url&&P.isRelative(b)?(e=d.url,f=d.serviceLocation,b&&(e=P.resolve(b,e))):e=b,!P.isRelative(e)&&(a.url=e,a.serviceLocation=f,!0)}function q(a,b){var c=new k.default,d=a.adaptation.period,e=d.start,f=ba?ba.getStreamInfo().manifestInfo.isDynamic:null;if(c.mediaType=b,c.type=n.HTTPRequest.INIT_SEGMENT_TYPE,c.range=a.range,c.availabilityStartTime=R.calcAvailabilityStartTimeFromPresentationTime(e,d.mpd,f),c.availabilityEndTime=R.calcAvailabilityEndTimeFromPresentationTime(e+d.duration,d.mpd,f),c.quality=a.index,c.mediaInfo=ba?ba.getMediaInfo():null,c.representationId=a.id,o(c,a.initialization,a))return c}function s(a){var b=ba?ba.getType():null;return a?q(a,b):null}function t(a){var b=!1,c=ba?ba.getStreamInfo().manifestInfo.isDynamic:null;if(c||Z!==a.availableSegmentsNumber){var d=(0,A.getSegmentByIndex)(Z,a);if(d){var e=parseFloat((d.presentationStartTime-a.adaptation.period.start).toFixed(5)),f=a.adaptation.period.duration;Y(a.segmentInfoType+": "+e+" / "+f),b=(a.segmentInfoType!==i.default.SEGMENT_TIMELINE||!c)&&e>=f}else Y("isMediaFinished - no segment found")}else b=!0;return b}function u(a){ca.getSegments(a,$,Z,w)}function w(a,b){var c=ba?ba.getStreamInfo().manifestInfo.isDynamic:null;if(a.segments=b,b&&b.length>0&&(aa=isNaN(aa)?b[0].presentationStartTime:Math.min(b[0].presentationStartTime,aa),c&&isNaN(R.getExpectedLiveEdge()))){var d=b[b.length-1],e=d.presentationStartTime,f=T.getMetricsFor(g.default.STREAM);R.setExpectedLiveEdge(e),T.updateManifestUpdateInfo(S.getCurrentManifestUpdate(f),{presentationStartTime:e})}}function y(a){if(!a)throw new Error("no representation");a.segments=null,u(a)}function B(a,b){var c=z.default.hasInitialization(a),d=z.default.hasSegments(a),e=ba?ba.getType():null,f=ba?ba.getStreamInfo().manifestInfo.isDynamic:null,g=void 0;if(a.segmentDuration||a.segments||y(a),a.segmentAvailabilityRange=R.calcSegmentAvailabilityRange(a,f),a.segmentAvailabilityRange.end<a.segmentAvailabilityRange.start&&!a.useCalculatedLiveEdgeTime)return g=new m.default(H,"no segments are available yet",{availabilityDelay:a.segmentAvailabilityRange.start-a.segmentAvailabilityRange.end}),void O.trigger(p.default.REPRESENTATION_UPDATED,{sender:this,representation:a,error:g});b||(Z=-1),a.segmentDuration&&y(a),c||Q.loadInitialization(a),d||Q.loadSegments(a,e,a.indexRange),c&&d&&O.trigger(p.default.REPRESENTATION_UPDATED,{sender:this,representation:a})}function D(a,b,c){var d=b.segments,e=d?d.length:null,f=-1,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0;if(d&&e>0)for(c=void 0===c||null===c?U.getSegmentOverlapToleranceTime():c,k=0;k<e;k++)if(h=d[k],i=h.presentationStartTime,j=h.duration,g=void 0===c||null===c?j/2:c,a+g>=i&&a-g<i+j){f=h.availabilityIdx;break}return f}function F(a){if(null===a||void 0===a)return null;var b=new k.default,c=a.representation,d=c.adaptation.period.mpd.manifest.Period_asArray[c.adaptation.period.index].AdaptationSet_asArray[c.adaptation.index].Representation_asArray[c.index].bandwidth,e=a.media,f=ba?ba.getType():null;return e=(0,A.replaceTokenForTemplate)(e,"Number",a.replacementNumber),e=(0,A.replaceTokenForTemplate)(e,"Time",a.replacementTime),e=(0,A.replaceTokenForTemplate)(e,"Bandwidth",d),e=(0,A.replaceIDForTemplate)(e,c.id),e=(0,A.unescapeDollarsInTemplate)(e),b.mediaType=f,b.type=n.HTTPRequest.MEDIA_SEGMENT_TYPE,b.range=a.mediaRange,b.startTime=a.presentationStartTime,b.duration=a.duration,b.timescale=c.timescale,b.availabilityStartTime=a.availabilityStartTime,b.availabilityEndTime=a.availabilityEndTime,b.wallStartTime=a.wallStartTime,b.quality=c.index,b.index=a.availabilityIdx,b.mediaInfo=ba.getMediaInfo(),b.adaptationIndex=c.adaptation.index,b.representationId=c.id,o(b,e,c)?b:void 0}function I(a,b,c){var d=void 0,e=void 0,f=void 0,g=ba?ba.getType():null,h=ba?ba.getStreamInfo().manifestInfo.isDynamic:null,j=Z,l=!!c&&c.keepIdx,m=c?c.timeThreshold:null,n=!(!c||!c.ignoreIsFinished);return a?($!==b&&($=b,Y("Getting the request for "+g+" time : "+b)),u(a),Z=D(b,a,m),Z<0&&(u(a),Z=D(b,a,m)),Z>0&&Y("Index for "+g+" time "+b+" is "+Z),f=!n&&t(a),f?(d=new k.default,d.action=k.default.ACTION_COMPLETE,d.index=Z,d.mediaType=g,d.mediaInfo=ba.getMediaInfo(),Y("Signal complete in getSegmentRequestForTime -",g)):(e=(0,A.getSegmentByIndex)(Z,a),d=F(e)),l&&j>=0&&(Z=a.segmentInfoType===i.default.SEGMENT_TIMELINE&&h?Z:j),d):null}function J(a,b){var c=(a.segmentAvailabilityRange.end-a.segmentAvailabilityRange.start)/2;return a.segments=null,a.segmentAvailabilityRange={start:b-c,end:b+c},I(a,b,{keepIdx:!1,ignoreIsFinished:!0})}function K(a){var b=void 0,c=void 0,d=void 0,e=ba?ba.getType():null,f=ba?ba.getStreamInfo().manifestInfo.isDynamic:null;return a&&-1!==Z?($=null,Z++,Y("Getting the next request at index: "+Z+", type: "+e),!(0,A.getSegmentByIndex)(Z,a)&&f?(Y("No segment found at index: "+Z+". Wait for next loop"),u(a),Z--,null):(d=t(a),d?(b=new k.default,b.action=k.default.ACTION_COMPLETE,b.index=Z,b.mediaType=e,b.mediaInfo=ba.getMediaInfo(),Y("Signal complete -",e)):(u(a),c=(0,A.getSegmentByIndex)(Z,a),b=F(c),!c&&f&&Z--),b)):null}function L(a){var b=a.representation;b.segments&&O.trigger(p.default.REPRESENTATION_UPDATED,{sender:this,representation:b})}function M(a){var b=ba?ba.getType():null,c=ba?ba.getStreamInfo().manifestInfo.isDynamic:null;if(!a.error&&b===a.mediaType){var d=a.segments,e=a.representation,f=[],g=0,h=void 0,i=void 0,j=void 0,k=void 0;for(h=0,i=d.length;h<i;h++)j=d[h],k=(0,A.getTimeBasedSegment)(R,c,e,j.startTime,j.duration,j.timescale,j.media,j.mediaRange,g),f.push(k),k=null,g++;e.segmentAvailabilityRange={start:f[0].presentationStartTime,end:f[i-1].presentationStartTime},e.availableSegmentsNumber=i,w(e,f),z.default.hasInitialization(e)&&O.trigger(p.default.REPRESENTATION_UPDATED,{sender:this,representation:e})}}a=a||{};var N=this.context,O=(0,r.default)(N).getInstance(),P=(0,x.default)(N).getInstance(),Q=void 0,R=a.timelineConverter,S=a.dashMetrics,T=a.metricsModel,U=a.mediaPlayerModel,V=a.errHandler,W=a.baseURLController,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0;return X={initialize:c,getStreamProcessor:d,getInitRequest:s,getSegmentRequestForTime:I,getNextSegmentRequest:K,generateSegmentRequestForTime:J,updateRepresentation:B,updateSegmentList:y,setCurrentTime:e,getCurrentTime:f,getEarliestTime:h,reset:l},function(){Y=(0,v.default)(N).getInstance().log.bind(X),j(),Q=b(a.mimeType)?(0,G.default)(N).getInstance():(0,E.default)(N).getInstance(),Q.setConfig({baseURLController:W,metricsModel:T,mediaPlayerModel:U,errHandler:V}),O.on(p.default.INITIALIZATION_LOADED,L,X),O.on(p.default.SEGMENTS_LOADED,M,X)}(),X}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(58),i=d(h),j=a(214),k=d(j),l=a(212),m=d(l),n=a(232),o=a(51),p=d(o),q=a(47),r=d(q),s=a(48),t=d(s),u=a(46),v=d(u),w=a(207),x=d(w),y=a(85),z=d(y),A=a(75),B=a(74),C=d(B),D=a(56),E=d(D),F=a(57),G=d(F),H=1;e.__dashjs_factory_name="DashHandler";var I=t.default.getClassFactory(e);I.SEGMENTS_UNAVAILABLE_ERROR_CODE=H,t.default.updateClassFactory(e.__dashjs_factory_name,I),c.default=I,b.exports=c.default},{207:207,212:212,214:214,232:232,46:46,47:47,48:48,51:51,56:56,57:57,58:58,74:74,75:75,85:85,99:99}],55:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c=void 0;return c=w(A.getValue().Period_asArray[b],a),null===c?null:c.bandwidth}function c(a,b){return v(A.getValue().Period_asArray[b],a)}function d(a,b){var c=A.getValue();return c?y(c.Period_asArray[b],a):-1}function e(a){return n(a,j.default.TRACK_SWITCH)}function g(a){return n(a,j.default.BUFFER_LEVEL)}function h(a){var b=g(a);return b?l.default.round10(b.level/1e3,-3):0}function i(a){return a?a.RequestsQueue:null}function k(a){if(!a)return null;var b=a.HttpList,c=null,d=void 0,e=void 0;if(!b||b.length<=0)return null;for(d=b.length,e=d-1;e>=0;){if(b[e].responsecode){c=b[e];break}e--}return c}function m(a){return a&&a.HttpList?a.HttpList:[]}function n(a,b){if(!a)return null;var c=a[b];if(!c)return null;var d=c.length;return d<=0?null:c[d-1]}function o(a){return n(a,j.default.DROPPED_FRAMES)}function p(a){return n(a,j.default.SCHEDULING_INFO)}function q(a){return n(a,j.default.MANIFEST_UPDATE)}function r(a){return n(a,j.default.DVR_INFO)}function s(a,b){var c={},d=void 0,e=void 0,g=void 0;for(d=m(a),g=d.length-1;g>=0;g--)if(e=d[g],e.type===f.HTTPRequest.MPD_TYPE){c=u(e._responseHeaders);break}return void 0===c[b]?null:c[b]}function t(a,b){var c={},d=k(a);return d&&(c=u(d._responseHeaders)),void 0===c[b]?null:c[b]}function u(a){var b={};if(!a)return b;for(var c=a.trim().split("\r\n"),d=0,e=c.length;d<e;d++){var f=c[d],g=f.indexOf(": ");g>0&&(b[f.substring(0,g)]=f.substring(g+2))}return b}function v(a,b){var c=w(a,b,!0);return null!==c?c:-1}function w(a,b,c){var d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,i=void 0;if(a)for(e=a.AdaptationSet_asArray,h=0;h<e.length;h+=1)for(d=e[h],g=d.Representation_asArray,i=0;i<g.length;i+=1)if(f=g[i],b===f.id)return c?i:f;return null}function x(a,b){return z.getIsTypeOf(a,b)}function y(a,b){var c=void 0,d=void 0,e=void 0,f=void 0;if(!a||!b)return-1;for(d=a.AdaptationSet_asArray,f=0;f<d.length;f+=1)if(c=d[f],e=c.Representation_asArray,x(c,b))return e.length;return-1}a=a||{};var z=a.dashManifestModel,A=a.manifestModel;return{getBandwidthForRepresentation:b,getIndexForRepresentation:c,getMaxIndexForBufferType:d,getCurrentRepresentationSwitch:e,getLatestBufferLevelVO:g,getCurrentBufferLevel:h,getCurrentHttpRequest:k,getHttpRequests:m,getCurrentDroppedFrames:o,getCurrentSchedulingInfo:p,getCurrentDVRInfo:r,getCurrentManifestUpdate:q,getLatestFragmentRequestHeaderValueByID:t,getLatestMPDRequestHeaderValueByID:s,getRequestsQueue:i}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(232),g=a(48),h=d(g),i=a(100),j=d(i),k=a(73),l=d(k);e.__dashjs_factory_name="DashMetrics",c.default=h.default.getSingletonFactory(e),b.exports=c.default},{100:100,232:232,48:48,73:73}],56:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){w=(0,q.default)(p).getInstance(),y=(0,g.default)(p).getInstance(),C=(0,z.default)(p).create({errHandler:t,metricsModel:A,mediaPlayerModel:B,requestModifier:y})}function b(a){a.baseURLController&&(D=a.baseURLController),a.metricsModel&&(A=a.metricsModel),a.mediaPlayerModel&&(B=a.mediaPlayerModel),a.errHandler&&(t=a.errHandler)}function c(){if(!D||!D.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function d(a,b){c();var e=null,f=null,g=D.resolve(a.path),h=b||{init:!0,url:g?g.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};r("Start searching for initialization.");var i=l(h),k=function(b){h.bytesLoaded=h.range.end,f=w.parse(b),e=j(f),e?(a.range=e,s.trigger(m.default.INITIALIZATION_LOADED,{representation:a})):(h.range.end=h.bytesLoaded+h.bytesToLoad,d(a,h))},n=function(){s.trigger(m.default.INITIALIZATION_LOADED,{representation:a})};C.load({request:i,success:k,error:n}),r("Perform init search: "+h.url)}function e(a,b,d,f,g){if(c(),d&&(void 0===d.start||void 0===d.end)){var i=d?d.toString().split("-"):null;d=i?{start:parseFloat(i[0]),end:parseFloat(i[1])}:null}g=g||n;var j=null,k=null,m=!!d,o=D.resolve(a.path),p={init:!1,url:o?o.url:void 0,range:m?d:{start:0,end:1500},searching:!m,bytesLoaded:f?f.bytesLoaded:0,bytesToLoad:1500},q=l(p),s=function(c){var d=p.bytesToLoad,f=c.byteLength;if(p.bytesLoaded=p.range.end-p.range.start,j=w.parse(c),(k=j.getBox("sidx"))&&k.isComplete){var i=k.references,l=void 0,m=void 0;null!==i&&void 0!==i&&i.length>0&&(l=1===i[0].reference_type),l?function(){r("Initiate multiple SIDX load."),p.range.end=p.range.start+k.size;var c=void 0,d=void 0,f=void 0,h=void 0,j=void 0,l=[],m=0,n=(k.offset||p.range.start)+k.size,o=function(c){c?(l=l.concat(c),++m>=d&&g(l,a,b)):g(null,a,b)};for(c=0,d=i.length;c<d;c++)f=n,h=n+i[c].referenced_size-1,n+=i[c].referenced_size,j={start:f,end:h},e(a,null,j,p,o)}():(r("Parsing segments from SIDX."),m=h(k,p),g(m,a,b))}else{if(k)p.range.start=k.offset||p.range.start,p.range.end=p.range.start+(k.size||d);else{if(f<p.bytesLoaded)return void g(null,a,b);var n=j.getLastBox();n&&n.size?(p.range.start=n.offset+n.size,p.range.end=p.range.start+d):p.range.end+=d}e(a,b,p.range,p,g)}},t=function(){g(null,a,b)};C.load({request:q,success:s,error:t}),r("Perform SIDX load: "+p.url)}function f(){C.abort(),C=null,t=null,w=null,y=null}function h(a,b){for(var c=a.references,d=c.length,e=a.timescale,f=a.earliest_presentation_time,g=b.range.start+a.offset+a.first_offset+a.size,h=[],j=void 0,k=void 0,l=void 0,m=void 0,n=0;n<d;n++)l=c[n].subsegment_duration,m=c[n].referenced_size,j=new i.default,j.duration=l,j.startTime=f,j.timescale=e,k=g+m-1,j.mediaRange=g+"-"+k,h.push(j),f+=l,g+=m;return h}function j(a){var b=a.getBox("ftyp"),c=a.getBox("moov"),d=null,e=void 0,f=void 0;return r("Searching for initialization."),c&&c.isComplete&&(e=b?b.offset:c.offset,f=c.offset+c.size-1,d=e+"-"+f,r("Found the initialization.  Range: "+d)),d}function l(a){if(a.url){var b=new x.default;return b.type=a.init?v.HTTPRequest.INIT_SEGMENT_TYPE:v.HTTPRequest.MEDIA_SEGMENT_TYPE,b.url=a.url,b.range=a.range.start+"-"+a.range.end,b}}function n(a,b,c){a?s.trigger(m.default.SEGMENTS_LOADED,{segments:a,representation:b,mediaType:c}):s.trigger(m.default.SEGMENTS_LOADED,{segments:null,representation:b,mediaType:c,error:new k.default(null,"error loading segments",null)})}var p=this.context,r=(0,u.default)(p).getInstance().log,s=(0,o.default)(p).getInstance(),t=void 0,w=void 0,y=void 0,A=void 0,B=void 0,C=void 0,D=void 0;return{setConfig:b,initialize:a,loadInitialization:d,loadSegments:e,reset:f}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(205),g=d(f),h=a(86),i=d(h),j=a(212),k=d(j),l=a(51),m=d(l),n=a(47),o=d(n),p=a(195),q=d(p),r=a(48),s=d(r),t=a(46),u=d(t),v=a(232),w=a(214),x=d(w),y=a(146),z=d(y);e.__dashjs_factory_name="SegmentBaseLoader",c.default=s.default.getSingletonFactory(e),b.exports=c.default},{146:146,195:195,205:205,212:212,214:214,232:232,46:46,47:47,48:48,51:51,86:86}],57:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){A=(0,q.default)(p).getInstance(),D=(0,x.default)(p).create({errHandler:z,metricsModel:B,mediaPlayerModel:C,requestModifier:A})}function b(a){if(!(a.baseURLController&&a.metricsModel&&a.mediaPlayerModel&&a.errHandler))throw new Error("Missing config parameter(s)");E=a.baseURLController,B=a.metricsModel,C=a.mediaPlayerModel,z=a.errHandler}function c(a){var b=[],c=void 0,d=void 0,e=(0,k.default)(p).create({data:a});for(e.consumeTagAndSize(y.Segment.Cues);e.moreData()&&e.consumeTagAndSize(y.Segment.Cues.CuePoint,!0);){for(c={},c.CueTime=e.parseTag(y.Segment.Cues.CuePoint.CueTime),c.CueTracks=[];e.moreData()&&e.consumeTag(y.Segment.Cues.CuePoint.CueTrackPositions,!0);){var f=e.getMatroskaCodedNum(),g=e.getPos();if(d={},d.Track=e.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===d.Track)throw new Error("Cue track cannot be 0");d.ClusterPosition=e.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),c.CueTracks.push(d),e.setPos(g+f)}if(0===c.CueTracks.length)throw new Error("Mandatory cuetrack not found");b.push(c)}if(0===b.length)throw new Error("mandatory cuepoint not found");return b}function d(a,b,d,e){var f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0;for(g=c(a),h=[],j=0,k=g.length;j<k;j+=1)i=new s.default,f=0,f=j<g.length-1?g[j+1].CueTime-g[j].CueTime:e-g[j].CueTime,i.duration=f,i.startTime=g[j].CueTime,i.timescale=1e3,l=g[j].CueTracks[0].ClusterPosition+b,m=j<g.length-1?g[j+1].CueTracks[0].ClusterPosition+b-1:d-1,i.mediaRange=l+"-"+m,h.push(i);return r("Parsed cues: "+h.length+" cues."),h}function e(a,b,c,e){var f=(0,k.default)(p).create({data:a}),g=void 0,h=void 0,i=c.split("-"),j=null,l={url:b,range:{start:parseFloat(i[0]),end:parseFloat(i[1])},request:j},n=void 0,o=void 0;for(r("Parse EBML header: "+l.url),f.skipOverElement(y.EBML),f.consumeTag(y.Segment),n=f.getMatroskaCodedNum(),n+=f.getPos(),o=f.getPos();f.moreData()&&!f.consumeTagAndSize(y.Segment.Info,!0);)if(!(f.skipOverElement(y.Segment.SeekHead,!0)||f.skipOverElement(y.Segment.Tracks,!0)||f.skipOverElement(y.Segment.Cues,!0)||f.skipOverElement(y.Void,!0)))throw new Error("no valid top level element found");for(;void 0===g;){var q=f.getMatroskaCodedNum(!0),s=f.getMatroskaCodedNum();switch(q){case y.Segment.Info.Duration.tag:g=f[y.Segment.Info.Duration.parse](s);break;default:f.setPos(f.getPos()+s)}}j=m(l);var t=function(a){h=d(a,o,n,g),e(h)},u=function(){r("Download Error: Cues "+l.url),e(null)};D.load({request:j,success:t,error:u}),r("Perform cues load: "+l.url+" bytes="+l.range.start+"-"+l.range.end)}function f(){if(!E||!E.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function h(a,b){f();var c=null,d=E.resolve(a.path),e=d?d.url:void 0,h=a.range.split("-"),i=b||{range:{start:parseFloat(h[0]),end:parseFloat(h[1])},request:c,url:e,init:!0};r("Start loading initialization."),c=m(i);var j=function(){u.trigger(g.default.INITIALIZATION_LOADED,{representation:a})},k=function(){u.trigger(g.default.INITIALIZATION_LOADED,{representation:a})};D.load({request:c,success:j,error:k}),r("Perform init load: "+i.url)}function j(a,b,c,d){f();var g=null,h=E.resolve(a.path),i=h?h.url:void 0,j={bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:g,url:i,init:!1};d=d||l,g=m(j),r("Parsing ebml header");var k=function(f){e(f,i,c,function(c){d(c,a,b)})},n=function(){d(null,a,b)};D.load({request:g,success:k,error:n})}function l(a,b,c){a?u.trigger(g.default.SEGMENTS_LOADED,{segments:a,representation:b,mediaType:c}):u.trigger(g.default.SEGMENTS_LOADED,{segments:null,representation:b,mediaType:c,error:new Error(null,"error loading segments",null)})}function m(a){var b=new v.default;return b.type=a.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,b.url=a.url,b.range=a.range.start+"-"+a.range.end,b}function n(){z=null,A=null,r=null}var p=this.context,r=(0,o.default)(p).getInstance().log,u=(0,i.default)(p).getInstance(),w=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0;return w={setConfig:b,initialize:a,loadInitialization:h,loadSegments:j,reset:n},function(){y={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),w}Object.defineProperty(c,"__esModule",{value:!0});var f=a(51),g=d(f),h=a(47),i=d(h),j=a(199),k=d(j),l=a(48),m=d(l),n=a(46),o=d(n),p=a(205),q=d(p),r=a(86),s=d(r),t=a(232),u=a(214),v=d(u),w=a(146),x=d(w);e.__dashjs_factory_name="WebmSegmentBaseLoader",c.default=m.default.getSingletonFactory(e),b.exports=c.default},{146:146,199:199,205:205,214:214,232:232,46:46,47:47,48:48,51:51,86:86}],58:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.init()}return e(a,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),a}(),g=new f;c.default=g,b.exports=c.default},{}],59:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a.abrController&&(N=a.abrController),a.domStorage&&(R=a.domStorage),a.metricsModel&&(Q=a.metricsModel),a.dashMetrics&&(U=a.dashMetrics),a.dashManifestModel&&(T=a.dashManifestModel),a.playbackController&&(P=a.playbackController),a.timelineConverter&&(S=a.timelineConverter),a.manifestModel&&(W=a.manifestModel),a.streamProcessor&&(V=a.streamProcessor)}function b(){O=V.getIndexHandler()}function c(){return V}function d(){return I}function e(){return J}function f(){return K}function h(){return M}function j(){I=null,J=-1,K=!0,L=[],N=null,P=null,Q=null,R=null,S=null,T=null,U=null}function l(){G.off(o.default.QUALITY_CHANGE_REQUESTED,C,H),G.off(o.default.REPRESENTATION_UPDATED,z,H),G.off(o.default.WALLCLOCK_TIME_UPDATED,A,H),G.off(o.default.BUFFER_LEVEL_UPDATED,B,H),G.off(o.default.MANIFEST_VALIDITY_CHANGED,D,H),j()}function n(a,b,c){var d=V.getStreamInfo(),e=N.getTopQualityIndexFor(c,d.id),f=N.getMinAllowedIndexFor(c),h=void 0,i=void 0,j=null;if(K=!0,G.trigger(o.default.DATA_UPDATE_STARTED,{sender:this}),L=v(b),null!==I&&I.id==a.id||c===g.default.FRAGMENTED_TEXT?h=N.getQualityFor(c,d):(i=N.getThroughputHistory().getAverageThroughput(c),j=i||N.getInitialBitrateFor(c,d),h=N.getQualityForBitrate(V.getMediaInfo(),j)),void 0!==f&&h<f&&(h=f),h>e&&(h=e),M=r(h),I=a,c!==g.default.VIDEO&&c!==g.default.AUDIO&&c!==g.default.FRAGMENTED_TEXT)return K=!1,void G.trigger(o.default.DATA_UPDATE_COMPLETED,{sender:this,data:I,currentRepresentation:M});for(var k=0;k<L.length;k++)O.updateRepresentation(L[k],!0)}function p(){var a=new Date,b=h(),c=1e3*P.getTime();Q.addRepresentationSwitch(b.adaptation.type,a,c,b.id)}function q(){var a=V.getStreamInfo(),b=a?a.manifestInfo:null,c=b?b.isDynamic:null,d=S.calcSegmentAvailabilityRange(M,c);Q.addDVRInfo(V.getType(),P.getTime(),b,d)}function r(a){return L[a]}function t(a){return L.indexOf(a)}function u(){for(var a=0,b=L.length;a<b;a++){var c=L[a].segmentInfoType;if(null===L[a].segmentAvailabilityRange||!s.default.hasInitialization(L[a])||(c===i.default.SEGMENT_BASE||c===i.default.BASE_URL)&&!L[a].segments)return!1}return!0}function v(a){return J=T.getIndexForAdaptation(I,a.period.mpd.manifest,a.period.index),T.getRepresentationsForAdaptation(a)}function w(a){for(var b=void 0,c=0,d=L.length;c<d;c++)b=L[c],b.segmentAvailabilityRange=S.calcSegmentAvailabilityRange(b,a)}function x(){L.forEach(function(a){a.segmentAvailabilityRange=null})}function y(a){var b=a,c=function(){if(!f()){K=!0,G.trigger(o.default.DATA_UPDATE_STARTED,{sender:H}),x();for(var a=0;a<L.length;a++)O.updateRepresentation(L[a],!0)}};K=!1,G.trigger(o.default.AST_IN_FUTURE,{delay:b}),setTimeout(c,b)}function z(a){if(a.sender.getStreamProcessor()===V&&f()){var b=a.representation,c=Q.getMetricsFor(g.default.STREAM),d=Q.getMetricsFor(h().adaptation.type),e=U.getCurrentManifestUpdate(c),j=!1,l=0,m=void 0,n=void 0,r=void 0;if(b.adaptation.period.mpd.manifest.type===i.default.DYNAMIC&&!b.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var s=b.segmentAvailabilityRange.end-b.segmentAvailabilityRange.start;l=1e3*(P.computeLiveDelay(M.segmentDuration,V.getStreamInfo().manifestInfo.DVRWindowSize)-s)}if(l>0)return q(),y(l),n=new k.default(E,"Segments update failed",null),void G.trigger(o.default.DATA_UPDATE_COMPLETED,{sender:this,data:I,currentRepresentation:M,error:n});if(e){for(var v=0;v<e.representationInfo.length;v++)if(m=e.representationInfo[v],m.index===b.index&&m.mediaType===V.getType()){j=!0;break}j||Q.addManifestUpdateRepresentationInfo(e,b.id,b.index,b.adaptation.period.index,V.getType(),b.presentationTimeOffset,b.startNumber,b.segmentInfoType)}u()&&(K=!1,N.setPlaybackQuality(V.getType(),V.getStreamInfo(),t(M)),Q.updateManifestUpdateInfo(e,{latency:M.segmentAvailabilityRange.end-P.getTime()}),r=U.getCurrentRepresentationSwitch(d),r||p(),G.trigger(o.default.DATA_UPDATE_COMPLETED,{sender:this,data:I,currentRepresentation:M}))}}function A(a){a.isDynamic&&w(a.isDynamic)}function B(a){a.sender.getStreamProcessor()===V&&(W.getValue().doNotUpdateDVRWindowOnBufferUpdated||q())}function C(a){if(a.mediaType===V.getType()&&V.getStreamInfo().id===a.streamInfo.id&&a.oldQuality!==a.newQuality){M=r(a.newQuality);var b=N.getThroughputHistory().getAverageThroughput(a.mediaType);isNaN(b)||R.setSavedBitrateSettings(a.mediaType,b),p()}}function D(a){if(a.newDuration){var b=h();b&&b.adaptation.period&&(b.adaptation.period.duration=a.newDuration)}}var E=1,F=this.context,G=(0,m.default)(F).getInstance(),H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0;return H={initialize:b,setConfig:a,getData:d,getDataIndex:e,isUpdating:f,updateData:n,getStreamProcessor:c,getCurrentRepresentation:h,getRepresentationForQuality:r,reset:l},function(){j(),G.on(o.default.QUALITY_CHANGE_REQUESTED,C,H),G.on(o.default.REPRESENTATION_UPDATED,z,H),G.on(o.default.WALLCLOCK_TIME_UPDATED,A,H),G.on(o.default.BUFFER_LEVEL_UPDATED,B,H),G.on(o.default.MANIFEST_VALIDITY_CHANGED,D,H)}(),H}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(58),i=d(h),j=a(212),k=d(j),l=a(47),m=d(l),n=a(51),o=d(n),p=a(48),q=d(p),r=a(85),s=d(r);e.__dashjs_factory_name="RepresentationController",c.default=q.default.getClassFactory(e),b.exports=c.default},{212:212,47:47,48:48,51:51,58:58,85:85,99:99}],60:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c=void 0,d=void 0,e=void 0,f=void 0,h=void 0,j=void 0,k=!1,l=!1;if(!a)throw new Error("adaptation is not defined");if(!b)throw new Error("type is not defined");if(a.hasOwnProperty("ContentComponent_asArray")&&(f=a.ContentComponent_asArray),h=b!==g.default.TEXT?new RegExp(b):new RegExp("(vtt|ttml)"),a.Representation_asArray&&a.Representation_asArray.length&&a.Representation_asArray.length>0&&a.Representation_asArray[0].hasOwnProperty(i.default.CODECS)&&(j=a.Representation_asArray[0].codecs,
0===j.search(g.default.STPP)||0===j.search(g.default.WVTT)))return b===g.default.FRAGMENTED_TEXT;if(f){if(f.length>1)return b===g.default.MUXED;f[0]&&f[0].contentType===b&&(k=!0,l=!0)}if(a.hasOwnProperty(i.default.MIME_TYPE)&&(k=h.test(a.mimeType),l=!0),!l)for(c=0,d=a.Representation_asArray&&a.Representation_asArray.length?a.Representation_asArray.length:0;!l&&c<d;)e=a.Representation_asArray[c],e.hasOwnProperty(i.default.MIME_TYPE)&&(k=h.test(e.mimeType),l=!0),c++;return k}function c(a){return b(a,g.default.AUDIO)}function d(a){return b(a,g.default.VIDEO)}function e(a){return b(a,g.default.FRAGMENTED_TEXT)}function f(a){return b(a,g.default.TEXT)}function h(a){return b(a,g.default.MUXED)}function j(a){return b(a,g.default.IMAGE)}function l(a){return"text/vtt"===a||"application/ttml+xml"===a}function n(a){var b="";return a&&a.hasOwnProperty(i.default.LANG)&&(b=a.lang.replace(/[^A-Za-z0-9-]/g,"")),b}function p(a){return a&&a.hasOwnProperty(i.default.VIEWPOINT)?a.Viewpoint:null}function r(a){return a&&a.hasOwnProperty(i.default.ROLE_ASARRAY)?a.Role_asArray:[]}function t(a){return a&&a.hasOwnProperty(i.default.ACCESSIBILITY_ASARRAY)?a.Accessibility_asArray:[]}function v(a){return a&&a.hasOwnProperty(i.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?a.AudioChannelConfiguration_asArray:[]}function x(a){return r(a).filter(function(a){return a.value===i.default.MAIN})[0]}function z(){return function(a,b){return a.bandwidth-b.bandwidth}}function B(a){return a&&void 0!==a.Representation_asArray&&null!==a.Representation_asArray&&a.Representation_asArray.sort(z()),a}function D(a,b,c){var d=b&&b.Period_asArray&&qa(c)&&b.Period_asArray[c]?b.Period_asArray[c].AdaptationSet_asArray:[],e=void 0,f=void 0;for(e=0,f=d.length;e<f;e++)if(d[e].hasOwnProperty(i.default.ID)&&d[e].id===a)return d[e];return null}function E(a,b,c){var d=b&&b.Period_asArray&&qa(c)&&b.Period_asArray[c]?b.Period_asArray[c].AdaptationSet_asArray:null;return d&&qa(a)?d[a]:null}function F(a,b,c){var d=b&&b.Period_asArray&&qa(c)&&b.Period_asArray[c]?b.Period_asArray[c].AdaptationSet_asArray:[],e=d.length;if(a)for(var f=0;f<e;f++){var g=(0,A.default)(ka).getInstance();if(g.areEqual(d[f],a))return f}return-1}function G(a,c,d){var e=a&&a.Period_asArray&&qa(c)&&a.Period_asArray[c]?a.Period_asArray[c].AdaptationSet_asArray:[],f=void 0,g=void 0,h=[];for(f=0,g=e.length;f<g;f++)b(e[f],d)&&h.push(B(e[f]));return h}function H(a,b,c,d){var e=G(a,b,c);if(!e||0===e.length)return null;if(e.length>1&&d){var f=ma.getCurrentTrackFor(c,d),g=oa.getAllMediaInfoForType(d,c);if(f)for(var h=0,i=e.length;h<i;h++)if(ma.isTracksEqual(f,g[h]))return e[h];for(var h=0,i=e.length;h<i;h++)if(x(e[h]))return e[h]}return e[0]}function I(a,b,c){if(a&&a.Representation_asArray&&a.Representation_asArray.length>0){var d=qa(b)&&b>=0&&b<a.Representation_asArray.length?a.Representation_asArray[b]:a.Representation_asArray[0],e=d.mimeType+';codecs="'+d.codecs+'"';return c&&void 0!==d.width&&(e+=';width="'+d.width+'";height="'+d.height+'"'),e}return null}function J(a){return a&&a.Representation_asArray&&a.Representation_asArray.length>0?a.Representation_asArray[0].mimeType:null}function K(a){return a&&a.hasOwnProperty(i.default.CENC_DEFAULT_KID)?a[i.default.CENC_DEFAULT_KID]:null}function L(a){return a&&a.hasOwnProperty(i.default.CONTENTPROTECTION_ASARRAY)&&0!==a.ContentProtection_asArray.length?a.ContentProtection_asArray:null}function M(a){var b=!1;return a&&a.hasOwnProperty("type")&&(b=a.type===i.default.DYNAMIC),b}function N(a,b){var c=!1;return a&&a.profiles&&a.profiles.length>0&&(c=-1!==a.profiles.indexOf(b)),c}function O(a){return N(a,pa)}function P(a){return a&&a.hasOwnProperty(i.default.MEDIA_PRESENTATION_DURATION)?a.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE}function Q(a){return a&&a.bandwidth?a.bandwidth:NaN}function R(a){var b=arguments.length<=1||void 0===arguments[1]?0:arguments[1],c=NaN;return a&&a.hasOwnProperty(i.default.MINIMUM_UPDATE_PERIOD)&&(c=a.minimumUpdatePeriod),isNaN(c)?c:Math.max(c-b,1)}function S(a){return a&&a.Representation_asArray&&a.Representation_asArray.length?a.Representation_asArray.length:0}function T(a){return a&&a.Representation_asArray&&a.Representation_asArray.length?B(a).Representation_asArray.map(function(a){return{bandwidth:a.bandwidth,width:a.width||0,height:a.height||0,scanType:a.scanType||null}}):null}function U(a){return a&&a.EssentialProperty_asArray&&a.EssentialProperty_asArray.length?a.EssentialProperty_asArray.map(function(a){return{schemeIdUri:a.schemeIdUri,value:a.value}}):null}function V(a,b){return b&&b.Representation_asArray&&b.Representation_asArray.length>0&&qa(a)?b.Representation_asArray[a]:null}function W(a){if(a&&a.period&&qa(a.period.index)){var b=a.period.mpd.manifest.Period_asArray[a.period.index];if(b&&b.AdaptationSet_asArray&&qa(a.index))return B(b.AdaptationSet_asArray[a.index])}}function X(a){var b=a.S_asArray[a.S_asArray.length-1];return!b.hasOwnProperty("r")||b.r>=0}function Y(a){var b=W(a).Representation_asArray[0],c=void 0;return b.hasOwnProperty(i.default.SEGMENT_LIST)?(c=b.SegmentList,!c.hasOwnProperty(i.default.SEGMENT_TIMELINE)||X(c.SegmentTimeline)):!(!b.hasOwnProperty(i.default.SEGMENT_TEMPLATE)||(c=b.SegmentTemplate,!c.hasOwnProperty(i.default.SEGMENT_TIMELINE)))&&X(c.SegmentTimeline)}function Z(a){var b=[],c=W(a),d=void 0,e=void 0;if(a&&a.period&&qa(a.period.index)){var f=ia(a.period.mpd.manifest);f&&(e=f[0])}if(c&&c.Representation_asArray)for(var g=0,h=c.Representation_asArray.length;g<h;++g){var j=c.Representation_asArray[g],m=new k.default;if(m.index=g,m.adaptation=a,j.hasOwnProperty(i.default.ID)&&(m.id=j.id),j.hasOwnProperty(i.default.CODECS)&&(m.codecs=j.codecs),j.hasOwnProperty(i.default.CODEC_PRIVATE_DATA)&&(m.codecPrivateData=j.codecPrivateData),j.hasOwnProperty(i.default.BANDWITH)&&(m.bandwidth=j.bandwidth),j.hasOwnProperty(i.default.WIDTH)&&(m.width=j.width),j.hasOwnProperty(i.default.HEIGHT)&&(m.height=j.height),j.hasOwnProperty(i.default.SCAN_TYPE)&&(m.scanType=j.scanType),j.hasOwnProperty(i.default.MAX_PLAYOUT_RATE)&&(m.maxPlayoutRate=j.maxPlayoutRate),j.hasOwnProperty(i.default.SEGMENT_BASE)?(d=j.SegmentBase,m.segmentInfoType=i.default.SEGMENT_BASE):j.hasOwnProperty(i.default.SEGMENT_LIST)?(d=j.SegmentList,d.hasOwnProperty(i.default.SEGMENT_TIMELINE)?(m.segmentInfoType=i.default.SEGMENT_TIMELINE,m.useCalculatedLiveEdgeTime=X(d.SegmentTimeline)):(m.segmentInfoType=i.default.SEGMENT_LIST,m.useCalculatedLiveEdgeTime=!0)):j.hasOwnProperty(i.default.SEGMENT_TEMPLATE)?(d=j.SegmentTemplate,d.hasOwnProperty(i.default.SEGMENT_TIMELINE)?(m.segmentInfoType=i.default.SEGMENT_TIMELINE,m.useCalculatedLiveEdgeTime=X(d.SegmentTimeline)):m.segmentInfoType=i.default.SEGMENT_TEMPLATE,d.hasOwnProperty(i.default.INITIALIZATION_MINUS)&&(m.initialization=d.initialization.split("$Bandwidth$").join(j.bandwidth).split("$RepresentationID$").join(j.id))):m.segmentInfoType=i.default.BASE_URL,m.essentialProperties=U(j),d){if(d.hasOwnProperty(i.default.INITIALIZATION)){var n=d.Initialization;n.hasOwnProperty(i.default.SOURCE_URL)?m.initialization=n.sourceURL:n.hasOwnProperty(i.default.RANGE)&&(m.range=n.range)}else j.hasOwnProperty(i.default.MIME_TYPE)&&l(j.mimeType)&&(m.range=0);d.hasOwnProperty(i.default.TIMESCALE)&&(m.timescale=d.timescale),d.hasOwnProperty(i.default.DURATION)&&(m.segmentDuration=d.duration/m.timescale),d.hasOwnProperty(i.default.MEDIA)&&(m.media=d.media),d.hasOwnProperty(i.default.START_NUMBER)&&(m.startNumber=d.startNumber),d.hasOwnProperty(i.default.INDEX_RANGE)&&(m.indexRange=d.indexRange),d.hasOwnProperty(i.default.PRESENTATION_TIME_OFFSET)&&(m.presentationTimeOffset=d.presentationTimeOffset/m.timescale),d.hasOwnProperty(i.default.AVAILABILITY_TIME_OFFSET)?m.availabilityTimeOffset=d.availabilityTimeOffset:e&&void 0!==e.availabilityTimeOffset&&(m.availabilityTimeOffset=e.availabilityTimeOffset),d.hasOwnProperty(i.default.AVAILABILITY_TIME_COMPLETE)?m.availabilityTimeComplete="false"!==d.availabilityTimeComplete:e&&void 0!==e.availabilityTimeComplete&&(m.availabilityTimeComplete=e.availabilityTimeComplete)}m.MSETimeOffset=na.calcMSETimeOffset(m),m.path=[a.period.index,a.index,g],b.push(m)}return b}function $(a){var b=a&&qa(a.index)?a.mpd.manifest.Period_asArray[a.index]:null,f=[],k=void 0,l=void 0,n=void 0;if(b&&b.AdaptationSet_asArray)for(n=0;n<b.AdaptationSet_asArray.length;n++)l=b.AdaptationSet_asArray[n],k=new m.default,l.hasOwnProperty(i.default.ID)&&(k.id=l.id),k.index=n,k.period=a,h(l)?k.type=g.default.MUXED:c(l)?k.type=g.default.AUDIO:d(l)?k.type=g.default.VIDEO:e(l)?k.type=g.default.FRAGMENTED_TEXT:j(l)?k.type=g.default.IMAGE:k.type=g.default.TEXT,f.push(k);return f}function _(a){var b=!!a&&M(a.manifest),c=[],d=null,e=null,f=null,g=null,h=void 0,j=void 0;for(j=0,h=a&&a.manifest&&a.manifest.Period_asArray?a.manifest.Period_asArray.length:0;j<h;j++)e=a.manifest.Period_asArray[j],e.hasOwnProperty(i.default.START)?(g=new o.default,g.start=e.start):null!==d&&e.hasOwnProperty(i.default.DURATION)&&null!==f?(g=new o.default,g.start=parseFloat((f.start+f.duration).toFixed(5)),g.duration=e.duration):0!==j||b||(g=new o.default,g.start=0),null!==f&&isNaN(f.duration)&&(f.duration=parseFloat((g.start-f.start).toFixed(5))),null!==g&&(g.id=aa(e,j)),null!==g&&e.hasOwnProperty(i.default.DURATION)&&(g.duration=e.duration),null!==g&&(g.index=j,g.mpd=a,c.push(g),d=e,f=g),e=null,g=null;return 0===c.length?c:(null!==f&&isNaN(f.duration)&&(f.duration=parseFloat((ca(f)-f.start).toFixed(5))),c)}function aa(a,b){if(!a)throw new Error("Period cannot be null or undefined");var c=o.default.DEFAULT_ID+"_"+b;return a.hasOwnProperty(i.default.ID)&&a.id.length>0&&"__proto__"!==a.id&&(c=a.id),c}function ba(a){var b=new q.default;return a&&(b.manifest=a,a.hasOwnProperty(i.default.AVAILABILITY_START_TIME)?b.availabilityStartTime=new Date(a.availabilityStartTime.getTime()):b.availabilityStartTime=new Date(a.loadedTime.getTime()),a.hasOwnProperty(i.default.AVAILABILITY_END_TIME)&&(b.availabilityEndTime=new Date(a.availabilityEndTime.getTime())),a.hasOwnProperty(i.default.MINIMUM_UPDATE_PERIOD)&&(b.minimumUpdatePeriod=a.minimumUpdatePeriod),a.hasOwnProperty(i.default.MEDIA_PRESENTATION_DURATION)&&(b.mediaPresentationDuration=a.mediaPresentationDuration),a.hasOwnProperty(g.default.SUGGESTED_PRESENTATION_DELAY)&&(b.suggestedPresentationDelay=a.suggestedPresentationDelay),a.hasOwnProperty(i.default.TIMESHIFT_BUFFER_DEPTH)&&(b.timeShiftBufferDepth=a.timeShiftBufferDepth),a.hasOwnProperty(i.default.MAX_SEGMENT_DURATION)&&(b.maxSegmentDuration=a.maxSegmentDuration)),b}function ca(a){var b=M(a.mpd.manifest),c=void 0;if(a.mpd.manifest.mediaPresentationDuration)c=a.mpd.manifest.mediaPresentationDuration;else if(a.duration)c=a.duration;else{if(!b)throw new Error("Must have @mediaPresentationDuratio on MPD or an explicit @duration on the last period.");c=Number.POSITIVE_INFINITY}return c}function da(a){var b=a&&a.mpd&&a.mpd.manifest?a.mpd.manifest:null,c=b?b.Period_asArray:null,d=c&&a&&qa(a.index)?c[a.index].EventStream_asArray:null,e=[],f=void 0,h=void 0;if(d)for(f=0;f<d.length;f++){var j=new y.default;if(j.period=a,j.timescale=1,!d[f].hasOwnProperty(g.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(j.schemeIdUri=d[f].schemeIdUri,d[f].hasOwnProperty(i.default.TIMESCALE)&&(j.timescale=d[f].timescale),d[f].hasOwnProperty(i.default.VALUE)&&(j.value=d[f].value),h=0;h<d[f].Event_asArray.length;h++){var k=new u.default;k.presentationTime=0,k.eventStream=j,d[f].Event_asArray[h].hasOwnProperty(i.default.PRESENTATION_TIME)&&(k.presentationTime=d[f].Event_asArray[h].presentationTime),d[f].Event_asArray[h].hasOwnProperty(i.default.DURATION)&&(k.duration=d[f].Event_asArray[h].duration),d[f].Event_asArray[h].hasOwnProperty(i.default.ID)&&(k.id=d[f].Event_asArray[h].id),e.push(k)}}return e}function ea(a,b){var c=[],d=void 0;if(!a)return c;for(d=0;d<a.length;d++){var e=new y.default;if(e.timescale=1,e.representation=b,!a[d].hasOwnProperty(g.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");e.schemeIdUri=a[d].schemeIdUri,a[d].hasOwnProperty(i.default.TIMESCALE)&&(e.timescale=a[d].timescale),a[d].hasOwnProperty(i.default.VALUE)&&(e.value=a[d].value),c.push(e)}return c}function fa(a,b){var c=void 0,d=void 0,e=void 0;return a&&a.Period_asArray&&b&&b.period&&qa(b.period.index)&&(d=a.Period_asArray[b.period.index])&&d.AdaptationSet_asArray&&qa(b.index)&&(e=d.AdaptationSet_asArray[b.index])&&(c=e.InbandEventStream_asArray),ea(c,null)}function ga(a,b){var c=void 0,d=void 0,e=void 0,f=void 0;return a&&a.Period_asArray&&b&&b.adaptation&&b.adaptation.period&&qa(b.adaptation.period.index)&&(d=a.Period_asArray[b.adaptation.period.index])&&d.AdaptationSet_asArray&&qa(b.adaptation.index)&&(e=d.AdaptationSet_asArray[b.adaptation.index])&&e.Representation_asArray&&qa(b.index)&&(f=e.Representation_asArray[b.index])&&(c=f.InbandEventStream_asArray),ea(c,b)}function ha(a){var b=M(a),c=!!a&&a.hasOwnProperty(i.default.AVAILABILITY_START_TIME),d=a?a.UTCTiming_asArray:null,e=[];return(b||c)&&d&&d.forEach(function(a){var b=new s.default;a.hasOwnProperty(g.default.SCHEME_ID_URI)&&(b.schemeIdUri=a.schemeIdUri,a.hasOwnProperty(i.default.VALUE)&&(b.value=a.value.toString(),e.push(b)))}),e}function ia(a){var b=[],c=a.BaseURL_asArray||[a.baseUri],d=!1;return c.some(function(c){if(c){var e=new w.default,f=c.__text||c;return la.isRelative(f)&&(d=!0,a.baseUri&&(f=la.resolve(f,a.baseUri))),e.url=f,c.hasOwnProperty(i.default.SERVICE_LOCATION)&&c.serviceLocation.length?e.serviceLocation=c.serviceLocation:e.serviceLocation=f,c.hasOwnProperty(i.default.DVB_PRIORITY)&&(e.dvb_priority=c[i.default.DVB_PRIORITY]),c.hasOwnProperty(i.default.DVB_WEIGHT)&&(e.dvb_weight=c[i.default.DVB_WEIGHT]),c.hasOwnProperty(i.default.AVAILABILITY_TIME_OFFSET)&&(e.availabilityTimeOffset=c[i.default.AVAILABILITY_TIME_OFFSET]),c.hasOwnProperty(i.default.AVAILABILITY_TIME_COMPLETE)&&(e.availabilityTimeComplete="false"!==c[i.default.AVAILABILITY_TIME_COMPLETE]),b.push(e),d}}),b}function ja(a){if(a&&a.hasOwnProperty(g.default.LOCATION))return a.Location=a.Location_asArray[0],a.Location}a=a||{};var ka=this.context,la=(0,C.default)(ka).getInstance(),ma=a.mediaController,na=a.timelineConverter,oa=a.adapter,pa="urn:dvb:dash:profile:dvb-dash:2014",qa=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a};return{getIsTypeOf:b,getIsAudio:c,getIsVideo:d,getIsText:f,getIsMuxed:h,getIsTextTrack:l,getIsFragmentedText:e,getIsImage:j,getIsMain:x,getLanguageForAdaptation:n,getViewpointForAdaptation:p,getRolesForAdaptation:r,getAccessibilityForAdaptation:t,getAudioChannelConfigurationForAdaptation:v,getAdaptationForIndex:E,getIndexForAdaptation:F,getAdaptationForId:D,getAdaptationsForType:G,getAdaptationForType:H,getCodec:I,getMimeType:J,getKID:K,getContentProtectionData:L,getIsDynamic:M,getIsDVB:O,getDuration:P,getBandwidth:Q,getManifestUpdatePeriod:R,getRepresentationCount:S,getBitrateListForAdaptation:T,getRepresentationFor:V,getRepresentationsForAdaptation:Z,getAdaptationsForPeriod:$,getRegularPeriods:_,getMpd:ba,getEventsForPeriod:da,getEventStreamForAdaptationSet:fa,getEventStreamForRepresentation:ga,getUTCTimingSources:ha,getBaseURLsFromElement:ia,getRepresentationSortFunction:z,getLocation:ja,getUseCalculatedLiveEdgeTimeForAdaptation:Y}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(58),i=d(h),j=a(85),k=d(j),l=a(79),m=d(l),n=a(84),o=d(n),p=a(83),q=d(p),r=a(87),s=d(r),t=a(81),u=d(t),v=a(80),w=d(v),x=a(82),y=d(x),z=a(204),A=d(z),B=a(207),C=d(B),D=a(48),E=d(D);e.__dashjs_factory_name="DashManifestModel",c.default=E.default.getSingletonFactory(e),b.exports=c.default},{204:204,207:207,48:48,58:58,79:79,80:80,81:81,82:82,83:83,84:84,85:85,87:87,99:99}],61:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){if(!h||!h.hasOwnProperty("manifestError"))throw new Error("Missing config parameter(s)")}function c(){return l}function d(){return p}function e(a){var c=void 0;b();try{var d=window.performance.now();if(!(c=n.xml_str2json(a)))throw new Error("parser error");var e=window.performance.now();p.run(c);var f=window.performance.now();g("Parsing complete: ( xml2json: "+(e-d).toPrecision(3)+"ms, objectiron: "+(f-e).toPrecision(3)+"ms, total: "+((f-d)/1e3).toPrecision(3)+"s)")}catch(b){return h.manifestError("parsing the manifest failed","parse",a,b),null}return c}a=a||{};var f=this.context,g=(0,i.default)(f).getInstance().log,h=a.errorHandler,j=void 0,l=void 0,n=void 0,p=void 0;return j={parse:e,getMatchers:c,getIron:d},function(){l=[new q.default,new s.default,new u.default,new o.default],n=new m.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:l}),p=new k.default([new w.default,new y.default])}(),j}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(46),i=d(h),j=a(3),k=d(j),l=a(4),m=d(l),n=a(70),o=d(n),p=a(68),q=d(p),r=a(67),s=d(r),t=a(69),u=d(t),v=a(64),w=d(v),x=a(65),y=d(x);e.__dashjs_factory_name="DashParser",c.default=g.default.getClassFactory(e),b.exports=c.default},{3:3,4:4,46:46,48:48,64:64,65:65,67:67,68:68,69:69,70:70}],62:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){d(this,a);this._name=b,this._merge=void 0!==c?c:function(a){return a&&a.length&&a.charAt(0)===a.charAt(0).toUpperCase()}(b)}return e(a,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),a}();c.default=f,b.exports=c.default},{}],63:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a(62),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b,c,e,f,h){var i=this;d(this,a),this._name=b||"",this._properties=[],this._children=e||[],this._isRoot=f||!1,this._isArray=h||!0,Array.isArray(c)&&c.forEach(function(a){i._properties.push(new g.default(a))})}return e(a,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),a}();c.default=h,b.exports=c.default},{62:62}],64:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(63),i=d(h),j=a(58),k=d(j),l=function(a){function b(){e(this,b);var a=[k.default.PROFILES,k.default.WIDTH,k.default.HEIGHT,k.default.SAR,k.default.FRAMERATE,k.default.AUDIO_SAMPLING_RATE,k.default.MIME_TYPE,k.default.SEGMENT_PROFILES,k.default.CODECS,k.default.MAXIMUM_SAP_PERIOD,k.default.START_WITH_SAP,k.default.MAX_PLAYOUT_RATE,k.default.CODING_DEPENDENCY,k.default.SCAN_TYPE,k.default.FRAME_PACKING,k.default.AUDIO_CHANNEL_CONFIGURATION,k.default.CONTENT_PROTECTION,k.default.ESSENTIAL_PROPERTY,k.default.SUPPLEMENTAL_PROPERTY,k.default.INBAND_EVENT_STREAM];g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,k.default.ADAPTATION_SET,a,[new i.default(k.default.REPRESENTATION,a,[new i.default(k.default.SUB_REPRESENTATION,a)])])}return f(b,a),b}(i.default);c.default=l,b.exports=c.default},{58:58,63:63}],65:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(63),i=d(h),j=a(58),k=d(j),l=function(a){function b(){e(this,b);var a=[k.default.SEGMENT_BASE,k.default.SEGMENT_TEMPLATE,k.default.SEGMENT_LIST];g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,k.default.PERIOD,a,[new i.default(k.default.ADAPTATION_SET,a,[new i.default(k.default.REPRESENTATION,a)])])}return f(b,a),b}(i.default);c.default=l,b.exports=c.default},{58:58,63:63}],66:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){d(this,a),this._test=b,this._converter=c}return e(a,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),a}();c.default=f,b.exports=c.default},{}],67:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},g=a(66),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=60,j=60,k=1e3,l=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,m=function(a){function b(){d(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(a){return l.test(a.value)},function(a){var b=l.exec(a),c=void 0;if(c=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),b[6]&&parseInt(b[6],10)||0,b[7]&&parseFloat(b[7])*k||0),b[9]&&b[10]){var d=parseInt(b[9],10)*j+parseInt(b[10],10);c+=("+"===b[8]?-1:1)*d*i*k}return new Date(c)})}return e(b,a),b}(h.default);c.default=m,b.exports=c.default},{66:66}],68:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(66),i=d(h),j=a(99),k=d(j),l=a(58),m=d(l),n=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,o=31536e3,p=2592e3,q=86400,r=3600,s=60,t=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(a){for(var b=[m.default.MIN_BUFFER_TIME,m.default.MEDIA_PRESENTATION_DURATION,m.default.MINIMUM_UPDATE_PERIOD,m.default.TIMESHIFT_BUFFER_DEPTH,m.default.MAX_SEGMENT_DURATION,m.default.MAX_SUBSEGMENT_DURATION,k.default.SUGGESTED_PRESENTATION_DELAY,m.default.START,k.default.START_TIME,m.default.DURATION],c=b.length,d=0;d<c;d++)if(a.nodeName===b[d])return n.test(a.value);return!1},function(a){var b=n.exec(a),c=parseFloat(b[2]||0)*o+parseFloat(b[4]||0)*p+parseFloat(b[6]||0)*q+parseFloat(b[8]||0)*r+parseFloat(b[10]||0)*s+parseFloat(b[12]||0);return void 0!==b[1]&&(c=-c),c})}return f(b,a),b}(i.default);c.default=t,b.exports=c.default},{58:58,66:66,99:99}],69:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},g=a(66),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,j=function(a){function b(){d(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(a){return i.test(a.value)},function(a){return parseFloat(a)})}return e(b,a),b}(h.default);c.default=j,b.exports=c.default},{66:66}],70:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a(66),j=d(i),k=a(58),l=d(k),m=function(a){function b(){f(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(a,b){var c,d=(c={},e(c,l.default.MPD,[l.default.ID,l.default.PROFILES]),e(c,l.default.PERIOD,[l.default.ID]),e(c,l.default.BASE_URL,[l.default.SERVICE_LOCATION,l.default.BYTE_RANGE]),e(c,l.default.SEGMENT_BASE,[l.default.INDEX_RANGE]),e(c,l.default.INITIALIZATION,[l.default.RANGE]),e(c,l.default.REPRESENTATION_INDEX,[l.default.RANGE]),e(c,l.default.SEGMENT_LIST,[l.default.INDEX_RANGE]),e(c,l.default.BITSTREAM_SWITCHING,[l.default.RANGE]),e(c,l.default.SEGMENT_URL,[l.default.MEDIA_RANGE,l.default.INDEX_RANGE]),e(c,l.default.SEGMENT_TEMPLATE,[l.default.INDEX_RANGE,l.default.MEDIA,l.default.INDEX,l.default.INITIALIZATION_MINUS,l.default.BITSTREAM_SWITCHING_MINUS]),e(c,l.default.ASSET_IDENTIFIER,[l.default.VALUE,l.default.ID]),e(c,l.default.EVENT_STREAM,[l.default.VALUE]),e(c,l.default.ADAPTATION_SET,[l.default.PROFILES,l.default.MIME_TYPE,l.default.SEGMENT_PROFILES,l.default.CODECS,l.default.CONTENT_TYPE]),e(c,l.default.FRAME_PACKING,[l.default.VALUE,l.default.ID]),e(c,l.default.AUDIO_CHANNEL_CONFIGURATION,[l.default.VALUE,l.default.ID]),e(c,l.default.CONTENT_PROTECTION,[l.default.VALUE,l.default.ID]),e(c,l.default.ESSENTIAL_PROPERTY,[l.default.VALUE,l.default.ID]),e(c,l.default.SUPPLEMENTAL_PROPERTY,[l.default.VALUE,l.default.ID]),e(c,l.default.INBAND_EVENT_STREAM,[l.default.VALUE,l.default.ID]),e(c,l.default.ACCESSIBILITY,[l.default.VALUE,l.default.ID]),e(c,l.default.ROLE,[l.default.VALUE,l.default.ID]),e(c,l.default.RATING,[l.default.VALUE,l.default.ID]),e(c,l.default.VIEWPOINT,[l.default.VALUE,l.default.ID]),e(c,l.default.CONTENT_COMPONENT,[l.default.CONTENT_TYPE]),e(c,l.default.REPRESENTATION,[l.default.ID,l.default.DEPENDENCY_ID,l.default.MEDIA_STREAM_STRUCTURE_ID]),e(c,l.default.SUBSET,[l.default.ID]),e(c,l.default.METRICS,[l.default.METRICS_MINUS]),e(c,l.default.REPORTING,[l.default.VALUE,l.default.ID]),c);if(d.hasOwnProperty(b)){var f=d[b];return void 0!==f&&f.indexOf(a.name)>=0}return!1},function(a){return String(a)})}return g(b,a),b}(j.default);c.default=m,b.exports=c.default},{58:58,66:66}],71:[function(a,b,c){"use strict";function d(){function a(a){a&&a.boxParser&&(d=a.boxParser)}function b(a){if(!d)throw new Error("boxParser is undefined");if(!a||0===a.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var b=d.parse(a),c=b.getBoxes("moof"),e=b.getBoxes("mfhd"),f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0;u=b.getBoxes("moof").length,t=e[e.length-1].sequence_number,h=0,k=[];var w=-1,x=-1;for(p=0;p<c.length;p++){var y=c[p],z=y.getChildBoxes("traf");for(n=0;n<z.length;n++){var A=z[n],B=A.getChildBox("tfhd"),C=A.getChildBox("tfdt");j=C.baseMediaDecodeTime;var D=A.getChildBoxes("trun"),E=A.getChildBoxes("subs");for(o=0;o<D.length;o++){var F=D[o];for(h=F.sample_count,s=(B.base_data_offset||0)+(F.data_offset||0),m=0;m<h;m++){l=F.samples[m],f=void 0!==l.sample_duration?l.sample_duration:B.default_sample_duration,i=void 0!==l.sample_size?l.sample_size:B.default_sample_size,g=void 0!==l.sample_composition_time_offset?l.sample_composition_time_offset:0;var G={dts:j,cts:j+g,duration:f,offset:y.offset+s,size:i,subSizes:[i]};if(E)for(q=0;q<E.length;q++){var H=E[q];if(w<H.entry_count&&m>x&&(w++,x+=H.entries[w].sample_delta),m==x){G.subSizes=[];var I=H.entries[w];for(r=0;r<I.subsample_count;r++)G.subSizes.push(I.subsamples[r].subsample_size)}}k.push(G),s+=i,j+=f}}v=j-C.baseMediaDecodeTime}}return{sampleList:k,lastSequenceNumber:t,totalDuration:v,numSequences:u}}function c(a){if(!d)throw new Error("boxParser is undefined");var b=d.parse(a),c=b?b.getBox("mdhd"):void 0;return c?c.timescale:NaN}var d=void 0;return{getSamplesInfo:b,getMediaTimescaleFromMoov:c,setConfig:a}}
Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="FragmentedTextBoxParser",c.default=f.default.getSingletonFactory(d),b.exports=c.default},{48:48}],72:[function(a,b,c){"use strict";function d(a,b){function c(a,c,e,f){var h=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentList,i=h.SegmentURL_asArray.length,j=[],k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0;for(q=a.startNumber,n=(0,g.decideSegmentListRangeForTemplate)(d,b,a,c,e,f),o=Math.max(n.start,0),p=Math.min(n.end,h.SegmentURL_asArray.length-1),k=o;k<=p;k++)m=h.SegmentURL_asArray[k],l=(0,g.getIndexBasedSegment)(d,b,a,k),l.replacementTime=(q+k-1)*a.segmentDuration,l.media=m.media?m.media:"",l.mediaRange=m.mediaRange,l.index=m.index,l.indexRange=m.indexRange,j.push(l),l=null;return a.availableSegmentsNumber=i,j}a=a||{};var d=a.timelineConverter;return{getSegments:c}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=a(75);d.__dashjs_factory_name="ListSegmentsGetter";var h=f.default.getClassFactory(d);c.default=h,b.exports=c.default},{48:48,75:75}],73:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){return void 0===c||0==+c?Math[a](b):(b=+b,c=+c,null===b||isNaN(b)||"number"!=typeof c||c%1!=0?NaN:(b=b.toString().split("e"),b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c))),b=b.toString().split("e"),+(b[0]+"e"+(b[1]?+b[1]+c:c))))}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(){function a(){d(this,a)}return f(a,null,[{key:"round10",value:function(a,b){return e("round",a,b)}}]),a}();c.default=g,b.exports=c.default},{}],74:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(a,b,c,e,f){var k=void 0,l=a.segmentInfoType;l!==g.default.SEGMENT_BASE&&l!==g.default.BASE_URL&&d(a,c)?(l===g.default.SEGMENT_TIMELINE?k=h.getSegments(a,b,c,f):l===g.default.SEGMENT_TEMPLATE?k=i.getSegments(a,b,c,f):l===g.default.SEGMENT_LIST&&(k=j.getSegments(a,b,c,f)),e&&e(a,k)):k=a.segments}function d(a,b){var c=a.segments,d=!1,e=void 0,f=void 0;return c&&0!==c.length?(f=c[0].availabilityIdx,e=c[c.length-1].availabilityIdx,d=b<f||b>e):d=!0,d}var e=this.context,f=void 0,h=void 0,i=void 0,j=void 0;return f={getSegments:c},function(){h=(0,k.default)(e).create(a,b),i=(0,m.default)(e).create(a,b),j=(0,o.default)(e).create(a,b)}(),f}Object.defineProperty(c,"__esModule",{value:!0});var f=a(58),g=d(f),h=a(48),i=d(h),j=a(78),k=d(j),l=a(76),m=d(l),n=a(72),o=d(n);e.__dashjs_factory_name="SegmentsGetter";var p=i.default.getClassFactory(e);c.default=p,b.exports=c.default},{48:48,58:58,72:72,76:76,78:78}],75:[function(a,b,c){"use strict";function d(a,b){for(;a.length<b;)a="0"+a;return a}function e(a,b){return a.representation.startNumber+b}function f(a){return a?a.split("$$").join("$"):a}function g(a,b){if(!b||!a||-1===a.indexOf("$RepresentationID$"))return a;var c=b.toString();return a.split("$RepresentationID$").join(c)}function h(a,b,c){var e=void 0,f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=b.length,l="%0".length;if(!a)return a;for(;;){if((e=a.indexOf("$"+b))<0)return a;if((f=a.indexOf("$",e+k))<0)return a;if((g=a.indexOf("%0",e+k))>e&&g<f)switch(h=a.charAt(f-1),i=parseInt(a.substring(g+l,f-1),10),h){case"d":case"i":case"u":j=d(c.toString(),i);break;case"x":j=d(c.toString(16),i);break;case"X":j=d(c.toString(16),i).toUpperCase();break;case"o":j=d(c.toString(8),i);break;default:return a}else j=c;a=a.substring(0,e)+j+a.substring(f+1)}}function i(a,b,c,d){var f=void 0,g=void 0,h=void 0,i=void 0;return g=c.segmentDuration,isNaN(g)&&(g=c.adaptation.period.duration),h=parseFloat((c.adaptation.period.start+d*g).toFixed(5)),i=parseFloat((h+g).toFixed(5)),f=new n.default,f.representation=c,f.duration=g,f.presentationStartTime=h,f.mediaStartTime=a.calcMediaTimeFromPresentationTime(f.presentationStartTime,c),f.availabilityStartTime=a.calcAvailabilityStartTimeFromPresentationTime(f.presentationStartTime,c.adaptation.period.mpd,b),f.availabilityEndTime=a.calcAvailabilityEndTimeFromPresentationTime(i,c.adaptation.period.mpd,b),f.wallStartTime=a.calcWallTimeForSegment(f,b),f.replacementNumber=e(f,d),f.availabilityIdx=d,f}function j(a,b,c,d,f,g,i,j,k,l){var m=d/g,o=Math.min(f/g,c.adaptation.period.mpd.maxSegmentDuration),p=void 0,q=void 0,r=void 0;return p=a.calcPresentationTimeFromMediaTime(m,c),q=p+o,r=new n.default,r.representation=c,r.duration=o,r.mediaStartTime=m,r.presentationStartTime=p,r.availabilityStartTime=c.adaptation.period.mpd.manifest.loadedTime,r.availabilityEndTime=a.calcAvailabilityEndTimeFromPresentationTime(q,c.adaptation.period.mpd,b),r.wallStartTime=a.calcWallTimeForSegment(r,b),r.replacementTime=l||d,r.replacementNumber=e(r,k),i=h(i,"Number",r.replacementNumber),i=h(i,"Time",r.replacementTime),r.media=i,r.mediaRange=j,r.availabilityIdx=k,r}function k(a,b){if(!b||!b.segments)return null;var c=b.segments.length,d=void 0,e=void 0;if(a<c&&(d=b.segments[a])&&d.availabilityIdx===a)return d;for(e=0;e<c;e++)if((d=b.segments[e])&&d.availabilityIdx===a)return d;return null}function l(a,b,c,d,e,f){var g=c.segmentDuration,h=c.adaptation.period.mpd.manifest.minBufferTime,i=c.segmentAvailabilityRange,j={start:a.calcPeriodRelativeTimeFromMpdRelativeTime(c,i.start),end:a.calcPeriodRelativeTimeFromMpdRelativeTime(c,i.end)},l=c.segments,m=2*g,n=f||Math.max(2*h,10*g),o=NaN,p=null,q=void 0,r=void 0;return j.start=Math.max(j.start,0),b&&!a.isTimeSyncCompleted()?(q=Math.floor(j.start/g),r=Math.floor(j.end/g),{start:q,end:r}):(l&&l.length>0?(p=k(e,c),o=p?a.calcPeriodRelativeTimeFromMpdRelativeTime(c,p.presentationStartTime):e>0?e*g:a.calcPeriodRelativeTimeFromMpdRelativeTime(c,d)):o=e>0?e*g:b?j.end:j.start,q=Math.floor(Math.max(o-m,j.start)/g),r=Math.floor(Math.min(q+n/g,j.end/g)),{start:q,end:r})}Object.defineProperty(c,"__esModule",{value:!0}),c.unescapeDollarsInTemplate=f,c.replaceIDForTemplate=g,c.replaceTokenForTemplate=h,c.getIndexBasedSegment=i,c.getTimeBasedSegment=j,c.getSegmentByIndex=k,c.decideSegmentListRangeForTemplate=l;var m=a(86),n=function(a){return a&&a.__esModule?a:{default:a}}(m)},{86:86}],76:[function(a,b,c){"use strict";function d(a,b){function c(a,c,e,f){var h=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentTemplate,i=a.segmentDuration,j=a.segmentAvailabilityRange,k=[],l=null,m=null,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0;for(r=a.startNumber,n=isNaN(i)&&!b?{start:r,end:r}:(0,g.decideSegmentListRangeForTemplate)(d,b,a,c,e,f),p=n.start,q=n.end,o=p;o<=q;o++)m=(0,g.getIndexBasedSegment)(d,b,a,o),m.replacementTime=(r+o-1)*a.segmentDuration,l=h.media,l=(0,g.replaceTokenForTemplate)(l,"Number",m.replacementNumber),l=(0,g.replaceTokenForTemplate)(l,"Time",m.replacementTime),m.media=l,k.push(m),m=null;return isNaN(i)?a.availableSegmentsNumber=1:a.availableSegmentsNumber=Math.ceil((j.end-j.start)/i),k}var d=a.timelineConverter;return{getSegments:c}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=a(75);d.__dashjs_factory_name="TemplateSegmentsGetter";var h=f.default.getClassFactory(d);c.default=h,b.exports=c.default},{48:48,75:75}],77:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){u(),x.on(i.default.TIME_SYNCHRONIZATION_COMPLETED,s,this)}function b(){return z}function c(a){z=a}function d(){return y}function e(a){y=a}function f(){return A}function h(a){A=a}function j(a,b,c,d){return d?c&&b.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(b.availabilityStartTime.getTime()+1e3*(a+b.timeShiftBufferDepth)):b.availabilityEndTime:c?new Date(b.availabilityStartTime.getTime()+1e3*(a-y)):b.availabilityStartTime}function k(a,b,c){return j.call(this,a,b,c)}function l(a,b,c){return j.call(this,a,b,c,!0)}function m(a,b){return(a.getTime()-b.mpd.availabilityStartTime.getTime()+1e3*y)/1e3}function n(a,b){return a+(b.adaptation.period.start-b.presentationTimeOffset)}function o(a,b){return a-b.adaptation.period.start+b.presentationTimeOffset}function p(a,b){var c=void 0,d=void 0,e=void 0;return b&&(c=a.representation.adaptation.period.mpd.suggestedPresentationDelay,d=a.presentationStartTime+c,e=new Date(a.availabilityStartTime.getTime()+1e3*d)),e}function q(a,b){var c=a.adaptation.period,d={start:c.start,end:c.start+c.duration};if(!b)return d;if(!z&&a.segmentAvailabilityRange)return a.segmentAvailabilityRange;var e=a.segmentDuration||(a.segments&&a.segments.length?a.segments[a.segments.length-1].duration:0),f=m(new Date,c),g=c.start+c.duration;d.start=Math.max(f-c.mpd.timeShiftBufferDepth,c.start);var h=void 0!==a.availabilityTimeOffset&&a.availabilityTimeOffset<e?e-a.availabilityTimeOffset:e;return d.end=f>=g&&f-h<g?g:f-h,d}function r(a,b){return b-a.adaptation.period.start}function s(a){z||void 0!==a.offset&&(e(a.offset/1e3),z=!0)}function t(a){var b=a.presentationTimeOffset;return a.adaptation.period.start-b}function u(){y=0,z=!1,A=NaN}function v(){x.off(i.default.TIME_SYNCHRONIZATION_COMPLETED,s,this),u()}var w=this.context,x=(0,g.default)(w).getInstance(),y=void 0,z=void 0,A=void 0;return{initialize:a,isTimeSyncCompleted:b,setTimeSyncCompleted:c,getClientTimeOffset:d,setClientTimeOffset:e,getExpectedLiveEdge:f,setExpectedLiveEdge:h,calcAvailabilityStartTimeFromPresentationTime:k,calcAvailabilityEndTimeFromPresentationTime:l,calcPresentationTimeFromWallTime:m,calcPresentationTimeFromMediaTime:n,calcPeriodRelativeTimeFromMpdRelativeTime:r,calcMediaTimeFromPresentationTime:o,calcSegmentAvailabilityRange:q,calcWallTimeForSegment:p,calcMSETimeOffset:t,reset:v}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(47),g=d(f),h=a(51),i=d(h),j=a(48),k=d(j);e.__dashjs_factory_name="TimelineConverter",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{47:47,48:48,51:51}],78:[function(a,b,c){"use strict";function d(a,b){function c(){if(!(e&&e.hasOwnProperty("calcMediaTimeFromPresentationTime")&&e.hasOwnProperty("calcSegmentAvailabilityRange")&&e.hasOwnProperty("calcMediaTimeFromPresentationTime")))throw new Error("Missing config parameter(s)")}function d(a,d,f,h){if(c(),!a)throw new Error("no representation");void 0===d&&(d=null);var i=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentTemplate||a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentList,j=i.SegmentTimeline,k=i.SegmentURL_asArray,l=a.availableSegmentsNumber>0,m=void 0;m=h||(f>-1||null!==d?10:1/0);var n=0,o=0,p=-1,q=[],r=null,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=function(c,d){var f=i.media,h=c.mediaRange;return k&&(f=k[d].media||"",h=k[d].mediaRange),(0,g.getTimeBasedSegment)(e,b,a,n,c.d,C,f,h,p,c.tManifest)};for(C=a.timescale,s=j.S_asArray,B=f,null!==d&&(r=e.calcMediaTimeFromPresentationTime(d,a)),u=0,v=s.length;u<v;u++){if(t=s[u],x=0,t.hasOwnProperty("r")&&(x=t.r),t.hasOwnProperty("t")&&(n=t.t,o=n/C),x<0){if((z=s[u+1])&&z.hasOwnProperty("t"))y=z.t/C;else{var E=a.segmentAvailabilityRange?a.segmentAvailabilityRange.end:e.calcSegmentAvailabilityRange(a,b).end;y=e.calcMediaTimeFromPresentationTime(E,a),a.segmentDuration=t.d/C}x=Math.ceil((y-o)/(t.d/C))-1}if(A){if(l)break;p+=x+1}else for(w=0;w<=x;w++)if(p++,q.length>m){if(A=!0,l)break}else null!==r?o>=r-t.d/C*1.5&&q.push(D(t,p)):p>=B&&q.push(D(t,p)),n+=t.d,o=n/C}return l||(a.availableSegmentsNumber=p+1),q}a=a||{};var e=a.timelineConverter;return{getSegments:d}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=a(75);d.__dashjs_factory_name="TimelineSegmentsGetter";var h=f.default.getClassFactory(d);c.default=h,b.exports=c.default},{48:48,75:75}],79:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.period=null,this.index=-1,this.type=null};c.default=e,b.exports=c.default},{}],80:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c,e,f){d(this,a),this.url=b||"",this.serviceLocation=c||b||"",this.dvb_priority=e||1,this.dvb_weight=f||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};e.DEFAULT_DVB_PRIORITY=1,e.DEFAULT_DVB_WEIGHT=1,c.default=e,b.exports=c.default},{}],81:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};c.default=e,b.exports=c.default},{}],82:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};c.default=e,b.exports=c.default},{}],83:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};c.default=e,b.exports=c.default},{}],84:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};e.DEFAULT_ID="defaultId",c.default=e,b.exports=c.default},{}],85:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a(58),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(){d(this,a),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return e(a,null,[{key:"hasInitialization",value:function(a){return null!==a.initialization||null!==a.range}},{key:"hasSegments",value:function(a){return a.segmentInfoType!==g.default.BASE_URL&&a.segmentInfoType!==g.default.SEGMENT_BASE&&!a.indexRange}}]),a}();c.default=h,b.exports=c.default},{58:58}],86:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};c.default=e,b.exports=c.default},{}],87:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.schemeIdUri="",this.value=""};c.default=e,b.exports=c.default},{}],88:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b=function(b){h.trigger(o.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:a,exists:b})};if(a){var c=new i.default(a.url);l.load({request:c,success:function(){b(!0)},error:function(){b(!1)}})}else b(!1)}function c(a){var b=function(b,c){h.trigger(o.default.LOADING_COMPLETED,{request:a,response:b||null,error:c||null,sender:j})};a?l.load({request:a,progress:function(b){h.trigger(o.default.LOADING_PROGRESS,{request:a}),b&&h.trigger(o.default.LOADING_DATA_PROGRESS,{request:a,response:b||null,error:null,sender:j})},success:function(a){b(a)},error:function(a,c,d){b(void 0,new k.default(r,d,c))},abort:function(a){a&&h.trigger(o.default.LOADING_ABANDONED,{request:a,mediaType:a.mediaType,sender:j})}}):b(void 0,new k.default(s,t))}function d(){l&&l.abort()}function e(){l&&(l.abort(),l=null)}a=a||{};var f=this.context,h=(0,m.default)(f).getInstance(),j=void 0,l=void 0;return j={checkForExistence:b,load:c,abort:d,reset:e},function(){l=(0,g.default)(f).create({errHandler:a.errHandler,metricsModel:a.metricsModel,mediaPlayerModel:a.mediaPlayerModel,requestModifier:a.requestModifier,useFetch:a.mediaPlayerModel.getLowLatencyEnabled()})}(),j}Object.defineProperty(c,"__esModule",{value:!0});var f=a(146),g=d(f),h=a(215),i=d(h),j=a(212),k=d(j),l=a(47),m=d(l),n=a(51),o=d(n),p=a(48),q=d(p),r=1,s=2,t="request is null";e.__dashjs_factory_name="FragmentLoader";var u=q.default.getClassFactory(e);u.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=r,u.FRAGMENT_LOADER_ERROR_NULL_REQUEST=s,q.default.updateClassFactory(e.__dashjs_factory_name,u),c.default=u,b.exports=c.default},{146:146,212:212,215:215,47:47,48:48,51:51}],89:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){h.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:a.manifest})}function c(a){var b=null;return a.indexOf("SmoothStreamingMedia")>-1?(x?(b=x.createMssParser(),x.registerEvents()):y.manifestError("manifest type unsupported","createParser"),b):a.indexOf("MPD")>-1?(0,z.default)(f).create({errorHandler:y}):b}function d(a){var b=new o.default(a,r.HTTPRequest.MPD_TYPE);s.load({request:b,success:function(b,d,e){var f=void 0,i=void 0;if(e&&e!==a?(i=j.parseBaseUrl(e),f=e):(j.isRelative(a)&&(a=j.resolve(a,window.location.href)),i=j.parseBaseUrl(a)),null===w&&(w=c(b)),null===w)return void h.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new q.default(C,"Failed detecting manifest type: "+a)});u.setMatchers(w.getMatchers()),u.setIron(w.getIron());var k=w.parse(b);k?(k.url=f||a,k.originalUrl||(k.originalUrl=k.url),k.hasOwnProperty(g.default.LOCATION)&&(i=j.parseBaseUrl(k.Location_asArray[0]),n("BaseURI set by Location to: "+i)),k.baseUri=i,k.loadedTime=new Date,u.resolveManifestOnLoad(k)):h.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new q.default(C,E)})},error:function(b,c,d){h.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new q.default(D,"Failed loading manifest: "+a+", "+d)})}})}function e(){h.off(v.default.XLINK_READY,b,p),u&&(u.reset(),u=null),s&&(s.abort(),s=null),x&&x.reset()}a=a||{};var f=this.context,h=(0,t.default)(f).getInstance(),j=(0,m.default)(f).getInstance(),l=(0,B.default)(f).getInstance(),n=l.log,p=void 0,s=void 0,u=void 0,w=void 0,x=a.mssHandler,y=a.errHandler;return p={load:d,reset:e},function(){h.on(v.default.XLINK_READY,b,p),s=(0,k.default)(f).create({errHandler:y,metricsModel:a.metricsModel,mediaPlayerModel:a.mediaPlayerModel,requestModifier:a.requestModifier}),u=(0,i.default)(f).create({errHandler:y,metricsModel:a.metricsModel,mediaPlayerModel:a.mediaPlayerModel,requestModifier:a.requestModifier}),w=null}(),p}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(114),i=d(h),j=a(146),k=d(j),l=a(207),m=d(l),n=a(223),o=d(n),p=a(212),q=d(p),r=a(232),s=a(47),t=d(s),u=a(51),v=d(u),w=a(48),x=d(w),y=a(61),z=d(y),A=a(46),B=d(A),C=1,D=2,E="parsing failed";e.__dashjs_factory_name="ManifestLoader";var F=x.default.getClassFactory(e);F.MANIFEST_LOADER_ERROR_PARSING_FAILURE=C,F.MANIFEST_LOADER_ERROR_LOADING_FAILURE=D,x.default.updateClassFactory(e.__dashjs_factory_name,F),c.default=F,b.exports=c.default},{114:114,146:146,207:207,212:212,223:223,232:232,46:46,47:47,48:48,51:51,61:61,99:99}],90:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&(a.manifestModel&&(z=a.manifestModel),a.dashManifestModel&&(A=a.dashManifestModel),a.mediaPlayerModel&&(B=a.mediaPlayerModel),a.manifestLoader&&(y=a.manifestLoader))}function b(){d(),t.on(i.default.STREAMS_COMPOSED,q,this),t.on(i.default.PLAYBACK_STARTED,o,this),t.on(i.default.PLAYBACK_PAUSED,p,this),t.on(i.default.INTERNAL_MANIFEST_LOADED,n,this)}function c(a){k(a)}function d(){u=NaN,x=!1,w=!0,f()}function e(){t.off(i.default.PLAYBACK_STARTED,o,this),t.off(i.default.PLAYBACK_PAUSED,p,this),t.off(i.default.STREAMS_COMPOSED,q,this),t.off(i.default.INTERNAL_MANIFEST_LOADED,n,this),d()}function f(){null!==v&&(clearInterval(v),v=null)}function h(a){f(),isNaN(a)&&!isNaN(u)&&(a=1e3*u),isNaN(a)||(s("Refresh manifest in "+a+" milliseconds."),v=setTimeout(l,a))}function j(){x=!0;var a=z.getValue(),b=a.url,c=A.getLocation(a);c&&(b=c),y.load(b)}function k(a){z.setValue(a);var b=new Date,c=(b.getTime()-a.loadedTime.getTime())/1e3;u=A.getManifestUpdatePeriod(a,c),1e3*u>2147483647&&(u=2147483.647),t.trigger(i.default.MANIFEST_UPDATED,{manifest:a}),s("Manifest has been refreshed at "+b+"["+b.getTime()/1e3+"] "),w||h()}function l(){if(!w||B.getScheduleWhilePaused())return x?void h(B.getManifestUpdateRetryInterval()):void j()}function n(a){a.error||k(a.manifest)}function o(){w=!1,h()}function p(){w=!0,f()}function q(){x=!1}var r=this.context,s=(0,m.default)(r).getInstance().log,t=(0,g.default)(r).getInstance(),u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0;return{initialize:b,setManifest:c,refreshManifest:j,setConfig:a,reset:e}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(47),g=d(f),h=a(51),i=d(h),j=a(48),k=d(j),l=a(46),m=d(l);e.__dashjs_factory_name="ManifestUpdater",c.default=k.default.getClassFactory(e),b.exports=c.default},{46:46,47:47,48:48,51:51}],91:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&(a.capabilities&&(Zc=a.capabilities),a.streamController&&($c=a.streamController),a.playbackController&&(_c=a.playbackController),a.mediaPlayerModel&&(Xc=a.mediaPlayerModel),a.abrController&&(Pc=a.abrController),a.mediaController&&(Rc=a.mediaController))}function b(a,b,c){if(Zc||(Zc=(0,w.default)(Ec).getInstance()),Yc=(0,u.default)(Ec).getInstance(),!Zc.supportsMediaSource())return void Yc.capabilityError("mediasource");Lc||(Lc=!0,Qc=(0,ha.default)(Ec).getInstance(),Pc||(Pc=(0,M.default)(Ec).getInstance()),_c||(_c=(0,m.default)(Ec).getInstance()),Rc||(Rc=(0,q.default)(Ec).getInstance()),Vc=(0,ba.default)(Ec).getInstance(),bd=(0,da.default)(Ec).getInstance({mediaController:Rc,timelineConverter:Qc,adapter:Vc}),cd=(0,G.default)(Ec).getInstance(),ad=(0,fa.default)(Ec).getInstance({manifestModel:cd,dashManifestModel:bd}),Wc=(0,K.default)(Ec).getInstance(),ed=(0,C.default)(Ec).getInstance(),fd=(0,Q.default)(Ec).getInstance({mediaPlayerModel:Xc}),Vc.setConfig({dashManifestModel:bd}),Wc.setConfig({adapter:Vc}),_a(),Ba(void 0===c||c),a&&Rb(a),b&&kc(b),Hc("[dash.js "+h()+"] MediaPlayer has been initialized"))}function c(){kc(null),Rb(null),Kc=null,Sc&&(Sc.reset(),Sc=null),Tc&&(Tc.reset(),Tc=null)}function d(){return!!Jc&&!!dd.getElement()}function e(a,b,c){Fc.on(a,b,c)}function f(a,b,c){Fc.off(a,b,c)}function h(){return(0,_.getVersionString)()}function j(){return Gc}function l(){if(dd.getElement()||Mc)return!1;if(!Jc)throw Bc;xc()}function n(){if(!Nc)throw zc;(!Oc||r()&&Nc)&&_c.play()}function p(){if(!Nc)throw zc;_c.pause()}function r(){if(!Nc)throw zc;return _c.isPaused()}function t(a){if(!Nc)throw zc;if("number"!=typeof a||isNaN(a))throw Dc;var b=_c.getIsDynamic()?P(a):a;_c.seek(b)}function v(){if(!Nc)throw zc;return _c.isSeeking()}function x(){if(!Nc)throw zc;return _c.getIsDynamic()}function z(a){if(!dd.getElement())throw Ac;Ob().playbackRate=a}function B(){if(!dd.getElement())throw Ac;return Ob().playbackRate}function D(a){if(!dd.getElement())throw Ac;Ob().muted=a}function F(){if(!dd.getElement())throw Ac;return Ob().muted}function H(a){if(!dd.getElement())throw Ac;Ob().volume=a}function J(){if(!dd.getElement())throw Ac;return Ob().volume}function L(a){var b=[g.default.VIDEO,g.default.AUDIO,g.default.FRAGMENTED_TEXT];if(a){if(-1!==b.indexOf(a)){var c=Db().getCurrentBufferLevel(Eb(a));return c||NaN}return Hc("Warning  - getBufferLength requested for invalid type"),NaN}var c=b.map(function(a){return Wb(a).length>0?Db().getCurrentBufferLevel(Eb(a)):Number.MAX_VALUE}).reduce(function(a,b){return Math.min(a,b)});return c===Number.MAX_VALUE?NaN:c}function N(){var a=uc();return a?a.manifestInfo.DVRWindowSize:0}function P(a){var b=uc(),c=_c.getLiveDelay();if(!b)return 0;var d=b.range.start+a;return d>b.range.end-c&&(d=b.range.end-c),d}function R(a){if(!Nc)throw zc;var b=Ob().currentTime;if(void 0!==a)b=$c.getTimeRelativeToStreamId(b,a);else if(_c.getIsDynamic()){var c=uc();b=null===c?0:T()-(c.range.end-c.time)}return b}function T(){if(!Nc)throw zc;var a=Ob().duration;if(_c.getIsDynamic()){var b=uc(),c=void 0;if(!b)return 0;c=b.range.end-b.range.start,a=c<b.manifestInfo.DVRWindowSize?c:b.manifestInfo.DVRWindowSize}return a}function V(){if(!Nc)throw zc;return R()<0?NaN:vc(R())}function X(){if(!Nc)throw zc;return vc(T())}function Z(a,b){Pc.setMaxAllowedBitrateFor(a,b)}function aa(a,b){Pc.setMinAllowedBitrateFor(a,b)}function ca(a){return Pc.getMaxAllowedBitrateFor(a)}function ea(a){return Pc.getMinAllowedBitrateFor(a)}function ga(a,b){Pc.setMaxAllowedRepresentationRatioFor(a,b)}function ja(a){return Pc.getMaxAllowedRepresentationRatioFor(a)}function la(a){if(!Mc)throw yc;if(a===g.default.IMAGE){var b=wc();if(!b)return-1;var c=b.getThumbnailController();return c?c.getCurrentTrackIndex():-1}return Pc.getQualityFor(a,$c.getActiveStreamInfo())}function na(a,b){if(!Mc)throw yc;if(a===g.default.IMAGE){var c=wc();if(!c)return;var d=c.getThumbnailController();d&&d.setTrackByIndex(b)}Pc.setPlaybackQuality(a,$c.getActiveStreamInfo(),b)}function oa(){Pc.setElementSize(),Pc.setWindowResizeEventCalled(!0)}function pa(){return Pc.getLimitBitrateByPortal()}function qa(a){Pc.setLimitBitrateByPortal(a)}function ra(){return Pc.getUsePixelRatioInLimitBitrateByPortal()}function sa(a){Pc.setUsePixelRatioInLimitBitrateByPortal(a)}function ta(a,b){Pc.setInitialBitrateFor(a,b)}function ua(a){if(!Mc)throw yc;return Pc.getInitialBitrateFor(a)}function va(a,b){Pc.setInitialRepresentationRatioFor(a,b)}function wa(a){return Pc.getInitialRepresentationRatioFor(a)}function xa(a){return Pc.getAutoSwitchBitrateFor(a)}function ya(a,b){Pc.setAutoSwitchBitrateFor(a,b)}function za(){return Pc.getUseDeadTimeLatency()}function Aa(a){Pc.setUseDeadTimeLatency(a)}function Ba(a){Oc=a}function Ca(){return Oc}function Da(a){Xc.setLiveDelayFragmentCount(a)}function Ea(a){Xc.setLiveDelay(a)}function Fa(){return Xc.getLiveDelay()}function Ga(){if(!Lc)throw Cc;return Nc?_c.getCurrentLiveLatency():NaN}function Ha(a){Xc.setUseSuggestedPresentationDelay(a)}function Ia(a,b){Xc.setLastBitrateCachingInfo(a,b)}function Ja(a,b){Xc.setLastMediaSettingsCachingInfo(a,b)}function Ka(a){Xc.setScheduleWhilePaused(a)}function La(){return Xc.getScheduleWhilePaused()}function Ma(a){Xc.setFastSwitchEnabled(a)}function Na(){return Xc.getFastSwitchEnabled()}function Oa(a){a===g.default.ABR_STRATEGY_DYNAMIC||a===g.default.ABR_STRATEGY_BOLA||a===g.default.ABR_STRATEGY_THROUGHPUT?Xc.setABRStrategy(a):Hc("Warning: Ignoring setABRStrategy("+a+") - unknown value.")}function Pa(){return Xc.getABRStrategy()}function Qa(a){Xc.setUseDefaultABRRules(a)}function Ra(a,b,c){Xc.addABRCustomRule(a,b,c)}function Sa(a){Xc.removeABRCustomRule(a)}function Ta(){Xc.removeAllABRCustomRule()}function Ua(a){a===g.default.MOVING_AVERAGE_SLIDING_WINDOW||a===g.default.MOVING_AVERAGE_EWMA?Xc.setMovingAverageMethod(a):Hc("Warning: Ignoring setMovingAverageMethod("+a+") - unknown value.")}function Va(){return Xc.getMovingAverageMethod()}function Wa(){return Xc.getLowLatencyEnabled()}function Xa(a){return Xc.setLowLatencyEnabled(a)}function Ya(a,b){Za(a,b);var c=new k.default;c.schemeIdUri=a,c.value=b,Xc.getUTCTimingSources().push(c)}function Za(a,b){var c=Xc.getUTCTimingSources();c.forEach(function(d,e){d.schemeIdUri===a&&d.value===b&&c.splice(e,1)})}function $a(){Xc.setUTCTimingSources([])}function _a(){Ya(I.default.DEFAULT_UTC_TIMING_SOURCE.scheme,I.default.DEFAULT_UTC_TIMING_SOURCE.value)}function ab(a){Xc.setUseManifestDateHeaderTimeSource(a)}function bb(a){Xc.setBufferToKeep(a)}function cb(a){Xc.setBufferAheadToKeep(a)}function db(a){Xc.setBufferPruningInterval(a)}function eb(a){Xc.setStableBufferTime(a)}function fb(){return Xc.getStableBufferTime()}function gb(a){Xc.setBufferTimeAtTopQuality(a)}function hb(){return Xc.getBufferTimeAtTopQuality()}function ib(a){Xc.setBufferTimeAtTopQualityLongForm(a)}function jb(){return Xc.getBufferTimeAtTopQualityLongForm()}function kb(a){Xc.setLongFormContentDurationThreshold(a)}function lb(a){Xc.setSegmentOverlapToleranceTime(a)}function mb(a,b){Xc.setCacheLoadThresholdForType(a,b)}function nb(a){Xc.setBandwidthSafetyFactor(a)}function ob(){return Xc.getBandwidthSafetyFactor()}function pb(a){var b=Pc.getThroughputHistory();return b?b.getAverageThroughput(a):0}function qb(a){Xc.setAbandonLoadTimeout(a)}function rb(a){Xc.setFragmentRetryAttempts(a)}function sb(a){Xc.setFragmentRetryInterval(a)}function tb(a){Xc.setManifestRetryAttempts(a)}function ub(a){Xc.setManifestRetryInterval(a)}function vb(a,b){Xc.setXHRWithCredentialsForType(a,b)}function wb(a){return Xc.getXHRWithCredentialsForType(a)}function xb(a){Xc.setJumpGaps(a)}function yb(){return Xc.getJumpGaps()}function zb(a){Xc.setSmallGapLimit(a)}function Ab(){return Xc.getSmallGapLimit()}function Bb(a){Xc.setManifestUpdateRetryInterval(a)}function Cb(){return Xc.getManifestUpdateRetryInterval()}function Db(){return ad}function Eb(a){return Wc.getReadOnlyMetricsFor(a)}function Fb(a){void 0===ed&&(ed=(0,C.default)(Ec).getInstance()),ed.setTextDefaultLanguage(a)}function Gb(){return void 0===ed&&(ed=(0,C.default)(Ec).getInstance()),ed.getTextDefaultLanguage()}function Hb(a){void 0===ed&&(ed=(0,C.default)(Ec).getInstance()),ed.setTextDefaultEnabled(a)}function Ib(){return void 0===ed&&(ed=(0,C.default)(Ec).getInstance()),ed.getTextDefaultEnabled()}function Jb(a){void 0===ed&&(ed=(0,C.default)(Ec).getInstance()),ed.enableText(a)}function Kb(){return void 0===ed&&(ed=(0,C.default)(Ec).getInstance()),ed.isTextEnabled()}function Lb(a){if(!Nc)throw zc;void 0===ed&&(ed=(0,C.default)(Ec).getInstance()),ed.setTextTrack(a)}function Mb(){var a=NaN;return ed&&(a=ed.getCurrentTrackIdx()),a}function Nb(a){
var b=(0,y.default)(Ec).getInstance();b.setConfig({videoModel:dd}),b.initialize(),b.displayCConTop(a)}function Ob(){if(!dd.getElement())throw Ac;return dd.getElement()}function Pb(){return dd?dd.getVideoContainer():null}function Qb(a){if(!dd.getElement())throw Ac;dd.setVideoContainer(a)}function Rb(a){if(!Lc)throw Cc;a&&(dd.setElement(a),rc(),sc(),tc(),$c&&$c.switchToVideoElement()),Nc&&oc(),xc()}function Sb(){return dd?dd.getTTMLRenderingDiv():null}function Tb(a){if(!dd.getElement())throw Ac;dd.setTTMLRenderingDiv(a)}function Ub(a){if(!Mc)throw yc;var b=wc();return b?b.getBitrateListFor(a):[]}function Vb(a){if(!Mc)throw yc;return Vc.getStreamsInfo(a)}function Wb(a){if(!Mc)throw yc;var b=$c.getActiveStreamInfo();return b?Rc.getTracksFor(a,b):[]}function Xb(a,b,c){if(!Mc)throw yc;return c=c||Vc.getStreamsInfo(b,1)[0],c?Vc.getAllMediaInfoForType(c,a,b):[]}function Yb(a){if(!Mc)throw yc;var b=$c.getActiveStreamInfo();return b?Rc.getCurrentTrackFor(a,b):null}function Zb(a,b){if(!Lc)throw Cc;Rc.setInitialSettings(a,b)}function $b(a){if(!Lc)throw Cc;return Rc.getInitialSettings(a)}function _b(a){if(!Mc)throw yc;Rc.setTrack(a)}function ac(a){if(!Lc)throw Cc;return Rc.getSwitchMode(a)}function bc(a,b){if(!Lc)throw Cc;Rc.setSwitchMode(a,b)}function cc(a){if(!Lc)throw Cc;Rc.setSelectionModeForInitialTrack(a)}function dc(){if(!Lc)throw Cc;return Rc.getSelectionModeForInitialTrack()}function ec(){return rc()}function fc(a){Sc=a}function gc(a){Kc=a,$c&&$c.setProtectionData(Kc)}function hc(a){if(a<0)return null;var b=_c.getIsDynamic()?P(a):a,c=$c.getStreamForTime(b);if(null===c)return null;var d=c.getThumbnailController(),e=c.getStreamInfo();if(!d||!e)return null;var f=$c.getTimeRelativeToStreamId(b,c.getId());return d.get(f)}function ic(a,b){var c=qc(),d=this,e=function a(e){e.error?b(null,e.error):b(e.manifest),Fc.off(W.default.INTERNAL_MANIFEST_LOADED,a,d),c.reset()};Fc.on(W.default.INTERNAL_MANIFEST_LOADED,e,d);var f=(0,E.default)(Ec).getInstance();f.initialize(),c.load(f.parseURI(a))}function jc(){if(!Jc)throw Bc;return Jc}function kc(a){if(!Lc)throw Cc;if("string"==typeof a){var b=(0,E.default)(Ec).getInstance();b.initialize(),Jc=b.parseURI(a)}else Jc=a;(Mc||Nc)&&oc(),d()&&xc()}function lc(a,b,c){var d=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],e=new Date(1e3*a),f=e.toLocaleDateString(b),g=e.toLocaleTimeString(b,{hour12:c});return d?g+" "+f:g}function mc(a){a=Math.max(a,0);var b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=Math.floor(a%3600%60);return(0===b?"":b<10?"0"+b.toString()+":":b.toString()+":")+(c<10?"0"+c.toString():c.toString())+":"+(d<10?"0"+d.toString():d.toString())}function nc(a,b,c){$.default.extend(a,b,c,Ec)}function oc(){Nc=!1,Mc=!1,Vc.reset(),$c.reset(),_c.reset(),Pc.reset(),Rc.reset(),ed.reset(),Sc&&(Sc.reset(),Sc=null,rc())}function pc(){var a=qc();$c||($c=(0,o.default)(Ec).getInstance()),Rc.setConfig({errHandler:Yc,domStorage:fd}),$c.setConfig({capabilities:Zc,manifestLoader:a,manifestModel:cd,dashManifestModel:bd,mediaPlayerModel:Xc,protectionController:Sc,adapter:Vc,metricsModel:Wc,dashMetrics:ad,errHandler:Yc,timelineConverter:Qc,videoModel:dd,playbackController:_c,domStorage:fd,abrController:Pc,mediaController:Rc,textController:ed}),_c.setConfig({streamController:$c,metricsModel:Wc,dashMetrics:ad,manifestModel:cd,mediaPlayerModel:Xc,dashManifestModel:bd,adapter:Vc,videoModel:dd}),Pc.setConfig({streamController:$c,domStorage:fd,mediaPlayerModel:Xc,metricsModel:Wc,dashMetrics:ad,dashManifestModel:bd,manifestModel:cd,videoModel:dd,adapter:Vc}),Pc.createAbrRulesCollection(),ed.setConfig({errHandler:Yc,manifestModel:cd,dashManifestModel:bd,mediaController:Rc,streamController:$c,videoModel:dd}),$c.initialize(Oc,Kc)}function qc(){return(0,s.default)(Ec).create({errHandler:Yc,metricsModel:Wc,mediaPlayerModel:Xc,requestModifier:(0,A.default)(Ec).getInstance(),mssHandler:Uc})}function rc(){if(Sc)return Sc;var a=dashjs.Protection;if("function"==typeof a){var b=a(Ec).create();return W.default.extend(a.events),Y.default.extend(a.events,{publicOnly:!0}),Zc||(Zc=(0,w.default)(Ec).getInstance()),Sc=b.createProtectionSystem({log:Hc,errHandler:Yc,videoModel:dd,capabilities:Zc,eventBus:Fc,events:W.default,BASE64:ka.default,constants:g.default})}return null}function sc(){if(!Tc){var a=dashjs.MetricsReporting;if("function"==typeof a){var b=a(Ec).create();Tc=b.createMetricsReporting({log:Hc,eventBus:Fc,mediaElement:Ob(),dashManifestModel:bd,metricsModel:Wc,events:W.default,constants:g.default,metricsConstants:i.default})}}}function tc(){if(!Uc){var a=dashjs.MssHandler;"function"==typeof a&&(Uc=a(Ec).create({eventBus:Fc,mediaPlayerModel:Xc,metricsModel:Wc,playbackController:_c,protectionController:Sc,errHandler:Yc,events:W.default,constants:g.default,log:Hc,initSegmentType:ia.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:ka.default,ISOBoxer:ma.default}))}}function uc(){var a=Wc.getReadOnlyMetricsFor(g.default.VIDEO)||Wc.getReadOnlyMetricsFor(g.default.AUDIO);return ad.getCurrentDVRInfo(a)}function vc(a){var b=uc(),c=void 0;return b?(c=b.manifestInfo.availableFrom.getTime()/1e3,a+(c+b.range.start)):0}function wc(){if(!Mc)throw yc;var a=$c.getActiveStreamInfo();return a?$c.getStreamById(a.id):null}function xc(){!Mc&&Jc&&(Mc=!0,Hc("Streaming Initialized"),pc(),"string"==typeof Jc?$c.load(Jc):$c.loadWithManifest(Jc)),!Nc&&d()&&(Nc=!0,Hc("Playback Initialized"))}var yc="You must first call initialize() and set a source before calling this method",zc="You must first call initialize() and set a valid source and view before calling this method",Ac="You must first call attachView() to set the video element before calling this method",Bc="You must first call attachSource() with a valid source before calling this method",Cc="MediaPlayer not initialized!",Dc="MediaPlayer Invalid Arguments!",Ec=this.context,Fc=(0,U.default)(Ec).getInstance(),Gc=(0,S.default)(Ec).getInstance(),Hc=Gc.log,Ic=void 0,Jc=void 0,Kc=void 0,Lc=void 0,Mc=void 0,Nc=void 0,Oc=void 0,Pc=void 0,Qc=void 0,Rc=void 0,Sc=void 0,Tc=void 0,Uc=void 0,Vc=void 0,Wc=void 0,Xc=void 0,Yc=void 0,Zc=void 0,$c=void 0,_c=void 0,ad=void 0,bd=void 0,cd=void 0,dd=void 0,ed=void 0,fd=void 0;return Ic={initialize:b,setConfig:a,on:e,off:f,extend:nc,attachView:Rb,attachSource:kc,isReady:d,preload:l,play:n,isPaused:r,pause:p,isSeeking:v,isDynamic:x,seek:t,setPlaybackRate:z,getPlaybackRate:B,setMute:D,isMuted:F,setVolume:H,getVolume:J,time:R,duration:T,timeAsUTC:V,durationAsUTC:X,getActiveStream:wc,getDVRWindowSize:N,getDVRSeekOffset:P,convertToTimeCode:mc,formatUTC:lc,getVersion:h,getDebug:j,getBufferLength:L,getVideoContainer:Pb,getTTMLRenderingDiv:Sb,getVideoElement:Ob,getSource:jc,setLiveDelayFragmentCount:Da,setLiveDelay:Ea,getLiveDelay:Fa,getCurrentLiveLatency:Ga,useSuggestedPresentationDelay:Ha,enableLastBitrateCaching:Ia,enableLastMediaSettingsCaching:Ja,setMaxAllowedBitrateFor:Z,getMaxAllowedBitrateFor:ca,setMinAllowedBitrateFor:aa,getMinAllowedBitrateFor:ea,setMaxAllowedRepresentationRatioFor:ga,getMaxAllowedRepresentationRatioFor:ja,setAutoPlay:Ba,getAutoPlay:Ca,setScheduleWhilePaused:Ka,getScheduleWhilePaused:La,getDashMetrics:Db,getMetricsFor:Eb,getQualityFor:la,setQualityFor:na,updatePortalSize:oa,getLimitBitrateByPortal:pa,setLimitBitrateByPortal:qa,getUsePixelRatioInLimitBitrateByPortal:ra,setUsePixelRatioInLimitBitrateByPortal:sa,setTextDefaultLanguage:Fb,getTextDefaultLanguage:Gb,setTextDefaultEnabled:Hb,getTextDefaultEnabled:Ib,enableText:Jb,isTextEnabled:Kb,setTextTrack:Lb,getBitrateInfoListFor:Ub,setInitialBitrateFor:ta,getInitialBitrateFor:ua,setInitialRepresentationRatioFor:va,getInitialRepresentationRatioFor:wa,getStreamsFromManifest:Vb,getTracksFor:Wb,getTracksForTypeFromManifest:Xb,getCurrentTrackFor:Yb,setInitialMediaSettingsFor:Zb,getInitialMediaSettingsFor:$b,setCurrentTrack:_b,getTrackSwitchModeFor:ac,setTrackSwitchModeFor:bc,setSelectionModeForInitialTrack:cc,getSelectionModeForInitialTrack:dc,setFastSwitchEnabled:Ma,getFastSwitchEnabled:Na,setMovingAverageMethod:Ua,getMovingAverageMethod:Va,getAutoSwitchQualityFor:xa,setAutoSwitchQualityFor:ya,setABRStrategy:Oa,getABRStrategy:Pa,useDefaultABRRules:Qa,addABRCustomRule:Ra,removeABRCustomRule:Sa,removeAllABRCustomRule:Ta,setBandwidthSafetyFactor:nb,getBandwidthSafetyFactor:ob,getAverageThroughput:pb,setAbandonLoadTimeout:qb,retrieveManifest:ic,addUTCTimingSource:Ya,removeUTCTimingSource:Za,clearDefaultUTCTimingSources:$a,restoreDefaultUTCTimingSources:_a,setBufferToKeep:bb,setBufferAheadToKeep:cb,setBufferPruningInterval:db,setStableBufferTime:eb,getStableBufferTime:fb,setBufferTimeAtTopQuality:gb,getBufferTimeAtTopQuality:hb,setBufferTimeAtTopQualityLongForm:ib,getBufferTimeAtTopQualityLongForm:jb,setFragmentLoaderRetryAttempts:rb,setFragmentLoaderRetryInterval:sb,setManifestLoaderRetryAttempts:tb,setManifestLoaderRetryInterval:ub,setXHRWithCredentialsForType:vb,getXHRWithCredentialsForType:wb,setJumpGaps:xb,getJumpGaps:yb,setSmallGapLimit:zb,getSmallGapLimit:Ab,getLowLatencyEnabled:Wa,setLowLatencyEnabled:Xa,setManifestUpdateRetryInterval:Bb,getManifestUpdateRetryInterval:Cb,setLongFormContentDurationThreshold:kb,setSegmentOverlapToleranceTime:lb,setCacheLoadThresholdForType:mb,getProtectionController:ec,attachProtectionController:fc,setProtectionData:gc,enableManifestDateHeaderTimeSource:ab,displayCaptionsOnTop:Nb,attachVideoContainer:Qb,attachTTMLRenderingDiv:Tb,getCurrentTextTrackIndex:Mb,getUseDeadTimeLatencyForAbr:za,setUseDeadTimeLatencyForAbr:Aa,getThumbnail:hc,reset:c},function(){Lc=!1,Nc=!1,Mc=!1,Oc=!0,Sc=null,Kc=null,Vc=null,W.default.extend(Y.default),Xc=(0,I.default)(Ec).getInstance(),dd=(0,O.default)(Ec).getInstance()}(),Ic}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(100),i=d(h),j=a(87),k=d(j),l=a(110),m=d(l),n=a(112),o=d(n),p=a(108),q=d(p),r=a(89),s=d(r),t=a(200),u=d(t),v=a(196),w=d(v),x=a(191),y=d(x),z=a(205),A=d(z),B=a(189),C=d(B),D=a(143),E=d(D),F=a(140),G=d(F),H=a(141),I=d(H),J=a(142),K=d(J),L=a(102),M=d(L),N=a(144),O=d(N),P=a(198),Q=d(P),R=a(46),S=d(R),T=a(47),U=d(T),V=a(51),W=d(V),X=a(92),Y=d(X),Z=a(48),$=d(Z),_=a(49),aa=a(53),ba=d(aa),ca=a(60),da=d(ca),ea=a(55),fa=d(ea),ga=a(77),ha=d(ga),ia=a(232),ja=a(1),ka=d(ja),la=a(11),ma=d(la);e.__dashjs_factory_name="MediaPlayer";var na=$.default.getClassFactory(e);na.events=Y.default,$.default.updateClassFactory(e.__dashjs_factory_name,na),c.default=na,b.exports=c.default},{1:1,100:100,102:102,108:108,11:11,110:110,112:112,140:140,141:141,142:142,143:143,144:144,189:189,191:191,196:196,198:198,200:200,205:205,232:232,46:46,47:47,48:48,49:49,51:51,53:53,55:55,60:60,77:77,87:87,89:89,92:92,99:99}],92:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},g=a(52),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(){d(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return e(b,a),b}(h.default),j=new i;c.default=j,b.exports=c.default},{52:52}],93:[function(a,b,c){"use strict";function d(){window.removeEventListener("load",d),h.createAll()}function e(){window.dashjs&&(window.clearInterval(i),h.createAll())}Object.defineProperty(c,"__esModule",{value:!0});var f=a(91),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(a,b,c){if(!a||"VIDEO"!==a.nodeName)return null;if(a._dashjs_player)return a._dashjs_player;var e=void 0,f=a.id||a.name||"video element";if(!(b=b||[].slice.call(a.querySelectorAll("source")).filter(function(a){return a.type==d})[0])&&a.src)b=document.createElement("source"),b.src=a.src;else if(!b&&!a.src)return null;return c=c||{},e=(0,g.default)(c).create(),e.initialize(a,b.src,a.autoplay),e.getDebug().log("Converted "+f+" to dash.js player and added content: "+b.src),a._dashjs_player=e,e}function b(b,e){var f=[];b=b||"[data-dashjs-player]",e=e||document;for(var g=e.querySelectorAll(b),h=0;h<g.length;h++){var i=a(g[h],null);f.push(i)}for(var j=e.querySelectorAll('source[type="'+d+'"]'),h=0;h<j.length;h++){var k=c(j[h]),i=a(k,null);f.push(i)}return f}function c(a){for(var b=!0;b;){var c=a;if(b=!1,"video"===c.nodeName.toLowerCase())return c;a=c.parentNode,b=!0}}var d="application/dash+xml";return{create:a,createAll:b}}(),i=void 0;!("undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?h.createAll():i=window.setInterval(e,500):window.addEventListener("load",d)),c.default=h,b.exports=c.default},{91:91}],94:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){l=[],m=null,n=null}function c(a){"InitializationSegment"!==a.segmentType?(l.push(a),l.sort(function(a,b){return a.start-b.start}),m=null):m=a,k("PreBufferSink appended chunk s: "+a.start+"; e: "+a.end),n&&n({chunk:a})}function d(a,b){l=l.filter(function(c){return!((isNaN(b)||c.start<b)&&(isNaN(a)||c.end>a))})}function e(){}function f(){for(var a=[],b=0;b<l.length;b++){var c=l[b];0===a.length||c.start>a[a.length-1].end?a.push({start:c.start,end:c.end}):a[a.length-1].end=c.end}var d={start:function(b){return a[b].start},end:function(b){return a[b].end}};return Object.defineProperty(d,"length",{get:function(){return a.length}}),d}function h(a,b){var c=i(a,b);return m&&(c.push(m),m=null),d(a,b),c}function i(a,b){return l.filter(function(c){return(isNaN(b)||c.start<b)&&(isNaN(a)||c.end>a)})}var j=this.context,k=(0,g.default)(j).getInstance().log,l=[],m=void 0,n=a;return{getAllBufferRanges:f,append:c,remove:d,abort:e,discharge:h,reset:b}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(46),g=d(f),h=a(48),i=d(h);e.__dashjs_factory_name="PreBufferSink";var j=i.default.getClassFactory(e);c.default=j,b.exports=c.default},{46:46,48:48}],95:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){function d(){if(t){try{a.removeSourceBuffer(t)}catch(a){r("Failed to remove source buffer from media source.")}u=!1,t=null}v=[],w=null}function e(){return t}function f(){return t.buffered}function h(a){v.push(a),u||o(t,l.bind(this))}function j(b,c,d){var e=this;o(t,function(){try{b>=0&&c>b&&(d||"ended"!==a.readyState)&&t.remove(b,c),o(t,function(){s.trigger(m.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:b,to:c})})}catch(a){s.trigger(m.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:b,to:c,error:new i.default(a.code,a.message,null)})}})}function l(){var a=this;v.length>0&&function(){u=!0;var b=v[0];v.splice(0,1);var c=function(){v.length>0?l.call(this):(u=!1,w&&w({chunk:b}))};try{0===b.bytes.length?c.call(a):(t.appendBuffer?t.appendBuffer(b.bytes):t.append(b.bytes,b),o(t,c.bind(a)))}catch(a){r('SourceBuffer append failed "'+a+'"'),v.length>0?l():u=!1,w&&w({chunk:b,error:new i.default(a.code,a.message,null)})}}()}function n(){try{"open"===a.readyState?t.abort():t.setTextTrack&&"ended"===a.readyState&&t.abort()}catch(a){r('SourceBuffer append abort failed: "'+a+'"')}v=[]}function o(a,b){var c=void 0,d=function(){a.updating||(clearInterval(c),b())},e=function c(){a.updating||(a.removeEventListener("updateend",c,!1),b())};if(!a.updating)return void b();if("function"==typeof a.addEventListener)try{a.addEventListener("updateend",e,!1)}catch(a){c=setInterval(d,50)}else c=setInterval(d,50)}var p=this.context,r=(0,g.default)(p).getInstance().log,s=(0,k.default)(p).getInstance(),t=void 0,u=void 0,v=[],w=c,x={getAllBufferRanges:f,getBuffer:e,append:h,remove:j,abort:n,reset:d};return function(){u=!1;var c=b.codec;try{if(c.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");t=a.addSourceBuffer(c)}catch(a){if(!b.isText&&-1===c.indexOf('codecs="stpp')&&-1===c.indexOf('codecs="wvtt'))throw a;var d=(0,q.default)(p).getInstance();t=d.getTextSourceBuffer()}}(),x}Object.defineProperty(c,"__esModule",{value:!0});var f=a(46),g=d(f),h=a(212),i=d(h),j=a(47),k=d(j),l=a(51),m=d(l),n=a(48),o=d(n),p=a(189),q=d(p);e.__dashjs_factory_name="SourceBufferSink";var r=o.default.getClassFactory(e);c.default=r,b.exports=c.default},{189:189,212:212,46:46,47:47,48:48,51:51}],96:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){ja=a,(ma=b)&&(T.on(s.default.KEY_ERROR,A,fa),T.on(s.default.SERVER_CERTIFICATE_UPDATED,A,fa),T.on(s.default.LICENSE_REQUEST_COMPLETE,A,fa),T.on(s.default.KEY_SYSTEM_SELECTED,A,fa),T.on(s.default.KEY_SESSION_CREATED,A,fa),T.on(s.default.KEY_STATUSES_CHANGED,A,fa))}function c(a){ha||(T.on(s.default.CURRENT_TRACK_CHANGED,D,fa),G(a),ha=!0)}function d(){for(var a=ga?ga.length:0,b=0;b<a;b++)ga[b].getFragmentModel().removeExecutedRequestsBeforeTime(l()+j()),ga[b].reset();ga=[],ha=!1,ia=!1,T.off(s.default.CURRENT_TRACK_CHANGED,D,fa)}function e(a){for(var b=0;b<ga.length;)C(ga[b].getMediaInfo())?(ga[b].setMediaSource(a),b++):(ga[b].reset(),ga.splice(b,1));for(var b=0;b<ga.length;b++)ga[b].dischargePreBuffer();if(0===ga.length){var c="No streams to play.";$.manifestError(c,"nostreams",U.getValue()),S(c)}}function f(){d(),ja=null,ka={},la=!1}function h(){ca&&ca.pause(),na&&(na.reset(),na=null),f(),S=null,T.off(s.default.DATA_UPDATE_COMPLETED,M,fa),T.off(s.default.BUFFERING_COMPLETED,L,fa),T.off(s.default.KEY_ERROR,A,fa),T.off(s.default.SERVER_CERTIFICATE_UPDATED,A,fa),T.off(s.default.LICENSE_REQUEST_COMPLETE,A,fa),T.off(s.default.KEY_SYSTEM_SELECTED,A,fa),T.off(s.default.KEY_SESSION_CREATED,A,fa),T.off(s.default.KEY_STATUSES_CHANGED,A,fa)}function j(){return ja?ja.duration:NaN}function l(){return ja?ja.start:NaN}function n(){return ja?ja.id:NaN}function p(){return ja}function r(){return pa}function t(){return na}function v(){return oa}function w(){if(!(ba&&ba.hasOwnProperty("getBitrateList")&&Y&&Y.hasOwnProperty("getAllMediaInfoForType")&&Y.hasOwnProperty("getEventsFor")))throw new Error("Missing config parameter(s)")}function x(a){if(w(),a===g.default.IMAGE)return oa?oa.getBitrateList():[];var b=J(a);return ba.getBitrateList(b)}function y(){pa&&pa.start()}function z(){pa&&pa.stop()}function A(a){a.error&&($.mediaKeySessionError(a.error),S(a.error),h())}function B(a){return a.type===g.default.TEXT?a.mimeType:a.type}function C(a){var b=a.type,c=void 0,d=void 0;if(b===g.default.MUXED&&a)return d="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",S(d),$.manifestError(d,"multiplexedrep",U.getValue()),!1;if(b===g.default.TEXT||b===g.default.FRAGMENTED_TEXT||b===g.default.EMBEDDED_TEXT||b===g.default.IMAGE)return!0;if(c=a.codec,S(b+" codec: "+c),a.contentProtection&&!Z.supportsEncryptedMedia())$.capabilityError("encryptedmedia");else if(!Z.supportsCodec(c))return d=b+"Codec ("+c+") is not supported.",S(d),!1;return!0}function D(a){if(a.newMediaInfo.streamInfo.id===ja.id){var b=N(a.oldMediaInfo);if(b){var c=ca.getTime();S("Stream -  Process track changed at current time "+c);var d=a.newMediaInfo,e=U.getValue();S("Stream -  Update stream controller"),e.refreshManifestOnSwitchTrack?(S("Stream -  Refreshing manifest for switch track"),qa=a,X.refreshManifest()):(b.updateMediaInfo(d),d.type!==g.default.FRAGMENTED_TEXT&&(ba.updateTopQualityIndex(d),b.switchTrackAsked(),b.getFragmentModel().abortRequests()))}}}function E(b,c,d,e){var f=(0,i.default)(R).create({type:B(b),mimeType:b.mimeType,timelineConverter:_,adapter:Y,manifestModel:U,dashManifestModel:V,mediaPlayerModel:W,metricsModel:aa,dashMetrics:a.dashMetrics,baseURLController:a.baseURLController,stream:fa,abrController:ba,domStorage:a.domStorage,playbackController:ca,mediaController:da,streamController:a.streamController,textController:ea,errHandler:$});if(f.initialize(d),ba.updateTopQualityIndex(b),e?(f.setBuffer(e.buffer),f.getIndexHandler().setCurrentTime(e.currentTime),ga[e.replaceIdx]=f):ga.push(f),!e||!e.ignoreMediaInfo)if(b.type===g.default.TEXT||b.type===g.default.FRAGMENTED_TEXT){for(var h=void 0,j=0;j<c.length;j++)c[j].index===b.index&&(h=j),f.updateMediaInfo(c[j]);b.type===g.default.FRAGMENTED_TEXT&&f.updateMediaInfo(c[h])}else f.updateMediaInfo(b)}function F(b,c){var d=Y.getAllMediaInfoForType(ja,b),e=null,f=void 0;if(!d||0===d.length)return void S("No "+b+" data.");for(var h=0,i=d.length;h<i;h++)if(e=d[h],b===g.default.EMBEDDED_TEXT)ea.addEmbeddedTrack(e);else{if(!C(e))continue;da.addTrack(e)}if(b!==g.default.EMBEDDED_TEXT&&0!==da.getTracksFor(b,ja).length){if(b===g.default.IMAGE)return void(oa=(0,o.default)(R).create({dashManifestModel:V,adapter:Y,baseURLController:a.baseURLController,stream:fa}));da.checkInitialMediaSettingsForType(b,ja),f=da.getCurrentTrackFor(b,ja),E(f,d,c)}}function G(a){w();var b=void 0;if(pa||(pa=(0,k.default)(R).create(),pa.setConfig({manifestModel:U,manifestUpdater:X,playbackController:ca}),b=Y.getEventsFor(ja),pa.addInlineEvents(b)),la=!0,H(g.default.VIDEO),H(g.default.AUDIO),F(g.default.VIDEO,a),F(g.default.AUDIO,a),F(g.default.TEXT,a),F(g.default.FRAGMENTED_TEXT,a),F(g.default.EMBEDDED_TEXT,a),F(g.default.MUXED,a),F(g.default.IMAGE,a),K(),ia=!0,la=!1,0===ga.length){var c="No streams to play.";$.manifestError(c,"nostreams",U.getValue()),S(c)}else I()}function H(a){var b=V.getAdaptationForType(U.getValue(),ja.index,a,ja);if(!b||!Array.isArray(b.Representation_asArray))return null;b.Representation_asArray=b.Representation_asArray.filter(function(a,c){if(0===c)return!0;var d=V.getCodec(b,c,!0);return!!Z.supportsCodec(d)||(S("[Stream] codec not supported: "+d),!1)})}function I(){for(var a=ga.length,b=!!ka.audio||!!ka.video,c=b?new Error(Q,"Data update failed",null):null,d=0;d<a;d++)if(ga[d].isUpdating()||la)return;if(ia){if(ma)for(var d=0;d<a&&ga[d];d++)ga[d].getType()!==g.default.AUDIO&&ga[d].getType()!==g.default.VIDEO&&ga[d].getType()!==g.default.FRAGMENTED_TEXT||ma.initializeForMedia(ga[d].getMediaInfo());T.trigger(s.default.STREAM_INITIALIZED,{streamInfo:ja,error:c})}}function J(a){for(var b=ga.length,c=null,d=0;d<b;d++)if(c=ga[d],c.getType()===a)return c.getMediaInfo();return null}function K(){for(var a=0,b=ga.length;a<b;a++)ga[a].createBuffer()}function L(a){if(a.streamInfo===ja){var b=O(),c=b.length;if(0===c)return void S("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");for(var d=0;d<c;d++)if(!b[d].isBufferingCompleted()&&(b[d].getType()===g.default.AUDIO||b[d].getType()===g.default.VIDEO))return void S("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because streamProcessor "+b[d].getType()+" is not buffering completed");S("[Stream] onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),T.trigger(s.default.STREAM_BUFFERING_COMPLETED,{streamInfo:ja})}}function M(a){var b=a.sender.getStreamProcessor();b.getStreamInfo()===ja&&(ka[b.getType()]=a.error,I())}function N(a){return!!a&&O().filter(function(b){return b.getType()===a.type})[0]}function O(){for(var a=ga.length,b=[],c=void 0,d=void 0,e=0;e<a;e++)d=ga[e],(c=d.getType())!==g.default.AUDIO&&c!==g.default.VIDEO&&c!==g.default.FRAGMENTED_TEXT||b.push(d);return b}function P(a){if(S("Manifest updated... updating data system wide."),ha=!1,la=!0,ja=a,pa){var b=Y.getEventsFor(ja);pa.addInlineEvents(b)}H(g.default.VIDEO),H(g.default.AUDIO);for(var c=0,d=ga.length;c<d;c++){var e=ga[c],f=Y.getMediaInfoForType(ja,e.getType());ba.updateTopQualityIndex(f),e.updateMediaInfo(f)}if(qa){var f=qa.newMediaInfo;if("fragmentedText"!==f.type){var h=N(qa.oldMediaInfo);if(!h)return;h.switchTrackAsked(),qa=void 0}}la=!1,I()}var Q=1;a=a||{};var R=this.context,S=(0,u.default)(R).getInstance().log,T=(0,q.default)(R).getInstance(),U=a.manifestModel,V=a.dashManifestModel,W=a.mediaPlayerModel,X=a.manifestUpdater,Y=a.adapter,Z=a.capabilities,$=a.errHandler,_=a.timelineConverter,aa=a.metricsModel,ba=a.abrController,ca=a.playbackController,da=a.mediaController,ea=a.textController,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0;return fa={initialize:b,activate:c,deactivate:d,getDuration:j,getStartTime:l,getId:n,getStreamInfo:p,getFragmentController:t,getThumbnailController:v,getEventController:r,getBitrateListFor:x,startEventController:y,stopEventController:z,updateData:P,reset:h,getProcessors:O,setMediaSource:e},function(){f(),na=(0,m.default)(R).create({mediaPlayerModel:W,metricsModel:aa,errHandler:$}),T.on(s.default.BUFFERING_COMPLETED,L,fa),T.on(s.default.DATA_UPDATE_COMPLETED,M,fa)}(),fa}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(97),i=d(h),j=a(106),k=d(j),l=a(107),m=d(l),n=a(192),o=d(n),p=a(47),q=d(p),r=a(51),s=d(r),t=a(46),u=d(t),v=a(48),w=d(v);e.__dashjs_factory_name="Stream",c.default=w.default.getClassFactory(e),b.exports=c.default},{106:106,107:107,192:192,46:46,47:47,48:48,51:51,97:97,99:99}],97:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b){R=(0,u.default)(Q).create({mimeType:U,timelineConverter:V,dashMetrics:fa,metricsModel:ea,mediaPlayerModel:Y,baseURLController:a.baseURLController,errHandler:T}),R.initialize(ha),$.registerStreamType(S,ha),oa=Z.getFragmentController().getModel(S),oa.setStreamProcessor(ha),ka=P(S),la=(0,o.default)(Q).create({type:S,metricsModel:ea,adapter:W,dashMetrics:fa,dashManifestModel:ga,timelineConverter:V,mediaPlayerModel:Y,abrController:$,playbackController:_,streamController:aa,textController:ca,streamProcessor:ha,mediaController:ba}),na=(0,q.default)(Q).create(),na.setConfig({abrController:$,domStorage:da,metricsModel:ea,dashMetrics:fa,dashManifestModel:ga,manifestModel:X,playbackController:_,timelineConverter:V,streamProcessor:ha}),ka.initialize(b),la.initialize(),na.initialize()}function c(a){pa.push(a)}function d(a){var b=pa.indexOf(a);-1!==b&&pa.splice(b,1)}function e(){return pa}function f(){pa=[]}function h(){ja=[],ia=null,f()}function j(a){R.reset(),ka&&(ka.reset(a),ka=null),la&&(la.reset(),la=null),na&&(na.reset(),na=null),$&&$.unRegisterStreamType(S),pa.forEach(function(a){a.reset()}),h(),S=null,Z=null,ma&&(ma.reset(),ma=null)}function l(){return!!na&&na.isUpdating()}function n(){return S}function p(){return na}function r(){return R}function s(){return Z?Z.getFragmentController():null}function t(){return ka.getBuffer()}function v(a){ka.setBuffer(a)}function w(){return ka}function x(){return oa}function y(){return ma}function z(){return Z?Z.getStreamInfo():null}function A(){return Z?Z.getEventController():null}function B(a){a===ia||a&&ia&&a.type!==ia.type||(ia=a),-1===ja.indexOf(a)&&ja.push(a),W.updateData(this)}function C(){return ja}function D(){return ia}function E(){return ka.getMediaSource()}function F(a){ka.setMediaSource(a,D())}function G(){ka.dischargePreBuffer()}function H(){return la}function I(){return W.getCurrentRepresentationInfo(na)}function J(a){return W.getRepresentationInfoForQuality(na,a)}function K(){return!!ka&&ka.getIsBufferingCompleted()}function L(){return ka.getBufferLevel()}function M(a,b){ka&&ka.switchInitData(z().id,a,b)}function N(){return ka.getBuffer()||ka.createBuffer(ia)}function O(){la.switchTrackAsked()}function P(a){return a===g.default.VIDEO||a===g.default.AUDIO?(0,k.default)(Q).create({type:a,metricsModel:ea,mediaPlayerModel:Y,manifestModel:X,errHandler:T,streamController:aa,mediaController:ba,adapter:W,textController:ca,abrController:$,playbackController:_,streamProcessor:ha}):(0,m.default)(Q).create({type:a,metricsModel:ea,mediaPlayerModel:Y,manifestModel:X,errHandler:T,streamController:aa,mediaController:ba,adapter:W,textController:ca,abrController:$,playbackController:_,streamProcessor:ha})}a=a||{};var Q=this.context,R=void 0,S=a.type,T=a.errHandler,U=a.mimeType,V=a.timelineConverter,W=a.adapter,X=a.manifestModel,Y=a.mediaPlayerModel,Z=a.stream,$=a.abrController,_=a.playbackController,aa=a.streamController,ba=a.mediaController,ca=a.textController,da=a.domStorage,ea=a.metricsModel,fa=a.dashMetrics,ga=a.dashManifestModel,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0;return ha={initialize:b,isUpdating:l,getType:n,getBufferController:w,getFragmentModel:x,getScheduleController:H,getLiveEdgeFinder:y,getEventController:A,getFragmentController:s,getRepresentationController:p,getIndexHandler:r,getCurrentRepresentationInfo:I,getRepresentationInfoForQuality:J,getBufferLevel:L,switchInitData:M,isBufferingCompleted:K,createBuffer:N,getStreamInfo:z,updateMediaInfo:B,switchTrackAsked:O,getMediaInfoArr:C,getMediaInfo:D,getMediaSource:E,setMediaSource:F,dischargePreBuffer:G,getBuffer:t,setBuffer:v,registerExternalController:c,unregisterExternalController:d,getExternalControllers:e,unregisterAllExternalController:f,reset:j},function(){_&&_.getIsDynamic()&&(ma=(0,i.default)(Q).create({timelineConverter:V,streamProcessor:ha})),h()}(),ha}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(203),i=d(h),j=a(105),k=d(j),l=a(188),m=d(l),n=a(111),o=d(n),p=a(59),q=d(p),r=a(48),s=d(r),t=a(54),u=d(t);e.__dashjs_factory_name="StreamProcessor",c.default=s.default.getClassFactory(e),b.exports=c.default},{105:105,111:111,188:188,203:203,48:48,54:54,59:59,99:99}],98:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b,c){var e=function(d,e){b.resolved=!0,b.resolvedContent=d||null,f.trigger(p.default.XLINK_ELEMENT_LOADED,{element:b,resolveObject:c,error:d||e?null:new g.default(s,"Failed loading Xlink element: "+a)})};if(a===d)e(null,!0);else{var i=new l.default(a,j.HTTPRequest.XLINK_TYPE);h.load({request:i,
success:function(a){e(a)},error:function(){e(null)}})}}function c(){h&&(h.abort(),h=null)}a=a||{};var d="urn:mpeg:dash:resolve-to-zero:2013",e=this.context,f=(0,n.default)(e).getInstance(),h=(0,i.default)(e).create({errHandler:a.errHandler,metricsModel:a.metricsModel,mediaPlayerModel:a.mediaPlayerModel,requestModifier:a.requestModifier});return{load:b,reset:c}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(212),g=d(f),h=a(146),i=d(h),j=a(232),k=a(223),l=d(k),m=a(47),n=d(m),o=a(51),p=d(o),q=a(48),r=d(q),s=1;e.__dashjs_factory_name="XlinkLoader";var t=r.default.getClassFactory(e);t.XLINK_LOADER_ERROR_LOADING_FAILURE=s,r.default.updateClassFactory(e.__dashjs_factory_name,t),c.default=t,b.exports=c.default},{146:146,212:212,223:223,232:232,47:47,48:48,51:51}],99:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.init()}return e(a,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma"}}]),a}(),g=new f;c.default=g,b.exports=c.default},{}],100:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.init()}return e(a,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),a}(),g=new f;c.default=g,b.exports=c.default},{}],101:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.init()}return e(a,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]),a}(),g=new f;c.default=g,b.exports=c.default},{}],102:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){Qa[a]=(0,A.default)(pa).create(),Ba[a]=b,Ca[a]=Ca[a]||{},Ca[a].state=J,Ta[a]=!1,ra.on(s.default.LOADING_PROGRESS,oa,this),a==i.default.VIDEO&&(ra.on(s.default.QUALITY_CHANGE_RENDERED,h,this),Ra=(0,C.default)(pa).create(),ma()),ra.on(s.default.METRIC_ADDED,j,this),Sa=(0,E.default)(pa).create({mediaPlayerModel:Na})}function b(a){delete Ba[a]}function c(){ua=(0,g.default)(pa).create({metricsModel:Ua,dashMetrics:Va,mediaPlayerModel:Na,adapter:La}),ua.initialize()}function d(){wa={video:!0,audio:!0},xa={},ya={},za={},Aa={},Ca={},Ba={},Qa={},Ta={},Ea=!1,Wa=!0,Fa=!1,void 0===Ga&&(Ga=!1),Pa=void 0,Ra=void 0,Sa=void 0,clearTimeout(Da),Da=null}function e(){d(),ra.off(s.default.LOADING_PROGRESS,oa,this),ra.off(s.default.QUALITY_CHANGE_RENDERED,h,this),ra.off(s.default.METRIC_ADDED,j,this),ua&&ua.reset()}function f(a){a&&(a.streamController&&(va=a.streamController),a.domStorage&&(Oa=a.domStorage),a.mediaPlayerModel&&(Na=a.mediaPlayerModel),a.metricsModel&&(Ua=a.metricsModel),a.dashMetrics&&(Va=a.dashMetrics),a.dashManifestModel&&(Ka=a.dashManifestModel),a.adapter&&(La=a.adapter),a.manifestModel&&(Ja=a.manifestModel),a.videoModel&&(Ma=a.videoModel))}function h(a){a.mediaType===i.default.VIDEO&&(Pa=a.oldQuality,Ra.push(Pa,Ma.getPlaybackQuality()))}function j(a){a.metric!==k.default.HTTP_REQUEST||!a.value||a.value.type!==F.HTTPRequest.MEDIA_SEGMENT_TYPE||a.mediaType!==i.default.AUDIO&&a.mediaType!==i.default.VIDEO||Sa.push(a.mediaType,a.value,Wa),a.metric!==k.default.BUFFER_LEVEL||a.mediaType!==i.default.AUDIO&&a.mediaType!==i.default.VIDEO||ba(a.mediaType,.001*a.value.level)}function l(a,b){var c=void 0;return xa[b]=xa[b]||{},xa[b].hasOwnProperty(a)||(xa[b][a]=0),c=ja(xa[b][a],a),c=ka(c,a,xa[b][a]),c=na(c,a)}function n(a){var b=Oa.getSavedBitrateSettings(a);if(!za.hasOwnProperty(a))if(Aa.hasOwnProperty(a)){var c=Ja.getValue(),d=Ka.getAdaptationForType(c,0,a).Representation;if(Array.isArray(d)){var e=Math.max(Math.round(d.length*Aa[a])-1,0);za[a]=d[e].bandwidth}else za[a]=0}else isNaN(b)?za[a]=a===i.default.VIDEO?K:L:za[a]=b;return za[a]}function p(a,b){za[a]=b}function r(a){return Aa.hasOwnProperty(a)?Aa[a]:null}function t(a,b){Aa[a]=b}function u(a){return za.hasOwnProperty("max")&&za.max.hasOwnProperty(a)?za.max[a]:NaN}function v(a){return za.hasOwnProperty("min")&&za.min.hasOwnProperty(a)?za.min[a]:NaN}function x(a,b){za.max=za.max||{},za.max[a]=b}function z(a,b){za.min=za.min||{},za.min[a]=b}function B(a){var b=u(a);return b?_(Ba[a].getMediaInfo(),b):void 0}function D(a){var b=v(a);if(b){var c=aa(Ba[a].getMediaInfo()),d=_(Ba[a].getMediaInfo(),b);return c[d]&&d<c.length-1&&c[d].bitrate<1e3*b&&d++,d}}function G(a){return Aa.hasOwnProperty("max")&&Aa.max.hasOwnProperty(a)?Aa.max[a]:1}function N(a,b){Aa.max=Aa.max||{},Aa.max[a]=b}function O(a){return wa[a]}function P(a,b){wa[a]=b}function Q(){return Ea}function R(a){Ea=a}function S(){return Fa}function T(a){Fa=a}function U(){return Wa}function V(a){Wa=a}function W(a){if(a&&Ba&&Ba[a]){var b=Ba[a].getStreamInfo(),c=b?b.id:null,d=ga(a),e=(0,w.default)(pa).create({abrController:sa,streamProcessor:Ba[a],currentValue:d,switchHistory:Qa[a],droppedFramesHistory:Ra,useBufferOccupancyABR:ca(a)});if(Ra){var f=Ma.getPlaybackQuality();f&&Ra.push(Pa,f)}if(O(a)){var g=D(a),h=l(a,c),i=ua.getMaxQuality(e),j=i.quality;if(void 0!==g&&j<g&&(j=g),j>h&&(j=h),Qa[a].push({oldValue:d,newValue:j}),j>y.default.NO_CHANGE&&j!=d)(Ca[a].state===J||j>d)&&Y(a,d,j,h,i.reason);else if(qa.getLogToBrowserConsole()){var k=Va.getCurrentBufferLevel(Ua.getReadOnlyMetricsFor(a));ta("AbrController ("+a+") stay on "+d+"/"+h+" (buffer: "+k+")")}}}}function X(a,b,c,d){var e=b.id,f=ga(a);if(null===c||isNaN(c)||c%1!=0)throw new Error("argument is not an integer");var g=l(a,e);c!==f&&c>=0&&c<=g&&Y(a,f,c,g,d)}function Y(a,b,c,d,e){if(a&&Ba[a]){var f=Ba[a].getStreamInfo(),g=f?f.id:null;if(qa.getLogToBrowserConsole()){var h=Va.getCurrentBufferLevel(Ua.getReadOnlyMetricsFor(a));ta("AbrController ("+a+") switch from "+b+" to "+c+"/"+d+" (buffer: "+h+") "+(e?JSON.stringify(e):"."))}ha(a,g,c),ra.trigger(s.default.QUALITY_CHANGE_REQUESTED,{mediaType:a,streamInfo:f,oldQuality:b,newQuality:c,reason:e})}}function Z(a,b){Ca[a].state=b}function $(a){return Ca[a]?Ca[a].state:null}function _(a,b,c){if(Wa&&c&&Ba[a.type].getCurrentRepresentationInfo()&&Ba[a.type].getCurrentRepresentationInfo().fragmentDuration){c/=1e3;var d=Ba[a.type].getCurrentRepresentationInfo().fragmentDuration;if(c>d)return 0;b*=1-c/d}var e=aa(a);if(!e||0===e.length)return M;for(var f=e.length-1;f>=0;f--)if(1e3*b>=e[f].bitrate)return f;return 0}function aa(a){if(!a||!a.bitrateList)return null;for(var b=a.bitrateList,c=a.type,d=[],e=void 0,f=0,g=b.length;f<g;f++)e=new m.default,e.mediaType=c,e.qualityIndex=f,e.bitrate=b[f].bandwidth,e.width=b[f].width,e.height=b[f].height,e.scanType=b[f].scanType,d.push(e);return d}function ba(a,b){var c=Na.getABRStrategy();if(c===i.default.ABR_STRATEGY_BOLA)return void(Ta[a]=!0);if(c===i.default.ABR_STRATEGY_THROUGHPUT)return void(Ta[a]=!1);var d=Na.getStableBufferTime(),e=d,f=.5*d,g=Ta[a],h=b>(g?f:e);Ta[a]=h,h!==g&&ta(h?"AbrController ("+a+") switching from throughput to buffer occupancy ABR rule (buffer: "+b.toFixed(3)+").":"AbrController ("+a+") switching from buffer occupancy to throughput ABR rule (buffer: "+b.toFixed(3)+").")}function ca(a){return Ta[a]}function da(){return Sa}function ea(a){var b=a.type,c=a.streamInfo.id,d=a.representationCount-1;return ia(b,c,d),d}function fa(a){var b=a.id,c=ga(i.default.AUDIO),d=ga(i.default.VIDEO);return c===l(i.default.AUDIO,b)&&d===l(i.default.VIDEO,b)}function ga(a){if(a&&Ba[a]){var b=Ba[a].getStreamInfo(),c=b?b.id:null;if(c)return ya[c]=ya[c]||{},ya[c].hasOwnProperty(a)||(ya[c][a]=M),ya[c][a]}return M}function ha(a,b,c){ya[b]=ya[b]||{},ya[b][a]=c}function ia(a,b,c){xa[b]=xa[b]||{},xa[b][a]=c}function ja(a,b){var c=a;if(!Ba[b])return c;var d=D(b);void 0!==d&&(c=Math.max(a,d));var e=B(b);return void 0!==e&&(c=Math.min(c,e)),c}function ka(a,b,c){var d=G(b);return isNaN(d)||d>=1||d<0?a:Math.min(a,Math.round(c*d))}function la(a){Ga=a}function ma(){if(Ma){var a=Fa&&window.hasOwnProperty("devicePixelRatio"),b=a?window.devicePixelRatio:1;Ha=Ma.getClientWidth()*b,Ia=Ma.getClientHeight()*b}}function na(a,b){if(b!==i.default.VIDEO||!Ea||!Ba[b])return a;Ga||ma();var c=Ja.getValue(),d=Ka.getAdaptationForType(c,0,b).Representation,e=a;if(Ha>0&&Ia>0){for(;e>0&&d[e]&&Ha<d[e].width&&Ha-d[e-1].width<d[e].width-Ha;)e-=1;d.length-2>=e&&d[e].width===d[e+1].width&&(e=Math.min(a,e+1))}return e}function oa(a){var b=a.request.mediaType;if(O(b)){var c=Ba[b];if(!c)return;var d=(0,w.default)(pa).create({abrController:sa,streamProcessor:c,currentRequest:a.request,useBufferOccupancyABR:ca(b)}),e=ua.shouldAbandonFragment(d);if(e.quality>y.default.NO_CHANGE){var f=c.getFragmentModel();f.getRequests({state:o.default.FRAGMENT_MODEL_LOADING,index:a.request.index})[0]&&(f.abortRequests(),Z(b,I),Qa[b].reset(),Qa[b].push({oldValue:ga(b,va.getActiveStreamInfo()),newValue:e.quality,confidence:1,reason:e.reason}),X(b,va.getActiveStreamInfo(),e.quality,e.reason),clearTimeout(Da),Da=setTimeout(function(){Z(b,J),Da=null},Na.getAbandonLoadTimeout()))}}}var pa=this.context,qa=(0,H.default)(pa).getInstance(),ra=(0,q.default)(pa).getInstance(),sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,Sa=void 0,Ta=void 0,Ua=void 0,Va=void 0,Wa=void 0;return sa={isPlayingAtTopQuality:fa,updateTopQualityIndex:ea,getThroughputHistory:da,getBitrateList:aa,getQualityForBitrate:_,getMaxAllowedBitrateFor:u,getMinAllowedBitrateFor:v,setMaxAllowedBitrateFor:x,setMinAllowedBitrateFor:z,getMaxAllowedIndexFor:B,getMinAllowedIndexFor:D,getMaxAllowedRepresentationRatioFor:G,setMaxAllowedRepresentationRatioFor:N,getInitialBitrateFor:n,setInitialBitrateFor:p,getInitialRepresentationRatioFor:r,setInitialRepresentationRatioFor:t,setAutoSwitchBitrateFor:P,getAutoSwitchBitrateFor:O,getUseDeadTimeLatency:U,setUseDeadTimeLatency:V,setLimitBitrateByPortal:R,getLimitBitrateByPortal:Q,getUsePixelRatioInLimitBitrateByPortal:S,setUsePixelRatioInLimitBitrateByPortal:T,getQualityFor:ga,getAbandonmentStateFor:$,setPlaybackQuality:X,checkPlaybackQuality:W,getTopQualityIndexFor:l,setElementSize:ma,setWindowResizeEventCalled:la,createAbrRulesCollection:c,registerStreamType:a,unRegisterStreamType:b,setConfig:f,reset:e},function(){ta=qa.log.bind(sa),d()}(),sa}Object.defineProperty(c,"__esModule",{value:!0});var f=a(177),g=d(f),h=a(99),i=d(h),j=a(100),k=d(j),l=a(211),m=d(l),n=a(139),o=d(n),p=a(47),q=d(p),r=a(51),s=d(r),t=a(48),u=d(t),v=a(173),w=d(v),x=a(174),y=d(x),z=a(175),A=d(z),B=a(172),C=d(B),D=a(176),E=d(D),F=a(232),G=a(46),H=d(G),I="abandonload",J="allowload",K=1e3,L=100,M=0;e.__dashjs_factory_name="AbrController";var N=u.default.getSingletonFactory(e);N.ABANDON_LOAD=I,N.QUALITY_DEFAULT=M,u.default.updateSingletonFactory(e.__dashjs_factory_name,N),c.default=N,b.exports=c.default},{100:100,139:139,172:172,173:173,174:174,175:175,176:176,177:177,211:211,232:232,46:46,47:47,48:48,51:51,99:99}],103:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){p.invalidateSelectedIndexes(a.entry)}function b(a){a.baseURLTreeModel&&(p=a.baseURLTreeModel),a.baseURLSelector&&(r=a.baseURLSelector),a.dashManifestModel&&(j=a.dashManifestModel)}function c(a){p.update(a),r.chooseSelectorFromManifest(a)}function d(a){var b=p.getForPath(a),c=b.reduce(function(a,b){var c=r.select(b);return c?(o.isRelative(c.url)?a.url=o.resolve(c.url,a.url):(a.url=c.url,a.serviceLocation=c.serviceLocation),a.availabilityTimeOffset=c.availabilityTimeOffset,a.availabilityTimeComplete=c.availabilityTimeComplete,a):new m.default},new m.default);if(!o.isRelative(c.url))return c}function e(){p.reset(),r.reset()}function f(a){p.setConfig({dashManifestModel:j}),r.setConfig({dashManifestModel:j}),c(a)}var h=void 0,j=void 0,l=this.context,n=(0,q.default)(l).getInstance(),o=(0,k.default)(l).getInstance(),p=void 0,r=void 0;return h={reset:e,initialize:f,resolve:d,setConfig:b},function(){p=(0,g.default)(l).create(),r=(0,i.default)(l).create(),n.on(s.default.SERVICE_LOCATION_BLACKLIST_CHANGED,a,h)}(),h}Object.defineProperty(c,"__esModule",{value:!0});var f=a(138),g=d(f),h=a(194),i=d(h),j=a(207),k=d(j),l=a(80),m=d(l),n=a(48),o=d(n),p=a(47),q=d(p),r=a(51),s=d(r);e.__dashjs_factory_name="BaseURLController",c.default=o.default.getSingletonFactory(e),b.exports=c.default},{138:138,194:194,207:207,47:47,48:48,51:51,80:80}],104:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){return!!(f.length&&a&&a.length)&&-1!==f.indexOf(a)}function c(a){-1===f.indexOf(a)&&(f.push(a),g.trigger(h,{entry:a}))}function d(a){c(a.entry)}function e(){f=[]}a=a||{};var f=[],g=(0,i.default)(this.context).getInstance(),h=a.updateEventName,j=a.addBlacklistEventName;return function(){j&&g.on(j,d,this)}(),{add:c,contains:b,reset:e}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(47),i=d(h);e.__dashjs_factory_name="BlackListController",c.default=g.default.getClassFactory(e),b.exports=c.default},{47:47,48:48}],105:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){return K}function c(a){ga(a),Da=xa.getQualityFor(za,Aa.getStreamInfo()),pa.on(u.default.DATA_UPDATE_COMPLETED,Y,this),pa.on(u.default.INIT_FRAGMENT_LOADED,h,this),pa.on(u.default.MEDIA_FRAGMENT_LOADED,l,this),pa.on(u.default.QUALITY_CHANGE_REQUESTED,r,this),pa.on(u.default.STREAM_COMPLETED,Z,this),pa.on(u.default.PLAYBACK_PROGRESS,z,this),pa.on(u.default.PLAYBACK_TIME_UPDATED,z,this),pa.on(u.default.PLAYBACK_RATE_CHANGED,aa,this),pa.on(u.default.PLAYBACK_SEEKING,t,this),pa.on(u.default.WALLCLOCK_TIME_UPDATED,_,this),pa.on(u.default.CURRENT_TRACK_CHANGED,$,this,s.default.EVENT_PRIORITY_HIGH),pa.on(u.default.SOURCEBUFFER_REMOVE_COMPLETED,W,this)}function d(a){if(!Ra||!a||!Aa)return null;if(Ha)try{Ka=(0,k.default)(oa).create(Ha,a,p.bind(this)),"function"==typeof Ka.getBuffer().initialize&&Ka.getBuffer().initialize(za,Aa)}catch(a){Ca("Caught error on create SourceBuffer: "+a),sa.mediaSourceError("Error creating "+za+" source buffer.")}else Ka=(0,m.default)(oa).create(p.bind(this));X(Aa.getRepresentationInfoForQuality(Da).MSETimeOffset)}function e(){if(Ka&&La&&"function"==typeof La.discharge){var a=La.getAllBufferRanges();if(a.length>0){for(var b="Beginning "+za+"PreBuffer discharge, adding buffer for:",c=0;c<a.length;c++)b+=" start: "+a.start(c)+", end: "+a.end(c)+";";Ca(b)}else Ca("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var d=La.discharge(),e=null,f=0;f<d.length;f++){var g=d[f],h=Ra.extract(g.streamId,g.representationId);h&&(e!==h&&(Ka.append(h),e=h),Ka.append(g))}La.reset(),La=null}}function f(){return!(!Aa||!ta)&&Aa.getStreamInfo().id===ta.getActiveStreamInfo().id}function h(a){a.fragmentModel===Aa.getFragmentModel()&&(Ca("Init fragment finished loading saving to",za+"'s init cache"),Ra.save(a.chunk),Ca("Append Init fragment",za," with representationId:",a.chunk.representationId," and quality:",a.chunk.quality),n(a.chunk))}function j(a,b,c){var d=Ra.extract(a,b);Wa=!0===c&&c,d?(Ca("Append Init fragment",za," with representationId:",d.representationId," and quality:",d.quality),n(d)):pa.trigger(u.default.INIT_REQUESTED,{sender:Ba})}function l(a){if(a.fragmentModel===Aa.getFragmentModel()){var b=a.chunk,c=b.bytes,d=b.quality,e=Aa.getRepresentationInfoForQuality(d),f=va.getEventsFor(e.mediaInfo,Aa),g=va.getEventsFor(e,Aa);if(f&&f.length>0||g&&g.length>0){var h=Aa.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,quality:d,index:b.index})[0],j=R(c,h,f,g);Aa.getEventController().addInbandEvents(j)}if(Wa){Xa=b;var k=Ka&&Ka.getAllBufferRanges();k&&k.length>0&&ya.getTimeToStreamEnd()>G&&(Ca("Clearing buffer because track changed - "+(k.end(k.length-1)+H)),U([{start:0,end:k.end(k.length-1)+H,force:!0}]))}else n(b)}}function n(a,b){!Pa||b?(Pa=!0,Na=a,Ka.append(a),a.mediaInfo.type===g.default.VIDEO&&pa.trigger(u.default.VIDEO_CHUNK_RECEIVED,{chunk:a})):Va.push(a)}function p(a){if(a.error){if(a.error.code===J&&(Ga=.8*ka(),Ca("Quota exceeded for type: "+za+", Critical Buffer: "+Ga),Ga>0)){var b=Math.max(.2*Ga,1),c=Ga-b;ra.setBufferToKeep(parseFloat(b).toFixed(5)),ra.setBufferAheadToKeep(parseFloat(c).toFixed(5))}return void(a.error.code!==J&&la()||(Ca("Clearing playback buffer to overcome quota exceed situation for type: "+za),pa.trigger(u.default.QUOTA_EXCEEDED,{sender:Ba,criticalBufferLevel:Ga}),v()))}(Na=a.chunk)&&!isNaN(Na.index)&&(Ia=Math.max(Na.index,Ia),O());var d=Ka.getAllBufferRanges();if(Na.segmentType===D.HTTPRequest.MEDIA_SEGMENT_TYPE)z();else if(Wa){var e=ya.getTime();Ca("[BufferController][",za,"] appendToBuffer seek target should be "+e),Aa.getScheduleController().setSeekTarget(e),va.setIndexHandlerTime(Aa,e)}var f={sender:Ba,quality:Na.quality,startTime:Na.start,index:Na.index,bufferedRanges:d};Na&&!Na.endFragment?pa.trigger(u.default.BYTES_APPENDED,f):Na&&pa.trigger(u.default.BYTES_APPENDED_END_FRAGMENT,f),0===Va.length?Pa=!1:n(Va.shift(),!0)}function r(a){Da!==a.newQuality&&za===a.mediaType&&Aa.getStreamInfo().id===a.streamInfo.id&&(X(Aa.getRepresentationInfoForQuality(a.newQuality).MSETimeOffset),Da=a.newQuality)}function t(){Ea&&(Ta=!0,Ea=!1,Ja=Number.POSITIVE_INFINITY),Va=[],Pa=!1,za!==g.default.FRAGMENTED_TEXT?v():z(),Sa=void 0}function v(){var a=x();a&&0!==a.length||z(),U(a)}function x(){var a=[],b=Ka.getAllBufferRanges();if(!b||0===b.length)return a;var c=ya.getTime(),d=b.end(b.length-1)+H,e=Aa.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,time:c,threshold:I})[0];if(e){var f={start:0,end:e.startTime-G},g=Aa.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,time:e.startTime-e.duration/2,threshold:I})[0];g&&g.startTime!=e.startTime&&(f.end=g.startTime),f.start<f.end&&f.end>b.start(0)&&a.push(f);var h={start:e.startTime+e.duration+G,end:d},j=Aa.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,time:e.startTime+e.duration+G,threshold:I})[0];j&&j.startTime!==e.startTime&&(h.start=j.startTime+j.duration+G),h.start<h.end&&h.start<d&&a.push(h)}else Ca("getAllRangesWithSafetyFactor for",za,"- No request found in current time position, removing full buffer 0 -",d),a.push({start:0,end:d});return a}function y(){var a=ya.getTime();if(Sa){var b=Ka.getAllBufferRanges();b&&b.length&&(a=Math.max(b.start(0),Sa))}return a}function z(){Wa||(M(),N())}function B(a,b){var c=Ka.getAllBufferRanges(),d=0,e=0,f=null,g=null,h=0,i=void 0,j=void 0,k=b||.15;if(null!==c&&void 0!==c){for(j=0,i=c.length;j<i;j++)if(d=c.start(j),e=c.end(j),null===f)h=Math.abs(d-a),a>=d&&a<e?(f=d,g=e):h<=k&&(f=d,g=e);else{if(!((h=d-g)<=k))break;g=e}if(null!==f)return{start:f,end:g}}return null}function L(a,b){var c=void 0;return c=B(a,b),null===c?0:c.end-a}function M(){ya&&(Fa=L(y()||0),pa.trigger(u.default.BUFFER_LEVEL_UPDATED,{sender:Ba,bufferLevel:Fa}),P())}function N(){f()&&(qa.addBufferState(za,Ma,Aa.getScheduleController().getBufferTarget()),qa.addBufferLevel(za,new Date,1e3*Fa))}function O(){Ia>=Ja-1&&!Ea&&void 0===Ka.discharge&&(Ea=!0,Ca("[BufferController]["+za+"] checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),pa.trigger(u.default.BUFFERING_COMPLETED,{sender:Ba,streamInfo:Aa.getStreamInfo()}))}function P(){"audio"!==za&&"video"!==za||(Ta&&!Ea&&ya&&ya.getTimeToStreamEnd()-Fa<G&&(Ta=!1,Ea=!0,Ca("[BufferController]["+za+"] checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),pa.trigger(u.default.BUFFERING_COMPLETED,{sender:Ba,streamInfo:Aa.getStreamInfo()})),Fa<G&&!Ea?Q(F):(Ea||Fa>=ra.getStableBufferTime())&&Q(E))}function Q(a){Ma===a||za===g.default.FRAGMENTED_TEXT&&wa.getAllTracksAreDisabled()||(Ma=a,N(),pa.trigger(u.default.BUFFER_LEVEL_STATE_CHANGED,{sender:Ba,state:a,mediaType:za,streamInfo:Aa.getStreamInfo()}),pa.trigger(a===E?u.default.BUFFER_LOADED:u.default.BUFFER_EMPTY,{mediaType:za}),Ca(a===E?"Got enough buffer to start for "+za:"Waiting for more buffer before starting playback for "+za))}function R(a,b,c,d){for(var e=Math.max(!b||isNaN(b.startTime)?0:b.startTime,0),f=[],g=[],h=c.concat(d),i=0,j=h.length;i<j;i++)f[h[i].schemeIdUri]=h[i];for(var k=(0,w.default)(oa).getInstance().parse(a),l=k.getBoxes("emsg"),i=0,j=l.length;i<j;i++){var m=va.getEvent(l[i],f,e);m&&g.push(m)}return g}function S(){Ka&&za!==g.default.FRAGMENTED_TEXT&&(Ea||U(T()))}function T(){var a=[],b=Ka.getAllBufferRanges();if(!b||0===b.length)return a;var c=ya.getTime(),d={start:Math.max(0,c-ra.getBufferToKeep()),end:c+ra.getBufferAheadToKeep()},e=Aa.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,time:c,threshold:I})[0];if(e&&(d.start=Math.min(e.startTime,d.start),d.end=Math.max(e.startTime+e.duration,d.end)),b.start(0)<=d.start){for(var f={start:0,end:d.start},g=0;g<b.length&&b.end(g)<=d.start;g++)f.end=b.end(g);f.start<f.end&&a.push(f)}if(b.end(b.length-1)>=d.end){var h={start:d.end,end:b.end(b.length-1)+I};h.start<h.end&&a.push(h)}return a}function U(a){a&&Ka&&0!==a.length&&(Ua.push.apply(Ua,a),Qa||V())}function V(){if(0!==Ua.length&&Ka){var a=Ka.getBuffer();if(a&&a.buffered&&0!==a.buffered.length){var b=Ua.shift();Ca("Removing",za,"buffer from:",b.start,"to",b.end),Qa=!0;var c=ya.getTime();c<b.end&&(Ea=!1,Ia=0,Wa||(Aa.getScheduleController().setSeekTarget(c),va.setIndexHandlerTime(Aa,c))),Ka.remove(b.start,b.end,b.force)}}}function W(a){Ka===a.buffer&&(Ca("[BufferController][",za,"] onRemoved buffer from:",a.from,"to",a.to),0===Ua.length&&(Qa=!1),Qa?V():(Wa?(Wa=!1,Xa&&n(Xa)):(Ca("onRemoved : call updateBufferLevel"),M()),pa.trigger(u.default.BUFFER_CLEARED,{sender:Ba,from:a.from,to:a.to,hasEnoughSpaceToAppend:la()})))}function X(a){var b=Ka&&Ka.getBuffer?Ka.getBuffer():null;b&&b.timestampOffset!==a&&!isNaN(a)&&(b.timestampOffset=a)}function Y(a){a.sender.getStreamProcessor()!==Aa||a.error||X(a.currentRepresentation.MSETimeOffset)}function Z(a){a.fragmentModel===Aa.getFragmentModel()&&(Ja=a.request.index,O())}function $(a){var b=Ka&&Ka.getAllBufferRanges();b&&a.newMediaInfo.type===za&&a.newMediaInfo.streamInfo.id===Aa.getStreamInfo().id&&(Ca("[BufferController]["+za+"] track change asked"),ua.getSwitchMode(za)===q.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&b&&b.length>0&&ya.getTimeToStreamEnd()>G&&(Ea=!1,Ja=Number.POSITIVE_INFINITY))}function _(){++Oa*(ra.getWallclockTimeUpdateInterval()/1e3)>=ra.getBufferPruningInterval()&&(Oa=0,S())}function aa(){P()}function ba(){return za}function ca(){return Aa}function da(a){Sa=a}function ea(){return Ka}function fa(){return Fa}function ga(a,b){Ha=a,Ka&&b&&"function"==typeof Ka.discharge&&(La=Ka,d(b))}function ha(){return Ha}function ia(){return Ea}function ja(){return Qa}function ka(){var a=Ka.getAllBufferRanges(),b=0,c=void 0,d=void 0;if(!a)return b;for(d=0,c=a.length;d<c;d++)b+=a.end(d)-a.start(d);return b}function la(){return ka()<Ga}function ma(a){Ga=Number.POSITIVE_INFINITY,Ma=F,Da=o.default.QUALITY_DEFAULT,Ja=Number.POSITIVE_INFINITY,Ia=0,Na=null,Ea=!1,Pa=!1,Qa=!1,Ta=!1,Fa=0,Oa=0,Ua=[],Ka&&(a||Ka.abort(),Ka.reset(),Ka=null),Wa=!1}function na(a){pa.off(u.default.DATA_UPDATE_COMPLETED,Y,this),pa.off(u.default.QUALITY_CHANGE_REQUESTED,r,this),pa.off(u.default.INIT_FRAGMENT_LOADED,h,this),pa.off(u.default.MEDIA_FRAGMENT_LOADED,l,this),pa.off(u.default.STREAM_COMPLETED,Z,this),pa.off(u.default.CURRENT_TRACK_CHANGED,$,this),pa.off(u.default.PLAYBACK_PROGRESS,z,this),pa.off(u.default.PLAYBACK_TIME_UPDATED,z,this),pa.off(u.default.PLAYBACK_RATE_CHANGED,aa,this),pa.off(u.default.PLAYBACK_SEEKING,t,this),pa.off(u.default.WALLCLOCK_TIME_UPDATED,_,this),pa.off(u.default.SOURCEBUFFER_REMOVE_COMPLETED,W,this),ma(a)}a=a||{};var oa=this.context,pa=(0,s.default)(oa).getInstance(),qa=a.metricsModel,ra=a.mediaPlayerModel,sa=a.errHandler,ta=a.streamController,ua=a.mediaController,va=a.adapter,wa=a.textController,xa=a.abrController,ya=a.playbackController,za=a.type,Aa=a.streamProcessor,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,Sa=void 0,Ta=void 0,Ua=void 0,Va=void 0,Wa=void 0,Xa=void 0;return Ba={getBufferControllerType:b,initialize:c,createBuffer:d,dischargePreBuffer:e,getType:ba,getStreamProcessor:ca,setSeekStartTime:da,getBuffer:ea,getBufferLevel:fa,getRangeAt:B,setMediaSource:ga,getMediaSource:ha,getIsBufferingCompleted:ia,switchInitData:j,getIsPruningInProgress:ja,reset:na},function(){Ca=(0,A.default)(oa).getInstance().log.bind(Ba),Ra=(0,C.default)(oa).getInstance(),Va=[],ma()}(),Ba}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(139),i=d(h),j=a(95),k=d(j),l=a(94),m=d(l),n=a(102),o=d(n),p=a(108),q=d(p),r=a(47),s=d(r),t=a(51),u=d(t),v=a(195),w=d(v),x=a(48),y=d(x),z=a(46),A=d(z),B=a(201),C=d(B),D=a(232),E="bufferLoaded",F="bufferStalled",G=.5,H=.5,I=.01,J=22,K="BufferController";e.__dashjs_factory_name=K;var L=y.default.getClassFactory(e);L.BUFFER_LOADED=E,L.BUFFER_EMPTY=F,y.default.updateClassFactory(e.__dashjs_factory_name,L),c.default=L,b.exports=c.default},{102:102,108:108,139:139,195:195,201:201,232:232,46:46,47:47,48:48,51:51,94:94,95:95,99:99}],106:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){F=!1,w={},x={},y={},z=null,A=100,B=A/1e3}function b(){if(!C||!D||!E)throw new Error("setConfig function has to be called previously")}function c(){null!==z&&F&&(clearInterval(z),z=null,F=!1)}function d(){b(),t("Start Event Controller"),F||isNaN(A)||(F=!0,z=setInterval(j,A))}function e(a){if(b(),w={},a)for(var c=0;c<a.length;c++){var d=a[c];w[d.id]=d,t("Add inline event with id "+d.id)}t("Added "+a.length+" inline events")}function f(a){b();for(var c=0;c<a.length;c++){var d=a[c];d.id in x?t("Repeated event with id "+d.id):(d.eventStream.schemeIdUri===q&&void 0===x[d.id]&&g(d),x[d.id]=d,t("Add inband event with id "+d.id))}}function g(a){if(a.eventStream.value==r){var b=a.eventStream.timescale||1,c=a.presentationTime/b,d=void 0;d=4294967295==a.presentationTime?NaN:(a.presentationTime+a.duration)/b,t("Manifest validity changed: Valid until: "+c+"; remaining duration: "+d),u.trigger(m.default.MANIFEST_VALIDITY_CHANGED,{id:a.id,validUntil:c,newDuration:d,newManifestValidAfter:NaN})}}function h(){if(y)for(var a=E.getTime(),b=Object.keys(y),c=0;c<b.length;c++){var d=b[c],e=y[d];null!==e&&(e.duration+e.presentationTime)/e.eventStream.timescale<a&&(t("Remove Event "+d+" at time "+a),e=null,delete y[d])}}function j(){n(x),n(w),h()}function l(){b(),D.refreshManifest()}function n(a){var b,c=E.getTime();if(a)for(var d=Object.keys(a),e=0;e<d.length;e++){var f=d[e],g=a[f];void 0!==g&&(0==(b=g.presentationTime/g.eventStream.timescale)||b<=c&&b+B>c)&&(t("Start Event "+f+" at "+c),g.duration>0&&(y[f]=g),g.eventStream.schemeIdUri==q&&g.eventStream.value==r?0===g.duration&&0===g.presentationTimeDelta||l():u.trigger(g.eventStream.schemeIdUri,{event:g}),delete a[f])}}function o(a){a&&(a.manifestModel&&(C=a.manifestModel),a.manifestUpdater&&(D=a.manifestUpdater),a.playbackController&&(E=a.playbackController))}function p(){c(),a()}var q="urn:mpeg:dash:event:2012",r=1,s=this.context,t=(0,i.default)(s).getInstance().log,u=(0,k.default)(s).getInstance(),v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0;return v={addInlineEvents:e,addInbandEvents:f,stop:c,start:d,setConfig:o,reset:p},function(){a()}(),v}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(46),i=d(h),j=a(47),k=d(j),l=a(51),m=d(l);e.__dashjs_factory_name="EventController",c.default=g.default.getClassFactory(e),b.exports=c.default},{46:46,47:47,48:48,51:51}],107:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b=w[a];return b||(b=(0,l.default)(k).create({metricsModel:u,fragmentLoader:(0,n.default)(k).create({metricsModel:u,mediaPlayerModel:s,errHandler:q,requestModifier:(0,p.default)(k).getInstance()})}),w[a]=b),b}function c(a){return a&&a.type&&a.type===h.HTTPRequest.INIT_SEGMENT_TYPE}function d(){for(var a in w)w[a].reset();w={}}function e(){o.off(t.default.FRAGMENT_LOADING_COMPLETED,i,this),o.off(t.default.FRAGMENT_LOADING_PROGRESS,i,this),d()}function f(a,b,c,d){var e=new j.default;return e.streamId=c,e.mediaInfo=b.mediaInfo,e.segmentType=b.type,e.start=b.startTime,e.duration=b.duration,e.end=e.start+e.duration,e.bytes=a,e.index=b.index,e.quality=b.quality,e.representationId=b.representationId,e.endFragment=d,e}function i(a){if(w[a.request.mediaType]===a.sender){var b=a.request,d=a.response,e=c(b),h=b.mediaInfo.streamInfo;if(a.error&&(a.request.mediaType!==g.default.AUDIO&&a.request.mediaType!==g.default.VIDEO&&a.request.mediaType!==g.default.FRAGMENTED_TEXT||o.trigger(t.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:a.request.serviceLocation})),!d||!h)return void m("No "+b.mediaType+" bytes to push or stream is inactive.");var i=f(d,b,h.id,a.type!==t.default.FRAGMENT_LOADING_PROGRESS);o.trigger(e?t.default.INIT_FRAGMENT_LOADED:t.default.MEDIA_FRAGMENT_LOADED,{chunk:i,fragmentModel:a.sender})}}a=a||{};var k=this.context,m=(0,x.default)(k).getInstance().log,o=(0,r.default)(k).getInstance(),q=a.errHandler,s=a.mediaPlayerModel,u=a.metricsModel,v=void 0,w=void 0;return v={getModel:b,isInitializationRequest:c,reset:e},function(){d(),o.on(t.default.FRAGMENT_LOADING_COMPLETED,i,v),o.on(t.default.FRAGMENT_LOADING_PROGRESS,i,v)}(),v}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(232),i=a(213),j=d(i),k=a(139),l=d(k),m=a(88),n=d(m),o=a(205),p=d(o),q=a(47),r=d(q),s=a(51),t=d(s),u=a(48),v=d(u),w=a(46),x=d(w);e.__dashjs_factory_name="FragmentController",c.default=v.default.getClassFactory(e),b.exports=c.default},{139:139,205:205,213:213,
232:232,46:46,47:47,48:48,51:51,88:88,99:99}],108:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var d=j(a),e=c(a,b),i=[];if(a===g.default.FRAGMENTED_TEXT)return void f(e[0]);d||(d=O.getSavedMediaSettings(a),h(a,d)),e&&0!==e.length&&(d&&e.forEach(function(a){A(d,a)&&i.push(a)}),f(0===i.length?D(e):i.length>1?D(i):i[0]))}function b(a){if(a){var b=a.type;if(v(b)){var c=a.streamInfo.id;J[c]||(J[c]=E());for(var e=J[c][b].list,g=0,h=e.length;g<h;++g)if(w(e[g],a))return;e.push(a);var i=j(b);i&&A(i,a)&&!d(b,a.streamInfo)&&f(a)}}}function c(a,b){if(!a||!b)return[];var c=b.id;return J[c]&&J[c][a]?J[c][a].list:[]}function d(a,b){return!a||!b||b&&!J[b.id]?null:J[b.id][a].current}function e(a){var b=a.type,c=a.streamInfo.id;return J[c]&&J[c][b]&&w(J[c][b].current,a)}function f(a){if(a){var b=a.type,c=a.streamInfo,e=c.id,f=d(b,c);if(J[e]&&J[e][b]&&(!f||!w(a,f))){J[e][b].current=a,f&&H.trigger(i.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:f,newMediaInfo:a,switchMode:M[b]});var g=z(a);g&&J[e][b].storeLastSettings&&(g.roles&&(g.role=g.roles[0],delete g.roles),g.accessibility&&(g.accessibility=g.accessibility[0]),g.audioChannelConfiguration&&(g.audioChannelConfiguration=g.audioChannelConfiguration[0]),O.setSavedMediaSettings(b,g))}}}function h(a,b){a&&b&&(K[a]=b)}function j(a){return a?K[a]:null}function l(a,b){if(-1===P.indexOf(b))return void G("track switch mode is not supported: "+b);M[a]=b}function m(a){return M[a]}function n(a){if(-1===Q.indexOf(a))return void G("track selection mode is not supported: "+a);L=a}function u(){return L||t}function v(a){return a===g.default.AUDIO||a===g.default.VIDEO||a===g.default.TEXT||a===g.default.FRAGMENTED_TEXT||a===g.default.IMAGE}function w(a,b){var c=a.id===b.id,d=a.viewpoint===b.viewpoint,e=a.lang===b.lang,f=a.roles.toString()===b.roles.toString(),g=a.accessibility.toString()===b.accessibility.toString(),h=a.audioChannelConfiguration.toString()===b.audioChannelConfiguration.toString();return c&&d&&e&&f&&g&&h}function x(a){a&&(a.errHandler&&(N=a.errHandler),a.domStorage&&(O=a.domStorage))}function y(){J={},C(),B()}function z(a){var b={lang:a.lang,viewpoint:a.viewpoint,roles:a.roles,accessibility:a.accessibility,audioChannelConfiguration:a.audioChannelConfiguration};return b.lang||b.viewpoint||b.role&&b.role.length>0||b.accessibility&&b.accessibility.length>0||b.audioChannelConfiguration&&b.audioChannelConfiguration.length>0?b:null}function A(a,b){var c=!a.lang||a.lang===b.lang,d=!a.viewpoint||a.viewpoint===b.viewpoint,e=!a.role||!!b.roles.filter(function(b){return b===a.role})[0],f=!a.accessibility||!!b.accessibility.filter(function(b){return b===a.accessibility})[0],g=!a.audioChannelConfiguration||!!b.audioChannelConfiguration.filter(function(b){return b===a.audioChannelConfiguration})[0];return c&&d&&e&&f&&g}function B(){M={audio:q,video:p}}function C(){K={audio:null,video:null}}function D(a){var b=u(),c=[],d=function(a){var b=0,c=[],d=void 0;return a.forEach(function(a){d=Math.max.apply(Math,a.bitrateList.map(function(a){return a.bandwidth})),d>b?(b=d,c=[a]):d===b&&c.push(a)}),c},e=function(a){var b=0,c=[],d=void 0;return a.forEach(function(a){d=a.representationCount,d>b?(b=d,c=[a]):d===b&&c.push(a)}),c};switch(b){case r:c=d(a),c.length>1&&(c=e(c));break;case s:c=e(a),c.length>1&&(c=d(a));break;default:G("track selection mode is not supported: "+b)}return c[0]}function E(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}}}var F=this.context,G=(0,o.default)(F).getInstance().log,H=(0,k.default)(F).getInstance(),I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=[q,p],Q=[r,s];return I={checkInitialMediaSettingsForType:a,addTrack:b,getTracksFor:c,getCurrentTrackFor:d,isCurrentTrack:e,setTrack:f,setInitialSettings:h,getInitialSettings:j,setSwitchMode:l,getSwitchMode:m,setSelectionModeForInitialTrack:n,getSelectionModeForInitialTrack:u,isMultiTrackSupportedByType:v,isTracksEqual:w,setConfig:x,reset:y},function(){y()}(),I}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(51),i=d(h),j=a(47),k=d(j),l=a(48),m=d(l),n=a(46),o=d(n),p="neverReplace",q="alwaysReplace",r="highestBitrate",s="widestRange",t=r;e.__dashjs_factory_name="MediaController";var u=m.default.getSingletonFactory(e);u.TRACK_SWITCH_MODE_NEVER_REPLACE=p,u.TRACK_SWITCH_MODE_ALWAYS_REPLACE=q,u.TRACK_SELECTION_MODE_HIGHEST_BITRATE=r,u.TRACK_SELECTION_MODE_WIDEST_RANGE=s,u.DEFAULT_INIT_TRACK_SELECTION_MODE=t,m.default.updateSingletonFactory(e.__dashjs_factory_name,u),c.default=u,b.exports=c.default},{46:46,47:47,48:48,51:51,99:99}],109:[function(a,b,c){"use strict";function d(){function a(){var a="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:a?new WebKitMediaSource:null}function b(a,b){var c=window.URL.createObjectURL(a);return b.setSource(c),c}function c(a){a.setSource(null)}function d(a,b){return a.duration!=b&&(a.duration=b),a.duration}function e(a,b,c){a&&"function"==typeof a.setLiveSeekableRange&&"function"==typeof a.clearLiveSeekableRange&&"open"===a.readyState&&b>=0&&b<c&&(a.clearLiveSeekableRange(),a.setLiveSeekableRange(b,c))}function f(a){var b=a.sourceBuffers,c=b.length;if("open"===a.readyState){for(var d=0;d<c;d++){if(b[d].updating)return;if(0===b[d].buffered.length)return}a.endOfStream()}}return{createMediaSource:a,attachMediaSource:b,detachMediaSource:c,setDuration:d,setSeekable:e,signalEndOfStream:f}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="MediaSourceController",c.default=f.default.getSingletonFactory(d),b.exports=c.default},{48:48}],110:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){sa=a,_(),ta=sa.manifestInfo.isDynamic,na=sa.start,da.on(o.default.DATA_UPDATE_COMPLETED,I,this),da.on(o.default.BYTES_APPENDED_END_FRAGMENT,Z,this),da.on(o.default.BUFFER_LEVEL_STATE_CHANGED,$,this),da.on(o.default.PERIOD_SWITCH_STARTED,b,this),va&&(va=!1,d())}function b(a){!ta&&a.fromStreamInfo&&void 0!==pa[a.fromStreamInfo.id]&&(delete ra[a.fromStreamInfo.id],delete pa[a.fromStreamInfo.id])}function c(){var a=D(!0),b=ta?a-sa.start:0;return parseFloat((a+(sa.duration-b)-l()).toFixed(5))}function d(){sa&&la&&la.getElement()?la.play():va=!0}function e(){return sa&&la?la.isPaused():null}function f(){sa&&la&&la.pause()}function h(){return sa&&la?la.isSeeking():null}function j(a){sa&&la&&(da.trigger(o.default.PLAYBACK_SEEK_ASKED),ca("Requesting seek to time: "+a),la.setCurrentTime(a))}function l(){return sa&&la?la.getTime():null}function n(){return sa&&la?la.getPlaybackRate():null}function p(){return sa&&la?la.getPlayedRanges():null}function q(){return sa&&la?la.getEnded():null}function r(){return ta}function u(){return fa}function v(a){na=a}function w(){return na}function x(a,b){var c=ja.getMpd(ia.getValue()),d=void 0,e=void 0;if(d=ua.getUseSuggestedPresentationDelay()&&c.hasOwnProperty(g.default.SUGGESTED_PRESENTATION_DELAY)?c.suggestedPresentationDelay:ua.getLowLatencyEnabled()?0:ua.getLiveDelay()?ua.getLiveDelay():isNaN(a)?2*sa.manifestInfo.minBufferTime:a*ua.getLiveDelayFragmentCount(),c.availabilityStartTime&&(xa=c.availabilityStartTime.getTime()),b>0){var f=Math.max(b-10,b/2);e=Math.min(d,f)}else e=d;return qa=e,e}function y(){return qa}function z(){if(!ta||isNaN(xa))return NaN;var a=l();return isNaN(a)||0===a?0:(Math.round((new Date).getTime()-(1e3*a+xa))/1e3).toFixed(3)}function A(){ma=0,na=NaN,oa=null,va=!1,pa={},qa=0,xa=0,ra={},la&&(da.off(o.default.DATA_UPDATE_COMPLETED,I,this),da.off(o.default.BUFFER_LEVEL_STATE_CHANGED,$,this),da.off(o.default.BYTES_APPENDED_END_FRAGMENT,Z,this),da.off(o.default.PERIOD_SWITCH_STARTED,b,this),G(),aa()),la=null,sa=null,ta=null}function B(a){a&&(a.streamController&&(fa=a.streamController),a.metricsModel&&(ga=a.metricsModel),a.dashMetrics&&(ha=a.dashMetrics),a.manifestModel&&(ia=a.manifestModel),a.dashManifestModel&&(ja=a.dashManifestModel),a.mediaPlayerModel&&(ua=a.mediaPlayerModel),a.adapter&&(ka=a.adapter),a.videoModel&&(la=a.videoModel))}function C(){var a=(0,k.default)(ba).getInstance().getURIFragmentData(),b=void 0;if(a){b={};var c=parseInt(a.r,10);c>=0&&sa&&c<sa.manifestInfo.DVRWindowSize&&null===a.t&&(a.t=Math.floor(Date.now()/1e3)-sa.manifestInfo.DVRWindowSize+c),b.fragS=parseInt(a.s,10),b.fragT=parseInt(a.t,10)}return b}function D(a,b){var c=void 0,d=NaN,e=C();if(d=e?a?sa.start:isNaN(e.fragS)?e.fragT:e.fragS:0,ta)isNaN(d)||((c=d-sa.manifestInfo.availableFrom.getTime()/1e3)>na||c<(isNaN(b)?NaN:b-sa.manifestInfo.DVRWindowSize))&&(c=null),c=c||na;else if(!isNaN(d)&&d<Math.max(sa.manifestInfo.duration,sa.duration)&&d>=0)c=d;else{var f=pa[sa.id];c=void 0!==f?Math.max(void 0!==f.audio?f.audio:0,void 0!==f.video?f.video:0,sa.start):sa.start}return c}function E(a){var b=ga.getReadOnlyMetricsFor(g.default.VIDEO)||ga.getReadOnlyMetricsFor(g.default.AUDIO),c=ha.getCurrentDVRInfo(b),d=c?c.range:null,e=void 0;if(!d)return NaN;if(a>d.end)e=Math.max(d.end-2*sa.manifestInfo.minBufferTime,d.start);else{if(!(a+.25<d.start))return a;e=d.start}return e}function F(){if(null===oa){var a=function(){X()};oa=setInterval(a,ua.getWallclockTimeUpdateInterval())}}function G(){clearInterval(oa),oa=null}function H(){if(!e()&&ta&&0!==la.getReadyState()){var a=l(),b=E(a);!isNaN(b)&&b!==a&&j(b)}}function I(a){if(!a.error){var b=ka.convertDataToRepresentationInfo(a.currentRepresentation),c=b.mediaInfo.streamInfo;sa.id===c.id&&(sa=c,H())}}function J(){da.trigger(o.default.CAN_PLAY)}function K(){ca("Native video element event: play"),H(),F(),da.trigger(o.default.PLAYBACK_STARTED,{startTime:l()})}function L(){ca("Native video element event: waiting"),da.trigger(o.default.PLAYBACK_WAITING,{playingTime:l()})}function M(){ca("Native video element event: playing"),da.trigger(o.default.PLAYBACK_PLAYING,{playingTime:l()})}function N(){ca("Native video element event: pause"),da.trigger(o.default.PLAYBACK_PAUSED,{ended:q()})}function O(){var a=l();ca("Seeking to: "+a),F(),da.trigger(o.default.PLAYBACK_SEEKING,{seekTime:a})}function P(){ca("Native video element event: seeked"),da.trigger(o.default.PLAYBACK_SEEKED)}function Q(){var a=l();ma=a,da.trigger(o.default.PLAYBACK_TIME_UPDATED,{timeToEnd:c(),time:a})}function R(){var a=Date.now();(!wa||a>wa+t)&&(wa=a,Q())}function S(){da.trigger(o.default.PLAYBACK_PROGRESS)}function T(){var a=n();ca("Native video element event: ratechange: ",a),da.trigger(o.default.PLAYBACK_RATE_CHANGED,{playbackRate:a})}function U(){ca("Native video element event: loadedmetadata"),da.trigger(o.default.PLAYBACK_METADATA_LOADED),F()}function V(){ca("Native video element event: ended"),f(),G(),da.trigger(o.default.PLAYBACK_ENDED)}function W(a){var b=a.target||a.srcElement;da.trigger(o.default.PLAYBACK_ERROR,{error:b.error})}function X(){da.trigger(o.default.WALLCLOCK_TIME_UPDATED,{isDynamic:ta,time:new Date}),r()&&e()&&R()}function Y(a,b){if(b&&b.length>0)for(var c=0,d=b.length;c<d;c++)if(a>=b.start(c)&&a<b.end(c))return!0;return!1}function Z(a){var b=void 0,c=void 0,d=a.bufferedRanges;if(d&&d.length&&(!pa[sa.id]||!0!==pa[sa.id].started)){var e=a.sender.getType();void 0===ra[sa.id]&&(ra[sa.id]=[]),ra[sa.id][e]=d,void 0===pa[sa.id]&&(pa[sa.id]=[],pa[sa.id].started=!1),void 0===pa[sa.id][e]&&(pa[sa.id][e]=Math.max(d.start(0),sa.start));var f=fa.isVideoTrackPresent(),g=fa.isAudioTrackPresent();c=D(!1),g&&f?isNaN(pa[sa.id].audio)||isNaN(pa[sa.id].video)||(pa[sa.id].audio<pa[sa.id].video?(b=pa[sa.id].video>c?pa[sa.id].video:c,d=ra[sa.id].audio):(b=pa[sa.id].audio>c?pa[sa.id].audio:c,d=ra[sa.id].video),Y(b,d)&&(h()||j(b),pa[sa.id].started=!0)):pa[sa.id][e]&&(b=pa[sa.id][e]>c?pa[sa.id][e]:c,h()||j(b),pa[sa.id].started=!0)}}function $(a){a.streamInfo.id===sa.id&&la.setStallState(a.mediaType,a.state===i.default.BUFFER_EMPTY)}function _(){la.addEventListener("canplay",J),la.addEventListener("play",K),la.addEventListener("waiting",L),la.addEventListener("playing",M),la.addEventListener("pause",N),la.addEventListener("error",W),la.addEventListener("seeking",O),la.addEventListener("seeked",P),la.addEventListener("timeupdate",Q),la.addEventListener("progress",S),la.addEventListener("ratechange",T),la.addEventListener("loadedmetadata",U),la.addEventListener("ended",V)}function aa(){la.removeEventListener("canplay",J),la.removeEventListener("play",K),la.removeEventListener("waiting",L),la.removeEventListener("playing",M),la.removeEventListener("pause",N),la.removeEventListener("error",W),la.removeEventListener("seeking",O),la.removeEventListener("seeked",P),la.removeEventListener("timeupdate",Q),la.removeEventListener("progress",S),la.removeEventListener("ratechange",T),la.removeEventListener("loadedmetadata",U),la.removeEventListener("ended",V)}var ba=this.context,ca=(0,s.default)(ba).getInstance().log,da=(0,m.default)(ba).getInstance(),ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0;return ea={initialize:a,setConfig:B,getStartTimeFromUriParameters:C,getStreamStartTime:D,getTimeToStreamEnd:c,getTime:l,getPlaybackRate:n,getPlayedRanges:p,getEnded:q,getIsDynamic:r,getStreamController:u,setLiveStartTime:v,getLiveStartTime:w,computeLiveDelay:x,getLiveDelay:y,getCurrentLiveLatency:z,play:d,isPaused:e,pause:f,isSeeking:h,seek:j,reset:A},function(){A()}(),ea}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(105),i=d(h),j=a(143),k=d(j),l=a(47),m=d(l),n=a(51),o=d(n),p=a(48),q=d(p),r=a(46),s=d(r),t=500;e.__dashjs_factory_name="PlaybackController",c.default=q.default.getSingletonFactory(e),b.exports=c.default},{105:105,143:143,46:46,47:47,48:48,51:51,99:99}],111:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){ta=pa.getFragmentModel(),Ga=ja.getScheduleWhilePaused(),Ea=(0,n.default)(ca).create({abrController:ka,dashMetrics:ga,metricsModel:ea,mediaPlayerModel:ja,textController:na}),Fa=(0,p.default)(ca).create({adapter:fa,textController:na}),ha.getIsTextTrack(oa)&&da.on(v.default.TIMED_TEXT_REQUESTED,O,this),da.on(v.default.QUALITY_CHANGE_REQUESTED,x,this),da.on(v.default.DATA_UPDATE_STARTED,J,this),da.on(v.default.DATA_UPDATE_COMPLETED,A,this),da.on(v.default.FRAGMENT_LOADING_COMPLETED,F,this),da.on(v.default.STREAM_COMPLETED,E,this),da.on(v.default.STREAM_INITIALIZED,C,this),da.on(v.default.BUFFER_LEVEL_STATE_CHANGED,L,this),da.on(v.default.BUFFER_CLEARED,K,this),da.on(v.default.BYTES_APPENDED_END_FRAGMENT,H,this),da.on(v.default.INIT_REQUESTED,o,this),da.on(v.default.QUOTA_EXCEEDED,M,this),da.on(v.default.PLAYBACK_SEEKING,Q,this),da.on(v.default.PLAYBACK_STARTED,P,this),da.on(v.default.PLAYBACK_RATE_CHANGED,R,this),da.on(v.default.PLAYBACK_TIME_UPDATED,G,this),da.on(v.default.URL_RESOLUTION_FAILED,N,this),da.on(v.default.FRAGMENT_LOADING_ABANDONED,I,this)}function c(){return!1===wa}function d(){if(!ua||pa.isBufferingCompleted())return void sa("[ScheduleController][",oa,"] start denied");sa("[ScheduleController][",oa,"] start"),_(),wa=!1,va&&(va=!1),m(0)}function e(){wa||(sa("[ScheduleController][",oa,"] stop"),wa=!0,clearTimeout(Ca))}function f(a,b){Ia[b]=Ia[b]||{};var c=ka.getTopQualityIndexFor(a,b);return Ia[b][a]!=c&&(sa("Top quality "+a+" index has changed from "+Ia[b][a]+" to "+c),Ia[b][a]=c,!0)}function i(){if(wa||Aa||!pa.getBufferController()||la.isPaused()&&!Ga)return void sa("[ScheduleController][",oa,"] - schedule stop!");k();var a=Ka.length>0,b=pa.getStreamInfo();if(Ma||isNaN(Ja)||La||a||f(ua.mediaInfo.type,b.id)||Ea.execute(pa,oa,ma.isVideoTrackPresent())){q(!0),a||La||ka.checkPlaybackQuality(oa),function(){var a=pa.getFragmentController();if(ua.quality!==Ja)sa("ScheduleController - "+oa+" - quality has changed, get init request for representationid = "+ua.id),Ja=ua.quality,pa.switchInitData(ua.id);else if(La)sa("ScheduleController - "+oa+" - switch track has been asked, get init request for "+oa+" with representationid = "+ua.id),Ma=qa.getSwitchMode(oa)===B.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,pa.switchInitData(ua.id,Ma),Ja=ua.quality,La=!1;else{var c=Ka.shift();if(a.isInitializationRequest(c))pa.switchInitData(c.representationId);else{var d=void 0;pa.getBufferController().getIsPruningInProgress()||!(d=Fa.execute(pa,c))&&b.manifestInfo&&b.manifestInfo.isDynamic&&sa("getNextFragment - "+oa+" - Playing at the bleeding live edge and frag is not available yet"),d?(sa("ScheduleController - "+oa+" - getNextFragment - request is "+d.url),ta.executeRequest(d)):(q(!1),m(500))}}}()}else m(500)}function k(){var a=1.5*ua.fragmentDuration,b=ta.getRequests({state:r.default.FRAGMENT_MODEL_EXECUTED,time:la.getTime()+a,threshold:0})[0];if(b&&-1===Ka.indexOf(b)&&!ha.getIsTextTrack(oa)){var c=ja.getFastSwitchEnabled(),d=pa.getBufferLevel(),e=ka.getAbandonmentStateFor(oa);c&&b.quality<ua.quality&&d>=a&&e!==j.default.ABANDON_LOAD?(w(b),sa("Reloading outdated fragment at index: ",b.index)):b.quality>ua.quality&&T(la.getTime()+pa.getBufferLevel())}}function m(a){clearTimeout(Ca),Ca=setTimeout(i,a)}function o(a){a.sender&&a.sender.getStreamProcessor()===pa&&s(ua.quality)}function q(a){Aa!==a?Aa=a:sa("[ScheduleController][",oa,"] isFragmentProcessingInProgress is already equal to",a)}function s(a){var b=fa.getInitRequest(pa,a);b&&(q(!0),ta.executeRequest(b))}function u(){La=!0}function w(a){Ka.push(a)}function x(a){if(oa===a.mediaType&&pa.getStreamInfo().id===a.streamInfo.id){if(null===(ua=pa.getRepresentationInfoForQuality(a.newQuality))||void 0===ua)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");$(new Date,h.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),_()}}function y(a){if(la&&ta){var b=ta.getRequests({state:r.default.FRAGMENT_MODEL_EXECUTED,time:la.getTime(),threshold:0})[0];b&&la.getTime()>=b.startTime&&((!Ha.mediaInfo||b.mediaInfo.type===Ha.mediaInfo.type&&b.mediaInfo.id!==Ha.mediaInfo.id)&&a&&da.trigger(v.default.TRACK_CHANGE_RENDERED,{mediaType:oa,oldMediaInfo:Ha.mediaInfo,newMediaInfo:b.mediaInfo}),b.quality===Ha.quality&&b.adaptationIndex===Ha.adaptationIndex||!a||da.trigger(v.default.QUALITY_CHANGE_RENDERED,{mediaType:oa,oldQuality:Ha.quality,newQuality:b.quality}),Ha={mediaInfo:b.mediaInfo,quality:b.quality,adaptationIndex:b.adaptationIndex})}}function A(a){a.error||a.sender.getStreamProcessor()!==pa||(ua=fa.convertDataToRepresentationInfo(a.currentRepresentation))}function C(a){a.error||pa.getStreamInfo().id!==a.streamInfo.id||(ua=pa.getCurrentRepresentationInfo(),va&&(la.getIsDynamic()?(ia.setTimeSyncCompleted(!0),D()):(Da=la.getStreamStartTime(!1),pa.getBufferController().setSeekStartTime(Da))),wa&&d())}function D(){var a=pa.getLiveEdgeFinder();if(a){var b=a.getLiveEdge(),c=ua.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,d=b-la.computeLiveDelay(ua.fragmentDuration,c),e=fa.getFragmentRequestForTime(pa,ua,d,{ignoreIsFinished:!0});if(ja.getLowLatencyEnabled()){var f=e.duration<ja.getLiveDelay()?e.startTime:e.startTime+e.duration-ja.getLiveDelay();la.setLiveStartTime(f)}else la.setLiveStartTime(e.startTime);(Da=la.getStreamStartTime(!1,b))>ua.mediaInfo.streamInfo.start+ua.mediaInfo.streamInfo.duration&&la.seek(Da);var h=ga.getCurrentManifestUpdate(ea.getMetricsFor(g.default.STREAM));ea.updateManifestUpdateInfo(h,{currentTime:Da,presentationStartTime:b,latency:b-Da,clientTimeOffset:ia.getClientTimeOffset()})}}function E(a){a.fragmentModel===ta&&(e(),q(!1),sa("[ScheduleController] Stream is complete"))}function F(a){a.sender===ta&&(sa("[ScheduleController][",oa,"] - onFragmentLoadingCompleted"),ha.getIsTextTrack(oa)&&q(!1),a.error&&a.request.serviceLocation&&!wa&&(w(a.request),q(!1),m(0)),Ma&&(Na=a.request))}function G(){y(!0)}function H(a){a.sender.getStreamProcessor()===pa&&(Ma&&!isNaN(a.startTime)&&(Ma=!1,ta.addExecutedRequest(Na)),q(!1),m(0))}function I(a){a.streamProcessor===pa&&(sa("[ScheduleController][onFragmentLoadingAbandoned] for "+oa+", request: "+a.request.url+" has been aborted"),la.isSeeking()||La||(sa("[ScheduleController][onFragmentLoadingAbandoned] for "+oa+", request: "+a.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),w(a.request)),q(!1),m(0))}function J(a){a.sender.getStreamProcessor()===pa&&e()}function K(a){a.sender.getStreamProcessor()===pa&&(pa.getFragmentModel().syncExecutedRequestsWithBufferedRange(pa.getBufferController().getBuffer().getAllBufferRanges(),pa.getStreamInfo().duration),a.hasEnoughSpaceToAppend&&wa&&d())}function L(a){a.sender.getStreamProcessor()!==pa||a.state!==l.default.BUFFER_EMPTY||la.isSeeking()||(sa("[ScheduleController][",oa,"] - Buffer is empty! Stalling!"),$(new Date,h.PlayListTrace.REBUFFERING_REASON))}function M(a){a.sender.getStreamProcessor()===pa&&(e(),q(!1))}function N(){ta.abortRequests(),e()}function O(a){a.sender.getStreamProcessor()===pa&&s(a.index)}function P(){!wa&&Ga||d()}function Q(a){Da=a.seekTime,U(0),wa&&d();var b=ga.getCurrentManifestUpdate(ea.getMetricsFor(g.default.STREAM)),c=ua.DVRWindow&&la?ua.DVRWindow.end-la.getTime():NaN;ea.updateManifestUpdateInfo(b,{latency:c}),Aa?(sa("[ScheduleController][onPlaybackSeeking] for "+oa+", call fragmentModel.abortRequests in order to seek quicker"),ta.abortRequests()):m(0)}function R(a){ya&&(ya.playbackspeed=a.playbackRate.toString())}function S(){return Da}function T(a){Da=a}function U(a){Ba=a}function V(){return Ba}function W(){return Ea.getBufferTarget(pa,oa,ma.isVideoTrackPresent())}function X(){return oa}function Y(a){xa=a}function Z(a,b){$(a,b),xa=null}function $(a,b){if(xa&&!1===za){var c=ya.start,d=a.getTime()-c.getTime();ya.duration=d,ya.stopreason=b,xa.trace.push(ya),za=!0}}function _(){xa&&!0===za&&ua&&(za=!1,ya=new h.PlayListTrace,ya.representationid=ua.id,ya.start=new Date,ya.mstart=1e3*la.getTime(),ya.playbackspeed=la.getPlaybackRate().toString())}function aa(){Aa=!1,Ba=0,Da=NaN,xa=null,ya=null,za=!0,va=!0,Ja=NaN,Ha={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},Ia={},Ka=[],wa=!0,La=!1,Ma=!1,Na=null}function ba(){da.off(v.default.DATA_UPDATE_STARTED,J,this),da.off(v.default.DATA_UPDATE_COMPLETED,A,this),da.off(v.default.BUFFER_LEVEL_STATE_CHANGED,L,this),da.off(v.default.QUALITY_CHANGE_REQUESTED,x,this),da.off(v.default.FRAGMENT_LOADING_COMPLETED,F,this),da.off(v.default.STREAM_COMPLETED,E,this),da.off(v.default.STREAM_INITIALIZED,C,this),da.off(v.default.QUOTA_EXCEEDED,M,this),da.off(v.default.BYTES_APPENDED_END_FRAGMENT,H,this),da.off(v.default.BUFFER_CLEARED,K,this),da.off(v.default.INIT_REQUESTED,o,this),da.off(v.default.PLAYBACK_RATE_CHANGED,R,this),da.off(v.default.PLAYBACK_SEEKING,Q,this),da.off(v.default.PLAYBACK_STARTED,P,this),da.off(v.default.PLAYBACK_TIME_UPDATED,G,this),da.off(v.default.URL_RESOLUTION_FAILED,N,this),da.off(v.default.FRAGMENT_LOADING_ABANDONED,I,this),ha.getIsTextTrack(oa)&&da.off(v.default.TIMED_TEXT_REQUESTED,O,this),e(),y(!1),aa()}a=a||{};var ca=this.context,da=(0,t.default)(ca).getInstance(),ea=a.metricsModel,fa=a.adapter,ga=a.dashMetrics,ha=a.dashManifestModel,ia=a.timelineConverter,ja=a.mediaPlayerModel,ka=a.abrController,la=a.playbackController,ma=a.streamController,na=a.textController,oa=a.type,pa=a.streamProcessor,qa=a.mediaController,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0;return ra={initialize:b,getType:X,getSeekTarget:S,setSeekTarget:T,setTimeToLoadDelay:U,getTimeToLoadDelay:V,replaceRequest:w,switchTrackAsked:u,isStarted:c,start:d,stop:e,reset:ba,setPlayList:Y,getBufferTarget:W,finalisePlayList:Z},function(){sa=(0,z.default)(ca).getInstance().log.bind(ra),aa()}(),ra}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(234),i=a(102),j=d(i),k=a(105),l=d(k),m=a(184),n=d(m),o=a(185),p=d(o),q=a(139),r=d(q),s=a(47),t=d(s),u=a(51),v=d(u),w=a(48),x=d(w),y=a(46),z=d(y),A=a(108),B=d(A);e.__dashjs_factory_name="ScheduleController",c.default=x.default.getClassFactory(e),b.exports=c.default},{102:102,105:105,108:108,139:139,184:184,185:185,234:234,46:46,47:47,48:48,51:51,99:99}],112:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,d){W(),Ga=a,Fa=d,Ba.initialize(),ka=(0,m.default)(fa).create(),ka.setConfig({manifestModel:ma,dashManifestModel:na,mediaPlayerModel:Na,manifestLoader:la}),ka.initialize(),ta.setConfig({dashManifestModel:na}),ha.on(q.default.TIME_SYNCHRONIZATION_COMPLETED,M,this),ha.on(q.default.PLAYBACK_SEEKING,e,this),ha.on(q.default.PLAYBACK_TIME_UPDATED,b,this),ha.on(q.default.PLAYBACK_ENDED,u,this),ha.on(q.default.PLAYBACK_ERROR,T,this),ha.on(q.default.PLAYBACK_STARTED,f,this),ha.on(q.default.PLAYBACK_PAUSED,h,this),ha.on(q.default.MANIFEST_UPDATED,N,this),ha.on(q.default.STREAM_BUFFERING_COMPLETED,n,this),ha.on(q.default.MANIFEST_VALIDITY_CHANGED,$,this),ha.on(q.default.WALLCLOCK_TIME_UPDATED,c,this),ha.on(D.default.METRIC_ADDED,da,this)}function b(){if(P()){var a=La.getPlaybackQuality();a&&pa.addDroppedFrames(g.default.VIDEO,a)}}function c(){if(!(!Na.getJumpGaps()||!Da||0===Da.getProcessors().length||Ma.isSeeking()||Oa||Ha||Ia||Ja)&&++Va>=ea){var a=Ma.getTime();Wa===a?d(a):Wa=a,Va=0}}function d(a){for(var b=Da.getProcessors(),c=Na.getSmallGapLimit(),d=void 0,e=0;e<b.length;e++){var f=b[e].getBuffer(),g=f.getAllBufferRanges(),h=void 0;if(g&&!(g.length<=1)){for(var i=0;i<g.length;i++)if(a<g.start(i)){h=g.start(i);break}if(h>0){var j=h-a;j>0&&j<=c&&(void 0===d||h>d)&&(d=h)}}}var k=Ma.getTimeToStreamEnd();void 0===d&&!isNaN(k)&&k<c&&(d=a+k),d>0&&(!isNaN(k)&&d>=a+k?(ga("Jumping media gap (discontinuity) at time ",a,". Jumping to end of the stream"),ha.trigger(q.default.PLAYBACK_ENDED)):(ga("Jumping media gap (discontinuity) at time ",a,". Jumping to time position",d),Ma.seek(d)))}function e(a){var b=p(a.seekTime);Ua&&(j(),Ta=!1),b&&b!==Da?(R(v.PlayListTrace.END_OF_PERIOD_STOP_REASON),y(Da,b,a.seekTime)):R(v.PlayListTrace.USER_REQUEST_STOP_REASON),S(v.PlayList.SEEK_START_REASON)}function f(){ga("[StreamController][onPlaybackStarted]"),Pa?(Pa=!1,S(v.PlayList.INITIAL_PLAYOUT_START_REASON)):Oa&&(Oa=!1,S(v.PlayList.RESUME_FROM_PAUSE_START_REASON),l())}function h(a){ga("[StreamController][onPlaybackPaused]"),a.ended||(Oa=!0,R(v.PlayListTrace.USER_REQUEST_STOP_REASON),l())}function j(){ga("[StreamController][toggleEndPeriodTimer] stop end period timer."),clearTimeout(Ua),Ua=void 0}function l(){if(Ta)if(Ua)j();else{var a=Ma.getTimeToStreamEnd(),b=a>0?1e3*a:0;ga("[StreamController][toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in "+b+" milliseconds"),Ua=setTimeout(function(){ha.trigger(q.default.PLAYBACK_ENDED)},b)}}function n(){var a=U().isLast;Ka&&a?(ga("[StreamController][onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),ra.signalEndOfStream(Ka)):Ka&&void 0===Ua&&(ga("[StreamController][onStreamBufferingCompleted] end of period detected"),Ta=!0,!1===Oa&&l())}function p(a){var b=0,c=null,d=Ca.length;d>0&&(b+=Ca[0].getStartTime());for(var e=0;e<d;e++)if(c=Ca[e],b=parseFloat((b+c.getDuration()).toFixed(5)),a<b)return c;return null}function r(a,b){for(var c=null,d=0,e=0,f=null,g=Ca.length,h=0;h<g;h++){if(c=Ca[h],e=c.getStartTime(),f=c.getDuration(),Number.isFinite(e)&&(d=e),c.getId()===b)return a-d;Number.isFinite(f)&&(d+=f)}return null}function t(){return Da?Da.getProcessors():[]}function u(){var a=w();a?(Sa=void 0,Ra=void 0,y(Da,a,NaN)):ga("StreamController no next stream found"),R(a?v.PlayListTrace.END_OF_PERIOD_STOP_REASON:v.PlayListTrace.END_OF_CONTENT_STOP_REASON),Ua=void 0,Ta=!1}function w(){if(Da){var a=function(){var a=Da.getStreamInfo().start,b=Da.getStreamInfo().duration;return{v:Ca.filter(function(c){return c.getStreamInfo().start===parseFloat((a+b).toFixed(5))})[0]}}();if("object"==typeof a)return a.v}}function y(a,b,c){!Ha&&b&&a!==b&&(Ha=!0,ha.trigger(q.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:a?a.getStreamInfo():null,toStreamInfo:b.getStreamInfo()}),a&&(a.stopEventController(),a.deactivate()),Da=b,Ma.initialize(Da.getStreamInfo()),La.getElement()?E(c,a,!1):A(c))}function A(a){G(a)}function C(a){Ma.initialize(Da.getStreamInfo()),E(a,null,!0)}function E(a,b,c){function d(){ga("MediaSource is open!"),window.URL.revokeObjectURL(e),Ka.removeEventListener("sourceopen",d),Ka.removeEventListener("webkitsourceopen",d),I(),b||ha.trigger(q.default.SOURCE_INITIALIZED),c?Da.setMediaSource(Ka):G(a)}var e=void 0;Ka?ra.detachMediaSource(La):Ka=ra.createMediaSource(),Ka.addEventListener("sourceopen",d,!1),Ka.addEventListener("webkitsourceopen",d,!1),e=ra.attachMediaSource(Ka,La),ga("MediaSource attached to element.  Waiting on open...")}function G(a){Da.activate(Ka),Sa=Q(g.default.AUDIO),Ra=Q(g.default.VIDEO),Pa||(isNaN(a)?function(){var a=Ma.getStreamStartTime(!0);Da.getProcessors().forEach(function(b){oa.setIndexHandlerTime(b,a)})}():Ma.seek(a)),Da.startEventController(),!Ga&&Pa||Ma.play(),Ha=!1,ha.trigger(q.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Da.getStreamInfo()})}function I(){var a=Da.getStreamInfo().manifestInfo.duration,b=ra.setDuration(Ka,a);ga("Duration successfully set to: "+b)}function K(a){for(var b=0,c=Ca.length;b<c;b++)if(Ca[b].getId()===a.id)return Ca[b];return null}function L(){try{var a=oa.getStreamsInfo();if(0===a.length)throw new Error("There are no streams");var b=qa.getCurrentManifestUpdate(pa.getMetricsFor(g.default.STREAM));pa.updateManifestUpdateInfo(b,{currentTime:Ma.getTime(),buffered:La.getBufferRange(),presentationStartTime:a[0].start,clientTimeOffset:Ba.getClientTimeOffset()});for(var c=0,d=a.length;c<d;c++){var e=a[c],f=K(e);f?f.updateData(e):(f=(0,k.default)(fa).create({manifestModel:ma,dashManifestModel:na,mediaPlayerModel:Na,metricsModel:pa,dashMetrics:qa,manifestUpdater:ka,adapter:oa,timelineConverter:Ba,capabilities:ja,errHandler:Aa,baseURLController:ta,domStorage:ua,abrController:va,playbackController:Ma,mediaController:wa,textController:xa,videoModel:La,streamController:ia}),Ca.push(f),f.initialize(e,Ea)),pa.addManifestUpdateStreamInfo(b,e.id,e.index,e.start,e.duration)}if(!Da){var h=Ma.getStartTimeFromUriParameters(),i=null;h&&(i=p(isNaN(h.fragS)?h.fragT:h.fragS)),y(null,null!==i?i:Ca[0],NaN)}ha.trigger(q.default.STREAMS_COMPOSED)}catch(a){Aa.manifestError(a.message,"nostreamscomposed",ma.getValue()),Ja=!0,ca()}}function M(){var a=ma.getValue();Ea&&(ha.trigger(q.default.PROTECTION_CREATED,{controller:Ea,manifest:a}),Ea.setMediaElement(La.getElement()),Fa&&Ea.setProtectionData(Fa)),L()}function N(a){a.error?(Ja=!0,ca()):function(){var b=a.manifest;oa.updatePeriods(b);var c=oa.getStreamsInfo(void 0,1)[0],d=oa.getMediaInfoForType(c,g.default.VIDEO)||oa.getMediaInfoForType(c,g.default.AUDIO),e=void 0;d&&(e=na.getUseCalculatedLiveEdgeTimeForAdaptation(oa.getDataForMedia(d)))&&(ga("SegmentTimeline detected using calculated Live Edge Time"),Na.setUseManifestDateHeaderTimeSource(!1));var f=na.getUTCTimingSources(a.manifest),h=!na.getIsDynamic(b)||e?f:f.concat(Na.getUTCTimingSources()),i=za.isHTTPS(a.manifest.url);h.forEach(function(a){a.value.replace(/.*?:\/\//g,"")===s.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(a.value=a.value.replace(i?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),i?"https://":"http://"),ga("Matching default timing source protocol to manifest protocol: ",a.value))}),ta.initialize(b),sa.setConfig({metricsModel:pa,dashMetrics:qa,baseURLController:ta}),sa.initialize(h,Na.getUseManifestDateHeaderTimeSource())}()}function O(){return Sa}function P(){return Ra}function Q(a){var b=!1;return Da&&Da.getProcessors().forEach(function(c){c.getMediaInfo().type===a&&(b=!0)}),b}function R(a,b){b=b||new Date,
Qa&&(Da&&Da.getProcessors().forEach(function(c){var d=c.getScheduleController();d&&d.finalisePlayList(b,a)}),pa.addPlayList(Qa),Qa=null)}function S(a){Qa=new v.PlayList,Qa.start=new Date,Qa.mstart=1e3*Ma.getTime(),Qa.starttype=a,Da&&Da.getProcessors().forEach(function(a){var b=a.getScheduleController();b&&b.setPlayList(Qa)})}function T(a){if(a.error){var b="";switch(a.error.code){case 1:b="MEDIA_ERR_ABORTED";break;case 2:b="MEDIA_ERR_NETWORK";break;case 3:b="MEDIA_ERR_DECODE";break;case 4:b="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:b="MEDIA_ERR_ENCRYPTED";break;default:b="UNKNOWN"}Ia=!0,a.error.message&&(b+=" ("+a.error.message+")"),a.error.msExtendedCode&&(b+=" (0x"+(a.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),ga("Video Element Error: "+b),a.error&&ga(a.error),Aa.mediaSourceError(b),ca()}}function U(){return Da?Da.getStreamInfo():null}function V(a){return Ca.filter(function(b){return b.getId()===a})[0]}function W(){if(!(la&&la.hasOwnProperty("load")&&Ba&&Ba.hasOwnProperty("initialize")&&Ba.hasOwnProperty("reset")&&Ba.hasOwnProperty("getClientTimeOffset")))throw new Error("setConfig function has to be called previously")}function X(){if(!ka||!ka.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function Y(a){W(),la.load(a)}function Z(a){X(),ka.setManifest(a)}function $(a){isNaN(a.newDuration)||I(a.newDuration)}function _(a){a&&(a.capabilities&&(ja=a.capabilities),a.manifestLoader&&(la=a.manifestLoader),a.manifestModel&&(ma=a.manifestModel),a.dashManifestModel&&(na=a.dashManifestModel),a.mediaPlayerModel&&(Na=a.mediaPlayerModel),a.protectionController&&(Ea=a.protectionController),a.adapter&&(oa=a.adapter),a.metricsModel&&(pa=a.metricsModel),a.dashMetrics&&(qa=a.dashMetrics),a.errHandler&&(Aa=a.errHandler),a.timelineConverter&&(Ba=a.timelineConverter),a.videoModel&&(La=a.videoModel),a.playbackController&&(Ma=a.playbackController),a.domStorage&&(ua=a.domStorage),a.abrController&&(va=a.abrController),a.mediaController&&(wa=a.mediaController),a.textController&&(xa=a.textController))}function aa(a){Fa=a}function ba(){Ca=[],Ea=null,Ha=!1,Da=null,Ia=!1,Ja=!1,Ra=void 0,Sa=void 0,Pa=!0,Oa=!1,Ga=!0,Qa=null,Ua=void 0,Ta=!1,Va=0}function ca(){W(),sa.reset(),R(Ia||Ja?v.PlayListTrace.FAILURE_STOP_REASON:v.PlayListTrace.USER_REQUEST_STOP_REASON);for(var a=0,c=Ca?Ca.length:0;a<c;a++)Ca[a].reset(Ia);ha.off(q.default.PLAYBACK_TIME_UPDATED,b,this),ha.off(q.default.PLAYBACK_SEEKING,e,this),ha.off(q.default.PLAYBACK_ERROR,T,this),ha.off(q.default.PLAYBACK_STARTED,f,this),ha.off(q.default.PLAYBACK_PAUSED,h,this),ha.off(q.default.PLAYBACK_ENDED,u,this),ha.off(q.default.MANIFEST_UPDATED,N,this),ha.off(q.default.STREAM_BUFFERING_COMPLETED,n,this),ha.off(D.default.METRIC_ADDED,da,this),ha.off(q.default.MANIFEST_VALIDITY_CHANGED,$,this),ta.reset(),ka.reset(),pa.clearAllCurrentMetrics(),ma.setValue(null),la.reset(),Ba.reset(),ya.reset(),Ka&&(ra.detachMediaSource(La),Ka=null),La=null,Ea&&(Ea.setMediaElement(null),Ea=null,Fa=null,ma.getValue()&&ha.trigger(q.default.PROTECTION_DESTROYED,{data:ma.getValue().url})),ha.trigger(q.default.STREAM_TEARDOWN_COMPLETE),ba()}function da(a){a.metric===i.default.DVR_INFO&&a.mediaType===g.default.AUDIO&&ra.setSeekable(Ka,a.value.range.start,a.value.range.end)}var ea=40,fa=this.context,ga=(0,x.default)(fa).getInstance().log,ha=(0,o.default)(fa).getInstance(),ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,Sa=void 0,Ta=void 0,Ua=void 0,Va=void 0,Wa=void 0;return ia={initialize:a,getActiveStreamInfo:U,isVideoTrackPresent:P,isAudioTrackPresent:O,switchToVideoElement:C,getStreamById:V,getStreamForTime:p,getTimeRelativeToStreamId:r,load:Y,loadWithManifest:Z,getActiveStreamProcessors:t,setConfig:_,setProtectionData:aa,reset:ca},function(){sa=(0,F.default)(fa).getInstance(),ta=(0,H.default)(fa).getInstance(),ra=(0,J.default)(fa).getInstance(),ya=(0,z.default)(fa).getInstance(),za=(0,B.default)(fa).getInstance(),ba()}(),ia}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(100),i=d(h),j=a(96),k=d(j),l=a(90),m=d(l),n=a(47),o=d(n),p=a(51),q=d(p),r=a(141),s=d(r),t=a(48),u=d(t),v=a(234),w=a(46),x=d(w),y=a(201),z=d(y),A=a(207),B=d(A),C=a(92),D=d(C),E=a(113),F=d(E),G=a(103),H=d(G),I=a(109),J=d(I);e.__dashjs_factory_name="StreamController",c.default=u.default.getSingletonFactory(e),b.exports=c.default},{100:100,103:103,109:109,113:113,141:141,201:201,207:207,234:234,46:46,47:47,48:48,51:51,90:90,92:92,96:96,99:99}],113:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){K=b,H=0,I=!1,J=!1,L={"urn:mpeg:dash:utc:http-head:2014":y,"urn:mpeg:dash:utc:http-xsdate:2014":x.bind(null,o),"urn:mpeg:dash:utc:http-iso:2014":x.bind(null,p),"urn:mpeg:dash:utc:direct:2014":w,"urn:mpeg:dash:utc:http-head:2012":y,"urn:mpeg:dash:utc:http-xsdate:2012":x.bind(null,o),"urn:mpeg:dash:utc:http-iso:2012":x.bind(null,p),"urn:mpeg:dash:utc:direct:2012":w,"urn:mpeg:dash:utc:http-ntp:2014":s,"urn:mpeg:dash:utc:ntp:2014":s,"urn:mpeg:dash:utc:sntp:2014":s},e()||(B(a),f(!0))}function b(a){a&&(a.metricsModel&&(M=a.metricsModel),a.dashMetrics&&(N=a.dashMetrics),a.baseURLController&&(O=a.baseURLController))}function c(){return k()}function d(a){I=a}function e(){return I}function f(a){J=a}function h(a){H=a}function k(){return H}function m(a){var b=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,c=void 0,d=void 0,e=b.exec(a);return c=Date.UTC(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[4],10),parseInt(e[5],10),e[6]&&(parseInt(e[6],10)||0),e[7]&&1e3*parseFloat(e[7])||0),e[9]&&e[10]&&(d=60*parseInt(e[9],10)+parseInt(e[10],10),c+=("+"===e[8]?-1:1)*d*60*1e3),new Date(c).getTime()}function o(a){var b=Date.parse(a);return isNaN(b)&&(b=m(a)),b}function p(a){return Date.parse(a)}function q(a){return Date.parse(a)}function s(a,b,c){c()}function w(a,b,c){var d=o(a);if(!isNaN(d))return void b(d);c()}function x(a,b,c,d,e){var f=void 0,g=void 0,h=!1,i=new XMLHttpRequest,k=e?j.HTTPRequest.HEAD:j.HTTPRequest.GET,l=b.match(/\S+/g);if(b=l.shift(),f=function(){h||(h=!0,l.length?x(a,l.join(" "),c,d,e):d())},g=function(){var b=void 0,d=void 0;200===i.status&&(b=e?i.getResponseHeader("Date"):i.response,d=a(b),isNaN(d)||(c(d),h=!0))},G.isRelative(b)){var m=O.resolve();m&&(b=G.resolve(b,m.url))}i.open(k,b),i.timeout=v||0,i.onload=g,i.onloadend=f,i.send()}function y(a,b,c){x(q,a,b,c,!0)}function z(){var a=M.getReadOnlyMetricsFor(g.default.STREAM),b=N.getLatestMPDRequestHeaderValueByID(a,"Date"),c=null!==b?new Date(b).getTime():Number.NaN;isNaN(c)?A(!0):(h(c-(new Date).getTime()),A(!1,c/1e3,H))}function A(a,b,c){d(!1),F.trigger(n.default.TIME_SYNCHRONIZATION_COMPLETED,{time:b,offset:c,error:a?new i.default(u):null})}function B(a,b){var c=b||0,e=a[c],f=function(a,b){var c=!a||!b;c&&K?z():A(c,a,b)};d(!0),e?L.hasOwnProperty(e.schemeIdUri)?L[e.schemeIdUri](e.value,function(a){var b=(new Date).getTime(),c=a-b;h(c),E("Local time:      "+new Date(b)),E("Server time:     "+new Date(a)),E("Difference (ms): "+c),f(a,c)},function(){B(a,c+1)}):B(a,c+1):(h(0),f())}function C(){f(!1),d(!1)}var D=this.context,E=(0,r.default)(D).getInstance().log,F=(0,l.default)(D).getInstance(),G=(0,t.default)(D).getInstance(),H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0;return{initialize:a,getOffsetToDeviceTimeMs:c,setConfig:b,reset:C}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(212),i=d(h),j=a(232),k=a(47),l=d(k),m=a(51),n=d(m),o=a(48),p=d(o),q=a(46),r=d(q),s=a(207),t=d(s),u=1,v=5e3;e.__dashjs_factory_name="TimeSyncController";var w=p.default.getSingletonFactory(e);w.TIME_SYNC_FAILED_ERROR_CODE=u,w.HTTP_TIMEOUT_MS=v,p.default.updateSingletonFactory(e.__dashjs_factory_name,w),c.default=w,b.exports=c.default},{207:207,212:212,232:232,46:46,47:47,48:48,51:51,99:99}],114:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){a&&(B=a)}function c(a){a&&(C=a)}function d(a){var b=void 0;E=new o.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:B}),D=a,b=l(D.Period_asArray,D,t,r),f(b,t,r)}function e(){y.off(k.default.XLINK_ELEMENT_LOADED,h,A),F&&(F.reset(),F=null)}function f(a,b,c){var d={},e=void 0,f=void 0;d.elements=a,d.type=b,d.resolveType=c,0===d.elements.length&&j(d);for(var g=0;g<d.elements.length;g++)e=d.elements[g],f=z.isHTTPURL(e.url)?e.url:e.originalContent.BaseURL+e.url,F.load(f,e,d)}function h(a){var b=void 0,c=void 0,d="";if(b=a.element,c=a.resolveObject,b.resolvedContent){var e=0;0===b.resolvedContent.indexOf("<?xml")&&(e=b.resolvedContent.indexOf("?>")+2),d=b.resolvedContent.substr(0,e)+"<response>"+b.resolvedContent.substr(e)+"</response>",b.resolvedContent=E.xml_str2json(d)}p(c)&&j(c)}function j(a){var b=[],c=void 0,d=void 0;if(m(a),a.resolveType===s&&y.trigger(k.default.XLINK_READY,{manifest:D}),a.resolveType===r)switch(a.type){case t:for(c=0;c<D[t+"_asArray"].length;c++)d=D[t+"_asArray"][c],d.hasOwnProperty(u+"_asArray")&&(b=b.concat(l(d[u+"_asArray"],d,u,r))),d.hasOwnProperty(v+"_asArray")&&(b=b.concat(l(d[v+"_asArray"],d,v,r)));f(b,u,r);break;case u:y.trigger(k.default.XLINK_READY,{manifest:D})}}function l(a,b,c,d){var e=[],f=void 0,g=void 0,h=void 0;for(g=a.length-1;g>=0;g--)f=a[g],f.hasOwnProperty("xlink:href")&&f["xlink:href"]===w&&a.splice(g,1);for(g=0;g<a.length;g++)f=a[g],f.hasOwnProperty("xlink:href")&&f.hasOwnProperty("xlink:actuate")&&f["xlink:actuate"]===d&&(h=n(f["xlink:href"],b,c,g,d,f),e.push(h));return e}function m(a){var b=[],c=void 0,d=void 0,e=void 0,f=void 0,g=void 0,h=void 0;for(f=a.elements.length-1;f>=0;f--){if(c=a.elements[f],d=c.type+"_asArray",c.resolvedContent&&1){if(c.resolvedContent)for(g=0;g<c.resolvedContent[d].length;g++)e=c.resolvedContent[d][g],b.push(e)}else delete c.originalContent["xlink:actuate"],delete c.originalContent["xlink:href"],b.push(c.originalContent);for(c.parentElement[d].splice(c.index,1),h=0;h<b.length;h++)c.parentElement[d].splice(c.index+h,0,b[h]);b=[]}a.elements.length>0&&C.run(D)}function n(a,b,c,d,e,f){return{url:a,parentElement:b,type:c,index:d,resolveType:e,originalContent:f,resolvedContent:null,resolved:!1}}function p(a){var b=void 0,c=void 0;for(b=0;b<a.elements.length;b++)if(c=a.elements[b],!1===c.resolved)return!1;return!0}a=a||{};var x=this.context,y=(0,i.default)(x).getInstance(),z=(0,q.default)(x).getInstance(),A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0;return A={resolveManifestOnLoad:d,setMatchers:b,setIron:c,reset:e},function(){y.on(k.default.XLINK_ELEMENT_LOADED,h,A),F=(0,g.default)(x).create({errHandler:a.errHandler,metricsModel:a.metricsModel,mediaPlayerModel:a.mediaPlayerModel,requestModifier:a.requestModifier})}(),A}Object.defineProperty(c,"__esModule",{value:!0});var f=a(98),g=d(f),h=a(47),i=d(h),j=a(51),k=d(j),l=a(48),m=d(l),n=a(4),o=d(n),p=a(207),q=d(p),r="onLoad",s="onActuate",t="Period",u="AdaptationSet",v="EventStream",w="urn:mpeg:dash:resolve-to-zero:2013";e.__dashjs_factory_name="XlinkController",c.default=m.default.getClassFactory(e),b.exports=c.default},{207:207,4:4,47:47,48:48,51:51,98:98}],115:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return e=(0,g.default)(d).getInstance({eventBus:a.eventBus,metricsModel:a.metricsModel,metricsConstants:a.metricsConstants,events:a.events}),(0,k.default)(d).create(a)}function b(){return(0,o.default)(d).getInstance()}function c(){return(0,m.default)(d).getInstance()}var d=this.context,e=void 0;return{createMetricsReporting:a,getReportingFactory:b,getMetricsHandlerFactory:c}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(129),g=d(f),h=a(116),i=d(h),j=a(117),k=d(j),l=a(122),m=d(l),n=a(127),o=d(n);e.__dashjs_factory_name="MetricsReporting";var p=dashjs.FactoryMaker.getClassFactory(e);p.events=i.default,dashjs.FactoryMaker.updateClassFactory(e.__dashjs_factory_name,p),c.default=p,b.exports=c.default},{116:116,117:117,122:122,127:127,129:129}],116:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},g=a(52),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(){d(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return e(b,a),b}(h.default),j=new i;c.default=j,b.exports=c.default},{52:52}],117:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b){if(!b.error){var c=Object.keys(e);(0,i.default)(f).getInstance({dashManifestModel:a.dashManifestModel,constants:a.constants}).getMetrics(b.manifest).forEach(function(b){var d=JSON.stringify(b);if(e.hasOwnProperty(d))c.splice(d,1);else try{var h=(0,g.default)(f).create(a);h.initialize(b),e[d]=h}catch(b){}}),c.forEach(function(a){e[a].reset(),delete e[a]}),h.trigger(k.default.METRICS_INITIALISATION_COMPLETE)}}function c(){Object.keys(e).forEach(function(a){e[a].reset()}),e={}}function d(){h.off(j.MANIFEST_UPDATED,b),h.off(j.STREAM_TEARDOWN_COMPLETE,c)}a=a||{};var e={},f=this.context,h=a.eventBus,j=a.events;return function(){h.on(j.MANIFEST_UPDATED,b),h.on(j.STREAM_TEARDOWN_COMPLETE,c)}(),{reset:d}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(118),g=d(f),h=a(131),i=d(h),j=a(116),k=d(j);e.__dashjs_factory_name="MetricsCollectionController",c.default=dashjs.FactoryMaker.getClassFactory(e),b.exports=c.default},{116:116,118:118,131:131}],118:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b){try{f=(0,g.default)(h).create({mediaElement:a.mediaElement}),f.initialize(b.Range),e=(0,i.default)(h).create({log:a.log,metricsConstants:a.metricsConstants}),e.initialize(b.Reporting,f),d=(0,k.default)(h).create({log:a.log,eventBus:a.eventBus,metricsConstants:a.metricsConstants,events:a.events}),d.initialize(b.metrics,e)}catch(a){throw c(),a}}function c(){d&&d.reset(),e&&e.reset(),f&&f.reset()}a=a||{};var d=void 0,e=void 0,f=void 0,h=this.context;return{initialize:b,reset:c}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(120),g=d(f),h=a(121),i=d(h),j=a(119),k=d(j);e.__dashjs_factory_name="MetricsController",c.default=dashjs.FactoryMaker.getClassFactory(e),b.exports=c.default},{119:119,120:120,121:121}],119:[function(a,b,c){"use strict";function d(a){function b(a){e.forEach(function(b){b.handleNewMetric(a.metric,a.value,a.mediaType)})}function c(a,c){a.split(",").forEach(function(a,b,d){var f=void 0;if(-1!==a.indexOf("(")&&-1===a.indexOf(")")){var g=d[b+1];g&&-1===g.indexOf("(")&&-1!==g.indexOf(")")&&(a+=","+g,delete d[b+1])}(f=k.create(a,c))&&e.push(f)}),i.on(j.METRIC_ADDED,b,g),i.on(j.METRIC_UPDATED,b,g)}function d(){i.off(j.METRIC_ADDED,b,g),i.off(j.METRIC_UPDATED,b,g),e.forEach(function(a){return a.reset()}),e=[]}a=a||{};var e=[],g=void 0,h=this.context,i=a.eventBus,j=a.events,k=(0,f.default)(h).getInstance({log:a.log,eventBus:a.eventBus,metricsConstants:a.metricsConstants});return g={initialize:c,reset:d}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(122),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="MetricsHandlersController",c.default=dashjs.FactoryMaker.getClassFactory(d),b.exports=c.default},{122:122}],120:[function(a,b,c){"use strict";function d(a){function b(a){a&&a.length&&(a.forEach(function(a){var b=a.starttime,c=b+a.duration;i.add(b,c)}),e=!!a[0]._useWallClockTime)}function c(){i.clear()}function d(){var a=i.length,b=void 0;if(!a)return!0;b=e?(new Date).getTime()/1e3:j.currentTime;for(var c=0;c<a;c+=1){var d=i.start(c),f=i.end(c);if(d<=b&&b<f)return!0}return!1}a=a||{};var e=!1,g=this.context,h=void 0,i=void 0,j=a.mediaElement;return h={initialize:b,reset:c,isEnabled:d},function(){i=(0,f.default)(g).create()}(),h}Object.defineProperty(c,"__esModule",{value:!0});var e=a(197),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="RangeController",c.default=dashjs.FactoryMaker.getClassFactory(d),b.exports=c.default},{197:197}],121:[function(a,b,c){"use strict";function d(a){function b(a,b){a.some(function(a){var c=g.create(a,b);if(c)return e.push(c),!0})}function c(){e.forEach(function(a){return a.reset()}),e=[]}function d(a,b){e.forEach(function(c){return c.report(a,b)})}var e=[],g=(0,f.default)(this.context).getInstance(a);return{initialize:b,reset:c,report:d}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(127),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="ReportingController",c.default=dashjs.FactoryMaker.getClassFactory(d),b.exports=c.default},{127:127}],122:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b,c){var d,g=b.match(f);if(g){try{d=j[g[1]](h).create({eventBus:a.eventBus,metricsConstants:a.metricsConstants}),d.initialize(g[1],c,g[3],g[5])}catch(a){d=null,e("MetricsHandlerFactory: Could not create handler for type "+g[1]+" with args "+g[3]+", "+g[5]+" ("+a.message+")")}return d}}function c(a,b){j[a]=b}function d(a){delete j[a]}a=a||{};var e=a.log,f=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,h=this.context,j={BufferLevel:g.default,DVBErrors:i.default,HttpList:k.default,PlayList:m.default,RepSwitchList:m.default,TcpList:m.default};return{create:b,register:c,unregister:d}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(123),g=d(f),h=a(124),i=d(h),j=a(126),k=d(j),l=a(125),m=d(l);e.__dashjs_factory_name="MetricsHandlerFactory",c.default=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c.default},{123:123,124:124,125:125,126:126}],123:[function(a,b,c){"use strict";function d(a){function b(){try{return Object.keys(o).map(function(a){return o[a]}).reduce(function(a,b){return a.level<b.level?a:b})}catch(a){return}}function c(){var a=b();a&&l!==a.t&&(l=a.t,h.report(j,a))}function d(a,b,d){b&&(i=n.validateN(d),h=b,j=n.reconstructFullMetricName(a,d),k=setInterval(c,i))}function e(){clearInterval(k),k=null,i=0,h=null,l=null}function g(a,b,c){a===p.BUFFER_LEVEL&&(o[c]=b)}a=a||{};var h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=this.context,n=(0,f.default)(m).getInstance(),o=[],p=a.metricsConstants;return{initialize:d,reset:e,handleNewMetric:g}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(130),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="BufferLevelHandler",c.default=dashjs.FactoryMaker.getClassFactory(d),b.exports=c.default},{130:130}],124:[function(a,b,c){"use strict";function d(a){function b(){h.off(f.default.METRICS_INITIALISATION_COMPLETE,b,this),h.trigger(f.default.BECAME_REPORTING_PLAYER)}function c(a,c){c&&(g=c,h.on(f.default.METRICS_INITIALISATION_COMPLETE,b,this))}function d(){g=null}function e(a,b){a===i.DVB_ERRORS&&g&&g.report(a,b)}a=a||{};var g=void 0,h=a.eventBus,i=a.metricsConstants;return{initialize:c,reset:d,handleNewMetric:e}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(116),f=function(a){return a&&a.__esModule?a:{default:a}}(e);c.default=dashjs.FactoryMaker.getClassFactory(d),b.exports=c.default},{116:116}],125:[function(a,b,c){"use strict";function d(){function a(a,b){d=a,e=b}function b(){e=null,d=void 0}function c(a,b){a===d&&e&&e.report(d,b)}var d=void 0,e=void 0;return{initialize:a,reset:b,handleNewMetric:c}}Object.defineProperty(c,"__esModule",{value:!0}),d.__dashjs_factory_name="GenericMetricHandler",c.default=dashjs.FactoryMaker.getClassFactory(d),b.exports=c.default},{}],126:[function(a,b,c){"use strict";function d(a){function b(){var a=l;a.length&&g&&g.report(j,a),l=[]}function c(a,c,d,e){c&&(h=m.validateN(d),g=c,e&&e.length&&(i=e),j=m.reconstructFullMetricName(a,d,e),k=setInterval(b,h))}function d(){clearInterval(k),k=null,h=null,i=null,l=[],g=null}function e(a,b){a===n.HTTP_REQUEST&&(i&&i!==b.type||l.push(b))}a=a||{};var g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=[],m=(0,f.default)(this.context).getInstance(),n=a.metricsConstants;return{initialize:c,reset:d,handleNewMetric:e}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(130),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="HttpListHandler",c.default=dashjs.FactoryMaker.getClassFactory(d),b.exports=c.default},{130:130}],127:[function(a,b,c){"use strict";function d(a){function b(a,b){var c=void 0;try{c=e[a.schemeIdUri](g).create({metricsConstants:i}),c.initialize(a,b)}catch(b){c=null,h("ReportingFactory: could not create Reporting with schemeIdUri "+a.schemeIdUri+" ("+b.message+")")}return c}function c(a,b){e[a]=b}function d(a){delete e[a]}a=a||{};var e={"urn:dvb:dash:reporting:2014":f.default},g=this.context,h=a.log,i=a.metricsConstants;return{create:b,register:c,unregister:d}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(128),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="ReportingFactory",c.default=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c.default},{128:128}],128:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b,c){var d=new XMLHttpRequest,e=function(){var a=q.indexOf(d);-1!==a&&(q.splice(a,1),d.status>=200&&d.status<300?b&&b():c&&c())};q.push(d);try{d.open("GET",a),d.onloadend=e,d.onerror=e,d.send()}catch(a){d.onerror()}}function c(a,c){Array.isArray(c)||(c=[c]),l&&o.isEnabled()&&c.forEach(function(c){var d=h.serialise(c);k&&a!==r.DVB_ERRORS&&(d="metricname="+a+"&"+d),d=n+"?"+d,b(d,null,function(){l=!1})})}function d(a,b){var c=void 0;if(o=b,!(n=a["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");m||(c=a["dvb:probability"]||a["dvb:priority"]||0,c&&(1e3===c||c/1e3>=j.random())&&(l=!0),m=!0)}function e(){p||(q.forEach(function(a){return a.abort()}),q=[]),m=!1,l=!1,n=null,o=null}a=a||{};var f=this.context,h=(0,g.default)(f).getInstance(),j=(0,i.default)(f).getInstance(),k=!0,l=!1,m=!1,n=null,o=null,p=!0,q=[],r=a.metricsConstants;return{report:c,initialize:d,reset:e}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(132),g=d(f),h=a(133),i=d(h);e.__dashjs_factory_name="DVBReporting",c.default=dashjs.FactoryMaker.getClassFactory(e),b.exports=c.default},{132:132,133:133}],129:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b=new g.default;if(p){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.mpdurl||(b.mpdurl=p.originalUrl||p.url),b.terror||(b.terror=new Date),o.addDVBErrors(b)}}function c(a){a.error||(p=a.manifest)}function d(a){b({errorcode:g.default.BASE_URL_CHANGED,servicelocation:a.entry})}function e(){b({errorcode:g.default.BECAME_REPORTER})}function f(a){(0===a.responsecode||a.responsecode>=400||a.responsecode<100||a.responsecode>=600)&&b({errorcode:a.responsecode||g.default.CONNECTION_ERROR,url:a.url,terror:a.tresponse,servicelocation:a._serviceLocation})}function h(a){switch(a.metric){case q.HTTP_REQUEST:f(a.value)}}function j(a){var c=a.error?a.error.code:0,d=void 0;switch(c){case MediaError.MEDIA_ERR_NETWORK:d=g.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:d=g.default.CORRUPT_MEDIA_OTHER;break;default:return}b({errorcode:d})}function k(){n.on(r.MANIFEST_UPDATED,c,m),n.on(r.SERVICE_LOCATION_BLACKLIST_CHANGED,d,m),n.on(r.METRIC_ADDED,h,m),n.on(r.METRIC_UPDATED,h,m),n.on(r.PLAYBACK_ERROR,j,m),n.on(i.default.BECAME_REPORTING_PLAYER,e,m)}function l(){n.off(r.MANIFEST_UPDATED,c,m),n.off(r.SERVICE_LOCATION_BLACKLIST_CHANGED,d,m),n.off(r.METRIC_ADDED,h,m),n.off(r.METRIC_UPDATED,h,m),n.off(r.PLAYBACK_ERROR,j,m),n.off(i.default.BECAME_REPORTING_PLAYER,e,m)}a=a||{};var m=void 0,n=a.eventBus,o=a.metricsModel,p=void 0,q=a.metricsConstants,r=a.events;return m={initialise:k,reset:l},k(),m}Object.defineProperty(c,"__esModule",{value:!0});var f=a(134),g=d(f),h=a(116),i=d(h);e.__dashjs_factory_name="DVBErrorsTranslator",c.default=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c.default},{116:116,134:134}],130:[function(a,b,c){"use strict";function d(){return{reconstructFullMetricName:function(a,b,c){var d=a;return b&&(d+="("+b,c&&c.length&&(d+=","+c),d+=")"),d},validateN:function(a){if(!a)throw new Error("missing n");if(isNaN(a))throw new Error("n is NaN");if(a<0)throw new Error("n must be positive");return a}}}Object.defineProperty(c,"__esModule",{value:!0}),d.__dashjs_factory_name="HandlerHelpers",c.default=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c.default},{}],131:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b,c){var f,g,h=d.getMpd(a),i=0;return b?i=h.availabilityStartTime.getTime()/1e3:(f=this.getRegularPeriods(h),f.length&&(i=f[0].start)),g=i,c&&c.hasOwnProperty(e.START_TIME)&&(g+=c.starttime),g}function c(a){var c=[];return a.Metrics_asArray&&a.Metrics_asArray.forEach(function(f){var h=new g.default,j=d.getIsDynamic(a);f.hasOwnProperty("metrics")&&(h.metrics=f.metrics,f.Range_asArray&&f.Range_asArray.forEach(function(c){var e=new i.default;e.starttime=b(a,j,c),c.hasOwnProperty("duration")?e.duration=c.duration:e.duration=d.getDuration(a),e._useWallClockTime=j,h.Range.push(e)}),f.Reporting_asArray&&(f.Reporting_asArray.forEach(function(a){var b=new k.default;if(a.hasOwnProperty(e.SCHEME_ID_URI)){b.schemeIdUri=a.schemeIdUri;for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);h.Reporting.push(b)}}),c.push(h)))}),c}a=a||{};var d=a.dashManifestModel,e=a.constants;return{getMetrics:c}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(135),g=d(f),h=a(136),i=d(h),j=a(137),k=d(j);e.__dashjs_factory_name="ManifestParsing",c.default=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c.default},{135:135,136:136,137:137}],132:[function(a,b,c){"use strict";function d(){function a(b){var c=[],d=[],e=void 0,f=void 0;for(e in b)if(b.hasOwnProperty(e)&&0!==e.indexOf("_")){if(f=b[e],void 0!==f&&null!==f||(f=""),Array.isArray(f)){if(!f.length)continue;d=[],f.forEach(function(b){var c="Object"!==Object.prototype.toString.call(b).slice(8,-1);d.push(c?b:a(b))}),f=d.map(encodeURIComponent).join(",")}else"string"==typeof f?f=encodeURIComponent(f):f instanceof Date?f=f.toISOString():"number"==typeof f&&(f=Math.round(f));c.push(e+"="+f)}return c.join("&")}return{serialise:a}}Object.defineProperty(c,"__esModule",{value:!0}),d.__dashjs_factory_name="MetricSerialiser",c.default=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c.default},{}],133:[function(a,b,c){"use strict";function d(){function a(){c&&(g||(g=new d(f)),c.getRandomValues(g),h=0)}function b(b,d){var f=void 0;return b||(b=0),d||(d=1),c?(h===g.length&&a(),f=g[h]/e,h+=1):f=Math.random(),f*(d-b)+b}var c=window.crypto||window.msCrypto,d=Uint32Array,e=Math.pow(2,8*d.BYTES_PER_ELEMENT)-1,f=10,g=void 0,h=void 0,i=void 0;return i={random:b},a(),i}Object.defineProperty(c,"__esModule",{value:!0}),d.__dashjs_factory_name="RNG",c.default=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c.default},{}],134:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};e.SSL_CONNECTION_FAILED_PREFIX="SSL",e.DNS_RESOLUTION_FAILED="C00",e.HOST_UNREACHABLE="C01",e.CONNECTION_REFUSED="C02",e.CONNECTION_ERROR="C03",e.CORRUPT_MEDIA_ISOBMFF="M00",e.CORRUPT_MEDIA_OTHER="M01",e.BASE_URL_CHANGED="F00",e.BECAME_REPORTER="S00",c.default=e,b.exports=c.default},{}],135:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.metrics="",this.Range=[],this.Reporting=[]};c.default=e,b.exports=c.default},{}],136:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};c.default=e,b.exports=c.default},{}],137:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.schemeIdUri="",this.value=""};c.default=e,b.exports=c.default},{}],138:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(){function a(a){a.dashManifestModel&&(n=a.dashManifestModel)}function b(a,b,c){var d=n.getBaseURLsFromElement(c);a[b]?p.areEqual(d,a[b].data.baseUrls)||(a[b].data.baseUrls=d,a[b].data.selectedIdx=k):a[b]=new l(d)}function c(a){var c=n.getBaseURLsFromElement(a);p.areEqual(c,m.data.baseUrls)||(m.data.baseUrls=c,m.data.selectedIdx=k),a.Period_asArray&&a.Period_asArray.forEach(function(a,c){b(m.children,c,a),a.AdaptationSet_asArray&&a.AdaptationSet_asArray.forEach(function(a,d){b(m.children[c].children,d,a),a.Representation_asArray&&a.Representation_asArray.sort(n.getRepresentationSortFunction()).forEach(function(a,e){b(m.children[c].children[d].children,e,a)})})})}function d(a,b){var c=b||m;a(c.data),c.children&&c.children.forEach(function(b){return d(a,b)})}function e(a){d(function(b){isNaN(b.selectedIdx)||a===b.baseUrls[b.selectedIdx].serviceLocation&&(b.selectedIdx=k)})}function f(a){c(a)}function g(){m=new l}function i(a){var b=m,c=[b.data];return a&&a.forEach(function(a){(b=b.children[a])&&c.push(b.data)}),c.filter(function(a){return a.baseUrls.length})}var j=void 0,m=void 0,n=void 0,o=this.context,p=(0,h.default)(o).getInstance();return j={reset:g,update:f,getForPath:i,invalidateSelectedIndexes:e,setConfig:a},function(){g()}(),j}Object.defineProperty(c,"__esModule",{value:!0});var g=a(204),h=d(g),i=a(48),j=d(i),k=NaN,l=function a(b,c){e(this,a),this.data={baseUrls:b||null,selectedIdx:c||k},this.children=[]};f.__dashjs_factory_name="BaseURLTreeModel",c.default=j.default.getClassFactory(f),b.exports=c.default},{204:204,48:48}],139:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){K=a}function c(){return K}function d(a){var b=function(a,b){return a.url===b.url},c=function(a,b){return a.action===m.default.ACTION_COMPLETE&&a.action===b.action},d=function(a,b){return!isNaN(a.index)&&a.startTime===b.startTime&&a.adaptationIndex===b.adaptationIndex},e=function(a,b){return isNaN(a.index)&&isNaN(b.index)&&a.quality===b.quality};return!!a&&function(f){var g=!1;return f.some(function(f){if(b(a,f)&&(d(a,f)||e(a,f)||c(a,f)))return g=!0}),g}(L)}function e(a){var b=!1,c=0,e=void 0;if(!(b=d(a)))for(c=0;c<M.length;c++)e=M[c],
a.url===e.url&&a.startTime===e.startTime&&(b=!0);return b}function f(a){var b=a?a.state instanceof Array?a.state:[a.state]:[],c=[];return b.forEach(function(b){var d=w(b);c=c.concat(v(d,a))}),c}function h(a){return isNaN(a.duration)?.25:a.duration/8}function j(a){L=L.filter(function(b){var c=h(b);return isNaN(b.startTime)||void 0!==a&&b.startTime>=a-c})}function k(a,b){b<=a+.5||(L=L.filter(function(c){var d=h(c);return isNaN(c.startTime)||c.startTime>=b-d||isNaN(c.duration)||c.startTime+c.duration<=a+d}))}function l(a,b){if(!a||0===a.length)return void j();for(var c=0,d=0,e=a.length;d<e;d++)k(c,a.start(d)),c=a.end(d);b>0&&k(c,b)}function n(){I.abort(),M=[]}function s(a){switch(a.action){case m.default.ACTION_COMPLETE:L.push(a),x(a,q),F("[FragmentModel] executeRequest trigger STREAM_COMPLETED"),G.trigger(i.default.STREAM_COMPLETED,{request:a,fragmentModel:this});break;case m.default.ACTION_DOWNLOAD:x(a,p),M.push(a),t(a);break;default:F("Unknown request action.")}}function t(a){G.trigger(i.default.FRAGMENT_LOADING_STARTED,{sender:J,request:a}),I.load(a)}function u(a,b,c){for(var d=a.length-1,e=d;e>=0;e--){var f=a[e],g=f.startTime,i=g+f.duration;if(c=isNaN(c)?h(f):c,!isNaN(g)&&!isNaN(i)&&b+c>=g&&b-c<i||isNaN(g)&&isNaN(b))return f}return null}function v(a,b){return b.hasOwnProperty("time")?[u(a,b.time,b.threshold)]:a.filter(function(a){for(var c in b)if("state"!==c&&b.hasOwnProperty(c)&&a[c]!=b[c])return!1;return!0})}function w(a){var b=void 0;switch(a){case p:b=M;break;case q:b=L;break;default:b=[]}return b}function x(a,b){H.addSchedulingInfo(a.mediaType,new Date,a.type,a.startTime,a.availabilityStartTime,a.duration,a.quality,a.range,b),H.addRequestsQueue(a.mediaType,M,L)}function y(a){a.sender===I&&(M.splice(M.indexOf(a.request),1),a.response&&!a.error&&L.push(a.request),x(a.request,a.error?r:q),G.trigger(i.default.FRAGMENT_LOADING_COMPLETED,{request:a.request,response:a.response,error:a.error,sender:this}))}function z(a){a.sender===I&&G.trigger(i.default.FRAGMENT_LOADING_PROGRESS,{request:a.request,response:a.response,error:a.error,sender:this})}function A(a){a.sender===I&&G.trigger(i.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:a.request,mediaType:a.mediaType})}function B(){L=[],M=[]}function C(){G.off(i.default.LOADING_COMPLETED,y,this),G.off(i.default.LOADING_DATA_PROGRESS,z,this),G.off(i.default.LOADING_ABANDONED,A,this),I&&I.reset(),B()}function D(a){L.push(a)}a=a||{};var E=this.context,F=(0,o.default)(E).getInstance().log,G=(0,g.default)(E).getInstance(),H=a.metricsModel,I=a.fragmentLoader,J=void 0,K=void 0,L=void 0,M=void 0;return J={setStreamProcessor:b,getStreamProcessor:c,getRequests:f,isFragmentLoaded:d,isFragmentLoadedOrPending:e,removeExecutedRequestsBeforeTime:j,syncExecutedRequestsWithBufferedRange:l,abortRequests:n,executeRequest:s,reset:C,addExecutedRequest:D},function(){B(),G.on(i.default.LOADING_COMPLETED,y,J),G.on(i.default.LOADING_DATA_PROGRESS,z,J),G.on(i.default.LOADING_ABANDONED,A,J)}(),J}Object.defineProperty(c,"__esModule",{value:!0});var f=a(47),g=d(f),h=a(51),i=d(h),j=a(48),k=d(j),l=a(214),m=d(l),n=a(46),o=d(n),p="loading",q="executed",r="failed";e.__dashjs_factory_name="FragmentModel";var s=k.default.getClassFactory(e);s.FRAGMENT_MODEL_LOADING=p,s.FRAGMENT_MODEL_EXECUTED=q,s.FRAGMENT_MODEL_CANCELED="canceled",s.FRAGMENT_MODEL_FAILED=r,k.default.updateClassFactory(e.__dashjs_factory_name,s),c.default=s,b.exports=c.default},{214:214,46:46,47:47,48:48,51:51}],140:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){return e}function b(a){e=a,a&&d.trigger(i.default.MANIFEST_LOADED,{data:a})}var c=this.context,d=(0,g.default)(c).getInstance(),e=void 0;return{getValue:a,setValue:b}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(47),g=d(f),h=a(51),i=d(h),j=a(48),k=d(j);e.__dashjs_factory_name="ManifestModel",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{47:47,48:48,51:51}],141:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(){function a(a){ub=a}function b(){return ub}function c(a){vb=a}function d(){return vb}function f(a){var b=void 0;for(b=0;b<yb.length;b++)if(yb[b].rulename===a)return b;return-1}function g(){return yb}function h(a,b,c){var d=f(b);-1===d?yb.push({type:a,rulename:b,rule:c}):(yb[d].type=a,yb[d].rule=c)}function j(a){var b=f(a);-1!==b&&yb.splice(b,1)}function l(){yb=[]}function N(a){pb=a}function O(){return pb}function P(a){qb=a}function Q(){return qb}function R(a){kb=a}function S(){return isNaN(kb)?xb?v:u:kb}function T(a){lb=a}function U(){return lb}function V(a){mb=a}function W(){return mb}function X(a){nb=a}function Y(){return nb}function Z(a){ob=a}function $(){return ob}function _(a,b){Ab[a]=b}function aa(a){return Ab[a]}function ba(a){fb=a}function ca(){return fb}function da(a){gb=a}function ea(){return gb}function fa(a,b){ib.enabled=a,void 0===b||isNaN(b)||"number"!=typeof b||(ib.ttl=b)}function ga(){return ib}function ha(a,b){jb.enabled=a,void 0===b||isNaN(b)||"number"!=typeof b||(jb.ttl=b)}function ia(){return jb}function ja(a){hb=a}function ka(){return hb}function la(a){rb[i.HTTPRequest.MEDIA_SEGMENT_TYPE]=a}function ma(a){rb[i.HTTPRequest.MPD_TYPE]=a}function na(a,b){rb[a]=b}function oa(){return rb[i.HTTPRequest.MEDIA_SEGMENT_TYPE]}function pa(){return rb[i.HTTPRequest.MPD_TYPE]}function qa(a){return rb[a]}function ra(a){sb[i.HTTPRequest.MEDIA_SEGMENT_TYPE]=a}function sa(a){sb[i.HTTPRequest.MPD_TYPE]=a}function ta(a,b){sb[a]=b}function ua(){return sb[i.HTTPRequest.MEDIA_SEGMENT_TYPE]}function va(){return sb[i.HTTPRequest.MPD_TYPE]}function wa(a){return sb[a]}function xa(a){tb=a}function ya(){return tb}function za(a){eb=a}function Aa(){return eb}function Ba(a){cb=a}function Ca(a){db=a}function Da(){return cb}function Ea(){return Db?db||K:db}function Fa(a){_a=a}function Ga(){return _a}function Ha(a){ab=a}function Ia(){return ab}function Ja(a){bb=a}function Ka(){return bb}function La(a,b){a?wb[a]=!!b:Object.keys(wb).forEach(function(a){La(a,b)})}function Ma(a){var b=wb[a];return void 0===b?wb.default:b}function Na(){return xb}function Oa(a){xb=a}function Pa(a){zb=a}function Qa(){return zb}function Ra(a){Bb=a}function Sa(){return Bb}function Ta(a){Cb=a}function Ua(){return Cb}function Va(){return Db}function Wa(a){Db=a}function Xa(a){Eb=a}function Ya(){return Eb}function Za(){}var $a=void 0,_a=void 0,ab=void 0,bb=void 0,cb=void 0,db=void 0,eb=void 0,fb=void 0,gb=void 0,hb=void 0,ib=void 0,jb=void 0,kb=void 0,lb=void 0,mb=void 0,nb=void 0,ob=void 0,pb=void 0,qb=void 0,rb=void 0,sb=void 0,tb=void 0,ub=void 0,vb=void 0,wb=void 0,xb=void 0,yb=void 0,zb=void 0,Ab=void 0,Bb=void 0,Cb=void 0,Db=void 0,Eb=void 0;return $a={setABRStrategy:a,getABRStrategy:b,setUseDefaultABRRules:c,getUseDefaultABRRules:d,getABRCustomRules:g,addABRCustomRule:h,removeABRCustomRule:j,removeAllABRCustomRule:l,setBandwidthSafetyFactor:N,getBandwidthSafetyFactor:O,setAbandonLoadTimeout:P,getAbandonLoadTimeout:Q,setLastBitrateCachingInfo:fa,getLastBitrateCachingInfo:ga,setLastMediaSettingsCachingInfo:ha,getLastMediaSettingsCachingInfo:ia,setStableBufferTime:R,getStableBufferTime:S,setBufferTimeAtTopQuality:T,getBufferTimeAtTopQuality:U,setBufferTimeAtTopQualityLongForm:V,getBufferTimeAtTopQualityLongForm:W,setLongFormContentDurationThreshold:X,getLongFormContentDurationThreshold:Y,setSegmentOverlapToleranceTime:Z,getSegmentOverlapToleranceTime:$,getCacheLoadThresholdForType:aa,setCacheLoadThresholdForType:_,setBufferToKeep:ba,getBufferToKeep:ca,setBufferAheadToKeep:da,getBufferAheadToKeep:ea,setBufferPruningInterval:ja,getBufferPruningInterval:ka,setFragmentRetryAttempts:la,getFragmentRetryAttempts:oa,setManifestRetryAttempts:ma,getManifestRetryAttempts:pa,setRetryAttemptsForType:na,getRetryAttemptsForType:qa,setFragmentRetryInterval:ra,getFragmentRetryInterval:ua,setManifestRetryInterval:sa,getManifestRetryInterval:va,setRetryIntervalForType:ta,getRetryIntervalForType:wa,setWallclockTimeUpdateInterval:xa,getWallclockTimeUpdateInterval:ya,setScheduleWhilePaused:za,getScheduleWhilePaused:Aa,getUseSuggestedPresentationDelay:Ia,setUseSuggestedPresentationDelay:Ha,setLiveDelayFragmentCount:Ba,getLiveDelayFragmentCount:Da,getLiveDelay:Ea,setLiveDelay:Ca,setUseManifestDateHeaderTimeSource:Fa,getUseManifestDateHeaderTimeSource:Ga,setUTCTimingSources:Ja,getUTCTimingSources:Ka,setXHRWithCredentialsForType:La,getXHRWithCredentialsForType:Ma,setFastSwitchEnabled:Oa,getFastSwitchEnabled:Na,setMovingAverageMethod:Pa,getMovingAverageMethod:Qa,setJumpGaps:Ra,getJumpGaps:Sa,setSmallGapLimit:Ta,getSmallGapLimit:Ua,getLowLatencyEnabled:Va,setLowLatencyEnabled:Wa,setManifestUpdateRetryInterval:Xa,getManifestUpdateRetryInterval:Ya,reset:Za},function(){var a,b;bb=[],ab=!1,_a=!0,eb=!0,ub=k.default.ABR_STRATEGY_DYNAMIC,vb=!0,xb=!1,ib={enabled:!0,ttl:n},jb={enabled:!0,ttl:o},cb=m,db=void 0,fb=r,gb=s,hb=t,kb=NaN,lb=w,mb=x,nb=y,ob=z,pb=p,qb=q,tb=L,Bb=!1,Cb=A,Eb=B,wb={default:M},yb=[],zb=k.default.MOVING_AVERAGE_SLIDING_WINDOW,Db=!1,a={},e(a,i.HTTPRequest.MPD_TYPE,G),e(a,i.HTTPRequest.XLINK_EXPANSION_TYPE,I),e(a,i.HTTPRequest.MEDIA_SEGMENT_TYPE,E),e(a,i.HTTPRequest.INIT_SEGMENT_TYPE,E),e(a,i.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,E),e(a,i.HTTPRequest.INDEX_SEGMENT_TYPE,E),e(a,i.HTTPRequest.OTHER_TYPE,E),rb=a,b={},e(b,i.HTTPRequest.MPD_TYPE,H),e(b,i.HTTPRequest.XLINK_EXPANSION_TYPE,J),e(b,i.HTTPRequest.MEDIA_SEGMENT_TYPE,F),e(b,i.HTTPRequest.INIT_SEGMENT_TYPE,F),e(b,i.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,F),e(b,i.HTTPRequest.INDEX_SEGMENT_TYPE,F),e(b,i.HTTPRequest.OTHER_TYPE,F),sb=b,Ab={},Ab[k.default.VIDEO]=C,Ab[k.default.AUDIO]=D}(),$a}Object.defineProperty(c,"__esModule",{value:!0});var g=a(48),h=d(g),i=a(232),j=a(99),k=d(j),l={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},m=4,n=36e4,o=36e4,p=.9,q=1e4,r=20,s=80,t=10,u=12,v=20,w=30,x=60,y=600,z=.2,A=.8,B=100,C=50,D=5,E=3,F=1e3,G=3,H=500,I=1,J=500,K=3,L=50,M=!1;f.__dashjs_factory_name="MediaPlayerModel";var N=h.default.getSingletonFactory(f);N.DEFAULT_UTC_TIMING_SOURCE=l,h.default.updateSingletonFactory(f.__dashjs_factory_name,N),c.default=N,b.exports=c.default},{232:232,48:48,99:99}],142:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&a.adapter&&(U=a.adapter)}function b(){S.trigger(G.default.METRICS_CHANGED)}function c(a){S.trigger(G.default.METRIC_CHANGED,{mediaType:a}),b()}function d(a,b,d){S.trigger(G.default.METRIC_UPDATED,{mediaType:a,metric:b,value:d}),c(a)}function e(a,b,d){S.trigger(G.default.METRIC_ADDED,{mediaType:a,metric:b,value:d}),c(a)}function f(a){delete V[a],c(a)}function h(){V={},b()}function j(a){return V.hasOwnProperty(a)?V[a]:null}function l(a){var b=void 0;return V.hasOwnProperty(a)?b=V[a]:(b=new k.default,V[a]=b),b}function o(a,b,c){var d=l(a);d[b].push(c),d[b].length>Q&&d[b].shift()}function q(a,b,c,d,e,f){var g=new m.default;return g.tcpid=b,g.dest=c,g.topen=d,g.tclose=e,g.tconnect=f,z(a,i.default.TCP_CONNECTION,g),g}function s(a,b,c,d){var e=new n.HTTPRequestTrace;return e.s=b,e.d=c,e.b=d,a.trace.push(e),a.interval||(a.interval=0),a.interval+=c,e}function u(a,b,c,d,e,f,g,h,j,k,l,m,o,p){var q=new n.HTTPRequest;return e&&e!==d&&(u(a,null,c,d,null,null,g,h,null,null,null,m,null,null),q.actualurl=e),q.tcpid=b,q.type=c,q.url=d,q.range=g,q.trequest=h,q.tresponse=j,q.responsecode=l,q._tfinish=k,q._stream=a,q._mediaduration=m,q._responseHeaders=o,q._serviceLocation=f,p?p.forEach(function(a){s(q,a.s,a.d,a.b)}):(delete q.interval,delete q.trace),z(a,i.default.HTTP_REQUEST,q),q}function w(a,b,c,d,e){var f=new p.default;return f.t=b,f.mt=c,f.to=d,e?f.lto=e:delete f.lto,z(a,i.default.TRACK_SWITCH,f),f}function z(a,b,c){o(a,b,c),e(a,b,c)}function B(a,b,c){var d=new r.default;return d.t=b,d.level=c,z(a,i.default.BUFFER_LEVEL,d),d}function D(a,b,c){var d=new t.default;return d.target=c,d.state=b,z(a,i.default.BUFFER_STATE,d),d}function F(a,b,c,d){var e=new v.default;return e.time=b,e.range=d,e.manifestInfo=c,z(a,i.default.DVR_INFO,e),e}function H(a,b){var c=new x.default,d=l(a).DroppedFrames;return c.time=b.creationTime,c.droppedFrames=b.droppedVideoFrames,d.length>0&&d[d.length-1]==c?d[d.length-1]:(z(a,i.default.DROPPED_FRAMES,c),c)}function I(a,b,c,d,e,f,g,h,j){var k=new A.default;return k.mediaType=a,k.t=b,k.type=c,k.startTime=d,k.availabilityStartTime=e,k.duration=f,k.quality=g,k.range=h,k.state=j,z(a,i.default.SCHEDULING_INFO,k),k}function J(a,b,c){var d=new E.default;d.loadingRequests=b,d.executedRequests=c,l(a).RequestsQueue=d,e(a,i.default.REQUESTS_QUEUE,d)}function K(a,b,c,d,f,h,j,k,l,m){var n=new y.ManifestUpdate;return n.mediaType=a,n.type=b,n.requestTime=c,n.fetchTime=d,n.availabilityStartTime=f,n.presentationStartTime=h,n.clientTimeOffset=j,n.currentTime=k,n.buffered=l,n.latency=m,o(g.default.STREAM,i.default.MANIFEST_UPDATE,n),e(a,i.default.MANIFEST_UPDATE,n),n}function L(a,b){if(a){for(var c in b)a[c]=b[c];d(a.mediaType,i.default.MANIFEST_UPDATE,a)}}function M(a,b,c,e,f){if(a){var g=new y.ManifestUpdateStreamInfo;return g.id=b,g.index=c,g.start=e,g.duration=f,a.streamInfo.push(g),d(a.mediaType,i.default.MANIFEST_UPDATE_STREAM_INFO,a),g}return null}function N(a,b,c,e,f,g,h,j){if(a){var k=new y.ManifestUpdateRepresentationInfo;return k.id=b,k.index=c,k.streamIndex=e,k.mediaType=f,k.startNumber=h,k.fragmentInfoType=j,k.presentationTimeOffset=g,a.representationInfo.push(k),d(a.mediaType,i.default.MANIFEST_UPDATE_TRACK_INFO,a),k}return null}function O(a){var b=g.default.STREAM;return a.trace&&Array.isArray(a.trace)?a.trace.forEach(function(a){a.hasOwnProperty("subreplevel")&&!a.subreplevel&&delete a.subreplevel}):delete a.trace,z(b,i.default.PLAY_LIST,a),a}function P(a){return z(g.default.STREAM,i.default.DVB_ERRORS,a),a}var Q=1e3,R=this.context,S=(0,C.default)(R).getInstance(),T=void 0,U=void 0,V=void 0;return T={clearCurrentMetricsForType:f,clearAllCurrentMetrics:h,getReadOnlyMetricsFor:j,getMetricsFor:l,addTcpConnection:q,addHttpRequest:u,addRepresentationSwitch:w,addBufferLevel:B,addBufferState:D,addDVRInfo:F,addDroppedFrames:H,addSchedulingInfo:I,addRequestsQueue:J,addManifestUpdate:K,updateManifestUpdateInfo:L,addManifestUpdateStreamInfo:M,addManifestUpdateRepresentationInfo:N,addPlayList:O,addDVBErrors:P,setConfig:a},function(){V={}}(),T}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(100),i=d(h),j=a(220),k=d(j),l=a(238),m=d(l),n=a(232),o=a(235),p=d(o),q=a(228),r=d(q),s=a(229),t=d(s),u=a(230),v=d(u),w=a(231),x=d(w),y=a(233),z=a(237),A=d(z),B=a(47),C=d(B),D=a(236),E=d(D),F=a(51),G=d(F),H=a(48),I=d(H);e.__dashjs_factory_name="MetricsModel",c.default=I.default.getSingletonFactory(e),b.exports=c.default},{100:100,220:220,228:228,229:229,230:230,231:231,232:232,233:233,235:235,236:236,237:237,238:238,47:47,48:48,51:51,99:99}],143:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){f=new g.default,h=[],i=!1}function b(){return f}function c(){return h}function d(){return i}function e(a){function b(a,b,c,d){var e=d[0].split(/[=]/);return d.push({key:e[0],value:e[1]}),d.shift(),d}function c(a,b,c){return b>0&&(k&&0===h.length?h=c[b].split(/[&]/):l&&(d=c[b].split(/[&]/))),c}if(!a)return null;var d=[],e=new RegExp(/[?]/),g=new RegExp(/[#]/),j=new RegExp(/^(https:)?\/\//i),k=e.test(a),l=g.test(a);return i=j.test(a),a.split(/[?#]/).map(c),h.length>0&&(h=h.reduce(b,null)),d.length>0&&(d=d.reduce(b,null),d.forEach(function(a){f[a.key]=a.value})),a}var f=void 0,h=void 0,i=void 0;return{initialize:a,parseURI:e,getURIFragmentData:b,getURIQueryData:c,isManifestHTTPS:d}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(227),g=d(f),h=a(48),i=d(h);e.__dashjs_factory_name="URIQueryAndFragmentModel",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{227:227,48:48}],144:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){$.on(k.default.PLAYBACK_PLAYING,v,this)}function b(){$.off(k.default.PLAYBACK_PLAYING,v,this)}function c(){U&&(U.playbackRate=X||1,U.removeEventListener("canplay",c))}function d(a){U&&(U.readyState<=2&&a>0?U.addEventListener("canplay",c):U.playbackRate=a)}function e(a){if(U){if(U.currentTime==a)return;try{U.currentTime=a}catch(b){0===U.readyState&&b.code===b.INVALID_STATE_ERR&&setTimeout(function(){U.currentTime=a},400)}}}function f(){return U}function g(a){U=a,U.preload="auto"}function h(a){U&&(a?U.src=a:(U.removeAttribute("src"),U.load()))}function j(){return U?U.src:null}function l(){return W}function n(a){W=a}function o(){return V}function p(a){V=a,V.style.position="absolute",V.style.display="flex",V.style.overflow="hidden",V.style.pointerEvents="none",V.style.top=0,V.style.left=0}function q(a,b){u(a,b)}function r(){return _.length>0}function s(a){var b=void 0;null===a||U.seeking||-1!==_.indexOf(a)||(_.push(a),U&&1===_.length&&(b=document.createEvent("Event"),b.initEvent("waiting",!0,!1),X=U.playbackRate,d(0),U.dispatchEvent(b)))}function t(a){var b=_.indexOf(a),c=void 0;null!==a&&(-1!==b&&_.splice(b,1),U&&!1===r()&&0===U.playbackRate&&(d(X||1),U.paused||(c=document.createEvent("Event"),c.initEvent("playing",!0,!1),U.dispatchEvent(c))))}function u(a,b){b?s(a):t(a)}function v(){if(U&&r()&&0===U.playbackRate){var a=document.createEvent("Event");a.initEvent("waiting",!0,!1),U.dispatchEvent(a)}}function w(){if(!U)return null;var a="webkitDroppedFrameCount"in U&&"webkitDecodedFrameCount"in U,b="getVideoPlaybackQuality"in U,c=null;return b?c=U.getVideoPlaybackQuality():a&&(c={droppedVideoFrames:U.webkitDroppedFrameCount,totalVideoFrames:U.webkitDroppedFrameCount+U.webkitDecodedFrameCount,creationTime:new Date}),c}function x(){if(U){U.autoplay=!0;var a=U.play();a&&"undefined"!=typeof Promise&&a instanceof Promise&&a.catch(function(a){"NotAllowedError"===a.name&&$.trigger(k.default.PLAYBACK_NOT_ALLOWED),Z("Caught pending play exception - continuing ("+a+")")})}}function y(){return U?U.paused:null}function z(){U&&(U.pause(),U.autoplay=!1)}function A(){return U?U.seeking:null}function B(){return U?U.currentTime:null}function C(){return U?U.playbackRate:null}function D(){return U?U.played:null}function E(){return U?U.ended:null}function F(a,b){U&&U.addEventListener(a,b)}function G(a,b){U&&U.removeEventListener(a,b)}function H(){return U?U.readyState:NaN}function I(){return U?U.buffered:null}function J(){return U?U.clientWidth:NaN}function K(){return U?U.clientHeight:NaN}function L(){return U?U.videoWidth:NaN}function M(){return U?U.videoHeight:NaN}function N(){return U&&U.parentNode?U.getBoundingClientRect().top-U.parentNode.getBoundingClientRect().top:NaN}function O(){return U&&U.parentNode?U.getBoundingClientRect().left-U.parentNode.getBoundingClientRect().left:NaN}function P(){return U?U.textTracks:[]}function Q(a,b,c,d,e){if(U)for(var f=0;f<U.textTracks.length;f++)if(U.textTracks[f].kind===a&&(!b||U.textTracks[f].label==b)&&U.textTracks[f].language===c&&U.textTracks[f].isTTML===d&&U.textTracks[f].isEmbedded===e)return U.textTracks[f];return null}function R(a,b,c){return U?U.addTextTrack(a,b,c):null}function S(a){U&&(U.appendChild(a),void 0!==a.isTTML&&(U.textTracks[U.textTracks.length-1].isTTML=a.isTTML,U.textTracks[U.textTracks.length-1].isEmbedded=a.isEmbedded))}function T(a){U&&U.removeChild(a)}var U=void 0,V=void 0,W=void 0,X=void 0,Y=this.context,Z=(0,m.default)(Y).getInstance().log,$=(0,i.default)(Y).getInstance(),_=[];return{initialize:a,setCurrentTime:e,play:x,isPaused:y,pause:z,isSeeking:A,getTime:B,getPlaybackRate:C,getPlayedRanges:D,getEnded:E,setStallState:q,getElement:f,setElement:g,setSource:h,getSource:j,getVideoContainer:l,setVideoContainer:n,getTTMLRenderingDiv:o,setTTMLRenderingDiv:p,getPlaybackQuality:w,addEventListener:F,removeEventListener:G,getReadyState:H,getBufferRange:I,getClientWidth:J,getClientHeight:K,getTextTracks:P,getTextTrack:Q,addTextTrack:R,appendChild:S,removeChild:T,getVideoWidth:L,getVideoHeight:M,getVideoRelativeOffsetTop:N,getVideoRelativeOffsetLeft:O,reset:b}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(47),i=d(h),j=a(51),k=d(j),l=a(46),m=d(l);e.__dashjs_factory_name="VideoModel",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{46:46,47:47,48:48,51:51}],145:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b=new Date,e=a.request,g=new Headers;e.range&&g.append("Range","bytes="+e.range),e.requestStartDate||(e.requestStartDate=b),f&&f.modifyRequestHeader({setRequestHeader:function(a,b){g.append(a,b)}});var h=void 0;"function"==typeof window.AbortController&&(h=new AbortController,a.abortController=h);var j={method:a.method,headers:g,credentials:a.withCredentials?"include":void 0,signal:h?h.signal:void 0};fetch(a.url,j).then(function(b){a.response||(a.response={}),a.response.status=b.status,a.response.statusText=b.statusText,a.response.responseURL=b.url,b.ok||a.onerror();var e="",f=!0,g=!1,h=void 0;try{for(var j,k=b.headers.keys()[Symbol.iterator]();!(f=(j=k.next()).done);f=!0){var l=j.value;e+=l+": "+b.headers.get(l)+"\n"}}catch(a){g=!0,h=a}finally{try{!f&&k.return&&k.return()}finally{if(g)throw h}}if(a.response.responseHeaders=e,!b.body)return b.arrayBuffer().then(function(b){a.response.response=b;var c={loaded:b.byteLength,total:b.byteLength};a.progress(c),a.onload(),a.onend()});var m=parseInt(b.headers.get("Content-Length"),10),n=0,o=!1,p=new Uint8Array,q=0;a.reader=b.body.getReader(),c(a,function b(e){var f=e.value;if(e.done)return p&&(a.progress({loaded:n,total:isNaN(m)?n:m,lengthComputable:!0}),a.response.response=p.buffer),a.onload(),void a.onend();if(f&&f.length>0){p=d(p,f),n+=f.length;var g=(0,i.default)().getInstance().findLastTopIsoBoxCompleted(["moov","mdat"],p,q);if(g.found){var h=g.lastCompletedOffset+g.size,j=void 0;h===p.length?(j=p,p=new Uint8Array):(j=new Uint8Array(p.subarray(0,h)),p=p.subarray(h)),a.progress({data:j.buffer,lengthComputable:!1,noTrace:!0}),q=0}else q=g.lastCompletedOffset,o||(a.progress({lengthComputable:!1,noTrace:!0}),o=!0)}c(a,b)})}).catch(function(b){a.onerror&&a.onerror(b)})}function c(a,b){a.reader.read().then(b).catch(function(){})}function d(a,b){if(0===a.length)return b;var c=new Uint8Array(a.length+b.length);return c.set(a),c.set(b,a.length),c}function e(a){if(a.abortController)a.abortController.abort();else if(a.reader)try{a.reader.cancel()}catch(a){}}a=a||{};var f=a.requestModifier;return{load:b,abort:e}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(195),i=d(h);e.__dashjs_factory_name="FetchLoader";var j=g.default.getClassFactory(e);c.default=j,b.exports=c.default},{195:195,48:48}],146:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){function b(a,c){var d=a.request,e=[],o=!0,p=!0,u=new Date,v=u,w=0,x=void 0;if(!m||!i||!g)throw new Error("config object is not correct or missing");var y=function(a){p=!1,d.requestStartDate=u,d.requestEndDate=new Date,d.firstByteDate=d.firstByteDate||u,d.checkExistenceOnly||i.addHttpRequest(d.mediaType,null,d.type,d.url,x.response?x.response.responseURL:null,d.serviceLocation||null,d.range||null,d.requestStartDate,d.firstByteDate,d.requestEndDate,x.response?x.response.status:null,d.duration,x.response&&x.response.getAllResponseHeaders?x.response.getAllResponseHeaders():x.response.responseHeaders,a?e:null)},z=function(){-1!==q.indexOf(x)&&(q.splice(q.indexOf(x),1),p&&(y(!1),c>0?(c--,s.push(setTimeout(function(){b(a,c)},l.getRetryIntervalForType(d.type)))):(g.downloadError(t[d.type],d.url,d),a.error&&a.error(d,"error",x.response.statusText),a.complete&&a.complete(d,x.response.statusText))))},A=function(b){var c=new Date;o&&(o=!1,(!b.lengthComputable||b.lengthComputable&&b.total!==b.loaded)&&(d.firstByteDate=c)),b.lengthComputable&&(d.bytesLoaded=b.loaded,d.bytesTotal=b.total),b.noTrace||(e.push({s:v,d:c.getTime()-v.getTime(),b:[b.loaded?b.loaded-w:0]}),v=c,w=b.loaded),a.progress&&b.data&&a.progress(b.data)},B=function(){x.response.status>=200&&x.response.status<=299&&(y(!0),a.success&&a.success(x.response.response,x.response.statusText,x.response.responseURL),a.complete&&a.complete(d,x.response.statusText))},C=function(){a.abort&&a.abort(d)},D=void 0;D=n&&window.fetch&&"arraybuffer"===d.responseType?(0,j.default)(f).create({requestModifier:m}):(0,h.default)(f).create({requestModifier:m});var E=m.modifyRequestURL(d.url),F=d.checkExistenceOnly?k.HTTPRequest.HEAD:k.HTTPRequest.GET,G=l.getXHRWithCredentialsForType(d.type);x={url:E,method:F,withCredentials:G,request:d,onload:B,onend:z,onerror:z,progress:A,onabort:C,loader:D};var H=(new Date).getTime();isNaN(d.delayLoadingTime)||H>=d.delayLoadingTime?(q.push(x),D.load(x)):function(){var a={httpRequest:x};r.push(a),a.delayTimeout=setTimeout(function(){if(-1!==r.indexOf(a)){r.splice(r.indexOf(a),1);try{u=new Date,v=u,q.push(a.httpRequest),D.load(a.httpRequest)}catch(b){a.httpRequest.onerror()}}},d.delayLoadingTime-H)}()}function c(a){a.request&&b(a,l.getRetryAttemptsForType(a.request.type))}function d(){s.forEach(function(a){return clearTimeout(a)}),s=[],r.forEach(function(a){return clearTimeout(a.delayTimeout)}),r=[],q.forEach(function(a){a.onloadend=a.onerror=a.onprogress=void 0,a.loader.abort(a),a.onabort()}),q=[]}a=a||{};var f=this.context,g=a.errHandler,i=a.metricsModel,l=a.mediaPlayerModel,m=a.requestModifier,n=a.useFetch||!1,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0;return p={load:c,abort:d},function(){var a;q=[],r=[],s=[],a={},e(a,k.HTTPRequest.MPD_TYPE,o.default.DOWNLOAD_ERROR_ID_MANIFEST),e(a,k.HTTPRequest.XLINK_EXPANSION_TYPE,o.default.DOWNLOAD_ERROR_ID_XLINK),e(a,k.HTTPRequest.INIT_SEGMENT_TYPE,o.default.DOWNLOAD_ERROR_ID_INITIALIZATION),e(a,k.HTTPRequest.MEDIA_SEGMENT_TYPE,o.default.DOWNLOAD_ERROR_ID_CONTENT),e(a,k.HTTPRequest.INDEX_SEGMENT_TYPE,o.default.DOWNLOAD_ERROR_ID_CONTENT),e(a,k.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,o.default.DOWNLOAD_ERROR_ID_CONTENT),e(a,k.HTTPRequest.OTHER_TYPE,o.default.DOWNLOAD_ERROR_ID_CONTENT),t=a}(),p}Object.defineProperty(c,"__esModule",{value:!0});var g=a(147),h=d(g),i=a(145),j=d(i),k=a(232),l=a(48),m=d(l),n=a(200),o=d(n);f.__dashjs_factory_name="HTTPLoader";var p=m.default.getClassFactory(f);c.default=p,b.exports=c.default},{145:145,147:147,200:200,232:232,48:48}],147:[function(a,b,c){"use strict";function d(a){function b(a){var b=new Date,c=a.request,e=new XMLHttpRequest;e.open(a.method,a.url,!0),c.responseType&&(e.responseType=c.responseType),c.range&&e.setRequestHeader("Range","bytes="+c.range),c.requestStartDate||(c.requestStartDate=b),d&&(e=d.modifyRequestHeader(e)),e.withCredentials=a.withCredentials,e.onload=a.onload,e.onloadend=a.onend,e.onerror=a.onerror,e.onprogress=a.progress,e.onabort=a.onabort,e.send(),a.response=e}function c(a){a.response.abort()}a=a||{};var d=a.requestModifier;return{load:b,abort:c}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="XHRLoader";var g=f.default.getClassFactory(d);c.default=g,b.exports=c.default},{48:48}],148:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,null,[{key:"findCencContentProtection",value:function(a){for(var b=null,c=0;c<a.length;++c){var d=a[c];"urn:mpeg:dash:mp4protection:2011"===d.schemeIdUri.toLowerCase()&&"cenc"===d.value.toLowerCase()&&(b=d)}return b}},{key:"getPSSHData",value:function(a){var b=8,c=new DataView(a),d=c.getUint8(b);return b+=20,d>0&&(b+=4+16*c.getUint32(b)),b+=4,a.slice(b)}},{key:"getPSSHForKeySystem",value:function(b,c){var d=a.parsePSSHList(c);return d.hasOwnProperty(b.uuid.toLowerCase())?d[b.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(a,b){return"pssh"in a?b.decodeArray(a.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(a){if(null===a)return[];for(var b=new DataView(a.buffer||a),c={},d=0;1;){var e=void 0,f=void 0,g=void 0,h=void 0,i=d;if(d>=b.buffer.byteLength)break;if(e=b.getUint32(d),f=d+e,d+=4,1886614376===b.getUint32(d))if(d+=4,0===(g=b.getUint8(d))||1===g){d++,d+=3,h="";var j=void 0,k=void 0;for(j=0;j<4;j++)k=b.getUint8(d+j).toString(16),h+=1===k.length?"0"+k:k;for(d+=4,h+="-",j=0;j<2;j++)k=b.getUint8(d+j).toString(16),h+=1===k.length?"0"+k:k;for(d+=2,h+="-",j=0;j<2;j++)k=b.getUint8(d+j).toString(16),h+=1===k.length?"0"+k:k;for(d+=2,h+="-",j=0;j<2;j++)k=b.getUint8(d+j).toString(16),h+=1===k.length?"0"+k:k;for(d+=2,h+="-",j=0;j<6;j++)k=b.getUint8(d+j).toString(16),h+=1===k.length?"0"+k:k;d+=6,h=h.toLowerCase(),b.getUint32(d),d+=4,c[h]=b.buffer.slice(i,f),d=f}else d=f;else d=f}return c}}]),a}();c.default=f,b.exports=c.default},{}],149:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var c=null,e=(0,i.default)(d).getInstance();e.setConfig({log:a.log,BASE64:a.BASE64}),e.initialize();var f=b(a);return!c&&f&&(c=(0,g.default)(d).create({protectionModel:f,protectionKeyController:e,eventBus:a.eventBus,log:a.log,events:a.events,BASE64:a.BASE64,constants:a.constants}),a.capabilities.setEncryptedMediaSupported(!0)),c}function b(a){var b=a.log,e=a.eventBus,f=a.errHandler,g=a.videoModel?a.videoModel.getElement():null;return g&&void 0===g.onencrypted||g&&void 0===g.mediaKeys?c(g,s)?(b("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,o.default)(d).create({log:b,eventBus:e,events:a.events,api:c(g,s)})):c(g,r)?(b("EME detected on this user agent! (ProtectionModel_01b)"),(0,q.default)(d).create({log:b,eventBus:e,errHandler:f,events:a.events,api:c(g,r)})):(b("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(b("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,m.default)(d).create({log:b,eventBus:e,events:a.events}))}function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];if("function"==typeof a[d[Object.keys(d)[0]]])return d}return null}var d=this.context;return{createProtectionSystem:a}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(151),g=d(f),h=a(152),i=d(h),j=a(150),k=d(j),l=a(158),m=d(l),n=a(159),o=d(n),p=a(157),q=d(p),r=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],s=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];e.__dashjs_factory_name="Protection";var t=dashjs.FactoryMaker.getClassFactory(e);t.events=k.default,dashjs.FactoryMaker.updateClassFactory(e.__dashjs_factory_name,t),c.default=t,b.exports=c.default},{150:150,151:151,152:152,157:157,158:158,159:159}],150:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){
if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},g=a(52),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(){d(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return e(b,a),b}(h.default),j=new i;c.default=j,b.exports=c.default},{52:52}],151:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){if(!(C&&C.hasOwnProperty("on")&&A&&A.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function c(a){if(!a)throw new Error("mediaInfo can not be null or undefined");b(),C.on(D.INTERNAL_KEY_MESSAGE,x,this),C.on(D.INTERNAL_KEY_STATUS_CHANGED,w,this),J.push(a);var c=A.getSupportedKeySystemsFromContentProtection(a.contentProtection);c&&c.length>0&&u(c,!0)}function d(a){return A.getSupportedKeySystemsFromContentProtection(a)}function e(a,b){var c=g.default.getPSSHForKeySystem(N,a),d=r(N);if(c){for(var e=B.getAllInitData(),f=0;f<e.length;f++)if(A.initDataEquals(c,e[f]))return void E("DRM: Ignoring initData because we have already seen it!");try{B.createKeySession(c,d,t(N),b)}catch(a){C.trigger(D.KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+a.message})}}else a?B.createKeySession(a,d,t(N),b):C.trigger(D.KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+N.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function f(a,b){B.loadKeySession(a,b,t(N))}function h(a){B.removeKeySession(a)}function j(a){B.closeKeySession(a)}function l(a){B.setServerCertificate(a)}function m(a){a?(B.setMediaElement(a),C.on(D.NEED_KEY,y,this)):null===a&&(B.setMediaElement(a),C.off(D.NEED_KEY,y,this))}function n(a){L=a}function o(a){M=a}function p(a){K=a,A.setProtectionData(a)}function q(){C.off(D.INTERNAL_KEY_MESSAGE,x,this),C.off(D.INTERNAL_KEY_STATUS_CHANGED,w,this),m(null),N=void 0,B&&(B.reset(),B=null),J=[]}function r(a){var b=null;if(a){var c=a.systemString;K&&(b=c in K?K[c]:null)}return b}function s(a){var b=r(a),c=[],d=[],e=b&&b.audioRobustness&&b.audioRobustness.length>0?b.audioRobustness:M,f=b&&b.videoRobustness&&b.videoRobustness.length>0?b.videoRobustness:M,g=t(a);return J.forEach(function(a){a.type===G.AUDIO?c.push(new i.default(a.codec,e)):a.type===G.VIDEO&&d.push(new i.default(a.codec,f))}),new k.default(c,d,"optional","temporary"===g?"optional":"required",[g])}function t(a){var b=r(a);return b&&b.sessionType?b.sessionType:L}function u(a,b){var c=this,d=[],g=void 0;if(N){for(g=0;g<a.length;g++)if(N===a[g].ks){var h=function(){d.push({ks:a[g].ks,configs:[s(N)]});var h=function d(h){C.off(D.KEY_SYSTEM_ACCESS_COMPLETE,d,c),h.error?b||C.trigger(D.KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+h.error}):(E("DRM: KeySystem Access Granted"),C.trigger(D.KEY_SYSTEM_SELECTED,{data:h.data}),a[g].sessionId?f(a[g].sessionId,a[g].initData):a[g].initData&&e(a[g].initData,a[g].cdmData))};return C.on(D.KEY_SYSTEM_ACCESS_COMPLETE,h,c),B.requestKeySystemAccess(d),"break"}();if("break"===h)break}}else if(void 0===N){var i;!function(){N=null,I.push(a);for(var h=0;h<a.length;h++)d.push({ks:a[h].ks,configs:[s(a[h].ks)]});var j=void 0,k=function a(d){C.off(D.KEY_SYSTEM_ACCESS_COMPLETE,a,c),d.error?(N=void 0,C.off(D.INTERNAL_KEY_SYSTEM_SELECTED,i,c),b||C.trigger(D.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+d.error})):(j=d.data,E("DRM: KeySystem Access Granted ("+j.keySystem.systemString+")!  Selecting key system..."),B.selectKeySystem(j))};i=function a(d){if(C.off(D.INTERNAL_KEY_SYSTEM_SELECTED,a,c),C.off(D.KEY_SYSTEM_ACCESS_COMPLETE,k,c),d.error)N=void 0,b||C.trigger(D.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+d.error});else{N=B.getKeySystem(),C.trigger(D.KEY_SYSTEM_SELECTED,{data:j});var h=r(N);h&&h.serverCertificate&&h.serverCertificate.length>0&&B.setServerCertificate(F.decodeArray(h.serverCertificate).buffer);for(var i=0;i<I.length;i++)for(g=0;g<I[i].length;g++)if(N===I[i][g].ks){if(A.isClearKey(N)&&h&&h.hasOwnProperty("clearkeys")){var l={kids:Object.keys(h.clearkeys)};I[i][g].initData=(new TextEncoder).encode(JSON.stringify(l))}I[i][g].sessionId?f(I[i][g].sessionId,I[i][g].initData):null!==I[i][g].initData&&e(I[i][g].initData,I[i][g].cdmData);break}}},C.on(D.INTERNAL_KEY_SYSTEM_SELECTED,i,c),C.on(D.KEY_SYSTEM_ACCESS_COMPLETE,k,c),B.requestKeySystemAccess(d)}()}else I.push(a)}function v(a,b){C.trigger(D.LICENSE_REQUEST_COMPLETE,{data:a,error:b})}function w(a){a.error?C.trigger(D.KEY_STATUSES_CHANGED,{data:null,error:"DRM: KeyStatusChange error! -- "+a.error}):E("DRM: key status = "+a.status)}function x(a){if(E("DRM: onKeyMessage"),a.error)return void E(a.error);var b=a.data;C.trigger(D.KEY_MESSAGE,{data:b});var c=b.messageType?b.messageType:"license-request",d=b.message,e=b.sessionToken,f=r(N),h=N?N.systemString:null,i=A.getLicenseServer(N,f,c),j={sessionToken:e,messageType:c};if(!d||0===d.byteLength)return void v(j,"DRM: Empty key message from CDM");if(!i)return E("DRM: License server request not required for this message (type = "+a.data.messageType+").  Session ID = "+e.getSessionID()),void v(j);if(A.isClearKey(N)){var k=A.processClearKeyLicenseRequest(N,f,d);if(k)return E("DRM: ClearKey license request handled by application!"),v(j),void B.updateKeySession(e,k)}var l=new XMLHttpRequest,m=null;if(f&&f.serverURL){var n=f.serverURL;"string"==typeof n&&""!==n?m=n:"object"==typeof n&&n.hasOwnProperty(c)&&(m=n[c])}else f&&f.laURL&&""!==f.laURL?m=f.laURL:(m=N.getLicenseServerURLFromInitData(g.default.getPSSHData(e.initData)))||(m=a.data.laURL);if(!(m=i.getServerURLFromMessage(m,d,c)))return void v(j,"DRM: No license server URL specified!");var o=function(a,b,c,d){var e=a.response?i.getErrorResponse(a.response,c,d):"NONE";v(b,"DRM: "+c+' update, XHR complete. status is "'+a.statusText+'" ('+a.status+"), readyState is "+a.readyState+".  Response is "+e)};l.open(i.getHTTPMethod(c),m,!0),l.responseType=i.getResponseType(h,c),l.onload=function(){if(200==this.status){var a=i.getLicenseMessage(this.response,h,c);null!==a?(v(j),B.updateKeySession(e,a)):o(this,j,h,c)}else o(this,j,h,c)},l.onabort=function(){v(j,"DRM: "+h+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},l.onerror=function(){v(j,"DRM: "+h+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var p=function(a){if(a)for(var b in a)"authorization"===b.toLowerCase()&&(l.withCredentials=!0),l.setRequestHeader(b,a[b])};f&&p(f.httpRequestHeaders),p(N.getRequestHeadersFromMessage(d)),f&&"boolean"==typeof f.withCredentials&&(l.withCredentials=f.withCredentials),l.send(N.getLicenseRequestFromMessage(d))}function y(a){if(E("DRM: onNeedKey"),"cenc"!==a.key.initDataType)return void E("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+a.key.initDataType);var b=a.key.initData;if(ArrayBuffer.isView(b)&&(b=b.buffer),N){var c=g.default.getPSSHForKeySystem(N,b);if(c)for(var d=B.getAllInitData(),e=0;e<d.length;e++)if(A.initDataEquals(c,d[e]))return void E("DRM: Ignoring initData because we have already seen it!")}E("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(b)));var f=A.getSupportedKeySystems(b,K);if(0===f.length)return void E("DRM: Received needkey event with initData, but we don't support any of the key systems!");u(f,!1)}function z(){return A?A.getKeySystems():[]}a=a||{};var A=a.protectionKeyController,B=a.protectionModel,C=a.eventBus,D=a.events,E=a.log,F=a.BASE64,G=a.constants,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0;return H={initializeForMedia:c,createKeySession:e,loadKeySession:f,removeKeySession:h,closeKeySession:j,setServerCertificate:l,setMediaElement:m,setSessionType:n,setRobustnessLevel:o,setProtectionData:p,getSupportedKeySystemsFromContentProtection:d,getKeySystems:z,reset:q},function(){I=[],J=[],L="temporary",M=""}(),H}Object.defineProperty(c,"__esModule",{value:!0});var f=a(148),g=d(f),h=a(170),i=d(h),j=a(169),k=d(j);e.__dashjs_factory_name="ProtectionController",c.default=dashjs.FactoryMaker.getClassFactory(e),b.exports=c.default},{148:148,169:169,170:170}],152:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&(a.log&&(t=a.log),a.BASE64&&(x=a.BASE64))}function b(){v=[];var a=void 0;a=(0,o.default)(r).getInstance({BASE64:x}),v.push(a),a=(0,m.default)(r).getInstance({BASE64:x}),v.push(a),a=(0,i.default)(r).getInstance({BASE64:x}),v.push(a),z=a,a=(0,k.default)(r).getInstance({BASE64:x,log:t}),v.push(a),A=a}function c(){return v}function d(a){for(var b=0;b<v.length;b++)if(v[b].systemString===a)return v[b];return null}function e(a){return a===z||a===A}function f(a,b){if(a.byteLength===b.byteLength){for(var c=new Uint8Array(a),d=new Uint8Array(b),e=0;e<c.length;e++)if(c[e]!==d[e])return!1;return!0}return!1}function h(a){var b=void 0,c=void 0,d=void 0,e=void 0,f=[];if(a)for(d=0;d<v.length;++d)for(c=v[d],e=0;e<a.length;++e)b=a[e],b.schemeIdUri.toLowerCase()===c.schemeIdURI&&f.push({ks:c,initData:c.getInitData(b),cdmData:c.getCDMData(),sessionId:c.getSessionId(b)});return f}function j(a,b){for(var c=[],d=g.default.parsePSSHList(a),e=void 0,f=void 0,h=void 0,i=0;i<v.length;++i)e=v[i],f=e.systemString,h=!b||f in b,e.uuid in d&&h&&c.push({ks:e,initData:d[e.uuid],cdmData:e.getCDMData(),sessionId:e.getSessionId()});return c}function l(a,b,c){if("license-release"===c||"individualization-request"===c)return null;var d=null;return b&&b.hasOwnProperty("drmtoday")?d=(0,q.default)(r).getInstance({BASE64:x}):a.systemString===y.default.WIDEVINE_KEYSTEM_STRING?d=(0,u.default)(r).getInstance():a.systemString===y.default.PLAYREADY_KEYSTEM_STRING?d=(0,s.default)(r).getInstance():a.systemString===y.default.CLEARKEY_KEYSTEM_STRING&&(d=(0,w.default)(r).getInstance()),d}function n(a,b,c){try{return a.getClearKeysFromProtectionData(b,c)}catch(a){return t("Failed to retrieve clearkeys from ProtectionData"),null}}function p(a){for(var b=0;b<v.length;b++){var c=v[b];c.hasOwnProperty("init")&&c.init(function(b){var c=null;return a&&(c=b in a?a[b]:null),c}(c.systemString))}}var r=this.context,t=void 0,v=void 0,x=void 0,z=void 0,A=void 0;return{initialize:b,setProtectionData:p,isClearKey:e,initDataEquals:f,getKeySystems:c,getKeySystemBySystemString:d,getSupportedKeySystemsFromContentProtection:h,getSupportedKeySystems:j,getLicenseServer:l,processClearKeyLicenseRequest:n,setConfig:a}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(148),g=d(f),h=a(153),i=d(h),j=a(155),k=d(j),l=a(156),m=d(l),n=a(154),o=d(n),p=a(161),q=d(p),r=a(162),s=d(r),t=a(163),u=d(t),v=a(160),w=d(v),x=a(101),y=d(x);e.__dashjs_factory_name="ProtectionKeyController",c.default=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c.default},{101:101,148:148,153:153,154:154,155:155,156:156,160:160,161:161,162:162,163:163}],153:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c=null;if(a){for(var d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b))),e=[],f=0;f<d.kids.length;f++){var h=d.kids[f],j=a.clearkeys&&a.clearkeys.hasOwnProperty(h)?a.clearkeys[h]:null;if(!j)throw new Error("DRM: ClearKey keyID ("+h+") is not known!");e.push(new g.default(h,j))}c=new i.default(e)}return c}function c(a){return k.default.parseInitDataFromContentProtection(a,l)}function d(){return null}function e(a){return new Uint8Array(a)}function f(){return null}function h(){return null}function j(){return null}a=a||{};var l=a.BASE64;return{uuid:n,schemeIdURI:p,systemString:o,getInitData:c,getRequestHeadersFromMessage:d,getLicenseRequestFromMessage:e,getLicenseServerURLFromInitData:f,getCDMData:h,getSessionId:j,getClearKeysFromProtectionData:b}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(167),g=d(f),h=a(164),i=d(h),j=a(148),k=d(j),l=a(101),m=d(l),n="e2719d58-a985-b3c9-781a-b030af78d30e",o=m.default.CLEARKEY_KEYSTEM_STRING,p="urn:uuid:"+n;e.__dashjs_factory_name="KeySystemClearKey",c.default=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c.default},{101:101,148:148,164:164,167:167}],154:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){if(!r||!r.hasOwnProperty("decodeArray")||!r.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}function c(a){var b=void 0,c=void 0,d={},e=new DOMParser,f="utf16"===q?new Uint16Array(a):new Uint8Array(a);b=String.fromCharCode.apply(null,f),c=e.parseFromString(b,"application/xml");for(var g=c.getElementsByTagName("name"),h=c.getElementsByTagName("value"),i=0;i<g.length;i++)d[g[i].childNodes[0].nodeValue]=h[i].childNodes[0].nodeValue;return d.hasOwnProperty("Content")&&(d["Content-Type"]=d.Content,delete d.Content),d}function d(a){var c=void 0,d=void 0,e=null,f=new DOMParser,g="utf16"===q?new Uint16Array(a):new Uint8Array(a);if(b(),c=String.fromCharCode.apply(null,g),d=f.parseFromString(c,"application/xml"),d.getElementsByTagName("Challenge")[0]){var h=d.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;h&&(e=r.decode(h))}return e}function e(a){if(a)for(var b=new DataView(a),c=b.getUint16(4,!0),d=6,e=new DOMParser,f=0;f<c;f++){var g=b.getUint16(d,!0);d+=2;var h=b.getUint16(d,!0);if(d+=2,1===g){var i=a.slice(d,d+h),j=String.fromCharCode.apply(null,new Uint16Array(i)),k=e.parseFromString(j,"application/xml");if(k.getElementsByTagName("LA_URL")[0]){var l=k.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(l)return l}if(k.getElementsByTagName("LUI_URL")[0]){var m=k.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(m)return m}}else d+=h}return null}function f(a){var c=new Uint8Array([112,115,115,104,0,0,0,0]),d=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=0,f=null,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0;if(b(),"pssh"in a)return g.default.parseInitDataFromContentProtection(a,r);if("pro"in a)f=r.decodeArray(a.pro.__text);else{if(!("prheader"in a))return null;f=r.decodeArray(a.prheader.__text)}return h=f.length,i=4+c.length+d.length+4+h,j=new ArrayBuffer(i),k=new Uint8Array(j),l=new DataView(j),l.setUint32(e,i),e+=4,k.set(c,e),e+=c.length,k.set(d,e),e+=d.length,l.setUint32(e,h),e+=4,k.set(f,e),e+=h,k.buffer}function h(a){if("utf8"!==a&&"utf16"!==a)throw new Error("Illegal PlayReady message format! -- "+a);q=a}function i(a){a&&(n=a)}function o(){var a=void 0,c=void 0,d=void 0,e=void 0;if(b(),n&&n.cdmData){for(a=[],e=0;e<n.cdmData.length;++e)a.push(n.cdmData.charCodeAt(e)),a.push(0);for(a=String.fromCharCode.apply(null,a),a=r.encode(a),c=m.replace("%CUSTOMDATA%",a),d=[],e=0;e<c.length;++e)d.push(c.charCodeAt(e)),d.push(0);return new Uint8Array(d).buffer}return null}function p(){return null}a=a||{};var q="utf16",r=a.BASE64;return{uuid:j,schemeIdURI:l,systemString:k,getInitData:f,getRequestHeadersFromMessage:c,getLicenseRequestFromMessage:d,getLicenseServerURLFromInitData:e,getCDMData:o,getSessionId:p,setPlayReadyMessageFormat:h,init:i}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(148),g=d(f),h=a(101),i=d(h),j="9a04f079-9840-4286-ab92-e65be0885f95",k=i.default.PLAYREADY_KEYSTEM_STRING,l="urn:uuid:"+j,m='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>',n=void 0;e.__dashjs_factory_name="KeySystemPlayReady",c.default=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c.default},{101:101,148:148}],155:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c=null;if(a){for(var d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b))),e=[],f=0;f<d.kids.length;f++){var h=d.kids[f],j=a.clearkeys&&a.clearkeys.hasOwnProperty(h)?a.clearkeys[h]:null;if(!j)throw new Error("DRM: ClearKey keyID ("+h+") is not known!");e.push(new g.default(h,j))}c=new i.default(e),m("Warning: ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return c}function c(a){return k.default.parseInitDataFromContentProtection(a,l)}function d(){return null}function e(a){return new Uint8Array(a)}function f(){return null}function h(){return null}function j(){return null}var l=a.BASE64,m=a.log;return{uuid:n,schemeIdURI:p,systemString:o,getInitData:c,getRequestHeadersFromMessage:d,getLicenseRequestFromMessage:e,getLicenseServerURLFromInitData:f,getCDMData:h,getSessionId:j,getClearKeysFromProtectionData:b}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(167),g=d(f),h=a(164),i=d(h),j=a(148),k=d(j),l=a(101),m=d(l),n="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",o=m.default.CLEARKEY_KEYSTEM_STRING,p="urn:uuid:"+n;e.__dashjs_factory_name="KeySystemW3CClearKey",c.default=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c.default},{101:101,148:148,164:164,167:167}],156:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){a&&(m=a)}function c(a){return g.default.parseInitDataFromContentProtection(a,n)}function d(){return null}function e(a){return new Uint8Array(a)}function f(){return null}function h(){return null}function i(a){return m&&m.sessionId?m.sessionId:a&&a.sessionId?a.sessionId:null}a=a||{};var m=null,n=a.BASE64;return{uuid:j,schemeIdURI:l,systemString:k,init:b,getInitData:c,getRequestHeadersFromMessage:d,getLicenseRequestFromMessage:e,getLicenseServerURLFromInitData:f,getCDMData:h,getSessionId:i}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(148),g=d(f),h=a(101),i=d(h),j="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",k=i.default.WIDEVINE_KEYSTEM_STRING,l="urn:uuid:"+j;e.__dashjs_factory_name="KeySystemWidevine",c.default=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c.default},{101:101,148:148}],157:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){D&&v();for(var a=0;a<H.length;a++)n(H[a]);x.trigger(y.TEARDOWN_COMPLETE)}function c(){return E}function d(){for(var a=[],b=0;b<G.length;b++)a.push(G[b].initData);for(var b=0;b<H.length;b++)a.push(H[b].initData);return a}function e(a){var b=D;b||(b=document.createElement("video"));for(var c=!1,d=0;d<a.length;d++)for(var e=a[d].ks.systemString,f=a[d].configs,g=null,h=null,i=0;i<f.length;i++){var j=f[i].videoCapabilities;if(j&&0!==j.length){h=[];for(var k=0;k<j.length;k++)""!==b.canPlayType(j[k].contentType,e)&&h.push(j[k])}if(h&&(!h||0!==h.length)){c=!0;var l=new o.default(g,h),m=F.getKeySystemBySystemString(e);x.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{data:new q.default(m,l)});break}}c||x.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function f(a){E=a.keySystem,x.trigger(y.INTERNAL_KEY_SYSTEM_SELECTED)}function h(a){D!==a&&(D&&v(),(D=a)&&(D.addEventListener(A.keyerror,J),D.addEventListener(A.needkey,J),D.addEventListener(A.keymessage,J),D.addEventListener(A.keyadded,J),x.trigger(y.VIDEO_ELEMENT_SELECTED)))}function j(a){if(!E)throw new Error("Can not create sessions until you have selected a key system");if(I||0===H.length){var b={sessionID:null,initData:a,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return G.push(b),D[A.generateKeyRequest](E.systemString,new Uint8Array(a)),b}throw new Error("Multiple sessions not allowed!")}function l(a,b){var c=a.sessionID;if(F.isClearKey(E))for(var d=0;d<b.keyPairs.length;d++)D[A.addKey](E.systemString,b.keyPairs[d].key,b.keyPairs[d].keyID,c);else D[A.addKey](E.systemString,new Uint8Array(b),new Uint8Array(a.initData),c)}function n(a){D[A.cancelKeyRequest](E.systemString,a.sessionID)}function p(){}function r(){}function s(){}function t(){return{handleEvent:function(a){var b=null;switch(a.type){case A.needkey:var c=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;x.trigger(y.NEED_KEY,{key:new i.default(c,"cenc")});break;case A.keyerror:if(b=u(H,a.sessionId),b||(b=u(G,a.sessionId)),b){var d="";switch(a.errorCode.code){case 1:d+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:d+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:d+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:d+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:d+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:d+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}d+="  System Code = "+a.systemCode,x.trigger(y.KEY_ERROR,{data:new k.default(b,d)})}else z("No session token found for key error");break;case A.keyadded:b=u(H,a.sessionId),b||(b=u(G,a.sessionId)),b?(z("DRM: Key added."),x.trigger(y.KEY_ADDED,{data:b})):z("No session token found for key added");break;case A.keymessage:if(I=null!==a.sessionId&&void 0!==a.sessionId,I?!(b=u(H,a.sessionId))&&G.length>0&&(b=G.shift(),H.push(b),b.sessionID=a.sessionId):G.length>0&&(b=G.shift(),H.push(b),0!==G.length&&B.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),b){var e=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;b.keyMessage=e,x.trigger(y.INTERNAL_KEY_MESSAGE,{data:new m.default(b,e,a.defaultURL)})}else z("No session token found for key message")}}}}function u(a,b){if(b&&a){for(var c=a.length,d=0;d<c;d++)if(a[d].sessionID==b)return a[d];return null}return null}function v(){D.removeEventListener(A.keyerror,J),D.removeEventListener(A.needkey,J),D.removeEventListener(A.keymessage,J),D.removeEventListener(A.keyadded,J)}a=a||{};var w=this.context,x=a.eventBus,y=a.events,z=a.log,A=a.api,B=a.errHandler,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0;return C={getAllInitData:d,requestKeySystemAccess:e,getKeySystem:c,selectKeySystem:f,setMediaElement:h,createKeySession:j,updateKeySession:l,closeKeySession:n,setServerCertificate:p,loadKeySession:r,removeKeySession:s,reset:b},function(){D=null,E=null,G=[],H=[],F=(0,g.default)(w).getInstance(),J=t()}(),C}Object.defineProperty(c,"__esModule",{value:!0});var f=a(152),g=d(f),h=a(171),i=d(h),j=a(165),k=d(j),l=a(166),m=d(l),n=a(169),o=d(n),p=a(168),q=d(p);e.__dashjs_factory_name="ProtectionModel_01b",c.default=dashjs.FactoryMaker.getClassFactory(e),b.exports=c.default},{152:152,165:165,166:166,168:168,169:169,171:171}],158:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){var a=G.length,b=void 0;0!==a?function(){for(var c=function(a){w(a),0===G.length&&(E?(E.removeEventListener("encrypted",H),E.setMediaKeys(null).then(function(){z.trigger(A.TEARDOWN_COMPLETE)})):z.trigger(A.TEARDOWN_COMPLETE))},d=0;d<a;d++)b=G[d],function(a){b.session.closed.then(function(){c(a)}),u(b).catch(function(){c(a)})}(b)}():z.trigger(A.TEARDOWN_COMPLETE)}function c(){return D}function d(){for(var a=[],b=0;b<G.length;b++)G[b].initData&&a.push(G[b].initData);return a}function e(a){t(a,0)}function f(a){a.mksa.createMediaKeys().then(function(b){D=a.keySystem,F=b,E?E.setMediaKeys(F).then(function(){z.trigger(A.INTERNAL_KEY_SYSTEM_SELECTED)}):z.trigger(A.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){z.trigger(A.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+a.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function h(a){E!==a&&(E&&(E.removeEventListener("encrypted",H),E.setMediaKeys&&E.setMediaKeys(null)),(E=a)&&(E.addEventListener("encrypted",H),E.setMediaKeys&&F&&E.setMediaKeys(F)))}function j(a){if(!D||!F)throw new Error("Can not set server certificate until you have selected a key system");F.setServerCertificate(a).then(function(){B("DRM: License server certificate successfully updated."),z.trigger(A.SERVER_CERTIFICATE_UPDATED)}).catch(function(a){z.trigger(A.SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+a.name})})}function l(a,b,c){if(!D||!F)throw new Error("Can not create sessions until you have selected a key system");var d=F.createSession(c),e=x(d,a,c),f=this.getKeySystem(),g=f.systemString===q.default.CLEARKEY_KEYSTEM_STRING&&b&&b.clearkeys?"keyids":"cenc";d.generateRequest(g,a).then(function(){B("DRM: Session created.  SessionID = "+e.getSessionID()),z.trigger(A.KEY_SESSION_CREATED,{data:e})}).catch(function(a){w(e),z.trigger(A.KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+a.name})})}function n(a,b){var c=a.session;I.isClearKey(D)&&(b=b.toJWK()),c.update(b).catch(function(b){z.trigger(A.KEY_ERROR,{data:new k.default(a,"Error sending update() message! "+b.name)})})}function p(a,b,c){if(!D||!F)throw new Error("Can not load sessions until you have selected a key system");for(var d=0;d<G.length;d++)if(a===G[d].sessionId)return void B("DRM: Ignoring session ID because we have already seen it!");var e=F.createSession(c),f=x(e,b,c,a);e.load(a).then(function(b){b?(B("DRM: Session loaded.  SessionID = "+f.getSessionID()),z.trigger(A.KEY_SESSION_CREATED,{data:f})):(w(f),z.trigger(A.KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+a+")"}))}).catch(function(b){w(f),z.trigger(A.KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+a+")! "+b.name})})}function r(a){a.session.remove().then(function(){B("DRM: Session removed.  SessionID = "+a.getSessionID()),z.trigger(A.KEY_SESSION_REMOVED,{data:a.getSessionID()})},function(b){z.trigger(A.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+a.getSessionID()+"). "+b.name})})}function s(a){u(a).catch(function(b){w(a),z.trigger(A.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+a.getSessionID()+") "+b.name})})}function t(a,b){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess)return void z.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"});!function(b){var c=a[b].ks,d=a[b].configs;navigator.requestMediaKeySystemAccess(c.systemString,d).then(function(a){var b="function"==typeof a.getConfiguration?a.getConfiguration():null,d=new o.default(c,b);d.mksa=a,z.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:d})}).catch(function(c){++b<a.length?t(a,b):z.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+c.message})})}(b)}function u(a){var b=a.session;return b.removeEventListener("keystatuseschange",a),b.removeEventListener("message",a),b.close()}function v(){return{handleEvent:function(a){switch(a.type){case"encrypted":if(a.initData){var b=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;z.trigger(A.NEED_KEY,{key:new i.default(b,a.initDataType)})}}}}}function w(a){for(var b=0;b<G.length;b++)if(G[b]===a){G.splice(b,1);break}}function x(a,b,c,d){var e={session:a,initData:b,sessionId:d,handleEvent:function(a){switch(a.type){case"keystatuseschange":z.trigger(A.KEY_STATUSES_CHANGED,{data:this}),a.target.keyStatuses.forEach(function(){var a=void 0,b=void 0;switch(arguments&&arguments.length>0&&(arguments[0]&&("string"==typeof arguments[0]?a=arguments[0]:b=arguments[0]),arguments[1]&&("string"==typeof arguments[1]?a=arguments[1]:b=arguments[1])),a){case"expired":z.trigger(A.INTERNAL_KEY_STATUS_CHANGED,{error:"License has expired"});break;default:z.trigger(A.INTERNAL_KEY_STATUS_CHANGED,{status:a,keyId:b})}});break;case"message":var b=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;z.trigger(A.INTERNAL_KEY_MESSAGE,{data:new m.default(this,b,void 0,a.messageType)})}},getSessionID:function(){return a.sessionId},getExpirationTime:function(){return a.expiration},getKeyStatuses:function(){return a.keyStatuses},getSessionType:function(){return c}};return a.addEventListener("keystatuseschange",e),a.addEventListener("message",e),a.closed.then(function(){w(e),B("DRM: Session closed.  SessionID = "+e.getSessionID()),z.trigger(A.KEY_SESSION_CLOSED,{data:e.getSessionID()})}),G.push(e),e}a=a||{};var y=this.context,z=a.eventBus,A=a.events,B=a.log,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0;return C={getAllInitData:d,requestKeySystemAccess:e,getKeySystem:c,selectKeySystem:f,setMediaElement:h,setServerCertificate:j,createKeySession:l,updateKeySession:n,loadKeySession:p,removeKeySession:r,closeKeySession:s,reset:b},function(){D=null,E=null,F=null,G=[],I=(0,g.default)(y).getInstance(),H=v()}(),C}Object.defineProperty(c,"__esModule",{value:!0});var f=a(152),g=d(f),h=a(171),i=d(h),j=a(165),k=d(j),l=a(166),m=d(l),n=a(168),o=d(n),p=a(101),q=d(p);e.__dashjs_factory_name="ProtectionModel_21Jan2015",c.default=dashjs.FactoryMaker.getClassFactory(e),b.exports=c.default},{101:101,152:152,165:165,166:166,168:168,171:171}],159:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){try{for(var a=0;a<G.length;a++)n(G[a]);C&&C.removeEventListener(A.needkey,H),x.trigger(y.TEARDOWN_COMPLETE)}catch(a){x.trigger(y.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+a.message})}}function c(){return D}function d(){for(var a=[],b=0;b<G.length;b++)a.push(G[b].initData);return a}function e(a){for(var b=!1,c=0;c<a.length;c++)for(var d=a[c].ks.systemString,e=a[c].configs,f=null,g=null,h=0;h<e.length;h++){var i=e[h].audioCapabilities,j=e[h].videoCapabilities;if(i&&0!==i.length){f=[];for(var k=0;k<i.length;k++)window[A.MediaKeys].isTypeSupported(d,i[k].contentType)&&f.push(i[k])}if(j&&0!==j.length){g=[];for(var l=0;l<j.length;l++)window[A.MediaKeys].isTypeSupported(d,j[l].contentType)&&g.push(j[l])}if(!(!f&&!g||f&&0===f.length||g&&0===g.length)){b=!0;var m=new o.default(f,g),n=I.getKeySystemBySystemString(d);x.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{data:new q.default(n,m)});break}}b||x.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function f(a){try{E=a.mediaKeys=new window[A.MediaKeys](a.keySystem.systemString),D=a.keySystem,F=a,C&&u(),
x.trigger(y.INTERNAL_KEY_SYSTEM_SELECTED)}catch(a){x.trigger(y.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+D.systemString+")! Could not create MediaKeys -- TODO"})}}function h(a){C!==a&&(C&&C.removeEventListener(A.needkey,H),(C=a)&&(C.addEventListener(A.needkey,H),E&&u()))}function j(a,b,c,d){if(!D||!E||!F)throw new Error("Can not create sessions until you have selected a key system");var e=null;if(null!==F.ksConfiguration.videoCapabilities&&F.ksConfiguration.videoCapabilities.length>0&&(e=F.ksConfiguration.videoCapabilities[0]),null===e&&null!==F.ksConfiguration.audioCapabilities&&F.ksConfiguration.audioCapabilities.length>0&&(e=F.ksConfiguration.audioCapabilities[0]),null===e)throw new Error("Can not create sessions for unknown content types.");var f=e.contentType,g=E.createSession(f,new Uint8Array(a),d?new Uint8Array(d):null),h=v(g,a);g.addEventListener(A.error,h),g.addEventListener(A.message,h),g.addEventListener(A.ready,h),g.addEventListener(A.close,h),G.push(h),z("DRM: Session created.  SessionID = "+h.getSessionID()),x.trigger(y.KEY_SESSION_CREATED,{data:h})}function l(a,b){var c=a.session;I.isClearKey(D)?c.update(new Uint8Array(b.toJWK())):c.update(new Uint8Array(b))}function n(a){var b=a.session;b.removeEventListener(A.error,a),b.removeEventListener(A.message,a),b.removeEventListener(A.ready,a),b.removeEventListener(A.close,a);for(var c=0;c<G.length;c++)if(G[c]===a){G.splice(c,1);break}b[A.release]()}function p(){}function r(){}function s(){}function t(){return{handleEvent:function(a){switch(a.type){case A.needkey:if(a.initData){var b=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;x.trigger(y.NEED_KEY,{key:new i.default(b,"cenc")})}}}}}function u(){var a=null,b=function(){C.removeEventListener("loadedmetadata",a),C[A.setMediaKeys](E),x.trigger(y.VIDEO_ELEMENT_SELECTED)};C.readyState>=1?b():(a=b.bind(this),C.addEventListener("loadedmetadata",a))}function v(a,b){return{session:a,initData:b,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(a){switch(a.type){case A.error:x.trigger(y.KEY_ERROR,{data:new k.default(this,"KeyError")});break;case A.message:var b=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;x.trigger(y.INTERNAL_KEY_MESSAGE,{data:new m.default(this,b,a.destinationURL)});break;case A.ready:z("DRM: Key added."),x.trigger(y.KEY_ADDED);break;case A.close:z("DRM: Session closed.  SessionID = "+this.getSessionID()),x.trigger(y.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}a=a||{};var w=this.context,x=a.eventBus,y=a.events,z=a.log,A=a.api,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0;return B={getAllInitData:d,requestKeySystemAccess:e,getKeySystem:c,selectKeySystem:f,setMediaElement:h,createKeySession:j,updateKeySession:l,closeKeySession:n,setServerCertificate:p,loadKeySession:r,removeKeySession:s,reset:b},function(){C=null,D=null,E=null,F=null,G=[],I=(0,g.default)(w).getInstance(),H=t()}(),B}Object.defineProperty(c,"__esModule",{value:!0});var f=a(152),g=d(f),h=a(171),i=d(h),j=a(165),k=d(j),l=a(166),m=d(l),n=a(169),o=d(n),p=a(168),q=d(p);e.__dashjs_factory_name="ProtectionModel_3Feb2014",c.default=dashjs.FactoryMaker.getClassFactory(e),b.exports=c.default},{152:152,165:165,166:166,168:168,169:169,171:171}],160:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b)));a+="/?";for(var d=0;d<c.kids.length;d++)a+=c.kids[d]+"&";return a=a.substring(0,a.length-1)}function b(){return"GET"}function c(){return"json"}function d(a){if(!a.hasOwnProperty("keys"))return null;for(var b=[],c=0;c<a.keys.length;c++){var d=a.keys[c],e=d.kid.replace(/=/g,""),f=d.k.replace(/=/g,"");b.push(new g.default(e,f))}return new i.default(b)}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}return{getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(167),g=d(f),h=a(164),i=d(h);e.__dashjs_factory_name="ClearKey",c.default=dashjs.FactoryMaker.getSingletonFactory(e),b.exports=c.default},{164:164,167:167}],161:[function(a,b,c){"use strict";function d(a){function b(){if(!i||!i.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}function c(a){return a}function d(){return"POST"}function e(a){return j[a].responseType}function g(a,c){return b(),j[c].getLicenseMessage(a)}function h(a,b){return j[b].getErrorResponse(a)}a=a||{};var i=a.BASE64,j={};return j[f.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(a){return i.decodeArray(a.license)},getErrorResponse:function(a){return a}},j[f.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(a){return a},getErrorResponse:function(a){return String.fromCharCode.apply(null,new Uint8Array(a))}},{getServerURLFromMessage:c,getHTTPMethod:d,getResponseType:e,getLicenseMessage:g,getErrorResponse:h}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(101),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="DRMToday",c.default=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c.default},{101:101}],162:[function(a,b,c){"use strict";function d(){function a(a){var b=String.fromCharCode.apply(null,new Uint8Array(a));return decodeURIComponent(escape(b))}function b(b){if(window.DOMParser){var c=a(b),d=new window.DOMParser,e=d.parseFromString(c,"text/xml"),f=e?e.getElementsByTagNameNS(i,"Envelope")[0]:null,g=f?f.getElementsByTagNameNS(i,"Body")[0]:null;if(g?g.getElementsByTagNameNS(i,"Fault")[0]:null)return null}return b}function c(b){var c="",d="",e="",f=-1,g=-1;if(window.DOMParser){var h=a(b),j=new window.DOMParser,k=j.parseFromString(h,"text/xml"),l=k?k.getElementsByTagNameNS(i,"Envelope")[0]:null,m=l?l.getElementsByTagNameNS(i,"Body")[0]:null,n=m?m.getElementsByTagNameNS(i,"Fault")[0]:null,o=n?n.getElementsByTagName("detail")[0]:null,p=o?o.getElementsByTagName("Exception")[0]:null,q=null;if(null===n)return h;q=n.getElementsByTagName("faultstring")[0].firstChild,c=q?q.nodeValue:null,null!==p&&(q=p.getElementsByTagName("StatusCode")[0],d=q?q.firstChild.nodeValue:null,q=p.getElementsByTagName("Message")[0],e=q?q.firstChild.nodeValue:null,f=e?e.lastIndexOf("[")+1:-1,g=e?e.indexOf("]"):-1,e=e?e.substring(f,g):"")}var r="code: "+d+", name: "+c;return e&&(r+=", message: "+e),r}function d(a){return a}function e(){return"POST"}function f(){return"arraybuffer"}function g(a){return b.call(this,a)}function h(a){return c.call(this,a)}var i="http://schemas.xmlsoap.org/soap/envelope/";return{getServerURLFromMessage:d,getHTTPMethod:e,getResponseType:f,getLicenseMessage:g,getErrorResponse:h}}Object.defineProperty(c,"__esModule",{value:!0}),d.__dashjs_factory_name="PlayReady",c.default=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c.default},{}],163:[function(a,b,c){"use strict";function d(){function a(a){return a}function b(){return"POST"}function c(){return"arraybuffer"}function d(a){return a}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}return{getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,"__esModule",{value:!0}),d.__dashjs_factory_name="Widevine",c.default=dashjs.FactoryMaker.getSingletonFactory(d),b.exports=c.default},{}],164:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){if(d(this,a),c&&"persistent"!==c&&"temporary"!==c)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=b,this.type=c}return e(a,[{key:"toJWK",value:function(){var a=void 0,b=this.keyPairs.length,c={keys:[]};for(a=0;a<b;a++){var d={kty:"oct",alg:"A128KW",kid:this.keyPairs[a].keyID,k:this.keyPairs[a].key};c.keys.push(d)}this.type&&(c.type=this.type);var e=JSON.stringify(c),f=e.length,g=new ArrayBuffer(f),h=new Uint8Array(g);for(a=0;a<f;a++)h[a]=e.charCodeAt(a);return g}}]),a}();c.default=f,b.exports=c.default},{}],165:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c){d(this,a),this.sessionToken=b,this.error=c};c.default=e,b.exports=c.default},{}],166:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c,e,f){d(this,a),this.sessionToken=b,this.message=c,this.defaultURL=e,this.messageType=f||"license-request"};c.default=e,b.exports=c.default},{}],167:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c){d(this,a),this.keyID=b,this.key=c};c.default=e,b.exports=c.default},{}],168:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c){d(this,a),this.keySystem=b,this.ksConfiguration=c};c.default=e,b.exports=c.default},{}],169:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c,e,f,g){d(this,a),this.initDataTypes=["cenc"],b&&b.length&&(this.audioCapabilities=b),c&&c.length&&(this.videoCapabilities=c),this.distinctiveIdentifier=e,this.persistentState=f,this.sessionTypes=g};c.default=e,b.exports=c.default},{}],170:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c){d(this,a),this.contentType=b,this.robustness=c};c.default=e,b.exports=c.default},{}],171:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c){d(this,a),this.initData=b,this.initDataType=c};c.default=e,b.exports=c.default},{}],172:[function(a,b,c){"use strict";function d(){function a(a,b){var c=b.droppedVideoFrames-e;e=b.droppedVideoFrames;var g=b.totalVideoFrames-f;f=b.totalVideoFrames,isNaN(a)||(d[a]?(d[a].droppedVideoFrames+=c,d[a].totalVideoFrames+=g):d[a]={droppedVideoFrames:c,totalVideoFrames:g})}function b(){return d}function c(a){d=[],e=a.droppedVideoFrames,f=a.totalVideoFrames}var d=[],e=0,f=0;return{push:a,getFrameHistory:b,reset:c}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="DroppedFramesHistory";var g=f.default.getClassFactory(d);c.default=g,b.exports=c.default},{48:48}],173:[function(a,b,c){"use strict";function d(a){function b(){return n.mediaInfo.type}function c(){return n.mediaInfo.streamInfo}function d(){return n.mediaInfo}function e(){return n}function f(){return m}function g(){return l}function h(){return o}function i(){return p}function j(){return q}function k(){return r}a=a||{};var l=a.abrController,m=a.streamProcessor,n=a.streamProcessor.getCurrentRepresentationInfo(),o=a.switchHistory,p=a.droppedFramesHistory,q=a.currentRequest,r=a.useBufferOccupancyABR;return{getMediaType:b,getMediaInfo:d,getDroppedFramesHistory:i,getCurrentRequest:j,getSwitchHistory:h,getStreamInfo:c,getStreamProcessor:f,getAbrController:g,getRepresentationInfo:e,useBufferOccupancyABR:k}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="RulesContext",c.default=f.default.getClassFactory(d),b.exports=c.default},{48:48}],174:[function(a,b,c){"use strict";function d(a,b,c){var d=void 0,e=void 0,f=void 0;return d=void 0===a?g:a,e=function(a){var b=h.DEFAULT;return a!==h.DEFAULT&&a!==h.STRONG&&a!==h.WEAK||(b=a),b}(c),f=void 0===b?null:b,{quality:d,reason:f,priority:e}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=-1,h={DEFAULT:.5,STRONG:1,WEAK:0};d.__dashjs_factory_name="SwitchRequest";var i=f.default.getClassFactory(d);i.NO_CHANGE=g,i.PRIORITY=h,f.default.updateClassFactory(d.__dashjs_factory_name,i),c.default=i,b.exports=c.default},{48:48}],175:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a.newValue===i.default.NO_CHANGE&&(a.newValue=a.oldValue),d[a.oldValue]||(d[a.oldValue]={noDrops:0,drops:0,dropSize:0});var b=a.newValue-a.oldValue,c=b<0?1:0,f=c?-b:0,g=c?0:1;if(d[a.oldValue].drops+=c,d[a.oldValue].dropSize+=f,d[a.oldValue].noDrops+=g,e.push({idx:a.oldValue,noDrop:g,drop:c,dropSize:f}),e.length>j){var h=e.shift();d[h.idx].drops-=h.drop,d[h.idx].dropSize-=h.dropSize,d[h.idx].noDrops-=h.noDrop}}function b(){return d}function c(){d=[],e=[]}var d=[],e=[];return{push:a,getSwitchRequests:b,reset:c}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(174),i=d(h),j=8;e.__dashjs_factory_name="SwitchRequestHistory";var k=g.default.getClassFactory(e);c.default=k,b.exports=c.default},{174:174,48:48}],176:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b,c){return a===g.default.VIDEO?c<z.getCacheLoadThresholdForType(g.default.VIDEO):a===g.default.AUDIO?c<z.getCacheLoadThresholdForType(g.default.AUDIO):void 0}function c(a,c,e){if(c.trace&&c.trace.length){var f=c.tresponse.getTime()-c.trequest.getTime()||1,g=c._tfinish.getTime()-c.tresponse.getTime()||1,h=c.trace.reduce(function(a,b){return a+b.b[0]},0),i=e?g:f+g,j=Math.round(8*h/i);if(m(a),b(a,f,g)){if(A[a].length>0&&!A[a].hasCachedEntries)return;A[a].hasCachedEntries=!0}else A[a]&&A[a].hasCachedEntries&&n(a);A[a].push(j),A[a].length>p&&A[a].shift(),B[a].push(f),B[a].length>p&&B[a].shift(),d(C[a],j,.001*g,E.throughputHalfLife),d(D[a],f,1,E.latencyHalfLife)}}function d(a,b,c,d){var e=Math.pow(.5,c/d.fast);a.fastEstimate=(1-e)*b+e*a.fastEstimate;var f=Math.pow(.5,c/d.slow);a.slowEstimate=(1-f)*b+f*a.slowEstimate,a.totalWeight+=c}function e(a,b,c){var d=void 0,e=void 0;if(a?(d=A[b],e=c?q:r):(d=B[b],e=s),d){if(e>=d.length)e=d.length;else if(a)for(var f=1;f<e;++f){var g=d[f]/d[f-1];if((g>=u||g<=1/t)&&(e+=1)===d.length)break}}else e=0;return e}function f(a,b,c){return z.getMovingAverageMethod()!==g.default.MOVING_AVERAGE_SLIDING_WINDOW?i(a,b):h(a,b,c)}function h(a,b,c){var d=e(a,b,c),f=a?A:B,g=f[b];return 0!==d&&g&&0!==g.length?(g=g.slice(-d),g.reduce(function(a,b){return a+b})/g.length):NaN}function i(a,b){var c=a?E.throughputHalfLife:E.latencyHalfLife,d=a?C[b]:D[b];if(!d||d.totalWeight<=0)return NaN;var e=d.fastEstimate/(1-Math.pow(.5,d.totalWeight/c.fast)),f=d.slowEstimate/(1-Math.pow(.5,d.totalWeight/c.slow));return a?Math.min(e,f):Math.max(e,f)}function j(a,b){return f(!0,a,b)}function k(a,b){var c=j(a,b);return isNaN(c)||(c*=z.getBandwidthSafetyFactor()),c}function l(a){return f(!1,a)}function m(a){A[a]=A[a]||[],B[a]=B[a]||[],C[a]=C[a]||{fastEstimate:0,slowEstimate:0,totalWeight:0},D[a]=D[a]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function n(a){delete A[a],delete B[a],delete C[a],delete D[a],m(a)}function o(){A={},B={},C={},D={}}a=a||{};var p=20,q=3,r=4,s=4,t=1.3,u=1.3,v=8,w=3,x=2,y=1,z=a.mediaPlayerModel,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F={push:c,getAverageThroughput:j,getSafeAverageThroughput:k,getAverageLatency:l,reset:o};return function(){E={throughputHalfLife:{fast:w,slow:v},latencyHalfLife:{fast:y,slow:x}},o()}(),F}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(48),i=d(h);e.__dashjs_factory_name="ThroughputHistory",c.default=i.default.getClassFactory(e),b.exports=c.default},{48:48,99:99}],177:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){r=[],s=[],l.getUseDefaultABRRules()&&(r.push((0,q.default)(j).create({metricsModel:n,dashMetrics:p,mediaPlayerModel:l})),r.push((0,g.default)(j).create({metricsModel:n,dashMetrics:p})),r.push((0,i.default)(j).create({metricsModel:n,dashMetrics:p})),r.push((0,o.default)(j).create()),r.push((0,m.default)(j).create()),s.push((0,k.default)(j).create({metricsModel:n,dashMetrics:p,mediaPlayerModel:l}))),l.getABRCustomRules().forEach(function(a){a.type===v&&r.push(a.rule(j).create()),a.type===w&&s.push(a.rule(j).create())})}function c(a){return a.filter(function(a){return a.quality>u.default.NO_CHANGE})}function d(a){var b={},c=void 0,d=void 0,e=void 0,f=void 0,g=void 0;if(0!==a.length){for(b[u.default.PRIORITY.STRONG]=u.default.NO_CHANGE,b[u.default.PRIORITY.WEAK]=u.default.NO_CHANGE,b[u.default.PRIORITY.DEFAULT]=u.default.NO_CHANGE,c=0,d=a.length;c<d;c+=1)e=a[c],e.quality!==u.default.NO_CHANGE&&(b[e.priority]=b[e.priority]>u.default.NO_CHANGE?Math.min(b[e.priority],e.quality):e.quality);return b[u.default.PRIORITY.WEAK]!==u.default.NO_CHANGE&&(f=b[u.default.PRIORITY.WEAK]),b[u.default.PRIORITY.DEFAULT]!==u.default.NO_CHANGE&&(f=b[u.default.PRIORITY.DEFAULT]),b[u.default.PRIORITY.STRONG]!==u.default.NO_CHANGE&&(f=b[u.default.PRIORITY.STRONG]),f!==u.default.NO_CHANGE&&(g=f),(0,u.default)(j).create(g)}}function e(a){return d(c(r.map(function(b){return b.getMaxIndex(a)})))||(0,u.default)(j).create()}function f(a){return d(c(s.map(function(b){return b.shouldAbandon(a)})))||(0,u.default)(j).create()}function h(){[r,s].forEach(function(a){a&&a.length&&a.forEach(function(a){return a.reset&&a.reset()})}),r=[],s=[]}a=a||{};var j=this.context,l=a.mediaPlayerModel,n=a.metricsModel,p=a.dashMetrics,r=void 0,s=void 0;return{initialize:b,reset:h,getMaxQuality:e,shouldAbandonFragment:f}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(183),g=d(f),h=a(181),i=d(h),j=a(178),k=d(j),l=a(180),m=d(l),n=a(182),o=d(n),p=a(179),q=d(p),r=a(48),s=d(r),t=a(174),u=d(t),v="qualitySwitchRules",w="abandonFragmentRules";e.__dashjs_factory_name="ABRRulesCollection";var x=s.default.getClassFactory(e);x.QUALITY_SWITCH_RULES=v,x.ABANDON_FRAGMENT_RULES=w,s.default.updateSingletonFactory(e.__dashjs_factory_name,x),c.default=x,b.exports=c.default},{174:174,178:178,179:179,180:180,181:181,182:182,183:183,48:48}],178:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){q[a]=q[a]||{},q[a][b]=q[a][b]||{}}function c(a,b){s[a]=s[a]||[],s[a].push(b)}function d(a){var d=(0,g.default)(l).create(g.default.NO_CHANGE,{name:e.__dashjs_factory_name});if(!(a&&a.hasOwnProperty("getMediaInfo")&&a.hasOwnProperty("getMediaType")&&a.hasOwnProperty("getCurrentRequest")&&a.hasOwnProperty("getRepresentationInfo")&&a.hasOwnProperty("getAbrController")))return d;var f=a.getMediaInfo(),k=a.getMediaType(),t=a.getCurrentRequest();if(!isNaN(t.index)){b(k,t.index);var u=n.getStableBufferTime();if(p.getCurrentBufferLevel(o.getReadOnlyMetricsFor(k))>u)return d;var v=q[k][t.index];if(null===v||null===t.firstByteDate||r.hasOwnProperty(v.id))return d;if(void 0===v.firstByteTime&&(s[k]=[],v.firstByteTime=t.firstByteDate.getTime(),v.segmentDuration=t.duration,v.bytesTotal=t.bytesTotal,v.id=t.index),v.bytesLoaded=t.bytesLoaded,v.elapsedTime=(new Date).getTime()-v.firstByteTime,v.bytesLoaded>0&&v.elapsedTime>0&&c(k,Math.round(8*v.bytesLoaded/v.elapsedTime)),s[k].length>=j&&v.elapsedTime>i&&v.bytesLoaded<v.bytesTotal){var w=s[k].reduce(function(a,b){return a+b},0);if(v.measuredBandwidthInKbps=Math.round(w/s[k].length),v.estimatedTimeOfDownload=+(8*v.bytesTotal/v.measuredBandwidthInKbps/1e3).toFixed(2),v.estimatedTimeOfDownload<v.segmentDuration*h||0===a.getRepresentationInfo().quality)return d;if(!r.hasOwnProperty(v.id)){var x=a.getAbrController(),y=v.bytesTotal-v.bytesLoaded,z=x.getBitrateList(f),A=x.getQualityForBitrate(f,v.measuredBandwidthInKbps*n.getBandwidthSafetyFactor());y>v.bytesTotal*z[A].bitrate/z[x.getQualityFor(k,f.streamInfo)].bitrate&&(d.quality=A,d.reason.throughput=v.measuredBandwidthInKbps,d.reason.fragmentID=v.id,r[v.id]=v,m("AbandonRequestsRule ( ",k,"frag id",v.id,") is asking to abandon and switch to quality to ",A," measured bandwidth was",v.measuredBandwidthInKbps),delete q[k][v.id])}}else v.bytesLoaded===v.bytesTotal&&delete q[k][v.id]}return d}function f(){q={},r={},s=[]}a=a||{};var h=1.8,i=500,j=5,l=this.context,m=(0,k.default)(l).getInstance().log,n=a.mediaPlayerModel,o=a.metricsModel,p=a.dashMetrics,q=void 0,r=void 0,s=void 0,t={shouldAbandon:d,reset:f};return function(){f()}(),t}Object.defineProperty(c,"__esModule",{value:!0});var f=a(174),g=d(f),h=a(48),i=d(h),j=a(46),k=d(j);e.__dashjs_factory_name="AbandonRequestsRule",c.default=i.default.getClassFactory(e),b.exports=c.default},{174:174,46:46,48:48}],179:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){return a.map(function(a){return Math.log(a)})}function c(a,b,c){var d=c.reduce(function(a,b,d){return b>c[a]?d:a},0);if(0===d)return null;var e=Math.max(a,v+w*b.length),f=(c[d]-1)/(e/v-1);return{gp:f,Vp:v/f}}function d(a){var d={},f=a.getMediaInfo(),g=f.bitrateList.map(function(a){return a.bandwidth}),h=b(g);h=h.map(function(a){return a-h[0]+1});var i=M.getStableBufferTime(),j=c(i,g,h);return j?(d.state=t,d.bitrates=g,d.utilities=h,d.stableBufferTime=i,d.Vp=j.Vp,d.gp=j.gp,d.lastQuality=0,e(d)):d.state=s,d}function e(a){a.placeholderBuffer=0,a.mostAdvancedSegmentStart=NaN,a.lastSegmentWasReplacement=!1,a.lastSegmentStart=NaN,a.lastSegmentDurationS=NaN,a.lastSegmentRequestTimeMs=NaN,a.lastSegmentFinishTimeMs=NaN}function f(a,b){var d=M.getStableBufferTime();if(a.stableBufferTime!==d){var e=c(d,a.bitrates,a.utilities);if(e.Vp!==a.Vp||e.gp!==a.gp){var f=K.getCurrentBufferLevel(L.getReadOnlyMetricsFor(b)),g=f+a.placeholderBuffer;g-=v,g*=e.Vp/a.Vp,g+=v,a.stableBufferTime=d,a.Vp=e.Vp,a.gp=e.gp,a.placeholderBuffer=Math.max(0,g-f)}}}function h(a){var b=a.getMediaType(),c=P[b];return c?c.state!==s&&f(c,b):(c=d(a),P[b]=c),c}function j(a,b){for(var c=a.bitrates.length,d=NaN,e=NaN,f=0;f<c;++f){var g=(a.Vp*(a.utilities[f]+a.gp)-b)/a.bitrates[f];(isNaN(e)||g>=e)&&(e=g,d=f)}return d}function k(a,b){return a.Vp*(a.utilities[b]+a.gp)}function m(a,b){for(var c=a.bitrates[b],d=a.utilities[b],e=0,f=b-1;f>=0;--f)if(a.utilities[f]<a.utilities[b]){var g=a.bitrates[f],h=a.utilities[f],i=a.Vp*(a.gp+(c*h-g*d)/(c-g));e=Math.max(e,i)}return e}function o(a,b){var c=Date.now();if(isNaN(a.lastSegmentFinishTimeMs)){if(!isNaN(a.lastCallTimeMs)){var d=.001*(c-a.lastCallTimeMs);a.placeholderBuffer+=Math.max(0,d)}}else{var d=.001*(c-a.lastSegmentFinishTimeMs);a.placeholderBuffer+=Math.max(0,d)}a.lastCallTimeMs=c,a.lastSegmentStart=NaN,a.lastSegmentRequestTimeMs=NaN,a.lastSegmentFinishTimeMs=NaN,f(a,b)}function q(){for(var a in P)P.hasOwnProperty(a)&&P[a].state===u&&(P[a].placeholderBuffer=0)}function y(){for(var a in P)if(P.hasOwnProperty(a)){var b=P[a];b.state!==s&&(b.state=t,e(b))}}function z(){}function A(a){if(a&&a.chunk&&a.chunk.mediaInfo){var b=P[a.chunk.mediaInfo.type];if(b&&b.state!==s){var c=a.chunk.start;isNaN(b.mostAdvancedSegmentStart)||c>b.mostAdvancedSegmentStart?(b.mostAdvancedSegmentStart=c,b.lastSegmentWasReplacement=!1):b.lastSegmentWasReplacement=!0,b.lastSegmentStart=c,b.lastSegmentDurationS=a.chunk.duration,b.lastQuality=a.chunk.quality,C(b,a.chunk.mediaInfo.type)}}}function B(a){if(a&&a.metric===g.default.HTTP_REQUEST&&a.value&&a.value.type===l.HTTPRequest.MEDIA_SEGMENT_TYPE&&a.value.trace&&a.value.trace.length){var b=P[a.mediaType];b&&b.state!==s&&(b.lastSegmentRequestTimeMs=a.value.trequest.getTime(),b.lastSegmentFinishTimeMs=a.value._tfinish.getTime(),C(b,a.mediaType))}}function C(a,b){if(!isNaN(a.lastSegmentStart)&&!isNaN(a.lastSegmentRequestTimeMs)&&!isNaN(a.placeholderBuffer)){if(a.placeholderBuffer*=x,!isNaN(a.lastSegmentFinishTimeMs)){var c=K.getCurrentBufferLevel(L.getReadOnlyMetricsFor(b)),d=c+.001*(a.lastSegmentFinishTimeMs-a.lastSegmentRequestTimeMs),e=k(a,a.lastQuality),f=Math.max(0,e-d);a.placeholderBuffer=Math.min(f,a.placeholderBuffer)}a.lastSegmentWasReplacement&&!isNaN(a.lastSegmentDurationS)&&(a.placeholderBuffer+=a.lastSegmentDurationS),a.lastSegmentStart=NaN,a.lastSegmentRequestTimeMs=NaN}}function D(a){if(a){var b=P[a.mediaType];b&&b.state!==s&&(b.abrQuality=a.newQuality)}}function E(a){if(a){var b=P[a.mediaType];if(b&&b.state!==s){var c=K.getCurrentBufferLevel(L.getReadOnlyMetricsFor(a.mediaType)),d=void 0;d=b.abrQuality>0?m(b,b.abrQuality):v;var e=Math.max(0,d-c);b.placeholderBuffer=Math.min(b.placeholderBuffer,e)}}}function F(a){var b=a.getMediaInfo(),c=a.getMediaType(),d=L.getReadOnlyMetricsFor(c),f=a.getStreamProcessor(),g=a.getStreamInfo(),l=a.getAbrController(),n=l.getThroughputHistory(),p=g?g.id:null,q=g&&g.manifestInfo&&g.manifestInfo.isDynamic,r=a.useBufferOccupancyABR(),v=(0,i.default)(I).create();if(v.reason=v.reason||{},!r)return v;f.getScheduleController().setTimeToLoadDelay(0);var w=h(a);if(w.state===s)return v;var x=K.getCurrentBufferLevel(d),y=n.getAverageThroughput(c,q),z=n.getSafeAverageThroughput(c,q),A=n.getAverageLatency(c),B=void 0;if(v.reason.state=w.state,v.reason.throughput=y,v.reason.latency=A,isNaN(y))return v;switch(w.state){case t:B=l.getQualityForBitrate(b,z,A),v.quality=B,v.reason.throughput=z,w.placeholderBuffer=Math.max(0,m(w,B)-x),w.lastQuality=B,!isNaN(w.lastSegmentDurationS)&&x>=w.lastSegmentDurationS&&(w.state=u);break;case u:o(w,c),B=j(w,x+w.placeholderBuffer);var C=l.getQualityForBitrate(b,z,A);B>w.lastQuality&&B>C&&(B=Math.max(C,w.lastQuality));var D=Math.max(0,x+w.placeholderBuffer-k(w,B));D<=w.placeholderBuffer?(w.placeholderBuffer-=D,D=0):(D-=w.placeholderBuffer,w.placeholderBuffer=0,B<l.getTopQualityIndexFor(c,p)?f.getScheduleController().setTimeToLoadDelay(1e3*D):D=0),v.quality=B,v.reason.throughput=y,v.reason.latency=A,v.reason.bufferLevel=x,v.reason.placeholderBuffer=w.placeholderBuffer,v.reason.delay=D,w.lastQuality=B;break;default:J("BOLA ABR rule invoked in bad state."),v.quality=l.getQualityForBitrate(b,z,A),v.reason.state=w.state,v.reason.throughput=z,v.reason.latency=A,w.state=t,e(w)}return v}function G(){P={}}function H(){G(),N.off(p.default.BUFFER_EMPTY,q,O),N.off(p.default.PLAYBACK_SEEKING,y,O),N.off(p.default.PERIOD_SWITCH_STARTED,z,O),N.off(p.default.MEDIA_FRAGMENT_LOADED,A,O),N.off(p.default.METRIC_ADDED,B,O),N.off(p.default.QUALITY_CHANGE_REQUESTED,D,O),N.off(p.default.FRAGMENT_LOADING_ABANDONED,E,O)}a=a||{};var I=this.context,J=(0,r.default)(I).getInstance().log,K=a.dashMetrics,L=a.metricsModel,M=a.mediaPlayerModel,N=(0,n.default)(I).getInstance(),O=void 0,P=void 0;return O={getMaxIndex:F,reset:H},function(){G(),N.on(p.default.BUFFER_EMPTY,q,O),N.on(p.default.PLAYBACK_SEEKING,y,O),N.on(p.default.PERIOD_SWITCH_STARTED,z,O),N.on(p.default.MEDIA_FRAGMENT_LOADED,A,O),N.on(p.default.METRIC_ADDED,B,O),N.on(p.default.QUALITY_CHANGE_REQUESTED,D,O),N.on(p.default.FRAGMENT_LOADING_ABANDONED,E,O)}(),O}Object.defineProperty(c,"__esModule",{value:!0});var f=a(100),g=d(f),h=a(174),i=d(h),j=a(48),k=d(j),l=a(232),m=a(47),n=d(m),o=a(51),p=d(o),q=a(46),r=d(q),s=0,t=1,u=2,v=10,w=2,x=.99;e.__dashjs_factory_name="BolaRule",c.default=k.default.getClassFactory(e),b.exports=c.default},{100:100,174:174,232:232,46:46,47:47,48:48,51:51}],180:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var f=a.getDroppedFramesHistory();if(f){for(var g=f.getFrameHistory(),h=0,j=0,k=i.default.NO_CHANGE,l=1;l<g.length;l++)if(g[l]&&(h=g[l].droppedVideoFrames,(j=g[l].totalVideoFrames)>e&&h/j>d)){k=l-1,c("DroppedFramesRule, index: "+k+" Dropped Frames: "+h+" Total Frames: "+j);break}return(0,i.default)(b).create(k,{droppedFrames:h})}return(0,i.default)(b).create()}var b=this.context,c=(0,k.default)(b).getInstance().log,d=.15,e=375;return{getMaxIndex:a}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(174),i=d(h),j=a(46),k=d(j);e.__dashjs_factory_name="DroppedFramesRule",c.default=g.default.getClassFactory(e),b.exports=c.default},{174:174,46:46,48:48}],181:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){if(!(p&&p.hasOwnProperty("getReadOnlyMetricsFor")&&r&&r.hasOwnProperty("getCurrentBufferLevel")))throw new Error("Missing config parameter(s)")}function c(a){var c=(0,q.default)(l).create();if(!a||!a.hasOwnProperty("getMediaType"))return c;b();var e=a.getMediaType(),f=p.getReadOnlyMetricsFor(e),h=f.BufferState.length>0?f.BufferState[f.BufferState.length-1]:null,i=a.getRepresentationInfo(),k=i.fragmentDuration;if(!h||!d(e,h)||!k)return c;if(h.state===g.default.BUFFER_EMPTY)m("Switch to index 0; buffer is empty."),c.quality=0,c.reason="InsufficientBufferRule: Buffer is empty";else{var n=a.getMediaInfo(),o=a.getAbrController(),s=o.getThroughputHistory(),t=r.getCurrentBufferLevel(f),u=s.getAverageThroughput(e),v=s.getAverageLatency(e),w=u*(t/k)*j;c.quality=o.getQualityForBitrate(n,w,v),c.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return c}function d(a,b){t[a]=t[a]||{};var c=!1;return t[a].firstBufferLoadedEvent?c=!0:b&&b.state===g.default.BUFFER_LOADED&&(t[a].firstBufferLoadedEvent=!0,c=!0),c}function e(){t={}}function f(){e()}function h(){e(),n.off(k.default.PLAYBACK_SEEKING,f,s)}a=a||{};var j=.5,l=this.context,m=(0,o.default)(l).getInstance().log,n=(0,i.default)(l).getInstance(),p=a.metricsModel,r=a.dashMetrics,s=void 0,t=void 0;return s={getMaxIndex:c,reset:h},function(){e(),n.on(k.default.PLAYBACK_SEEKING,f,s)}(),s}Object.defineProperty(c,"__esModule",{value:!0});var f=a(105),g=d(f),h=a(47),i=d(h),j=a(51),k=d(j),l=a(48),m=d(l),n=a(46),o=d(n),p=a(174),q=d(p);e.__dashjs_factory_name="InsufficientBufferRule",c.default=m.default.getClassFactory(e),b.exports=c.default},{105:105,174:174,46:46,47:47,48:48,51:51}],182:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){for(var f=a?a.getSwitchHistory():null,g=f?f.getSwitchRequests():[],h=0,i=0,j=0,l=(0,k.default)(b).create(),m=0;m<g.length;m++)if(void 0!==g[m]&&(h+=g[m].drops,i+=g[m].noDrops,j+=g[m].dropSize,h+i>=e&&h/i>d)){l.quality=m>0&&g[m].drops>0?m-1:m,l.reason={index:l.quality,drops:h,noDrops:i,dropSize:j},c("Switch history rule index: "+l.quality+" samples: "+(h+i)+" drops: "+h);break}return l}var b=this.context,c=(0,i.default)(b).getInstance().log,d=.075,e=6;return{getMaxIndex:a}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(46),i=d(h),j=a(174),k=d(j);e.__dashjs_factory_name="SwitchHistoryRule",c.default=g.default.getClassFactory(e),b.exports=c.default},{174:174,46:46,48:48}],183:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){if(!h||!h.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error("Missing config parameter(s)")}function c(a){var c=(0,o.default)(e).create();if(!(a&&a.hasOwnProperty("getMediaInfo")&&a.hasOwnProperty("getMediaType")&&a.hasOwnProperty("useBufferOccupancyABR")&&a.hasOwnProperty("getAbrController")&&a.hasOwnProperty("getStreamProcessor")))return c;b()
;var d=a.getMediaInfo(),j=a.getMediaType(),k=h.getReadOnlyMetricsFor(j),l=a.getStreamProcessor(),m=a.getAbrController(),n=a.getStreamInfo(),p=n&&n.manifestInfo?n.manifestInfo.isDynamic:null,q=m.getThroughputHistory(),r=q.getSafeAverageThroughput(j,p),s=q.getAverageLatency(j),t=k.BufferState.length>0?k.BufferState[k.BufferState.length-1]:null,u=a.useBufferOccupancyABR();return!k||isNaN(r)||!t||u?c:(m.getAbandonmentStateFor(j)!==i.default.ABANDON_LOAD&&(t.state===g.default.BUFFER_LOADED||p)&&(c.quality=m.getQualityForBitrate(d,r,s),l.getScheduleController().setTimeToLoadDelay(0),f("ThroughputRule requesting switch to index: ",c.quality,"type: ",j,"Average throughput",Math.round(r),"kbps"),c.reason={throughput:r,latency:s}),c)}function d(){}a=a||{};var e=this.context,f=(0,m.default)(e).getInstance().log,h=a.metricsModel;return{getMaxIndex:c,reset:d}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(105),g=d(f),h=a(102),i=d(h),j=a(48),k=d(j),l=a(46),m=d(l),n=a(174),o=d(n);e.__dashjs_factory_name="ThroughputRule",c.default=k.default.getClassFactory(e),b.exports=c.default},{102:102,105:105,174:174,46:46,48:48}],184:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b,f){return d.getCurrentBufferLevel(e.getReadOnlyMetricsFor(b))<c(a,b,f)}function c(a,b,c){var j=NaN,k=a.getCurrentRepresentationInfo();if(b===g.default.FRAGMENTED_TEXT)j=h.getAllTracksAreDisabled()?0:k.fragmentDuration;else if(b===g.default.AUDIO&&c){var l=d.getCurrentBufferLevel(e.getReadOnlyMetricsFor(g.default.VIDEO));j=isNaN(k.fragmentDuration)?l:Math.max(l,k.fragmentDuration)}else{var m=k.mediaInfo.streamInfo;if(i.isPlayingAtTopQuality(m)){var n=m.manifestInfo.duration>=f.getLongFormContentDurationThreshold();j=n?f.getBufferTimeAtTopQualityLongForm():f.getBufferTimeAtTopQuality()}else j=f.getStableBufferTime()}return j}a=a||{};var d=a.dashMetrics,e=a.metricsModel,f=a.mediaPlayerModel,h=a.textController,i=a.abrController;return{execute:b,getBufferTarget:c}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(48),i=d(h);e.__dashjs_factory_name="BufferLevelRule",c.default=i.default.getClassFactory(e),b.exports=c.default},{48:48,99:99}],185:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c=a.getCurrentRepresentationInfo(),h=c.mediaInfo,i=h.type,j=a.getScheduleController(),k=j.getSeekTarget(),l=!isNaN(k),n=a.getBufferController(),o=l?k:e.getIndexHandlerTime(a);if(isNaN(o)||i===g.default.FRAGMENTED_TEXT&&f.getAllTracksAreDisabled())return null;if(l&&j.setSeekTarget(NaN),n){var p=n.getRangeAt(o);null===p||l||(d("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",i,".",o,"was changed to",p.end),o=p.end)}var q=void 0;if(b)o=b.startTime+b.duration/2,q=e.getFragmentRequestForTime(a,c,o,{timeThreshold:0,ignoreIsFinished:!0});else{for(q=e.getFragmentRequestForTime(a,c,o,{keepIdx:!l});q&&q.action!==m.default.ACTION_COMPLETE&&a.getFragmentModel().isFragmentLoaded(q);)q=e.getNextFragmentRequest(a,c);q&&(isNaN(q.startTime+q.duration)||e.setIndexHandlerTime(a,q.startTime+q.duration),q.delayLoadingTime=(new Date).getTime()+j.getTimeToLoadDelay(),j.setTimeToLoadDelay(0))}return q}a=a||{};var c=this.context,d=(0,i.default)(c).getInstance().log,e=a.adapter,f=a.textController;return{execute:b}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(46),i=d(h),j=a(48),k=d(j),l=a(214),m=d(l);e.__dashjs_factory_name="NextFragmentRequestRule",c.default=k.default.getClassFactory(e),b.exports=c.default},{214:214,46:46,48:48,99:99}],186:[function(a,b,c){"use strict";function d(){function a(a){for(var b="",c=0;c<a.length;++c)b+=a[c].uchar;return b.length-b.replace(/^\s+/,"").length}function b(a){return"left: "+3.125*a.x+"%; top: "+6.66*a.y1+"%; width: "+(100-3.125*a.x)+"%; height: "+6.66*Math.max(a.y2-1-a.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function c(a){return"red"===a?"rgb(255, 0, 0)":"green"===a?"rgb(0, 255, 0)":"blue"===a?"rgb(0, 0, 255)":"cyan"===a?"rgb(0, 255, 255)":"magenta"===a?"rgb(255, 0, 255)":"yellow"===a?"rgb(255, 255, 0)":"white"===a?"rgb(255, 255, 255)":"black"===a?"rgb(0, 0, 0)":a}function d(a,b){var d=a.videoHeight/15;return b?"font-size: "+d+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(b.foreground?c(b.foreground):"rgb(255, 255, 255)")+"; font-style: "+(b.italics?"italic":"normal")+"; text-decoration: "+(b.underline?"underline":"none")+"; white-space: pre; background-color: "+(b.background?c(b.background):"transparent")+";":"font-size: "+d+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function e(a){return a.replace(/^\s+/g,"")}function f(a){return a.replace(/\s+$/g,"")}function g(c,g,i,j){var k=null,l=null,m=!1,n=-1,o={start:g,end:i,spans:[]},p="style_cea608_white_black",q={},r={},s=[],t=void 0,u=void 0;for(t=0;t<15;++t){var v=j.rows[t],w="",x=null;if(!1===v.isEmpty()){var y=a(v.chars);null===k&&(k={x:y,y1:t,y2:t+1,p:[]}),y!==n&&m&&(k.p.push(o),o={start:g,end:i,spans:[]},k.y2=t,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===q.hasOwnProperty(k.name)?(s.push(k),q[k.name]=k):(l=q[k.name],l.p.contat(k.p)),k={x:y,y1:t,y2:t+1,p:[]});for(var z=0;z<v.chars.length;++z){var A=v.chars[z],B=A.penState;if(null===x||!B.equals(x)){w.trim().length>0&&(o.spans.push({name:p,line:w,row:t}),w="");var C="style_cea608_"+B.foreground+"_"+B.background;B.underline&&(C+="_underline"),B.italics&&(C+="_italics"),r.hasOwnProperty(C)||(r[C]=JSON.parse(JSON.stringify(B))),x=B,p=C}w+=A.uchar}w.trim().length>0&&o.spans.push({name:p,line:w,row:t}),m=!0,n=y}else m=!1,n=-1,k&&(k.p.push(o),o={start:g,end:i,spans:[]},k.y2=t,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===q.hasOwnProperty(k.name)?(s.push(k),q[k.name]=k):(l=q[k.name],l.p.contat(k.p)),k=null)}k&&(k.p.push(o),k.y2=t+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===q.hasOwnProperty(k.name)?(s.push(k),q[k.name]=k):(l=q[k.name],l.p.contat(k.p)),k=null);var D=[];for(t=0;t<s.length;++t){var E=s[t],F="sub_cea608_"+h++,G=document.createElement("div");G.id=F;var H=b(E);G.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+H;var I=document.createElement("div");I.className="paragraph bodyStyle",I.style.cssText=d(c);var J=document.createElement("div");J.className="cueUniWrapper",J.style.cssText="unicode-bidi: normal; direction: ltr;";for(var K=0;K<E.p.length;++K){var L=E.p[K],M=0;for(u=0;u<L.spans.length;++u){var N=L.spans[u];if(N.line.length>0){if(0!==u&&M!=N.row){var O=document.createElement("br");O.className="lineBreak",J.appendChild(O)}var P=!1;M===N.row&&(P=!0),M=N.row;var Q=r[N.name],R=document.createElement("span");R.className="spanPadding "+N.name+" customSpanColor",R.style.cssText=d(c,Q),0!==u&&P?u===L.spans.length-1?R.textContent=f(N.line):R.textContent=N.line:L.spans.length>1&&u<L.spans.length-1&&N.row===L.spans[u+1].row?R.textContent=e(N.line):R.textContent=N.line.trim(),J.appendChild(R)}}}I.appendChild(J),G.appendChild(I);var S={bodyStyle:["%",90]};for(u in r)r.hasOwnProperty(u)&&(S[u]=["%",90]);D.push({type:"html",start:g,end:i,cueHTMLElement:G,cueID:F,cellResolution:[32,15],isFromCEA608:!0,regions:s,regionID:E.name,videoHeight:c.videoHeight,videoWidth:c.videoWidth,fontSize:S,lineHeight:{},linePadding:{}})}return D}var h=0;return{createHTMLCaptionsFromScreen:g}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="EmbeddedTextHtmlRender",c.default=f.default.getSingletonFactory(d),b.exports=c.default},{48:48}],187:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){return t}function c(a){h(a),L=F.getRepresentationController(),M=(0,o.default)(A).getInstance()}function d(a){try{if(K=(0,q.default)(A).create(J,a),!I){var b=K.getBuffer();b.hasOwnProperty(g.default.INITIALIZE)&&b.initialize(E,F),I=!0}}catch(b){if(a.isText||-1!==a.codec.indexOf('codecs="stpp')||-1!==a.codec.indexOf('codecs="wvtt'))try{K=C.getTextSourceBuffer()}catch(a){D.mediaSourceError("Error creating "+E+" source buffer.")}else D.mediaSourceError("Error creating "+E+" source buffer.")}}function e(){return E}function f(){return K}function h(a){J=a}function j(){return J}function l(){return F}function m(){return!1}function n(){}function p(){}function r(){return 0}function u(){return H}function v(a){B.off(k.default.DATA_UPDATE_COMPLETED,w,G),B.off(k.default.INIT_FRAGMENT_LOADED,x,G),!a&&K&&(K.abort(),K.reset(),K=null)}function w(a){a.sender.getStreamProcessor()===F&&B.trigger(k.default.TIMED_TEXT_REQUESTED,{index:0,sender:a.sender})}function x(a){a.fragmentModel===F.getFragmentModel()&&a.chunk.bytes&&(M.save(a.chunk),K.append(a.chunk))}function y(a,b){var c=M.extract(a,b);c?K.append(c):B.trigger(k.default.INIT_REQUESTED,{sender:G})}function z(){return null}a=a||{};var A=this.context,B=(0,i.default)(A).getInstance(),C=(0,s.default)(A).getInstance(),D=a.errHandler,E=a.type,F=a.streamProcessor,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0;return G={getBufferControllerType:b,initialize:c,createBuffer:d,getType:e,getStreamProcessor:l,setSeekStartTime:p,getBuffer:f,getBufferLevel:r,setMediaSource:h,getMediaSource:j,getIsBufferingCompleted:u,getIsPruningInProgress:m,dischargePreBuffer:n,switchInitData:y,getRangeAt:z,reset:v},function(){I=!1,J=null,L=null,H=!1,B.on(k.default.DATA_UPDATE_COMPLETED,w,G),B.on(k.default.INIT_FRAGMENT_LOADED,x,G)}(),G}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(47),i=d(h),j=a(51),k=d(j),l=a(48),m=d(l),n=a(201),o=d(n),p=a(95),q=d(p),r=a(189),s=d(r),t="NotFragmentedTextBufferController";e.__dashjs_factory_name=t,c.default=m.default.getClassFactory(e),b.exports=c.default},{189:189,201:201,47:47,48:48,51:51,95:95,99:99}],188:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){return w.getBufferControllerType()}function c(a,b){return w.initialize(a,b)}function d(a){return w.createBuffer(a)}function e(){return w.getType()}function f(){return w.getBuffer()}function h(a){w.setBuffer(a)}function i(){return w.getMediaSource()}function j(a){w.setMediaSource(a)}function l(){w.getStreamProcessor()}function n(a){w.setSeekStartTime(a)}function o(){return w.getBufferLevel()}function p(a){w.reset(a)}function q(){return w.getIsBufferingCompleted()}function r(a,b){w.switchInitData(a,b)}function s(){return w.getIsPruningInProgress()}function t(){return w.dischargePreBuffer()}function u(a){return w.getRangeAt(a)}a=a||{};var v=this.context,w=void 0,x=void 0;return x={getBufferControllerType:b,initialize:c,createBuffer:d,getType:e,getStreamProcessor:l,setSeekStartTime:n,getBuffer:f,setBuffer:h,getBufferLevel:o,setMediaSource:j,getMediaSource:i,getIsBufferingCompleted:q,getIsPruningInProgress:s,dischargePreBuffer:t,switchInitData:r,getRangeAt:u,reset:p},function(){w=a.type===g.default.FRAGMENTED_TEXT?(0,k.default)(v).create({type:a.type,metricsModel:a.metricsModel,mediaPlayerModel:a.mediaPlayerModel,manifestModel:a.manifestModel,errHandler:a.errHandler,streamController:a.streamController,mediaController:a.mediaController,adapter:a.adapter,textController:a.textController,abrController:a.abrController,playbackController:a.playbackController,streamProcessor:a.streamProcessor}):(0,m.default)(v).create({type:a.type,errHandler:a.errHandler,streamProcessor:a.streamProcessor})}(),x}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(48),i=d(h),j=a(105),k=d(j),l=a(187),m=d(l);e.__dashjs_factory_name="TextBufferController",c.default=i.default.getClassFactory(e),b.exports=c.default},{105:105,187:187,48:48,99:99}],189:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&(a.errHandler&&(z=a.errHandler),a.dashManifestModel&&(A=a.dashManifestModel),a.manifestModel&&(B=a.manifestModel),a.mediaController&&(C=a.mediaController),a.videoModel&&(D=a.videoModel),a.streamController&&(E=a.streamController),a.textTracks&&(F=a.textTracks),a.vttParser&&(G=a.vttParser),a.ttmlParser&&(H=a.ttmlParser),y.setConfig({errHandler:z,dashManifestModel:A,manifestModel:B,mediaController:C,videoModel:D,streamController:E,textTracks:F,vttParser:G,ttmlParser:H}))}function b(){return y}function c(){return M}function d(a){y.addEmbeddedTrack(a)}function e(a){"string"==typeof a&&(J=a)}function f(){return J}function h(a){var b=this,c=a.tracks,d=a.index;c.some(function(a,c){if(a.lang===J)return b.setTextTrack(c),d=c,!0}),L||this.setTextTrack(-1),K=d,I.trigger(u.default.TEXT_TRACKS_ADDED,{enabled:!M,index:d,tracks:c})}function i(a){"boolean"==typeof a&&(L=a)}function j(){return L}function l(a){"boolean"==typeof a&&!M!==a&&(a&&this.setTextTrack(K),a||(K=this.getCurrentTrackIdx(),this.setTextTrack(-1)))}function n(){return!M}function p(a){var b=y.getConfig(),c=b.fragmentModel,d=b.fragmentedTracks,e=F.getCurrentTrackIdx();if(e!==a){F.setModeForTrackIdx(e,g.default.TEXT_HIDDEN),F.setCurrentTrackIdx(a),F.setModeForTrackIdx(a,g.default.TEXT_SHOWING);var f=F.getCurrentTrackInfo();if(f&&f.isFragmented&&!f.isEmbedded)for(var h=0;h<d.length;h++){var i=d[h];if(f.lang===i.lang&&f.index===i.index&&(!f.label||f.label===i.id)){var j=C.getCurrentTrackFor(g.default.FRAGMENTED_TEXT,E.getActiveStreamInfo());i!==j&&(c.abortRequests(),c.removeExecutedRequestsBeforeTime(),y.remove(),F.deleteCuesFromTrackIdx(e),C.setTrack(i),y.setCurrentFragmentedTrackIdx(h))}}}M=-1===a}function r(){return F.getCurrentTrackIdx()}function t(){M=!1}function v(){t(),y.resetEmbedded()}var w=this.context,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0;return x={setConfig:a,getTextSourceBuffer:b,getAllTracksAreDisabled:c,addEmbeddedTrack:d,getTextDefaultLanguage:f,setTextDefaultLanguage:e,setTextDefaultEnabled:i,getTextDefaultEnabled:j,enableText:l,isTextEnabled:n,setTextTrack:p,getCurrentTrackIdx:r,reset:v},function(){J="",K=-1,L=!0,F=(0,m.default)(w).getInstance(),G=(0,o.default)(w).getInstance(),H=(0,q.default)(w).getInstance(),y=(0,k.default)(w).getInstance(),I=(0,s.default)(w).getInstance(),F.initialize(),I.on(u.default.TEXT_TRACKS_QUEUE_INITIALIZED,h,x),t()}(),x}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(48),i=d(h),j=a(190),k=d(j),l=a(191),m=d(l),n=a(208),o=d(n),p=a(206),q=d(p),r=a(47),s=d(r),t=a(51),u=d(t);e.__dashjs_factory_name="TextController",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{190:190,191:191,206:206,208:208,47:47,48:48,51:51,99:99}],190:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){if(K=null,R=null,S=!1,T=NaN,U=[],X=null,C||d(),O=b.getMediaInfoArr(),P.setConfig({videoModel:V}),P.initialize(),Q=!H.getIsTextTrack(a),E=(0,n.default)(w).getInstance(),N=(0,l.default)(w).getInstance(),N.setConfig({boxParser:E}),Q){R=b.getFragmentModel(),this.buffered=(0,p.default)(w).create(),U=J.getTracksFor(g.default.FRAGMENTED_TEXT,W.getActiveStreamInfo());for(var c=J.getCurrentTrackFor(g.default.FRAGMENTED_TEXT,W.getActiveStreamInfo()),e=0;e<U.length;e++)if(U[e]===c){Y=e;break}}}function b(){P.deleteAllTextTracks(),K=null,N=null,O=null,P=null,Q=!1,R=null,S=!1,T=NaN,U=[],V=null,W=null,C=!1,Z=null}function c(a){var b=a.chunk;b.mediaInfo.embeddedCaptions&&o(b.bytes,b)}function d(){Z=[],O=[],P=(0,v.default)(w).getInstance(),P.setConfig({videoModel:V}),P.initialize(),E=(0,n.default)(w).getInstance(),N=(0,l.default)(w).getInstance(),N.setConfig({boxParser:E}),Q=!1,Y=null,$=!1,_=0,ca=[],ba=[],aa=null,C=!0,da=(0,x.default)(w).getInstance();var a=W.getActiveStreamProcessors();for(var b in a)if("video"===a[b].getType()){ea=a[b].getCurrentRepresentationInfo().MSETimeOffset;break}A.on(F.default.VIDEO_CHUNK_RECEIVED,c,this)}function e(){A.off(F.default.VIDEO_CHUNK_RECEIVED,c,this),P&&P.deleteAllTextTracks(),C=!1,Z=[],ca=[null,null],ba=[],aa=null}function f(a){C||d(),a.id===g.default.CC1||a.id===g.default.CC3?Z.push(a):y("Warning: Embedded track "+a.id+" not supported!")}function i(a){a&&(a.errHandler&&(G=a.errHandler),a.dashManifestModel&&(H=a.dashManifestModel),a.manifestModel&&(I=a.manifestModel),a.mediaController&&(J=a.mediaController),a.videoModel&&(V=a.videoModel),a.streamController&&(W=a.streamController),a.textTracks&&(P=a.textTracks),a.vttParser&&(L=a.vttParser),a.ttmlParser&&(M=a.ttmlParser))}function k(){return{errHandler:G,dashManifestModel:H,mediaController:J,videoModel:V,fragmentModel:R,streamController:W,textTracks:P,isFragmented:Q,embeddedTracks:Z,fragmentedTracks:U}}function m(a){Y=a}function o(a,b){function c(a,b){var c=new j.default,d={subtitle:"subtitles",caption:"captions"};c.captionData=a,c.lang=b.lang,c.label=b.id,c.index=b.index,c.isTTML=function(){var a=!1;return b.codec&&b.codec.search(g.default.STPP)>=0&&(a=!0),b.mimeType&&b.mimeType.search(g.default.TTML)>=0&&(a=!0),a}(),c.defaultTrack=r(b),c.isFragmented=Q,c.isEmbedded=!!b.isEmbedded,c.kind=function(){var a=b.roles.length>0?d[b.roles[0]]:d.caption;return a=a===d.caption||a===d.subtitle?a:d.caption}(),c.roles=b.roles;var e=(O?O.length:0)+Z.length;P.addTextTrack(c,e)}var d=void 0,e=void 0,f=void 0,i=void 0,k=void 0,l=void 0,m=void 0,n=b.mediaInfo,o=n.type,p=n.mimeType,t=n.codec||p;if(!t)return void y("No text type defined");if(o===g.default.FRAGMENTED_TEXT)if(S)if(l=N.getSamplesInfo(a),e=l.sampleList,!X&&e.length>0&&(X=e[0].cts-b.start*T),t.search(g.default.STPP)>=0)for(K=null!==K?K:s(t),f=0;f<e.length;f++){var u=e[f],v=u.cts,w=v-X;this.buffered.add(w/T,(w+u.duration)/T);var x=new DataView(a,u.offset,u.subSizes[0]);m=z.default.Utils.dataViewToString(x,g.default.UTF8);var A=[],C=u.offset+u.subSizes[0];for(i=1;i<u.subSizes.length;i++){var D=new Uint8Array(a,C,u.subSizes[i]),E=String.fromCharCode.apply(null,D);A.push(E),C+=u.subSizes[i]}try{var F=I.getValue(),H=F.ttmlTimeIsRelative?v/T:0;d=K.parse(m,H,v/T,(v+u.duration)/T,A),P.addCaptions(Y,X/T,d)}catch(a){R.removeExecutedRequestsBeforeTime(),this.remove(),y("TTML parser error: "+a.message)}}else{var J=[];for(f=0;f<e.length;f++){var u=e[f];u.cts-=X,this.buffered.add(u.cts/T,(u.cts+u.duration)/T);var L=a.slice(u.offset,u.offset+u.size),M=z.default.parseBuffer(L);for(i=0;i<M.boxes.length;i++){var U=M.boxes[i];if(y("VTT box1: "+U.type),"vtte"!==U.type&&"vttc"===U.type)for(y("VTT vttc boxes.length = "+U.boxes.length),k=0;k<U.boxes.length;k++){var W=U.boxes[k];if(y("VTT box2: "+W.type),"payl"===W.type){var $=W.cue_text;y("VTT cue_text = "+$);var ea=u.cts/T,fa=(u.cts+u.duration)/T;J.push({start:ea,end:fa,data:$,styles:{}}),y("VTT "+ea+"-"+fa+" : "+$)}}}}J.length>0&&P.addCaptions(Y,0,J)}else{for(S=!0,f=0;f<O.length;f++)c(null,O[f]);T=N.getMediaTimescaleFromMoov(a)}else if(o===g.default.TEXT){var x=new DataView(a,0,a.byteLength);m=z.default.Utils.dataViewToString(x,g.default.UTF8);try{d=s(t).parse(m,0),c(d,n)}catch(a){G.timedTextError(a,"parse",m)}}else if(o===g.default.VIDEO)if(b.segmentType===h.HTTPRequest.INIT_SEGMENT_TYPE){if(0===_)for(_=N.getMediaTimescaleFromMoov(a),f=0;f<Z.length;f++)c(null,Z[f])}else{if(0===_)return void y("CEA-608: No timescale for embeddedTextTrack yet");l=N.getSamplesInfo(a);var ga=l.lastSequenceNumber;if(!ca[0]&&!ca[1]){var ha=void 0,ia=void 0;for(f=0;f<Z.length;f++){if(Z[f].id===g.default.CC1?ia=P.getTrackIdxForId(g.default.CC1):Z[f].id===g.default.CC3&&(ia=P.getTrackIdxForId(g.default.CC3)),-1===ia)return void y("CEA-608: data before track is ready.");ha=function(a,b){function c(a,c,d){var e=null;(e=V.getTTMLRenderingDiv()?da.createHTMLCaptionsFromScreen(V.getElement(),a,c,d):[{start:a,end:c,data:d.getDisplayText(),styles:{}}])&&P.addCaptions(b,0,e)}return c}(0,ia),ca[f]=new B.default.Cea608Parser(f,{newCue:ha},null)}}if(_&&-1==ba.indexOf(ga)){if(null!==aa&&ga!==aa+l.numSequences)for(f=0;f<ca.length;f++)ca[f]&&ca[f].reset();for(var ja=q(a,l.sampleList),ka=0;ka<ca.length;ka++){var la=ja.fields[ka],ma=ca[ka];if(ma)for(f=0;f<la.length;f++)ma.addData(la[f][0]/_,la[f][1])}aa=ga,ba.push(ga)}}}function q(a,b){if(0===b.length)return null;for(var c={splits:[],fields:[[],[]]},d=new DataView(a),e=0;e<b.length;e++)for(var f=b[e],g=B.default.findCea608Nalus(d,f.offset,f.size),h=null,i=0,j=0;j<g.length;j++)for(var k=B.default.extractCea608DataFromRange(d,g[j]),l=0;l<2;l++)k[l].length>0&&(f.cts!==h?i=0:i+=1,c.fields[l].push([f.cts+ea*_,k[l],i]),h=f.cts);return c.fields.forEach(function(a){a.sort(function(a,b){return a[0]===b[0]?a[2]-b[2]:a[0]-b[0]})}),c}function r(a){var b=!1;return Z.length>1&&a.isEmbedded?b=a.id&&a.id===g.default.CC1:1===Z.length?a.id&&"CC"===a.id.substring(0,2)&&(b=!0):0===Z.length&&(b=a.index===O[0].index),b}function s(a){var b=void 0;return a.search(g.default.VTT)>=0?b=L:(a.search(g.default.TTML)>=0||a.search(g.default.STPP)>=0)&&(b=M),b}function u(a,b){void 0===a&&a===b&&(a=this.buffered.start(0),b=this.buffered.end(this.buffered.length-1)),this.buffered.remove(a,b)}var w=this.context,y=(0,t.default)(w).getInstance().log,A=(0,D.default)(w).getInstance(),C=!1,E=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0;return{initialize:a,append:o,abort:b,addEmbeddedTrack:f,resetEmbedded:e,setConfig:i,getConfig:k,setCurrentFragmentedTrackIdx:m,remove:u}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(232),i=a(224),j=d(i),k=a(71),l=d(k),m=a(195),n=d(m),o=a(197),p=d(o),q=a(48),r=d(q),s=a(46),t=d(s),u=a(191),v=d(u),w=a(186),x=d(w),y=a(11),z=d(y),A=a(2),B=d(A),C=a(47),D=d(C),E=a(51),F=d(E);e.__dashjs_factory_name="TextSourceBuffer",c.default=r.default.getSingletonFactory(e),b.exports=c.default},{11:11,186:186,191:191,195:195,197:197,2:2,224:224,232:232,46:46,47:47,48:48,51:51,71:71,99:99}],191:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(G=window.VTTCue||window.TextTrackCue,I=[],J=[],K=-1,L=0,M=0,N=0,O=0,P=null,Q=null,T=!1,V=2147483647,U=null,R=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?S="fullscreenElement":void 0!==document.webkitIsFullScreen?S="webkitIsFullScreen":document.msFullscreenElement?S="msFullscreenElement":document.mozFullScreen&&(S="mozFullScreen"))}function b(a){var b=I[a].kind,c=void 0!==I[a].label?I[a].label:I[a].lang,d=I[a].lang,e=I[a].isTTML,f=I[a].isEmbedded,g=R?document.createElement("track"):H.addTextTrack(b,c,d);return R&&(g.kind=b,g.label=c,g.srclang=d),g.isEmbedded=f,g.isTTML=e,g}function c(a){T=a,P&&!document[S]&&(P.style.zIndex=a?V:null)}function d(a,c){if(I.length===c)return void F("Trying to add too many tracks.");if(I.push(a),I.length===c){I.sort(function(a,b){return a.index-b.index}),P=H.getTTMLRenderingDiv();for(var d=-1,e=0;e<I.length;e++){var f=b.call(this,e);J.push(f),I[e].defaultTrack&&(f.default=!0,d=e),R&&H.appendChild(f);var h=m(e);h&&(h.mode=g.default.TEXT_SHOWING,P&&(I[e].isTTML||I[e].isEmbedded)?h.renderingType="html":h.renderingType="default"),this.addCaptions(e,0,I[e].captionData),E.trigger(k.default.TEXT_TRACK_ADDED)}if(r.call(this,d),d>=0)for(var i=0;i<I.length;i++){var j=m(i);j&&(j.mode=i===d?g.default.TEXT_SHOWING:g.default.TEXT_HIDDEN)}E.trigger(k.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:K,tracks:I})}}function e(a,b,c,d,e,f){var g=a/b,h=c/d,i=0,j=0;g>h?(j=b,i=j/d*c):(i=a,j=i/c*d);var k=0,l=0,m=0,n=0;return i/j>e?(n=j,m=j*e):(m=i,n=i/e),k=(a-m)/2,l=(b-n)/2,f?{x:k+.1*m,y:l+.1*n,w:.8*m,h:.8*n}:{x:k,y:l,w:m,h:n}}function f(a,b){var c=H.getClientWidth(),d=H.getClientHeight(),f=H.getVideoWidth(),g=H.getVideoHeight(),h=H.getVideoRelativeOffsetTop(),i=H.getVideoRelativeOffsetLeft(),j=f/g,k=!1;a.isFromCEA608&&(j=3.5/3,k=!0);var l=e.call(this,c,d,f,g,j,k),m=l.w,n=l.h,o=l.x,p=l.y;if(m!=N||n!=O||o!=L||p!=M||b){L=o+i,M=p+h,N=m,O=n,P.style.left=L+"px",P.style.top=M+"px",P.style.width=N+"px",P.style.height=O+"px";for(var q=0;a.activeCues&&q<a.activeCues.length;++q){var r=a.activeCues[q];r.scaleCue(r)}S&&document[S]||T?P.style.zIndex=V:P.style.zIndex=null}}function h(a){var b=N,c=O,d=void 0,e=void 0,f=void 0,g=void 0,h=void 0;if(a.cellResolution){var i=[b/a.cellResolution[0],c/a.cellResolution[1]];if(a.linePadding)for(d in a.linePadding)if(a.linePadding.hasOwnProperty(d)){var k=a.linePadding[d];e=(k*i[0]).toString();for(var l=document.getElementsByClassName("spanPadding"),m=0;m<l.length;m++)l[m].style.cssText=l[m].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+e),l[m].style.cssText=l[m].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+e)}if(a.fontSize){for(d in a.fontSize)if(a.fontSize.hasOwnProperty(d)){"%"===a.fontSize[d][0]?f=a.fontSize[d][1]/100:"c"===a.fontSize[d][0]&&(f=a.fontSize[d][1]),e=(f*i[1]).toString(),h="defaultFontSize"!==d?document.getElementsByClassName(d):document.getElementsByClassName("paragraph");for(var n=0;n<h.length;n++)h[n].style.cssText=h[n].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+e)}if(a.lineHeight)for(d in a.lineHeight)if(a.lineHeight.hasOwnProperty(d)){"%"===a.lineHeight[d][0]?g=a.lineHeight[d][1]/100:"c"===a.fontSize[d][0]&&(g=a.lineHeight[d][1]),e=(g*i[1]).toString(),h=document.getElementsByClassName(d);for(var o=0;o<h.length;o++)h[o].style.cssText=h[o].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+e)}}}if(a.isd){var p=document.getElementById(a.cueID);p&&P.removeChild(p),j(a)}}function j(a){var b=document.createElement("div");P.appendChild(b),U=(0,p.renderHTML)(a.isd,b,function(b){var c=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,d=/^#(.*)$/;if(c.test(b)){var e=c.exec(b),f=parseInt(e[4],10)-1,g=btoa(a.images[f]),h="data:image/png;base64,"+g;return h}if(d.test(b)){var e=d.exec(b),f=e[1],h="data:image/png;base64,"+a.embeddedImages[f];return h}return null},P.clientHeight,P.clientWidth,!1,function(a){F("[TextTracks][renderCaption]",a)},U,!0),b.id=a.cueID}function l(a,b,c){var d=m(a),e=this;if(d&&c&&0!==c.length)for(var f=0;f<c.length;f++){var i=void 0,k=c[f];d.cellResolution=k.cellResolution,d.isFromCEA608=k.isFromCEA608,"html"===k.type?(i=new G(k.start-b,k.end-b,""),i.cueHTMLElement=k.cueHTMLElement,i.isd=k.isd,i.images=k.images,i.embeddedImages=k.embeddedImages,i.cueID=k.cueID,i.scaleCue=h.bind(e),i.cellResolution=k.cellResolution,i.lineHeight=k.lineHeight,i.linePadding=k.linePadding,i.fontSize=k.fontSize,P.style.left=L+"px",P.style.top=M+"px",P.style.width=N+"px",P.style.height=O+"px",i.onenter=function(){d.mode===g.default.TEXT_SHOWING&&(this.isd?(j(this),F("Cue enter id:"+this.cueID)):(P.appendChild(this.cueHTMLElement),h.call(e,this)))},i.onexit=function(){for(var a=P.childNodes,b=0;b<a.length;++b)a[b].id===this.cueID&&(F("Cue exit id:"+a[b].id),P.removeChild(a[b]))}):(i=new G(k.start-b,k.end-b,k.data),k.styles&&(void 0!==k.styles.align&&"align"in i&&(i.align=k.styles.align),void 0!==k.styles.line&&"line"in i&&(i.line=k.styles.line),void 0!==k.styles.position&&"position"in i&&(i.position=k.styles.position),void 0!==k.styles.size&&"size"in i&&(i.size=k.styles.size)));try{d.addCue(i)}catch(a){throw t(d),d.addCue(i),a}}}function m(a){return a>=0&&I[a]?H.getTextTrack(I[a].kind,I[a].label,I[a].lang,I[a].isTTML,I[a].isEmbedded):null}function n(){return K}function q(a){for(var b=-1,c=0;c<I.length;c++)if(I[c].label===a){b=c;break}return b}function r(a){if(a!==K){K=a;var b=m(K);s.call(this,b),Q&&(clearInterval(Q),Q=null),b&&"html"===b.renderingType&&(f.call(this,b,!0),Q=setInterval(f.bind(this,b),500))}}function s(a){z.call(this),a&&"html"===a.renderingType?x.call(this):y.call(this)}function t(a){if(a.cues)for(var b=a.cues,c=b.length-1,d=c;d>=0;d--)a.removeCue(b[d])}function u(a){var b=m(a);b&&t(b)}function v(){for(var a=J?J.length:0,b=0;b<a;b++)if(R)H.removeChild(J[b]);else{var c=m(b);c&&(t.call(this,c),c.mode="disabled")}J=[],I=[],Q&&(clearInterval(Q),Q=null),K=-1,z.call(this)}function w(a){H.removeChild(J[a]),J.splice(a,1)}function x(){if(R){var a=document.getElementById("native-cue-style");if(!a){a=document.createElement("style"),a.id="native-cue-style",document.head.appendChild(a);var b=a.sheet,c=H.getElement();c&&(c.id?b.insertRule("#"+c.id+"::cue {background: transparent}",0):0!==c.classList.length?b.insertRule("."+c.className+"::cue {background: transparent}",0):b.insertRule("video::cue {background: transparent}",0))}}}function y(){if(R){var a=document.getElementById("native-cue-style");a&&document.head.removeChild(a)}}function z(){if(P)for(;P.firstChild;)P.removeChild(P.firstChild)}function A(a){a&&a.videoModel&&(H=a.videoModel)}function B(a,b){var c=m(a);c&&c.mode!==b&&(c.mode=b)}function C(){return I[K]}var D=this.context,E=(0,i.default)(D).getInstance(),F=(0,o.default)(D).getInstance().log,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0;return{initialize:a,displayCConTop:c,addTextTrack:d,addCaptions:l,getCurrentTrackIdx:n,setCurrentTrackIdx:r,getTrackIdxForId:q,getCurrentTrackInfo:C,setModeForTrackIdx:B,deleteCuesFromTrackIdx:u,deleteAllTextTracks:v,deleteTextTrack:w,setConfig:A}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(47),i=d(h),j=a(51),k=d(j),l=a(48),m=d(l),n=a(46),o=d(n),p=a(19);e.__dashjs_factory_name="TextTracks",c.default=m.default.getSingletonFactory(e),b.exports=c.default},{19:19,46:46,47:47,48:48,51:51,99:99}],192:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b=l.getCurrentTrack();if(!b||b.segmentDuration<=0)return null;var d=Math.floor(a/b.segmentDuration),e=a%b.segmentDuration,f=Math.floor(e*b.tilesHor*b.tilesVert/b.segmentDuration),g=new k.default;return g.url=c(b,d),g.width=Math.floor(b.widthPerTile),g.height=Math.floor(b.heightPerTile),g.x=Math.floor(f%b.tilesHor)*b.widthPerTile,g.y=Math.floor(f/b.tilesHor)*b.heightPerTile,g}function c(a,b){var c=b+a.startNumber,d=(0,p.replaceTokenForTemplate)(a.templateUrl,"Number",c);return d=(0,p.replaceTokenForTemplate)(d,"Time",(c-1)*a.segmentDuration),d=(0,p.replaceTokenForTemplate)(d,"Bandwidth",a.bandwidth),(0,p.unescapeDollarsInTemplate)(d)}function d(a){l.setTrackByIndex(a)}function e(){return l.getCurrentTrackIndex()}function f(){var a=l.getTracks();if(!a||0===a.length)return[];var b=0;return a.map(function(a){var c=new o.default;return c.mediaType=i.default.IMAGE,c.qualityIndex=b++,c.bitrate=a.bitrate,c.width=a.width,c.height=a.height,c})}function g(){l&&l.reset()}var h=this.context,j=void 0,l=void 0;return j={get:b,setTrackByIndex:d,getCurrentTrackIndex:e,getBitrateList:f,reset:g},function(){g(),l=(0,m.default)(h).create({dashManifestModel:a.dashManifestModel,adapter:a.adapter,baseURLController:a.baseURLController,stream:a.stream})}(),j}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(99),i=d(h),j=a(225),k=d(j),l=a(193),m=d(l),n=a(211),o=d(n),p=a(75);e.__dashjs_factory_name="ThumbnailController",c.default=g.default.getClassFactory(e),b.exports=c.default},{193:193,211:211,225:225,48:48,75:75,99:99}],193:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){l(),c()}function c(){if(u&&r&&s){var a=u?u.getStreamInfo():null;if(a){var b=s.getMediaInfoForType(a,g.default.IMAGE);if(b){var c=s.getDataForMedia(b);if(c){var e=r.getRepresentationsForAdaptation(c);e&&e.length>0&&e.forEach(function(a){a.segmentInfoType===i.default.SEGMENT_TEMPLATE&&a.segmentDuration>0&&a.media&&d(a)}),
x.length>0&&(x.sort(function(a,b){return a.bitrate-b.bitrate}),y=x.length-1)}}}}}function d(a){var b=new m.default;b.id=a.id,b.bitrate=a.bandwidth,b.width=a.width,b.height=a.height,b.tilesHor=1,b.tilesVert=1,b.startNumber=a.startNumber,b.segmentDuration=a.segmentDuration,b.timescale=a.timescale,b.templateUrl=e(a),a.essentialProperties&&a.essentialProperties.forEach(function(a){if(a.schemeIdUri===q&&a.value){var c=a.value.split("x");2!==c.length||isNaN(c[0])||isNaN(c[1])||(b.tilesHor=parseInt(c[0],10),b.tilesVert=parseInt(c[1],10))}}),b.tilesHor>0&&b.tilesVert>0&&(b.widthPerTile=b.width/b.tilesHor,b.heightPerTile=b.height/b.tilesVert,x.push(b))}function e(a){var b=v.isRelative(a.media)?v.resolve(a.media,t.resolve(a.path).url):a.media;return b?(0,p.replaceIDForTemplate)(b,a.id):""}function f(){return x}function h(){return y}function j(){return y<0?null:x[y]}function k(a){x&&0!==x.length&&(a>=x.length&&(a=x.length-1),y=a)}function l(){x=[],y=-1}var n=this.context,r=a.dashManifestModel,s=a.adapter,t=a.baseURLController,u=a.stream,v=(0,o.default)(n).getInstance(),w=void 0,x=void 0,y=void 0;return w={initialize:b,getTracks:f,reset:l,setTrackByIndex:k,getCurrentTrack:j,getCurrentTrackIndex:h},b(),w}Object.defineProperty(c,"__esModule",{value:!0});var f=a(99),g=d(f),h=a(58),i=d(h),j=a(48),k=d(j),l=a(226),m=d(l),n=a(207),o=d(n),p=a(75),q="http://dashif.org/thumbnail_tile";e.__dashjs_factory_name="ThumbnailTracks",c.default=k.default.getClassFactory(e),b.exports=c.default},{207:207,226:226,48:48,58:58,75:75,99:99}],194:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a.selector&&(t=a.selector),a.dashManifestModel&&(j=a.dashManifestModel)}function b(){if(!j||!j.hasOwnProperty("getIsDVB"))throw new Error("Missing config parameter(s)")}function c(a){b(),t=j.getIsDVB(a)?q:p}function d(a){var b=a.baseUrls,c=a.selectedIdx;if(!isNaN(c))return b[c];var d=t.select(b);return d?(a.selectedIdx=b.indexOf(d),d):(h.trigger(i.default.URL_RESOLUTION_FAILED,{error:new Error(r,s)}),void(t===p&&e()))}function e(){n.reset()}var f=this.context,h=(0,g.default)(f).getInstance(),j=void 0,l=void 0,n=void 0,p=void 0,q=void 0,t=void 0;return l={chooseSelectorFromManifest:c,select:d,reset:e,setConfig:a},function(){n=(0,k.default)(f).create({updateEventName:i.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:i.default.SERVICE_LOCATION_BLACKLIST_ADD}),p=(0,o.default)(f).create({blacklistController:n}),q=(0,m.default)(f).create({blacklistController:n}),t=p}(),l}Object.defineProperty(c,"__esModule",{value:!0});var f=a(47),g=d(f),h=a(51),i=d(h),j=a(104),k=d(j),l=a(210),m=d(l),n=a(209),o=d(n),p=a(48),q=d(p),r=1,s="Failed to resolve a valid URL";e.__dashjs_factory_name="BaseURLSelector";var t=q.default.getClassFactory(e);t.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=r,t.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=s,q.default.updateClassFactory(e.__dashjs_factory_name,t),c.default=t,b.exports=c.default},{104:104,209:209,210:210,47:47,48:48,51:51}],195:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){if(!a)return null;void 0===a.fileStart&&(a.fileStart=0);var b=k.default.parseBuffer(a),c=(0,g.default)(e).create();return c.setData(b),c}function b(a,b,e){if(void 0===e&&(e=0),!b||e+8>=b.byteLength)return new m.default(0,!1);for(var f=b instanceof ArrayBuffer?new Uint8Array(b):b,g=void 0,h=0;e<f.byteLength;){var i=c(f,e),j=d(f,e+4);if(0===i)break;e+i<=f.byteLength&&(a.indexOf(j)>=0?g=new m.default(e,!0,i):h=e+i),e+=i}return g||new m.default(h,!1)}function c(a,b){return a[b+3]>>>0|a[b+2]<<8>>>0|a[b+1]<<16>>>0|a[b]<<24>>>0}function d(a,b){return String.fromCharCode(a[b++])+String.fromCharCode(a[b++])+String.fromCharCode(a[b++])+String.fromCharCode(a[b])}var e=this.context;return{parse:a,findLastTopIsoBoxCompleted:b}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(202),g=d(f),h=a(48),i=d(h),j=a(11),k=d(j),l=a(217),m=d(l);e.__dashjs_factory_name="BoxParser",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{11:11,202:202,217:217,48:48}],196:[function(a,b,c){"use strict";function d(){function a(){var a="WebKitMediaSource"in window,b="MediaSource"in window;return a||b}function b(){return f}function c(a){f=a}function d(a){return!!("MediaSource"in window&&MediaSource.isTypeSupported(a))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(a))}var e=void 0,f=void 0;return e={supportsMediaSource:a,supportsEncryptedMedia:b,supportsCodec:d,setEncryptedMediaSupported:c},function(){f=!1}(),e}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="Capabilities",c.default=f.default.getSingletonFactory(d),b.exports=c.default},{48:48}],197:[function(a,b,c){"use strict";function d(){function a(a,b){var c=0;for(c=0;c<this.customTimeRangeArray.length&&a>this.customTimeRangeArray[c].start;c++);for(this.customTimeRangeArray.splice(c,0,{start:a,end:b}),c=0;c<this.customTimeRangeArray.length-1;c++)this.mergeRanges(c,c+1)&&c--;this.length=this.customTimeRangeArray.length}function b(){this.customTimeRangeArray=[],this.length=0}function c(a,b){for(var c=0;c<this.customTimeRangeArray.length;c++)if(a<=this.customTimeRangeArray[c].start&&b>=this.customTimeRangeArray[c].end)this.customTimeRangeArray.splice(c,1),c--;else{if(a>this.customTimeRangeArray[c].start&&b<this.customTimeRangeArray[c].end){this.customTimeRangeArray.splice(c+1,0,{start:b,end:this.customTimeRangeArray[c].end}),this.customTimeRangeArray[c].end=a;break}a>this.customTimeRangeArray[c].start&&a<this.customTimeRangeArray[c].end?this.customTimeRangeArray[c].end=a:b>this.customTimeRangeArray[c].start&&b<this.customTimeRangeArray[c].end&&(this.customTimeRangeArray[c].start=b)}this.length=this.customTimeRangeArray.length}function d(a,b){var c=this.customTimeRangeArray[a],d=this.customTimeRangeArray[b];return c.start<=d.start&&d.start<=c.end&&c.end<=d.end?(c.end=d.end,this.customTimeRangeArray.splice(b,1),!0):d.start<=c.start&&c.start<=d.end&&d.end<=c.end?(c.start=d.start,this.customTimeRangeArray.splice(b,1),!0):d.start<=c.start&&c.start<=d.end&&c.end<=d.end?(this.customTimeRangeArray.splice(a,1),!0):c.start<=d.start&&d.start<=c.end&&d.end<=c.end&&(this.customTimeRangeArray.splice(b,1),!0)}function e(a){if(null===a||isNaN(a)||a%1!=0)throw new Error("index argument is not an integer")}function f(a){return e(a),a>=this.customTimeRangeArray.length||a<0?NaN:this.customTimeRangeArray[a].start}function g(a){return e(a),a>=this.customTimeRangeArray.length||a<0?NaN:this.customTimeRangeArray[a].end}return{customTimeRangeArray:[],length:0,add:a,clear:b,remove:c,mergeRanges:d,start:f,end:g}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="CustomTimeRanges",c.default=f.default.getClassFactory(d),b.exports=c.default},{48:48}],198:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){if(void 0!==w)return w;w=!1;var b=void 0;try{"undefined"!=typeof window&&(b=window[a])}catch(a){return t("Warning: DOMStorage access denied: "+a.message),w}if(!b||a!==m&&a!==n)return w;try{b.setItem("1","1"),b.removeItem("1"),w=!0}catch(a){t("Warning: DOMStorage is supported, but cannot be used: "+a.message)}return w}function c(){b(m)&&j.forEach(function(a){var b=localStorage.getItem(a.oldKey);if(b){localStorage.removeItem(a.oldKey);try{localStorage.setItem(a.newKey,b)}catch(a){t(a.message)}}})}function d(){return 6e5*Math.round((new Date).getTime()/6e5)}function e(a,c){return b(a)&&u["get"+c+"CachingInfo"]().enabled}function f(){if(!u||!u.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error("Missing config parameter(s)")}function g(a){if(f(),!e(m,p))return null;var b=null,c=l.replace(/\?/,a);try{var d=JSON.parse(localStorage.getItem(c))||{},g=(new Date).getTime()-parseInt(d.timestamp,10)>=u.getLastMediaSettingsCachingInfo().ttl||!1;b=d.settings,g&&(localStorage.removeItem(c),b=null)}catch(a){return null}return b}function h(a){var b=NaN;if(f(),e(m,o)){var c=k.replace(/\?/,a);try{var d=JSON.parse(localStorage.getItem(c))||{},g=(new Date).getTime()-parseInt(d.timestamp,10)>=u.getLastMediaSettingsCachingInfo().ttl||!1,h=parseFloat(d.bitrate);isNaN(h)||g?g&&localStorage.removeItem(c):(b=h,t("Last saved bitrate for "+a+" was "+h))}catch(a){return null}}return b}function q(a,b){if(e(m,p)){var c=l.replace(/\?/,a);try{localStorage.setItem(c,JSON.stringify({settings:b,timestamp:d()}))}catch(a){t(a.message)}}}function r(a,b){if(e(m,o)&&b){var c=k.replace(/\?/,a);try{localStorage.setItem(c,JSON.stringify({bitrate:b.toFixed(3),timestamp:d()}))}catch(a){t(a.message)}}}a=a||{};var s=this.context,t=(0,i.default)(s).getInstance().log,u=a.mediaPlayerModel,v=void 0,w=void 0;return v={getSavedBitrateSettings:h,setSavedBitrateSettings:r,getSavedMediaSettings:g,setSavedMediaSettings:q},function(){c()}(),v}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(46),i=d(h),j=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],k="dashjs_?_bitrate",l="dashjs_?_settings",m="localStorage",n="sessionStorage",o="LastBitrate",p="LastMediaSettings";e.__dashjs_factory_name="DOMStorage";var q=g.default.getSingletonFactory(e);c.default=q,b.exports=c.default},{46:46,48:48}],199:[function(a,b,c){"use strict";function d(a){function b(){return n}function c(a){n=a}function d(a,b){var c=!0,d=0,e=void 0,f=void 0;if(void 0===b&&(b=!1),a.tag>16777215?(m.getUint32(n)!==a.tag&&(c=!1),d=4):a.tag>65535?(e=m.getUint16(n),f=m.getUint8(n+2),256*e+f!==a.tag&&(c=!1),d=3):a.tag>255?(m.getUint16(n)!==a.tag&&(c=!1),d=2):(m.getUint8(n)!==a.tag&&(c=!1),d=1),!c&&a.required&&!b)throw new Error("required tag not found");return c&&(n+=d),c}function e(a,b){var c=d(a,b);return c&&h(),c}function f(a){var b=void 0;return d(a),b=h(),l[a.parse](b)}function g(a,b){var c=d(a,b),e=void 0;return c&&(e=h(),n+=e),c}function h(a){var b=1,c=128,d=-1,e=0,f=m.getUint8(n),g=0;for(g=0;g<8;g+=1){if((f&c)===c){e=void 0===a?f&~c:f,d=g;break}c>>=1}for(g=0;g<d;g+=1,b+=1)e=e<<8|255&m.getUint8(n+b);return n+=b,e}function i(a){var b=void 0;switch(a){case 4:b=m.getFloat32(n),n+=4;break;case 8:b=m.getFloat64(n),n+=8}return b}function j(a){for(var b=0,c=0;c<a;c+=1)b<<=8,b|=255&m.getUint8(n+c);return n+=a,b}function k(){return n<m.byteLength}a=a||{};var l=void 0,m=new DataView(a.data),n=0;return l={getPos:b,setPos:c,consumeTag:d,consumeTagAndSize:e,parseTag:f,skipOverElement:g,getMatroskaCodedNum:h,getMatroskaFloat:i,getMatroskaUint:j,moreData:k}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="EBMLParser",c.default=f.default.getClassFactory(d),b.exports=c.default},{48:48}],200:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){l.trigger(i.default.ERROR,{error:"capability",event:a})}function b(a,b,c){l.trigger(i.default.ERROR,{error:"download",event:{id:a,url:b,request:c}})}function c(a,b,c,d){l.trigger(i.default.ERROR,{error:"manifestError",event:{message:a,id:b,manifest:c,event:d}})}function d(a,b,c){l.trigger(i.default.ERROR,{error:"cc",event:{message:a,id:b,cc:c}})}function e(a){l.trigger(i.default.ERROR,{error:"mediasource",event:a})}function f(a){l.trigger(i.default.ERROR,{error:"key_session",event:a})}function h(a){l.trigger(i.default.ERROR,{error:"key_message",event:a})}function j(a){l.trigger(i.default.ERROR,{error:"mssError",event:a})}var k=this.context,l=(0,g.default)(k).getInstance();return{capabilityError:a,downloadError:b,manifestError:c,timedTextError:d,mediaSourceError:e,mediaKeySessionError:f,mediaKeyMessageError:h,mssError:j}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(47),g=d(f),h=a(51),i=d(h),j=a(48),k=d(j);e.__dashjs_factory_name="ErrorHandler";var l=k.default.getSingletonFactory(e);l.CAPABILITY_ERROR_MEDIASOURCE="mediasource",l.CAPABILITY_ERROR_MEDIAKEYS="mediakeys",l.DOWNLOAD_ERROR_ID_MANIFEST="manifest",l.DOWNLOAD_ERROR_ID_SIDX="SIDX",l.DOWNLOAD_ERROR_ID_CONTENT="content",l.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization",l.DOWNLOAD_ERROR_ID_XLINK="xlink",l.MANIFEST_ERROR_ID_CODEC="codec",l.MANIFEST_ERROR_ID_PARSE="parse",l.MANIFEST_ERROR_ID_NOSTREAMS="nostreams",l.TIMED_TEXT_ERROR_ID_PARSE="parse",k.default.updateSingletonFactory(e.__dashjs_factory_name,l),c.default=l,b.exports=c.default},{47:47,48:48,51:51}],201:[function(a,b,c){"use strict";function d(){function a(a){var b=a.streamId,c=a.representationId;d[b]=d[b]||{},d[b][c]=a}function b(a,b){return d&&d[a]&&d[a][b]?d[a][b]:null}function c(){d={}}var d={};return{save:a,extract:b,reset:c}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="InitCache",c.default=f.default.getSingletonFactory(d),b.exports=c.default},{48:48}],202:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a&&f&&f.boxes&&0!==f.boxes.length&&"function"==typeof f.fetch?e(f.fetch(a)):null}function b(a){var b=[];if(!a||!f||"function"!=typeof f.fetchAll)return b;for(var c=f.fetchAll(a),d=void 0,g=0,h=c.length;g<h;g++)(d=e(c[g]))&&b.push(d);return b}function c(a){f=a}function d(){if(!f||!f.boxes||!f.boxes.length)return null;var a=f.boxes[f.boxes.length-1].type,c=b(a);return c.length>0?c[c.length-1]:null}function e(a){if(!a)return null;var b=new g.default(a);return a.hasOwnProperty("_incomplete")&&(b.isComplete=!a._incomplete),b}var f=void 0;return{getBox:a,getBoxes:b,setData:c,getLastBox:d}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(216),g=d(f),h=a(48),i=d(h);e.__dashjs_factory_name="IsoFile",c.default=i.default.getClassFactory(e),b.exports=c.default},{216:216,48:48}],203:[function(a,b,c){"use strict";function d(a){function b(){if(!(e&&e.hasOwnProperty("getExpectedLiveEdge")&&f&&f.hasOwnProperty("getCurrentRepresentationInfo")))throw new Error("Missing config parameter(s)")}function c(){b();var a=f.getCurrentRepresentationInfo(),c=a.DVRWindow.end;return a.useCalculatedLiveEdgeTime&&(c=e.getExpectedLiveEdge(),e.setClientTimeOffset(c-a.DVRWindow.end)),c}function d(){e=null,f=null}a=a||{};var e=a.timelineConverter,f=a.streamProcessor;return{getLiveEdge:c,reset:d}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="LiveEdgeFinder",c.default=f.default.getClassFactory(d),b.exports=c.default},{48:48}],204:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){return(0,i.default)(a,b)}return{areEqual:a}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(14),i=d(h);e.__dashjs_factory_name="ObjectUtils",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{14:14,48:48}],205:[function(a,b,c){"use strict";function d(){function a(a){return a}function b(a){return a}return{modifyRequestURL:a,modifyRequestHeader:b}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="RequestModifier",c.default=f.default.getSingletonFactory(d),b.exports=c.default},{48:48}],206:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){var a="cue_TTML_"+f;return f++,a}function b(b,c,f,g,h){var i=void 0,j="",k=[],l=void 0,o=void 0,p={},q={},r="",s="",t={onOpenTag:function(a,b,c){if("image"===b&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===a){if(!c[" imagetype"]||"PNG"!==c[" imagetype"].value)return void d("Warning: smpte-tt imagetype != PNG. Discarded");r=c["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){r&&(q[r]=s.trim()),s="",r=""},onText:function(a){r&&(s+=a)}};if(!b)throw j="no ttml data to parse",new Error(j);p.data=b,e.trigger(m.default.TTML_TO_PARSE,p);var u=(0,n.fromXML)(p.data,function(a){j=a},t);e.trigger(m.default.TTML_PARSED,{ttmlString:p.data,ttmlDoc:u});var v=u.getMediaTimeEvents();for(i=0;i<v.length;i++){var w=(0,n.generateISD)(u,v[i],function(a){j=a});w.contents.some(function(a){return a.contents.length})&&(l=v[i]+c<f?f:v[i]+c,o=v[i+1]+c>g?g:v[i+1]+c,l<o&&k.push({start:l,end:o,type:"html",cueID:a(),isd:w,images:h,embeddedImages:q}))}if(""!==j)throw d(j),new Error(j);return k}var c=this.context,d=(0,i.default)(c).getInstance().log,e=(0,k.default)(c).getInstance(),f=0;return{parse:b}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(46),i=d(h),j=a(47),k=d(j),l=a(51),m=d(l),n=a(19);e.__dashjs_factory_name="TTMLParser",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{19:19,46:46,47:47,48:48,51:51}],207:[function(a,b,c){"use strict";function d(){function a(a){var b=a.indexOf("/"),c=a.lastIndexOf("/");return-1!==b?c===b+1?a:(-1!==a.indexOf("?")&&(a=a.substring(0,a.indexOf("?"))),a.substring(0,c+1)):""}function b(a){var b=a.match(n);return b?b[1]:""}function c(a){var b=a.match(k);return b?b[0]:""}function d(a){return!k.test(a)}function e(a){return d(a)&&"/"===a.charAt(0)}function f(a){return 0===a.indexOf("//")}function g(a){return l.test(a)}function h(a){return m.test(a)}function i(a,b){return j(a,b)}var j=void 0,k=/^[a-z][a-z0-9+\-.]*:/i,l=/^https?:\/\//i,m=/^https:\/\//i,n=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,o=function(a,b){try{return new window.URL(a,b).toString()}catch(b){return a}},p=function(g,h){var i=a;if(!h)return g;if(!d(g))return g;e(g)&&(i=b),f(g)&&(i=c);var j=i(h);return[j,g].join("/"!==j.charAt(j.length-1)&&"/"!==g.charAt(0)?"/":"")};return function(){try{new window.URL("x","http://y"),j=o}catch(a){}finally{j=j||p}}(),{parseBaseUrl:a,parseOrigin:b,parseScheme:c,isRelative:d,isPathAbsolute:e,isSchemeRelative:f,isHTTPURL:g,isHTTPS:h,resolve:i}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="URLUtils",c.default=f.default.getSingletonFactory(d),b.exports=c.default},{48:48}],208:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var d=[],f=void 0,h=void 0;if(!a)return d;a=a.split(k),f=a.length,h=-1;for(var i=0;i<f;i++){var n=a[i];if(n.length>0&&n!==j&&n.match(l)){var o=c(n),p=o.cuePoints,q=o.styles,r=e(a,i+1),s=b(p[0].replace(m,"")),t=b(p[1].replace(m,""));!isNaN(s)&&!isNaN(t)&&s>=h&&t>s?""!==r?(h=s,d.push({start:s,end:t,data:r,styles:q})):g("Skipping cue due to empty/malformed cue text"):g("Skipping cue due to incorrect cue timing")}}return d}function b(a){var b=a.split(":"),c=b.length-1;return a=60*parseInt(b[c-1],10)+parseFloat(b[c]),2===c&&(a+=3600*parseInt(b[0],10)),a}function c(a){var b=a.split(l),c=b[1].split(n);return c.shift(),b[1]=c[0],c.shift(),{cuePoints:b,styles:d(c)}}function d(a){var b={};return a.forEach(function(a){if(a.split(/:/).length>1){var c=a.split(/:/)[1];c&&-1!=c.search(/%/)&&(c=parseInt(c.replace(/%/,""),10)),(a.match(/align/)||a.match(/A/))&&(b.align=c),(a.match(/line/)||a.match(/L/))&&(b.line=c),(a.match(/position/)||a.match(/P/))&&(b.position=c),(a.match(/size/)||a.match(/S/))&&(b.size=c)}}),b}function e(a,b){for(var c=b,d="",e="",f=void 0;""!==a[c]&&c<a.length;)c++;if((f=c-b)>1)for(var g=0;g<f;g++){if(e=a[b+g],e.match(l)){d="";break}d+=e,g!==f-1&&(d+="\n")}else e=a[b],e.match(l)||(d=e);return d}var f=this.context,g=(0,i.default)(f).getInstance().log,h=void 0,k=void 0,l=void 0,m=void 0,n=void 0;return h={parse:a},function(){k=/(?:\r\n|\r|\n)/gm,l=/-->/,m=/(^[\s]+|[\s]+$)/g,n=/\s\b/g}(),h}Object.defineProperty(c,"__esModule",{value:!0});var f=a(48),g=d(f),h=a(46),i=d(h),j="WEBVTT";e.__dashjs_factory_name="VTTParser",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{46:46,48:48}],209:[function(a,b,c){"use strict";function d(a){function b(a){var b=0,d=void 0;return a&&a.some(function(a,d){return b=d,!c.contains(a.serviceLocation)})&&(d=a[b]),d}a=a||{};var c=a.blacklistController;return{select:b}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="BasicSelector",c.default=f.default.getClassFactory(d),b.exports=c.default},{48:48}],210:[function(a,b,c){"use strict";function d(a){function b(a){var b=[],c=function(a){return!b.length||!a.dvb_priority||-1===b.indexOf(a.dvb_priority)},d=function(a){return!e.contains(a.serviceLocation)||(a.dvb_priority&&b.push(a.dvb_priority),!1)};return a.filter(d).filter(c)}function c(a){var b=function(a,b){var c=a.dvb_priority-b.dvb_priority;return isNaN(c)?0:c},c=function(a,b,c){return!b||c[0].dvb_priority&&a.dvb_priority&&c[0].dvb_priority===a.dvb_priority},d=0,e=[],f=0,g=void 0,h=void 0;if(h=a.sort(b).filter(c),h.length)return h.length>1&&(h.forEach(function(a){d+=a.dvb_weight,e.push(d)}),g=Math.floor(Math.random()*(d-1)),e.every(function(a,b){return f=b,!(g<a)})),h[f]}function d(a){return a&&c(b(a))}a=a||{};var e=a.blacklistController;return{select:d}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(48),f=function(a){return a&&a.__esModule?a:{default:a}}(e);d.__dashjs_factory_name="DVBSelector",c.default=f.default.getClassFactory(d),b.exports=c.default},{48:48}],211:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};c.default=e,b.exports=c.default},{}],212:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c,e){d(this,a),this.code=b||null,this.message=c||null,this.data=e||null};c.default=e,b.exports=c.default},{}],213:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};c.default=e,b.exports=c.default},{}],214:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.action=a.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};e.ACTION_DOWNLOAD="download",e.ACTION_COMPLETE="complete",c.default=e,b.exports=c.default},{}],215:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},g=a(214),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(a){d(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.url=a||null,this.checkForExistenceOnly=!0}return e(b,a),b}(h.default);c.default=i,b.exports=c.default},{214:214}],216:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){if(d(this,a),this.offset=b._offset,this.type=b.type,this.size=b.size,this.boxes=[],b.boxes)for(var c=0;c<b.boxes.length;c++)this.boxes.push(new a(b.boxes[c]));switch(this.isComplete=!0,b.type){case"sidx":if(this.timescale=b.timescale,this.earliest_presentation_time=b.earliest_presentation_time,this.first_offset=b.first_offset,this.references=b.references,b.references){this.references=[];for(var c=0;c<b.references.length;c++){var e={reference_type:b.references[c].reference_type,referenced_size:b.references[c].referenced_size,subsegment_duration:b.references[c].subsegment_duration};this.references.push(e)}}break;case"emsg":this.id=b.id,this.value=b.value,this.timescale=b.timescale,this.scheme_id_uri=b.scheme_id_uri,this.presentation_time_delta=b.presentation_time_delta,this.event_duration=b.event_duration,this.message_data=b.message_data;break;case"mdhd":this.timescale=b.timescale;break;case"mfhd":this.sequence_number=b.sequence_number;break;case"subs":this.entry_count=b.entry_count,this.entries=b.entries;break;case"tfhd":this.base_data_offset=b.base_data_offset,this.sample_description_index=b.sample_description_index,this.default_sample_duration=b.default_sample_duration,this.default_sample_size=b.default_sample_size,this.default_sample_flags=b.default_sample_flags,this.flags=b.flags;break;case"tfdt":this.version=b.version,this.baseMediaDecodeTime=b.baseMediaDecodeTime,this.flags=b.flags;break;case"trun":if(this.sample_count=b.sample_count,this.first_sample_flags=b.first_sample_flags,this.data_offset=b.data_offset,this.flags=b.flags,this.samples=b.samples,b.samples){this.samples=[];for(var c=0,f=b.samples.length;c<f;c++){var g={sample_size:b.samples[c].sample_size,sample_duration:b.samples[c].sample_duration,sample_composition_time_offset:b.samples[c].sample_composition_time_offset};this.samples.push(g)}}}}return e(a,[{key:"getChildBox",value:function(a){for(var b=0;b<this.boxes.length;b++)if(this.boxes[b].type===a)return this.boxes[b]}},{key:"getChildBoxes",value:function(a){for(var b=[],c=0;c<this.boxes.length;c++)this.boxes[c].type===a&&b.push(this.boxes[c]);return b}}]),a}();c.default=f,b.exports=c.default},{}],217:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b,c,e){d(this,a),this.lastCompletedOffset=b,this.found=c,this.size=e};c.default=e,b.exports=c.default},{}],218:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};c.default=e,b.exports=c.default},{}],219:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};c.default=e,b.exports=c.default},{}],220:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]};c.default=e,b.exports=c.default},{}],221:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};c.default=e,b.exports=c.default},{}],222:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0};c.default=e,b.exports=c.default},{}],223:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(99),i=d(h),j=a(214),k=d(j),l=function(a){function b(a,c){e(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.url=a||null,this.type=c||null,this.mediaType=i.default.STREAM,this.responseType=""}return f(b,a),b}(k.default);c.default=l,b.exports=c.default},{214:214,99:99}],224:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};c.default=e,b.exports=c.default},{}],225:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null};c.default=e,b.exports=c.default},{}],226:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""};c.default=e,b.exports=c.default},{}],227:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}
Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};c.default=e,b.exports=c.default},{}],228:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.t=null,this.level=null};c.default=e,b.exports=c.default},{}],229:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=a(105),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=function a(){d(this,a),this.target=null,this.state=f.default.BUFFER_EMPTY};c.default=g,b.exports=c.default},{105:105}],230:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.time=null,this.range=null,this.manifestInfo=null};c.default=e,b.exports=c.default},{}],231:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.time=null,this.droppedFrames=null};c.default=e,b.exports=c.default},{}],232:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},f=function a(){d(this,a),this.s=null,this.d=null,this.b=[]};e.GET="GET",e.HEAD="HEAD",e.MPD_TYPE="MPD",e.XLINK_EXPANSION_TYPE="XLinkExpansion",e.INIT_SEGMENT_TYPE="InitializationSegment",e.INDEX_SEGMENT_TYPE="IndexSegment",e.MEDIA_SEGMENT_TYPE="MediaSegment",e.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",e.OTHER_TYPE="other",c.HTTPRequest=e,c.HTTPRequestTrace=f},{}],233:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},f=function a(){d(this,a),this.id=null,this.index=null,this.start=null,this.duration=null},g=function a(){d(this,a),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};c.ManifestUpdate=e,c.ManifestUpdateStreamInfo=f,c.ManifestUpdateRepresentationInfo=g},{}],234:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};e.INITIAL_PLAYOUT_START_REASON="initial_playout",e.SEEK_START_REASON="seek",e.RESUME_FROM_PAUSE_START_REASON="resume",e.METRICS_COLLECTION_START_REASON="metrics_collection_start";var f=function a(){d(this,a),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};f.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",f.REBUFFERING_REASON="rebuffering",f.USER_REQUEST_STOP_REASON="user_request",f.END_OF_PERIOD_STOP_REASON="end_of_period",f.END_OF_CONTENT_STOP_REASON="end_of_content",f.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",f.FAILURE_STOP_REASON="failure",c.PlayList=e,c.PlayListTrace=f},{}],235:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.t=null,this.mt=null,this.to=null,this.lto=null};c.default=e,b.exports=c.default},{}],236:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.loadingRequests=[],this.executedRequests=[]};c.default=e,b.exports=c.default},{}],237:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};c.default=e,b.exports=c.default},{}],238:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};c.default=e,b.exports=c.default},{}]},{},[5]),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function b(b,d){var e,f=this;f.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(b),appendDots:a(b),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(b,c){return a('<button type="button" data-role="none" role="button" tabindex="0" />').text(c+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},f.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},a.extend(f,f.initials),f.activeBreakpoint=null,f.animType=null,f.animProp=null,f.breakpoints=[],f.breakpointSettings=[],f.cssTransitions=!1,f.focussed=!1,f.interrupted=!1,f.hidden="hidden",f.paused=!0,f.positionProp=null,f.respondTo=null,f.rowCount=1,f.shouldClick=!0,f.$slider=a(b),f.$slidesCache=null,f.transformType=null,f.transitionType=null,f.visibilityChange="visibilitychange",f.windowWidth=0,f.windowTimer=null,e=a(b).data("slick")||{},f.options=a.extend({},f.defaults,d,e),f.currentSlide=f.options.initialSlide,f.originalSettings=f.options,void 0!==document.mozHidden?(f.hidden="mozHidden",f.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(f.hidden="webkitHidden",f.visibilityChange="webkitvisibilitychange"),f.autoPlay=a.proxy(f.autoPlay,f),f.autoPlayClear=a.proxy(f.autoPlayClear,f),f.autoPlayIterator=a.proxy(f.autoPlayIterator,f),f.changeSlide=a.proxy(f.changeSlide,f),f.clickHandler=a.proxy(f.clickHandler,f),f.selectHandler=a.proxy(f.selectHandler,f),f.setPosition=a.proxy(f.setPosition,f),f.swipeHandler=a.proxy(f.swipeHandler,f),f.dragHandler=a.proxy(f.dragHandler,f),f.keyHandler=a.proxy(f.keyHandler,f),f.instanceUid=c++,f.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,f.registerBreakpoints(),f.init(!0)}var c=0;return b}(),b.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(c<0||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):!0===d?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(1===a.options.slidesToShow&&!0===a.options.adaptiveHeight&&!1===a.options.vertical){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),!0===e.options.rtl&&!1===e.options.vertical&&(b=-b),!1===e.transformsEnabled?!1===e.options.vertical?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):!1===e.cssTransitions?(!0===e.options.rtl&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),!1===e.options.vertical?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),!1===e.options.vertical?d[e.animType]="translate3d("+b+"px, 0px, 0px)":d[e.animType]="translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.getNavTarget=function(){var b=this,c=b.options.asNavFor;return c&&null!==c&&(c=a(c).not(b.$slider)),c},b.prototype.asNavFor=function(b){var c=this,d=c.getNavTarget();null!==d&&"object"==typeof d&&d.each(function(){var c=a(this).slick("getSlick");c.unslicked||c.slideHandler(b,!0)})},b.prototype.applyTransition=function(a){var b=this,c={};!1===b.options.fade?c[b.transitionType]=b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:c[b.transitionType]="opacity "+b.options.speed+"ms "+b.options.cssEase,!1===b.options.fade?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayClear(),a.slideCount>a.options.slidesToShow&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this,b=a.currentSlide+a.options.slidesToScroll;a.paused||a.interrupted||a.focussed||(!1===a.options.infinite&&(1===a.direction&&a.currentSlide+1===a.slideCount-1?a.direction=0:0===a.direction&&(b=a.currentSlide-a.options.slidesToScroll,a.currentSlide-1==0&&(a.direction=1))),a.slideHandler(b))},b.prototype.buildArrows=function(){var b=this;!0===b.options.arrows&&(b.$prevArrow=a(b.options.prevArrow).addClass("slick-arrow"),b.$nextArrow=a(b.options.nextArrow).addClass("slick-arrow"),b.slideCount>b.options.slidesToShow?(b.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.prependTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),!0!==b.options.infinite&&b.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):b.$prevArrow.add(b.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},b.prototype.buildDots=function(){var b,c,d=this;if(!0===d.options.dots&&d.slideCount>d.options.slidesToShow){for(d.$slider.addClass("slick-dotted"),c=a("<ul />").addClass(d.options.dotsClass),b=0;b<=d.getDotCount();b+=1)c.append(a("<li />").append(d.options.customPaging.call(this,d,b)));d.$dots=c.appendTo(d.options.appendDots),d.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b).data("originalStyling",a(c).attr("style")||"")}),b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),!0!==b.options.centerMode&&!0!==b.options.swipeToSlide||(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.setSlideClasses("number"==typeof b.currentSlide?b.currentSlide:0),!0===b.options.draggable&&b.$list.addClass("draggable")},b.prototype.buildRows=function(){var a,b,c,d,e,f,g,h=this;if(d=document.createDocumentFragment(),f=h.$slider.children(),h.options.rows>1){for(g=h.options.slidesPerRow*h.options.rows,e=Math.ceil(f.length/g),a=0;a<e;a++){var i=document.createElement("div");for(b=0;b<h.options.rows;b++){var j=document.createElement("div");for(c=0;c<h.options.slidesPerRow;c++){var k=a*g+(b*h.options.slidesPerRow+c);f.get(k)&&j.appendChild(f.get(k))}i.appendChild(j)}d.appendChild(i)}h.$slider.empty().append(d),h.$slider.children().children().children().css({width:100/h.options.slidesPerRow+"%",display:"inline-block"})}},b.prototype.checkResponsive=function(b,c){var d,e,f,g=this,h=!1,i=g.$slider.width(),j=window.innerWidth||a(window).width();if("window"===g.respondTo?f=j:"slider"===g.respondTo?f=i:"min"===g.respondTo&&(f=Math.min(j,i)),g.options.responsive&&g.options.responsive.length&&null!==g.options.responsive){e=null;for(d in g.breakpoints)g.breakpoints.hasOwnProperty(d)&&(!1===g.originalSettings.mobileFirst?f<g.breakpoints[d]&&(e=g.breakpoints[d]):f>g.breakpoints[d]&&(e=g.breakpoints[d]));null!==e?null!==g.activeBreakpoint?(e!==g.activeBreakpoint||c)&&(g.activeBreakpoint=e,"unslick"===g.breakpointSettings[e]?g.unslick(e):(g.options=a.extend({},g.originalSettings,g.breakpointSettings[e]),!0===b&&(g.currentSlide=g.options.initialSlide),g.refresh(b)),h=e):(g.activeBreakpoint=e,"unslick"===g.breakpointSettings[e]?g.unslick(e):(g.options=a.extend({},g.originalSettings,g.breakpointSettings[e]),!0===b&&(g.currentSlide=g.options.initialSlide),g.refresh(b)),h=e):null!==g.activeBreakpoint&&(g.activeBreakpoint=null,g.options=g.originalSettings,!0===b&&(g.currentSlide=g.options.initialSlide),g.refresh(b),h=e),b||!1===h||g.$slider.trigger("breakpoint",[g,h])}},b.prototype.changeSlide=function(b,c){var d,e,f,g=this,h=a(b.currentTarget);switch(h.is("a")&&b.preventDefault(),h.is("li")||(h=h.closest("li")),f=g.slideCount%g.options.slidesToScroll!=0,d=f?0:(g.slideCount-g.currentSlide)%g.options.slidesToScroll,b.data.message){case"previous":e=0===d?g.options.slidesToScroll:g.options.slidesToShow-d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide-e,!1,c);break;case"next":e=0===d?g.options.slidesToScroll:d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide+e,!1,c);break;case"index":var i=0===b.data.index?0:b.data.index||h.index()*g.options.slidesToScroll;g.slideHandler(g.checkNavigable(i),!1,c),h.children().trigger("focus");break;default:return}},b.prototype.checkNavigable=function(a){var b,c,d=this;if(b=d.getNavigableIndexes(),c=0,a>b[b.length-1])a=b[b.length-1];else for(var e in b){if(a<b[e]){a=c;break}c=b[e]}return a},b.prototype.cleanUpEvents=function(){var b=this;b.options.dots&&null!==b.$dots&&a("li",b.$dots).off("click.slick",b.changeSlide).off("mouseenter.slick",a.proxy(b.interrupt,b,!0)).off("mouseleave.slick",a.proxy(b.interrupt,b,!1)),b.$slider.off("focus.slick blur.slick"),!0===b.options.arrows&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow&&b.$prevArrow.off("click.slick",b.changeSlide),b.$nextArrow&&b.$nextArrow.off("click.slick",b.changeSlide)),b.$list.off("touchstart.slick mousedown.slick",b.swipeHandler),b.$list.off("touchmove.slick mousemove.slick",b.swipeHandler),b.$list.off("touchend.slick mouseup.slick",b.swipeHandler),b.$list.off("touchcancel.slick mouseleave.slick",b.swipeHandler),b.$list.off("click.slick",b.clickHandler),a(document).off(b.visibilityChange,b.visibility),b.cleanUpSlideEvents(),!0===b.options.accessibility&&b.$list.off("keydown.slick",b.keyHandler),!0===b.options.focusOnSelect&&a(b.$slideTrack).children().off("click.slick",b.selectHandler),a(window).off("orientationchange.slick.slick-"+b.instanceUid,b.orientationChange),a(window).off("resize.slick.slick-"+b.instanceUid,b.resize),a("[draggable!=true]",b.$slideTrack).off("dragstart",b.preventDefault),a(window).off("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).off("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.cleanUpSlideEvents=function(){var b=this;b.$list.off("mouseenter.slick",a.proxy(b.interrupt,b,!0)),b.$list.off("mouseleave.slick",a.proxy(b.interrupt,b,!1))},b.prototype.cleanUpRows=function(){var a,b=this;b.options.rows>1&&(a=b.$slides.children().children(),a.removeAttr("style"),b.$slider.empty().append(a))},b.prototype.clickHandler=function(a){!1===this.shouldClick&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(b){var c=this;c.autoPlayClear(),c.touchObject={},c.cleanUpEvents(),a(".slick-cloned",c.$slider).detach(),c.$dots&&c.$dots.remove(),c.$prevArrow&&c.$prevArrow.length&&(c.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.prevArrow)&&c.$prevArrow.remove()),c.$nextArrow&&c.$nextArrow.length&&(c.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.nextArrow)&&c.$nextArrow.remove()),c.$slides&&(c.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){a(this).attr("style",a(this).data("originalStyling"))}),c.$slideTrack.children(this.options.slide).detach(),c.$slideTrack.detach(),c.$list.detach(),c.$slider.append(c.$slides)),c.cleanUpRows(),c.$slider.removeClass("slick-slider"),c.$slider.removeClass("slick-initialized"),c.$slider.removeClass("slick-dotted"),c.unslicked=!0,b||c.$slider.trigger("destroy",[c])},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",!1===b.options.fade?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;!1===c.cssTransitions?(c.$slides.eq(a).css({zIndex:c.options.zIndex}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:c.options.zIndex}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.fadeSlideOut=function(a){var b=this;!1===b.cssTransitions?b.$slides.eq(a).animate({opacity:0,zIndex:b.options.zIndex-2},b.options.speed,b.options.easing):(b.applyTransition(a),b.$slides.eq(a).css({opacity:0,zIndex:b.options.zIndex-2}))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;null!==a&&(b.$slidesCache=b.$slides,b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.focusHandler=function(){var b=this;b.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(c){c.stopImmediatePropagation();var d=a(this);setTimeout(function(){b.options.pauseOnFocus&&(b.focussed=d.is(":focus"),b.autoPlay())},0)})},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){return this.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(!0===a.options.infinite)for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else if(!0===a.options.centerMode)d=a.slideCount;else if(a.options.asNavFor)for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else d=1+Math.ceil((a.slideCount-a.options.slidesToShow)/a.options.slidesToScroll);return d-1},b.prototype.getLeft=function(a){var b,c,d,e=this,f=0;return e.slideOffset=0,c=e.$slides.first().outerHeight(!0),!0===e.options.infinite?(e.slideCount>e.options.slidesToShow&&(e.slideOffset=e.slideWidth*e.options.slidesToShow*-1,f=c*e.options.slidesToShow*-1),e.slideCount%e.options.slidesToScroll!=0&&a+e.options.slidesToScroll>e.slideCount&&e.slideCount>e.options.slidesToShow&&(a>e.slideCount?(e.slideOffset=(e.options.slidesToShow-(a-e.slideCount))*e.slideWidth*-1,f=(e.options.slidesToShow-(a-e.slideCount))*c*-1):(e.slideOffset=e.slideCount%e.options.slidesToScroll*e.slideWidth*-1,f=e.slideCount%e.options.slidesToScroll*c*-1))):a+e.options.slidesToShow>e.slideCount&&(e.slideOffset=(a+e.options.slidesToShow-e.slideCount)*e.slideWidth,f=(a+e.options.slidesToShow-e.slideCount)*c),e.slideCount<=e.options.slidesToShow&&(e.slideOffset=0,f=0),!0===e.options.centerMode&&!0===e.options.infinite?e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)-e.slideWidth:!0===e.options.centerMode&&(e.slideOffset=0,e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)),b=!1===e.options.vertical?a*e.slideWidth*-1+e.slideOffset:a*c*-1+f,!0===e.options.variableWidth&&(d=e.slideCount<=e.options.slidesToShow||!1===e.options.infinite?e.$slideTrack.children(".slick-slide").eq(a):e.$slideTrack.children(".slick-slide").eq(a+e.options.slidesToShow),b=!0===e.options.rtl?d[0]?-1*(e.$slideTrack.width()-d[0].offsetLeft-d.width()):0:d[0]?-1*d[0].offsetLeft:0,!0===e.options.centerMode&&(d=e.slideCount<=e.options.slidesToShow||!1===e.options.infinite?e.$slideTrack.children(".slick-slide").eq(a):e.$slideTrack.children(".slick-slide").eq(a+e.options.slidesToShow+1),b=!0===e.options.rtl?d[0]?-1*(e.$slideTrack.width()-d[0].offsetLeft-d.width()):0:d[0]?-1*d[0].offsetLeft:0,b+=(e.$list.width()-d.outerWidth())/2)),b},b.prototype.getOption=b.prototype.slickGetOption=function(a){return this.options[a]},b.prototype.getNavigableIndexes=function(){var a,b=this,c=0,d=0,e=[];for(!1===b.options.infinite?a=b.slideCount:(c=-1*b.options.slidesToScroll,d=-1*b.options.slidesToScroll,a=2*b.slideCount);c<a;)e.push(c),c=d+b.options.slidesToScroll,d+=b.options.slidesToScroll<=b.options.slidesToShow?b.options.slidesToScroll:b.options.slidesToShow;return e},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var b,c,d=this;return c=!0===d.options.centerMode?d.slideWidth*Math.floor(d.options.slidesToShow/2):0,!0===d.options.swipeToSlide?(d.$slideTrack.find(".slick-slide").each(function(e,f){if(f.offsetLeft-c+a(f).outerWidth()/2>-1*d.swipeLeft)return b=f,!1}),Math.abs(a(b).attr("data-slick-index")-d.currentSlide)||1):d.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){this.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(b){var c=this;a(c.$slider).hasClass("slick-initialized")||(a(c.$slider).addClass("slick-initialized"),c.buildRows(),c.buildOut(),c.setProps(),c.startLoad(),c.loadSlider(),c.initializeEvents(),c.updateArrows(),c.updateDots(),c.checkResponsive(!0),c.focusHandler()),b&&c.$slider.trigger("init",[c]),!0===c.options.accessibility&&c.initADA(),c.options.autoplay&&(c.paused=!1,c.autoPlay())},b.prototype.initADA=function(){var b=this;b.$slides.add(b.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),b.$slideTrack.attr("role","listbox"),b.$slides.not(b.$slideTrack.find(".slick-cloned")).each(function(c){a(this).attr({role:"option","aria-describedby":"slick-slide"+b.instanceUid+c})}),null!==b.$dots&&b.$dots.attr("role","tablist").find("li").each(function(c){a(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+b.instanceUid+c,id:"slick-slide"+b.instanceUid+c})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),b.activateADA()},b.prototype.initArrowEvents=function(){var a=this;!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.off("click.slick").on("click.slick",{message:"next"},a.changeSlide))},b.prototype.initDotEvents=function(){var b=this;!0===b.options.dots&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),!0===b.options.dots&&!0===b.options.pauseOnDotsHover&&a("li",b.$dots).on("mouseenter.slick",a.proxy(b.interrupt,b,!0)).on("mouseleave.slick",a.proxy(b.interrupt,b,!1))},b.prototype.initSlideEvents=function(){var b=this;b.options.pauseOnHover&&(b.$list.on("mouseenter.slick",a.proxy(b.interrupt,b,!0)),b.$list.on("mouseleave.slick",a.proxy(b.interrupt,b,!1)))},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.initSlideEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),a(document).on(b.visibilityChange,a.proxy(b.visibility,b)),!0===b.options.accessibility&&b.$list.on("keydown.slick",b.keyHandler),!0===b.options.focusOnSelect&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,a.proxy(b.orientationChange,b)),a(window).on("resize.slick.slick-"+b.instanceUid,a.proxy(b.resize,b)),a("[draggable!=true]",b.$slideTrack).on("dragstart",b.preventDefault),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).on("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.initUI=function(){var a=this;!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),!0===a.options.dots&&a.slideCount>a.options.slidesToShow&&a.$dots.show()},b.prototype.keyHandler=function(a){var b=this;a.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===a.keyCode&&!0===b.options.accessibility?b.changeSlide({data:{message:!0===b.options.rtl?"next":"previous"}}):39===a.keyCode&&!0===b.options.accessibility&&b.changeSlide({data:{message:!0===b.options.rtl?"previous":"next"}}))},b.prototype.lazyLoad=function(){function b(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy"),d=document.createElement("img");d.onload=function(){b.animate({opacity:0},100,function(){b.attr("src",c).animate({opacity:1},200,function(){b.removeAttr("data-lazy").removeClass("slick-loading")}),g.$slider.trigger("lazyLoaded",[g,b,c])})},d.onerror=function(){b.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),g.$slider.trigger("lazyLoadError",[g,b,c])},d.src=c})}var c,d,e,f,g=this;!0===g.options.centerMode?!0===g.options.infinite?(e=g.currentSlide+(g.options.slidesToShow/2+1),f=e+g.options.slidesToShow+2):(e=Math.max(0,g.currentSlide-(g.options.slidesToShow/2+1)),f=g.options.slidesToShow/2+1+2+g.currentSlide):(e=g.options.infinite?g.options.slidesToShow+g.currentSlide:g.currentSlide,f=Math.ceil(e+g.options.slidesToShow),!0===g.options.fade&&(e>0&&e--,f<=g.slideCount&&f++)),c=g.$slider.find(".slick-slide").slice(e,f),b(c),g.slideCount<=g.options.slidesToShow?(d=g.$slider.find(".slick-slide"),b(d)):g.currentSlide>=g.slideCount-g.options.slidesToShow?(d=g.$slider.find(".slick-cloned").slice(0,g.options.slidesToShow),b(d)):0===g.currentSlide&&(d=g.$slider.find(".slick-cloned").slice(-1*g.options.slidesToShow),b(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},b.prototype.orientationChange=function(){var a=this;a.checkResponsive(),a.setPosition()},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.autoPlay(),a.options.autoplay=!0,a.paused=!1,a.focussed=!1,a.interrupted=!1},b.prototype.postSlide=function(a){var b=this;b.unslicked||(b.$slider.trigger("afterChange",[b,a]),b.animating=!1,b.setPosition(),b.swipeLeft=null,b.options.autoplay&&b.autoPlay(),!0===b.options.accessibility&&b.initADA())},b.prototype.prev=b.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},b.prototype.preventDefault=function(a){a.preventDefault()},b.prototype.progressiveLazyLoad=function(b){b=b||1;var c,d,e,f=this,g=a("img[data-lazy]",f.$slider);g.length?(c=g.first(),d=c.attr("data-lazy"),e=document.createElement("img"),e.onload=function(){c.attr("src",d).removeAttr("data-lazy").removeClass("slick-loading"),!0===f.options.adaptiveHeight&&f.setPosition(),f.$slider.trigger("lazyLoaded",[f,c,d]),f.progressiveLazyLoad()},e.onerror=function(){b<3?setTimeout(function(){f.progressiveLazyLoad(b+1)},500):(c.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),f.$slider.trigger("lazyLoadError",[f,c,d]),f.progressiveLazyLoad())},e.src=d):f.$slider.trigger("allImagesLoaded",[f])},b.prototype.refresh=function(b){var c,d,e=this;d=e.slideCount-e.options.slidesToShow,!e.options.infinite&&e.currentSlide>d&&(e.currentSlide=d),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),c=e.currentSlide,e.destroy(!0),a.extend(e,e.initials,{currentSlide:c}),e.init(),b||e.changeSlide({data:{message:"index",index:c}},!1)},b.prototype.registerBreakpoints=function(){var b,c,d,e=this,f=e.options.responsive||null;if("array"===a.type(f)&&f.length){e.respondTo=e.options.respondTo||"window";for(b in f)if(d=e.breakpoints.length-1,c=f[b].breakpoint,f.hasOwnProperty(b)){for(;d>=0;)e.breakpoints[d]&&e.breakpoints[d]===c&&e.breakpoints.splice(d,1),d--;e.breakpoints.push(c),e.breakpointSettings[c]=f[b].settings}e.breakpoints.sort(function(a,b){return e.options.mobileFirst?a-b:b-a})}},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.registerBreakpoints(),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.cleanUpSlideEvents(),b.initSlideEvents(),b.checkResponsive(!1,!0),!0===b.options.focusOnSelect&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),b.setSlideClasses("number"==typeof b.currentSlide?b.currentSlide:0),b.setPosition(),b.focusHandler(),b.paused=!b.options.autoplay,b.autoPlay(),b.$slider.trigger("reInit",[b])},
b.prototype.resize=function(){var b=this;a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.unslicked||b.setPosition()},50))},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;if("boolean"==typeof a?(b=a,a=!0===b?0:d.slideCount-1):a=!0===b?--a:a,d.slideCount<1||a<0||a>d.slideCount-1)return!1;d.unload(),!0===c?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,d.reinit()},b.prototype.setCSS=function(a){var b,c,d=this,e={};!0===d.options.rtl&&(a=-a),b="left"==d.positionProp?Math.ceil(a)+"px":"0px",c="top"==d.positionProp?Math.ceil(a)+"px":"0px",e[d.positionProp]=a,!1===d.transformsEnabled?d.$slideTrack.css(e):(e={},!1===d.cssTransitions?(e[d.animType]="translate("+b+", "+c+")",d.$slideTrack.css(e)):(e[d.animType]="translate3d("+b+", "+c+", 0px)",d.$slideTrack.css(e)))},b.prototype.setDimensions=function(){var a=this;!1===a.options.vertical?!0===a.options.centerMode&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),!0===a.options.centerMode&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),!1===a.options.vertical&&!1===a.options.variableWidth?(a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length))):!0===a.options.variableWidth?a.$slideTrack.width(5e3*a.slideCount):(a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length)));var b=a.$slides.first().outerWidth(!0)-a.$slides.first().width();!1===a.options.variableWidth&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-b)},b.prototype.setFade=function(){var b,c=this;c.$slides.each(function(d,e){b=c.slideWidth*d*-1,!0===c.options.rtl?a(e).css({position:"relative",right:b,top:0,zIndex:c.options.zIndex-2,opacity:0}):a(e).css({position:"relative",left:b,top:0,zIndex:c.options.zIndex-2,opacity:0})}),c.$slides.eq(c.currentSlide).css({zIndex:c.options.zIndex-1,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&!0===a.options.adaptiveHeight&&!1===a.options.vertical){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(){var b,c,d,e,f,g=this,h=!1;if("object"===a.type(arguments[0])?(d=arguments[0],h=arguments[1],f="multiple"):"string"===a.type(arguments[0])&&(d=arguments[0],e=arguments[1],h=arguments[2],"responsive"===arguments[0]&&"array"===a.type(arguments[1])?f="responsive":void 0!==arguments[1]&&(f="single")),"single"===f)g.options[d]=e;else if("multiple"===f)a.each(d,function(a,b){g.options[a]=b});else if("responsive"===f)for(c in e)if("array"!==a.type(g.options.responsive))g.options.responsive=[e[c]];else{for(b=g.options.responsive.length-1;b>=0;)g.options.responsive[b].breakpoint===e[c].breakpoint&&g.options.responsive.splice(b,1),b--;g.options.responsive.push(e[c])}h&&(g.unload(),g.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),!1===a.options.fade?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=!0===a.options.vertical?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),void 0===b.WebkitTransition&&void 0===b.MozTransition&&void 0===b.msTransition||!0===a.options.useCSS&&(a.cssTransitions=!0),a.options.fade&&("number"==typeof a.options.zIndex?a.options.zIndex<3&&(a.options.zIndex=3):a.options.zIndex=a.defaults.zIndex),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&!1!==a.animType&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=a.options.useTransform&&null!==a.animType&&!1!==a.animType},b.prototype.setSlideClasses=function(a){var b,c,d,e,f=this;c=f.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),f.$slides.eq(a).addClass("slick-current"),!0===f.options.centerMode?(b=Math.floor(f.options.slidesToShow/2),!0===f.options.infinite&&(a>=b&&a<=f.slideCount-1-b?f.$slides.slice(a-b,a+b+1).addClass("slick-active").attr("aria-hidden","false"):(d=f.options.slidesToShow+a,c.slice(d-b+1,d+b+2).addClass("slick-active").attr("aria-hidden","false")),0===a?c.eq(c.length-1-f.options.slidesToShow).addClass("slick-center"):a===f.slideCount-1&&c.eq(f.options.slidesToShow).addClass("slick-center")),f.$slides.eq(a).addClass("slick-center")):a>=0&&a<=f.slideCount-f.options.slidesToShow?f.$slides.slice(a,a+f.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):c.length<=f.options.slidesToShow?c.addClass("slick-active").attr("aria-hidden","false"):(e=f.slideCount%f.options.slidesToShow,d=!0===f.options.infinite?f.options.slidesToShow+a:a,f.options.slidesToShow==f.options.slidesToScroll&&f.slideCount-a<f.options.slidesToShow?c.slice(d-(f.options.slidesToShow-e),d+e).addClass("slick-active").attr("aria-hidden","false"):c.slice(d,d+f.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===f.options.lazyLoad&&f.lazyLoad()},b.prototype.setupInfinite=function(){var b,c,d,e=this;if(!0===e.options.fade&&(e.options.centerMode=!1),!0===e.options.infinite&&!1===e.options.fade&&(c=null,e.slideCount>e.options.slidesToShow)){for(d=!0===e.options.centerMode?e.options.slidesToShow+1:e.options.slidesToShow,b=e.slideCount;b>e.slideCount-d;b-=1)c=b-1,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c-e.slideCount).prependTo(e.$slideTrack).addClass("slick-cloned");for(b=0;b<d;b+=1)c=b,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c+e.slideCount).appendTo(e.$slideTrack).addClass("slick-cloned");e.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.interrupt=function(a){var b=this;a||b.autoPlay(),b.interrupted=a},b.prototype.selectHandler=function(b){var c=this,d=a(b.target).is(".slick-slide")?a(b.target):a(b.target).parents(".slick-slide"),e=parseInt(d.attr("data-slick-index"));if(e||(e=0),c.slideCount<=c.options.slidesToShow)return c.setSlideClasses(e),void c.asNavFor(e);c.slideHandler(e)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h,i=null,j=this;if(b=b||!1,(!0!==j.animating||!0!==j.options.waitForAnimate)&&!(!0===j.options.fade&&j.currentSlide===a||j.slideCount<=j.options.slidesToShow)){if(!1===b&&j.asNavFor(a),d=a,i=j.getLeft(d),g=j.getLeft(j.currentSlide),j.currentLeft=null===j.swipeLeft?g:j.swipeLeft,!1===j.options.infinite&&!1===j.options.centerMode&&(a<0||a>j.getDotCount()*j.options.slidesToScroll))return void(!1===j.options.fade&&(d=j.currentSlide,!0!==c?j.animateSlide(g,function(){j.postSlide(d)}):j.postSlide(d)));if(!1===j.options.infinite&&!0===j.options.centerMode&&(a<0||a>j.slideCount-j.options.slidesToScroll))return void(!1===j.options.fade&&(d=j.currentSlide,!0!==c?j.animateSlide(g,function(){j.postSlide(d)}):j.postSlide(d)));if(j.options.autoplay&&clearInterval(j.autoPlayTimer),e=d<0?j.slideCount%j.options.slidesToScroll!=0?j.slideCount-j.slideCount%j.options.slidesToScroll:j.slideCount+d:d>=j.slideCount?j.slideCount%j.options.slidesToScroll!=0?0:d-j.slideCount:d,j.animating=!0,j.$slider.trigger("beforeChange",[j,j.currentSlide,e]),f=j.currentSlide,j.currentSlide=e,j.setSlideClasses(j.currentSlide),j.options.asNavFor&&(h=j.getNavTarget(),h=h.slick("getSlick"),h.slideCount<=h.options.slidesToShow&&h.setSlideClasses(j.currentSlide)),j.updateDots(),j.updateArrows(),!0===j.options.fade)return!0!==c?(j.fadeSlideOut(f),j.fadeSlide(e,function(){j.postSlide(e)})):j.postSlide(e),void j.animateHeight();!0!==c?j.animateSlide(i,function(){j.postSlide(e)}):j.postSlide(e)}},b.prototype.startLoad=function(){var a=this;!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),!0===a.options.dots&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),d<0&&(d=360-Math.abs(d)),d<=45&&d>=0?!1===e.options.rtl?"left":"right":d<=360&&d>=315?!1===e.options.rtl?"left":"right":d>=135&&d<=225?!1===e.options.rtl?"right":"left":!0===e.options.verticalSwiping?d>=35&&d<=135?"down":"up":"vertical"},b.prototype.swipeEnd=function(a){var b,c,d=this;if(d.dragging=!1,d.interrupted=!1,d.shouldClick=!(d.touchObject.swipeLength>10),void 0===d.touchObject.curX)return!1;if(!0===d.touchObject.edgeHit&&d.$slider.trigger("edge",[d,d.swipeDirection()]),d.touchObject.swipeLength>=d.touchObject.minSwipe){switch(c=d.swipeDirection()){case"left":case"down":b=d.options.swipeToSlide?d.checkNavigable(d.currentSlide+d.getSlideCount()):d.currentSlide+d.getSlideCount(),d.currentDirection=0;break;case"right":case"up":b=d.options.swipeToSlide?d.checkNavigable(d.currentSlide-d.getSlideCount()):d.currentSlide-d.getSlideCount(),d.currentDirection=1}"vertical"!=c&&(d.slideHandler(b),d.touchObject={},d.$slider.trigger("swipe",[d,c]))}else d.touchObject.startX!==d.touchObject.curX&&(d.slideHandler(d.currentSlide),d.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(!1===b.options.swipe||"ontouchend"in document&&!1===b.options.swipe||!1===b.options.draggable&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,!0===b.options.verticalSwiping&&(b.touchObject.minSwipe=b.listHeight/b.options.touchThreshold),a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var b,c,d,e,f,g=this;return f=void 0!==a.originalEvent?a.originalEvent.touches:null,!(!g.dragging||f&&1!==f.length)&&(b=g.getLeft(g.currentSlide),g.touchObject.curX=void 0!==f?f[0].pageX:a.clientX,g.touchObject.curY=void 0!==f?f[0].pageY:a.clientY,g.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(g.touchObject.curX-g.touchObject.startX,2))),!0===g.options.verticalSwiping&&(g.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(g.touchObject.curY-g.touchObject.startY,2)))),"vertical"!==(c=g.swipeDirection())?(void 0!==a.originalEvent&&g.touchObject.swipeLength>4&&a.preventDefault(),e=(!1===g.options.rtl?1:-1)*(g.touchObject.curX>g.touchObject.startX?1:-1),!0===g.options.verticalSwiping&&(e=g.touchObject.curY>g.touchObject.startY?1:-1),d=g.touchObject.swipeLength,g.touchObject.edgeHit=!1,!1===g.options.infinite&&(0===g.currentSlide&&"right"===c||g.currentSlide>=g.getDotCount()&&"left"===c)&&(d=g.touchObject.swipeLength*g.options.edgeFriction,g.touchObject.edgeHit=!0),!1===g.options.vertical?g.swipeLeft=b+d*e:g.swipeLeft=b+d*(g.$list.height()/g.listWidth)*e,!0===g.options.verticalSwiping&&(g.swipeLeft=b+d*e),!0!==g.options.fade&&!1!==g.options.touchMove&&(!0===g.animating?(g.swipeLeft=null,!1):void g.setCSS(g.swipeLeft))):void 0)},b.prototype.swipeStart=function(a){var b,c=this;if(c.interrupted=!0,1!==c.touchObject.fingerCount||c.slideCount<=c.options.slidesToShow)return c.touchObject={},!1;void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(b=a.originalEvent.touches[0]),c.touchObject.startX=c.touchObject.curX=void 0!==b?b.pageX:a.clientX,c.touchObject.startY=c.touchObject.curY=void 0!==b?b.pageY:a.clientY,c.dragging=!0},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.remove(),b.$nextArrow&&b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},b.prototype.unslick=function(a){var b=this;b.$slider.trigger("unslick",[b,a]),b.destroy()},b.prototype.updateArrows=function(){var a=this;Math.floor(a.options.slidesToShow/2),!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&!a.options.infinite&&(a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===a.currentSlide?(a.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-a.options.slidesToShow&&!1===a.options.centerMode?(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-1&&!0===a.options.centerMode&&(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},b.prototype.visibility=function(){var a=this;a.options.autoplay&&(document[a.hidden]?a.interrupted=!0:a.interrupted=!1)},a.fn.slick=function(){var a,c,d=this,e=arguments[0],f=Array.prototype.slice.call(arguments,1),g=d.length;for(a=0;a<g;a++)if("object"==typeof e||void 0===e?d[a].slick=new b(d[a],e):c=d[a].slick[e].apply(d[a].slick,f),void 0!==c)return c;return d}}),angular.module("slickCarousel",[]).constant("slickCarouselConfig",{method:{},event:{}}).directive("slick",["$timeout","slickCarouselConfig",function(a,b){var c;return c=["slickGoTo","slickNext","slickPrev","slickPause","slickPlay","slickAdd","slickRemove","slickFilter","slickUnfilter","unslick"],["afterChange","beforeChange","breakpoint","destroy","edge","init","reInit","setPosition","swipe","lazyLoaded","lazyLoadError"],{scope:{settings:"=",enabled:"@",accessibility:"@",adaptiveHeight:"@",autoplay:"@",autoplaySpeed:"@",arrows:"@",asNavFor:"@",appendArrows:"@",prevArrow:"@",nextArrow:"@",centerMode:"@",centerPadding:"@",cssEase:"@",customPaging:"&",dots:"@",draggable:"@",fade:"@",focusOnSelect:"@",easing:"@",edgeFriction:"@",infinite:"@",initialSlide:"@",lazyLoad:"@",mobileFirst:"@",pauseOnHover:"@",pauseOnDotsHover:"@",respondTo:"@",responsive:"=?",rows:"@",slide:"@",slidesPerRow:"@",slidesToShow:"@",slidesToScroll:"@",speed:"@",swipe:"@",swipeToSlide:"@",touchMove:"@",touchThreshold:"@",useCSS:"@",variableWidth:"@",vertical:"@",verticalSwiping:"@",rtl:"@"},restrict:"AE",link:function(d,e,f){angular.element(e).css("display","none");var g,h,i,j,k,l;return h=function(){g=angular.extend(angular.copy(b),{enabled:"false"!==d.enabled,accessibility:"false"!==d.accessibility,adaptiveHeight:"true"===d.adaptiveHeight,autoplay:"true"===d.autoplay,autoplaySpeed:null!=d.autoplaySpeed?parseInt(d.autoplaySpeed,10):3e3,arrows:"false"!==d.arrows,asNavFor:d.asNavFor?d.asNavFor:void 0,appendArrows:angular.element(d.appendArrows?d.appendArrows:e),prevArrow:d.prevArrow?angular.element(d.prevArrow):void 0,nextArrow:d.nextArrow?angular.element(d.nextArrow):void 0,centerMode:"true"===d.centerMode,centerPadding:d.centerPadding||"50px",cssEase:d.cssEase||"ease",customPaging:f.customPaging?function(a,b){return d.customPaging({slick:a,index:b})}:void 0,dots:"true"===d.dots,draggable:"false"!==d.draggable,fade:"true"===d.fade,focusOnSelect:"true"===d.focusOnSelect,easing:d.easing||"linear",edgeFriction:d.edgeFriction||.15,infinite:"false"!==d.infinite,initialSlide:parseInt(d.initialSlide)||0,lazyLoad:d.lazyLoad||"ondemand",mobileFirst:"true"===d.mobileFirst,pauseOnHover:"false"!==d.pauseOnHover,pauseOnDotsHover:"true"===d.pauseOnDotsHover,respondTo:null!=d.respondTo?d.respondTo:"window",responsive:d.responsive||void 0,rows:null!=d.rows?parseInt(d.rows,10):1,slide:d.slide||"",slidesPerRow:null!=d.slidesPerRow?parseInt(d.slidesPerRow,10):1,slidesToShow:null!=d.slidesToShow?parseInt(d.slidesToShow,10):1,slidesToScroll:null!=d.slidesToScroll?parseInt(d.slidesToScroll,10):1,speed:null!=d.speed?parseInt(d.speed,10):300,swipe:"false"!==d.swipe,swipeToSlide:"true"===d.swipeToSlide,touchMove:"false"!==d.touchMove,touchThreshold:d.touchThreshold?parseInt(d.touchThreshold,10):5,useCSS:"false"!==d.useCSS,variableWidth:"true"===d.variableWidth,vertical:"true"===d.vertical,verticalSwiping:"true"===d.verticalSwiping,rtl:"true"===d.rtl},d.settings)},i=function(){var a=angular.element(e);return a.hasClass("slick-initialized")&&(a.remove("slick-list"),a.slick("unslick")),a},j=function(){h();var b=angular.element(e);if(angular.element(e).hasClass("slick-initialized")){if(g.enabled)return b.slick("getSlick");i()}else{if(!g.enabled)return;b.on("init",function(a,b){return void 0!==g.event.init&&g.event.init(a,b),void 0!==l?b.slideHandler(l):void 0}),a(function(){angular.element(e).css("display","block"),b.not(".slick-initialized").slick(g)})}d.internalControl=g.method||{},c.forEach(function(a){d.internalControl[a]=function(){var c;c=Array.prototype.slice.call(arguments),c.unshift(a),b.slick.apply(e,c)}}),b.on("afterChange",function(b,c,e){l=e,void 0!==g.event.afterChange&&a(function(){d.$apply(function(){g.event.afterChange(b,c,e)})})}),b.on("beforeChange",function(b,c,e,f){void 0!==g.event.beforeChange&&a(function(){a(function(){d.$apply(function(){g.event.beforeChange(b,c,e,f)})})})}),b.on("reInit",function(b,c){void 0!==g.event.reInit&&a(function(){d.$apply(function(){g.event.reInit(b,c)})})}),void 0!==g.event.breakpoint&&b.on("breakpoint",function(b,c,e){a(function(){d.$apply(function(){g.event.breakpoint(b,c,e)})})}),void 0!==g.event.destroy&&b.on("destroy",function(b,c){a(function(){d.$apply(function(){g.event.destroy(b,c)})})}),void 0!==g.event.edge&&b.on("edge",function(b,c,e){a(function(){d.$apply(function(){g.event.edge(b,c,e)})})}),void 0!==g.event.setPosition&&b.on("setPosition",function(b,c){a(function(){d.$apply(function(){g.event.setPosition(b,c)})})}),void 0!==g.event.swipe&&b.on("swipe",function(b,c,e){a(function(){d.$apply(function(){g.event.swipe(b,c,e)})})}),void 0!==g.event.lazyLoaded&&b.on("lazyLoaded",function(b,c,e,f){a(function(){d.$apply(function(){g.event.lazyLoaded(b,c,e,f)})})}),void 0!==g.event.lazyLoadError&&b.on("lazyLoadError",function(b,c,e,f){a(function(){d.$apply(function(){g.event.lazyLoadError(b,c,e,f)})})})},k=function(){i(),j()},e.one("$destroy",function(){i()}),d.$watch("settings",function(a,b){return null!==a?k():void 0},!0)}}}]),function(a){function b(){}function c(a,b){return function(){a.apply(b,arguments)}}function d(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],j(a,this)}function e(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):(a._handled=!0,void d._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?f:g)(b.promise,a._value);var d;try{d=c(a._value)}catch(a){return void g(b.promise,a)}f(b.promise,d)}))}function f(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var e=b.then;if(b instanceof d)return a._state=3,a._value=b,void h(a);if("function"==typeof e)return void j(c(e,b),a)}a._state=1,a._value=b,h(a)}catch(b){g(a,b)}}function g(a,b){a._state=2,a._value=b,h(a)}function h(a){2===a._state&&0===a._deferreds.length&&d._immediateFn(function(){a._handled||d._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)e(a,a._deferreds[b]);a._deferreds=null}function i(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function j(a,b){var c=!1;try{a(function(a){c||(c=!0,f(b,a))},function(a){c||(c=!0,g(b,a))})}catch(a){if(c)return;c=!0,g(b,a)}}var k=setTimeout;d.prototype.catch=function(a){return this.then(null,a)},d.prototype.then=function(a,c){var d=new this.constructor(b);return e(this,new i(a,c,d)),d},d.all=function(a){var b=Array.prototype.slice.call(a);return new d(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0==--e&&a(b)}catch(a){c(a)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(b){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})},d.race=function(a){return new d(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},d._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){k(a,0)},d._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},d._setImmediateFn=function(a){d._immediateFn=a},d._setUnhandledRejectionFn=function(a){d._unhandledRejectionFn=a},"undefined"!=typeof module&&module.exports?module.exports=d:a.Promise||(a.Promise=d)}(this),function(){function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function b(a){g||(g=Promise.resolve()),g.then(function(){setTimeout(a,100)})}function c(a){var b=a._queue;a._queue=[];var c=a._options&&a._options.maxBatchSize;if(c&&c>0&&c<b.length)for(var e=0;e<b.length/c;e++)d(a,b.slice(e*c,(e+1)*c));else d(a,b)}function d(a,b){var c=b.map(function(a){return a.key}),d=a._batchLoadFn,f=d(c);if(!f||"function"!=typeof f.then)return e(a,b,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(f)+"."));f.then(function(a){if(!Array.isArray(a))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(a)+".");if(a.length!==c.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(c)+"\n\nValues:\n"+String(a));b.forEach(function(b,c){var d=(b.key,b.resolve),e=b.reject,f=a[c];f instanceof Error?e(f):d(f)})}).catch(function(c){return e(a,b,c)})}function e(a,b,c){b.forEach(function(b){var d=b.key,e=b.reject;a.clear(d),e(c)})}function f(a){var b=a&&a.cacheMap;if(!b)return new Map;var c=["get","set","delete","clear"],d=c.filter(function(a){return b&&"function"!=typeof b[a]});if(0!==d.length)throw new TypeError("Custom cacheMap missing methods: "+d.join(", "));return b}window.DataLoader=function(){function d(b,c){if(a(this,d),"function"!=typeof b)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+b+".");this._batchLoadFn=b,this._options=c,this._promiseCache=f(c),this._queue=[]}return d.prototype.load=function(a){var d=this;if(null===a||void 0===a)throw new TypeError("The loader.load() function must be called with a value,but got: "+String(a)+".");var e=this._options,f=!e||!1!==e.batch,g=!e||!1!==e.cache,h=e&&e.cacheKeyFn,i=h?h(a):a;if(g){var j=this._promiseCache.get(i);if(j)return j}var k=new Promise(function(e,g){d._queue.push({key:a,resolve:e,reject:g}),1===d._queue.length&&(f?b(function(){return c(d)}):c(d))});return g&&this._promiseCache.set(i,k),k},d.prototype.loadMany=function(a){var b=this;if(!Array.isArray(a))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+a+".");return Promise.all(a.map(function(a){return b.load(a)}))},d.prototype.clear=function(a){var b=this._options&&this._options.cacheKeyFn,c=b?b(a):a;return this._promiseCache.delete(c),this},d.prototype.clearAll=function(){return this._promiseCache.clear(),this},d.prototype.prime=function(a,b){var c=this._options&&this._options.cacheKeyFn,d=c?c(a):a;if(void 0===this._promiseCache.get(d)){var e=b instanceof Error?Promise.reject(b):Promise.resolve(b);this._promiseCache.set(d,e)}return this},d}();var g}(),function(a){var b="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?a(exports):b&&(b.hljs=a({}),"function"==typeof define&&define.amd&&define([],function(){return b.hljs}))}(function(a){function b(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(a){return a.nodeName.toLowerCase()}function d(a,b){var c=a&&a.exec(b);return c&&0===c.index}function e(a){return A.test(a)}function f(a){var b,c,d,f,g=a.className+" ";if(g+=a.parentNode?a.parentNode.className:"",c=B.exec(g))return v(c[1])?c[1]:"no-highlight";for(g=g.split(/\s+/),b=0,d=g.length;d>b;b++)if(f=g[b],e(f)||v(f))return f}function g(a){var b,c={},d=Array.prototype.slice.call(arguments,1);for(b in a)c[b]=a[b];return d.forEach(function(a){for(b in a)c[b]=a[b]}),c}function h(a){var b=[];return function a(d,e){for(var f=d.firstChild;f;f=f.nextSibling)3===f.nodeType?e+=f.nodeValue.length:1===f.nodeType&&(b.push({event:"start",offset:e,node:f}),e=a(f,e),c(f).match(/br|hr|img|input/)||b.push({event:"stop",offset:e,node:f}));return e}(a,0),b}function i(a,d,e){function f(){return a.length&&d.length?a[0].offset!==d[0].offset?a[0].offset<d[0].offset?a:d:"start"===d[0].event?a:d:a.length?a:d}function g(a){function d(a){return" "+a.nodeName+'="'+b(a.value).replace('"',"&quot;")+'"'}k+="<"+c(a)+w.map.call(a.attributes,d).join("")+">"}function h(a){k+="</"+c(a)+">"}function i(a){("start"===a.event?g:h)(a.node)}for(var j=0,k="",l=[];a.length||d.length;){var m=f();if(k+=b(e.substring(j,m[0].offset)),j=m[0].offset,m===a){l.reverse().forEach(h);do{i(m.splice(0,1)[0]),m=f()}while(m===a&&m.length&&m[0].offset===j);l.reverse().forEach(g)}else"start"===m[0].event?l.push(m[0].node):l.pop(),i(m.splice(0,1)[0])}return k+b(e.substr(j))}function j(a){return a.v&&!a.cached_variants&&(a.cached_variants=a.v.map(function(b){return g(a,{v:null},b)})),a.cached_variants||a.eW&&[g(a)]||[a]}function k(a){function b(a){return a&&a.source||a}function c(c,d){return new RegExp(b(c),"m"+(a.cI?"i":"")+(d?"g":""))}function d(e,f){if(!e.compiled){if(e.compiled=!0,e.k=e.k||e.bK,e.k){var g={},h=function(b,c){a.cI&&(c=c.toLowerCase()),c.split(" ").forEach(function(a){var c=a.split("|");g[c[0]]=[b,c[1]?Number(c[1]):1]})};"string"==typeof e.k?h("keyword",e.k):x(e.k).forEach(function(a){h(a,e.k[a])}),e.k=g}e.lR=c(e.l||/\w+/,!0),f&&(e.bK&&(e.b="\\b("+e.bK.split(" ").join("|")+")\\b"),e.b||(e.b=/\B|\b/),e.bR=c(e.b),e.e||e.eW||(e.e=/\B|\b/),e.e&&(e.eR=c(e.e)),e.tE=b(e.e)||"",e.eW&&f.tE&&(e.tE+=(e.e?"|":"")+f.tE)),e.i&&(e.iR=c(e.i)),null==e.r&&(e.r=1),e.c||(e.c=[]),e.c=Array.prototype.concat.apply([],e.c.map(function(a){return j("self"===a?e:a)})),e.c.forEach(function(a){d(a,e)}),e.starts&&d(e.starts,f);var i=e.c.map(function(a){return a.bK?"\\.?("+a.b+")\\.?":a.b}).concat([e.tE,e.i]).map(b).filter(Boolean);e.t=i.length?c(i.join("|"),!0):{exec:function(){return null}}}}d(a)}function l(a,c,e,f){function g(a,b){var c,e;for(c=0,e=b.c.length;e>c;c++)if(d(b.c[c].bR,a))return b.c[c]}function h(a,b){if(d(a.eR,b)){for(;a.endsParent&&a.parent;)a=a.parent;return a}return a.eW?h(a.parent,b):void 0}function i(a,b){return!e&&d(b.iR,a)}function j(a,b){var c=t.cI?b[0].toLowerCase():b[0];return a.k.hasOwnProperty(c)&&a.k[c]}function n(a,b,c,d){var e=d?"":E.classPrefix,f='<span class="'+e,g=c?"":D;return(f+=a+'">')+b+g}function o(){var a,c,d,e;if(!w.k)return b(A);for(e="",c=0,w.lR.lastIndex=0,d=w.lR.exec(A);d;)e+=b(A.substring(c,d.index)),a=j(w,d),a?(B+=a[1],e+=n(a[0],b(d[0]))):e+=b(d[0]),c=w.lR.lastIndex,d=w.lR.exec(A);return e+b(A.substr(c))}function p(){var a="string"==typeof w.sL;if(a&&!y[w.sL])return b(A);var c=a?l(w.sL,A,!0,x[w.sL]):m(A,w.sL.length?w.sL:void 0);return w.r>0&&(B+=c.r),a&&(x[w.sL]=c.top),n(c.language,c.value,!1,!0)}function q(){z+=null!=w.sL?p():o(),A=""}function r(a){z+=a.cN?n(a.cN,"",!0):"",w=Object.create(a,{parent:{value:w}})}function s(a,b){if(A+=a,null==b)return q(),0;var c=g(b,w);if(c)return c.skip?A+=b:(c.eB&&(A+=b),q(),c.rB||c.eB||(A=b)),r(c,b),c.rB?0:b.length;var d=h(w,b);if(d){var e=w;e.skip?A+=b:(e.rE||e.eE||(A+=b),q(),e.eE&&(A=b));do{w.cN&&(z+=D),w.skip||(B+=w.r),w=w.parent}while(w!==d.parent);return d.starts&&r(d.starts,""),e.rE?0:b.length}if(i(b,w))throw new Error('Illegal lexeme "'+b+'" for mode "'+(w.cN||"<unnamed>")+'"');return A+=b,b.length||1}var t=v(a);if(!t)throw new Error('Unknown language: "'+a+'"');k(t);var u,w=f||t,x={},z="";for(u=w;u!==t;u=u.parent)u.cN&&(z=n(u.cN,"",!0)+z);var A="",B=0;try{for(var C,F,G=0;w.t.lastIndex=G,C=w.t.exec(c);)F=s(c.substring(G,C.index),C[0]),G=C.index+F;for(s(c.substr(G)),u=w;u.parent;u=u.parent)u.cN&&(z+=D);return{r:B,value:z,language:a,top:w}}catch(a){if(a.message&&-1!==a.message.indexOf("Illegal"))return{r:0,value:b(c)};throw a}}function m(a,c){c=c||E.languages||x(y);var d={r:0,value:b(a)},e=d;return c.filter(v).forEach(function(b){var c=l(b,a,!1);c.language=b,c.r>e.r&&(e=c),c.r>d.r&&(e=d,d=c)}),e.language&&(d.second_best=e),d}function n(a){return E.tabReplace||E.useBR?a.replace(C,function(a,b){return E.useBR&&"\n"===a?"<br>":E.tabReplace?b.replace(/\t/g,E.tabReplace):""}):a}function o(a,b,c){var d=b?z[b]:c,e=[a.trim()];return a.match(/\bhljs\b/)||e.push("hljs"),-1===a.indexOf(d)&&e.push(d),e.join(" ").trim()}function p(a){var b,c,d,g,j,k=f(a);e(k)||(E.useBR?(b=document.createElementNS("http://www.w3.org/1999/xhtml","div"),b.innerHTML=a.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):b=a,j=b.textContent,d=k?l(k,j,!0):m(j),c=h(b),c.length&&(g=document.createElementNS("http://www.w3.org/1999/xhtml","div"),g.innerHTML=d.value,d.value=i(c,h(g),j)),d.value=n(d.value),a.innerHTML=d.value,a.className=o(a.className,k,d.language),a.result={language:d.language,re:d.r},d.second_best&&(a.second_best={language:d.second_best.language,re:d.second_best.r}))}function q(a){E=g(E,a)}function r(){if(!r.called){r.called=!0;var a=document.querySelectorAll("pre code");w.forEach.call(a,p)}}function s(){addEventListener("DOMContentLoaded",r,!1),addEventListener("load",r,!1)}function t(b,c){var d=y[b]=c(a);d.aliases&&d.aliases.forEach(function(a){z[a]=b})}function u(){return x(y)}function v(a){return a=(a||"").toLowerCase(),y[a]||y[z[a]]}var w=[],x=Object.keys,y={},z={},A=/^(no-?highlight|plain|text)$/i,B=/\blang(?:uage)?-([\w-]+)\b/i,C=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,D="</span>",E={classPrefix:"hljs-",
tabReplace:null,useBR:!1,languages:void 0};return a.highlight=l,a.highlightAuto=m,a.fixMarkup=n,a.highlightBlock=p,a.configure=q,a.initHighlighting=r,a.initHighlightingOnLoad=s,a.registerLanguage=t,a.listLanguages=u,a.getLanguage=v,a.inherit=g,a.IR="[a-zA-Z]\\w*",a.UIR="[a-zA-Z_]\\w*",a.NR="\\b\\d+(\\.\\d+)?",a.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",a.BNR="\\b(0b[01]+)",a.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",a.BE={b:"\\\\[\\s\\S]",r:0},a.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[a.BE]},a.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[a.BE]},a.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},a.C=function(b,c,d){var e=a.inherit({cN:"comment",b:b,e:c,c:[]},d||{});return e.c.push(a.PWM),e.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),e},a.CLCM=a.C("//","$"),a.CBCM=a.C("/\\*","\\*/"),a.HCM=a.C("#","$"),a.NM={cN:"number",b:a.NR,r:0},a.CNM={cN:"number",b:a.CNR,r:0},a.BNM={cN:"number",b:a.BNR,r:0},a.CSSNM={cN:"number",b:a.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},a.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[a.BE,{b:/\[/,e:/\]/,r:0,c:[a.BE]}]},a.TM={cN:"title",b:a.IR,r:0},a.UTM={cN:"title",b:a.UIR,r:0},a.METHOD_GUARD={b:"\\.\\s*"+a.UIR,r:0},a.registerLanguage("apache",function(a){var b={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[a.HCM,{cN:"section",b:"</?",e:">"},{cN:"attribute",b:/\w+/,r:0,k:{nomarkup:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"meta",b:"\\s\\[",e:"\\]$"},{cN:"variable",b:"[\\$%]\\{",e:"\\}",c:["self",b]},b,a.QSM]}}],i:/\S/}}),a.registerLanguage("bash",function(a){var b={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},c={cN:"string",b:/"/,e:/"/,c:[a.BE,b,{cN:"variable",b:/\$\(/,e:/\)/,c:[a.BE]}]},d={cN:"string",b:/'/,e:/'/};return{aliases:["sh","zsh"],l:/\b-?[a-z\._]+\b/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[a.inherit(a.TM,{b:/\w[\w\d_]*/})],r:0},a.HCM,c,d,b]}}),a.registerLanguage("coffeescript",function(a){var b={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super yield import export from as default await then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},c="[A-Za-z$_][0-9A-Za-z$_]*",d={cN:"subst",b:/#\{/,e:/}/,k:b},e=[a.BNM,a.inherit(a.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[a.BE]},{b:/'/,e:/'/,c:[a.BE]},{b:/"""/,e:/"""/,c:[a.BE,d]},{b:/"/,e:/"/,c:[a.BE,d]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[d,a.HCM]},{b:"//[gim]*",r:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{b:"@"+c},{sL:"javascript",eB:!0,eE:!0,v:[{b:"```",e:"```"},{b:"`",e:"`"}]}];d.c=e;var f=a.inherit(a.TM,{b:c}),g="(\\(.*\\))?\\s*\\B[-=]>",h={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:b,c:["self"].concat(e)}]};return{aliases:["coffee","cson","iced"],k:b,i:/\/\*/,c:e.concat([a.C("###","###"),a.HCM,{cN:"function",b:"^\\s*"+c+"\\s*=\\s*"+g,e:"[-=]>",rB:!0,c:[f,h]},{b:/[:\(,=]\s*/,r:0,c:[{cN:"function",b:g,e:"[-=]>",rB:!0,c:[h]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[f]},f]},{b:c+":",e:":",rB:!0,rE:!0,r:0}])}}),a.registerLanguage("cpp",function(a){var b={cN:"keyword",b:"\\b[a-z\\d_]*_t\\b"},c={cN:"string",v:[{b:'(u8?|U)?L?"',e:'"',i:"\\n",c:[a.BE]},{b:'(u8?|U)?R"',e:'"',c:[a.BE]},{b:"'\\\\?.",e:"'",i:"."}]},d={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],r:0},e={cN:"meta",b:/#\s*[a-z]+\b/,e:/$/,k:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},c:[{b:/\\\n/,r:0},a.inherit(c,{cN:"meta-string"}),{cN:"meta-string",b:/<[^\n>]*>/,e:/$/,i:"\\n"},a.CLCM,a.CBCM]},f=a.IR+"\\s*\\(",g={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and or not",built_in:"std string cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"},h=[b,a.CLCM,a.CBCM,d,c];return{aliases:["c","cc","h","c++","h++","hpp"],k:g,i:"</",c:h.concat([e,{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:g,c:["self",b]},{b:a.IR+"::",k:g},{v:[{b:/=/,e:/;/},{b:/\(/,e:/\)/},{bK:"new throw return else",e:/;/}],k:g,c:h.concat([{b:/\(/,e:/\)/,k:g,c:h.concat(["self"]),r:0}]),r:0},{cN:"function",b:"("+a.IR+"[\\*&\\s]+)+"+f,rB:!0,e:/[{;=]/,eE:!0,k:g,i:/[^\w\s\*&]/,c:[{b:f,rB:!0,c:[a.TM],r:0},{cN:"params",b:/\(/,e:/\)/,k:g,r:0,c:[a.CLCM,a.CBCM,c,d,b]},a.CLCM,a.CBCM,e]},{cN:"class",bK:"class struct",e:/[{;:]/,c:[{b:/</,e:/>/,c:["self"]},a.TM]}]),exports:{preprocessor:e,strings:c,k:g}}}),a.registerLanguage("cs",function(a){var b={keyword:"abstract as base bool break byte case catch char checked const continue decimal default delegate do double enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long nameof object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending async await by descending dynamic equals from get global group into join let on orderby partial remove select set value var where yield",literal:"null false true"},c={cN:"string",b:'@"',e:'"',c:[{b:'""'}]},d=a.inherit(c,{i:/\n/}),e={cN:"subst",b:"{",e:"}",k:b},f=a.inherit(e,{i:/\n/}),g={cN:"string",b:/\$"/,e:'"',i:/\n/,c:[{b:"{{"},{b:"}}"},a.BE,f]},h={cN:"string",b:/\$@"/,e:'"',c:[{b:"{{"},{b:"}}"},{b:'""'},e]},i=a.inherit(h,{i:/\n/,c:[{b:"{{"},{b:"}}"},{b:'""'},f]});e.c=[h,g,c,a.ASM,a.QSM,a.CNM,a.CBCM],f.c=[i,g,d,a.ASM,a.QSM,a.CNM,a.inherit(a.CBCM,{i:/\n/})];var j={v:[h,g,c,a.ASM,a.QSM]},k=a.IR+"(<"+a.IR+"(\\s*,\\s*"+a.IR+")*>)?(\\[\\])?";return{aliases:["csharp"],k:b,i:/::/,c:[a.C("///","$",{rB:!0,c:[{cN:"doctag",v:[{b:"///",r:0},{b:"\x3c!--|--\x3e"},{b:"</?",e:">"}]}]}),a.CLCM,a.CBCM,{cN:"meta",b:"#",e:"$",k:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},j,a.CNM,{bK:"class interface",e:/[{;=]/,i:/[^\s:]/,c:[a.TM,a.CLCM,a.CBCM]},{bK:"namespace",e:/[{;=]/,i:/[^\s:]/,c:[a.inherit(a.TM,{b:"[a-zA-Z](\\.?\\w)*"}),a.CLCM,a.CBCM]},{cN:"meta",b:"^\\s*\\[",eB:!0,e:"\\]",eE:!0,c:[{cN:"meta-string",b:/"/,e:/"/}]},{bK:"new return throw await else",r:0},{cN:"function",b:"("+k+"\\s+)+"+a.IR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:b,c:[{b:a.IR+"\\s*\\(",rB:!0,c:[a.TM],r:0},{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:b,r:0,c:[j,a.CNM,a.CBCM]},a.CLCM,a.CBCM]}]}}),a.registerLanguage("css",function(a){var b={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[a.ASM,a.QSM]}]},a.CSSNM,a.QSM,a.ASM,a.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[a.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[a.ASM,a.QSM,a.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",r:0},{b:"{",e:"}",i:/\S/,c:[a.CBCM,b]}]}}),a.registerLanguage("diff",function(a){return{aliases:["patch"],c:[{cN:"meta",r:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"comment",v:[{b:/Index: /,e:/$/},{b:/={3,}/,e:/$/},{b:/^\-{3}/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+{3}/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"addition",b:"^\\!",e:"$"}]}}),a.registerLanguage("http",function(a){var b="HTTP/[0-9\\.]+";return{aliases:["https"],i:"\\S",c:[{b:"^"+b,e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{b:"^[A-Z]+ (.*?) "+b+"$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0},{b:b},{cN:"keyword",b:"[A-Z]+"}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{e:"$",r:0}},{b:"\\n\\n",starts:{sL:[],eW:!0}}]}}),a.registerLanguage("ini",function(a){var b={cN:"string",c:[a.BE],v:[{b:"'''",e:"'''",r:10},{b:'"""',e:'"""',r:10},{b:'"',e:'"'},{b:"'",e:"'"}]};return{aliases:["toml"],cI:!0,i:/\S/,c:[a.C(";","$"),a.HCM,{cN:"section",b:/^\s*\[+/,e:/\]+/},{b:/^[a-z0-9\[\]_-]+\s*=\s*/,e:"$",rB:!0,c:[{cN:"attr",b:/[a-z0-9\[\]_-]+/},{b:/=/,eW:!0,r:0,c:[{cN:"literal",b:/\bon|off|true|false|yes|no\b/},{cN:"variable",v:[{b:/\$[\w\d"][\w\d_]*/},{b:/\$\{(.*?)}/}]},b,{cN:"number",b:/([\+\-]+)?[\d]+_[\d_]+/},a.NM]}]}]}}),a.registerLanguage("java",function(a){var b="false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",c={cN:"number",b:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",r:0};return{aliases:["jsp"],k:b,i:/<\/|#/,c:[a.C("/\\*\\*","\\*/",{r:0,c:[{b:/\w+@/,r:0},{cN:"doctag",b:"@[A-Za-z]+"}]}),a.CLCM,a.CBCM,a.ASM,a.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},a.UTM]},{bK:"new throw return else",r:0},{cN:"function",b:"([À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(<[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(\\s*,\\s*[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*)*>)?\\s+)+"+a.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:b,c:[{b:a.UIR+"\\s*\\(",rB:!0,r:0,c:[a.UTM]},{cN:"params",b:/\(/,e:/\)/,k:b,r:0,c:[a.ASM,a.QSM,a.CNM,a.CBCM]},a.CLCM,a.CBCM]},c,{cN:"meta",b:"@[A-Za-z]+"}]}}),a.registerLanguage("javascript",function(a){var b="[A-Za-z$_][0-9A-Za-z$_]*",c={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},d={cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:a.CNR}],r:0},e={cN:"subst",b:"\\$\\{",e:"\\}",k:c,c:[]},f={cN:"string",b:"`",e:"`",c:[a.BE,e]};e.c=[a.ASM,a.QSM,f,d,a.RM];var g=e.c.concat([a.CBCM,a.CLCM]);return{aliases:["js","jsx"],k:c,c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},a.ASM,a.QSM,f,a.CLCM,a.CBCM,d,{b:/[{,]\s*/,r:0,c:[{b:b+"\\s*:",rB:!0,r:0,c:[{cN:"attr",b:b,r:0}]}]},{b:"("+a.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[a.CLCM,a.CBCM,a.RM,{cN:"function",b:"(\\(.*?\\)|"+b+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:b},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:c,c:g}]}]},{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:[{b:/<\w+\s*\/>/,skip:!0},"self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[a.inherit(a.TM,{b:b}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:g}],i:/\[|%/},{b:/\$[(.]/},a.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},a.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}}),a.registerLanguage("json",function(a){var b={literal:"true false null"},c=[a.QSM,a.CNM],d={e:",",eW:!0,eE:!0,c:c,k:b},e={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[a.BE],i:"\\n"},a.inherit(d,{b:/:/})],i:"\\S"},f={b:"\\[",e:"\\]",c:[a.inherit(d)],i:"\\S"};return c.splice(c.length,0,e,f),{c:c,k:b,i:"\\S"}}),a.registerLanguage("makefile",function(a){var b={cN:"variable",v:[{b:"\\$\\("+a.UIR+"\\)",c:[a.BE]},{b:/\$[@%<?\^\+\*]/}]},c={cN:"string",b:/"/,e:/"/,c:[a.BE,b]},d={cN:"variable",b:/\$\([\w-]+\s/,e:/\)/,k:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},c:[b]},e={b:"^"+a.UIR+"\\s*[:+?]?=",i:"\\n",rB:!0,c:[{b:"^"+a.UIR,e:"[:+?]?=",eE:!0}]},f={cN:"meta",b:/^\.PHONY:/,e:/$/,k:{"meta-keyword":".PHONY"},l:/[\.\w]+/},g={cN:"section",b:/^[^\s]+:/,e:/$/,c:[b]};return{aliases:["mk","mak"],k:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath",l:/[\w-]+/,c:[a.HCM,b,c,d,e,f,g]}}),a.registerLanguage("xml",function(a){var b={eW:!0,i:/</,r:0,c:[{cN:"attr",b:"[A-Za-z0-9\\._:-]+",r:0},{b:/=\s*/,r:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},a.C("\x3c!--","--\x3e",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0}]},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{name:"style"},c:[b],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[b],starts:{e:"<\/script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"meta",v:[{b:/<\?xml/,e:/\?>/,r:10},{b:/<\?\w+/,e:/\?>/}]},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},b]}]}}),a.registerLanguage("markdown",function(a){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```w*s*$",e:"^```s*$"},{b:"`.+?`"},{b:"^( {4}|\t)",e:"$",r:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}}),a.registerLanguage("nginx",function(a){var b={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+a.UIR}]},c={eW:!0,l:"[a-z/_]+",k:{literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[a.HCM,{cN:"string",c:[a.BE,b],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[b]},{cN:"regexp",c:[a.BE,b],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},b]};return{aliases:["nginxconf"],c:[a.HCM,{b:a.UIR+"\\s+{",rB:!0,e:"{",c:[{cN:"section",b:a.UIR}],r:0},{b:a.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"attribute",b:a.UIR,starts:c}],r:0}],i:"[^\\s\\}]"}}),a.registerLanguage("objectivec",function(a){var b={cN:"built_in",b:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},c={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},d=/[a-zA-Z@][a-zA-Z0-9_]*/,e="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],k:c,l:d,i:"</",c:[b,a.CLCM,a.CBCM,a.CNM,a.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[a.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"meta",b:"#",e:"$",c:[{cN:"meta-string",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+e.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:e,l:d,c:[a.UTM]},{b:"\\."+a.UIR,r:0}]}}),a.registerLanguage("perl",function(a){var b="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",c={cN:"subst",b:"[$@]\\{",e:"\\}",k:b},d={b:"->{",e:"}"},e={v:[{b:/\$\d/},{b:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{b:/[\$%@][^\s\w{]/,r:0}]},f=[a.BE,c,e],g=[e,a.HCM,a.C("^\\=\\w","\\=cut",{eW:!0}),d,{cN:"string",c:f,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[a.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[a.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+a.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[a.HCM,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[a.BE],r:0}]},{cN:"function",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",eE:!0,r:5,c:[a.TM]},{b:"-\\w\\b",r:0},{b:"^__DATA__$",e:"^__END__$",sL:"mojolicious",c:[{b:"^@@.*",e:"$",cN:"comment"}]}];return c.c=g,d.c=g,{aliases:["pl","pm"],l:/[\w\.]+/,k:b,c:g}}),a.registerLanguage("php",function(a){var b={b:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},c={cN:"meta",b:/<\?(php)?|\?>/},d={cN:"string",c:[a.BE,c],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},a.inherit(a.ASM,{i:null}),a.inherit(a.QSM,{i:null})]},e={v:[a.BNM,a.CNM]};return{aliases:["php3","php4","php5","php6"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[a.HCM,a.C("//","$",{c:[c]}),a.C("/\\*","\\*/",{c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),a.C("__halt_compiler.+?;",!1,{eW:!0,k:"__halt_compiler",l:a.UIR}),{cN:"string",b:/<<<['"]?\w+['"]?$/,e:/^\w+;?$/,c:[a.BE,{cN:"subst",v:[{b:/\$\w+/},{b:/\{\$/,e:/\}/}]}]},c,{cN:"keyword",b:/\$this\b/},b,{b:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[a.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",b,a.CBCM,d,e]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},a.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[a.UTM]},{bK:"use",e:";",c:[a.UTM]},{b:"=>"},d,e]}}),a.registerLanguage("python",function(a){var b={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},c={cN:"meta",b:/^(>>>|\.\.\.) /},d={cN:"subst",b:/\{/,e:/\}/,k:b,i:/#/},e={cN:"string",c:[a.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[c],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[c],r:10},{b:/(fr|rf|f)'''/,e:/'''/,c:[c,d]},{b:/(fr|rf|f)"""/,e:/"""/,c:[c,d]},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},{b:/(fr|rf|f)'/,e:/'/,c:[d]},{b:/(fr|rf|f)"/,e:/"/,c:[d]},a.ASM,a.QSM]},f={cN:"number",r:0,v:[{b:a.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:a.CNR+"[lLjJ]?"}]},g={cN:"params",b:/\(/,e:/\)/,c:["self",c,f,e]};return d.c=[e,f,c],{aliases:["py","gyp"],k:b,i:/(<\/|->|\?)|=>/,c:[c,f,e,a.HCM,{v:[{cN:"function",bK:"def"},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[a.UTM,g,{b:/->/,eW:!0,k:"None"}]},{cN:"meta",b:/^[\t ]*@/,e:/$/},{b:/\b(print|exec)\(/}]}}),a.registerLanguage("ruby",function(a){var b="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",c={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},d={cN:"doctag",b:"@[A-Za-z]+"},e={b:"#<",e:">"},f=[a.C("#","$",{c:[d]}),a.C("^\\=begin","^\\=end",{c:[d],r:10}),a.C("^__END__","\\n$")],g={cN:"subst",b:"#\\{",e:"}",k:c},h={cN:"string",c:[a.BE,g],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{b:/<<(-?)\w+$/,e:/^\s*\w+$/}]},i={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:c},j=[h,e,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[a.inherit(a.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{b:"<\\s*",c:[{b:"("+a.IR+"::)?"+a.IR}]}].concat(f)},{cN:"function",bK:"def",e:"$|;",c:[a.inherit(a.TM,{b:b}),i].concat(f)},{b:a.IR+"::"},{cN:"symbol",b:a.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":(?!\\s)",c:[h,{b:b}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{cN:"params",b:/\|/,e:/\|/,k:c},{b:"("+a.RSR+"|unless)\\s*",k:"unless",c:[e,{cN:"regexp",c:[a.BE,g],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(f),r:0}].concat(f);g.c=j,i.c=j;var k=[{b:/^\s*=>/,starts:{e:"$",c:j}},{cN:"meta",b:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>)",starts:{e:"$",c:j}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:c,i:/\/\*/,c:f.concat(k).concat(j)}}),a.registerLanguage("shell",function(a){return{aliases:["console"],c:[{cN:"meta",b:"^\\s{0,3}[\\w\\d\\[\\]()@-]*[>%$#]",starts:{e:"$",sL:"bash"}}]}}),a.registerLanguage("sql",function(a){var b=a.C("--","$");return{cI:!0,i:/[<>{}*#]/,c:[{bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment",e:/;/,eW:!0,l:/[\w\.]+/,k:{
keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"},c:[{cN:"string",b:"'",e:"'",c:[a.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[a.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[a.BE]},a.CNM,a.CBCM,b]},a.CBCM,b]}}),a}),"classList"in document.createElement("_")||function(a){"use strict";if("Element"in a){var b="classList",c="prototype",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute("class")||""),c=b?b.split(/\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do{a=b[c]+"",-1===i(this,a)&&(this.push(a),e=!0)}while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,d=0,e=c.length,f=!1;do{for(a=c[d]+"",b=i(this,a);-1!==b;)this.splice(b,1),f=!0,b=i(this,a)}while(++d<e);f&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),d=c?!0!==b&&"remove":!1!==b&&"add";return d&&this[d](a),!0===b||!1===b?b:!c},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(a){-2146823252===a.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(self),function(a){"use strict";if(a.URL=a.URL||a.webkitURL,a.Blob&&a.URL)try{return void new Blob}catch(a){}var b=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=a,this.size=a.length,this.type=b,this.encoding=c},e=c.prototype,f=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),j=i.length,k=a.URL||a.webkitURL||a,l=k.createObjectURL,m=k.revokeObjectURL,n=k,o=a.btoa,p=a.atob,q=a.ArrayBuffer,r=a.Uint8Array,s=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(d.fake=f.fake=!0;j--;)h.prototype[i[j]]=j+1;return k.createObjectURL||(n=a.URL=function(a){var b,c=document.createElementNS("http://www.w3.org/1999/xhtml","a");return c.href=a,"origin"in c||("data:"===c.protocol.toLowerCase()?c.origin=null:(b=a.match(s),c.origin=b&&b[1])),c}),n.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):o?b+";base64,"+o(a.data):b+","+encodeURIComponent(a.data)):l?l.call(k,a):void 0},n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&m&&m.call(k,a)},e.append=function(a){var c=this.data;if(r&&(a instanceof q||a instanceof r)){for(var e="",f=new r(a),i=0,j=f.length;j>i;i++)e+=String.fromCharCode(f[i]);c.push(e)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");var k=new g;c.push(k.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&p?c.push(p(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},e.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},e.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var e=arguments.length;return 3>e&&(c=null),new d(this.data.slice(a,e>1?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},f.close=function(){this.size=0,delete this.data},c}(a);a.Blob=function(a,c){var d=c?c.type||"":"",e=new b;if(a)for(var f=0,g=a.length;g>f;f++)Uint8Array&&a[f]instanceof Uint8Array?e.append(a[f].buffer):e.append(a[f]);var h=e.getBlob(d);return!h.slice&&h.webkitSlice&&(h.slice=h.webkitSlice),h};var c=Object.getPrototypeOf||function(a){return a.__proto__};a.Blob.prototype=c(new a.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(a,b){"use strict";"object"==typeof module?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):a.MediumEditor=b}(this,function(){"use strict";function a(a,b){return this.init(a,b)}return a.extensions={},function(b){function c(a,b){var c,d=Array.prototype.slice.call(arguments,2);b=b||{};for(var e=0;e<d.length;e++){var f=d[e];if(f)for(c in f)f.hasOwnProperty(c)&&void 0!==f[c]&&(a||!1===b.hasOwnProperty(c))&&(b[c]=f[c])}return b}var d=!1;try{var e=document.createElement("div"),f=document.createTextNode(" ");e.appendChild(f),d=e.contains(f)}catch(a){}var g={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:b.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77},isMetaCtrlKey:function(a){return!!(g.isMac&&a.metaKey||!g.isMac&&a.ctrlKey)},isKey:function(a,b){var c=g.getKeyCode(a);return!1===Array.isArray(b)?c===b:-1!==b.indexOf(c)},getKeyCode:function(a){var b=a.which;return null===b&&(b=null!==a.charCode?a.charCode:a.keyCode),b},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var a=[!0].concat(Array.prototype.slice.call(arguments));return c.apply(this,a)},defaults:function(){var a=[!1].concat(Array.prototype.slice.call(arguments));return c.apply(this,a)},createLink:function(a,b,c,d){var e=a.createElement("a");return g.moveTextRangeIntoElement(b[0],b[b.length-1],e),e.setAttribute("href",c),d&&e.setAttribute("target",d),e},findOrCreateMatchingTextNodes:function(a,b,c){for(var d=a.createTreeWalker(b,NodeFilter.SHOW_ALL,null,!1),e=[],f=0,h=!1,i=null,j=null;null!==(i=d.nextNode());)if(!(i.nodeType>3))if(3===i.nodeType){if(!h&&c.start<f+i.nodeValue.length&&(h=!0,j=g.splitStartNodeIfNeeded(i,c.start,f)),h&&g.splitEndNodeIfNeeded(i,j,c.end,f),h&&f===c.end)break;if(h&&f>c.end+1)throw new Error("PerformLinking overshot the target!");h&&e.push(j||i),f+=i.nodeValue.length,null!==j&&(f+=j.nodeValue.length,d.nextNode()),j=null}else"img"===i.tagName.toLowerCase()&&(!h&&c.start<=f&&(h=!0),h&&e.push(i));return e},splitStartNodeIfNeeded:function(a,b,c){return b!==c?a.splitText(b-c):null},splitEndNodeIfNeeded:function(a,b,c,d){var e,f;e=d+(b||a).nodeValue.length+(b?a.nodeValue.length:0)-1,f=(b||a).nodeValue.length-(e+1-c),e>=c&&d!==e&&0!==f&&(b||a).splitText(f)},splitByBlockElements:function(b){if(3!==b.nodeType&&1!==b.nodeType)return[];var c=[],d=a.util.blockContainerElementNames.join(",");if(3===b.nodeType||0===b.querySelectorAll(d).length)return[b];for(var e=0;e<b.childNodes.length;e++){var f=b.childNodes[e];if(3===f.nodeType)c.push(f);else if(1===f.nodeType){var g=f.querySelectorAll(d);0===g.length?c.push(f):c=c.concat(a.util.splitByBlockElements(f))}}return c},findAdjacentTextNodeWithContent:function(a,b,c){var d,e=!1,f=c.createNodeIterator(a,NodeFilter.SHOW_TEXT,null,!1);for(d=f.nextNode();d;){if(d===b)e=!0;else if(e&&3===d.nodeType&&d.nodeValue&&d.nodeValue.trim().length>0)break;d=f.nextNode()}return d},isDescendant:function(a,b,c){if(!a||!b)return!1;if(a===b)return!!c;if(1!==a.nodeType)return!1;if(d||3!==b.nodeType)return a.contains(b);for(var e=b.parentNode;null!==e;){if(e===a)return!0;e=e.parentNode}return!1},isElement:function(a){return!(!a||1!==a.nodeType)},throttle:function(a,b){var c,d,e,f=null,g=0,h=function(){g=Date.now(),f=null,e=a.apply(c,d),f||(c=d=null)};return b||0===b||(b=50),function(){var i=Date.now(),j=b-(i-g);return c=this,d=arguments,0>=j||j>b?(f&&(clearTimeout(f),f=null),g=i,e=a.apply(c,d),f||(c=d=null)):f||(f=setTimeout(h,j)),e}},traverseUp:function(a,b){if(!a)return!1;do{if(1===a.nodeType){if(b(a))return a;if(g.isMediumEditorElement(a))return!1}a=a.parentNode}while(a);return!1},htmlEntities:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(a,b){var c,d,e,f,h,i,j;if(a.queryCommandSupported("insertHTML"))try{return a.execCommand("insertHTML",!1,b)}catch(a){}if(c=a.getSelection(),c.rangeCount){if(d=c.getRangeAt(0),j=d.commonAncestorContainer,g.isMediumEditorElement(j)&&!j.firstChild)d.selectNode(j.appendChild(a.createTextNode("")));else if(3===j.nodeType&&0===d.startOffset&&d.endOffset===j.nodeValue.length||3!==j.nodeType&&j.innerHTML===d.toString()){for(;!g.isMediumEditorElement(j)&&j.parentNode&&1===j.parentNode.childNodes.length&&!g.isMediumEditorElement(j.parentNode);)j=j.parentNode;d.selectNode(j)}for(d.deleteContents(),e=a.createElement("div"),e.innerHTML=b,f=a.createDocumentFragment();e.firstChild;)h=e.firstChild,i=f.appendChild(h);d.insertNode(f),i&&(d=d.cloneRange(),d.setStartAfter(i),d.collapse(!0),c.removeAllRanges(),c.addRange(d))}},execFormatBlock:function(b,c){var d,e=g.getTopBlockContainer(a.selection.getSelectionStart(b));if("blockquote"===c){if(e&&(d=Array.prototype.slice.call(e.childNodes),d.some(function(a){return g.isBlockContainer(a)})))return b.execCommand("outdent",!1,null);if(g.isIE)return b.execCommand("indent",!1,c)}if(e&&c===e.nodeName.toLowerCase()&&(c="p"),g.isIE&&(c="<"+c+">"),e&&"blockquote"===e.nodeName.toLowerCase()){if(g.isIE&&"<p>"===c)return b.execCommand("outdent",!1,c);if(g.isFF&&"p"===c)return d=Array.prototype.slice.call(e.childNodes),d.some(function(a){return!g.isBlockContainer(a)})&&b.execCommand("formatBlock",!1,c),b.execCommand("outdent",!1,c)}return b.execCommand("formatBlock",!1,c)},setTargetBlank:function(a,b){var c,d=b||!1;if("a"===a.nodeName.toLowerCase())a.target="_blank";else for(a=a.getElementsByTagName("a"),c=0;c<a.length;c+=1)(!1===d||d===a[c].attributes.href.value)&&(a[c].target="_blank")},addClassToAnchors:function(a,b){var c,d,e=b.split(" ");if("a"===a.nodeName.toLowerCase())for(d=0;d<e.length;d+=1)a.classList.add(e[d]);else for(a=a.getElementsByTagName("a"),c=0;c<a.length;c+=1)for(d=0;d<e.length;d+=1)a[c].classList.add(e[d])},isListItem:function(a){if(!a)return!1;if("li"===a.nodeName.toLowerCase())return!0;for(var b=a.parentNode,c=b.nodeName.toLowerCase();"li"===c||!g.isBlockContainer(b)&&"div"!==c;){if("li"===c)return!0;if(!(b=b.parentNode))return!1;c=b.nodeName.toLowerCase()}return!1},cleanListDOM:function(b,c){if("li"===c.nodeName.toLowerCase()){var d=c.parentElement;"p"===d.parentElement.nodeName.toLowerCase()&&(g.unwrap(d.parentElement,b),a.selection.moveCursor(b,c.firstChild,c.firstChild.textContent.length))}},splitOffDOMTree:function(a,b,c){for(var d=b,e=null,f=!c;d!==a;){var g,h=d.parentNode,i=h.cloneNode(!1),j=f?d:h.firstChild;for(e&&(f?i.appendChild(e):g=e),e=i;j;){var k=j.nextSibling;j===d?(j.hasChildNodes()?j=j.cloneNode(!1):j.parentNode.removeChild(j),j.textContent&&e.appendChild(j),j=f?k:null):(j.parentNode.removeChild(j),(j.hasChildNodes()||j.textContent)&&e.appendChild(j),j=k)}g&&e.appendChild(g),d=h}return e},moveTextRangeIntoElement:function(a,b,c){if(!a||!b)return!1;var d=g.findCommonRoot(a,b);if(!d)return!1;if(b===a){var e=a.parentNode,f=a.nextSibling;return e.removeChild(a),c.appendChild(a),f?e.insertBefore(c,f):e.appendChild(c),c.hasChildNodes()}for(var h,i,j,k=[],l=0;l<d.childNodes.length;l++)if(j=d.childNodes[l],h){if(g.isDescendant(j,b,!0)){i=j;break}k.push(j)}else g.isDescendant(j,a,!0)&&(h=j);var m=i.nextSibling,n=d.ownerDocument.createDocumentFragment();return h===a?(h.parentNode.removeChild(h),n.appendChild(h)):n.appendChild(g.splitOffDOMTree(h,a)),k.forEach(function(a){a.parentNode.removeChild(a),n.appendChild(a)}),i===b?(i.parentNode.removeChild(i),n.appendChild(i)):n.appendChild(g.splitOffDOMTree(i,b,!0)),c.appendChild(n),i.parentNode===d?d.insertBefore(c,i):m?d.insertBefore(c,m):d.appendChild(c),c.hasChildNodes()},depthOfNode:function(a){for(var b=0,c=a;null!==c.parentNode;)c=c.parentNode,b++;return b},findCommonRoot:function(a,b){for(var c=g.depthOfNode(a),d=g.depthOfNode(b),e=a,f=b;c!==d;)c>d?(e=e.parentNode,c-=1):(f=f.parentNode,d-=1);for(;e!==f;)e=e.parentNode,f=f.parentNode;return e},isElementAtBeginningOfBlock:function(a){for(var b,c;!g.isBlockContainer(a)&&!g.isMediumEditorElement(a);){for(c=a;c=c.previousSibling;)if(b=3===c.nodeType?c.nodeValue:c.textContent,b.length>0)return!1;a=a.parentNode}return!0},isMediumEditorElement:function(a){return a&&a.getAttribute&&!!a.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(a){return g.traverseUp(a,function(a){return g.isMediumEditorElement(a)})},isBlockContainer:function(a){return a&&3!==a.nodeType&&-1!==g.blockContainerElementNames.indexOf(a.nodeName.toLowerCase())},getClosestBlockContainer:function(a){return g.traverseUp(a,function(a){return g.isBlockContainer(a)})},getTopBlockContainer:function(a){var b=a;return g.traverseUp(a,function(a){return g.isBlockContainer(a)&&(b=a),!1}),b},getFirstSelectableLeafNode:function(a){for(;a&&a.firstChild;)a=a.firstChild;if(a=g.traverseUp(a,function(a){return-1===g.emptyElementNames.indexOf(a.nodeName.toLowerCase())}),"table"===a.nodeName.toLowerCase()){var b=a.querySelector("th, td");b&&(a=b)}return a},getFirstTextNode:function(a){if(3===a.nodeType)return a;for(var b=0;b<a.childNodes.length;b++){var c=g.getFirstTextNode(a.childNodes[b]);if(null!==c)return c}return null},ensureUrlHasProtocol:function(a){return-1===a.indexOf("://")?"http://"+a:a},warn:function(){void 0!==b.console&&"function"==typeof b.console.warn&&b.console.warn.apply(b.console,arguments)},deprecated:function(a,b,c){var d=a+" is deprecated, please use "+b+" instead.";c&&(d+=" Will be removed in "+c),g.warn(d)},deprecatedMethod:function(a,b,c,d){g.deprecated(a,b,d),"function"==typeof this[b]&&this[b].apply(this,c)},cleanupAttrs:function(a,b){b.forEach(function(b){a.removeAttribute(b)})},cleanupTags:function(a,b){b.forEach(function(b){a.nodeName.toLowerCase()===b&&a.parentNode.removeChild(a)})},getClosestTag:function(a,b){return g.traverseUp(a,function(a){return a.nodeName.toLowerCase()===b.toLowerCase()})},unwrap:function(a,b){for(var c=b.createDocumentFragment(),d=Array.prototype.slice.call(a.childNodes),e=0;e<d.length;e++)c.appendChild(d[e]);c.childNodes.length?a.parentNode.replaceChild(c,a):a.parentNode.removeChild(a)}};a.util=g}(window),function(){var b=function(b){a.util.extend(this,b)};b.extend=function(b){var c,d=this;c=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return d.apply(this,arguments)},a.util.extend(c,d);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,b&&a.util.extend(c.prototype,b),c},b.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(a){return this.base.options[a]}},["execAction","on","off","subscribe","trigger"].forEach(function(a){b.prototype[a]=function(){return this.base[a].apply(this.base,arguments)}}),a.Extension=b}(),function(){function b(b){return a.util.isBlockContainer(b)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var c={findMatchingSelectionParent:function(b,c){var d,e,f=c.getSelection();return 0!==f.rangeCount&&(d=f.getRangeAt(0),e=d.commonAncestorContainer,a.util.traverseUp(e,b))},getSelectionElement:function(b){return this.findMatchingSelectionParent(function(b){return a.util.isMediumEditorElement(b)},b)},exportSelection:function(a,b){if(!a)return null;var c=null,d=b.getSelection();if(d.rangeCount>0){var e,f=d.getRangeAt(0),g=f.cloneRange();if(g.selectNodeContents(a),g.setEnd(f.startContainer,f.startOffset),e=g.toString().length,c={start:e,end:e+f.toString().length},0!==f.endOffset&&("img"===f.endContainer.nodeName.toLowerCase()||1===f.endContainer.nodeType&&f.endContainer.querySelector("img"))){var h=this.getTrailingImageCount(a,c,f.endContainer,f.endOffset);h&&(c.trailingImageCount=h)}if(0!==e){var i=this.getIndexRelativeToAdjacentEmptyBlocks(b,a,f.startContainer,f.startOffset);-1!==i&&(c.emptyBlocksIndex=i)}}return c},importSelection:function(a,b,c,d){if(a&&b){var e=c.createRange();e.setStart(b,0),e.collapse(!0);for(var f,g=b,h=[],i=0,j=!1,k=!1,l=0,m=!1;!m&&g;)if(!(g.nodeType>3)){if(3!==g.nodeType||k){if(a.trailingImageCount&&k&&("img"===g.nodeName.toLowerCase()&&l++,l===a.trailingImageCount)){for(var n=0;g.parentNode.childNodes[n]!==g;)n++;e.setEnd(g.parentNode,n+1),m=!0}if(!m&&1===g.nodeType)for(var o=g.childNodes.length-1;o>=0;)h.push(g.childNodes[o]),o-=1}else f=i+g.length,!j&&a.start>=i&&a.start<=f&&(e.setStart(g,a.start-i),j=!0),j&&a.end>=i&&a.end<=f&&(a.trailingImageCount?k=!0:(e.setEnd(g,a.end-i),m=!0)),i=f;m||(g=h.pop())}void 0!==a.emptyBlocksIndex&&(e=this.importSelectionMoveCursorPastBlocks(c,b,a.emptyBlocksIndex,e)),d&&(e=this.importSelectionMoveCursorPastAnchor(a,e));var p=c.getSelection();p.removeAllRanges(),p.addRange(e)}},importSelectionMoveCursorPastAnchor:function(b,c){var d=function(a){return"a"===a.nodeName.toLowerCase()};if(b.start===b.end&&3===c.startContainer.nodeType&&c.startOffset===c.startContainer.nodeValue.length&&a.util.traverseUp(c.startContainer,d)){for(var e=c.startContainer,f=c.startContainer.parentNode;null!==f&&"a"!==f.nodeName.toLowerCase();)f.childNodes[f.childNodes.length-1]!==e?f=null:(e=f,f=f.parentNode);if(null!==f&&"a"===f.nodeName.toLowerCase()){for(var g=null,h=0;null===g&&h<f.parentNode.childNodes.length;h++)f.parentNode.childNodes[h]===f&&(g=h);c.setStart(f.parentNode,g+1),c.collapse(!0)}}return c},importSelectionMoveCursorPastBlocks:function(c,d,e,f){var g,h,i=c.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,b,!1),j=f.startContainer,k=0;for(e=e||1,g=3===j.nodeType&&a.util.isBlockContainer(j.previousSibling)?j.previousSibling:a.util.getClosestBlockContainer(j);i.nextNode();)if(h){if(h=i.currentNode,++k===e)break;if(h.textContent.length>0)break}else g===i.currentNode&&(h=i.currentNode);return f.setStart(a.util.getFirstSelectableLeafNode(h),0),f},getIndexRelativeToAdjacentEmptyBlocks:function(c,d,e,f){if(e.textContent.length>0&&f>0)return-1;var g=e;if(3!==g.nodeType&&(g=e.childNodes[f]),g&&!a.util.isElementAtBeginningOfBlock(g))return-1;for(var h=a.util.getClosestBlockContainer(e),i=c.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,b,!1),j=0;i.nextNode();){var k=""===i.currentNode.textContent;if((k||j>0)&&(j+=1),i.currentNode===h)return j;k||(j=0)}return j},getTrailingImageCount:function(a,b,c,d){for(var e=c.childNodes[d-1];e.hasChildNodes();)e=e.lastChild;for(var f,g=a,h=[],i=0,j=!1,k=!1,l=!1,m=0;!l&&g;)if(!(g.nodeType>3)){if(3!==g.nodeType||k){if("img"===g.nodeName.toLowerCase()&&m++,g===e)l=!0;else if(1===g.nodeType)for(var n=g.childNodes.length-1;n>=0;)h.push(g.childNodes[n]),n-=1}else m=0,f=i+g.length,!j&&b.start>=i&&b.start<=f&&(j=!0),j&&b.end>=i&&b.end<=f&&(k=!0),i=f;l||(g=h.pop())}return m},selectionContainsContent:function(a){var b=a.getSelection();if(!b||b.isCollapsed||!b.rangeCount)return!1;if(""!==b.toString().trim())return!0;var c=this.getSelectedParentElement(b.getRangeAt(0));return!(!c||!("img"===c.nodeName.toLowerCase()||1===c.nodeType&&c.querySelector("img")))},selectionInContentEditableFalse:function(a){var b,c=this.findMatchingSelectionParent(function(a){var c=a&&a.getAttribute("contenteditable");return"true"===c&&(b=!0),"#text"!==a.nodeName&&"false"===c},a);return!b&&c},getSelectionHtml:function(a){var b,c,d,e="",f=a.getSelection();if(f.rangeCount){for(d=a.createElement("div"),b=0,c=f.rangeCount;c>b;b+=1)d.appendChild(f.getRangeAt(b).cloneContents());e=d.innerHTML}return e},getCaretOffsets:function(a,b){var c,d;return b||(b=window.getSelection().getRangeAt(0)),c=b.cloneRange(),d=b.cloneRange(),c.selectNodeContents(a),c.setEnd(b.endContainer,b.endOffset),d.selectNodeContents(a),d.setStart(b.endContainer,b.endOffset),{left:c.toString().length,right:d.toString().length}},rangeSelectsSingleNode:function(a){
var b=a.startContainer;return b===a.endContainer&&b.hasChildNodes()&&a.endOffset===a.startOffset+1},getSelectedParentElement:function(a){return a?this.rangeSelectsSingleNode(a)&&3!==a.startContainer.childNodes[a.startOffset].nodeType?a.startContainer.childNodes[a.startOffset]:3===a.startContainer.nodeType?a.startContainer.parentNode:a.startContainer:null},getSelectedElements:function(a){var b,c,d,e=a.getSelection();if(!e.rangeCount||e.isCollapsed||!e.getRangeAt(0).commonAncestorContainer)return[];if(b=e.getRangeAt(0),3===b.commonAncestorContainer.nodeType){for(c=[],d=b.commonAncestorContainer;d.parentNode&&1===d.parentNode.childNodes.length;)c.push(d.parentNode),d=d.parentNode;return c}return[].filter.call(b.commonAncestorContainer.getElementsByTagName("*"),function(a){return"function"!=typeof e.containsNode||e.containsNode(a,!0)})},selectNode:function(a,b){var c=b.createRange(),d=b.getSelection();c.selectNodeContents(a),d.removeAllRanges(),d.addRange(c)},select:function(a,b,c,d,e){a.getSelection().removeAllRanges();var f=a.createRange();return f.setStart(b,c),d?f.setEnd(d,e):f.collapse(!0),a.getSelection().addRange(f),f},moveCursor:function(a,b,c){this.select(a,b,c)},getSelectionRange:function(a){var b=a.getSelection();return 0===b.rangeCount?null:b.getRangeAt(0)},getSelectionStart:function(a){var b=a.getSelection().anchorNode;return b&&3===b.nodeType?b.parentNode:b}};a.selection=c}(),function(){var b=function(a){this.base=a,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};b.prototype={InputEventOnContenteditableSupported:!a.util.isIE,attachDOMEvent:function(a,b,c,d){a.addEventListener(b,c,d),this.events.push([a,b,c,d])},detachDOMEvent:function(a,b,c,d){var e,f=this.indexOfListener(a,b,c,d);-1!==f&&(e=this.events.splice(f,1)[0],e[0].removeEventListener(e[1],e[2],e[3]))},indexOfListener:function(a,b,c,d){var e,f,g;for(e=0,f=this.events.length;f>e;e+=1)if(g=this.events[e],g[0]===a&&g[1]===b&&g[2]===c&&g[3]===d)return e;return-1},detachAllDOMEvents:function(){for(var a=this.events.pop();a;)a[0].removeEventListener(a[1],a[2],a[3]),a=this.events.pop()},enableCustomEvent:function(a){void 0!==this.disabledEvents[a]&&delete this.disabledEvents[a]},disableCustomEvent:function(a){this.disabledEvents[a]=!0},attachCustomEvent:function(a,b){this.setupListener(a),this.customEvents[a]||(this.customEvents[a]=[]),this.customEvents[a].push(b)},detachCustomEvent:function(a,b){var c=this.indexOfCustomListener(a,b);-1!==c&&this.customEvents[a].splice(c,1)},indexOfCustomListener:function(a,b){return this.customEvents[a]&&this.customEvents[a].length?this.customEvents[a].indexOf(b):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(a,b,c){this.customEvents[a]&&!this.disabledEvents[a]&&this.customEvents[a].forEach(function(a){a(b,c)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(a){a.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(a){this.handleDocumentExecCommand(a)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var a=this.options.ownerDocument;if(this.execCommandListener&&a.execCommand.listeners){var b=a.execCommand.listeners.indexOf(this.execCommandListener);-1!==b&&a.execCommand.listeners.splice(b,1),a.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var a=this.options.ownerDocument;if(!a.execCommand.listeners){var b=function(b,c,d){var e=a.execCommand.orig.apply(this,arguments);if(!a.execCommand.listeners)return e;var f=Array.prototype.slice.call(arguments);return a.execCommand.listeners.forEach(function(a){a({command:b,value:d,args:f,result:e})}),e};b.orig=a.execCommand,b.listeners=[],a.execCommand=b}},unwrapExecCommand:function(){var a=this.options.ownerDocument;a.execCommand.orig&&(a.execCommand=a.execCommand.orig)},setupListener:function(a){if(!this.listeners[a]){switch(a){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache=[],this.base.elements.forEach(function(a){this.contentCache[a.getAttribute("medium-editor-index")]=a.innerHTML,this.InputEventOnContenteditableSupported&&this.attachDOMEvent(a,"input",this.handleInput.bind(this))}.bind(this)),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":case"editableKeydownEnter":case"editableKeydownTab":case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[a]=!0}},attachToEachElement:function(a,b){this.base.elements.forEach(function(c){this.attachDOMEvent(c,a,b.bind(this))},this)},focusElement:function(a){a.focus(),this.updateFocus(a,{target:a,type:"focus"})},updateFocus:function(b,c){var d,e=this.base.getExtensionByName("toolbar"),f=e?e.getToolbarElement():null,g=this.base.getExtensionByName("anchor-preview"),h=g&&g.getPreviewElement?g.getPreviewElement():null,i=this.base.getFocusedElement();i&&"click"===c.type&&this.lastMousedownTarget&&(a.util.isDescendant(i,this.lastMousedownTarget,!0)||a.util.isDescendant(f,this.lastMousedownTarget,!0)||a.util.isDescendant(h,this.lastMousedownTarget,!0))&&(d=i),d||this.base.elements.some(function(c){return!d&&a.util.isDescendant(c,b,!0)&&(d=c),!!d},this);var j=!a.util.isDescendant(i,b,!0)&&!a.util.isDescendant(f,b,!0)&&!a.util.isDescendant(h,b,!0);d!==i&&(i&&j&&(i.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",c,i)),d&&(d.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",c,d))),j&&this.triggerCustomEvent("externalInteraction",c)},updateInput:function(a,b){if(this.contentCache){var c=a.getAttribute("medium-editor-index");a.innerHTML!==this.contentCache[c]&&this.triggerCustomEvent("editableInput",b,a),this.contentCache[c]=a.innerHTML}},handleDocumentSelectionChange:function(b){if(b.currentTarget&&b.currentTarget.activeElement){var c,d=b.currentTarget.activeElement;this.base.elements.some(function(b){return!!a.util.isDescendant(b,d,!0)&&(c=b,!0)},this),c&&this.updateInput(c,{target:d,currentTarget:c})}},handleDocumentExecCommand:function(){var a=this.base.getFocusedElement();a&&this.updateInput(a,{target:a,currentTarget:a})},handleBodyClick:function(a){this.updateFocus(a.target,a)},handleBodyFocus:function(a){this.updateFocus(a.target,a)},handleBodyMousedown:function(a){this.lastMousedownTarget=a.target},handleInput:function(a){this.updateInput(a.currentTarget,a)},handleClick:function(a){this.triggerCustomEvent("editableClick",a,a.currentTarget)},handleBlur:function(a){this.triggerCustomEvent("editableBlur",a,a.currentTarget)},handleKeypress:function(a){if(this.triggerCustomEvent("editableKeypress",a,a.currentTarget),this.keypressUpdateInput){var b={target:a.target,currentTarget:a.currentTarget};setTimeout(function(){this.updateInput(b.currentTarget,b)}.bind(this),0)}},handleKeyup:function(a){this.triggerCustomEvent("editableKeyup",a,a.currentTarget)},handleMouseover:function(a){this.triggerCustomEvent("editableMouseover",a,a.currentTarget)},handleDragging:function(a){this.triggerCustomEvent("editableDrag",a,a.currentTarget)},handleDrop:function(a){this.triggerCustomEvent("editableDrop",a,a.currentTarget)},handlePaste:function(a){this.triggerCustomEvent("editablePaste",a,a.currentTarget)},handleKeydown:function(b){return this.triggerCustomEvent("editableKeydown",b,b.currentTarget),a.util.isKey(b,a.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",b,b.currentTarget):a.util.isKey(b,a.util.keyCode.ENTER)||b.ctrlKey&&a.util.isKey(b,a.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",b,b.currentTarget):a.util.isKey(b,a.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",b,b.currentTarget):a.util.isKey(b,[a.util.keyCode.DELETE,a.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",b,b.currentTarget):void 0}},a.Events=b}(),function(){var b=a.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(c){b.isBuiltInButton(c)?a.Extension.call(this,this.defaults[c]):a.Extension.call(this,c)},init:function(){a.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var a=this.document.createElement("button"),b=this.contentDefault,c=this.getAria(),d=this.getEditorOption("buttonLabels");return a.classList.add("medium-editor-action"),a.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(b){a.classList.add(b)}),a.setAttribute("data-action",this.getAction()),c&&(a.setAttribute("title",c),a.setAttribute("aria-label",c)),this.attrs&&Object.keys(this.attrs).forEach(function(b){a.setAttribute(b,this.attrs[b])},this),"fontawesome"===d&&this.contentFA&&(b=this.contentFA),a.innerHTML=b,a},handleClick:function(a){a.preventDefault(),a.stopPropagation();var b=this.getAction();b&&this.execAction(b)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var a=null;return this.useQueryState&&(a=this.base.queryCommandState(this.getAction())),a},isAlreadyApplied:function(a){var b,c,d=!1,e=this.getTagNames();return!1===this.knownState||!0===this.knownState?this.knownState:(e&&e.length>0&&(d=-1!==e.indexOf(a.nodeName.toLowerCase())),!d&&this.style&&(b=this.style.value.split("|"),c=this.window.getComputedStyle(a,null).getPropertyValue(this.style.prop),b.forEach(function(a){this.knownState||((d=-1!==c.indexOf(a))||"text-decoration"!==this.style.prop)&&(this.knownState=d)},this)),d)}});b.isBuiltInButton=function(b){return"string"==typeof b&&a.extensions.button.prototype.defaults.hasOwnProperty(b)},a.extensions.button=b}(),function(){a.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var b=a.extensions.button.extend({init:function(){a.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",hasForm:!0,getForm:function(){},isDisplayed:function(){},hideForm:function(){},showToolbarDefaultActions:function(){var a=this.base.getExtensionByName("toolbar");a&&a.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var a=this.base.getExtensionByName("toolbar");a&&a.hideToolbarDefaultActions()},setToolbarPosition:function(){var a=this.base.getExtensionByName("toolbar");a&&a.setToolbarPosition()}});a.extensions.form=b}(),function(){var b=a.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){a.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(b){b.preventDefault(),b.stopPropagation();var c=a.selection.getSelectionRange(this.document);return"a"===c.startContainer.nodeName.toLowerCase()||"a"===c.endContainer.nodeName.toLowerCase()||a.util.getClosestTag(a.selection.getSelectedParentElement(c),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(b){a.util.isKey(b,a.util.keyCode.K)&&a.util.isMetaCtrlKey(b)&&!b.shiftKey&&this.handleClick(b)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var a=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return a.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),a.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&a.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&a.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),a.join("")},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(a){var b=this.getInput(),c=this.getAnchorTargetCheckbox(),d=this.getAnchorButtonCheckbox();if(a=a||{url:""},"string"==typeof a&&(a={url:a}),this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),b.value=a.url,b.focus(),c&&(c.checked="_blank"===a.target),d){var e=a.buttonClass?a.buttonClass.split(" "):[];d.checked=-1!==e.indexOf(this.customClassOption)}},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},getFormOpts:function(){var a=this.getAnchorTargetCheckbox(),b=this.getAnchorButtonCheckbox(),c={url:this.getInput().value.trim()};return this.linkValidation&&(c.url=this.checkLinkFormat(c.url)),c.target="_self",a&&a.checked&&(c.target="_blank"),b&&b.checked&&(c.buttonClass=this.customClassOption),c},doFormSave:function(){var a=this.getFormOpts();this.completeFormSave(a)},completeFormSave:function(a){this.base.restoreSelection(),this.execAction(this.action,a),this.base.checkSelection()},checkLinkFormat:function(a){var b=/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i;return/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/.test(a)?"tel:"+a:(b.test(a)?"":"http://")+a},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(a){var b=a.querySelector(".medium-editor-toolbar-close"),c=a.querySelector(".medium-editor-toolbar-save"),d=a.querySelector(".medium-editor-toolbar-input");this.on(a,"click",this.handleFormClick.bind(this)),this.on(d,"keyup",this.handleTextboxKeyup.bind(this)),this.on(b,"click",this.handleCloseClick.bind(this)),this.on(c,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var a=this.document,b=a.createElement("div");return b.className="medium-editor-toolbar-form",b.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),b.innerHTML=this.getTemplate(),this.attachFormEvents(b),b},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(b){return b.keyCode===a.util.keyCode.ENTER?(b.preventDefault(),void this.doFormSave()):void(b.keyCode===a.util.keyCode.ESCAPE&&(b.preventDefault(),this.doFormCancel()))},handleFormClick:function(a){a.stopPropagation()},handleSaveClick:function(a){a.preventDefault(),this.doFormSave()},handleCloseClick:function(a){a.preventDefault(),this.doFormCancel()}});a.extensions.anchor=b}(),function(){var b=a.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var a=this.document.createElement("div");return a.id="medium-editor-anchor-preview-"+this.getEditorId(),a.className="medium-editor-anchor-preview",a.innerHTML=this.getTemplate(),this.on(a,"click",this.handleClick.bind(this)),a},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(a){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!a.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=a.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=a.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=a,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(a){a=a||this.activeAnchor;var b,c,d=this.anchorPreview.offsetHeight,e=a.getBoundingClientRect(),f=(e.left+e.right)/2,g=this.diffLeft,h=this.diffTop;b=this.anchorPreview.offsetWidth/2;var i=this.base.getExtensionByName("toolbar");i&&(g=i.diffLeft,h=i.diffTop),c=g-b,this.anchorPreview.style.top=Math.round(d+e.bottom-h+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",b>f?this.anchorPreview.style.left=c+b+"px":this.window.innerWidth-f<b?this.anchorPreview.style.left=this.window.innerWidth+c-b+"px":this.anchorPreview.style.left=c+f+"px"},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this))},handleClick:function(a){var b=this.base.getExtensionByName("anchor"),c=this.activeAnchor;b&&c&&(a.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(c){var a={url:c.attributes.href.value,target:c.getAttribute("target"),buttonClass:c.getAttribute("class")};b.showForm(a),c=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(b){var c=a.util.getClosestTag(b.target,"a");if(!1!==c){if(!/href=["']\S+["']/.test(c.outerHTML)||/href=["']#\S+["']/.test(c.outerHTML))return!0;var d=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&d&&d.isDisplayed&&d.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==c&&this.detachPreviewHandlers(),this.anchorToPreview=c,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(a){a.relatedTarget&&/anchor-preview/.test(a.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;(new Date).getTime()-this.lastOver>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});a.extensions.anchorPreview=b}(),function(){function b(b){return!a.util.getClosestTag(b,"a")}var c,d,e,f;c=[" ","\t","\n","\r"," "," "," "," "," ","\u2028","\u2029"],d="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",e="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+d+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+d+"))",f=new RegExp("^("+d+")$","i");var g=a.Extension.extend({init:function(){a.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(a,b){this.performLinking(b)},onKeypress:function(b){this.disableEventHandling||a.util.isKey(b,[a.util.keyCode.SPACE,a.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var a=this.base.exportSelection();this.performLinking(b.target)&&this.base.importSelection(a,!0)}catch(a){window.console&&window.console.error("Failed to perform linking",a),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(b){var c=a.util.splitByBlockElements(b),d=!1;0===c.length&&(c=[b]);for(var e=0;e<c.length;e++)d=this.removeObsoleteAutoLinkSpans(c[e])||d,d=this.performLinkingWithinElement(c[e])||d;return d},removeObsoleteAutoLinkSpans:function(c){if(!c||3===c.nodeType)return!1;for(var d=c.querySelectorAll('span[data-auto-link="true"]'),e=!1,f=0;f<d.length;f++){var g=d[f].textContent;if(-1===g.indexOf("://")&&(g=a.util.ensureUrlHasProtocol(g)),d[f].getAttribute("data-href")!==g&&b(d[f])){e=!0;var h=g.replace(/\s+$/,"");if(d[f].getAttribute("data-href")===h){var i=g.length-h.length,j=a.util.splitOffDOMTree(d[f],this.splitTextBeforeEnd(d[f],i));d[f].parentNode.insertBefore(j,d[f].nextSibling)}else a.util.unwrap(d[f],this.document)}}return e},splitTextBeforeEnd:function(a,b){for(var c=this.document.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1),d=!0;d;)d=null!==c.lastChild();for(var e,f,g;b>0&&null!==g;)e=c.currentNode,f=e.nodeValue,f.length>b?(g=e.splitText(f.length-b),b=0):(g=c.previousNode(),b-=f.length);return g},performLinkingWithinElement:function(b){for(var c=this.findLinkableText(b),d=0;d<c.length;d++){var e=a.util.findOrCreateMatchingTextNodes(this.document,b,c[d]);this.shouldNotLink(e)||this.createAutoLink(e,c[d].href)}return!1},shouldNotLink:function(b){for(var c=!1,d=0;d<b.length&&!1===c;d++)c=!!a.util.traverseUp(b[d],function(a){return"a"===a.nodeName.toLowerCase()||a.getAttribute&&"true"===a.getAttribute("data-auto-link")});return c},findLinkableText:function(a){for(var b=new RegExp(e,"gi"),d=a.textContent,g=null,h=[];null!==(g=b.exec(d));){var i=!0,j=g.index+g[0].length;i=!(0!==g.index&&-1===c.indexOf(d[g.index-1])||j!==d.length&&-1===c.indexOf(d[j])),(i=i&&(-1!==g[0].indexOf("/")||f.test(g[0].split(".").pop().split("?").shift())))&&h.push({href:g[0],start:g.index,end:j})}return h},createAutoLink:function(b,c){c=a.util.ensureUrlHasProtocol(c);var d=a.util.createLink(this.document,b,c,this.getEditorOption("targetBlank")?"_blank":null),e=this.document.createElement("span");for(e.setAttribute("data-auto-link","true"),e.setAttribute("data-href",c),d.insertBefore(e,d.firstChild);d.childNodes.length>1;)e.appendChild(d.childNodes[1])}});a.extensions.autoLink=g}(),function(){function b(b){var d=a.util.getContainerEditorElement(b);Array.prototype.slice.call(d.parentElement.querySelectorAll("."+c)).forEach(function(a){a.classList.remove(c)})}var c="medium-editor-dragover",d=a.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){a.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(a){a.preventDefault(),a.dataTransfer.dropEffect="copy";var d=a.target.classList?a.target:a.target.parentElement;b(d),"dragover"===a.type&&d.classList.add(c)},handleDrop:function(a){a.preventDefault(),a.stopPropagation(),a.dataTransfer.files&&Array.prototype.slice.call(a.dataTransfer.files).forEach(function(a){this.isAllowedFile(a)&&a.type.match("image")&&this.insertImageFile(a)},this),b(a.target)},isAllowedFile:function(a){return this.allowedTypes.some(function(b){return!!a.type.match(b)})},insertImageFile:function(b){var c=new FileReader;c.readAsDataURL(b);var d="medium-img-"+ +new Date
;a.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+d+'" />'),c.onload=function(){var a=this.document.getElementById(d);a&&(a.removeAttribute("id"),a.removeAttribute("class"),a.src=c.result)}.bind(this)}});a.extensions.fileDragging=d}(),function(){var b=a.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){a.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(a){var b=a.key.charCodeAt(0);this.keys[b]||(this.keys[b]=[]),this.keys[b].push(a)},this)},handleKeydown:function(b){var c=a.util.getKeyCode(b);if(this.keys[c]){var d=a.util.isMetaCtrlKey(b),e=!!b.shiftKey,f=!!b.altKey;this.keys[c].forEach(function(a){a.meta!==d||a.shift!==e||a.alt!==f&&void 0!==a.alt||(b.preventDefault(),b.stopPropagation(),!1!==a.command&&this.execAction(a.command))},this)}}});a.extensions.keyboardCommands=b}(),function(){var b=a.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){a.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(a){if(a.preventDefault(),a.stopPropagation(),!this.isDisplayed()){var b=this.document.queryCommandValue("fontName")+"";this.showForm(b)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(a){var b=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),b.value=a||"",b.focus()},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var a,b=this.document,c=b.createElement("div"),d=b.createElement("select"),e=b.createElement("a"),f=b.createElement("a");c.className="medium-editor-toolbar-form",c.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(c,"click",this.handleFormClick.bind(this));for(var g=0;g<this.fonts.length;g++)a=b.createElement("option"),a.innerHTML=this.fonts[g],a.value=this.fonts[g],d.appendChild(a);return d.className="medium-editor-toolbar-select",c.appendChild(d),this.on(d,"change",this.handleFontChange.bind(this)),f.setAttribute("href","#"),f.className="medium-editor-toobar-save",f.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",c.appendChild(f),this.on(f,"click",this.handleSaveClick.bind(this),!0),e.setAttribute("href","#"),e.className="medium-editor-toobar-close",e.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",c.appendChild(e),this.on(e,"click",this.handleCloseClick.bind(this)),c},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){a.selection.getSelectedElements(this.document).forEach(function(a){"font"===a.nodeName.toLowerCase()&&a.hasAttribute("face")&&a.removeAttribute("face")})},handleFontChange:function(){var a=this.getSelect().value;""===a?this.clearFontName():this.execAction("fontName",{name:a})},handleFormClick:function(a){a.stopPropagation()},handleSaveClick:function(a){a.preventDefault(),this.doFormSave()},handleCloseClick:function(a){a.preventDefault(),this.doFormCancel()}});a.extensions.fontName=b}(),function(){var b=a.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){a.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(a){if(a.preventDefault(),a.stopPropagation(),!this.isDisplayed()){var b=this.document.queryCommandValue("fontSize")+"";this.showForm(b)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(a){var b=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),b.value=a||"",b.focus()},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var a=this.document,b=a.createElement("div"),c=a.createElement("input"),d=a.createElement("a"),e=a.createElement("a");return b.className="medium-editor-toolbar-form",b.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(b,"click",this.handleFormClick.bind(this)),c.setAttribute("type","range"),c.setAttribute("min","1"),c.setAttribute("max","7"),c.className="medium-editor-toolbar-input",b.appendChild(c),this.on(c,"change",this.handleSliderChange.bind(this)),e.setAttribute("href","#"),e.className="medium-editor-toobar-save",e.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",b.appendChild(e),this.on(e,"click",this.handleSaveClick.bind(this),!0),d.setAttribute("href","#"),d.className="medium-editor-toobar-close",d.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",b.appendChild(d),this.on(d,"click",this.handleCloseClick.bind(this)),b},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){a.selection.getSelectedElements(this.document).forEach(function(a){"font"===a.nodeName.toLowerCase()&&a.hasAttribute("size")&&a.removeAttribute("size")})},handleSliderChange:function(){var a=this.getInput().value;"4"===a?this.clearFontSize():this.execAction("fontSize",{size:a})},handleFormClick:function(a){a.stopPropagation()},handleSaveClick:function(a){a.preventDefault(),this.doFormSave()},handleCloseClick:function(a){a.preventDefault(),this.doFormCancel()}});a.extensions.fontSize=b}(),function(){function b(){return[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],["\x3c!--EndFragment--\x3e",""],["\x3c!--StartFragment--\x3e",""]]}var c=a.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],init:function(){a.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&this.subscribe("editablePaste",this.handlePaste.bind(this))},handlePaste:function(b,c){var d,e,f,g,h="",i="text/html",j="text/plain";if(this.window.clipboardData&&void 0===b.clipboardData&&(b.clipboardData=this.window.clipboardData,i="Text",j="Text"),b.clipboardData&&b.clipboardData.getData&&!b.defaultPrevented){if(b.preventDefault(),f=b.clipboardData.getData(i),g=b.clipboardData.getData(j),this.cleanPastedHTML&&f)return this.cleanPaste(f);if(this.getEditorOption("disableReturn")||c.getAttribute("data-disable-return"))h=a.util.htmlEntities(g);else if(d=g.split(/[\r\n]+/g),d.length>1)for(e=0;e<d.length;e+=1)""!==d[e]&&(h+="<p>"+a.util.htmlEntities(d[e])+"</p>");else h=a.util.htmlEntities(d[0]);a.util.insertHTMLCommand(this.document,h)}},cleanPaste:function(a){var c,d,e,f,g=/<p|<br|<div/.test(a),h=b().concat(this.cleanReplacements||[]);for(c=0;c<h.length;c+=1)a=a.replace(h[c][0],h[c][1]);if(!g)return this.pasteHTML(a);for(e=this.document.createElement("div"),e.innerHTML="<p>"+a.split("<br><br>").join("</p><p>")+"</p>",d=e.querySelectorAll("a,p,div,br"),c=0;c<d.length;c+=1)switch(f=d[c],f.innerHTML=f.innerHTML.replace(/\n/gi," "),f.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(f);break;case"br":this.filterLineBreak(f)}this.pasteHTML(e.innerHTML)},pasteHTML:function(b,c){c=a.util.defaults({},c,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var d,e,f,g,h=this.document.createDocumentFragment();for(h.appendChild(this.document.createElement("body")),g=h.querySelector("body"),g.innerHTML=b,this.cleanupSpans(g),d=g.querySelectorAll("*"),f=0;f<d.length;f+=1)e=d[f],"a"===e.nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&a.util.setTargetBlank(e),a.util.cleanupAttrs(e,c.cleanAttrs),a.util.cleanupTags(e,c.cleanTags);a.util.insertHTMLCommand(this.document,g.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(a){return a&&("p"===a.nodeName.toLowerCase()||"div"===a.nodeName.toLowerCase())},filterCommonBlocks:function(a){/^\s*$/.test(a.textContent)&&a.parentNode&&a.parentNode.removeChild(a)},filterLineBreak:function(a){this.isCommonBlock(a.previousElementSibling)?this.removeWithParent(a):!this.isCommonBlock(a.parentNode)||a.parentNode.firstChild!==a&&a.parentNode.lastChild!==a?a.parentNode&&1===a.parentNode.childElementCount&&""===a.parentNode.textContent&&this.removeWithParent(a):this.removeWithParent(a)},removeWithParent:function(a){a&&a.parentNode&&(a.parentNode.parentNode&&1===a.parentNode.childElementCount?a.parentNode.parentNode.removeChild(a.parentNode):a.parentNode.removeChild(a))},cleanupSpans:function(b){var c,d,e,f=b.querySelectorAll(".replace-with"),g=function(a){return a&&"#text"!==a.nodeName&&"false"===a.getAttribute("contenteditable")};for(c=0;c<f.length;c+=1)d=f[c],e=this.document.createElement(d.classList.contains("bold")?"b":"i"),d.classList.contains("bold")&&d.classList.contains("italic")?e.innerHTML="<i>"+d.innerHTML+"</i>":e.innerHTML=d.innerHTML,d.parentNode.replaceChild(e,d);for(f=b.querySelectorAll("span"),c=0;c<f.length;c+=1){if(d=f[c],a.util.traverseUp(d,g))return!1;a.util.unwrap(d,this.document)}}});a.extensions.paste=c}(),function(){var b=a.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){a.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(function(a){a.getAttribute("data-placeholder")||a.setAttribute("data-placeholder",this.text),this.updatePlaceholder(a)},this)},destroy:function(){this.getEditorElements().forEach(function(a){a.getAttribute("data-placeholder")===this.text&&a.removeAttribute("data-placeholder")},this)},showPlaceholder:function(a){a&&a.classList.add("medium-editor-placeholder")},hidePlaceholder:function(a){a&&a.classList.remove("medium-editor-placeholder")},updatePlaceholder:function(a,b){return a.querySelector("img, blockquote, ul, ol")||""!==a.textContent.replace(/^\s+|\s+$/g,"")?this.hidePlaceholder(a):void(b||this.showPlaceholder(a))},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this))},handleInput:function(a,b){var c=this.hideOnClick&&b===this.base.getFocusedElement();this.updatePlaceholder(b,c)},handleFocus:function(a,b){this.hidePlaceholder(b)},handleBlur:function(a,b){this.updatePlaceholder(b)}});a.extensions.placeholder=b}(),function(){var b=a.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,updateOnEmptySelection:!1,relativeContainer:null,init:function(){a.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(a,b){return this.base.extensions.forEach(function(c){return c!==this?a.apply(b||this,arguments):void 0},this)},createToolbar:function(){var a=this.document.createElement("div");return a.id="medium-editor-toolbar-"+this.getEditorId(),a.className="medium-editor-toolbar",this.static?a.className+=" static-toolbar":this.relativeContainer?a.className+=" medium-editor-relative-toolbar":a.className+=" medium-editor-stalker-toolbar",a.appendChild(this.createToolbarButtons()),this.forEachExtension(function(b){b.hasForm&&a.appendChild(b.getForm())}),this.attachEventHandlers(),a},createToolbarButtons:function(){var b,c,d,e,f,g,h=this.document.createElement("ul");return h.id="medium-editor-toolbar-actions"+this.getEditorId(),h.className="medium-editor-toolbar-actions",h.style.display="block",this.buttons.forEach(function(d){"string"==typeof d?(f=d,g=null):(f=d.name,g=d),(e=this.base.addBuiltInExtension(f,g))&&"function"==typeof e.getButton&&(c=e.getButton(this.base),b=this.document.createElement("li"),a.util.isElement(c)?b.appendChild(c):b.innerHTML=c,h.appendChild(b))},this),d=h.querySelectorAll("button"),d.length>0&&(d[0].classList.add(this.firstButtonClass),d[d.length-1].classList.add(this.lastButtonClass)),h},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=a.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(b){return!(b&&b.target&&a.util.isDescendant(this.getToolbarElement(),b.target))&&void this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(a){a.hasForm&&a.isDisplayed()&&a.hideForm()})},multipleBlockElementsSelected:function(){var b=/<[^\/>][^>]*><\/[^>]+>/gim,c=new RegExp("<("+a.util.blockContainerElementNames.join("|")+")[^>]*>","g"),d=a.selection.getSelectionHtml(this.document).replace(b,""),e=d.match(c);return!!e&&e.length>1},modifySelection:function(){var b=this.window.getSelection(),c=b.getRangeAt(0);if(this.standardizeSelectionStart&&c.startContainer.nodeValue&&c.startOffset===c.startContainer.nodeValue.length){var d=a.util.findAdjacentTextNodeWithContent(a.selection.getSelectionElement(this.window),c.startContainer,this.document);if(d){for(var e=0;0===d.nodeValue.substr(e,1).trim().length;)e+=1;c=a.selection.select(this.document,d,e,c.endContainer,c.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||a.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var b=a.selection.getSelectionElement(this.window);return!b||-1===this.getEditorElements().indexOf(b)||b.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!a.selection.selectionContainsContent(this.document)||!1===this.allowMultiParagraphSelection&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(a){"function"==typeof a.isActive&&"function"==typeof a.setInactive&&a.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var b,c=[],d=null,e=a.selection.getSelectionRange(this.document),f=function(a){"function"==typeof a.checkState?a.checkState(b):"function"==typeof a.isActive&&"function"==typeof a.isAlreadyApplied&&"function"==typeof a.setActive&&!a.isActive()&&a.isAlreadyApplied(b)&&a.setActive()};if(e&&(this.forEachExtension(function(a){return"function"==typeof a.queryCommandState&&null!==(d=a.queryCommandState())?void(d&&"function"==typeof a.setActive&&a.setActive()):void c.push(a)}),b=a.selection.getSelectedParentElement(e),this.getEditorElements().some(function(c){return a.util.isDescendant(c,b,!0)})))for(;b&&(c.forEach(f),!a.util.isMediumEditorElement(b));)b=b.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var a,b=this.base.getFocusedElement(),c=this.window.getSelection();return b?(this.static&&!this.relativeContainer?(this.showToolbar(),this.positionStaticToolbar(b)):c.isCollapsed||(this.showToolbar(),this.relativeContainer||this.positionToolbar(c)),void((a=this.base.getExtensionByName("anchor-preview"))&&"function"==typeof a.hidePreview&&a.hidePreview())):this},positionStaticToolbar:function(a){this.getToolbarElement().style.left="0";var b,c=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,d=this.window.innerWidth,e=this.getToolbarElement(),f=a.getBoundingClientRect(),g=f.top+c,h=f.left+f.width/2,i=e.offsetHeight,j=e.offsetWidth,k=j/2;switch(this.sticky?c>g+a.offsetHeight-i?(e.style.top=g+a.offsetHeight-i+"px",e.classList.remove("medium-editor-sticky-toolbar")):c>g-i?(e.classList.add("medium-editor-sticky-toolbar"),e.style.top="0px"):(e.classList.remove("medium-editor-sticky-toolbar"),e.style.top=g-i+"px"):e.style.top=g-i+"px",this.align){case"left":b=f.left;break;case"right":b=f.right-j;break;case"center":b=h-k}0>b?b=0:b+j>d&&(b=d-Math.ceil(j)-1),e.style.left=b+"px"},positionToolbar:function(a){this.getToolbarElement().style.left="0";var b=a.getRangeAt(0),c=b.getBoundingClientRect();(!c||0===c.height&&0===c.width&&b.startContainer===b.endContainer)&&(c=1===b.startContainer.nodeType&&b.startContainer.querySelector("img")?b.startContainer.querySelector("img").getBoundingClientRect():b.startContainer.getBoundingClientRect());var d=this.window.innerWidth,e=(c.left+c.right)/2,f=this.getToolbarElement(),g=f.offsetHeight,h=f.offsetWidth,i=h/2,j=this.diffLeft-i;c.top<50?(f.classList.add("medium-toolbar-arrow-over"),f.classList.remove("medium-toolbar-arrow-under"),f.style.top=50+c.bottom-this.diffTop+this.window.pageYOffset-g+"px"):(f.classList.add("medium-toolbar-arrow-under"),f.classList.remove("medium-toolbar-arrow-over"),f.style.top=c.top+this.diffTop+this.window.pageYOffset-g+"px"),f.style.left=i>e?j+i+"px":i>d-e?d+j-i+"px":j+e+"px"}});a.extensions.toolbar=b}(),function(){var b=a.Extension.extend({init:function(){a.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(a){var b="medium-editor-dragover";a.preventDefault(),a.dataTransfer.dropEffect="copy","dragover"===a.type?a.target.classList.add(b):"dragleave"===a.type&&a.target.classList.remove(b)},handleDrop:function(b){var c;b.preventDefault(),b.stopPropagation(),b.dataTransfer.files&&(c=Array.prototype.slice.call(b.dataTransfer.files,0),c.some(function(b){if(b.type.match("image")){var c,d;c=new FileReader,c.readAsDataURL(b),d="medium-img-"+ +new Date,a.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+d+'" />'),c.onload=function(){var a=this.document.getElementById(d);a&&(a.removeAttribute("id"),a.removeAttribute("class"),a.src=c.result)}.bind(this)}}.bind(this))),b.target.classList.remove("medium-editor-dragover")}});a.extensions.imageDragging=b}(),function(){function b(b){var c=a.selection.getSelectionStart(this.options.ownerDocument),d=c.textContent,e=a.selection.getCaretOffsets(c);(void 0===d[e.left-1]||""===d[e.left-1].trim())&&b.preventDefault()}function c(b,c){if(this.options.disableReturn||c.getAttribute("data-disable-return"))b.preventDefault();else if(this.options.disableDoubleReturn||c.getAttribute("data-disable-double-return")){var d=a.selection.getSelectionStart(this.options.ownerDocument);(d&&""===d.textContent.trim()&&"li"!==d.nodeName.toLowerCase()||d.previousElementSibling&&"br"!==d.previousElementSibling.nodeName.toLowerCase()&&""===d.previousElementSibling.textContent.trim())&&b.preventDefault()}}function d(b){var c=a.selection.getSelectionStart(this.options.ownerDocument);"pre"===(c&&c.nodeName.toLowerCase())&&(b.preventDefault(),a.util.insertHTMLCommand(this.options.ownerDocument,"    ")),a.util.isListItem(c)&&(b.preventDefault(),b.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function e(b){var c,d=a.selection.getSelectionStart(this.options.ownerDocument),e=d.nodeName.toLowerCase(),f=/^(\s+|<br\/?>)?$/i,g=/h\d/i;a.util.isKey(b,[a.util.keyCode.BACKSPACE,a.util.keyCode.ENTER])&&d.previousElementSibling&&g.test(e)&&0===a.selection.getCaretOffsets(d).left?a.util.isKey(b,a.util.keyCode.BACKSPACE)&&f.test(d.previousElementSibling.innerHTML)?(d.previousElementSibling.parentNode.removeChild(d.previousElementSibling),b.preventDefault()):a.util.isKey(b,a.util.keyCode.ENTER)&&(c=this.options.ownerDocument.createElement("p"),c.innerHTML="<br>",d.previousElementSibling.parentNode.insertBefore(c,d),b.preventDefault()):a.util.isKey(b,a.util.keyCode.DELETE)&&d.nextElementSibling&&d.previousElementSibling&&!g.test(e)&&f.test(d.innerHTML)&&g.test(d.nextElementSibling.nodeName.toLowerCase())?(a.selection.moveCursor(this.options.ownerDocument,d.nextElementSibling),d.previousElementSibling.parentNode.removeChild(d),b.preventDefault()):a.util.isKey(b,a.util.keyCode.BACKSPACE)&&"li"===e&&f.test(d.innerHTML)&&!d.previousElementSibling&&!d.parentElement.previousElementSibling&&d.nextElementSibling&&"li"===d.nextElementSibling.nodeName.toLowerCase()?(c=this.options.ownerDocument.createElement("p"),c.innerHTML="<br>",d.parentElement.parentElement.insertBefore(c,d.parentElement),a.selection.moveCursor(this.options.ownerDocument,c),d.parentElement.removeChild(d),b.preventDefault()):a.util.isKey(b,a.util.keyCode.BACKSPACE)&&!1!==a.util.getClosestTag(d,"blockquote")&&0===a.selection.getCaretOffsets(d).left&&(b.preventDefault(),a.util.execFormatBlock(this.options.ownerDocument,"p"))}function f(b){var c,d=a.selection.getSelectionStart(this.options.ownerDocument);d&&(a.util.isMediumEditorElement(d)&&0===d.children.length&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),a.util.isKey(b,a.util.keyCode.ENTER)&&!a.util.isListItem(d)&&(c=d.nodeName.toLowerCase(),"a"===c?this.options.ownerDocument.execCommand("unlink",!1,null):b.shiftKey||b.ctrlKey||/h\d/.test(c)||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function g(a){a._mediumEditors||(a._mediumEditors=[null]),this.id||(this.id=a._mediumEditors.length),a._mediumEditors[this.id]=this}function h(a){a._mediumEditors&&a._mediumEditors[this.id]&&(a._mediumEditors[this.id]=null)}function i(b){b||(b=[]),"string"==typeof b&&(b=this.options.ownerDocument.querySelectorAll(b)),a.util.isElement(b)&&(b=[b]);var c=Array.prototype.slice.apply(b);this.elements=[],c.forEach(function(a,b){"textarea"===a.nodeName.toLowerCase()?this.elements.push(s.call(this,a,b)):this.elements.push(a)},this)}function j(a,b){return Object.keys(b).forEach(function(c){void 0===a[c]&&(a[c]=b[c])}),a}function k(a,b,c){return a=j(a,{window:c.options.contentWindow,document:c.options.ownerDocument,base:c}),"function"==typeof a.init&&a.init(),a.name||(a.name=b),a}function l(){return!this.elements.every(function(a){return!!a.getAttribute("data-disable-toolbar")})&&!1!==this.options.toolbar}function m(){return!!l.call(this)&&!1!==this.options.anchorPreview}function n(){return!1!==this.options.placeholder}function o(){return!1!==this.options.autoLink}function p(){return!1!==this.options.imageDragging}function q(){return!1!==this.options.keyboardCommands}function r(){return!this.options.extensions.imageDragging}function s(a,b){for(var c=this.options.ownerDocument.createElement("div"),d=Date.now(),e="medium-editor-"+d+"-"+b,f=a.attributes;this.options.ownerDocument.getElementById(e);)d++,e="medium-editor-"+d+"-"+b;c.className=a.className,c.id=e,c.innerHTML=a.value,a.setAttribute("medium-editor-textarea-id",e);for(var g=0,h=f.length;h>g;g++)c.hasAttribute(f[g].nodeName)||c.setAttribute(f[g].nodeName,f[g].nodeValue);return a.classList.add("medium-editor-hidden"),a.parentNode.insertBefore(c,a),c}function t(){var a=!1;this.elements.forEach(function(b,c){this.options.disableEditing||b.getAttribute("data-disable-editing")||(b.setAttribute("contentEditable",!0),b.setAttribute("spellcheck",this.options.spellcheck)),b.setAttribute("data-medium-editor-element",!0),b.setAttribute("role","textbox"),b.setAttribute("aria-multiline",!0),b.setAttribute("medium-editor-index",c),b.hasAttribute("medium-editor-textarea-id")&&(a=!0)},this),a&&this.subscribe("editableInput",function(a,b){var c=b.parentNode.querySelector('textarea[medium-editor-textarea-id="'+b.getAttribute("medium-editor-textarea-id")+'"]');c&&(c.value=this.serialize()[b.id].value)}.bind(this))}function u(){var a;if(this.subscribe("editableKeydownTab",d.bind(this)),this.subscribe("editableKeydownDelete",e.bind(this)),this.subscribe("editableKeydownEnter",e.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",b.bind(this)),this.options.disableReturn||this.options.disableDoubleReturn)this.subscribe("editableKeydownEnter",c.bind(this));else for(a=0;a<this.elements.length;a+=1)if(this.elements[a].getAttribute("data-disable-return")||this.elements[a].getAttribute("data-disable-double-return")){this.subscribe("editableKeydownEnter",c.bind(this));break}this.options.disableReturn||this.elements.forEach(function(a){a.getAttribute("data-disable-return")||this.on(a,"keyup",f.bind(this))},this)}function v(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(a){"toolbar"!==a&&this.options.extensions[a]&&this.extensions.push(k(this.options.extensions[a],a,this))},this),r.call(this)){var b=this.options.fileDragging;b||(b={},p.call(this)||(b.allowedTypes=[])),this.addBuiltInExtension("fileDragging",b)}var c={paste:!0,"anchor-preview":m.call(this),autoLink:o.call(this),keyboardCommands:q.call(this),placeholder:n.call(this)};Object.keys(c).forEach(function(a){c[a]&&this.addBuiltInExtension(a)},this);var d=this.options.extensions.toolbar;if(!d&&l.call(this)){var e=a.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});d=new a.extensions.toolbar(e)}d&&this.extensions.push(k(d,"toolbar",this))}function w(b,c){var d=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return c&&d.forEach(function(b){c.hasOwnProperty(b[0])&&void 0!==c[b[0]]&&a.util.deprecated(b[0],b[1],"v6.0.0")}),a.util.defaults({},c,b)}function x(b,c){var d,e=/^append-(.+)$/gi,f=/justify([A-Za-z]*)$/g;if(d=e.exec(b))return a.util.execFormatBlock(this.options.ownerDocument,d[1]);if("fontSize"===b)return this.options.ownerDocument.execCommand("fontSize",!1,c.size);if("fontName"===b)return this.options.ownerDocument.execCommand("fontName",!1,c.name);if("createLink"===b)return this.createLink(c);if("image"===b){var g=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,g)}if(f.exec(b)){var h=this.options.ownerDocument.execCommand(b,!1,null),i=a.selection.getSelectedParentElement(a.selection.getSelectionRange(this.options.ownerDocument));return i&&y.call(this,a.util.getTopBlockContainer(i)),h}return this.options.ownerDocument.execCommand(b,!1,null)}function y(b){if(b){var c,d=Array.prototype.slice.call(b.childNodes).filter(function(a){var b="div"===a.nodeName.toLowerCase();return b&&!c&&(c=a.style.textAlign),b});d.length&&(this.saveSelection(),d.forEach(function(b){if(b.style.textAlign===c){var d=b.lastChild;if(d){a.util.unwrap(b,this.options.ownerDocument);var e=this.options.ownerDocument.createElement("BR");d.parentNode.insertBefore(e,d.nextSibling)}}},this),b.style.textAlign=c,this.restoreSelection())}}a.prototype={init:function(a,b){return this.options=w.call(this,this.defaults,b),this.origElements=a,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(i.call(this,this.origElements),0!==this.elements.length&&(this.isActive=!0,g.call(this,this.options.contentWindow),this.events=new a.Events(this),t.call(this),v.call(this),u.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(a){"function"==typeof a.destroy&&a.destroy()},this),this.events.destroy(),this.elements.forEach(function(a){if(this.options.spellcheck&&(a.innerHTML=a.innerHTML),a.removeAttribute("contentEditable"),a.removeAttribute("spellcheck"),a.removeAttribute("data-medium-editor-element"),a.removeAttribute("role"),a.removeAttribute("aria-multiline"),a.removeAttribute("medium-editor-index"),a.hasAttribute("medium-editor-textarea-id")){
var b=a.parentNode.querySelector('textarea[medium-editor-textarea-id="'+a.getAttribute("medium-editor-textarea-id")+'"]');b&&b.classList.remove("medium-editor-hidden"),a.parentNode&&a.parentNode.removeChild(a)}},this),this.elements=[],h.call(this,this.options.contentWindow))},on:function(a,b,c,d){this.events.attachDOMEvent(a,b,c,d)},off:function(a,b,c,d){this.events.detachDOMEvent(a,b,c,d)},subscribe:function(a,b){this.events.attachCustomEvent(a,b)},unsubscribe:function(a,b){this.events.detachCustomEvent(a,b)},trigger:function(a,b,c){this.events.triggerCustomEvent(a,b,c)},delay:function(a){var b=this;return setTimeout(function(){b.isActive&&a()},this.options.delay)},serialize:function(){var a,b,c={};for(a=0;a<this.elements.length;a+=1)b=""!==this.elements[a].id?this.elements[a].id:"element-"+a,c[b]={value:this.elements[a].innerHTML.trim()};return c},getExtensionByName:function(a){var b;return this.extensions&&this.extensions.length&&this.extensions.some(function(c){return c.name===a&&(b=c,!0)}),b},addBuiltInExtension:function(b,c){var d,e=this.getExtensionByName(b);if(e)return e;switch(b){case"anchor":d=a.util.extend({},this.options.anchor,c),e=new a.extensions.anchor(d);break;case"anchor-preview":e=new a.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":e=new a.extensions.autoLink;break;case"fileDragging":e=new a.extensions.fileDragging(c);break;case"fontname":e=new a.extensions.fontName(this.options.fontName);break;case"fontsize":e=new a.extensions.fontSize(c);break;case"keyboardCommands":e=new a.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":e=new a.extensions.paste(this.options.paste);break;case"placeholder":e=new a.extensions.placeholder(this.options.placeholder);break;default:a.extensions.button.isBuiltInButton(b)&&(c?(d=a.util.defaults({},c,a.extensions.button.prototype.defaults[b]),e=new a.extensions.button(d)):e=new a.extensions.button(b))}return e&&this.extensions.push(k(e,b,this)),e},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var a=this.getExtensionByName("toolbar");return a&&a.checkState(),this},queryCommandState:function(a){var b,c=/^full-(.+)$/gi,d=null;(b=c.exec(a))&&(a=b[1]);try{d=this.options.ownerDocument.queryCommandState(a)}catch(a){d=null}return d},execAction:function(b,c){var d,e;return d=/^full-(.+)$/gi.exec(b),d?(this.saveSelection(),this.selectAllContents(),e=x.call(this,d[1],c),this.restoreSelection()):e=x.call(this,b,c),("insertunorderedlist"===b||"insertorderedlist"===b)&&a.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),e},getSelectedParentElement:function(b){return void 0===b&&(b=this.options.contentWindow.getSelection().getRangeAt(0)),a.selection.getSelectedParentElement(b)},selectAllContents:function(){var b=a.selection.getSelectionElement(this.options.contentWindow);if(b){for(;1===b.children.length;)b=b.children[0];this.selectElement(b)}},selectElement:function(b){a.selection.selectNode(b,this.options.ownerDocument);var c=a.selection.getSelectionElement(this.options.contentWindow);c&&this.events.focusElement(c)},getFocusedElement:function(){var a;return this.elements.some(function(b){return!a&&b.getAttribute("data-medium-focused")&&(a=b),!!a},this),a},exportSelection:function(){var b=a.selection.getSelectionElement(this.options.contentWindow),c=this.elements.indexOf(b),d=null;return c>=0&&(d=a.selection.exportSelection(b,this.options.ownerDocument)),null!==d&&0!==c&&(d.editableElementIndex=c),d},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(b,c){if(b){var d=this.elements[b.editableElementIndex||0];a.selection.importSelection(b,d,this.options.ownerDocument,c)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(b){var c=a.selection.getSelectionElement(this.options.contentWindow),d={};if(-1!==this.elements.indexOf(c)){try{if(this.events.disableCustomEvent("editableInput"),b.url&&b.url.trim().length>0){var e=this.options.contentWindow.getSelection();if(e){var f,g,h,i,j=e.getRangeAt(0),k=j.commonAncestorContainer;if(3===j.endContainer.nodeType&&3!==j.startContainer.nodeType&&0===j.startOffset&&j.startContainer.firstChild===j.endContainer&&(k=j.endContainer),g=a.util.getClosestBlockContainer(j.startContainer),h=a.util.getClosestBlockContainer(j.endContainer),3!==k.nodeType&&0!==k.textContent.length&&g===h){var l=g||c,m=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),f=this.exportSelection(),m.appendChild(l.cloneNode(!0)),c===l?a.selection.select(this.options.ownerDocument,l.firstChild,0,l.lastChild,3===l.lastChild.nodeType?l.lastChild.nodeValue.length:l.lastChild.childNodes.length):a.selection.select(this.options.ownerDocument,l,0,l,l.childNodes.length);var n=this.exportSelection();i=a.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,m,{start:f.start-n.start,end:f.end-n.start,editableElementIndex:f.editableElementIndex}),0===i.length&&(m=this.options.ownerDocument.createDocumentFragment(),m.appendChild(k.cloneNode(!0)),i=[m.firstChild.firstChild,m.firstChild.lastChild]),a.util.createLink(this.options.ownerDocument,i,b.url.trim());var o=(m.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;a.util.insertHTMLCommand(this.options.ownerDocument,m.firstChild.innerHTML.replace(/^\s+/,"")),f.start-=o,f.end-=o,this.importSelection(f)}else this.options.ownerDocument.execCommand("createLink",!1,b.url);(this.options.targetBlank||"_blank"===b.target)&&a.util.setTargetBlank(a.selection.getSelectionStart(this.options.ownerDocument),b.url),b.buttonClass&&a.util.addClassToAnchors(a.selection.getSelectionStart(this.options.ownerDocument),b.buttonClass)}}if(this.options.targetBlank||"_blank"===b.target||b.buttonClass){d=this.options.ownerDocument.createEvent("HTMLEvents"),d.initEvent("input",!0,!0,this.options.contentWindow);for(var p=0;p<this.elements.length;p+=1)this.elements[p].dispatchEvent(d)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",d,c)}},cleanPaste:function(a){this.getExtensionByName("paste").cleanPaste(a)},pasteHTML:function(a,b){this.getExtensionByName("paste").pasteHTML(a,b)},setContent:function(a,b){if(b=b||0,this.elements[b]){var c=this.elements[b];c.innerHTML=a,this.events.updateInput(c,{target:c,currentTarget:c})}}}}(),function(){a.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),a.parseVersionString=function(a){var b=a.split("-"),c=b[0].split("."),d=b.length>1?b[1]:"";return{major:parseInt(c[0],10),minor:parseInt(c[1],10),revision:parseInt(c[2],10),preRelease:d,toString:function(){return[c[0],c[1],c[2]].join(".")+(d?"-"+d:"")}}},a.version=a.parseVersionString.call(this,{version:"5.12.0"}.version),a}()),angular.module("angular-medium-editor",[]).directive("mediumEditor",function(){function a(a){var b,c=document.createElement("div");return c.innerHTML=a,b=c.textContent||"",b.trim()}return{require:"ngModel",restrict:"AE",scope:{bindOptions:"="},link:function(b,c,d,e){angular.element(c).addClass("angular-medium-editor"),e.editor=new MediumEditor(c,b.bindOptions),e.$render=function(){c.html(e.$viewValue||"");var a=e.editor.getExtensionByName("placeholder");a&&a.updatePlaceholder(c[0])},e.$isEmpty=function(b){return/[<>]/.test(b)?0===a(b).length:!b||0===b.length},e.editor.subscribe("editableInput",function(a,b){e.$setViewValue(b.innerHTML.trim())}),b.$watch("bindOptions",function(a){e.editor.init(c,a)}),b.$on("$destroy",function(){e.editor.destroy()})}}}),function(a){if("function"!=typeof MediumEditor)throw new Error("Medium Editor is not loaded on the page.");!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.toMarkdown=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){return-1!==t.indexOf(a.nodeName.toLowerCase())}function e(a){return-1!==u.indexOf(a.nodeName.toLowerCase())}function f(a){var b=(new r).parseFromString(a,"text/html");return s(b.documentElement,d),b}function g(a){for(var b,c,d,e=[a],f=[];e.length>0;)for(b=e.shift(),f.push(b),c=b.childNodes,d=0;d<c.length;d++)1===c[d].nodeType&&e.push(c[d]);return f.shift(),f}function h(a){for(var b="",c=0;c<a.childNodes.length;c++)if(1===a.childNodes[c].nodeType)b+=a.childNodes[c]._replacement;else{if(3!==a.childNodes[c].nodeType)continue;b+=a.childNodes[c].data}return b}function i(a,b){return a.cloneNode(!1).outerHTML.replace("><",">"+b+"<")}function j(a,b){if("string"==typeof b)return b===a.nodeName.toLowerCase();if(Array.isArray(b))return-1!==b.indexOf(a.nodeName.toLowerCase());if("function"==typeof b)return b.call(n,a);throw new TypeError("`filter` needs to be a string, array, or function")}function k(a,b){var c,e,f;return"left"===a?(c=b.previousSibling,e=/ $/):(c=b.nextSibling,e=/^ /),c&&(3===c.nodeType?f=e.test(c.nodeValue):1!==c.nodeType||d(c)||(f=e.test(c.textContent))),f}function l(a){var b="",c="";if(!d(a)){var e=/^[ \r\n\t]/.test(a.innerHTML),f=/[ \r\n\t]$/.test(a.innerHTML);e&&!k("left",a)&&(b=" "),f&&!k("right",a)&&(c=" ")}return{leading:b,trailing:c}}function m(a){var b,c=h(a);if(!e(a)&&!/A|TH|TD/.test(a.nodeName)&&/^\s*$/i.test(c))return void(a._replacement="");for(var d=0;d<o.length;d++){var f=o[d];if(j(a,f.filter)){if("function"!=typeof f.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var g=l(a);(g.leading||g.trailing)&&(c=c.trim()),b=g.leading+f.replacement.call(n,c,a)+g.trailing;break}}a._replacement=b}var n,o,p=a("./lib/md-converters"),q=a("./lib/gfm-converters"),r=a("./lib/html-parser"),s=a("collapse-whitespace"),t=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"],u=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];n=function(a,b){if(b=b||{},"string"!=typeof a)throw new TypeError(a+" is not a string");a=a.replace(/(\d+)\. /g,"$1\\. ");var c,d=f(a).body,e=g(d);o=p.slice(0),b.gfm&&(o=q.concat(o)),b.converters&&(o=b.converters.concat(o));for(var i=e.length-1;i>=0;i--)m(e[i]);return c=h(d),c.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")},n.isBlock=d,n.isVoid=e,n.outer=i,b.exports=n},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/md-converters":4,"collapse-whitespace":7}],2:[function(a,b,c){"use strict";function d(a,b){var c=Array.prototype.indexOf.call(b.parentNode.childNodes,b),d=" ";return 0===c&&(d="| "),d+a+" |"}var e=/highlight highlight-(\S+)/;b.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(a){return"~~"+a+"~~"}},{filter:function(a){return"checkbox"===a.type&&"LI"===a.parentNode.nodeName},replacement:function(a,b){return(b.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(a,b){return d(a,b)}},{filter:"tr",replacement:function(a,b){var c="",e={left:":--",right:"--:",center:":-:"};if("THEAD"===b.parentNode.nodeName)for(var f=0;f<b.childNodes.length;f++){var g=b.childNodes[f].attributes.align,h="---";g&&(h=e[g.value]||h),c+=d(h,b.childNodes[f])}return"\n"+a+(c?"\n"+c:"")}},{filter:"table",replacement:function(a){return"\n\n"+a+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(a){return a}},{filter:function(a){return"PRE"===a.nodeName&&a.firstChild&&"CODE"===a.firstChild.nodeName},replacement:function(a,b){return"\n\n```\n"+b.firstChild.textContent+"\n```\n\n"}},{filter:function(a){return"PRE"===a.nodeName&&"DIV"===a.parentNode.nodeName&&e.test(a.parentNode.className)},replacement:function(a,b){return"\n\n```"+b.parentNode.className.match(e)[1]+"\n"+b.textContent+"\n```\n\n"}},{filter:function(a){return"DIV"===a.nodeName&&e.test(a.className)},replacement:function(a){return"\n\n"+a+"\n\n"}}]},{}],3:[function(a,b,c){function d(){var a=!1;try{document.implementation.createHTMLDocument("").open()}catch(b){window.ActiveXObject&&(a=!0)}return a}var e="undefined"!=typeof window?window:this;b.exports=function(){var a=e.DOMParser,b=!1;try{(new a).parseFromString("","text/html")&&(b=!0)}catch(a){}return b}()?e.DOMParser:function(){var b=function(){};if("undefined"==typeof document){var c=a("jsdom");b.prototype.parseFromString=function(a){return c.jsdom(a,{features:{FetchExternalResources:[],ProcessExternalResources:!1}})}}else d()?b.prototype.parseFromString=function(a){var b=new window.ActiveXObject("htmlfile");return b.designMode="on",b.open(),b.write(a),b.close(),b}:b.prototype.parseFromString=function(a){var b=document.implementation.createHTMLDocument("");return b.open(),b.write(a),b.close(),b};return b}()},{jsdom:6}],4:[function(a,b,c){"use strict";b.exports=[{filter:"p",replacement:function(a){return"\n\n"+a+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(a,b){for(var c=b.nodeName.charAt(1),d="",e=0;e<c;e++)d+="#";return"\n\n"+d+" "+a+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(a){return"_"+a+"_"}},{filter:["strong","b"],replacement:function(a){return"**"+a+"**"}},{filter:function(a){var b=a.previousSibling||a.nextSibling,c="PRE"===a.parentNode.nodeName&&!b;return"CODE"===a.nodeName&&!c},replacement:function(a){return"`"+a+"`"}},{filter:function(a){return"A"===a.nodeName&&a.getAttribute("href")},replacement:function(a,b){var c=b.title?' "'+b.title+'"':"";return"["+a+"]("+b.getAttribute("href")+c+")"}},{filter:"img",replacement:function(a,b){var c=b.alt||"",d=b.getAttribute("src")||"",e=b.title||"",f=e?' "'+e+'"':"";return d?"!["+c+"]("+d+f+")":""}},{filter:function(a){return"PRE"===a.nodeName&&"CODE"===a.firstChild.nodeName},replacement:function(a,b){return"\n\n    "+b.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(a){return a=a.trim(),a=a.replace(/\n{3,}/g,"\n\n"),"\n\n"+(a=a.replace(/^/gm,"> "))+"\n\n"}},{filter:"li",replacement:function(a,b){a=a.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var c=b.parentNode,d=Array.prototype.indexOf.call(c.children,b)+1;return(/ol/i.test(c.nodeName)?d+".  ":"*   ")+a}},{filter:["ul","ol"],replacement:function(a,b){for(var c=[],d=0;d<b.childNodes.length;d++)c.push(b.childNodes[d]._replacement);return/li/i.test(b.parentNode.nodeName)?"\n"+c.join("\n"):"\n\n"+c.join("\n")+"\n\n"}},{filter:function(a){return this.isBlock(a)},replacement:function(a,b){return"\n\n"+this.outer(b,a)+"\n\n"}},{filter:function(){return!0},replacement:function(a,b){return this.outer(b,a)}}]},{}],5:[function(a,b,c){b.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(a,b,c){},{}],7:[function(a,b,c){"use strict";function d(a){return!(!a||!j[a.nodeName])}function e(a){return!(!a||!i[a.nodeName])}function f(a,b){if(a.firstChild&&"PRE"!==a.nodeName){"function"!=typeof b&&(b=d);for(var c=null,f=!1,i=null,j=h(i,a);j!==a;){if(3===j.nodeType){var k=j.data.replace(/[ \r\n\t]+/g," ");if(c&&!/ $/.test(c.data)||f||" "!==k[0]||(k=k.substr(1)),!k){j=g(j);continue}j.data=k,c=j}else{if(1!==j.nodeType){j=g(j);continue}b(j)||"BR"===j.nodeName?(c&&(c.data=c.data.replace(/ $/,"")),c=null,f=!1):e(j)&&(c=null,f=!0)}var l=h(i,j);i=j,j=l}c&&(c.data=c.data.replace(/ $/,""),c.data||g(c))}}function g(a){var b=a.nextSibling||a.parentNode;return a.parentNode.removeChild(a),b}function h(a,b){return a&&a.parentNode===b||"PRE"===b.nodeName?b.nextSibling||b.parentNode:b.firstChild||b.nextSibling||b.parentNode}var i=a("void-elements");Object.keys(i).forEach(function(a){i[a.toUpperCase()]=1});var j={};a("block-elements").forEach(function(a){j[a.toUpperCase()]=1}),b.exports=f},{"block-elements":5,"void-elements":8}],8:[function(a,b,c){b.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}]},{},[1])(1)});var b=function(a,b){function c(a){for(var b=a.children,d=0;d<b.length;++d){var e=b[d],f=e.querySelector("br");f&&f.remove(),!e.innerHTML.trim()&&e.remove();var g=b[d-1];if(/^UL|OL$/.test(e.tagName)){try{g.appendChild(e)}catch(a){console.warn(a)}c(e)}}}"function"==typeof a&&(b=a,a={}),a=Object(a),a.events=a.events||["input","change"],b=b||a.callback||function(){};var d=a.toMarkdownOptions=Object(a.toMarkdownOptions);d.converters=d.converters||[],a.ignoreBuiltInConverters||d.converters.push({filter:function(a){return"DIV"===a.nodeName&&!a.attributes.length},replacement:function(a){return a}}),this.init=function(){if(this.base.elements&&this.base.elements.length){this.element=this.base.elements[0];var d=function(){for(var d=this.element.cloneNode(!0),e=d.querySelectorAll("ul, ol"),f=0;f<e.length;++f)c(e[f]);b(toMarkdown(d.innerHTML,a.toMarkdownOptions).split("\n").map(function(a){return a.trimRight()}).join("\n").trimRight())}.bind(this);a.events.forEach(function(a){this.element.addEventListener(a,d)}.bind(this)),d()}}};a.MeMarkdown=b}(this),function(a){"use strict";a.module("720kb.socialshare",[]).directive("socialshare",["$window","$location",function(a,b){return{restrict:"A",link:function(c,d,e){var f,g,h={},i={url:"",redirectUri:"",provider:"",type:"",text:"",caption:"",to:"",ref:"",display:"",from:"",media:"",hashtags:"",via:"",description:"",source:"",subreddit:"",follow:"",popupHeight:500,popupWidth:500};for(f in i)i.hasOwnProperty(f)&&(g="socialshare"+f.substring(0,1).toUpperCase()+f.substring(1),function(a){e.$observe(g,function(b){b&&(h[a]=b)})}(f),void 0===h[f]&&(h[f]=i[f]));h.eventTrigger=e.socialshareTrigger||"click",c.facebookShare=function(c){if(c.type&&"feed"===c.type){var d="https://www.facebook.com/dialog/feed?display=popup&app_id="+encodeURI(c.via)+"&redirect_uri="+encodeURI(c.redirectUri);c.url&&(d+="&link="+encodeURIComponent(c.url)),c.to&&(d+="&to="+encodeURIComponent(c.to)),c.display&&(d+="&display="+encodeURIComponent(c.display)),c.ref&&(d+="&ref="+encodeURIComponent(c.ref)),c.from&&(d+="&from="+encodeURIComponent(c.from)),c.description&&(d+="&description="+encodeURIComponent(c.description)),c.text&&(d+="&name="+encodeURIComponent(c.text)),c.caption&&(d+="&caption="+encodeURIComponent(c.caption)),c.media&&(d+="&picture="+encodeURIComponent(c.media)),c.source&&(d+="&source="+encodeURIComponent(c.source)),a.open(d,"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)}else a.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(c.url||b.absUrl()),"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.twitterShare=function(c){var d="https://www.twitter.com/intent/tweet?";c.text&&(d+="text="+encodeURIComponent(c.text)),c.via&&(d+="&via="+encodeURI(c.via)),c.hashtags&&(d+="&hashtags="+encodeURI(c.hashtags)),d+="&url="+encodeURIComponent(c.url||b.absUrl()),a.open(d,"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.googlePlusShare=function(c){a.open("https://plus.google.com/share?url="+encodeURIComponent(c.url||b.absUrl()),"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.redditShare=function(c){var d="https://www.reddit.com/";c.subreddit?d+="r/"+c.subreddit+"/submit?url=":d+="submit?url=",c.popupWidth<900&&(c.popupWidth=900),c.popupHeight<650&&(c.popupHeight=650),a.open(d+encodeURIComponent(c.url||b.absUrl())+"&title="+encodeURIComponent(c.text),"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.stumbleuponShare=function(c){a.open("https://www.stumbleupon.com/submit?url="+encodeURIComponent(c.url||b.absUrl())+"&title="+encodeURIComponent(c.text),"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.linkedinShare=function(c){var d="https://www.linkedin.com/shareArticle?mini=true";d+="&url="+encodeURIComponent(c.url||b.absUrl()),c.text&&(d+="&title="+encodeURIComponent(c.text)),c.description&&(d+="&summary="+encodeURIComponent(c.description)),c.source&&(d+="&source="+encodeURIComponent(c.source)),a.open(d,"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.pinterestShare=function(c){a.open("https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(c.url||b.absUrl())+"&media="+encodeURI(c.media)+"&description="+encodeURIComponent(c.text),"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.diggShare=function(c){a.open("https://www.digg.com/submit?url="+encodeURIComponent(c.url||b.absUrl())+"&title="+encodeURIComponent(c.text),"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.tumblrShare=function(b){if(b.media){var c="https://www.tumblr.com/share/photo?source="+encodeURIComponent(b.media);b.text&&(c+="&caption="+encodeURIComponent(b.text)),a.open(c,"sharer","toolbar=0,status=0,width="+b.popupWidth+",height="+b.popupHeight)}else a.open("https://www.tumblr.com/share/link?url="+encodeURIComponent(b.url)+"&description="+encodeURIComponent(b.text),"sharer","toolbar=0,status=0,width="+b.popupWidth+",height="+b.popupHeight)},c.vkShare=function(c){a.open("https://www.vk.com/share.php?url="+encodeURIComponent(c.url||b.absUrl()),"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.deliciousShare=function(c){a.open("https://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(c.url||b.absUrl())+"&title="+encodeURIComponent(c.text),"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.bufferShare=function(c){var d="https://bufferapp.com/add?";c.text&&(d+="text="+encodeURIComponent(c.text)),c.via&&(d+="&via="+encodeURI(c.via)),d+="&url="+encodeURIComponent(c.url||b.absUrl()),a.open(d,"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.hackernewsShare=function(c){var d="https://news.ycombinator.com/submitlink?";c.text&&(d+="t="+encodeURIComponent(c.text)+"&"),d+="u="+encodeURIComponent(c.url||b.absUrl()),a.open(d,"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.flipboardShare=function(c){var d="https://share.flipboard.com/bookmarklet/popout?v=2&";c.text&&(d+="title="+encodeURIComponent(c.text)+"&"),d+="url="+encodeURIComponent(c.url||b.absUrl()),a.open(d,"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.pocketShare=function(c){var d="https://getpocket.com/save?";c.text&&(d+="text="+encodeURIComponent(c.text)+"&"),d+="url="+encodeURIComponent(c.url||b.absUrl()),a.open(d,"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.wordpressShare=function(c){var d="http://wordpress.com/press-this.php?";c.text&&(d+="t="+encodeURIComponent(c.text)+"&"),c.media&&(d+="i="+encodeURIComponent(c.media)+"&"),d+="u="+encodeURIComponent(c.url||b.absUrl()),a.open(d,"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},c.xingShare=function(c){var d="";c.follow&&(d="&follow_url="+encodeURIComponent(c.follow)),a.open("https://www.xing.com/spi/shares/new?url="+encodeURIComponent(c.url||b.absUrl())+d,"sharer","toolbar=0,status=0,width="+c.popupWidth+",height="+c.popupHeight)},d.bind(h.eventTrigger,function(){switch(h.provider){case"facebook":c.facebookShare(h);break;case"google+":c.googlePlusShare(h);break;case"twitter":c.twitterShare(h);break;case"stumbleupon":c.stumbleuponShare(h);break;case"reddit":c.redditShare(h);break;case"pinterest":c.pinterestShare(h);break;case"linkedin":c.linkedinShare(h);break;case"digg":c.diggShare(h);break;case"tumblr":c.tumblrShare(h);break;case"delicious":c.deliciousShare(h);break;case"vk":c.vkShare(h);break;case"buffer":c.bufferShare(h);break;case"pocket":c.pocketShare(h);break;case"wordpress":c.wordpressShare(h);break;case"flipboard":c.flipboardShare(h);break;case"hackernews":c.hackernewsShare(h);break;case"xing":c.xingShare(h);break;default:return}})}}}])}(angular),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Clipboard=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b){for(;a&&a.nodeType!==e;){if(a.matches(b))return a;a=a.parentNode}}var e=9;if(Element&&!Element.prototype.matches){var f=Element.prototype;f.matches=f.matchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector||f.webkitMatchesSelector}b.exports=d},{}],2:[function(a,b,c){function d(a,b,c,d,f){var g=e.apply(this,arguments);return a.addEventListener(c,g,f),{destroy:function(){a.removeEventListener(c,g,f)}}}function e(a,b,c,d){return function(c){c.delegateTarget=f(c.target,b),c.delegateTarget&&d.call(a,c)}}var f=a("./closest");b.exports=d},{"./closest":1}],3:[function(a,b,c){c.node=function(a){return void 0!==a&&a instanceof HTMLElement&&1===a.nodeType},c.nodeList=function(a){var b=Object.prototype.toString.call(a);return void 0!==a&&("[object NodeList]"===b||"[object HTMLCollection]"===b)&&"length"in a&&(0===a.length||c.node(a[0]))},c.string=function(a){return"string"==typeof a||a instanceof String},c.fn=function(a){return"[object Function]"===Object.prototype.toString.call(a)}},{}],4:[function(a,b,c){function d(a,b,c){if(!a&&!b&&!c)throw new Error("Missing required arguments");if(!h.string(b))throw new TypeError("Second argument must be a String");if(!h.fn(c))throw new TypeError("Third argument must be a Function");if(h.node(a))return e(a,b,c);if(h.nodeList(a))return f(a,b,c);if(h.string(a))return g(a,b,c);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function e(a,b,c){return a.addEventListener(b,c),{destroy:function(){a.removeEventListener(b,c)}}}function f(a,b,c){return Array.prototype.forEach.call(a,function(a){a.addEventListener(b,c)}),{destroy:function(){Array.prototype.forEach.call(a,function(a){a.removeEventListener(b,c)})}}}function g(a,b,c){return i(document.body,a,b,c)}var h=a("./is"),i=a("delegate");b.exports=d},{"./is":3,delegate:2}],5:[function(a,b,c){function d(a){var b;if("SELECT"===a.nodeName)a.focus(),b=a.value;else if("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName)a.focus(),a.setSelectionRange(0,a.value.length),b=a.value;else{a.hasAttribute("contenteditable")&&a.focus();var c=window.getSelection(),d=document.createRange();d.selectNodeContents(a),c.removeAllRanges(),c.addRange(d),b=c.toString()}return b}b.exports=d},{}],6:[function(a,b,c){function d(){}d.prototype={on:function(a,b,c){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:b,ctx:c}),this},once:function(a,b,c){function d(){e.off(a,d),b.apply(c,arguments)}var e=this;return d._=b,this.on(a,d,c)},emit:function(a){var b=[].slice.call(arguments,1),c=((this.e||(this.e={}))[a]||[]).slice(),d=0,e=c.length;for(d;d<e;d++)c[d].fn.apply(c[d].ctx,b);return this},off:function(a,b){var c=this.e||(this.e={}),d=c[a],e=[];if(d&&b)for(var f=0,g=d.length;f<g;f++)d[f].fn!==b&&d[f].fn._!==b&&e.push(d[f]);return e.length?c[a]=e:delete c[a],this}},b.exports=d},{}],7:[function(b,c,d){!function(e,f){if("function"==typeof a&&a.amd)a(["module","select"],f);else if(void 0!==d)f(c,b("select"));else{var g={exports:{}};f(g,e.select),e.clipboardAction=g.exports}}(this,function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(a){return a&&a.__esModule?a:{default:a}}(b),e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(){function a(b){c(this,a),this.resolveOptions(b),this.initSelection()}return f(a,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=a.action,this.emitter=a.emitter,this.target=a.target,this.text=a.text,this.trigger=a.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var a=this,b="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return a.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[b?"right":"left"]="-9999px";var c=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,c)),this.fakeElem.style.top=c+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,d.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,d.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var a=void 0;try{a=document.execCommand(this.action)}catch(b){a=!1}this.handleResult(a)}},{key:"handleResult",value:function(a){this.emitter.emit(a?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=a,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{
key:"target",set:function(a){if(void 0!==a){if(!a||"object"!==(void 0===a?"undefined":e(a))||1!==a.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&a.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(a.hasAttribute("readonly")||a.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=a}},get:function(){return this._target}}]),a}();a.exports=g})},{select:5}],8:[function(b,c,d){!function(e,f){if("function"==typeof a&&a.amd)a(["module","./clipboard-action","tiny-emitter","good-listener"],f);else if(void 0!==d)f(c,b("./clipboard-action"),b("tiny-emitter"),b("good-listener"));else{var g={exports:{}};f(g,e.clipboardAction,e.tinyEmitter,e.goodListener),e.clipboard=g.exports}}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){var c="data-clipboard-"+a;if(b.hasAttribute(c))return b.getAttribute(c)}var j=e(b),k=e(c),l=e(d),m=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),n=function(a){function b(a,c){f(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d.resolveOptions(c),d.listenClick(a),d}return h(b,a),m(b,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof a.action?a.action:this.defaultAction,this.target="function"==typeof a.target?a.target:this.defaultTarget,this.text="function"==typeof a.text?a.text:this.defaultText}},{key:"listenClick",value:function(a){var b=this;this.listener=(0,l.default)(a,"click",function(a){return b.onClick(a)})}},{key:"onClick",value:function(a){var b=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new j.default({action:this.action(b),target:this.target(b),text:this.text(b),trigger:b,emitter:this})}},{key:"defaultAction",value:function(a){return i("action",a)}},{key:"defaultTarget",value:function(a){var b=i("target",a);if(b)return document.querySelector(b)}},{key:"defaultText",value:function(a){return i("text",a)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),b}(k.default);a.exports=n})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.Papa=b()}(this,function(){"use strict";function a(a,b){if(b=b||{},b.dynamicTyping=b.dynamicTyping||!1,b.worker&&x.WORKERS_SUPPORTED){var c=i();return c.userStep=b.step,c.userChunk=b.chunk,c.userComplete=b.complete,c.userError=b.error,b.step=p(b.step),b.chunk=p(b.chunk),b.complete=p(b.complete),b.error=p(b.error),delete b.worker,void c.postMessage({input:a,config:b,workerId:c.id})}var g=null;return"string"==typeof a?g=b.download?new d(b):new f(b):(r.File&&a instanceof File||a instanceof Object)&&(g=new e(b)),g.stream(a)}function b(a,b){function c(a){if("object"!=typeof a)return[];var b=[];for(var c in a)b.push(c);return b}function d(a,b){var c="";"string"==typeof a&&(a=JSON.parse(a)),"string"==typeof b&&(b=JSON.parse(b));var d=a instanceof Array&&a.length>0,f=!(b[0]instanceof Array);if(d&&h){for(var g=0;g<a.length;g++)g>0&&(c+=i),c+=e(a[g],g);b.length>0&&(c+=j)}for(var k=0;k<b.length;k++){for(var l=d?a.length:b[k].length,m=0;m<l;m++){m>0&&(c+=i);var n=d&&f?a[m]:m;c+=e(b[k][n],m)}k<b.length-1&&(c+=j)}return c}function e(a,b){return void 0===a||null===a?"":(a=a.toString().replace(l,k+k),"boolean"==typeof g&&g||g instanceof Array&&g[b]||f(a,x.BAD_DELIMITERS)||a.indexOf(i)>-1||" "===a.charAt(0)||" "===a.charAt(a.length-1)?k+a+k:a)}function f(a,b){for(var c=0;c<b.length;c++)if(a.indexOf(b[c])>-1)return!0;return!1}var g=!1,h=!0,i=",",j="\r\n",k='"';!function(){"object"==typeof b&&("string"==typeof b.delimiter&&1===b.delimiter.length&&-1===x.BAD_DELIMITERS.indexOf(b.delimiter)&&(i=b.delimiter),("boolean"==typeof b.quotes||b.quotes instanceof Array)&&(g=b.quotes),"string"==typeof b.newline&&(j=b.newline),"string"==typeof b.quoteChar&&(k=b.quoteChar),"boolean"==typeof b.header&&(h=b.header))}();var l=new RegExp(k,"g");if("string"==typeof a&&(a=JSON.parse(a)),a instanceof Array){if(!a.length||a[0]instanceof Array)return d(null,a);if("object"==typeof a[0])return d(c(a[0]),a)}else if("object"==typeof a)return"string"==typeof a.data&&(a.data=JSON.parse(a.data)),a.data instanceof Array&&(a.fields||(a.fields=a.meta&&a.meta.fields),a.fields||(a.fields=a.data[0]instanceof Array?a.fields:c(a.data[0])),a.data[0]instanceof Array||"object"==typeof a.data[0]||(a.data=[a.data])),d(a.fields||[],a.data||[]);throw"exception: Unable to serialize unrecognized input"}function c(a){function b(a){var b=n(a);b.chunkSize=parseInt(b.chunkSize),a.step||a.chunk||(b.chunkSize=null),this._handle=new g(b),this._handle.streamer=this,this._config=b}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},b.call(this,a),this.parseChunk=function(a){if(this.isFirstChunk&&p(this._config.beforeFirstChunk)){var b=this._config.beforeFirstChunk(a);void 0!==b&&(a=b)}this.isFirstChunk=!1;var c=this._partialLine+a;this._partialLine="";var d=this._handle.parse(c,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var e=d.meta.cursor;this._finished||(this._partialLine=c.substring(e-this._baseIndex),this._baseIndex=e),d&&d.data&&(this._rowCount+=d.data.length);var f=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(t)r.postMessage({results:d,workerId:x.WORKER_ID,finished:f});else if(p(this._config.chunk)){if(this._config.chunk(d,this._handle),this._paused)return;d=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(d.data),this._completeResults.errors=this._completeResults.errors.concat(d.errors),this._completeResults.meta=d.meta),!f||!p(this._config.complete)||d&&d.meta.aborted||this._config.complete(this._completeResults,this._input),f||d&&d.meta.paused||this._nextChunk(),d}},this._sendError=function(a){p(this._config.error)?this._config.error(a):t&&this._config.error&&r.postMessage({workerId:x.WORKER_ID,error:a,finished:!1})}}function d(a){function b(a){var b=a.getResponseHeader("Content-Range");return null===b?-1:parseInt(b.substr(b.lastIndexOf("/")+1))}a=a||{},a.chunkSize||(a.chunkSize=x.RemoteChunkSize),c.call(this,a);var d;this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(a){this._input=a,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),s||(d.onload=o(this._chunkLoaded,this),d.onerror=o(this._chunkError,this)),d.open("GET",this._input,!s),this._config.chunkSize){var a=this._start+this._config.chunkSize-1;d.setRequestHeader("Range","bytes="+this._start+"-"+a),d.setRequestHeader("If-None-Match","webkit-no-cache")}try{d.send()}catch(a){this._chunkError(a.message)}s&&0===d.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==d.readyState){if(d.status<200||d.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>b(d),this.parseChunk(d.responseText)}},this._chunkError=function(a){var b=d.statusText||a;this._sendError(b)}}function e(a){a=a||{},a.chunkSize||(a.chunkSize=x.LocalChunkSize),c.call(this,a);var b,d,e="undefined"!=typeof FileReader;this.stream=function(a){this._input=a,d=a.slice||a.webkitSlice||a.mozSlice,e?(b=new FileReader,b.onload=o(this._chunkLoaded,this),b.onerror=o(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input;if(this._config.chunkSize){var c=Math.min(this._start+this._config.chunkSize,this._input.size);a=d.call(a,this._start,c)}var f=b.readAsText(a,this._config.encoding);e||this._chunkLoaded({target:{result:f}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(b.error)}}function f(a){a=a||{},c.call(this,a);var b,d;this.stream=function(a){return b=a,d=a,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var a=this._config.chunkSize,b=a?d.substr(0,a):d;return d=a?d.substr(a):"",this._finished=!d,this.parseChunk(b)}}}function g(a){function b(){if(w&&o&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+x.DefaultDelimiter+"'"),o=!1),a.skipEmptyLines)for(var b=0;b<w.data.length;b++)1===w.data[b].length&&""===w.data[b][0]&&w.data.splice(b--,1);return c()&&d(),f()}function c(){return a.header&&0===v.length}function d(){if(w){for(var a=0;c()&&a<w.data.length;a++)for(var b=0;b<w.data[a].length;b++)v.push(w.data[a][b]);w.data.splice(0,1)}}function e(b,c){return!0===(a.dynamicTyping[b]||a.dynamicTyping)?"true"===c||"TRUE"===c||"false"!==c&&"FALSE"!==c&&j(c):c}function f(){if(!w||!a.header&&!a.dynamicTyping)return w;for(var b=0;b<w.data.length;b++){for(var c=a.header?{}:[],d=0;d<w.data[b].length;d++){var f=d,g=w.data[b][d];a.header&&(f=d>=v.length?"__parsed_extra":v[d]),g=e(f,g),"__parsed_extra"===f?(c[f]=c[f]||[],c[f].push(g)):c[f]=g}w.data[b]=c,a.header&&(d>v.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+d,b):d<v.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+d,b))}return a.header&&w.meta&&(w.meta.fields=v),w}function g(b,c){for(var d,e,f,g=[",","\t","|",";",x.RECORD_SEP,x.UNIT_SEP],i=0;i<g.length;i++){var j=g[i],k=0,l=0;f=void 0;for(var m=new h({delimiter:j,newline:c,preview:10}).parse(b),n=0;n<m.data.length;n++){var o=m.data[n].length;l+=o,void 0!==f?o>1&&(k+=Math.abs(o-f),f=o):f=o}m.data.length>0&&(l/=m.data.length),(void 0===e||k<e)&&l>1.99&&(e=k,d=j)}return a.delimiter=d,{successful:!!d,bestDelimiter:d}}function i(a){a=a.substr(0,1048576);var b=a.split("\r"),c=a.split("\n"),d=c.length>1&&c[0].length<b[0].length;if(1===b.length||d)return"\n";for(var e=0,f=0;f<b.length;f++)"\n"===b[f][0]&&e++;return e>=b.length/2?"\r\n":"\r"}function j(a){return q.test(a)?parseFloat(a):a}function k(a,b,c,d){w.errors.push({type:a,code:b,message:c,row:d})}var l,m,o,q=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,r=this,s=0,t=!1,u=!1,v=[],w={data:[],errors:[],meta:{}};if(p(a.step)){var y=a.step;a.step=function(d){if(w=d,c())b();else{if(b(),0===w.data.length)return;s+=d.data.length,a.preview&&s>a.preview?m.abort():y(w,r)}}}this.parse=function(c,d,e){if(a.newline||(a.newline=i(c)),o=!1,a.delimiter)"function"==typeof a.delimiter&&(a.delimiter=a.delimiter(c),w.meta.delimiter=a.delimiter);else{var f=g(c,a.newline);f.successful?a.delimiter=f.bestDelimiter:(o=!0,a.delimiter=x.DefaultDelimiter),w.meta.delimiter=a.delimiter}var j=n(a);return a.preview&&a.header&&j.preview++,l=c,m=new h(j),w=m.parse(l,d,e),b(),t?{meta:{paused:!0}}:w||{meta:{paused:!1}}},this.paused=function(){return t},this.pause=function(){t=!0,m.abort(),l=l.substr(m.getCharIndex())},this.resume=function(){t=!1,r.streamer.parseChunk(l)},this.aborted=function(){return u},this.abort=function(){u=!0,m.abort(),w.meta.aborted=!0,p(a.complete)&&a.complete(w),l=""}}function h(a){a=a||{};var b=a.delimiter,c=a.newline,d=a.comments,e=a.step,f=a.preview,g=a.fastMode,h=a.quoteChar||'"';if(("string"!=typeof b||x.BAD_DELIMITERS.indexOf(b)>-1)&&(b=","),d===b)throw"Comment character same as delimiter";!0===d?d="#":("string"!=typeof d||x.BAD_DELIMITERS.indexOf(d)>-1)&&(d=!1),"\n"!=c&&"\r"!=c&&"\r\n"!=c&&(c="\n");var i=0,j=!1;this.parse=function(a,k,l){function m(a){w.push(a),z=i}function n(b){return l?p():(void 0===b&&(b=a.substr(i)),y.push(b),i=r,m(y),v&&q(),p())}function o(b){i=b,m(y),y=[],D=a.indexOf(c,i)}function p(a){return{data:w,errors:x,meta:{delimiter:b,linebreak:c,aborted:j,truncated:!!a,cursor:z+(k||0)}}}function q(){e(p()),w=[],x=[]}if("string"!=typeof a)throw"Input must be a string";var r=a.length,s=b.length,t=c.length,u=d.length,v="function"==typeof e;i=0;var w=[],x=[],y=[],z=0;if(!a)return p();if(g||!1!==g&&-1===a.indexOf(h)){for(var A=a.split(c),B=0;B<A.length;B++){var y=A[B];if(i+=y.length,B!==A.length-1)i+=c.length;else if(l)return p();if(!d||y.substr(0,u)!==d){if(v){if(w=[],m(y.split(b)),q(),j)return p()}else m(y.split(b));if(f&&B>=f)return w=w.slice(0,f),p(!0)}}return p()}for(var C=a.indexOf(b,i),D=a.indexOf(c,i),E=new RegExp(h+h,"g");;)if(a[i]!==h)if(d&&0===y.length&&a.substr(i,u)===d){if(-1===D)return p();i=D+t,D=a.indexOf(c,i),C=a.indexOf(b,i)}else if(-1!==C&&(C<D||-1===D))y.push(a.substring(i,C)),i=C+s,C=a.indexOf(b,i);else{if(-1===D)break;if(y.push(a.substring(i,D)),o(D+t),v&&(q(),j))return p();if(f&&w.length>=f)return p(!0)}else{var F=i;for(i++;;){var F=a.indexOf(h,F+1);if(-1===F)return l||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:i}),n();if(F===r-1){var G=a.substring(i,F).replace(E,h);return n(G)}if(a[F+1]!==h){if(a[F+1]===b){y.push(a.substring(i,F).replace(E,h)),i=F+1+s,C=a.indexOf(b,i),D=a.indexOf(c,i);break}if(a.substr(F+1,t)===c){if(y.push(a.substring(i,F).replace(E,h)),o(F+1+t),C=a.indexOf(b,i),v&&(q(),j))return p();if(f&&w.length>=f)return p(!0);break}}else F++}}return n()},this.abort=function(){j=!0},this.getCharIndex=function(){return i}}function i(){if(!x.WORKERS_SUPPORTED)return!1;if(!u&&null===x.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var a=x.SCRIPT_PATH||q;a+=(-1!==a.indexOf("?")?"&":"?")+"papaworker";var b=new r.Worker(a);return b.onmessage=j,b.id=w++,v[b.id]=b,b}function j(a){var b=a.data,c=v[b.workerId],d=!1;if(b.error)c.userError(b.error,b.file);else if(b.results&&b.results.data){var e=function(){d=!0,k(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},f={abort:e,pause:l,resume:l};if(p(c.userStep)){for(var g=0;g<b.results.data.length&&(c.userStep({data:[b.results.data[g]],errors:b.results.errors,meta:b.results.meta},f),!d);g++);delete b.results}else p(c.userChunk)&&(c.userChunk(b.results,f,b.file),delete b.results)}b.finished&&!d&&k(b.workerId,b.results)}function k(a,b){var c=v[a];p(c.userComplete)&&c.userComplete(b),c.terminate(),delete v[a]}function l(){throw"Not implemented."}function m(a){var b=a.data;if(void 0===x.WORKER_ID&&b&&(x.WORKER_ID=b.workerId),"string"==typeof b.input)r.postMessage({workerId:x.WORKER_ID,results:x.parse(b.input,b.config),finished:!0});else if(r.File&&b.input instanceof File||b.input instanceof Object){var c=x.parse(b.input,b.config);c&&r.postMessage({workerId:x.WORKER_ID,results:c,finished:!0})}}function n(a){if("object"!=typeof a)return a;var b=a instanceof Array?[]:{};for(var c in a)b[c]=n(a[c]);return b}function o(a,b){return function(){a.apply(b,arguments)}}function p(a){return"function"==typeof a}var q,r=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:{}}(),s=!r.document&&!!r.postMessage,t=s&&/(\?|&)papaworker(=|&|$)/.test(r.location.search),u=!1,v={},w=0,x={};if(x.parse=a,x.unparse=b,x.RECORD_SEP=String.fromCharCode(30),x.UNIT_SEP=String.fromCharCode(31),x.BYTE_ORDER_MARK="\ufeff",x.BAD_DELIMITERS=["\r","\n",'"',x.BYTE_ORDER_MARK],x.WORKERS_SUPPORTED=!s&&!!r.Worker,x.SCRIPT_PATH=null,x.LocalChunkSize=10485760,x.RemoteChunkSize=5242880,x.DefaultDelimiter=",",x.Parser=h,x.ParserHandle=g,x.NetworkStreamer=d,x.FileStreamer=e,x.StringStreamer=f,r.jQuery){var y=r.jQuery;y.fn.parse=function(a){function b(){if(0===f.length)return void(p(a.complete)&&a.complete());var b=f[0];if(p(a.before)){var e=a.before(b.file,b.inputElem);if("object"==typeof e){if("abort"===e.action)return void c("AbortError",b.file,b.inputElem,e.reason);if("skip"===e.action)return void d();"object"==typeof e.config&&(b.instanceConfig=y.extend(b.instanceConfig,e.config))}else if("skip"===e)return void d()}var g=b.instanceConfig.complete;b.instanceConfig.complete=function(a){p(g)&&g(a,b.file,b.inputElem),d()},x.parse(b.file,b.instanceConfig)}function c(b,c,d,e){p(a.error)&&a.error({name:b},c,d,e)}function d(){f.splice(0,1),b()}var e=a.config||{},f=[];return this.each(function(a){if("INPUT"!==y(this).prop("tagName").toUpperCase()||"file"!==y(this).attr("type").toLowerCase()||!r.FileReader||!this.files||0===this.files.length)return!0;for(var b=0;b<this.files.length;b++)f.push({file:this.files[b],inputElem:this,instanceConfig:y.extend({},e)})}),b(),this}}return t?r.onmessage=m:x.WORKERS_SUPPORTED&&(q=function(){var a=document.getElementsByTagName("script");return a.length?a[a.length-1].src:""}(),document.body?document.addEventListener("DOMContentLoaded",function(){u=!0},!0):u=!0),d.prototype=Object.create(c.prototype),d.prototype.constructor=d,e.prototype=Object.create(c.prototype),e.prototype.constructor=e,f.prototype=Object.create(f.prototype),f.prototype.constructor=f,x}),function(){function a(a,b){if(a!==b){var c=null===a,d=a===u,e=a===a,f=null===b,g=b===u,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(a<b&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function b(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function c(a,b,c){if(b!==b)return m(a,c);c-=1;for(var d=a.length;++c<d;)if(a[c]===b)return c;return-1}function d(a){return"function"==typeof a||!1}function e(a){return null==a?"":a+""}function f(a,b){for(var c=-1,d=a.length;++c<d&&-1<b.indexOf(a.charAt(c)););return c}function g(a,b){for(var c=a.length;c--&&-1<b.indexOf(a.charAt(c)););return c}function h(b,c){return a(b.a,c.a)||b.b-c.b}function i(a){return Ja[a]}function j(a){return Ka[a]}function k(a,b,c){return b?a=Na[a]:c&&(a=Oa[a]),"\\"+a}function l(a){return"\\"+Oa[a]}function m(a,b,c){var d=a.length;for(b+=c?0:-1;c?b--:++b<d;){var e=a[b];if(e!==e)return b}return-1}function n(a){return!!a&&"object"==typeof a}function o(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function p(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=N,f[++e]=c);return f}function q(a){for(var b=-1,c=a.length;++b<c&&o(a.charCodeAt(b)););return b}function r(a){for(var b=a.length;b--&&o(a.charCodeAt(b)););return b}function s(a){return La[a]}function t(o){function Ja(a){if(n(a)&&!(Bf(a)||a instanceof Ma)){if(a instanceof La)return a;if(_d.call(a,"__chain__")&&_d.call(a,"__wrapped__"))return Pc(a)}return new La(a)}function Ka(){}function La(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Ma(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function Na(){this.__data__={}}function Oa(a){var b=a?a.length:0;for(this.data={hash:pe(null),set:new je};b--;)this.push(a[b])}function Pa(a,b){var c=a.data;return("string"==typeof b||pd(b)?c.set.has(b):c.hash[b])?0:-1}function Qa(a,b){var c=-1,d=a.length;for(b||(b=Nd(d));++c<d;)b[c]=a[c];return b}function Ra(a,b){for(var c=-1,d=a.length;++c<d&&!1!==b(a[c],c,a););return a}function Sa(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function Ta(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function Wa(a,b){for(var c=-1,d=a.length,e=Nd(d);++c<d;)e[c]=b(a[c],c,a);return e}function Xa(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function Ya(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function Za(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function $a(a,b,c,d){return a!==u&&_d.call(d,c)?a:b}function _a(a,b,c){for(var d=-1,e=Mf(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==u||g in a)||(a[g]=i)}return a}function ab(a,b){return null==b?a:cb(b,Mf(b),a)}function bb(a,b){for(var c=-1,d=null==a,e=!d&&Cc(a),f=e?a.length:0,g=b.length,h=Nd(g);++c<g;){var i=b[c];h[c]=e?Dc(i,f)?a[i]:u:d?u:a[i]}return h}function cb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function db(a,b,c){var d=typeof a;return"function"==d?b===u?a:Nb(a,b,c):null==a?Id:"object"==d?ub(a):b===u?Md(a):vb(a,b)}function eb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==u)return h;if(!pd(a))return a;if(d=Bf(a)){if(h=yc(a),!b)return Qa(a,h)}else{var i=be.call(a),j=i==T;if(i!=V&&i!=O&&(!j||e))return Ia[i]?Ac(a,i,b):e?a:{};if(h=zc(j?{}:a),!b)return ab(h,a)}for(f||(f=[]),g||(g=[]),e=f.length;e--;)if(f[e]==a)return g[e];return f.push(a),g.push(h),(d?Ra:nb)(a,function(d,e){h[e]=eb(d,b,c,e,a,f,g)}),h}function fb(a,b,c){if("function"!=typeof a)throw new Wd(M);return ke(function(){a.apply(u,c)},b)}function gb(a,b){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=vc(),h=g===c,i=h&&b.length>=J&&pe&&je?new Oa(b):null,j=b.length;i&&(g=Pa,h=!1,b=i);a:for(;++f<d;)if(i=a[f],h&&i===i){for(var k=j;k--;)if(b[k]===i)continue a;e.push(i)}else 0>g(b,i,0)&&e.push(i);return e}function hb(a,b){var c=!0;return He(a,function(a,d,e){return c=!!b(a,d,e)}),c}function ib(a,b,c,d){var e=d,f=e;return He(a,function(a,g,h){g=+b(a,g,h),(c(g,e)||g===d&&g===f)&&(e=g,f=a)}),f}function jb(a,b){var c=[];return He(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function kb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function lb(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];n(g)&&Cc(g)&&(c||Bf(g)||ld(g))?b?lb(g,b,c,d):Xa(d,g):c||(d[d.length]=g)}return d}function mb(a,b){Je(a,b,Ad)}function nb(a,b){return Je(a,b,Mf)}function ob(a,b){return Ke(a,b,Mf)}function pb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];od(a[g])&&(f[++e]=g)}return f}function qb(a,b,c){if(null!=a){c!==u&&c in Nc(a)&&(b=[c]),c=0;for(var d=b.length;null!=a&&c<d;)a=a[b[c++]];return c&&c==d?a:u}}function rb(a,b,c,d,e,f){if(a===b)a=!0;else if(null==a||null==b||!pd(a)&&!n(b))a=a!==a&&b!==b;else a:{var g=rb,h=Bf(a),i=Bf(b),j=P,k=P;h||(j=be.call(a),j==O?j=V:j!=V&&(h=vd(a))),i||(k=be.call(b),k==O?k=V:k!=V&&vd(b));var l=j==V,i=k==V,k=j==k;if(!k||h||l){if(!d&&(j=l&&_d.call(a,"__wrapped__"),i=i&&_d.call(b,"__wrapped__"),j||i)){a=g(j?a.value():a,i?b.value():b,c,d,e,f);break a}if(k){for(e||(e=[]),f||(f=[]),j=e.length;j--;)if(e[j]==a){a=f[j]==b;break a}e.push(a),f.push(b),a=(h?qc:sc)(a,b,g,c,d,e,f),e.pop(),f.pop()}else a=!1}else a=rc(a,b,j)}return a}function sb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=Nc(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){var g=b[d],h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===u&&!(h in a))return!1}else if(g=c?c(i,j,h):u,g===u?!rb(j,i,c,!0):!g)return!1}return!0}function tb(a,b){var c=-1,d=Cc(a)?Nd(a.length):[];return He(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function ub(a){var b=wc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null!=a&&(a[c]===d&&(d!==u||c in Nc(a)))}}return function(a){return sb(a,b)}}function vb(a,b){var c=Bf(a),d=Fc(a)&&b===b&&!pd(b),e=a+"";return a=Oc(a),function(f){if(null==f)return!1;var g=e;if(f=Nc(f),!(!c&&d||g in f)){if(null==(f=1==a.length?f:qb(f,Cb(a,0,-1))))return!1;g=Uc(a),f=Nc(f)}return f[g]===b?b!==u||g in f:rb(b,f[g],u,!0)}}function wb(a,b,c,d,e){if(!pd(a))return a;var f=Cc(b)&&(Bf(b)||vd(b)),g=f?u:Mf(b);return Ra(g||b,function(h,i){if(g&&(i=h,h=b[i]),n(h)){d||(d=[]),e||(e=[]);a:{for(var j=i,k=d,l=e,m=k.length,o=b[j];m--;)if(k[m]==o){a[j]=l[m];break a}var m=a[j],p=c?c(m,o,j,a,b):u,q=p===u;q&&(p=o,Cc(o)&&(Bf(o)||vd(o))?p=Bf(m)?m:Cc(m)?Qa(m):[]:sd(o)||ld(o)?p=ld(m)?yd(m):sd(m)?m:{}:q=!1),k.push(o),l.push(p),q?a[j]=wb(p,o,c,k,l):(p===p?p!==m:m===m)&&(a[j]=p)}}else j=a[i],k=c?c(j,h,i,a,b):u,(l=k===u)&&(k=h),k===u&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}),a}function xb(a){return function(b){return null==b?u:b[a]}}function yb(a){var b=a+"";return a=Oc(a),function(c){return qb(c,a,b)}}function zb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Dc(d)){var e=d;le.call(a,d,1)}}}function Ab(a,b){return a+qe(ye()*(b-a+1))}function Bb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Cb(a,b,c){var d=-1,e=a.length;for(b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===u||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0,c=Nd(e);++d<e;)c[d]=a[d+b];return c}function Db(a,b){var c;return He(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}function Eb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].c;return a}function Fb(b,c,d){var e=tc(),f=-1;return c=Wa(c,function(a){return e(a)}),b=tb(b,function(a){return{a:Wa(c,function(b){return b(a)}),b:++f,c:a}}),Eb(b,function(b,c){var e;a:{for(var f=-1,g=b.a,h=c.a,i=g.length,j=d.length;++f<i;)if(e=a(g[f],h[f])){if(f>=j)break a;f=d[f],e*="asc"===f||!0===f?1:-1;break a}e=b.b-c.b}return e})}function Gb(a,b){var c=0;return He(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function Hb(a,b){var d=-1,e=vc(),f=a.length,g=e===c,h=g&&f>=J,i=h&&pe&&je?new Oa(void 0):null,j=[];i?(e=Pa,g=!1):(h=!1,i=b?[]:j);a:for(;++d<f;){var k=a[d],l=b?b(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else 0>e(i,l,0)&&((b||h)&&i.push(l),j.push(k))}return j}function Ib(a,b){for(var c=-1,d=b.length,e=Nd(d);++c<d;)e[c]=a[b[c]];return e}function Jb(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Cb(a,d?0:f,d?f+1:e):Cb(a,d?f+1:0,d?e:f)}function Kb(a,b){var c=a;c instanceof Ma&&(c=c.value());for(var d=-1,e=b.length;++d<e;)var f=b[d],c=f.func.apply(f.thisArg,Xa([c],f.args));return c}function Lb(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&e<=Ce){for(;d<e;){var f=d+e>>>1,g=a[f];(c?g<=b:g<b)&&null!==g?d=f+1:e=f}return e}return Mb(a,b,Id,c)}function Mb(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===u;e<f;){var j=qe((e+f)/2),k=c(a[j]),l=k!==u,m=k===k;(g?m||d:h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?0:d?k<=b:k<b)?e=j+1:f=j}return ve(f,Be)}function Nb(a,b,c){if("function"!=typeof a)return Id;if(b===u)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function Ob(a){var b=new ee(a.byteLength);return new me(b).set(new me(a)),b}function Pb(a,b,c){for(var d=c.length,e=-1,f=ue(a.length-d,0),g=-1,h=b.length,i=Nd(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function Qb(a,b,c){for(var d=-1,e=c.length,f=-1,g=ue(a.length-e,0),h=-1,i=b.length,j=Nd(g+i);++f<g;)j[f]=a[f];for(g=f;++h<i;)j[g+h]=b[h];for(;++d<e;)j[g+c[d]]=a[f++];return j}function Rb(a,b){return function(c,d,e){var f=b?b():{};if(d=tc(d,e,3),Bf(c)){e=-1;for(var g=c.length;++e<g;){var h=c[e];a(f,h,d(h,e,c),c)}}else He(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function Sb(a){return jd(function(b,c){var d=-1,e=null==b?0:c.length,f=2<e?c[e-2]:u,g=2<e?c[2]:u,h=1<e?c[e-1]:u;for("function"==typeof f?(f=Nb(f,h,5),e-=2):(f="function"==typeof h?h:u,e-=f?1:0),g&&Ec(c[0],c[1],g)&&(f=3>e?u:f,e=1);++d<e;)(g=c[d])&&a(b,g,f);return b})}function Tb(a,b){return function(c,d){var e=c?Ne(c):0;if(!Hc(e))return a(c,d);for(var f=b?e:-1,g=Nc(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function Ub(a){return function(b,c,d){var e=Nc(b);d=d(b);for(var f=d.length,g=a?f:-1;a?g--:++g<f;){var h=d[g];if(!1===c(e[h],h,e))break}return b}}function Vb(a,b){function c(){return(this&&this!==Ua&&this instanceof c?d:a).apply(b,arguments)}var d=Xb(a);return c}function Wb(a){return function(b){var c=-1;b=Gd(Dd(b));for(var d=b.length,e="";++c<d;)e=a(e,b[c],c);return e}}function Xb(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ge(a.prototype),b=a.apply(c,b);return pd(b)?b:c}}function Yb(a){function b(c,d,e){return e&&Ec(c,d,e)&&(d=u),c=pc(c,a,u,u,u,u,u,d),c.placeholder=b.placeholder,c}return b}function Zb(a,b){return jd(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(u,c))})}function $b(a,b){return function(c,d,e){if(e&&Ec(c,d,e)&&(d=u),d=tc(d,e,3),1==d.length){e=c=Bf(c)?c:Mc(c);for(var f=d,g=-1,h=e.length,i=b,j=i;++g<h;){var k=e[g],l=+f(k);a(l,i)&&(i=l,j=k)}if(e=j,!c.length||e!==b)return e}return ib(c,d,a,b)}}function _b(a,c){return function(d,e,f){return e=tc(e,f,3),Bf(d)?(e=b(d,e,c),-1<e?d[e]:u):kb(d,e,a)}}function ac(a){return function(c,d,e){return c&&c.length?(d=tc(d,e,3),b(c,d,a)):-1}}function bc(a){return function(b,c,d){return c=tc(c,d,3),kb(b,c,a,!0)}}function cc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Nd(c);a?d--:++d<c;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new Wd(M);!b&&La.prototype.thru&&"wrapper"==uc(g)&&(b=new La([],!0))}for(d=b?-1:c;++d<c;){var g=f[d],e=uc(g),h="wrapper"==e?Me(g):u;b=h&&Gc(h[0])&&h[1]==(D|z|B|E)&&!h[4].length&&1==h[9]?b[uc(h[0])].apply(b,h[3]):1==g.length&&Gc(g)?b[e]():b.thru(g)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Bf(d)&&d.length>=J)return b.plant(d).value();for(var e=0,a=c?f[e].apply(this,a):d;++e<c;)a=f[e].call(this,a);return a}}}function dc(a,b){return function(c,d,e){return"function"==typeof d&&e===u&&Bf(c)?a(c,d):b(c,Nb(d,e,3))}}function ec(a){return function(b,c,d){return("function"!=typeof c||d!==u)&&(c=Nb(c,d,3)),a(b,c,Ad)}}function fc(a){return function(b,c,d){return("function"!=typeof c||d!==u)&&(c=Nb(c,d,3)),a(b,c)}}function gc(a){return function(b,c,d){var e={};return c=tc(c,d,3),nb(b,function(b,d,f){f=c(b,d,f),d=a?f:d,b=a?b:f,e[d]=b}),e}}function hc(a){return function(b,c,d){return b=e(b),(a?b:"")+lc(b,c,d)+(a?"":b)}}function ic(a){var b=jd(function(c,d){var e=p(d,b.placeholder);return pc(c,a,u,d,e)});return b}function jc(a,b){return function(c,d,e,f){var g=3>arguments.length;return"function"==typeof d&&f===u&&Bf(c)?a(c,d,e,g):Bb(c,tc(d,f,4),e,g,b)}}function kc(a,b,c,d,e,f,g,h,i,j){function k(){for(var t=arguments.length,v=t,y=Nd(t);v--;)y[v]=arguments[v];if(d&&(y=Pb(y,d,e)),f&&(y=Qb(y,f,g)),o||r){var v=k.placeholder,z=p(y,v),t=t-z.length;if(t<j){var A=h?Qa(h):u,t=ue(j-t,0),D=o?z:u,z=o?u:z,E=o?y:u,y=o?u:y;return b|=o?B:C,b&=~(o?C:B),q||(b&=~(w|x)),y=[a,b,c,E,D,y,z,A,i,t],A=kc.apply(u,y),Gc(a)&&Oe(A,y),A.placeholder=v,A}}if(v=m?c:this,A=n?v[a]:a,h)for(t=y.length,D=ve(h.length,t),z=Qa(y);D--;)E=h[D],y[D]=Dc(E,t)?z[E]:u;return l&&i<y.length&&(y.length=i),
this&&this!==Ua&&this instanceof k&&(A=s||Xb(a)),A.apply(v,y)}var l=b&D,m=b&w,n=b&x,o=b&z,q=b&y,r=b&A,s=n?u:Xb(a);return k}function lc(a,b,c){return a=a.length,b=+b,a<b&&se(b)?(b-=a,c=null==c?" ":c+"",Ed(c,oe(b/c.length)).slice(0,b)):""}function mc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Nd(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];return(this&&this!==Ua&&this instanceof e?g:a).apply(f?c:this,k)}var f=b&w,g=Xb(a);return e}function nc(a){var b=Rd[a];return function(a,c){return(c=c===u?0:+c||0)?(c=he(10,c),b(a*c)/c):b(a)}}function oc(a){return function(b,c,d,e){var f=tc(d);return null==d&&f===db?Lb(b,c,a):Mb(b,c,f(d,e,1),a)}}function pc(a,b,c,d,e,f,g,h){var i=b&x;if(!i&&"function"!=typeof a)throw new Wd(M);var j=d?d.length:0;if(j||(b&=~(B|C),d=e=u),j-=e?e.length:0,b&C){var k=d,l=e;d=e=u}var m=i?u:Me(a);return c=[a,b,c,d,e,k,l,f,g,h],m&&(d=c[1],b=m[1],h=d|b,e=b==D&&d==z||b==D&&d==E&&c[7].length<=m[8]||b==(D|E)&&d==z,(h<D||e)&&(b&w&&(c[2]=m[2],h|=d&w?0:y),(d=m[3])&&(e=c[3],c[3]=e?Pb(e,d,m[4]):Qa(d),c[4]=e?p(c[3],N):Qa(m[4])),(d=m[5])&&(e=c[5],c[5]=e?Qb(e,d,m[6]):Qa(d),c[6]=e?p(c[5],N):Qa(m[6])),(d=m[7])&&(c[7]=Qa(d)),b&D&&(c[8]=null==c[8]?m[8]:ve(c[8],m[8])),null==c[9]&&(c[9]=m[9]),c[0]=m[0],c[1]=h),b=c[1],h=c[9]),c[9]=null==h?i?0:a.length:ue(h-j,0)||0,(m?Le:Oe)(b==w?Vb(c[0],c[2]):b!=B&&b!=(w|B)||c[4].length?kc.apply(u,c):mc.apply(u,c),c)}function qc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&(!e||j<=i))return!1;for(;++h<i;){var k=a[h],j=b[h],l=d?d(e?j:k,e?k:j,h):u;if(l!==u){if(l)continue;return!1}if(e){if(!Za(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==j&&!c(k,j,d,e,f,g))return!1}return!0}function rc(a,b,c){switch(c){case Q:case R:return+a==+b;case S:return a.name==b.name&&a.message==b.message;case U:return a!=+a?b!=+b:a==+b;case W:case X:return a==b+""}return!1}function sc(a,b,c,d,e,f,g){var h=Mf(a),i=h.length,j=Mf(b).length;if(i!=j&&!e)return!1;for(j=i;j--;){var k=h[j];if(!(e?k in b:_d.call(b,k)))return!1}for(var l=e;++j<i;){var k=h[j],m=a[k],n=b[k],o=d?d(e?n:m,e?m:n,k):u;if(o===u?!c(m,n,d,e,f,g):!o)return!1;l||(l="constructor"==k)}return!(!l&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)))}function tc(a,b,c){var d=Ja.callback||Hd,d=d===Hd?db:d;return c?d(a,b,c):d}function uc(a){for(var b=a.name+"",c=Fe[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function vc(a,b,d){var e=Ja.indexOf||Tc,e=e===Tc?c:e;return a?e(a,b,d):e}function wc(a){a=Bd(a);for(var b=a.length;b--;){var c=a[b][1];a[b][2]=c===c&&!pd(c)}return a}function xc(a,b){var c=null==a?u:a[b];return qd(c)?c:u}function yc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&_d.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function zc(a){return a=a.constructor,"function"==typeof a&&a instanceof a||(a=Td),new a}function Ac(a,b,c){var d=a.constructor;switch(b){case Y:return Ob(a);case Q:case R:return new d(+a);case Z:case $:case _:case aa:case ba:case ca:case da:case ea:case fa:return b=a.buffer,new d(c?Ob(b):b,a.byteOffset,a.length);case U:case X:return new d(a);case W:var e=new d(a.source,ya.exec(a));e.lastIndex=a.lastIndex}return e}function Bc(a,b,c){return null==a||Fc(b,a)||(b=Oc(b),a=1==b.length?a:qb(a,Cb(b,0,-1)),b=Uc(b)),b=null==a?a:a[b],null==b?u:b.apply(a,c)}function Cc(a){return null!=a&&Hc(Ne(a))}function Dc(a,b){return a="number"==typeof a||Ba.test(a)?+a:-1,b=null==b?De:b,-1<a&&0==a%1&&a<b}function Ec(a,b,c){if(!pd(c))return!1;var d=typeof b;return!!("number"==d?Cc(c)&&Dc(b,c.length):"string"==d&&b in c)&&(b=c[b],a===a?a===b:b!==b)}function Fc(a,b){var c=typeof a;return!!("string"==c&&ra.test(a)||"number"==c)||!Bf(a)&&(!qa.test(a)||null!=b&&a in Nc(b))}function Gc(a){var b=uc(a),c=Ja[b];return"function"==typeof c&&b in Ma.prototype&&(a===c||!!(b=Me(c))&&a===b[0])}function Hc(a){return"number"==typeof a&&-1<a&&0==a%1&&a<=De}function Ic(a,b){return a===u?b:Cf(a,b,Ic)}function Jc(a,b){a=Nc(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function Kc(a,b){var c={};return mb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function Lc(a){for(var b=Ad(a),c=b.length,d=c&&a.length,e=!!d&&Hc(d)&&(Bf(a)||ld(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Dc(h,d)||_d.call(a,h))&&g.push(h)}return g}function Mc(a){return null==a?[]:Cc(a)?pd(a)?a:Td(a):Cd(a)}function Nc(a){return pd(a)?a:Td(a)}function Oc(a){if(Bf(a))return a;var b=[];return e(a).replace(sa,function(a,c,d,e){b.push(d?e.replace(wa,"$1"):c||a)}),b}function Pc(a){return a instanceof Ma?a.clone():new La(a.__wrapped__,a.__chain__,Qa(a.__actions__))}function Qc(a,b,c){return a&&a.length?((c?Ec(a,b,c):null==b)&&(b=1),Cb(a,0>b?0:b)):[]}function Rc(a,b,c){var d=a?a.length:0;return d?((c?Ec(a,b,c):null==b)&&(b=1),b=d-(+b||0),Cb(a,0,0>b?0:b)):[]}function Sc(a){return a?a[0]:u}function Tc(a,b,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?ue(e+d,0):d;else if(d)return d=Lb(a,b),d<e&&(b===b?b===a[d]:a[d]!==a[d])?d:-1;return c(a,b,d||0)}function Uc(a){var b=a?a.length:0;return b?a[b-1]:u}function Vc(a){return Qc(a,1)}function Wc(a,b,d,e){if(!a||!a.length)return[];null!=b&&"boolean"!=typeof b&&(e=d,d=Ec(a,b,e)?u:b,b=!1);var f=tc();if((null!=d||f!==db)&&(d=f(d,e,3)),b&&vc()===c){b=d;var g;d=-1,e=a.length;for(var f=-1,h=[];++d<e;){var i=a[d],j=b?b(i,d,a):i;d&&g===j||(g=j,h[++f]=i)}a=h}else a=Hb(a,d);return a}function Xc(a){if(!a||!a.length)return[];var b=-1,c=0;a=Ta(a,function(a){return Cc(a)?(c=ue(a.length,c),!0):void 0});for(var d=Nd(c);++b<c;)d[b]=Wa(a,xb(b));return d}function Yc(a,b,c){return a&&a.length?(a=Xc(a),null==b?a:(b=Nb(b,c,4),Wa(a,function(a){return Ya(a,b,u,!0)}))):[]}function Zc(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Bf(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function $c(a){return a=Ja(a),a.__chain__=!0,a}function _c(a,b,c){return b.call(c,a)}function ad(a,b,c){var d=Bf(a)?Sa:hb;return c&&Ec(a,b,c)&&(b=u),("function"!=typeof b||c!==u)&&(b=tc(b,c,3)),d(a,b)}function bd(a,b,c){var d=Bf(a)?Ta:jb;return b=tc(b,c,3),d(a,b)}function cd(a,b,c,d){var e=a?Ne(a):0;return Hc(e)||(a=Cd(a),e=a.length),c="number"!=typeof c||d&&Ec(b,c,d)?0:0>c?ue(e+c,0):c||0,"string"==typeof a||!Bf(a)&&ud(a)?c<=e&&-1<a.indexOf(b,c):!!e&&-1<vc(a,b,c)}function dd(a,b,c){var d=Bf(a)?Wa:tb;return b=tc(b,c,3),d(a,b)}function ed(a,b,c){if(c?Ec(a,b,c):null==b){a=Mc(a);var d=a.length;return 0<d?a[Ab(0,d-1)]:u}c=-1,a=xd(a);var d=a.length,e=d-1;for(b=ve(0>b?0:+b||0,d);++c<b;){var d=Ab(c,e),f=a[d];a[d]=a[c],a[c]=f}return a.length=b,a}function fd(a,b,c){var d=Bf(a)?Za:Db;return c&&Ec(a,b,c)&&(b=u),("function"!=typeof b||c!==u)&&(b=tc(b,c,3)),d(a,b)}function gd(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Wd(M);var d=a;a=b,b=d}return function(){return 0<--a&&(c=b.apply(this,arguments)),1>=a&&(b=u),c}}function hd(a,b,c){function d(b,c){c&&fe(c),i=m=n=u,b&&(o=nf(),j=a.apply(l,h),m||i||(h=l=u))}function e(){var a=b-(nf()-k);0>=a||a>b?d(n,i):m=ke(e,a)}function f(){d(q,m)}function g(){if(h=arguments,k=nf(),l=this,n=q&&(m||!r),!1===p)var c=r&&!m;else{i||r||(o=k);var d=p-(k-o),g=0>=d||d>p;g?(i&&(i=fe(i)),o=k,j=a.apply(l,h)):i||(i=ke(f,d))}return g&&m?m=fe(m):m||b===p||(m=ke(e,b)),c&&(g=!0,j=a.apply(l,h)),!g||m||i||(h=l=u),j}var h,i,j,k,l,m,n,o=0,p=!1,q=!0;if("function"!=typeof a)throw new Wd(M);if(b=0>b?0:+b||0,!0===c)var r=!0,q=!1;else pd(c)&&(r=!!c.leading,p="maxWait"in c&&ue(+c.maxWait||0,b),q="trailing"in c?!!c.trailing:q);return g.cancel=function(){m&&fe(m),i&&fe(i),o=0,i=m=n=u},g}function id(a,b){function c(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;return f.has(e)?f.get(e):(d=a.apply(this,d),c.cache=f.set(e,d),d)}if("function"!=typeof a||b&&"function"!=typeof b)throw new Wd(M);return c.cache=new id.Cache,c}function jd(a,b){if("function"!=typeof a)throw new Wd(M);return b=ue(b===u?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=ue(c.length-b,0),f=Nd(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}for(e=Nd(b+1),d=-1;++d<b;)e[d]=c[d];return e[b]=f,a.apply(this,e)}}function kd(a,b){return a>b}function ld(a){return n(a)&&Cc(a)&&_d.call(a,"callee")&&!ie.call(a,"callee")}function md(a,b,c,d){return d=(c="function"==typeof c?Nb(c,d,3):u)?c(a,b):u,d===u?rb(a,b,c):!!d}function nd(a){return n(a)&&"string"==typeof a.message&&be.call(a)==S}function od(a){return pd(a)&&be.call(a)==T}function pd(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function qd(a){return null!=a&&(od(a)?de.test($d.call(a)):n(a)&&Aa.test(a))}function rd(a){return"number"==typeof a||n(a)&&be.call(a)==U}function sd(a){var b;if(!n(a)||be.call(a)!=V||ld(a)||!(_d.call(a,"constructor")||"function"!=typeof(b=a.constructor)||b instanceof b))return!1;var c;return mb(a,function(a,b){c=b}),c===u||_d.call(a,c)}function td(a){return pd(a)&&be.call(a)==W}function ud(a){return"string"==typeof a||n(a)&&be.call(a)==X}function vd(a){return n(a)&&Hc(a.length)&&!!Ha[be.call(a)]}function wd(a,b){return a<b}function xd(a){var b=a?Ne(a):0;return Hc(b)?b?Qa(a):[]:Cd(a)}function yd(a){return cb(a,Ad(a))}function zd(a){return pb(a,Ad(a))}function Ad(a){if(null==a)return[];pd(a)||(a=Td(a));for(var b=a.length,b=b&&Hc(b)&&(Bf(a)||ld(a))&&b||0,c=a.constructor,d=-1,c="function"==typeof c&&c.prototype===a,e=Nd(b),f=0<b;++d<b;)e[d]=d+"";for(var g in a)f&&Dc(g,b)||"constructor"==g&&(c||!_d.call(a,g))||e.push(g);return e}function Bd(a){a=Nc(a);for(var b=-1,c=Mf(a),d=c.length,e=Nd(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Cd(a){return Ib(a,Mf(a))}function Dd(a){return(a=e(a))&&a.replace(Ca,i).replace(va,"")}function Ed(a,b){var c="";if(a=e(a),1>(b=+b)||!a||!se(b))return c;do{b%2&&(c+=a),b=qe(b/2),a+=a}while(b);return c}function Fd(a,b,c){var d=a;return(a=e(a))?(c?Ec(d,b,c):null==b)?a.slice(q(a),r(a)+1):(b+="",a.slice(f(a,b),g(a,b)+1)):a}function Gd(a,b,c){return c&&Ec(a,b,c)&&(b=u),a=e(a),a.match(b||Fa)||[]}function Hd(a,b,c){return c&&Ec(a,b,c)&&(b=u),n(a)?Jd(a):db(a,b)}function Id(a){return a}function Jd(a){return ub(eb(a,!0))}function Kd(a,b,c){if(null==c){var d=pd(b),e=d?Mf(b):u;((e=e&&e.length?pb(b,e):u)?e.length:d)||(e=!1,c=b,b=a,a=this)}e||(e=pb(b,Mf(b)));var f=!0,d=-1,g=od(a),h=e.length;!1===c?f=!1:pd(c)&&"chain"in c&&(f=c.chain);for(;++d<h;){c=e[d];var i=b[c];a[c]=i,g&&(a.prototype[c]=function(b){return function(){var c=this.__chain__;if(f||c){var d=a(this.__wrapped__);return(d.__actions__=Qa(this.__actions__)).push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,Xa([this.value()],arguments))}}(i))}return a}function Ld(){}function Md(a){return Fc(a)?xb(a):yb(a)}o=o?Va.defaults(Ua.Object(),o,Va.pick(Ua,Ga)):Ua;var Nd=o.Array,Od=o.Date,Pd=o.Error,Qd=o.Function,Rd=o.Math,Sd=o.Number,Td=o.Object,Ud=o.RegExp,Vd=o.String,Wd=o.TypeError,Xd=Nd.prototype,Yd=Td.prototype,Zd=Vd.prototype,$d=Qd.prototype.toString,_d=Yd.hasOwnProperty,ae=0,be=Yd.toString,ce=Ua._,de=Ud("^"+$d.call(_d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=o.ArrayBuffer,fe=o.clearTimeout,ge=o.parseFloat,he=Rd.pow,ie=Yd.propertyIsEnumerable,je=xc(o,"Set"),ke=o.setTimeout,le=Xd.splice,me=o.Uint8Array,ne=xc(o,"WeakMap"),oe=Rd.ceil,pe=xc(Td,"create"),qe=Rd.floor,re=xc(Nd,"isArray"),se=o.isFinite,te=xc(Td,"keys"),ue=Rd.max,ve=Rd.min,we=xc(Od,"now"),xe=o.parseInt,ye=Rd.random,ze=Sd.NEGATIVE_INFINITY,Ae=Sd.POSITIVE_INFINITY,Be=4294967294,Ce=2147483647,De=9007199254740991,Ee=ne&&new ne,Fe={};Ja.support={},Ja.templateSettings={escape:na,evaluate:oa,interpolate:pa,variable:"",imports:{_:Ja}};var Ge=function(){function a(){}return function(b){if(pd(b)){a.prototype=b;var c=new a;a.prototype=u}return c||{}}}(),He=Tb(nb),Ie=Tb(ob,!0),Je=Ub(),Ke=Ub(!0),Le=Ee?function(a,b){return Ee.set(a,b),a}:Id,Me=Ee?function(a){return Ee.get(a)}:Ld,Ne=xb("length"),Oe=function(){var a=0,b=0;return function(c,d){var e=nf(),f=I-(e-b);if(b=e,0<f){if(++a>=H)return c}else a=0;return Le(c,d)}}(),Pe=jd(function(a,b){return n(a)&&Cc(a)?gb(a,lb(b,!1,!0)):[]}),Qe=ac(),Re=ac(!0),Se=jd(function(a){for(var b=a.length,d=b,e=Nd(k),f=vc(),g=f===c,h=[];d--;){var i=a[d]=Cc(i=a[d])?i:[];e[d]=g&&120<=i.length&&pe&&je?new Oa(d&&i):null}var g=a[0],j=-1,k=g?g.length:0,l=e[0];a:for(;++j<k;)if(i=g[j],0>(l?Pa(l,i):f(h,i,0))){for(d=b;--d;){var m=e[d];if(0>(m?Pa(m,i):f(a[d],i,0)))continue a}l&&l.push(i),h.push(i)}return h}),Te=jd(function(b,c){c=lb(c);var d=bb(b,c);return zb(b,c.sort(a)),d}),Ue=oc(),Ve=oc(!0),We=jd(function(a){return Hb(lb(a,!1,!0))}),Xe=jd(function(a,b){return Cc(a)?gb(a,b):[]}),Ye=jd(Xc),Ze=jd(function(a){var b=a.length,c=2<b?a[b-2]:u,d=1<b?a[b-1]:u;return 2<b&&"function"==typeof c?b-=2:(c=1<b&&"function"==typeof d?(--b,d):u,d=u),a.length=b,Yc(a,c,d)}),$e=jd(function(a){return a=lb(a),this.thru(function(b){b=Bf(b)?b:[Nc(b)];for(var c=a,d=-1,e=b.length,f=-1,g=c.length,h=Nd(e+g);++d<e;)h[d]=b[d];for(;++f<g;)h[d++]=c[f];return h})}),_e=jd(function(a,b){return bb(a,lb(b))}),af=Rb(function(a,b,c){_d.call(a,c)?++a[c]:a[c]=1}),bf=_b(He),cf=_b(Ie,!0),df=dc(Ra,He),ef=dc(function(a,b){for(var c=a.length;c--&&!1!==b(a[c],c,a););return a},Ie),ff=Rb(function(a,b,c){_d.call(a,c)?a[c].push(b):a[c]=[b]}),gf=Rb(function(a,b,c){a[c]=b}),hf=jd(function(a,b,c){var d=-1,e="function"==typeof b,f=Fc(b),g=Cc(a)?Nd(a.length):[];return He(a,function(a){var h=e?b:f&&null!=a?a[b]:u;g[++d]=h?h.apply(a,c):Bc(a,b,c)}),g}),jf=Rb(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),kf=jc(Ya,He),lf=jc(function(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c},Ie),mf=jd(function(a,b){if(null==a)return[];var c=b[2];return c&&Ec(b[0],b[1],c)&&(b.length=1),Fb(a,lb(b),[])}),nf=we||function(){return(new Od).getTime()},of=jd(function(a,b,c){var d=w;if(c.length)var e=p(c,of.placeholder),d=d|B;return pc(a,d,b,c,e)}),pf=jd(function(a,b){b=b.length?lb(b):zd(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=pc(a[e],w,a)}return a}),qf=jd(function(a,b,c){var d=w|x;if(c.length)var e=p(c,qf.placeholder),d=d|B;return pc(b,d,a,c,e)}),rf=Yb(z),sf=Yb(A),tf=jd(function(a,b){return fb(a,1,b)}),uf=jd(function(a,b,c){return fb(a,b,c)}),vf=cc(),wf=cc(!0),xf=jd(function(a,b){if(b=lb(b),"function"!=typeof a||!Sa(b,d))throw new Wd(M);var c=b.length;return jd(function(d){for(var e=ve(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),yf=ic(B),zf=ic(C),Af=jd(function(a,b){return pc(a,E,u,u,u,lb(b))}),Bf=re||function(a){return n(a)&&Hc(a.length)&&be.call(a)==P},Cf=Sb(wb),Df=Sb(function(a,b,c){return c?_a(a,b,c):ab(a,b)}),Ef=Zb(Df,function(a,b){return a===u?b:a}),Ff=Zb(Cf,Ic),Gf=bc(nb),Hf=bc(ob),If=ec(Je),Jf=ec(Ke),Kf=fc(nb),Lf=fc(ob),Mf=te?function(a){var b=null==a?u:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Cc(a)?Lc(a):pd(a)?te(a):[]}:Lc,Nf=gc(!0),Of=gc(),Pf=jd(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=Wa(lb(b),Vd),Jc(a,gb(Ad(a),b));var c=Nb(b[0],b[1],3);return Kc(a,function(a,b,d){return!c(a,b,d)})}),Qf=jd(function(a,b){return null==a?{}:"function"==typeof b[0]?Kc(a,Nb(b[0],b[1],3)):Jc(a,lb(b))}),Rf=Wb(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Sf=Wb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Tf=hc(),Uf=hc(!0),Vf=Wb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Wf=Wb(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Xf=jd(function(a,b){try{return a.apply(u,b)}catch(a){return nd(a)?a:new Pd(a)}}),Yf=jd(function(a,b){return function(c){return Bc(c,a,b)}}),Zf=jd(function(a,b){return function(c){return Bc(a,c,b)}}),$f=nc("ceil"),_f=nc("floor"),ag=$b(kd,ze),bg=$b(wd,Ae),cg=nc("round");return Ja.prototype=Ka.prototype,La.prototype=Ge(Ka.prototype),La.prototype.constructor=La,Ma.prototype=Ge(Ka.prototype),Ma.prototype.constructor=Ma,Na.prototype.delete=function(a){return this.has(a)&&delete this.__data__[a]},Na.prototype.get=function(a){return"__proto__"==a?u:this.__data__[a]},Na.prototype.has=function(a){return"__proto__"!=a&&_d.call(this.__data__,a)},Na.prototype.set=function(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this},Oa.prototype.push=function(a){var b=this.data;"string"==typeof a||pd(a)?b.set.add(a):b.hash[a]=!0},id.Cache=Na,Ja.after=function(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Wd(M);var c=a;a=b,b=c}return a=se(a=+a)?a:0,function(){return 1>--a?b.apply(this,arguments):void 0}},Ja.ary=function(a,b,c){return c&&Ec(a,b,c)&&(b=u),b=a&&null==b?a.length:ue(+b||0,0),pc(a,D,u,u,u,u,b)},Ja.assign=Df,Ja.at=_e,Ja.before=gd,Ja.bind=of,Ja.bindAll=pf,Ja.bindKey=qf,Ja.callback=Hd,Ja.chain=$c,Ja.chunk=function(a,b,c){b=(c?Ec(a,b,c):null==b)?1:ue(qe(b)||1,1),c=0;for(var d=a?a.length:0,e=-1,f=Nd(oe(d/b));c<d;)f[++e]=Cb(a,c,c+=b);return f},Ja.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e},Ja.constant=function(a){return function(){return a}},Ja.countBy=af,Ja.create=function(a,b,c){var d=Ge(a);return c&&Ec(a,b,c)&&(b=u),b?ab(d,b):d},Ja.curry=rf,Ja.curryRight=sf,Ja.debounce=hd,Ja.defaults=Ef,Ja.defaultsDeep=Ff,Ja.defer=tf,Ja.delay=uf,Ja.difference=Pe,Ja.drop=Qc,Ja.dropRight=Rc,Ja.dropRightWhile=function(a,b,c){return a&&a.length?Jb(a,tc(b,c,3),!0,!0):[]},Ja.dropWhile=function(a,b,c){return a&&a.length?Jb(a,tc(b,c,3),!0):[]},Ja.fill=function(a,b,c,d){var e=a?a.length:0;if(!e)return[];for(c&&"number"!=typeof c&&Ec(a,b,c)&&(c=0,d=e),e=a.length,c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===u||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;c<e;)a[c++]=b;return a},Ja.filter=bd,Ja.flatten=function(a,b,c){var d=a?a.length:0;return c&&Ec(a,b,c)&&(b=!1),d?lb(a,b):[]},Ja.flattenDeep=function(a){return a&&a.length?lb(a,!0):[]},Ja.flow=vf,Ja.flowRight=wf,Ja.forEach=df,Ja.forEachRight=ef,Ja.forIn=If,Ja.forInRight=Jf,Ja.forOwn=Kf,Ja.forOwnRight=Lf,Ja.functions=zd,Ja.groupBy=ff,Ja.indexBy=gf,Ja.initial=function(a){return Rc(a,1)},Ja.intersection=Se,Ja.invert=function(a,b,c){c&&Ec(a,b,c)&&(b=u),c=-1;for(var d=Mf(a),e=d.length,f={};++c<e;){var g=d[c],h=a[g];b?_d.call(f,h)?f[h].push(g):f[h]=[g]:f[h]=g}return f},Ja.invoke=hf,Ja.keys=Mf,Ja.keysIn=Ad,Ja.map=dd,Ja.mapKeys=Nf,Ja.mapValues=Of,Ja.matches=Jd,Ja.matchesProperty=function(a,b){return vb(a,eb(b,!0))},Ja.memoize=id,Ja.merge=Cf,Ja.method=Yf,Ja.methodOf=Zf,Ja.mixin=Kd,Ja.modArgs=xf,Ja.negate=function(a){if("function"!=typeof a)throw new Wd(M);return function(){return!a.apply(this,arguments)}},Ja.omit=Pf,Ja.once=function(a){return gd(2,a)},Ja.pairs=Bd,Ja.partial=yf,Ja.partialRight=zf,Ja.partition=jf,Ja.pick=Qf,Ja.pluck=function(a,b){return dd(a,Md(b))},Ja.property=Md,Ja.propertyOf=function(a){return function(b){return qb(a,Oc(b),b+"")}},Ja.pull=function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=vc(),e=a.length;++c<e;)for(var f=0,g=a[c];-1<(f=d(b,g,f));)le.call(b,f,1);return b},Ja.pullAt=Te,Ja.range=function(a,b,c){c&&Ec(a,b,c)&&(b=c=u),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;var d=-1;b=ue(oe((b-a)/(c||1)),0);for(var e=Nd(b);++d<b;)e[d]=a,a+=c;return e},Ja.rearg=Af,Ja.reject=function(a,b,c){var d=Bf(a)?Ta:jb;return b=tc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})},Ja.remove=function(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=tc(b,c,3);++e<g;)c=a[e],b(c,e,a)&&(d.push(c),f.push(e));return zb(a,f),d},Ja.rest=Vc,Ja.restParam=jd,Ja.set=function(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||Fc(b,a)?[d]:Oc(b);for(var d=-1,e=b.length,f=e-1,g=a;null!=g&&++d<e;){var h=b[d];pd(g)&&(d==f?g[h]=c:null==g[h]&&(g[h]=Dc(b[d+1])?[]:{})),g=g[h]}return a},Ja.shuffle=function(a){return ed(a,Ae)},Ja.slice=function(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&Ec(a,b,c)&&(b=0,c=d),Cb(a,b,c)):[]},Ja.sortBy=function(a,b,c){if(null==a)return[];c&&Ec(a,b,c)&&(b=u);var d=-1;return b=tc(b,c,3),a=tb(a,function(a,c,e){return{a:b(a,c,e),b:++d,c:a}}),Eb(a,h)},Ja.sortByAll=mf,Ja.sortByOrder=function(a,b,c,d){return null==a?[]:(d&&Ec(b,c,d)&&(c=u),Bf(b)||(b=null==b?[]:[b]),Bf(c)||(c=null==c?[]:[c]),Fb(a,b,c))},Ja.spread=function(a){if("function"!=typeof a)throw new Wd(M);return function(b){return a.apply(this,b)}},Ja.take=function(a,b,c){return a&&a.length?((c?Ec(a,b,c):null==b)&&(b=1),Cb(a,0,0>b?0:b)):[]},Ja.takeRight=function(a,b,c){var d=a?a.length:0;return d?((c?Ec(a,b,c):null==b)&&(b=1),b=d-(+b||0),Cb(a,0>b?0:b)):[]},Ja.takeRightWhile=function(a,b,c){return a&&a.length?Jb(a,tc(b,c,3),!1,!0):[]},Ja.takeWhile=function(a,b,c){return a&&a.length?Jb(a,tc(b,c,3)):[]},Ja.tap=function(a,b,c){return b.call(c,a),a},Ja.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Wd(M);return!1===c?d=!1:pd(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),hd(a,b,{leading:d,maxWait:+b,trailing:e})},Ja.thru=_c,Ja.times=function(a,b,c){if(1>(a=qe(a))||!se(a))return[];var d=-1,e=Nd(ve(a,4294967295));for(b=Nb(b,c,1);++d<a;)4294967295>d?e[d]=b(d):b(d);return e},Ja.toArray=xd,Ja.toPlainObject=yd,Ja.transform=function(a,b,c,d){var e=Bf(a)||vd(a);return b=tc(b,d,4),null==c&&(e||pd(a)?(d=a.constructor,c=e?Bf(a)?new d:[]:Ge(od(d)?d.prototype:u)):c={}),(e?Ra:nb)(a,function(a,d,e){return b(c,a,d,e)}),c},Ja.union=We,Ja.uniq=Wc,Ja.unzip=Xc,Ja.unzipWith=Yc,Ja.values=Cd,Ja.valuesIn=function(a){return Ib(a,Ad(a))},Ja.where=function(a,b){return bd(a,ub(b))},Ja.without=Xe,Ja.wrap=function(a,b){return b=null==b?Id:b,pc(b,B,u,[a],[])},Ja.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Cc(c))var d=d?Xa(gb(d,c),gb(c,d)):c}return d?Hb(d):[]},Ja.zip=Ye,Ja.zipObject=Zc,Ja.zipWith=Ze,Ja.backflow=wf,Ja.collect=dd,Ja.compose=wf,Ja.each=df,Ja.eachRight=ef,Ja.extend=Df,Ja.iteratee=Hd,Ja.methods=zd,Ja.object=Zc,Ja.select=bd,Ja.tail=Vc,Ja.unique=Wc,Kd(Ja,Ja),Ja.add=function(a,b){return(+a||0)+(+b||0)},Ja.attempt=Xf,Ja.camelCase=Rf,Ja.capitalize=function(a){return(a=e(a))&&a.charAt(0).toUpperCase()+a.slice(1)},Ja.ceil=$f,Ja.clone=function(a,b,c,d){return b&&"boolean"!=typeof b&&Ec(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?eb(a,b,Nb(c,d,3)):eb(a,b)},Ja.cloneDeep=function(a,b,c){return"function"==typeof b?eb(a,!0,Nb(b,c,3)):eb(a,!0)},Ja.deburr=Dd,Ja.endsWith=function(a,b,c){a=e(a),b+="";var d=a.length;return c=c===u?d:ve(0>c?0:+c||0,d),0<=(c-=b.length)&&a.indexOf(b,c)==c},Ja.escape=function(a){return(a=e(a))&&ma.test(a)?a.replace(ka,j):a},Ja.escapeRegExp=function(a){return(a=e(a))&&ua.test(a)?a.replace(ta,k):a||"(?:)"},Ja.every=ad,Ja.find=bf,Ja.findIndex=Qe,Ja.findKey=Gf,Ja.findLast=cf,Ja.findLastIndex=Re,Ja.findLastKey=Hf,Ja.findWhere=function(a,b){return bf(a,ub(b))},Ja.first=Sc,Ja.floor=_f,Ja.get=function(a,b,c){return a=null==a?u:qb(a,Oc(b),b+""),a===u?c:a},Ja.gt=kd,Ja.gte=function(a,b){return a>=b},Ja.has=function(a,b){if(null==a)return!1;var c=_d.call(a,b);if(!c&&!Fc(b)){if(b=Oc(b),null==(a=1==b.length?a:qb(a,Cb(b,0,-1))))return!1;b=Uc(b),c=_d.call(a,b)}return c||Hc(a.length)&&Dc(b,a.length)&&(Bf(a)||ld(a))},Ja.identity=Id,Ja.includes=cd,Ja.indexOf=Tc,Ja.inRange=function(a,b,c){return b=+b||0,c===u?(c=b,b=0):c=+c||0,a>=ve(b,c)&&a<ue(b,c)},Ja.isArguments=ld,Ja.isArray=Bf,Ja.isBoolean=function(a){return!0===a||!1===a||n(a)&&be.call(a)==Q},Ja.isDate=function(a){return n(a)&&be.call(a)==R},Ja.isElement=function(a){return!!a&&1===a.nodeType&&n(a)&&!sd(a)},Ja.isEmpty=function(a){return null==a||(Cc(a)&&(Bf(a)||ud(a)||ld(a)||n(a)&&od(a.splice))?!a.length:!Mf(a).length)},Ja.isEqual=md,Ja.isError=nd,Ja.isFinite=function(a){return"number"==typeof a&&se(a)},Ja.isFunction=od,Ja.isMatch=function(a,b,c,d){return c="function"==typeof c?Nb(c,d,3):u,sb(a,wc(b),c)},Ja.isNaN=function(a){return rd(a)&&a!=+a},Ja.isNative=qd,Ja.isNull=function(a){return null===a},Ja.isNumber=rd,Ja.isObject=pd,Ja.isPlainObject=sd,Ja.isRegExp=td,Ja.isString=ud,Ja.isTypedArray=vd,Ja.isUndefined=function(a){return a===u},Ja.kebabCase=Sf,Ja.last=Uc,Ja.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?ue(d+c,0):ve(c||0,d-1))+1;else if(c)return e=Lb(a,b,!0)-1,a=a[e],(b===b?b===a:a!==a)?e:-1;if(b!==b)return m(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1},Ja.lt=wd,Ja.lte=function(a,b){return a<=b},Ja.max=ag,Ja.min=bg,Ja.noConflict=function(){return Ua._=ce,this},Ja.noop=Ld,Ja.now=nf,Ja.pad=function(a,b,c){a=e(a),b=+b;var d=a.length;return d<b&&se(b)?(d=(b-d)/2,b=qe(d),d=oe(d),c=lc("",d,c),c.slice(0,b)+a+c):a},Ja.padLeft=Tf,Ja.padRight=Uf,Ja.parseInt=function(a,b,c){return(c?Ec(a,b,c):null==b)?b=0:b&&(b=+b),a=Fd(a),xe(a,b||(za.test(a)?16:10))},Ja.random=function(a,b,c){c&&Ec(a,b,c)&&(b=c=u);var d=null==a,e=null==b;return null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1?(c=ye(),ve(a+c*(b-a+ge("1e-"+((c+"").length-1))),b)):Ab(a,b)},Ja.reduce=kf,Ja.reduceRight=lf,Ja.repeat=Ed,Ja.result=function(a,b,c){var d=null==a?u:a[b];return d===u&&(null==a||Fc(b,a)||(b=Oc(b),a=1==b.length?a:qb(a,Cb(b,0,-1)),d=null==a?u:a[Uc(b)]),d=d===u?c:d),od(d)?d.call(a):d},Ja.round=cg,Ja.runInContext=t,Ja.size=function(a){var b=a?Ne(a):0;return Hc(b)?b:Mf(a).length},Ja.snakeCase=Vf,Ja.some=fd,Ja.sortedIndex=Ue,Ja.sortedLastIndex=Ve,Ja.startCase=Wf,Ja.startsWith=function(a,b,c){return a=e(a),c=null==c?0:ve(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c},Ja.sum=function(a,b,c){if(c&&Ec(a,b,c)&&(b=u),b=tc(b,c,3),1==b.length){a=Bf(a)?a:Mc(a),c=a.length;for(var d=0;c--;)d+=+b(a[c])||0;a=d}else a=Gb(a,b);return a},Ja.template=function(a,b,c){var d=Ja.templateSettings;c&&Ec(a,b,c)&&(b=c=u),a=e(a),b=_a(ab({},c||b),d,$a),c=_a(ab({},b.imports),d.imports,$a);var f,g,h=Mf(c),i=Ib(c,h),j=0;c=b.interpolate||Da;var k="__p+='";c=Ud((b.escape||Da).source+"|"+c.source+"|"+(c===pa?xa:Da).source+"|"+(b.evaluate||Da).source+"|$","g");var m="sourceURL"in b?"//# sourceURL="+b.sourceURL+"\n":"";if(a.replace(c,function(b,c,d,e,h,i){return d||(d=e),k+=a.slice(j,i).replace(Ea,l),c&&(f=!0,k+="'+__e("+c+")+'"),h&&(g=!0,k+="';"+h+";\n__p+='"),d&&(k+="'+((__t=("+d+"))==null?'':__t)+'"),j=i+b.length,b}),k+="';",(b=b.variable)||(k="with(obj){"+k+"}"),k=(g?k.replace(ga,""):k).replace(ha,"$1").replace(ia,"$1;"),k="function("+(b||"obj")+"){"+(b?"":"obj||(obj={});")+"var __t,__p=''"+(f?",__e=_.escape":"")+(g?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+k+"return __p}",b=Xf(function(){return Qd(h,m+"return "+k).apply(u,i)}),b.source=k,nd(b))throw b;return b},Ja.trim=Fd,Ja.trimLeft=function(a,b,c){var d=a;return(a=e(a))?a.slice((c?Ec(d,b,c):null==b)?q(a):f(a,b+"")):a},Ja.trimRight=function(a,b,c){var d=a;return(a=e(a))?(c?Ec(d,b,c):null==b)?a.slice(0,r(a)+1):a.slice(0,g(a,b+"")+1):a},Ja.trunc=function(a,b,c){c&&Ec(a,b,c)&&(b=u);var d=F;if(c=G,null!=b)if(pd(b)){var f="separator"in b?b.separator:f,d="length"in b?+b.length||0:d;c="omission"in b?e(b.omission):c}else d=+b||0;if(a=e(a),d>=a.length)return a;if(1>(d-=c.length))return c;if(b=a.slice(0,d),null==f)return b+c;if(td(f)){if(a.slice(d).search(f)){var g,h=a.slice(0,d);for(f.global||(f=Ud(f.source,(ya.exec(f)||"")+"g")),f.lastIndex=0;a=f.exec(h);)g=a.index;b=b.slice(0,null==g?d:g)}}else a.indexOf(f,d)!=d&&-1<(f=b.lastIndexOf(f))&&(b=b.slice(0,f));return b+c},Ja.unescape=function(a){return(a=e(a))&&la.test(a)?a.replace(ja,s):a},Ja.uniqueId=function(a){var b=++ae;return e(a)+b},Ja.words=Gd,Ja.all=ad,Ja.any=fd,Ja.contains=cd,Ja.eq=md,Ja.detect=bf,Ja.foldl=kf,Ja.foldr=lf,Ja.head=Sc,Ja.include=cd,Ja.inject=kf,Kd(Ja,function(){var a={};return nb(Ja,function(b,c){Ja.prototype[c]||(a[c]=b)}),a}(),!1),Ja.sample=ed,Ja.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ed(b,a)}):ed(this.value())},Ja.VERSION=v,Ra("bind bindKey curry curryRight partial partialRight".split(" "),function(a){Ja[a].placeholder=Ja}),Ra(["drop","take"],function(a,b){Ma.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Ma(this);c=null==c?1:ue(qe(c)||0,0);var e=this.clone();return d?e.__takeCount__=ve(e.__takeCount__,c):e.__views__.push({size:c,type:a+(0>e.__dir__?"Right":"")}),e},Ma.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),Ra(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=L;Ma.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:tc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),Ra(["first","last"],function(a,b){var c="take"+(b?"Right":"");Ma.prototype[a]=function(){return this[c](1).value()[0]}}),Ra(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Ma.prototype[a]=function(){return this.__filtered__?new Ma(this):this[c](1)}}),Ra(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?ub:Md;Ma.prototype[a]=function(a){return this[c](d(a))}}),Ma.prototype.compact=function(){return this.filter(Id)},Ma.prototype.reject=function(a,b){return a=tc(a,b,1),this.filter(function(b){return!a(b)})},Ma.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(0<a||0>b)?new Ma(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==u&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},Ma.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},Ma.prototype.toArray=function(){return this.take(Ae)},nb(Ma.prototype,function(a,b){var c=/^(?:filter|map|reject)|While$/.test(b),d=/^(?:first|last)$/.test(b),e=Ja[d?"take"+("last"==b?"Right":""):b];e&&(Ja.prototype[b]=function(){function b(a){return d&&g?e(a,1)[0]:e.apply(u,Xa([a],f))}var f=d?[1]:arguments,g=this.__chain__,h=this.__wrapped__,i=!!this.__actions__.length,j=h instanceof Ma,k=f[0],l=j||Bf(h);return l&&c&&"function"==typeof k&&1!=k.length&&(j=l=!1),k={func:_c,args:[b],thisArg:u},i=j&&!i,d&&!g?i?(h=h.clone(),h.__actions__.push(k),a.call(h)):e.call(u,this.value())[0]:!d&&l?(h=i?h:new Ma(this),h=a.apply(h,f),h.__actions__.push(k),new La(h,g)):this.thru(b)})}),Ra("join pop push replace shift sort splice split unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?Zd:Xd)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);Ja.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),nb(Ma.prototype,function(a,b){var c=Ja[b];if(c){var d=c.name+"";(Fe[d]||(Fe[d]=[])).push({name:b,func:c})}}),Fe[kc(u,x).name]=[{name:"wrapper",func:u}],Ma.prototype.clone=function(){var a=new Ma(this.__wrapped__);return a.__actions__=Qa(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Qa(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Qa(this.__views__),a},Ma.prototype.reverse=function(){if(this.__filtered__){var a=new Ma(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a},Ma.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=Bf(b),e=0>c,f=d?b.length:0;a=f;for(var g=this.__views__,h=0,i=-1,j=g.length;++i<j;){var k=g[i],l=k.size;switch(k.type){case"drop":h+=l;break;case"dropRight":a-=l;break;case"take":a=ve(a,h+l);break;case"takeRight":h=ue(h,a-l)}}if(a={start:h,end:a},g=a.start,h=a.end,a=h-g,e=e?h:g-1,g=this.__iteratees__,h=g.length,i=0,j=ve(a,this.__takeCount__),!d||f<J||f==a&&j==a)return Kb(b,this.__actions__);d=[];a:for(;a--&&i<j;){for(e+=c,f=-1,k=b[e];++f<h;){var m=g[f],l=m.type,m=m.iteratee(k);if(l==L)k=m;else if(!m){if(l==K)continue a;break a}}d[i++]=k}return d},Ja.prototype.chain=function(){return $c(this)},Ja.prototype.commit=function(){return new La(this.value(),this.__chain__)},Ja.prototype.concat=$e,Ja.prototype.plant=function(a){for(var b,c=this;c instanceof Ka;){var d=Pc(c);b?e.__wrapped__=d:b=d;var e=d,c=c.__wrapped__}return e.__wrapped__=a,b},Ja.prototype.reverse=function(){function a(a){return a.reverse()}var b=this.__wrapped__;return b instanceof Ma?(this.__actions__.length&&(b=new Ma(this)),b=b.reverse(),b.__actions__.push({func:_c,args:[a],
thisArg:u}),new La(b,this.__chain__)):this.thru(a)},Ja.prototype.toString=function(){return this.value()+""},Ja.prototype.run=Ja.prototype.toJSON=Ja.prototype.valueOf=Ja.prototype.value=function(){return Kb(this.__wrapped__,this.__actions__)},Ja.prototype.collect=Ja.prototype.map,Ja.prototype.head=Ja.prototype.first,Ja.prototype.select=Ja.prototype.filter,Ja.prototype.tail=Ja.prototype.rest,Ja}var u,v="3.10.1",w=1,x=2,y=4,z=8,A=16,B=32,C=64,D=128,E=256,F=30,G="...",H=150,I=16,J=200,K=1,L=2,M="Expected a function",N="__lodash_placeholder__",O="[object Arguments]",P="[object Array]",Q="[object Boolean]",R="[object Date]",S="[object Error]",T="[object Function]",U="[object Number]",V="[object Object]",W="[object RegExp]",X="[object String]",Y="[object ArrayBuffer]",Z="[object Float32Array]",$="[object Float64Array]",_="[object Int8Array]",aa="[object Int16Array]",ba="[object Int32Array]",ca="[object Uint8Array]",da="[object Uint8ClampedArray]",ea="[object Uint16Array]",fa="[object Uint32Array]",ga=/\b__p\+='';/g,ha=/\b(__p\+=)''\+/g,ia=/(__e\(.*?\)|\b__t\))\+'';/g,ja=/&(?:amp|lt|gt|quot|#39|#96);/g,ka=/[&<>"'`]/g,la=RegExp(ja.source),ma=RegExp(ka.source),na=/<%-([\s\S]+?)%>/g,oa=/<%([\s\S]+?)%>/g,pa=/<%=([\s\S]+?)%>/g,qa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ra=/^\w*$/,sa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ta=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,ua=RegExp(ta.source),va=/[\u0300-\u036f\ufe20-\ufe23]/g,wa=/\\(\\)?/g,xa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ya=/\w*$/,za=/^0[xX]/,Aa=/^\[object .+?Constructor\]$/,Ba=/^\d+$/,Ca=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Da=/($^)/,Ea=/['\n\r\u2028\u2029\\]/g,Fa=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Ga="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Ha={};Ha[Z]=Ha[$]=Ha[_]=Ha[aa]=Ha[ba]=Ha[ca]=Ha[da]=Ha[ea]=Ha[fa]=!0,Ha[O]=Ha[P]=Ha[Y]=Ha[Q]=Ha[R]=Ha[S]=Ha[T]=Ha["[object Map]"]=Ha[U]=Ha[V]=Ha[W]=Ha["[object Set]"]=Ha[X]=Ha["[object WeakMap]"]=!1;var Ia={};Ia[O]=Ia[P]=Ia[Y]=Ia[Q]=Ia[R]=Ia[Z]=Ia[$]=Ia[_]=Ia[aa]=Ia[ba]=Ia[U]=Ia[V]=Ia[W]=Ia[X]=Ia[ca]=Ia[da]=Ia[ea]=Ia[fa]=!0,Ia[S]=Ia[T]=Ia["[object Map]"]=Ia["[object Set]"]=Ia["[object WeakMap]"]=!1;var Ja={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ka={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},La={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ma={function:!0,object:!0},Na={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Oa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pa=Ma[typeof exports]&&exports&&!exports.nodeType&&exports,Qa=Ma[typeof module]&&module&&!module.nodeType&&module,Ra=Ma[typeof self]&&self&&self.Object&&self,Sa=Ma[typeof window]&&window&&window.Object&&window,Ta=Qa&&Qa.exports===Pa&&Pa,Ua=Pa&&Qa&&"object"==typeof global&&global&&global.Object&&global||Sa!==(this&&this.window)&&Sa||Ra||this,Va=t();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ua._=Va,define(function(){return Va})):Pa&&Qa?Ta?(Qa.exports=Va)._=Va:Pa._=Va:Ua._=Va}.call(this),angular.module("ngLodash",[]).constant("lodash",null).config(["$provide",function(a){function b(a,b){return a.set(b[0],b[1]),a}function c(a,b){return a.add(b),a}function d(a,b,c){switch(c?c.length:0){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function e(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Array(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function f(a,b){for(var c=-1,d=a.length;++c<d&&!1!==b(a[c],c,a););return a}function g(a,b){for(var c=a.length;c--&&!1!==b(a[c],c,a););return a}function h(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function i(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function j(a,b){return!!a.length&&t(a,b,0)>-1}function k(a,b,c){for(var d=-1,e=a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function l(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function m(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function n(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function o(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function p(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function q(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===U?g===g:c(g,h)))var h=g,i=f}return i}function r(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function s(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function t(a,b,c){if(b!==b)return J(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function u(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function v(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function w(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==U&&(c=c===U?f:c+f)}return c}function x(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function y(a,b){return l(b,function(b){return[b,a[b]]})}function z(a){return function(b){return a(b)}}function A(a,b){return l(b,function(b){return a[b]})}function B(a,b){for(var c=-1,d=a.length;++c<d&&t(b,a[c],0)>-1;);return c}function C(a,b){for(var c=a.length;c--&&t(b,a[c],0)>-1;);return c}function D(a){return a&&a.Object===Object?a:null}function E(a,b){if(a!==b){var c=null===a,d=a===U,e=a===a,f=null===b,g=b===U,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function F(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=E(e[d],f[d]);if(i){if(d>=h)return i;return i*("desc"==c[d]?-1:1)}}return a.index-b.index}function G(a){return gc[a]}function H(a){return hc[a]}function I(a){return"\\"+kc[a]}function J(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function K(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(a){}return b}function L(a,b){return a="number"==typeof a||vb.test(a)?+a:-1,b=null==b?ra:b,a>-1&&a%1==0&&b>a}function M(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function N(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function O(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=xa,f[++e]=c);return f}function P(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function Q(a){if(!a||!$b.test(a))return a.length;for(var b=Zb.lastIndex=0;Zb.test(a);)b++;return b}function R(a){return a.match(Zb)}function S(a){return ic[a]}function T(a){function D(a){if(wg(a)&&!_j(a)&&!(a instanceof zb)){if(a instanceof vb)return a;if(yi.call(a,"__wrapped__"))return ue(a)}return new vb(a)}function Ma(){}function vb(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=U}function zb(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ua,this.__views__=[]}function Ab(){var a=new zb(this.__wrapped__);return a.__actions__=zd(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=zd(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=zd(this.__views__),a}function Bb(){if(this.__filtered__){var a=new zb(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Cb(){var a=this.__wrapped__.value(),b=this.__dir__,c=_j(a),d=0>b,e=c?a.length:0,f=be(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=Vi(i,this.__takeCount__);if(!c||ka>e||e==i&&n==i)return pd(a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==ma)q=u;else if(!u){if(t==la)continue a;break a}}o[m++]=q}return o}function Db(){}function Eb(a,b){return Gb(a,b)&&delete a[b]}function Fb(a,b){if(aj){var c=a[b];return c===pa?U:c}return yi.call(a,b)?a[b]:U}function Gb(a,b){return aj?a[b]!==U:yi.call(a,b)}function Hb(a,b,c){a[b]=aj&&c===U?pa:c}function Ib(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Jb(){this.__data__={hash:new Db,map:Zi?new Zi:[],string:new Db}}function Kb(a){var b=this.__data__;return je(a)?Eb("string"==typeof a?b.string:b.hash,a):Zi?b.map.delete(a):Xb(b.map,a)}function Lb(a){var b=this.__data__;return je(a)?Fb("string"==typeof a?b.string:b.hash,a):Zi?b.map.get(a):Zb(b.map,a)}function Mb(a){var b=this.__data__;return je(a)?Gb("string"==typeof a?b.string:b.hash,a):Zi?b.map.has(a):gc(b.map,a)}function Nb(a,b){var c=this.__data__;return je(a)?Hb("string"==typeof a?c.string:c.hash,a,b):Zi?c.map.set(a,b):ic(c.map,a,b),this}function Ob(a){var b=-1,c=a?a.length:0;for(this.__data__=new Ib;++b<c;)this.push(a[b])}function Pb(a,b){var c=a.__data__;if(je(b)){var d=c.__data__;return("string"==typeof b?d.string:d.hash)[b]===pa}return c.has(b)}function Qb(a){var b=this.__data__;if(je(a)){var c=b.__data__;("string"==typeof a?c.string:c.hash)[a]=pa}else b.set(a,pa)}function Rb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Sb(){this.__data__={array:[],map:null}}function Tb(a){var b=this.__data__,c=b.array;return c?Xb(c,a):b.map.delete(a)}function Ub(a){var b=this.__data__,c=b.array;return c?Zb(c,a):b.map.get(a)}function Vb(a){var b=this.__data__,c=b.array;return c?gc(c,a):b.map.has(a)}function Wb(a,b){var c=this.__data__,d=c.array;d&&(d.length<ka-1?ic(d,a,b):(c.array=null,c.map=new Ib(d)));var e=c.map;return e&&e.set(a,b),this}function Xb(a,b){var c=hc(a,b);return!(0>c)&&(c==a.length-1?a.pop():Oi.call(a,c,1),!0)}function Zb(a,b){var c=hc(a,b);return 0>c?U:a[c][1]}function gc(a,b){return hc(a,b)>-1}function hc(a,b){for(var c=a.length;c--;)if(eg(a[c][0],b))return c;return-1}function ic(a,b,c){var d=hc(a,b);0>d?a.push([b,c]):a[d][1]=c}function jc(a,b,c,d){return a===U||eg(a,wi[c])&&!yi.call(d,c)?b:a}function kc(a,b,c){(c!==U&&!eg(a[b],c)||"number"==typeof b&&c===U&&!(b in a))&&(a[b]=c)}function nc(a,b,c){var d=a[b];(!eg(d,c)||eg(d,wi[b])&&!yi.call(a,b)||c===U&&!(b in a))&&(a[b]=c)}function oc(a,b){return a&&Ad(b,fh(b),a)}function pc(a,b){for(var c=-1,d=null==a,e=b.length,f=Array(e);++c<e;)f[c]=d?U:bh(a,b[c]);return f}function qc(a,b,c){return a===a&&(c!==U&&(a=c>=a?a:c),b!==U&&(a=a>=b?a:b)),a}function rc(a,b,c,d,e,g){var h;if(c&&(h=e?c(a,d,e,g):c(a)),h!==U)return h;if(!vg(a))return a;var i=_j(a);if(i){if(h=de(a),!b)return zd(a,h)}else{var j=ae(a),k=j==Da||j==Ea;if(j!=Ha&&j!=ya&&(!k||e))return fc[j]?fe(a,j,b):e?a:{};if(K(a))return e?a:{};if(h=ee(k?{}:a),!b)return Cd(a,oc(h,a))}g||(g=new Rb);var l=g.get(a);return l||(g.set(a,h),(i?f:Cc)(a,function(d,e){nc(h,e,rc(d,b,c,e,a,g))}),i?h:Cd(a,h))}function sc(a){var b=fh(a),c=b.length;return function(d){if(null==d)return!c;for(var e=c;e--;){var f=b[e],g=a[f],h=d[f];if(h===U&&!(f in Object(d))||!g(h))return!1}return!0}}function vc(a,b,c){if("function"!=typeof a)throw new ui(oa);return Ni(function(){a.apply(U,c)},b)}function wc(a,b,c,d){var e=-1,f=j,g=!0,h=a.length,i=[],m=b.length;if(!h)return i;c&&(b=l(b,z(c))),d?(f=k,g=!1):b.length>=ka&&(f=Pb,g=!1,b=new Ob(b));a:for(;++e<h;){var n=a[e],o=c?c(n):n;if(g&&o===o){for(var p=m;p--;)if(b[p]===o)continue a;i.push(n)}else f(b,o,d)||i.push(n)}return i}function xc(a,b){var c=!0;return jj(a,function(a,d,e){return c=!!b(a,d,e)}),c}function yc(a,b,c,d){var e=a.length;for(c=Og(c),0>c&&(c=-c>e?0:e+c),d=d===U||d>e?e:Og(d),0>d&&(d+=e),d=c>d?0:Pg(d);d>c;)a[c++]=b;return a}function zc(a,b){var c=[];return jj(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Ac(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];jg(g)&&(c||_j(g)||hg(g))?b?Ac(g,b,c,d):m(d,g):c||(d[d.length]=g)}return d}function Bc(a,b){return null==a?a:lj(a,b,gh)}function Cc(a,b){return a&&lj(a,b,fh)}function Dc(a,b){return a&&mj(a,b,fh)}function Ec(a,b){return i(b,function(b){return sg(a[b])})}function Fc(a,b){b=ie(b,a)?[b+""]:ld(b);for(var c=0,d=b.length;null!=a&&d>c;)a=a[b[c++]];return c&&c==d?a:U}function Gc(a,b){return yi.call(a,b)||"object"==typeof a&&b in a&&null===Ji(a)}function Hc(a,b){return b in Object(a)}function Ic(a,b,c){return a>=Vi(b,c)&&a<Ui(b,c)}function Jc(a,b,c){for(var d=c?k:j,e=a.length,f=e,g=Array(e),h=[];f--;){var i=a[f];f&&b&&(i=l(i,z(b))),g[f]=!c&&(b||i.length>=120)?new Ob(f&&i):U}i=a[0];var m=-1,n=i.length,o=g[0];a:for(;++m<n;){var p=i[m],q=b?b(p):p;if(!(o?Pb(o,q):d(h,q,c))){for(var f=e;--f;){var r=g[f];if(!(r?Pb(r,q):d(a[f],q,c)))continue a}o&&o.push(q),h.push(p)}}return h}function Kc(a,b,c){ie(b,a)||(b=ld(b),a=pe(a,b),b=Me(b));var e=null==a?a:a[b];return null==e?U:d(e,a,c)}function Lc(a,b,c,d,e){return a===b||(null==a||null==b||!vg(a)&&!wg(b)?a!==a&&b!==b:Mc(a,b,Lc,c,d,e))}function Mc(a,b,c,d,e,f){var g=_j(a),h=_j(b),i=za,j=za;g||(i=ae(a),i==ya?i=Ha:i!=Ha&&(g=Jg(a))),h||(j=ae(b),j==ya?j=Ha:j!=Ha&&(h=Jg(b)));var k=i==Ha&&!K(a),l=j==Ha&&!K(b),m=i==j;if(m&&!g&&!k)return Wd(a,b,i,c,d,e);if(!(e&fa)){var n=k&&yi.call(a,"__wrapped__"),o=l&&yi.call(b,"__wrapped__");if(n||o)return c(n?a.value():a,o?b.value():b,d,e,f)}return!!m&&(f||(f=new Rb),(g?Vd:Xd)(a,b,c,d,e,f))}function Nc(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===U&&!(i in a))return!1}else{var l=new Rb,m=d?d(j,k,i,a,b,l):U;if(!(m===U?Lc(k,j,d,ea|fa,l):m))return!1}}return!0}function Oc(a){var b=typeof a;return"function"==b?a:null==a?Wh:"object"==b?_j(a)?Tc(a[0],a[1]):Sc(a):ci(a)}function Pc(a){return Ti(Object(a))}function Qc(a){a=null==a?a:Object(a);var b=[];for(var c in a)b.push(c);return b}function Rc(a,b){var c=-1,d=ig(a)?Array(a.length):[];return jj(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Sc(a){var b=$d(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null!=a&&(a[c]===d&&(d!==U||c in Object(a)))}}return function(c){return c===a||Nc(c,a,b)}}function Tc(a,b){return function(c){var d=bh(c,a);return d===U&&d===b?dh(c,a):Lc(b,d,U,ea|fa)}}function Uc(a,b,c,d,e){if(a!==b){var g=_j(b)||Jg(b)?U:gh(b);f(g||b,function(f,h){if(g&&(h=f,f=b[h]),vg(f))e||(e=new Rb),Vc(a,b,h,c,Uc,d,e);else{var i=d?d(a[h],f,h+"",a,b,e):U;i===U&&(i=f),kc(a,h,i)}})}}function Vc(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i)||g.get(h);if(j)return void kc(a,c,j);var k=f?f(h,i,c+"",a,b,g):U,l=k===U;l&&(k=i,_j(i)||Jg(i)?k=_j(h)?d?zd(h):h:jg(h)?zd(h):rc(i):Eg(i)||hg(i)?k=hg(h)?Rg(h):!vg(h)||d&&sg(h)?rc(i):d?rc(h):h:l=!1),g.set(i,k),l&&e(k,i,d,f,g),kc(a,c,k)}function Wc(a,b,c){var d=-1,e=Zd();return b=l(b.length?b:Array(1),function(a){return e(a)}),v(Rc(a,function(a,c,e){return{criteria:l(b,function(b){return b(a)}),index:++d,value:a}}),function(a,b){return F(a,b,c)})}function Xc(a,b){return a=Object(a),n(b,function(b,c){return c in a&&(b[c]=a[c]),b},{})}function Yc(a,b){var c={};return Bc(a,function(a,d){b(a,d)&&(c[d]=a)}),c}function Zc(a){return function(b){return null==b?U:b[a]}}function $c(a){return function(b){return Fc(b,a)}}function _c(a,b){return ad(a,b)}function ad(a,b,c){var d=-1,e=b.length,f=a;for(c&&(f=l(a,function(a){return c(a)}));++d<e;)for(var g=0,h=b[d],i=c?c(h):h;(g=t(f,i,g))>-1;)f!==a&&Oi.call(f,g,1),Oi.call(a,g,1);return a}function bd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(d==c||e!=f){var f=e;if(L(e))Oi.call(a,e,1);else if(ie(e,a))delete a[e];else{var g=ld(e),h=pe(a,g);null!=h&&delete h[Me(g)]}}}return a}function cd(a,b){return a+Qi(Xi()*(b-a+1))}function dd(a,b,c,d){for(var e=-1,f=Ui(Pi((b-a)/(c||1)),0),g=Array(f);f--;)g[d?f:++e]=a,a+=c;return g}function ed(a,b,c,d){b=ie(b,a)?[b+""]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];if(vg(h)){var j=c;if(e!=g){var k=h[i];(j=d?d(k,i,h):U)===U&&(j=null==k?L(b[e+1])?[]:{}:k)}nc(h,i,j)}h=h[i]}return a}function fd(a,b,c){var d=-1,e=a.length;0>b&&(b=-b>e?0:e+b),c=c>e?e:c,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}function gd(a,b){var c;return jj(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}function hd(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&wa>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return id(a,b,Wh,c)}function id(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===U;f>e;){var j=Qi((e+f)/2),k=c(a[j]),l=k!==U,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null!=k&&(d?b>=k:b>k);n?e=j+1:f=j}return Vi(f,va)}function jd(a){return kd(a)}function kd(a,b){for(var c=0,d=a.length,e=a[0],f=b?b(e):e,g=f,h=0,i=[e];++c<d;)e=a[c],f=b?b(e):e,eg(f,g)||(g=f,i[++h]=e);return i}function ld(a){return _j(a)?a:re(a)}function md(a,b,c){var d=-1,e=j,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=k;else if(f>=ka){var l=b?null:oj(a);if(l)return P(l);g=!1,e=Pb,i=new Ob}else i=b?[]:h;a:for(;++d<f;){var m=a[d],n=b?b(m):m;if(g&&n===n){for(var o=i.length;o--;)if(i[o]===n)continue a;b&&i.push(n),h.push(m)}else e(i,n,c)||(i!==h&&i.push(n),h.push(m))}return h}function nd(a,b){b=ie(b,a)?[b+""]:ld(b),a=pe(a,b);var c=Me(b);return null==a||!ch(a,c)||delete a[c]}function od(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?fd(a,d?0:f,d?f+1:e):fd(a,d?f+1:0,d?e:f)}function pd(a,b){var c=a;return c instanceof zb&&(c=c.value()),n(b,function(a,b){return b.func.apply(b.thisArg,m([a],b.args))},c)}function qd(a,b,c){for(var d=-1,e=a.length;++d<e;)var f=f?m(wc(f,a[d],b,c),wc(a[d],f,b,c)):a[d];return f&&f.length?md(f,b,c):[]}function rd(a){var b=a.constructor,c=new b(a.byteLength);return new Gi(c).set(new Gi(a)),c}function sd(a){var c=a.constructor;return n(N(a),b,new c)}function td(a){var b=a.constructor,c=new b(a.source,pb.exec(a));return c.lastIndex=a.lastIndex,c}function ud(a){var b=a.constructor;return n(P(a),c,new b)}function vd(a){return Fi?Object(fj.call(a)):{}}function wd(a,b){var c=a.buffer;return new(0,a.constructor)(b?rd(c):c,a.byteOffset,a.length)}function xd(a,b,c){for(var d=c.length,e=-1,f=Ui(a.length-d,0),g=-1,h=b.length,i=Array(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function yd(a,b,c){for(var d=-1,e=c.length,f=-1,g=Ui(a.length-e,0),h=-1,i=b.length,j=Array(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function zd(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function Ad(a,b,c){return Bd(a,b,c)}function Bd(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e];nc(c,g,d?d(c[g],a[g],g,c,a):a[g])}return c}function Cd(a,b){return Ad(a,rj(a),b)}function Dd(a,b){return function(c,d){var e=b?b():{};if(d=Zd(d),_j(c))for(var f=-1,g=c.length;++f<g;){var h=c[f];a(e,h,d(h),c)}else jj(c,function(b,c,f){a(e,b,d(b),f)});return e}}function Ed(a){return Xf(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:U,g=e>2?c[2]:U;for(f="function"==typeof f?(e--,f):U,g&&he(c[0],c[1],g)&&(f=3>e?U:f,e=1),b=Object(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Fd(a,b){return function(c,d){if(null==c)return c;if(!ig(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function Gd(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}function Hd(a,b,c){function d(){return(this&&this!==tc&&this instanceof d?f:a).apply(e?c:this,arguments)}var e=b&W,f=Kd(a);return d}function Id(a){return function(b){b=Tg(b);var c=$b.test(b)?R(b):U,d=c?c[0]:b.charAt(0),e=c?c.slice(1).join(""):b.slice(1);return d[a]()+e}}function Jd(a){return function(b){return n(Sh(yh(b)),a,"")}}function Kd(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=ij(a.prototype),d=a.apply(c,b);return vg(d)?d:c}}function Ld(a,b,c){function e(){for(var g=arguments.length,h=g,i=Array(g),j=this&&this!==tc&&this instanceof e?f:a,k=e.placeholder;h--;)i[h]=arguments[h];var l=3>g&&i[0]!==k&&i[g-1]!==k?[]:O(i,k);return g-=l.length,c>g?Sd(a,b,Nd,k,U,i,l,U,U,c-g):d(j,this,i)}var f=Kd(a);return e}function Md(a){return Xf(function(b){b=Ac(b);var c=b.length,d=c,e=vb.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new ui(oa);if(e&&!g&&"wrapper"==Yd(f))var g=new vb([],!0)}for(d=g?d:c;++d<c;){f=b[d];var h=Yd(f),i="wrapper"==h?pj(f):U;g=i&&ke(i[0])&&i[1]==(ba|Z|_|ca)&&!i[4].length&&1==i[9]?g[Yd(i[0])].apply(g,i[3]):1==f.length&&ke(f)?g[h]():g.thru(f)}return function(){var a=arguments,d=a[0];if(g&&1==a.length&&_j(d)&&d.length>=ka)return g.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function Nd(a,b,c,d,e,f,g,h,i,j){function k(){for(var s=arguments.length,t=s,u=Array(s);t--;)u[t]=arguments[t];if(d&&(u=xd(u,d,e)),f&&(u=yd(u,f,g)),o||p){var v=k.placeholder,w=O(u,v);if(s-=w.length,j>s)return Sd(a,b,Nd,v,c,u,w,h,i,j-s)}var x=m?c:this,y=n?x[a]:a;return h?u=qe(u,h):q&&u.length>1&&u.reverse(),l&&i<u.length&&(u.length=i),this&&this!==tc&&this instanceof k&&(y=r||Kd(y)),y.apply(x,u)}var l=b&ba,m=b&W,n=b&X,o=b&Z,p=b&$,q=b&da,r=n?U:Kd(a);return k}function Od(a){return Xf(function(b){return b=l(Ac(b),Zd()),Xf(function(c){var e=this;return a(b,function(a){return d(a,e,c)})})})}function Pd(a,b,c){b=Og(b);var d=Q(a);if(!b||d>=b)return"";var e=b-d;c=c===U?" ":c+"";var f=Gh(c,Pi(e/Q(c)));return $b.test(c)?R(f).slice(0,e).join(""):f.slice(0,e)}function Qd(a,b,c,e){function f(){for(var b=-1,i=arguments.length,j=-1,k=e.length,l=Array(k+i),m=this&&this!==tc&&this instanceof f?h:a;++j<k;)l[j]=e[j];for(;i--;)l[j++]=arguments[++b];return d(m,g?c:this,l)}var g=b&W,h=Kd(a);return f}function Rd(a){return function(b,c,d){return d&&"number"!=typeof d&&he(b,c,d)&&(c=d=U),b=Qg(b),b=b===b?b:0,c===U?(c=b,b=0):c=Qg(c)||0,d=d===U?c>b?1:-1:Qg(d)||0,dd(b,c,d,a)}}function Sd(a,b,c,d,e,f,g,h,i,j){var k=b&Z,l=h?zd(h):U,m=k?g:U,n=k?U:g,o=k?f:U,p=k?U:f;b|=k?_:aa,(b&=~(k?aa:_))&Y||(b&=~(W|X));var q=[a,b,e,o,m,p,n,l,i,j],r=c.apply(U,q);return ke(a)&&sj(r,q),r.placeholder=d,r}function Td(a){var b=si[a];return function(a,c){if(a=Qg(a),c=Og(c)){var d=(Tg(a)+"e").split("e");return d=(Tg(b(d[0]+"e"+(+d[1]+c)))+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function Ud(a,b,c,d,e,f,g,h){var i=b&X;if(!i&&"function"!=typeof a)throw new ui(oa);var j=d?d.length:0;if(j||(b&=~(_|aa),d=e=U),g=g===U?g:Ui(Og(g),0),h=h===U?h:Og(h),j-=e?e.length:0,b&aa){var k=d,l=e;d=e=U}var m=i?U:pj(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&ne(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=null==n[9]?i?0:a.length:Ui(n[9]-j,0),!h&&b&(Z|$)&&(b&=~(Z|$)),b&&b!=W)o=b==Z||b==$?Ld(a,b,h):b!=_&&b!=(W|_)||e.length?Nd.apply(U,n):Qd(a,b,c,d);else var o=Hd(a,b,c);return(m?nj:sj)(o,n)}function Vd(a,b,c,d,e,f){var g=-1,h=e&fa,i=e&ea,j=a.length,k=b.length;if(j!=k&&!(h&&k>j))return!1;var l=f.get(a);if(l)return l==b;var m=!0;for(f.set(a,b);++g<j;){var n=a[g],o=b[g];if(d)var q=h?d(o,n,g,b,a,f):d(n,o,g,a,b,f);if(q!==U){if(q)continue;m=!1;break}if(i){if(!p(b,function(a){return n===a||c(n,a,d,e,f)})){m=!1;break}}else if(n!==o&&!c(n,o,d,e,f)){m=!1;break}}return f.delete(a),m}function Wd(a,b,c,d,e,f){switch(c){case Na:return!(a.byteLength!=b.byteLength||!d(new Gi(a),new Gi(b)));case Aa:case Ba:return+a==+b;case Ca:return a.name==b.name&&a.message==b.message;case Ga:return a!=+a?b!=+b:a==+b;case Ia:case Ka:return a==b+"";case Fa:var g=N;case Ja:var h=f&fa;return g||(g=P),(h||a.size==b.size)&&d(g(a),g(b),e,f|ea);case La:return!!Fi&&fj.call(a)==fj.call(b)}return!1}function Xd(a,b,c,d,e,f){var g=e&fa,h=fh(a),i=h.length;if(i!=fh(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:Gc(b,k)))return!1}var l=f.get(a);if(l)return l==b;var m=!0;f.set(a,b);for(var n=g;++j<i;){k=h[j];var o=a[k],p=b[k];if(d)var q=g?d(p,o,k,b,a,f):d(o,p,k,a,b,f);if(!(q===U?o===p||c(o,p,d,e,f):q)){m=!1;break}n||(n="constructor"==k)}if(m&&!n){var r=a.constructor,s=b.constructor;r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s)&&(m=!1)}return f.delete(a),m}function Yd(a){for(var b=a.name+"",c=hj[b],d=yi.call(hj,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Zd(){var a=D.iteratee||Xh;return a=a===Xh?Oc:a,arguments.length?a(arguments[0],arguments[1]):a}function $d(a){for(var b=oh(a),c=b.length;c--;)b[c][2]=me(b[c][1]);return b}function _d(a,b){var c=null==a?U:a[b];return Ag(c)?c:U}function ae(a){return Bi.call(a)}function be(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=Vi(b,a+g);break;case"takeRight":a=Ui(a,b-g)}}return{start:a,end:b}}function ce(a,b,c){if(null==a)return!1;var d=c(a,b);return d||ie(b)||(b=ld(b),null!=(a=pe(a,b))&&(b=Me(b),d=c(a,b))),d||ug(a&&a.length)&&L(b,a.length)&&(_j(a)||Hg(a)||hg(a))}function de(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&yi.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function ee(a){var b=a.constructor;return ij(sg(b)?b.prototype:U)}function fe(a,b,c){var d=a.constructor;switch(b){case Na:return rd(a);case Aa:case Ba:return new d(+a);case Oa:case Pa:case Qa:case Ra:case Sa:case Ta:case Ua:case Va:case Wa:return wd(a,c);case Fa:return sd(a);case Ga:case Ka:return new d(a);case Ia:return td(a);case Ja:return ud(a);case La:return vd(a)}}function ge(a){var b=a?a.length:U;return ug(b)&&(_j(a)||Hg(a)||hg(a))?x(b,String):null}function he(a,b,c){if(!vg(c))return!1;var d=typeof b;return!!("number"==d?ig(c)&&L(b,c.length):"string"==d&&b in c)&&eg(c[b],a)}function ie(a,b){return"number"==typeof a||!_j(a)&&(gb.test(a)||!fb.test(a)||null!=b&&a in Object(b))}function je(a){var b=typeof a;return"number"==b||"boolean"==b||"string"==b&&"__proto__"!==a||null==a}function ke(a){var b=Yd(a),c=D[b];if("function"!=typeof c||!(b in zb.prototype))return!1;if(a===c)return!0;var d=pj(c);return!!d&&a===d[0]}function le(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||wi)}function me(a){return a===a&&!vg(a)}function ne(a,b){var c=a[1],d=b[1],e=c|d,f=(W|X|ba)>e,g=d==ba&&c==Z||d==ba&&c==ca&&a[7].length<=b[8]||d==(ba|ca)&&b[7].length<=b[8]&&c==Z;if(!f&&!g)return a;d&W&&(a[2]=b[2],e|=c&W?0:Y);var h=b[3];if(h){var i=a[3];a[3]=i?xd(i,h,b[4]):zd(h),a[4]=i?O(a[3],xa):zd(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?yd(i,h,b[6]):zd(h),a[6]=i?O(a[5],xa):zd(b[6])),h=b[7],h&&(a[7]=zd(h)),d&ba&&(a[8]=null==a[8]?b[8]:Vi(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function oe(a,b,c,d,e,f){return vg(a)&&vg(b)&&(f.set(b,a),Uc(a,b,U,oe,f)),a}function pe(a,b){return 1==b.length?a:bh(a,fd(b,0,-1))}function qe(a,b){for(var c=a.length,d=Vi(b.length,c),e=zd(a);d--;){var f=b[d];a[d]=L(f,c)?e[f]:U}return a}function re(a){var b=[];return Tg(a).replace(hb,function(a,c,d,e){b.push(d?e.replace(nb,"$1"):c||a)}),b}function se(a){return jg(a)?a:[]}function te(a){return"function"==typeof a?a:Wh}function ue(a){if(a instanceof zb)return a.clone();var b=new vb(a.__wrapped__,a.__chain__);return b.__actions__=zd(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function ve(a,b){b=Ui(Og(b),0);var c=a?a.length:0;if(!c||1>b)return[];for(var d=0,e=-1,f=Array(Pi(c/b));c>d;)f[++e]=fd(a,d,d+=b);return f}function we(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function xe(a,b,c){var d=a?a.length:0;return d?(b=c||b===U?1:Og(b),fd(a,0>b?0:b,d)):[]}function ye(a,b,c){var d=a?a.length:0;return d?(b=c||b===U?1:Og(b),b=d-b,fd(a,0,0>b?0:b)):[]}function ze(a,b){return a&&a.length?od(a,Zd(b,3),!0,!0):[]}function Ae(a,b){return a&&a.length?od(a,Zd(b,3),!0):[]}function Be(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&he(a,b,c)&&(c=0,d=e),yc(a,b,c,d)):[]}function Ce(a,b){return a&&a.length?s(a,Zd(b,3)):-1}function De(a,b){return a&&a.length?s(a,Zd(b,3),!0):-1}function Ee(a,b){return(a?a.length:0)?Ac(l(a,Zd(b,3))):[]}function Fe(a){return(a?a.length:0)?Ac(a):[]}function Ge(a){return(a?a.length:0)?Ac(a,!0):[]}function He(a){for(var b=-1,c=a?a.length:0,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function Ie(a){return a?a[0]:U}function Je(a,b,c){var d=a?a.length:0;return d?(c=Og(c),0>c&&(c=Ui(d+c,0)),t(a,b,c)):-1}function Ke(a){return ye(a,1)}function Le(a,b){return a?Si.call(a,b):""}function Me(a){var b=a?a.length:0;return b?a[b-1]:U}function Ne(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if(c!==U&&(e=Og(c),e=(0>e?Ui(d+e,0):Vi(e,d-1))+1),b!==b)return J(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Oe(a,b){return a&&a.length&&b&&b.length?_c(a,b):a}function Pe(a,b,c){return a&&a.length&&b&&b.length?ad(a,b,Zd(c)):a}function Qe(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=Zd(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return bd(a,e),c}function Re(a){return a?Yi.call(a):a}function Se(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&he(a,b,c)?(b=0,c=d):(b=null==b?0:Og(b),c=c===U?d:Og(c)),fd(a,b,c)):[]}function Te(a,b){return hd(a,b)}function Ue(a,b,c){return id(a,b,Zd(c))}function Ve(a,b){var c=a?a.length:0;if(c){var d=hd(a,b);if(c>d&&eg(a[d],b))return d}return-1}function We(a,b){return hd(a,b,!0)}function Xe(a,b,c){return id(a,b,Zd(c),!0)}function Ye(a,b){if(a?a.length:0){var c=hd(a,b,!0)-1;if(eg(a[c],b))return c}return-1}function Ze(a){return a&&a.length?jd(a):[]}function $e(a,b){return a&&a.length?kd(a,Zd(b)):[]}function _e(a){return xe(a,1)}function af(a,b,c){return a&&a.length?(b=c||b===U?1:Og(b),fd(a,0,0>b?0:b)):[]}function bf(a,b,c){var d=a?a.length:0;return d?(b=c||b===U?1:Og(b),b=d-b,fd(a,0>b?0:b,d)):[]}function cf(a,b){return a&&a.length?od(a,Zd(b,3),!1,!0):[]}function df(a,b){return a&&a.length?od(a,Zd(b,3)):[]}function ef(a){return a&&a.length?md(a):[]}function ff(a,b){return a&&a.length?md(a,Zd(b)):[]}function gf(a,b){return a&&a.length?md(a,U,b):[]}function hf(a){if(!a||!a.length)return[];var b=0;return a=i(a,function(a){return jg(a)?(b=Ui(a.length,b),!0):void 0}),x(b,function(b){return l(a,Zc(b))})}function jf(a,b){if(!a||!a.length)return[];var c=hf(a);return null==b?c:l(c,function(a){return d(b,U,a)})}function kf(a,b){for(var c=-1,d=a?a.length:0,e=b?b.length:0,f={};++c<d;)ed(f,a[c],e>c?b[c]:U);return f}function lf(a){var b=D(a);return b.__chain__=!0,b}function mf(a,b){return b(a),a}function nf(a,b){return b(a)}function of(){return lf(this)}function pf(){return new vb(this.value(),this.__chain__)}function qf(a){return this.map(a).flatten()}function rf(){this.__values__===U&&(this.__values__=Ng(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?U:this.__values__[this.__index__++]}}function sf(){return this}function tf(a){
for(var b,c=this;c instanceof Ma;){var d=ue(c);d.__index__=0,d.__values__=U,b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function uf(){var a=this.__wrapped__;if(a instanceof zb){var b=a;return this.__actions__.length&&(b=new zb(this)),b=b.reverse(),b.__actions__.push({func:nf,args:[Re],thisArg:U}),new vb(b,this.__chain__)}return this.thru(Re)}function vf(){return pd(this.__wrapped__,this.__actions__)}function wf(a,b,c){var d=_j(a)?h:xc;return c&&he(a,b,c)&&(b=U),d(a,Zd(b,3))}function xf(a,b){return(_j(a)?i:zc)(a,Zd(b,3))}function yf(a,b){if(b=Zd(b,3),_j(a)){var c=s(a,b);return c>-1?a[c]:U}return r(a,b,jj)}function zf(a,b){if(b=Zd(b,3),_j(a)){var c=s(a,b,!0);return c>-1?a[c]:U}return r(a,b,kj)}function Af(a,b){return"function"==typeof b&&_j(a)?f(a,b):jj(a,te(b))}function Bf(a,b){return"function"==typeof b&&_j(a)?g(a,b):kj(a,te(b))}function Cf(a,b,c,d){a=ig(a)?a:sh(a),c=c&&!d?Og(c):0;var e=a.length;return 0>c&&(c=Ui(e+c,0)),Hg(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&t(a,b,c)>-1}function Df(a,b){return(_j(a)?l:Rc)(a,Zd(b,3))}function Ef(a,b,c,d){return null==a?[]:(_j(b)||(b=null==b?[]:[b]),c=d?U:c,_j(c)||(c=null==c?[]:[c]),Wc(a,b,c))}function Ff(a,b,c){var d=_j(a)?n:u,e=arguments.length<3;return d(a,Zd(b,4),c,e,jj)}function Gf(a,b,c){var d=_j(a)?o:u,e=arguments.length<3;return d(a,Zd(b,4),c,e,kj)}function Hf(a,b){var c=_j(a)?i:zc;return b=Zd(b,3),c(a,function(a,c,d){return!b(a,c,d)})}function If(a){var b=ig(a)?a:sh(a),c=b.length;return c>0?b[cd(0,c-1)]:U}function Jf(a,b){var c=-1,d=Ng(a),e=d.length,f=e-1;for(b=qc(Og(b),0,e);++c<b;){var g=cd(c,f),h=d[g];d[g]=d[c],d[c]=h}return d.length=b,d}function Kf(a){return Jf(a,ua)}function Lf(a){if(null==a)return 0;if(ig(a)){var b=a.length;return b&&Hg(a)?Q(a):b}return fh(a).length}function Mf(a,b,c){var d=_j(a)?p:gd;return c&&he(a,b,c)&&(b=U),d(a,Zd(b,3))}function Nf(a,b){if("function"!=typeof b)throw new ui(oa);return a=Og(a),function(){return--a<1?b.apply(this,arguments):void 0}}function Of(a,b,c){return b=c?U:b,b=a&&null==b?a.length:b,Ud(a,ba,U,U,U,U,b)}function Pf(a,b){var c;if("function"!=typeof b)throw new ui(oa);return a=Og(a),function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=U),c}}function Qf(a,b,c){b=c?U:b;var d=Ud(a,Z,U,U,U,U,U,b);return d.placeholder=Qf.placeholder,d}function Rf(a,b,c){b=c?U:b;var d=Ud(a,$,U,U,U,U,U,b);return d.placeholder=Rf.placeholder,d}function Sf(a,b,c){function d(){o&&Hi(o),k&&Hi(k),q=0,j=k=n=o=p=U}function e(b,c){c&&Hi(c),k=o=p=U,b&&(q=Sj(),l=a.apply(n,j),o||k||(j=n=U))}function f(){var a=b-(Sj()-m);0>=a||a>b?e(p,k):o=Ni(f,a)}function g(){return(o&&p||k&&t)&&(l=a.apply(n,j)),d(),l}function h(){e(t,o)}function i(){if(j=arguments,m=Sj(),n=this,p=t&&(o||!r),!1===s)var c=r&&!o;else{k||r||(q=m);var d=s-(m-q),e=0>=d||d>s;e?(k&&(k=Hi(k)),q=m,l=a.apply(n,j)):k||(k=Ni(h,d))}return e&&o?o=Hi(o):o||b===s||(o=Ni(f,b)),c&&(e=!0,l=a.apply(n,j)),!e||o||k||(j=n=U),l}var j,k,l,m,n,o,p,q=0,r=!1,s=!1,t=!0;if("function"!=typeof a)throw new ui(oa);return b=Qg(b)||0,vg(c)&&(r=!!c.leading,s="maxWait"in c&&Ui(Qg(c.maxWait)||0,b),t="trailing"in c?!!c.trailing:t),i.cancel=d,i.flush=g,i}function Tf(a){return Ud(a,da)}function Uf(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new ui(oa);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new Uf.Cache,c}function Vf(a){if("function"!=typeof a)throw new ui(oa);return function(){return!a.apply(this,arguments)}}function Wf(a){return Pf(2,a)}function Xf(a,b){if("function"!=typeof a)throw new ui(oa);return b=Ui(b===U?a.length-1:Og(b),0),function(){for(var c=arguments,e=-1,f=Ui(c.length-b,0),g=Array(f);++e<f;)g[e]=c[b+e];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(e=-1;++e<b;)h[e]=c[e];return h[b]=g,d(a,this,h)}}function Yf(a){if("function"!=typeof a)throw new ui(oa);return function(b){return d(a,this,b)}}function Zf(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new ui(oa);return vg(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Sf(a,b,{leading:d,maxWait:b,trailing:e})}function $f(a){return Of(a,1)}function _f(a,b){return b=null==b?Wh:b,Yj(b,a)}function ag(a){return rc(a)}function bg(a,b){return rc(a,!1,b)}function cg(a){return rc(a,!0)}function dg(a,b){return rc(a,!0,b)}function eg(a,b){return a===b||a!==a&&b!==b}function fg(a,b){return a>b}function gg(a,b){return a>=b}function hg(a){return jg(a)&&yi.call(a,"callee")&&(!Mi.call(a,"callee")||Bi.call(a)==ya)}function ig(a){return null!=a&&!("function"==typeof a&&sg(a))&&ug(qj(a))}function jg(a){return wg(a)&&ig(a)}function kg(a){return!0===a||!1===a||wg(a)&&Bi.call(a)==Aa}function lg(a){return wg(a)&&Bi.call(a)==Ba}function mg(a){return!!a&&1===a.nodeType&&wg(a)&&!Eg(a)}function ng(a){return!wg(a)||sg(a.splice)?!Lf(a):!fh(a).length}function og(a,b){return Lc(a,b)}function pg(a,b,c){c="function"==typeof c?c:U;var d=c?c(a,b):U;return d===U?Lc(a,b,c):!!d}function qg(a){return wg(a)&&"string"==typeof a.message&&Bi.call(a)==Ca}function rg(a){return"number"==typeof a&&Ri(a)}function sg(a){var b=vg(a)?Bi.call(a):"";return b==Da||b==Ea}function tg(a){return"number"==typeof a&&a==Og(a)}function ug(a){return"number"==typeof a&&a>-1&&a%1==0&&ra>=a}function vg(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function wg(a){return!!a&&"object"==typeof a}function xg(a,b){return a===b||Nc(a,b,$d(b))}function yg(a,b,c){return c="function"==typeof c?c:U,Nc(a,b,$d(b),c)}function zg(a){return Dg(a)&&a!=+a}function Ag(a){return null!=a&&(sg(a)?Di.test(xi.call(a)):wg(a)&&(K(a)?Di:tb).test(a))}function Bg(a){return null===a}function Cg(a){return null==a}function Dg(a){return"number"==typeof a||wg(a)&&Bi.call(a)==Ga}function Eg(a){if(!wg(a)||Bi.call(a)!=Ha||K(a))return!1;var b=wi;if("function"==typeof a.constructor&&(b=Ji(a)),null===b)return!0;var c=b.constructor;return"function"==typeof c&&c instanceof c&&xi.call(c)==Ai}function Fg(a){return vg(a)&&Bi.call(a)==Ia}function Gg(a){return tg(a)&&a>=-ra&&ra>=a}function Hg(a){return"string"==typeof a||!_j(a)&&wg(a)&&Bi.call(a)==Ka}function Ig(a){return"symbol"==typeof a||wg(a)&&Bi.call(a)==La}function Jg(a){return wg(a)&&ug(a.length)&&!!ec[Bi.call(a)]}function Kg(a){return a===U}function Lg(a,b){return b>a}function Mg(a,b){return b>=a}function Ng(a){if(!a)return[];if(ig(a))return Hg(a)?R(a):zd(a);if(Li&&a[Li])return M(a[Li]());var b=ae(a);return(b==Fa?N:b==Ja?P:sh)(a)}function Og(a){if(!a)return 0===a?a:0;if((a=Qg(a))===qa||a===-qa){return(0>a?-1:1)*sa}var b=a%1;return a===a?b?a-b:a:0}function Pg(a){return a?qc(Og(a),0,ua):0}function Qg(a){if(vg(a)){var b=sg(a.valueOf)?a.valueOf():a;a=vg(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(kb,"");var c=sb.test(a);return c||ub.test(a)?mc(a.slice(2),c?2:8):rb.test(a)?ta:+a}function Rg(a){return Ad(a,gh(a))}function Sg(a){return qc(Og(a),-ra,ra)}function Tg(a){if("string"==typeof a)return a;if(null==a)return"";if(Ig(a))return Fi?gj.call(a):"";var b=a+"";return"0"==b&&1/a==-qa?"-0":b}function Ug(a,b){var c=ij(a);return b?oc(c,b):c}function Vg(a,b){return r(a,Zd(b,3),Cc,!0)}function Wg(a,b){return r(a,Zd(b,3),Dc,!0)}function Xg(a,b){return null==a?a:lj(a,te(b),gh)}function Yg(a,b){return null==a?a:mj(a,te(b),gh)}function Zg(a,b){return a&&Cc(a,te(b))}function $g(a,b){return a&&Dc(a,te(b))}function _g(a){return null==a?[]:Ec(a,fh(a))}function ah(a){return null==a?[]:Ec(a,gh(a))}function bh(a,b,c){var d=null==a?U:Fc(a,b);return d===U?c:d}function ch(a,b){return ce(a,b,Gc)}function dh(a,b){return ce(a,b,Hc)}function eh(a,b,c){return n(fh(a),function(d,e){var f=a[e];return b&&!c?yi.call(d,f)?d[f].push(e):d[f]=[e]:d[f]=e,d},{})}function fh(a){var b=le(a);if(!b&&!ig(a))return Pc(a);var c=ge(a),d=!!c,e=c||[],f=e.length;for(var g in a)!Gc(a,g)||d&&("length"==g||L(g,f))||b&&"constructor"==g||e.push(g);return e}function gh(a){for(var b=-1,c=le(a),d=Qc(a),e=d.length,f=ge(a),g=!!f,h=f||[],i=h.length;++b<e;){var j=d[b];g&&("length"==j||L(j,i))||"constructor"==j&&(c||!yi.call(a,j))||h.push(j)}return h}function hh(a,b){var c={};return b=Zd(b,3),Cc(a,function(a,d,e){c[b(a,d,e)]=a}),c}function ih(a,b){var c={};return b=Zd(b,3),Cc(a,function(a,d,e){c[d]=b(a,d,e)}),c}function jh(a,b){return b=Zd(b,2),Yc(a,function(a,c){return!b(a,c)})}function kh(a,b){return null==a?{}:Yc(a,Zd(b,2))}function lh(a,b,c){if(ie(b,a))d=null==a?U:a[b];else{b=ld(b);var d=bh(a,b);a=pe(a,b)}return d===U&&(d=c),sg(d)?d.call(a):d}function mh(a,b,c){return null==a?a:ed(a,b,c)}function nh(a,b,c,d){return d="function"==typeof d?d:U,null==a?a:ed(a,b,c,d)}function oh(a){return y(a,fh(a))}function ph(a){return y(a,gh(a))}function qh(a,b,c){var d=_j(a)||Jg(a);if(b=Zd(b,4),null==c)if(d||vg(a)){var e=a.constructor;c=d?_j(a)?new e:[]:ij(sg(e)?e.prototype:U)}else c={};return(d?f:Cc)(a,function(a,d,e){return b(c,a,d,e)}),c}function rh(a,b){return null==a||nd(a,b)}function sh(a){return a?A(a,fh(a)):[]}function th(a){return null==a?A(a,gh(a)):[]}function uh(a,b,c){return c===U&&(c=b,b=U),c!==U&&(c=Qg(c),c=c===c?c:0),b!==U&&(b=Qg(b),b=b===b?b:0),qc(Qg(a),b,c)}function vh(a,b,c){return b=Qg(b)||0,c===U?(c=b,b=0):c=Qg(c)||0,a=Qg(a),Ic(a,b,c)}function wh(a,b,c){if(c&&"boolean"!=typeof c&&he(a,b,c)&&(b=c=U),c===U&&("boolean"==typeof b?(c=b,b=U):"boolean"==typeof a&&(c=a,a=U)),a===U&&b===U?(a=0,b=1):(a=Qg(a)||0,b===U?(b=a,a=0):b=Qg(b)||0),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=Xi();return Vi(a+e*(b-a+lc("1e-"+((e+"").length-1))),b)}return cd(a,b)}function xh(a){return qk(Tg(a).toLowerCase())}function yh(a){return(a=Tg(a))&&a.replace(wb,G).replace(Yb,"")}function zh(a,b,c){a=Tg(a),b="string"==typeof b?b:b+"";var d=a.length;return c=c===U?d:qc(Og(c),0,d),(c-=b.length)>=0&&a.indexOf(b,c)==c}function Ah(a){return a=Tg(a),a&&bb.test(a)?a.replace(_a,H):a}function Bh(a){return a=Tg(a),a&&jb.test(a)?a.replace(ib,"\\$&"):a}function Ch(a,b,c){a=Tg(a),b=Og(b);var d=Q(a);if(!b||d>=b)return a;var e=(b-d)/2,f=Qi(e),g=Pi(e);return Pd("",f,c)+a+Pd("",g,c)}function Dh(a,b,c){return(a=Tg(a))+Pd(a,b,c)}function Eh(a,b,c){return a=Tg(a),Pd(a,b,c)+a}function Fh(a,b,c){return c||null==b?b=0:b&&(b=+b),a=Tg(a).replace(kb,""),Wi(a,b||(qb.test(a)?16:10))}function Gh(a,b){a=Tg(a),b=Og(b);var c="";if(!a||1>b||b>ra)return c;do{b%2&&(c+=a),b=Qi(b/2),a+=a}while(b);return c}function Hh(){var a=arguments,b=Tg(a[0]);return a.length<3?b:b.replace(a[1],a[2])}function Ih(a,b,c){return Tg(a).split(b,c)}function Jh(a,b,c){return a=Tg(a),c=qc(Og(c),0,a.length),a.lastIndexOf(b,c)==c}function Kh(a,b,c){var d=D.templateSettings;c&&he(a,b,c)&&(b=U),a=Tg(a),b=ck({},b,d,jc);var e,f,g=ck({},b.imports,d.imports,jc),h=fh(g),i=A(g,h),j=0,k=b.interpolate||xb,l="__p += '",m=ti((b.escape||xb).source+"|"+k.source+"|"+(k===eb?ob:xb).source+"|"+(b.evaluate||xb).source+"|$","g"),n="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++dc+"]")+"\n";a.replace(m,function(b,c,d,g,h,i){return d||(d=g),l+=a.slice(j,i).replace(yb,I),c&&(e=!0,l+="' +\n__e("+c+") +\n'"),h&&(f=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var o=b.variable;o||(l="with (obj) {\n"+l+"\n}\n"),l=(f?l.replace(Xa,""):l).replace(Ya,"$1").replace(Za,"$1;"),l="function("+(o||"obj")+") {\n"+(o?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(e?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var p=uk(function(){return Function(h,n+"return "+l).apply(U,i)});if(p.source=l,qg(p))throw p;return p}function Lh(a){return Tg(a).toLowerCase()}function Mh(a){return Tg(a).toUpperCase()}function Nh(a,b,c){if(!(a=Tg(a)))return a;if(c||b===U)return a.replace(kb,"");if(!(b+=""))return a;var d=R(a),e=R(b);return d.slice(B(d,e),C(d,e)+1).join("")}function Oh(a,b,c){if(!(a=Tg(a)))return a;if(c||b===U)return a.replace(mb,"");if(!(b+=""))return a;var d=R(a);return d.slice(0,C(d,R(b))+1).join("")}function Ph(a,b,c){if(!(a=Tg(a)))return a;if(c||b===U)return a.replace(lb,"");if(!(b+=""))return a;var d=R(a);return d.slice(B(d,R(b))).join("")}function Qh(a,b){var c=ga,d=ha;if(vg(b)){var e="separator"in b?b.separator:e;c="length"in b?Og(b.length):c,d="omission"in b?Tg(b.omission):d}a=Tg(a);var f=a.length;if($b.test(a)){var g=R(a);f=g.length}if(c>=f)return a;var h=c-Q(d);if(1>h)return d;var i=g?g.slice(0,h).join(""):a.slice(0,h);if(e===U)return i+d;if(g&&(h+=i.length-h),Fg(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=ti(e.source,Tg(pb.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===U?h:l)}}else if(a.indexOf(e,h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function Rh(a){return a=Tg(a),a&&ab.test(a)?a.replace($a,S):a}function Sh(a,b,c){return a=Tg(a),b=c?U:b,b===U&&(b=bc.test(a)?ac:_b),a.match(b)||[]}function Th(a){var b=a?a.length:0,c=Zd();return a=b?l(a,function(a){if("function"!=typeof a[1])throw new ui(oa);return[c(a[0]),a[1]]}):[],Xf(function(c){for(var e=-1;++e<b;){var f=a[e];if(d(f[0],this,c))return d(f[1],this,c)}})}function Uh(a){return sc(rc(a,!0))}function Vh(a){return function(){return a}}function Wh(a){return a}function Xh(a){return wg(a)&&!_j(a)?Yh(a):Oc(a)}function Yh(a){return Sc(rc(a,!0))}function Zh(a,b){return Tc(a,rc(b,!0))}function $h(a,b,c){var d=fh(b),e=Ec(b,d);null!=c||vg(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=Ec(b,fh(b)));var g=!(vg(c)&&"chain"in c)||c.chain,h=sg(a);return f(e,function(c){var d=b[c];a[c]=d,h&&(a.prototype[c]=function(){var b=this.__chain__;if(g||b){var c=a(this.__wrapped__);return(c.__actions__=zd(this.__actions__)).push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,m([this.value()],arguments))})}),a}function _h(){return tc._===this&&(tc._=Ci),this}function ai(){}function bi(a){return a=Og(a),function(){return arguments[a]}}function ci(a){return ie(a)?Zc(a):$c(a)}function di(a){return function(b){return null==a?U:Fc(a,b)}}function ei(a,b){if(1>(a=Og(a))||a>ra)return[];var c=ua,d=Vi(a,ua);b=te(b),a-=ua;for(var e=x(d,b);++c<a;)b(c);return e}function fi(a){return _j(a)?l(a,String):re(a)}function gi(a){var b=++zi;return Tg(a)+b}function hi(a,b){var c;return a!==U&&(c=a),b!==U&&(c=c===U?b:c+b),c}function ii(a){return a&&a.length?q(a,Wh,fg):U}function ji(a,b){return a&&a.length?q(a,Zd(b),fg):U}function ki(a){return oi(a)/(a?a.length:0)}function li(a){return a&&a.length?q(a,Wh,Lg):U}function mi(a,b){return a&&a.length?q(a,Zd(b),Lg):U}function ni(a,b){var c;return a!==U&&(c=a),b!==U&&(c=c===U?b:c-b),c}function oi(a){return a&&a.length?w(a,Wh):U}function pi(a,b){return a&&a.length?w(a,Zd(b)):U}a=a?uc.defaults({},a,uc.pick(tc,cc)):tc;var qi=a.Date,ri=a.Error,si=a.Math,ti=a.RegExp,ui=a.TypeError,vi=a.Array.prototype,wi=a.Object.prototype,xi=a.Function.prototype.toString,yi=wi.hasOwnProperty,zi=0,Ai=xi.call(Object),Bi=wi.toString,Ci=tc._,Di=ti("^"+xi.call(yi).replace(ib,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ei=a.Reflect,Fi=a.Symbol,Gi=a.Uint8Array,Hi=a.clearTimeout,Ii=Ei?Ei.enumerate:U,Ji=Object.getPrototypeOf,Ki=Object.getOwnPropertySymbols,Li="symbol"==typeof(Li=Fi&&Fi.iterator)?Li:U,Mi=wi.propertyIsEnumerable,Ni=a.setTimeout,Oi=vi.splice,Pi=si.ceil,Qi=si.floor,Ri=a.isFinite,Si=vi.join,Ti=Object.keys,Ui=si.max,Vi=si.min,Wi=a.parseInt,Xi=si.random,Yi=vi.reverse,Zi=_d(a,"Map"),$i=_d(a,"Set"),_i=_d(a,"WeakMap"),aj=_d(Object,"create"),bj=_i&&new _i,cj=Zi?xi.call(Zi):"",dj=$i?xi.call($i):"",ej=Fi?Fi.prototype:U,fj=Fi?ej.valueOf:U,gj=Fi?ej.toString:U,hj={};D.templateSettings={escape:cb,evaluate:db,interpolate:eb,variable:"",imports:{_:D}};var ij=function(){function a(){}return function(b){if(vg(b)){a.prototype=b;var c=new a;a.prototype=U}return c||{}}}(),jj=Fd(Cc),kj=Fd(Dc,!0),lj=Gd(),mj=Gd(!0);Ii&&!Mi.call({valueOf:1},"valueOf")&&(Qc=function(a){return M(Ii(a))});var nj=bj?function(a,b){return bj.set(a,b),a}:Wh,oj=$i&&2===new $i([1,2]).size?function(a){return new $i(a)}:ai,pj=bj?function(a){return bj.get(a)}:ai,qj=Zc("length"),rj=Ki||function(){return[]};(Zi&&ae(new Zi)!=Fa||$i&&ae(new $i)!=Ja)&&(ae=function(a){var b=Bi.call(a),c=b==Ha?a.constructor:null,d="function"==typeof c?xi.call(c):"";if(d){if(d==cj)return Fa;if(d==dj)return Ja}return b});var sj=function(){var a=0,b=0;return function(c,d){var e=Sj(),f=ja-(e-b);if(b=e,f>0){if(++a>=ia)return c}else a=0;return nj(c,d)}}(),tj=Xf(function(a,b){return _j(a)||(a=null==a?[]:[Object(a)]),b=Ac(b),e(a,b)}),uj=Xf(function(a,b){return jg(a)?wc(a,Ac(b,!1,!0)):[]}),vj=Xf(function(a,b){var c=Me(b);return jg(c)&&(c=U),jg(a)?wc(a,Ac(b,!1,!0),Zd(c)):[]}),wj=Xf(function(a,b){var c=Me(b);return jg(c)&&(c=U),jg(a)?wc(a,Ac(b,!1,!0),U,c):[]}),xj=Xf(function(a){var b=l(a,se);return b.length&&b[0]===a[0]?Jc(b):[]}),yj=Xf(function(a){var b=Me(a),c=l(a,se);return b===Me(c)?b=U:c.pop(),c.length&&c[0]===a[0]?Jc(c,Zd(b)):[]}),zj=Xf(function(a){var b=Me(a),c=l(a,se);return b===Me(c)?b=U:c.pop(),c.length&&c[0]===a[0]?Jc(c,U,b):[]}),Aj=Xf(Oe),Bj=Xf(function(a,b){b=l(Ac(b),String);var c=pc(a,b);return bd(a,b.sort(E)),c}),Cj=Xf(function(a){return md(Ac(a,!1,!0))}),Dj=Xf(function(a){var b=Me(a);return jg(b)&&(b=U),md(Ac(a,!1,!0),Zd(b))}),Ej=Xf(function(a){var b=Me(a);return jg(b)&&(b=U),md(Ac(a,!1,!0),U,b)}),Fj=Xf(function(a,b){return jg(a)?wc(a,b):[]}),Gj=Xf(function(a){return qd(i(a,jg))}),Hj=Xf(function(a){var b=Me(a);return jg(b)&&(b=U),qd(i(a,jg),Zd(b))}),Ij=Xf(function(a){var b=Me(a);return jg(b)&&(b=U),qd(i(a,jg),U,b)}),Jj=Xf(hf),Kj=Xf(function(a){var b=a.length,c=b>1?a[b-1]:U;return c="function"==typeof c?(a.pop(),c):U,jf(a,c)}),Lj=Xf(function(a){a=Ac(a);var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return pc(b,a)};return!(b>1||this.__actions__.length)&&d instanceof zb&&L(c)?(d=d.slice(c,+c+(b?1:0)),d.__actions__.push({func:nf,args:[e],thisArg:U}),new vb(d,this.__chain__).thru(function(a){return b&&!a.length&&a.push(U),a})):this.thru(e)}),Mj=Dd(function(a,b,c){yi.call(a,c)?++a[c]:a[c]=1}),Nj=Dd(function(a,b,c){yi.call(a,c)?a[c].push(b):a[c]=[b]}),Oj=Xf(function(a,b,c){var e=-1,f="function"==typeof b,g=ie(b),h=ig(a)?Array(a.length):[];return jj(a,function(a){var i=f?b:g&&null!=a?a[b]:U;h[++e]=i?d(i,a,c):Kc(a,b,c)}),h}),Pj=Dd(function(a,b,c){a[c]=b}),Qj=Dd(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Rj=Xf(function(a,b){if(null==a)return[];var c=b.length;return c>1&&he(a,b[0],b[1])?b=[]:c>2&&he(b[0],b[1],b[2])&&(b.length=1),Wc(a,Ac(b),[])}),Sj=qi.now,Tj=Xf(function(a,b,c){var d=W;if(c.length){var e=O(c,Tj.placeholder);d|=_}return Ud(a,d,b,c,e)}),Uj=Xf(function(a,b,c){var d=W|X;if(c.length){var e=O(c,Uj.placeholder);d|=_}return Ud(b,d,a,c,e)}),Vj=Xf(function(a,b){return vc(a,1,b)}),Wj=Xf(function(a,b,c){return vc(a,Qg(b)||0,c)}),Xj=Xf(function(a,b){b=l(Ac(b),Zd());var c=b.length;return Xf(function(e){for(var f=-1,g=Vi(e.length,c);++f<g;)e[f]=b[f].call(this,e[f]);return d(a,this,e)})}),Yj=Xf(function(a,b){var c=O(b,Yj.placeholder);return Ud(a,_,U,b,c)}),Zj=Xf(function(a,b){var c=O(b,Zj.placeholder);return Ud(a,aa,U,b,c)}),$j=Xf(function(a,b){return Ud(a,ca,U,U,U,Ac(b))}),_j=Array.isArray,ak=Ed(function(a,b){Ad(b,fh(b),a)}),bk=Ed(function(a,b){Ad(b,gh(b),a)}),ck=Ed(function(a,b,c,d){Bd(b,gh(b),a,d)}),dk=Ed(function(a,b,c,d){Bd(b,fh(b),a,d)}),ek=Xf(function(a,b){return pc(a,Ac(b))}),fk=Xf(function(a){return a.push(U,jc),d(ck,U,a)}),gk=Xf(function(a){return a.push(U,oe),d(jk,U,a)}),hk=Xf(Kc),ik=Ed(function(a,b,c){Uc(a,b,c)}),jk=Ed(function(a,b,c,d){Uc(a,b,c,d)}),kk=Xf(function(a,b){return null==a?{}:(b=l(Ac(b),String),Xc(a,wc(gh(a),b)))}),lk=Xf(function(a,b){return null==a?{}:Xc(a,Ac(b))}),mk=Jd(function(a,b,c){return b=b.toLowerCase(),a+(c?xh(b):b)}),nk=Jd(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),ok=Jd(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),pk=Id("toLowerCase"),qk=Id("toUpperCase"),rk=Jd(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),sk=Jd(function(a,b,c){return a+(c?" ":"")+xh(b)}),tk=Jd(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),uk=Xf(function(a,b){try{return d(a,U,b)}catch(a){return qg(a)?a:new ri(a)}}),vk=Xf(function(a,b){return f(Ac(b),function(b){a[b]=Tj(a[b],a)}),a}),wk=Md(),xk=Md(!0),yk=Xf(function(a,b){return function(c){return Kc(c,a,b)}}),zk=Xf(function(a,b){return function(c){return Kc(a,c,b)}}),Ak=Od(l),Bk=Od(h),Ck=Od(p),Dk=Rd(),Ek=Rd(!0),Fk=Td("ceil"),Gk=Td("floor"),Hk=Td("round");return D.prototype=Ma.prototype,vb.prototype=ij(Ma.prototype),vb.prototype.constructor=vb,zb.prototype=ij(Ma.prototype),zb.prototype.constructor=zb,Db.prototype=aj?aj(null):wi,Ib.prototype.clear=Jb,Ib.prototype.delete=Kb,Ib.prototype.get=Lb,Ib.prototype.has=Mb,Ib.prototype.set=Nb,Ob.prototype.push=Qb,Rb.prototype.clear=Sb,Rb.prototype.delete=Tb,Rb.prototype.get=Ub,Rb.prototype.has=Vb,Rb.prototype.set=Wb,Uf.Cache=Ib,D.after=Nf,D.ary=Of,D.assign=ak,D.assignIn=bk,D.assignInWith=ck,D.assignWith=dk,D.at=ek,D.before=Pf,D.bind=Tj,D.bindAll=vk,D.bindKey=Uj,D.chain=lf,D.chunk=ve,D.compact=we,D.concat=tj,D.cond=Th,D.conforms=Uh,D.constant=Vh,D.countBy=Mj,D.create=Ug,D.curry=Qf,D.curryRight=Rf,D.debounce=Sf,D.defaults=fk,D.defaultsDeep=gk,D.defer=Vj,D.delay=Wj,D.difference=uj,D.differenceBy=vj,D.differenceWith=wj,D.drop=xe,D.dropRight=ye,D.dropRightWhile=ze,D.dropWhile=Ae,D.fill=Be,D.filter=xf,D.flatMap=Ee,D.flatten=Fe,D.flattenDeep=Ge,D.flip=Tf,D.flow=wk,D.flowRight=xk,D.fromPairs=He,D.functions=_g,D.functionsIn=ah,D.groupBy=Nj,D.initial=Ke,D.intersection=xj,D.intersectionBy=yj,D.intersectionWith=zj,D.invert=eh,D.invokeMap=Oj,D.iteratee=Xh,D.keyBy=Pj,D.keys=fh,D.keysIn=gh,D.map=Df,D.mapKeys=hh,D.mapValues=ih,D.matches=Yh,D.matchesProperty=Zh,D.memoize=Uf,D.merge=ik,D.mergeWith=jk,D.method=yk,D.methodOf=zk,D.mixin=$h,D.negate=Vf,D.nthArg=bi,D.omit=kk,D.omitBy=jh,D.once=Wf,D.orderBy=Ef,D.over=Ak,D.overArgs=Xj,D.overEvery=Bk,D.overSome=Ck,D.partial=Yj,D.partialRight=Zj,D.partition=Qj,D.pick=lk,D.pickBy=kh,D.property=ci,D.propertyOf=di,D.pull=Aj,D.pullAll=Oe,D.pullAllBy=Pe,D.pullAt=Bj,D.range=Dk,D.rangeRight=Ek,D.rearg=$j,D.reject=Hf,D.remove=Qe,D.rest=Xf,D.reverse=Re,D.sampleSize=Jf,D.set=mh,D.setWith=nh,D.shuffle=Kf,D.slice=Se,D.sortBy=Rj,D.sortedUniq=Ze,D.sortedUniqBy=$e,D.split=Ih,D.spread=Yf,D.tail=_e,D.take=af,D.takeRight=bf,D.takeRightWhile=cf,D.takeWhile=df,D.tap=mf,D.throttle=Zf,D.thru=nf,D.toArray=Ng,D.toPairs=oh,D.toPairsIn=ph,D.toPath=fi,D.toPlainObject=Rg,D.transform=qh,D.unary=$f,D.union=Cj,D.unionBy=Dj,D.unionWith=Ej,D.uniq=ef,D.uniqBy=ff,D.uniqWith=gf,D.unset=rh,D.unzip=hf,D.unzipWith=jf,D.values=sh,D.valuesIn=th,D.without=Fj,D.words=Sh,D.wrap=_f,D.xor=Gj,D.xorBy=Hj,D.xorWith=Ij,D.zip=Jj,D.zipObject=kf,D.zipWith=Kj,D.extend=bk,D.extendWith=ck,$h(D,D),D.add=hi,D.attempt=uk,D.camelCase=mk,D.capitalize=xh,D.ceil=Fk,D.clamp=uh,D.clone=ag,D.cloneDeep=cg,D.cloneDeepWith=dg,D.cloneWith=bg,D.deburr=yh,D.endsWith=zh,D.eq=eg,D.escape=Ah,D.escapeRegExp=Bh,D.every=wf,D.find=yf,D.findIndex=Ce,D.findKey=Vg,D.findLast=zf,D.findLastIndex=De,D.findLastKey=Wg,D.floor=Gk,D.forEach=Af,D.forEachRight=Bf,D.forIn=Xg,D.forInRight=Yg,D.forOwn=Zg,D.forOwnRight=$g,D.get=bh,D.gt=fg,D.gte=gg,D.has=ch,D.hasIn=dh,D.head=Ie,D.identity=Wh,D.includes=Cf,D.indexOf=Je,D.inRange=vh,D.invoke=hk,D.isArguments=hg,D.isArray=_j,D.isArrayLike=ig,D.isArrayLikeObject=jg,D.isBoolean=kg,D.isDate=lg,D.isElement=mg,D.isEmpty=ng,D.isEqual=og,D.isEqualWith=pg,D.isError=qg,D.isFinite=rg,D.isFunction=sg,D.isInteger=tg,D.isLength=ug,D.isMatch=xg,D.isMatchWith=yg,D.isNaN=zg,D.isNative=Ag,D.isNil=Cg,D.isNull=Bg,D.isNumber=Dg,D.isObject=vg,D.isObjectLike=wg,D.isPlainObject=Eg,D.isRegExp=Fg,D.isSafeInteger=Gg,D.isString=Hg,D.isSymbol=Ig,D.isTypedArray=Jg,D.isUndefined=Kg,D.join=Le,D.kebabCase=nk,D.last=Me,D.lastIndexOf=Ne,D.lowerCase=ok,D.lowerFirst=pk,D.lt=Lg,D.lte=Mg,D.max=ii,D.maxBy=ji,D.mean=ki,D.min=li,D.minBy=mi,D.noConflict=_h,D.noop=ai,D.now=Sj,D.pad=Ch,D.padEnd=Dh,D.padStart=Eh,D.parseInt=Fh,D.random=wh,D.reduce=Ff,D.reduceRight=Gf,D.repeat=Gh,D.replace=Hh,D.result=lh,D.round=Hk,D.runInContext=T,D.sample=If,D.size=Lf,D.snakeCase=rk,D.some=Mf,D.sortedIndex=Te,D.sortedIndexBy=Ue,D.sortedIndexOf=Ve,D.sortedLastIndex=We,D.sortedLastIndexBy=Xe,D.sortedLastIndexOf=Ye,D.startCase=sk,D.startsWith=Jh,D.subtract=ni,D.sum=oi,D.sumBy=pi,D.template=Kh,D.times=ei,D.toInteger=Og,D.toLength=Pg,D.toLower=Lh,D.toNumber=Qg,D.toSafeInteger=Sg,D.toString=Tg,D.toUpper=Mh,D.trim=Nh,D.trimEnd=Oh,D.trimStart=Ph,D.truncate=Qh,D.unescape=Rh,D.uniqueId=gi,D.upperCase=tk,D.upperFirst=qk,D.each=Af,D.eachRight=Bf,D.first=Ie,$h(D,function(){var a={};return Cc(D,function(b,c){yi.call(D.prototype,c)||(a[c]=b)}),a}(),{chain:!1}),D.VERSION=V,f(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){D[a].placeholder=D}),f(["drop","take"],function(a,b){zb.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new zb(this);c=c===U?1:Ui(Og(c),0);var e=this.clone();return d?e.__takeCount__=Vi(c,e.__takeCount__):e.__views__.push({size:Vi(c,ua),type:a+(e.__dir__<0?"Right":"")}),e},zb.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),f(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==la||c==na;zb.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:Zd(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),f(["head","last"],function(a,b){var c="take"+(b?"Right":"");zb.prototype[a]=function(){return this[c](1).value()[0]}}),f(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");zb.prototype[a]=function(){return this.__filtered__?new zb(this):this[c](1)}}),zb.prototype.compact=function(){return this.filter(Wh)},zb.prototype.find=function(a){return this.filter(a).head()},zb.prototype.findLast=function(a){return this.reverse().find(a)},zb.prototype.invokeMap=Xf(function(a,b){return"function"==typeof a?new zb(this):this.map(function(c){return Kc(c,a,b)})}),zb.prototype.reject=function(a){return a=Zd(a,3),this.filter(function(b){return!a(b)})},zb.prototype.slice=function(a,b){a=Og(a);var c=this;return c.__filtered__&&(a>0||0>b)?new zb(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==U&&(b=Og(b),c=0>b?c.dropRight(-b):c.take(b-a)),c)},zb.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},zb.prototype.toArray=function(){return this.take(ua)},Cc(zb.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=D[d?"take"+("last"==b?"Right":""):b],f=d||/^find/.test(b);e&&(D.prototype[b]=function(){var b=this.__wrapped__,g=d?[1]:arguments,h=b instanceof zb,i=g[0],j=h||_j(b),k=function(a){var b=e.apply(D,m([a],g));return d&&l?b[0]:b};j&&c&&"function"==typeof i&&1!=i.length&&(h=j=!1);var l=this.__chain__,n=!!this.__actions__.length,o=f&&!l,p=h&&!n;if(!f&&j){b=p?b:new zb(this);var q=a.apply(b,g);return q.__actions__.push({func:nf,args:[k],thisArg:U}),new vb(q,l)}return o&&p?a.apply(this,g):(q=this.thru(k),o?d?q.value()[0]:q.value():q)})}),f(["pop","push","shift","sort","splice","unshift"],function(a){var b=vi[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);D.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),Cc(zb.prototype,function(a,b){var c=D[b];if(c){var d=c.name+"";(hj[d]||(hj[d]=[])).push({name:b,func:c})}}),hj[Nd(U,X).name]=[{name:"wrapper",func:U}],zb.prototype.clone=Ab,zb.prototype.reverse=Bb,zb.prototype.value=Cb,D.prototype.at=Lj,D.prototype.chain=of,D.prototype.commit=pf,D.prototype.flatMap=qf,D.prototype.next=rf,D.prototype.plant=tf,D.prototype.reverse=uf,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=vf,Li&&(D.prototype[Li]=sf),D}var U,V="4.0.1",W=1,X=2,Y=4,Z=8,$=16,_=32,aa=64,ba=128,ca=256,da=512,ea=1,fa=2,ga=30,ha="...",ia=150,ja=16,ka=200,la=1,ma=2,na=3,oa="Expected a function",pa="__lodash_hash_undefined__",qa=1/0,ra=9007199254740991,sa=1.7976931348623157e308,ta=NaN,ua=4294967295,va=ua-1,wa=ua>>>1,xa="__lodash_placeholder__",ya="[object Arguments]",za="[object Array]",Aa="[object Boolean]",Ba="[object Date]",Ca="[object Error]",Da="[object Function]",Ea="[object GeneratorFunction]",Fa="[object Map]",Ga="[object Number]",Ha="[object Object]",Ia="[object RegExp]",Ja="[object Set]",Ka="[object String]",La="[object Symbol]",Ma="[object WeakMap]",Na="[object ArrayBuffer]",Oa="[object Float32Array]",Pa="[object Float64Array]",Qa="[object Int8Array]",Ra="[object Int16Array]",Sa="[object Int32Array]",Ta="[object Uint8Array]",Ua="[object Uint8ClampedArray]",Va="[object Uint16Array]",Wa="[object Uint32Array]",Xa=/\b__p \+= '';/g,Ya=/\b(__p \+=) '' \+/g,Za=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$a=/&(?:amp|lt|gt|quot|#39|#96);/g,_a=/[&<>"'`]/g,ab=RegExp($a.source),bb=RegExp(_a.source),cb=/<%-([\s\S]+?)%>/g,db=/<%([\s\S]+?)%>/g,eb=/<%=([\s\S]+?)%>/g,fb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gb=/^\w*$/,hb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ib=/[\\^$.*+?()[\]{}|]/g,jb=RegExp(ib.source),kb=/^\s+|\s+$/g,lb=/^\s+/,mb=/\s+$/,nb=/\\(\\)?/g,ob=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pb=/\w*$/,qb=/^0x/i,rb=/^[-+]0x[0-9a-f]+$/i,sb=/^0b[01]+$/i,tb=/^\[object .+?Constructor\]$/,ub=/^0o[0-7]+$/i,vb=/^(?:0|[1-9]\d*)$/,wb=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,xb=/($^)/,yb=/['\n\r\u2028\u2029\\]/g,zb="\\ud800-\\udfff",Ab="\\u0300-\\u036f\\ufe20-\\ufe23",Bb="\\u20d0-\\u20f0",Cb="\\u2700-\\u27bf",Db="a-z\\xdf-\\xf6\\xf8-\\xff",Eb="A-Z\\xc0-\\xd6\\xd8-\\xde",Fb="\\ufe0e\\ufe0f",Gb="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hb="["+Gb+"]",Ib="["+Ab+Bb+"]",Jb="["+Db+"]",Kb="[^"+zb+Gb+"\\d+"+Cb+Db+Eb+"]",Lb="\\ud83c[\\udffb-\\udfff]",Mb="[^"+zb+"]",Nb="(?:\\ud83c[\\udde6-\\uddff]){2}",Ob="[\\ud800-\\udbff][\\udc00-\\udfff]",Pb="["+Eb+"]",Qb="\\u200d",Rb="(?:"+Jb+"|"+Kb+")",Sb="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",Tb="["+Fb+"]?",Ub="(?:"+Qb+"(?:"+[Mb,Nb,Ob].join("|")+")"+Tb+Sb+")*",Vb=Tb+Sb+Ub,Wb="(?:"+["[\\u2700-\\u27bf]",Nb,Ob].join("|")+")"+Vb,Xb="(?:"+[Mb+Ib+"?",Ib,Nb,Ob,"[\\ud800-\\udfff]"].join("|")+")",Yb=RegExp(Ib,"g"),Zb=RegExp(Lb+"(?="+Lb+")|"+Xb+Vb,"g"),$b=RegExp("["+Qb+zb+Ab+Bb+Fb+"]"),_b=/[a-zA-Z0-9]+/g,ac=RegExp([Pb+"?"+Jb+"+(?="+[Hb,Pb,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?="+[Hb,Pb+Rb,"$"].join("|")+")",Pb+"?"+Rb+"+",Pb+"+","\\d+",Wb].join("|"),"g"),bc=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cc=["Array","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],dc=-1,ec={};ec[Oa]=ec[Pa]=ec[Qa]=ec[Ra]=ec[Sa]=ec[Ta]=ec[Ua]=ec[Va]=ec[Wa]=!0,ec[ya]=ec[za]=ec[Na]=ec[Aa]=ec[Ba]=ec[Ca]=ec[Da]=ec[Fa]=ec[Ga]=ec[Ha]=ec[Ia]=ec[Ja]=ec[Ka]=ec[Ma]=!1;var fc={};fc[ya]=fc[za]=fc[Na]=fc[Aa]=fc[Ba]=fc[Oa]=fc[Pa]=fc[Qa]=fc[Ra]=fc[Sa]=fc[Fa]=fc[Ga]=fc[Ha]=fc[Ia]=fc[Ja]=fc[Ka]=fc[La]=fc[Ta]=fc[Ua]=fc[Va]=fc[Wa]=!0,fc[Ca]=fc[Da]=fc[Ma]=!1;var gc={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U",
"Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},hc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},ic={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},jc={function:!0,object:!0},kc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lc=parseFloat,mc=parseInt,nc=jc[typeof exports]&&exports&&!exports.nodeType?exports:null,oc=jc[typeof module]&&module&&!module.nodeType?module:null,pc=D(nc&&oc&&"object"==typeof global&&global),qc=D(jc[typeof self]&&self),rc=D(jc[typeof window]&&window),sc=D(jc[typeof this]&&this),tc=pc||rc!==(sc&&sc.window)&&rc||qc||sc||Function("return this")(),uc=T();(rc||qc||{})._=uc,"function"==typeof define&&"object"==typeof define.amd&&define.amd&&define(function(){return uc}),a.constant("lodash",uc)}]),function(a,b){"undefined"!=typeof module&&module.exports?(b("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],b):b(a.angular)}(this,function(a){"use strict";var b=a.module("ngDialog",[]),c=a.element,d=a.isDefined,e=(document.body||document.documentElement).style,f=d(e.animation)||d(e.WebkitAnimation)||d(e.MozAnimation)||d(e.MsAnimation)||d(e.OAnimation),g="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",h={html:!1,body:!1},i={},j=[],k=!1,l=!1;return b.provider("ngDialog",function(){var b=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(a){h.html=a||!1},this.setForceBodyReload=function(a){h.body=a||!1},this.setDefaults=function(c){a.extend(b,c)},this.setOpenOnePerName=function(a){l=a||!1};var d,e=0,m=0,n={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(o,p,q,r,s,t,u,v,w,x){var y=[],z={onDocumentKeydown:function(a){27===a.keyCode&&A.close("$escape")},activate:function(a){a.data("$ngDialogOptions").trapFocus&&(a.on("keydown",z.onTrapFocusKeydown),y.body.on("keydown",z.onTrapFocusKeydown))},deactivate:function(a){a.off("keydown",z.onTrapFocusKeydown),y.body.off("keydown",z.onTrapFocusKeydown)},deactivateAll:function(b){a.forEach(b,function(b){var c=a.element(b);z.deactivate(c)})},setBodyPadding:function(a){var b=parseInt(y.body.css("padding-right")||0,10);y.body.css("padding-right",b+a+"px"),y.body.data("ng-dialog-original-padding",b),t.$broadcast("ngDialog.setPadding",a)},resetBodyPadding:function(){var a=y.body.data("ng-dialog-original-padding");a?y.body.css("padding-right",a+"px"):y.body.css("padding-right",""),t.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(a,b){var c=a.data("$ngDialogOptions"),e=a.attr("id"),h=i[e];if(h){if(void 0!==v.Hammer){var l=h.hammerTime;l.off("tap",d),l.destroy&&l.destroy(),delete h.hammerTime}else a.unbind("click");1===m&&y.body.unbind("keydown",z.onDocumentKeydown),a.hasClass("ngdialog-closing")||(m-=1);var o=a.data("$ngDialogPreviousFocus");o&&o.focus&&o.focus(),t.$broadcast("ngDialog.closing",a,b),m=m<0?0:m,f&&!c.disableAnimation?(h.$destroy(),a.unbind(g).bind(g,function(){z.closeDialogElement(a,b)}).addClass("ngdialog-closing")):(h.$destroy(),z.closeDialogElement(a,b)),n[e]&&(n[e].resolve({id:e,value:b,$dialog:a,remainingDialogs:m}),delete n[e]),i[e]&&delete i[e],j.splice(j.indexOf(e),1),j.length||(y.body.unbind("keydown",z.onDocumentKeydown),k=!1)}},closeDialogElement:function(a,b){var c=a.data("$ngDialogOptions");a.remove(),0===m&&(y.html.removeClass(c.bodyClassName),y.body.removeClass(c.bodyClassName),z.resetBodyPadding()),t.$broadcast("ngDialog.closed",a,b)},closeDialog:function(b,c){var d=b.data("$ngDialogPreCloseCallback");if(d&&a.isFunction(d)){var e=d.call(b,c);if(a.isObject(e))e.closePromise?e.closePromise.then(function(){z.performCloseDialog(b,c)},function(){return!1}):e.then(function(){z.performCloseDialog(b,c)},function(){return!1});else{if(!1===e)return!1;z.performCloseDialog(b,c)}}else z.performCloseDialog(b,c)},onTrapFocusKeydown:function(b){var c,d=a.element(b.currentTarget);if(d.hasClass("ngdialog"))c=d;else if(null===(c=z.getActiveDialog()))return;var e=9===b.keyCode,f=!0===b.shiftKey;e&&z.handleTab(c,b,f)},handleTab:function(a,b,c){var d=z.getFocusableElements(a);if(0===d.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var e=document.activeElement,f=Array.prototype.indexOf.call(d,e),g=-1===f,h=0===f,i=f===d.length-1,j=!1;c?(g||h)&&(d[d.length-1].focus(),j=!0):(g||i)&&(d[0].focus(),j=!0),j&&(b.preventDefault(),b.stopPropagation())},autoFocus:function(a){var b=a[0],d=b.querySelector("*[autofocus]");if(null===d||(d.focus(),document.activeElement!==d)){var e=z.getFocusableElements(a);if(e.length>0)return void e[0].focus();var f=z.filterVisibleElements(b.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(f.length>0){var g=f[0];c(g).attr("tabindex","-1").css("outline","0"),g.focus()}}},getFocusableElements:function(a){var b=a[0],c=b.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),d=z.filterTabbableElements(c);return z.filterVisibleElements(d)},filterTabbableElements:function(a){for(var b=[],d=0;d<a.length;d++){var e=a[d];"-1"!==c(e).attr("tabindex")&&b.push(e)}return b},filterVisibleElements:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];(d.offsetWidth>0||d.offsetHeight>0)&&b.push(d)}return b},getActiveDialog:function(){var a=document.querySelectorAll(".ngdialog");return 0===a.length?null:c(a[a.length-1])},applyAriaAttributes:function(a,b){if(b.ariaAuto){if(!b.ariaRole){var c=z.getFocusableElements(a).length>0?"dialog":"alertdialog";b.ariaRole=c}b.ariaLabelledBySelector||(b.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),b.ariaDescribedBySelector||(b.ariaDescribedBySelector="article,section,p")}b.ariaRole&&a.attr("role",b.ariaRole),z.applyAriaAttribute(a,"aria-labelledby",b.ariaLabelledById,b.ariaLabelledBySelector),z.applyAriaAttribute(a,"aria-describedby",b.ariaDescribedById,b.ariaDescribedBySelector)},applyAriaAttribute:function(a,b,d,e){if(d&&a.attr(b,d),e){var f=a.attr("id"),g=a[0].querySelector(e);if(!g)return;var h=f+"-"+b;return c(g).attr("id",h),a.attr(b,h),h}},detectUIRouter:function(){try{return a.module("ui.router"),!0}catch(a){return!1}},getRouterLocationEventName:function(){return z.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},A={__PRIVATE__:z,open:function(f){function g(b,c){var c=c||{};return c.headers=c.headers||{},a.extend(c.headers,{Accept:"text/html"}),t.$broadcast("ngDialog.templateLoading",b),s.get(b,c).then(function(a){return t.$broadcast("ngDialog.templateLoaded",b),a.data||""})}var h=null;if(f=f||{},!(l&&f.name&&(h=f.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(h)))){var o=a.copy(b),B=++e;h=h||"ngdialog"+B,j.push(h),void 0!==o.data&&(void 0===f.data&&(f.data={}),f.data=a.merge(a.copy(o.data),f.data)),a.extend(o,f);var C;n[h]=C=r.defer();var D;i[h]=D=a.isObject(o.scope)?o.scope.$new():t.$new();var E,F,G,H=a.extend({},o.resolve);return a.forEach(H,function(b,c){H[c]=a.isString(b)?x.get(b):x.invoke(b,null,null,c)}),r.all({template:function(b){return b?a.isString(b)&&o.plain?b:"boolean"!=typeof o.cache||o.cache?g(b,{cache:p}):g(b,{cache:!1}):"Empty template"}(o.template||o.templateUrl),locals:r.all(H)}).then(function(b){var e=b.template,f=b.locals;o.showClose&&(e+='<div class="ngdialog-close"></div>');var g=o.overlay?"":" ngdialog-no-overlay";if(E=c('<div id="'+h+'" class="ngdialog'+g+'"></div>'),E.html(o.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+e+"</div>":'<div class="ngdialog-content" role="document">'+e+"</div>"),E.data("$ngDialogOptions",o),D.ngDialogId=h,o.data&&a.isString(o.data)){var i=o.data.replace(/^\s*/,"")[0];D.ngDialogData="{"===i||"["===i?a.fromJson(o.data):new String(o.data),D.ngDialogData.ngDialogId=h}else o.data&&a.isObject(o.data)&&(D.ngDialogData=o.data,D.ngDialogData.ngDialogId=h);if(o.className&&E.addClass(o.className),o.appendClassName&&E.addClass(o.appendClassName),o.width&&(G=E[0].querySelector(".ngdialog-content"),a.isString(o.width)?G.style.width=o.width:G.style.width=o.width+"px"),o.height&&(G=E[0].querySelector(".ngdialog-content"),a.isString(o.height)?G.style.height=o.height:G.style.height=o.height+"px"),o.disableAnimation&&E.addClass("ngdialog-disabled-animation"),F=o.appendTo&&a.isString(o.appendTo)?a.element(document.querySelector(o.appendTo)):y.body,z.applyAriaAttributes(E,o),o.preCloseCallback){var j;a.isFunction(o.preCloseCallback)?j=o.preCloseCallback:a.isString(o.preCloseCallback)&&D&&(a.isFunction(D[o.preCloseCallback])?j=D[o.preCloseCallback]:D.$parent&&a.isFunction(D.$parent[o.preCloseCallback])?j=D.$parent[o.preCloseCallback]:t&&a.isFunction(t[o.preCloseCallback])&&(j=t[o.preCloseCallback])),j&&E.data("$ngDialogPreCloseCallback",j)}if(D.closeThisDialog=function(a){z.closeDialog(E,a)},o.controller&&(a.isString(o.controller)||a.isArray(o.controller)||a.isFunction(o.controller))){var l;o.controllerAs&&a.isString(o.controllerAs)&&(l=o.controllerAs);var n=w(o.controller,a.extend(f,{$scope:D,$element:E}),!0,l);o.bindToController&&a.extend(n.instance,{ngDialogId:D.ngDialogId,ngDialogData:D.ngDialogData,closeThisDialog:D.closeThisDialog,confirm:D.confirm}),"function"==typeof n?E.data("$ngDialogControllerController",n()):E.data("$ngDialogControllerController",n)}if(u(function(){var a=document.querySelectorAll(".ngdialog");z.deactivateAll(a),q(E)(D);var b=v.innerWidth-y.body.prop("clientWidth");y.html.addClass(o.bodyClassName),y.body.addClass(o.bodyClassName);var c=b-(v.innerWidth-y.body.prop("clientWidth"));c>0&&z.setBodyPadding(c),F.append(E),z.activate(E),o.trapFocus&&z.autoFocus(E),o.name?t.$broadcast("ngDialog.opened",{dialog:E,name:o.name}):t.$broadcast("ngDialog.opened",E)}),k||(y.body.bind("keydown",z.onDocumentKeydown),k=!0),o.closeByNavigation){var p=z.getRouterLocationEventName();t.$on(p,function(a){!1===z.closeDialog(E)&&a.preventDefault()})}if(o.preserveFocus&&E.data("$ngDialogPreviousFocus",document.activeElement),d=function(a){var b=!!o.closeByDocument&&c(a.target).hasClass("ngdialog-overlay"),d=c(a.target).hasClass("ngdialog-close");(b||d)&&A.close(E.attr("id"),d?"$closeButton":"$document")},void 0!==v.Hammer){(D.hammerTime=v.Hammer(E[0])).on("tap",d)}else E.bind("click",d);return m+=1,A}),{id:h,closePromise:C.promise,close:function(a){z.closeDialog(E,a)}}}},openConfirm:function(d){var e=r.defer(),f=a.copy(b);d=d||{},void 0!==f.data&&(void 0===d.data&&(d.data={}),d.data=a.merge(a.copy(f.data),d.data)),a.extend(f,d),f.scope=a.isObject(f.scope)?f.scope.$new():t.$new(),f.scope.confirm=function(a){e.resolve(a);var b=c(document.getElementById(g.id));z.performCloseDialog(b,a)};var g=A.open(f);if(g)return g.closePromise.then(function(a){return a?e.reject(a.value):e.reject()}),e.promise},isOpen:function(a){return c(document.getElementById(a)).length>0},close:function(a,b){var d=c(document.getElementById(a));if(d.length)z.closeDialog(d,b);else if("$escape"===a){var e=j[j.length-1];d=c(document.getElementById(e)),d.data("$ngDialogOptions").closeByEscape&&z.closeDialog(d,"$escape")}else A.closeAll(b);return A},closeAll:function(a){for(var b=document.querySelectorAll(".ngdialog"),d=b.length-1;d>=0;d--){var e=b[d];z.closeDialog(c(e),a)}},getOpenDialogs:function(){return j},getDefaults:function(){return b}};return a.forEach(["html","body"],function(a){if(y[a]=o.find(a),h[a]){var b=z.getRouterLocationEventName();t.$on(b,function(){y[a]=o.find(a)})}}),A}]}),b.directive("ngDialog",["ngDialog",function(b){return{restrict:"A",scope:{ngDialogScope:"="},link:function(c,d,e){d.on("click",function(d){d.preventDefault();var f=a.isDefined(c.ngDialogScope)?c.ngDialogScope:"noScope";a.isDefined(e.ngDialogClosePrevious)&&b.close(e.ngDialogClosePrevious);var g=b.getDefaults();b.open({template:e.ngDialog,className:e.ngDialogClass||g.className,appendClassName:e.ngDialogAppendClass,controller:e.ngDialogController,controllerAs:e.ngDialogControllerAs,bindToController:e.ngDialogBindToController,disableAnimation:e.ngDialogDisableAnimation,scope:f,data:e.ngDialogData,showClose:"false"!==e.ngDialogShowClose&&("true"===e.ngDialogShowClose||g.showClose),closeByDocument:"false"!==e.ngDialogCloseByDocument&&("true"===e.ngDialogCloseByDocument||g.closeByDocument),closeByEscape:"false"!==e.ngDialogCloseByEscape&&("true"===e.ngDialogCloseByEscape||g.closeByEscape),overlay:"false"!==e.ngDialogOverlay&&("true"===e.ngDialogOverlay||g.overlay),preCloseCallback:e.ngDialogPreCloseCallback||g.preCloseCallback,bodyClassName:e.ngDialogBodyClass||g.bodyClassName})})}}}]),b});var Taxamo=function(my){if(void 0===my.$&&void 0===window.jQuery&&void 0===window.$)throw"Taxamo.js requires jQuery-compatible library to be bound to either jQuery or $ var. If you don't have jQuery included, you can choose jQuery-bundles version of Taxamo.js.";my.$=my.$||window.jQuery||window.$;var $=my.$,jQuery=my.$;return function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(a){if(null===a)return"null";var b,c,d,e,f=$.type(a);if("undefined"!==f){if("number"===f||"boolean"===f)return String(a);if("string"===f)return $.quoteString(a);if("function"==typeof a.toJSON)return $.toJSON(a.toJSON());if("date"===f){var g=a.getUTCMonth()+1,h=a.getUTCDate(),i=a.getUTCFullYear(),j=a.getUTCHours(),k=a.getUTCMinutes(),l=a.getUTCSeconds(),m=a.getUTCMilliseconds();return g<10&&(g="0"+g),h<10&&(h="0"+h),j<10&&(j="0"+j),k<10&&(k="0"+k),l<10&&(l="0"+l),m<100&&(m="0"+m),m<10&&(m="0"+m),'"'+i+"-"+g+"-"+h+"T"+j+":"+k+":"+l+"."+m+'Z"'}if(b=[],$.isArray(a)){for(c=0;c<a.length;c++)b.push($.toJSON(a[c])||"null");return"["+b.join(",")+"]"}if("object"==typeof a){for(c in a)if(hasOwn.call(a,c)){if("number"===(f=typeof c))d='"'+c+'"';else{if("string"!==f)continue;d=$.quoteString(c)}f=typeof a[c],"function"!==f&&"undefined"!==f&&(e=$.toJSON(a[c]),b.push(d+":"+e))}return"{"+b.join(",")+"}"}}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(a){return a.match(escape)?'"'+a.replace(escape,function(a){var b=meta[a];return"string"==typeof b?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+a+'"'}}(jQuery),function(a){!function(a){function b(a){if(e.raw)return a;try{return decodeURIComponent(a.replace(d," "))}catch(a){}}function c(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),a=b(a);try{return e.json?JSON.parse(a):a}catch(a){}}var d=/\+/g,e=a.cookie=function(d,f,g){if(void 0!==f){if(g=a.extend({},e.defaults,g),"number"==typeof g.expires){var h=g.expires,i=g.expires=new Date;i.setDate(i.getDate()+h)}return f=e.json?JSON.stringify(f):String(f),document.cookie=[e.raw?d:encodeURIComponent(d),"=",e.raw?f:encodeURIComponent(f),g.expires?"; expires="+g.expires.toUTCString():"",g.path?"; path="+g.path:"",g.domain?"; domain="+g.domain:"",g.secure?"; secure":""].join("")}for(var j=d?void 0:{},k=document.cookie?document.cookie.split("; "):[],l=0,m=k.length;l<m;l++){var n=k[l].split("="),o=b(n.shift()),p=n.join("=");if(d&&d===o){j=c(p);break}d||void 0===(p=c(p))||(j[o]=p)}return j};e.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)&&(a.cookie(b,"",a.extend({},c,{expires:-1})),!0)}}(jQuery)}(),my}(Taxamo||{}),Taxamo=function(a){"use strict";var b=a.$;a.options=a.options||{},a.options.src=a.options.src||"https://api.taxamo.com",a.options.checkoutSrc=a.options.checkoutSrc||"https://c.taxamo.com",a.options.vat=!0,a.defaultTransaction=a.defaultTransaction||{},a.defaultTransaction.billing_country_code=a.defaultTransaction.billing_country_code||b.cookie("taxamo.country_code"),a.getParameterByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null==c?"":decodeURIComponent(c[1].replace(/\+/g," "))};var c={};a.subscribe=function(a,d){c[a]=c[a]||b.Callbacks("memory"),c[a].add(d)},a.unsubscribe=function(a,d){c[a]=c[a]||b.Callbacks("memory"),c[a].remove(d)},a.subscribeOnce=function(d,e){c[d]=c[d]||b.Callbacks("memory");var f=function(b){a.unsubscribe(f.fn),e(b)};c[d].add(f)},a.publishEvent=function(a,d){c[a]=c[a]||b.Callbacks("memory"),c[a].fire(d)},a.defineCallback=function(a,d){if(c[a])throw"Callback for "+a+" is already defined!";c[a]=b.Callbacks(d)},a.defineCallback("taxamo.init","unique memory"),a.defineCallback("taxamo.country.selected","unique"),a.defineCallback("taxamo.country.detected","memory");var d=function(){a.publishEvent("taxamo.init",a.options.publicToken)};return a.initialize=function(c){a.options.publicToken=c,"complete"!==document.readyState?b(document).ready(d):d()},a.setBillingCountry=function(c){var d=b.cookie("taxamo.country_code");b.cookie("taxamo.country_code",c,{path:"/"}),a.defaultTransaction.billing_country_code=c,d!=c&&a.subscribe("taxamo.init",function(){a.publishEvent("taxamo.country.selected",c)})},a.setCreditCardPrefix=function(b){a.defaultTransaction.buyer_credit_card_prefix=b},a.setTaxNumber=function(b){a.defaultTransaction.buyer_tax_number=b},a.setCurrencyCode=function(b){a.options.currencyCode=b},a}(Taxamo||{}),Taxamo=function(a){return function(a,b,c,d,e,f){function g(a,b){var c=typeof a[b];return"function"==c||!("object"!=c||!a[b])||"unknown"==c}function h(a,b){return!("object"!=typeof a[b]||!a[b])}function i(a){return"[object Array]"===Object.prototype.toString.call(a)}function j(){var a="Shockwave Flash",b="application/x-shockwave-flash";if(!t(navigator.plugins)&&"object"==typeof navigator.plugins[a]){var c=navigator.plugins[a].description;c&&!t(navigator.mimeTypes)&&navigator.mimeTypes[b]&&navigator.mimeTypes[b].enabledPlugin&&(C=c.match(/\d+/g))}if(!C){var d;try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),C=Array.prototype.slice.call(d.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),d=null}catch(a){}}if(!C)return!1;var e=parseInt(C[0],10),f=parseInt(C[1],10);return D=e>9&&f>0,!0}function k(){if(!S){S=!0;for(var a=0;a<T.length;a++)T[a]();T.length=0}}function l(a,b){if(S)return void a.call(b);T.push(function(){a.call(b)})}function m(){var a=parent;if(""!==M)for(var b=0,c=M.split(".");b<c.length;b++)a=a[c[b]];return a.easyXDM}function n(b){return a.easyXDM=O,M=b,M&&(P="easyXDM_"+M.replace(".","_")+"_"),N}function o(a){return a.match(J)[3]}function p(a){return a.match(J)[4]||""}function q(a){var b=a.toLowerCase().match(J),c=b[2],d=b[3],e=b[4]||"";return("http:"==c&&":80"==e||"https:"==c&&":443"==e)&&(e=""),c+"//"+d+e}function r(a){if(a=a.replace(L,"$1/"),!a.match(/^(http||https):\/\//)){var b="/"===a.substring(0,1)?"":c.pathname;"/"!==b.substring(b.length-1)&&(b=b.substring(0,b.lastIndexOf("/")+1)),a=c.protocol+"//"+c.host+b+a}for(;K.test(a);)a=a.replace(K,"");return a}function s(a,b){var c="",d=a.indexOf("#");-1!==d&&(c=a.substring(d),a=a.substring(0,d));var e=[];for(var g in b)b.hasOwnProperty(g)&&e.push(g+"="+f(b[g]));return a+(Q?"#":-1==a.indexOf("?")?"?":"&")+e.join("&")+c}function t(a){return void 0===a}function u(a,b,c){var d;for(var e in b)b.hasOwnProperty(e)&&(e in a?(d=b[e],"object"==typeof d?u(a[e],d,c):c||(a[e]=b[e])):a[e]=b[e]);return a}function v(){var a=b.body.appendChild(b.createElement("form")),c=a.appendChild(b.createElement("input"));c.name=P+"TEST"+H,B=c!==a.elements[c.name],b.body.removeChild(a)}function w(a){t(B)&&v();var c;B?c=b.createElement('<iframe name="'+a.props.name+'"/>'):(c=b.createElement("IFRAME"),c.name=a.props.name),c.id=c.name=a.props.name,delete a.props.name,"string"==typeof a.container&&(a.container=b.getElementById(a.container)),a.container||(u(c.style,{position:"absolute",top:"-2000px",left:"0px"}),a.container=b.body);var d=a.props.src;if(a.props.src="javascript:false",u(c,a.props),c.border=c.frameBorder=0,c.allowTransparency=!0,a.container.appendChild(c),a.onLoad&&E(c,"load",a.onLoad),a.usePost){var e,f=a.container.appendChild(b.createElement("form"));if(f.target=c.name,f.action=d,f.method="POST","object"==typeof a.usePost)for(var g in a.usePost)a.usePost.hasOwnProperty(g)&&(B?e=b.createElement('<input name="'+g+'"/>'):(e=b.createElement("INPUT"),e.name=g),e.value=a.usePost[g],f.appendChild(e));f.submit(),f.parentNode.removeChild(f)}else c.src=d;return a.props.src=d,c}function x(a,b){"string"==typeof a&&(a=[a]);for(var c,d=a.length;d--;)if(c=a[d],c=new RegExp("^"==c.substr(0,1)?c:"^"+c.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),c.test(b))return!0;return!1}function y(d){var e,f=d.protocol;if(d.isHost=d.isHost||t(V.xdm_p),Q=d.hash||!1,d.props||(d.props={}),d.isHost)d.remote=r(d.remote),d.channel=d.channel||"default"+H++,d.secret=Math.random().toString(16).substring(2),t(f)&&(f=q(c.href)==q(d.remote)?"4":g(a,"postMessage")||g(b,"postMessage")?"1":d.swf&&g(a,"ActiveXObject")&&j()?"6":"Gecko"===navigator.product&&"frameElement"in a&&-1==navigator.userAgent.indexOf("WebKit")?"5":d.remoteHelper?"2":"0");else if(d.channel=V.xdm_c.replace(/["'<>\\]/g,""),d.secret=V.xdm_s,d.remote=V.xdm_e.replace(/["'<>\\]/g,""),f=V.xdm_p,d.acl&&!x(d.acl,d.remote))throw new Error("Access denied for "+d.remote);switch(d.protocol=f,f){case"0":if(u(d,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),d.isHost){if(!d.local){for(var h,i=c.protocol+"//"+c.host,k=b.body.getElementsByTagName("img"),l=k.length;l--;)if(h=k[l],h.src.substring(0,i.length)===i){d.local=h.src;break}d.local||(d.local=a)}var m={xdm_c:d.channel,xdm_p:0};d.local===a?(d.usePolling=!0,d.useParent=!0,d.local=c.protocol+"//"+c.host+c.pathname+c.search,m.xdm_e=d.local,m.xdm_pa=1):m.xdm_e=r(d.local),d.container&&(d.useResize=!1,m.xdm_po=1),d.remote=s(d.remote,m)}else u(d,{channel:V.xdm_c,remote:V.xdm_e,useParent:!t(V.xdm_pa),usePolling:!t(V.xdm_po),useResize:!d.useParent&&d.useResize});e=[new N.stack.HashTransport(d),new N.stack.ReliableBehavior({}),new N.stack.QueueBehavior({encode:!0,maxLength:4e3-d.remote.length}),new N.stack.VerifyBehavior({initiate:d.isHost})];break;case"1":e=[new N.stack.PostMessageTransport(d)];break;case"2":d.isHost&&(d.remoteHelper=r(d.remoteHelper)),e=[new N.stack.NameTransport(d),new N.stack.QueueBehavior,new N.stack.VerifyBehavior({initiate:d.isHost})];break;case"3":e=[new N.stack.NixTransport(d)];break;case"4":e=[new N.stack.SameOriginTransport(d)];break;case"5":e=[new N.stack.FrameElementTransport(d)];break;case"6":C||j(),e=[new N.stack.FlashTransport(d)]}return e.push(new N.stack.QueueBehavior({lazy:d.lazy,remove:!0})),e}function z(a){for(var b,c={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},d=0,e=a.length;d<e;d++)b=a[d],u(b,c,!0),0!==d&&(b.down=a[d-1]),d!==e-1&&(b.up=a[d+1]);return b}function A(a){a.up.down=a.down,a.down.up=a.up,a.up=a.down=null}var B,C,D,E,F,G=this,H=Math.floor(1e4*Math.random()),I=Function.prototype,J=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,K=/[\-\w]+\/\.\.\//,L=/([^:])\/\//g,M="",N={},O=a.easyXDM,P="easyXDM_",Q=!1;if(g(a,"addEventListener"))E=function(a,b,c){a.addEventListener(b,c,!1)},F=function(a,b,c){a.removeEventListener(b,c,!1)};else{if(!g(a,"attachEvent"))throw new Error("Browser not supported");E=function(a,b,c){a.attachEvent("on"+b,c)},F=function(a,b,c){a.detachEvent("on"+b,c)}}var R,S=!1,T=[];if("readyState"in b?(R=b.readyState,S="complete"==R||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==R||"interactive"==R)):S=!!b.body,!S){if(g(a,"addEventListener"))E(b,"DOMContentLoaded",k);else if(E(b,"readystatechange",function(){"complete"==b.readyState&&k()}),b.documentElement.doScroll&&a===top){var U=function(){if(!S){try{b.documentElement.doScroll("left")}catch(a){return void d(U,1)}k()}};U()}E(a,"load",k)}var V=function(a){a=a.substring(1).split("&");for(var b,c={},d=a.length;d--;)b=a[d].split("="),c[b[0]]=e(b[1]);return c}(/xdm_e=/.test(c.search)?c.search:c.hash),W=function(){var a={},b={a:[1,2,3]},c='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(b).replace(/\s/g,"")===c?JSON:(Object.toJSON&&Object.toJSON(b).replace(/\s/g,"")===c&&(a.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(b=c.evalJSON(),b.a&&3===b.a.length&&3===b.a[2]&&(a.parse=function(a){return a.evalJSON()})),a.stringify&&a.parse?(W=function(){return a},a):null)};u(N,{version:"2.4.18.25",query:V,stack:{},apply:u,getJSONObject:W,whenReady:l,noConflict:n}),N.DomHelper={on:E,un:F,requiresJSON:function(c){h(a,"JSON")||b.write('<script type="text/javascript" src="'+c+'"><\/script>')}},function(){var a={};N.Fn={set:function(b,c){a[b]=c},get:function(b,c){var d=a[b];return c&&delete a[b],d}}}(),N.Socket=function(a){var b=z(y(a).concat([{incoming:function(b,c){a.onMessage(b,c)},callback:function(b){a.onReady&&a.onReady(b)}}])),c=q(a.remote);this.origin=q(a.remote),this.destroy=function(){b.destroy()},this.postMessage=function(a){b.outgoing(a,c)},b.init()},N.Rpc=function(a,b){if(b.local)for(var c in b.local)if(b.local.hasOwnProperty(c)){var d=b.local[c];"function"==typeof d&&(b.local[c]={method:d})}var e=z(y(a).concat([new N.stack.RpcBehavior(this,b),{callback:function(b){a.onReady&&a.onReady(b)}}]));this.origin=q(a.remote),this.destroy=function(){e.destroy()},e.init()},N.stack.SameOriginTransport=function(a){var b,e,f,g;return b={outgoing:function(a,b,c){f(a),c&&c()},destroy:function(){e&&(e.parentNode.removeChild(e),e=null)},onDOMReady:function(){g=q(a.remote),a.isHost?(u(a.props,{src:s(a.remote,{xdm_e:c.protocol+"//"+c.host+c.pathname,xdm_c:a.channel,xdm_p:4}),name:P+a.channel+"_provider"}),e=w(a),N.Fn.set(a.channel,function(a){return f=a,d(function(){b.up.callback(!0)},0),function(a){b.up.incoming(a,g)}})):(f=m().Fn.get(a.channel,!0)(function(a){b.up.incoming(a,g)}),d(function(){b.up.callback(!0)},0))},init:function(){l(b.onDOMReady,b)}}},N.stack.FlashTransport=function(a){function e(a,b){d(function(){h.up.incoming(a,j)},0)}function g(c){var d=a.swf+"?host="+a.isHost,e="easyXDM_swf_"+Math.floor(1e4*Math.random());N.Fn.set("flash_loaded"+c.replace(/[\-.]/g,"_"),function(){N.stack.FlashTransport[c].swf=k=m.firstChild;for(var a=N.stack.FlashTransport[c].queue,b=0;b<a.length;b++)a[b]();a.length=0}),a.swfContainer?m="string"==typeof a.swfContainer?b.getElementById(a.swfContainer):a.swfContainer:(m=b.createElement("div"),u(m.style,D&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),b.body.appendChild(m));var g="callback=flash_loaded"+f(c.replace(/[\-.]/g,"_"))+"&proto="+G.location.protocol+"&domain="+f(o(G.location.href))+"&port="+f(p(G.location.href))+"&ns="+f(M);m.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+e+"' data='"+d+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+d+"'></param><param name='flashvars' value='"+g+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+g+"' allowScriptAccess='always' wmode='transparent' src='"+d+"' height='1' width='1'></embed></object>"}var h,i,j,k,m;return h={outgoing:function(b,c,d){k.postMessage(a.channel,b.toString()),d&&d()},destroy:function(){try{k.destroyChannel(a.channel)}catch(a){}k=null,i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){j=a.remote,N.Fn.set("flash_"+a.channel+"_init",function(){d(function(){h.up.callback(!0)})}),N.Fn.set("flash_"+a.channel+"_onMessage",e),a.swf=r(a.swf);var b=o(a.swf),f=function(){N.stack.FlashTransport[b].init=!0,k=N.stack.FlashTransport[b].swf,k.createChannel(a.channel,a.secret,q(a.remote),a.isHost),a.isHost&&(D&&a.swfNoThrottle&&u(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),u(a.props,{src:s(a.remote,{xdm_e:q(c.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:P+a.channel+"_provider"}),i=w(a))};N.stack.FlashTransport[b]&&N.stack.FlashTransport[b].init?f():N.stack.FlashTransport[b]?N.stack.FlashTransport[b].queue.push(f):(N.stack.FlashTransport[b]={queue:[f]},g(b))},init:function(){l(h.onDOMReady,h)}}},N.stack.PostMessageTransport=function(b){function e(a){if(a.origin)return q(a.origin);if(a.uri)return q(a.uri);if(a.domain)return c.protocol+"//"+a.domain;throw"Unable to retrieve the origin of the event"}function f(a){var c=e(a);c==j&&a.data.substring(0,b.channel.length+1)==b.channel+" "&&g.up.incoming(a.data.substring(b.channel.length+1),c)}var g,h,i,j;return g={outgoing:function(a,c,d){i.postMessage(b.channel+" "+a,c||j),d&&d()},destroy:function(){F(a,"message",f),h&&(i=null,h.parentNode.removeChild(h),h=null)},onDOMReady:function(){if(j=q(b.remote),b.isHost){var e=function(c){c.data==b.channel+"-ready"&&(i="postMessage"in h.contentWindow?h.contentWindow:h.contentWindow.document,F(a,"message",e),E(a,"message",f),d(function(){g.up.callback(!0)},0))};E(a,"message",e),u(b.props,{src:s(b.remote,{xdm_e:q(c.href),xdm_c:b.channel,xdm_p:1}),name:P+b.channel+"_provider"}),h=w(b)}else E(a,"message",f),i="postMessage"in a.parent?a.parent:a.parent.document,i.postMessage(b.channel+"-ready",j),d(function(){g.up.callback(!0)},0)},init:function(){l(g.onDOMReady,g)}}},N.stack.FrameElementTransport=function(e){var f,g,h,i;return f={outgoing:function(a,b,c){h.call(this,a),c&&c()},destroy:function(){g&&(g.parentNode.removeChild(g),g=null)},onDOMReady:function(){i=q(e.remote),e.isHost?(u(e.props,{src:s(e.remote,{xdm_e:q(c.href),xdm_c:e.channel,xdm_p:5}),name:P+e.channel+"_provider"}),g=w(e),g.fn=function(a){return delete g.fn,h=a,d(function(){f.up.callback(!0)},0),function(a){f.up.incoming(a,i)}}):(b.referrer&&q(b.referrer)!=V.xdm_e&&(a.top.location=V.xdm_e),h=a.frameElement.fn(function(a){f.up.incoming(a,i)}),f.up.callback(!0))},init:function(){l(f.onDOMReady,f)}}},N.stack.NameTransport=function(a){function b(b){var c=a.remoteHelper+(h?"#_3":"#_2")+a.channel;i.contentWindow.sendMessage(b,c)}function c(){h?2!=++k&&h||g.up.callback(!0):(b("ready"),g.up.callback(!0))}function e(a){g.up.incoming(a,n)}function f(){m&&d(function(){m(!0)},0)}var g,h,i,j,k,m,n,o;return g={outgoing:function(a,c,d){m=d,b(a)},destroy:function(){i.parentNode.removeChild(i),i=null,h&&(j.parentNode.removeChild(j),j=null)},onDOMReady:function(){h=a.isHost,k=0,n=q(a.remote),a.local=r(a.local),h?(N.Fn.set(a.channel,function(b){h&&"ready"===b&&(N.Fn.set(a.channel,e),c())}),o=s(a.remote,{xdm_e:a.local,xdm_c:a.channel,xdm_p:2}),u(a.props,{src:o+"#"+a.channel,name:P+a.channel+"_provider"}),j=w(a)):(a.remoteHelper=a.remote,N.Fn.set(a.channel,e));var b=function(){var e=i||this;F(e,"load",b),N.Fn.set(a.channel+"_load",f),function a(){"function"==typeof e.contentWindow.sendMessage?c():d(a,50)}()};i=w({props:{src:a.local+"#_4"+a.channel},onLoad:b})},init:function(){l(g.onDOMReady,g)}}},N.stack.HashTransport=function(b){function c(a){if(p){var c=b.remote+"#"+n+++"_"+a;(i||!r?p.contentWindow:p).location=c}}function e(a){m=a,
h.up.incoming(m.substring(m.indexOf("_")+1),s)}function f(){if(o){var a=o.location.href,b="",c=a.indexOf("#");-1!=c&&(b=a.substring(c)),b&&b!=m&&e(b)}}function g(){j=setInterval(f,k)}var h,i,j,k,m,n,o,p,r,s;return h={outgoing:function(a,b){c(a)},destroy:function(){a.clearInterval(j),!i&&r||p.parentNode.removeChild(p),p=null},onDOMReady:function(){if(i=b.isHost,k=b.interval,m="#"+b.channel,n=0,r=b.useParent,s=q(b.remote),i){if(u(b.props,{src:b.remote,name:P+b.channel+"_provider"}),r)b.onLoad=function(){o=a,g(),h.up.callback(!0)};else{var c=0,e=b.delay/50;!function a(){if(++c>e)throw new Error("Unable to reference listenerwindow");try{o=p.contentWindow.frames[P+b.channel+"_consumer"]}catch(a){}o?(g(),h.up.callback(!0)):d(a,50)}()}p=w(b)}else o=a,g(),r?(p=parent,h.up.callback(!0)):(u(b,{props:{src:b.remote+"#"+b.channel+new Date,name:P+b.channel+"_consumer"},onLoad:function(){h.up.callback(!0)}}),p=w(b))},init:function(){l(h.onDOMReady,h)}}},N.stack.ReliableBehavior=function(a){var b,c,d=0,e=0,f="";return b={incoming:function(a,g){var h=a.indexOf("_"),i=a.substring(0,h).split(",");a=a.substring(h+1),i[0]==d&&(f="",c&&c(!0)),a.length>0&&(b.down.outgoing(i[1]+","+d+"_"+f,g),e!=i[1]&&(e=i[1],b.up.incoming(a,g)))},outgoing:function(a,g,h){f=a,c=h,b.down.outgoing(e+","+ ++d+"_"+a,g)}}},N.stack.QueueBehavior=function(a){function b(){if(a.remove&&0===h.length)return void A(c);if(!i&&0!==h.length&&!g){i=!0;var e=h.shift();c.down.outgoing(e.data,e.origin,function(a){i=!1,e.callback&&d(function(){e.callback(a)},0),b()})}}var c,g,h=[],i=!0,j="",k=0,l=!1,m=!1;return c={init:function(){t(a)&&(a={}),a.maxLength&&(k=a.maxLength,m=!0),a.lazy?l=!0:c.down.init()},callback:function(a){i=!1;var d=c.up;b(),d.callback(a)},incoming:function(b,d){if(m){var f=b.indexOf("_"),g=parseInt(b.substring(0,f),10);j+=b.substring(f+1),0===g&&(a.encode&&(j=e(j)),c.up.incoming(j,d),j="")}else c.up.incoming(b,d)},outgoing:function(d,e,g){a.encode&&(d=f(d));var i,j=[];if(m){for(;0!==d.length;)i=d.substring(0,k),d=d.substring(i.length),j.push(i);for(;i=j.shift();)h.push({data:j.length+"_"+i,origin:e,callback:0===j.length?g:null})}else h.push({data:d,origin:e,callback:g});l?c.down.init():b()},destroy:function(){g=!0,c.down.destroy()}}},N.stack.VerifyBehavior=function(a){function b(){d=Math.random().toString(16).substring(2),c.down.outgoing(d)}var c,d,e;return c={incoming:function(f,g){var h=f.indexOf("_");-1===h?f===d?c.up.callback(!0):e||(e=f,a.initiate||b(),c.down.outgoing(f)):f.substring(0,h)===e&&c.up.incoming(f.substring(h+1),g)},outgoing:function(a,b,e){c.down.outgoing(d+"_"+a,b,e)},callback:function(c){a.initiate&&b()}}},N.stack.RpcBehavior=function(a,b){function c(a){a.jsonrpc="2.0",f.down.outgoing(g.stringify(a))}function d(a,b){var d=Array.prototype.slice;return function(){var e,f=arguments.length,g={method:b};f>0&&"function"==typeof arguments[f-1]?(f>1&&"function"==typeof arguments[f-2]?(e={success:arguments[f-2],error:arguments[f-1]},g.params=d.call(arguments,0,f-2)):(e={success:arguments[f-1]},g.params=d.call(arguments,0,f-1)),j[""+ ++h]=e,g.id=h):g.params=d.call(arguments,0),a.namedParams&&1===g.params.length&&(g.params=g.params[0]),c(g)}}function e(a,b,d,e){if(!d)return void(b&&c({id:b,error:{code:-32601,message:"Procedure not found."}}));var f,g;b?(f=function(a){f=I,c({id:b,result:a})},g=function(a,d){g=I;var e={id:b,error:{code:-32099,message:a}};d&&(e.error.data=d),c(e)}):f=g=I,i(e)||(e=[e]);try{var h=d.method.apply(d.scope,e.concat([f,g]));t(h)||f(h)}catch(a){g(a.message)}}var f,g=b.serializer||W(),h=0,j={};return f={incoming:function(a,d){var f=g.parse(a);if(f.method)b.handle?b.handle(f,c):e(f.method,f.id,b.local[f.method],f.params);else{var h=j[f.id];f.error?h.error&&h.error(f.error):h.success&&h.success(f.result),delete j[f.id]}},init:function(){if(b.remote)for(var c in b.remote)b.remote.hasOwnProperty(c)&&(a[c]=d(b.remote[c],c));f.down.init()},destroy:function(){for(var c in b.remote)b.remote.hasOwnProperty(c)&&a.hasOwnProperty(c)&&delete a[c];f.down.destroy()}}},G.easyXDM=N}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),a.easyXDM=a.xdm=easyXDM.noConflict("Taxamo"),a}(Taxamo||{}),Taxamo=function(a){"use strict";var b=a.$,c=null,d={},e={},f=function(){null==c&&(c=new a.xdm.Socket({remote:a.options.src+"/api/xdm.html?public_token="+a.options.publicToken,onReady:function(){a.verifyToken(function(b){a.options.newCheckoutForm=b.newCheckoutForm})},onMessage:function(a,c){var f=null,g=b.parseJSON(a);if(f=g.success?d[g.id]:e[g.id],delete d[g.id],delete e[g.id],!f)throw"No handler for msg: "+a;f(g.data)}}))},g=0;return a.send=function(a,h,i,j){var k=g+++"_"+(new Date).getTime();f(),d[k]=i,e[k]=j,c.postMessage(b.toJSON({data:a,id:k,type:h}))},a.showXdmModal=function(c,d,e){var f=document.createElement("div");b(f).hide(),document.body.insertBefore(f,document.body.firstChild);var g=new a.xdm.Socket({remote:0===c.lastIndexOf("http",0)?c:a.options.src+c,container:f,onMessage:function(a,c){var e=!1;try{e=b.parseJSON(a).keep_socket_open}catch(a){}return e||(g.destroy(),b(f).remove()),d(a,c)},onReady:function(){g.postMessage(b.toJSON(e)),b(f).attr({style:"z-index: 9999; display: block;position: fixed; top:0px; left:0px; overflow: scroll; -webkit-overflow-scrolling: touch; width: "+Math.max(document.documentElement.clientWidth,window.innerWidth||0)+"px; height: "+Math.max(document.documentElement.clientHeight,window.innerHeight||0)+"px"}),b(window).resize(function(){b(f).attr({style:"z-index: 9999; display: block;position: fixed; top:0px; left:0px; overflow: scroll; width: "+Math.max(document.documentElement.clientWidth,window.innerWidth||0)+"px; height: "+Math.max(document.documentElement.clientHeight,window.innerHeight||0)+"px"})}),b(f.firstChild).attr({frameborder:"0",allowtransparency:"true",style:"background-color: transparent; border: 0px none transparent; overflow: auto; margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; width: 100%; height: 100%; "}),b(f).show()}})},a.verifyToken=function(b){a.send({},"verifyToken",function(a){b(a)},function(a){b(!1)})},a.subscribe("taxamo.init",function(a){c=null,f()}),a}(Taxamo||{}),Taxamo=function(a){"use strict";var b=a.$,c=function(){var b=a.$,c="/checkout/index.html?";c+="country_code="+escape(b.cookie("taxamo.country_code")),c+="&public_token="+escape(a.options.publicToken),c+="#country",a.showXdmModal(c,function(c,d){var e=b.parseJSON(c);e.country_code&&a.setBillingCountry(e.country_code)},{data:a.calculatedLocation,country_code:b.cookie("taxamo.country_code")})},d=function(){if(a.options.vat){var b=a.$,d=a.calculatedLocation;if((null!=d.countries.by_ip&&d.countries.by_ip.tax_supported||""!=a.getParameterByName("taxamo_country"))&&!a.options.hideCountryOverlay){b("#taxamo-confirm-country-overlay").remove();var e=document.createElement("div");document.body.appendChild(e),b(e).addClass("taxamo"),b(e).attr({id:"taxamo-confirm-country-overlay",style:"color: #ffffff !important; position: fixed !important; bottom: 0px !important; right: 0px !important; background-color: black !important; opacity: 0.8 !important; padding: 8px !important; border-top-left-radius: 5px !important; z-index:9998 !important; font-size: 14px !important;"});var f="",g=document.createElement("a");b(g).attr("style","color: #428bca !important; text-decoration: none !important; font-weight: bold;"),b(g).attr("href","");var h=document.createElement("a");b(h).attr("href",""),b(h).attr("style","color: #428bca !important; text-decoration: none !important; font-weight: bold;"),null==d.tax_country_code||d.countries.by_billing.tax_supported?(d.countries.by_billing.tax_supported?(f+="&nbsp;<span>VAT country is set to: <b>",f+=d.countries.by_billing.name):f+="Resident of non-EU country",f+="</b></span>&nbsp;",b(g).click(function(a){try{c()}finally{return!1}}),b(g).append("Learn more."),h=null):(d.tax_supported?(f+="&nbsp;<span>Detected VAT country: <b>",f+=d.country_name,f+="</b>.</span>&nbsp;"):f+="Resident of non-EU country.",b(g).click(function(a){try{c()}finally{return!1}}),b(g).append("Learn more."),h=null),b(e).append(f),b(e).append(g),null!=h&&(b(e).append("&nbsp;or&nbsp;"),b(e).append(h))}}},e=function(){var c=b.cookie("taxamo.country_code");a.send({public_token:a.options.publicToken,billing_country_code:c},"/location/calculate",function(b){a.calculatedLocation=b,null==c&&null!=b.countries.by_ip&&null!=b.countries.by_ip.code&&(a.setBillingCountry(b.countries.by_ip.code),b.countries.by_code=b.countries.by_ip,b.tax_country_code=b.countries.by_ip.code,b.country_name=b.countries.by_ip.name,b.tax_supported=b.countries.by_ip.tax_supported),a.publishEvent("taxamo.country.detected",b),d()},function(a){throw"Taxamo country location calculate error:"+a})};return a.detectCountry=function(){a.subscribeOnce("taxamo.init",e),a.subscribe("taxamo.country.selected",function(a){e()})},a}(Taxamo||{}),Taxamo=function(a){"use strict";var b=a.$;a.options.scanPrices=a.options.scanPrices||{},a.options.scanPrices.priceTemplate=a.options.scanPrices.priceTemplate||"${totalAmount} (${taxRate}% tax)",a.options.scanPrices.noTaxTitle=a.options.scanPrices.noTaxTitle||"No tax applied in this location",a.options.scanPrices.taxTitle=a.options.scanPrices.taxTitle||"Original amount: ${amount}, tax rate: ${taxRate}%";var c=function(c,d){var e=[],f=0,g=b.cookie("taxamo.country_code"),h=b.extend(!0,{},a.options.scanPrices,d),i=b.extend(!0,{force_country_code:g,currency_code:a.options.currencyCode||"EUR",transaction_lines:[]},h.templateTransaction),j={public_token:a.options.publicToken,transaction:i};if(b(c||".taxamo-price, .price").each(function(c,d){var g=b(d).attr("taxamo-amount"),h=b(d).attr("taxamo-original-content");if(null==g){var i=a.options.priceRegexp||/(\d+(\,\d+)?(\.\d+)?)(\D+$|$)/g;i.lastIndex=0,h=b(d).html();var k=i.exec(h);null!=k&&(g=k[1])}if(null!=g){var l=b(d).attr("taxamo-amount-str")||g;g=parseFloat(g.replace(",",""),10);var m="price["+f+"]";e[m]={element:d,value:g},j.transaction.transaction_lines.push({amount:g,custom_id:m,product_type:b(d).attr("taxamo-product-type")||"default"}),f++,b(d).attr("taxamo-amount",g),b(d).attr("taxamo-amount-str",l),b(d).attr("taxamo-original-content",h)}}),j.transaction.transaction_lines.length>0)if("00"==g)for(var k=0;k<j.transaction.transaction_lines.length;k++){var l=j.transaction.transaction_lines[k],m=e[l.custom_id],n=m.element;l.amount;b(n).html(b(n).attr("taxamo-original-content")),h.noTaxTitle&&b(n).attr("title",h.noTaxTitle)}else a.send(j,"/tax",function(c){for(var d=0;d<c.transaction.transaction_lines.length;d++){var f=c.transaction.transaction_lines[d],g=e[f.custom_id],i=g.element;if(null!=f.tax_rate&&null!=f.tax_amount){var j=h.priceTemplate.replace(/\$\{totalAmount\}/g,f.total_amount.toFixed(2)).replace(/\$\{amount\}/g,f.amount.toFixed(2)).replace(/\$\{currencyCode\}/g,c.transaction.currency_code).replace(/\$\{taxAmount\}/g,f.tax_amount.toFixed(2)).replace(/\$\{taxRate\}/g,f.tax_rate);b(i).html(b(i).attr("taxamo-original-content").replace(b(i).attr("taxamo-amount-str"),j))}else b(i).html(b(i).attr("taxamo-original-content"));null!=f.tax_rate?h.taxTitle&&b(i).attr("title",h.taxTitle.replace(/\$\{totalAmount\}/g,f.total_amount.toFixed(2)).replace(/\$\{amount\}/g,f.amount.toFixed(2)).replace(/\$\{currencyCode\}/g,c.transaction.currency_code).replace(/\$\{taxAmount\}/g,f.tax_amount.toFixed(2)).replace(/\$\{taxRate\}/g,f.tax_rate)):h.noTaxTitle&&b(i).attr("title",h.noTaxTitle),a.publishEvent("taxamo.price.updated",{element:i,transaction_line:f,transaction:c.transaction})}a.publishEvent("taxamo.prices.updated",c)},function(a){throw"Error calculating tax:"+a}),a.publishEvent("taxamo.prices.updating",null)};return a.scanPrices=function(b,d){a.subscribe("taxamo.init",function(a){c(b,d)}),a.subscribe("taxamo.country.selected",function(a){c(b,d)}),c(b,d)},a}(Taxamo||{}),Taxamo=function(my){"use strict";var $=my.$,_optionNegativeValue=function(a,b){return void 0!==a&&a&&"false"!=a&&"0"!=a?"&meta["+b+"]=false":void 0!==a?"&meta["+b+"]=true":""},_optionValue=function(a,b){return void 0!==a&&a&&"false"!=a&&"0"!=a?"&meta["+b+"]=true":void 0!==a?"&meta["+b+"]=false":""},_getCurrentUrl=function(){return window.top.location.protocol+"//"+window.top.location.hostname+(window.top.location.port?":"+window.top.location.port:"")+window.top.location.pathname+window.top.location.search},_getPaypalButtonTimeUnit=function(a){if(!a)return null;switch(a){case"D":return"day";case"W":return"week";case"Y":return"year";default:return"month"}},_performCheckoutNew=function(a,b,c,d,e,f,g,h,i){var j=my.options.checkoutSrc+"/checkout/api/v1/state/initialize?";void 0!==c&&null!=c&&(j+="transaction[currency_code]="+encodeURIComponent(c)),void 0!==d&&null!=d&&(j+="&transaction[custom_id]="+encodeURIComponent(d)),void 0!==e&&null!=e&&(j+="&transaction[description]="+encodeURIComponent(e)),void 0!==$.cookie("taxamo.country_code")&&(j+="&transaction[billing_country_code]="+encodeURIComponent($.cookie("taxamo.country_code"))),void 0!==b&&null!=b&&(j+="&transaction[buyer_email]="+encodeURIComponent(b));for(var k in i.custom_fields){var l=i.custom_fields[k];j+="&transaction[custom_fields]["+k+"][key]="+encodeURIComponent(l.key),j+="&transaction[custom_fields]["+k+"][value]="+encodeURIComponent(l.value)}var m=i||{};m.email_field_hidden=m.email_field_hidden||!1,m.email_field_optional=m.email_field_optional||!1,j+=_optionNegativeValue(m.vat_number_field_hidden,"show_eu_vat_number"),j+=_optionNegativeValue(m.email_field_hidden,"show_email"),j+=_optionNegativeValue(m.email_field_optional,"require_email"),j+=_optionValue(m.buyer_name_field_visible,"show_buyer_name"),j+=_optionValue(m.buyer_name_field_required,"require_buyer_name"),m.skip_payment&&(j+=_optionValue("true","skip_payment")),void 0!==m.b2c_plan_id&&null!=m.b2c_plan_id&&(j+="&meta[plans][b2c_plan_id]="+encodeURIComponent(m.b2c_plan_id)),void 0!==m.b2b_plan_id&&null!=m.b2b_plan_id&&(j+="&meta[plans][b2b_plan_id]="+encodeURIComponent(m.b2b_plan_id)),j+="&public_token="+encodeURIComponent(my.options.publicToken),j+="&meta[allowed_payment_providers]="+encodeURIComponent(a),j+="&meta[default_payment_provider]="+encodeURIComponent(a),j+="&meta[xdm]=true",j+="&meta[finished_redirect_url]="+encodeURIComponent(_getCurrentUrl()),(void 0!==m.b2c_plan_id&&null!=m.b2c_plan_id||void 0!==m.b2b_plan_id&&null!=m.b2b_plan_id)&&(j+="&meta[subscription_mode]=true");var n=["amount","total_amount","quantity","description","custom_id","unit_price","product_type"];if(f)for(var o=0;o<f.length;o++){var p=f[o];p.custom_id||(p.custom_id="custom_"+o);for(var q in n)q=n[q],void 0!==p[q]&&p[q]&&(j+="&transaction[transaction_lines]["+o+"]["+q+"]="+encodeURIComponent(p[q]))}if("paypal_button"===a){var r=["return","cancel_return","target","business","cmd"];for(var q in r){q=r[q];var s=h.form[q]||m.formAttributes[q]||h[q];void 0!==s&&(j+="&meta[paypal][button]["+q+"]="+encodeURIComponent(s))}"_xclick-subscriptions"!==h.form.cmd&&"_xclick-auto-billing"!==h.form.cmd&&"_xclick-payment-plan"!==h.form.cmd||(j+="&meta[subscription_mode]=true",j+="&meta[plans][b2c_plan][description]="+encodeURIComponent(h.form.item_name),j+="&meta[plans][b2c_plan][amount]="+encodeURIComponent(h.form.a3),j+="&meta[plans][b2c_plan][currency_code]="+encodeURIComponent(h.form.currency_code),h.form.p3&&(j+="&meta[plans][b2c_plan][interval_count]="+encodeURIComponent(h.form.p3)),h.form.t3&&(j+="&meta[plans][b2c_plan][interval_type]="+encodeURIComponent(_getPaypalButtonTimeUnit(h.form.t3))),h.form.a1&&(j+="&meta[plans][b2c_plan][trial_amount]="+encodeURIComponent(h.form.a1),h.form.p1&&(j+="&meta[plans][b2c_plan][trial_count]="+encodeURIComponent(h.form.p1)),h.form.t1&&(j+="&meta[plans][b2c_plan][trial_type]="+encodeURIComponent(_getPaypalButtonTimeUnit(h.form.t1)))),h.form.a2&&(j+="&meta[plans][b2c_plan][second_trial_amount]="+encodeURIComponent(h.form.a2),h.form.p2&&(j+="&meta[plans][b2c_plan][second_trial_count]="+encodeURIComponent(h.form.p2)),h.form.t2&&(j+="&meta[plans][b2c_plan][second_trial_type]="+encodeURIComponent(_getPaypalButtonTimeUnit(h.form.t2)))))}my.showXdmModal(j,function(a,b){var c=$.parseJSON(a),d=c.message_type;d&&"window_closed"!=d?(my.publishEvent("taxamo.checkout.callback."+d,c),i.callback_handler&&i.callback_handler(c)):(my.publishEvent("taxamo.checkout.complete",c),null!=g&&g(c))},{}),my.publishEvent("taxamo.checkout.launched",{transaction_lines:f,provider_data:h,src:j,options:m})};my.Product=function(a,b,c){this.transaction=$.extend({},b),this.meta=$.extend({},c),this.overlay=function(b){var c=my.options.checkoutSrc+"/p/"+encodeURIComponent(a)+"?",d=$.extend({},this.meta);d.xdm=!0,c+=$.param({transaction:this.transaction,meta:d,token:my.options.publicToken}),my.showXdmModal(c,function(a,c){var d=$.parseJSON(a),e=d.message_type;e&&"window_closed"!=e?my.publishEvent("taxamo.checkout.callback."+e,d):my.publishEvent("taxamo.checkout.complete",d),b&&b(d)},{}),my.publishEvent("taxamo.newCheckout.overlay.launched",{transaction:this.transaction,meta:this.meta,product_id:a,public_token:my.options.publicToken})},this.redirect=function(b){var c=my.options.checkoutSrc+"/p/"+encodeURIComponent(a)+"?",d=$.extend({},this.meta);d.finished_redirect_url=b,c+=$.param({transaction:this.transaction,meta:d,token:my.options.publicToken}),window.top.location.href=c,my.publishEvent("taxamo.newCheckout.redirect.launched",{transaction:this.transaction,meta:this.meta,product_id:a,public_token:my.options.publicToken})}},my.Checkout=function(a,b){this.transaction=$.extend({},a),this.meta=$.extend({},b),this.overlay=function(a){var b=my.options.checkoutSrc+"/checkout/api/v1/state/initialize?",c=$.extend({},this.meta);c.xdm=!0,c.finished_redirect_url=c.finished_redirect_url||_getCurrentUrl(),b+=$.param({transaction:this.transaction,meta:c,public_token:my.options.publicToken}),my.showXdmModal(b,function(b,c){var d=$.parseJSON(b),e=d.message_type;e&&"window_closed"!=e?my.publishEvent("taxamo.checkout.callback."+e,d):my.publishEvent("taxamo.checkout.complete",d),a&&a(d)},{}),my.publishEvent("taxamo.newCheckout.overlay.launched",{transaction:this.transaction,meta:this.meta,public_token:my.options.publicToken})},this.redirect=function(){var a=my.options.checkoutSrc+"/checkout/api/v1/state/initialize?",b=$.extend({},this.meta);b.finished_redirect_url=b.finished_redirect_url||_getCurrentUrl(),a+=$.param({transaction:this.transaction,meta:b,public_token:my.options.publicToken}),window.top.location.href=a,my.publishEvent("taxamo.newCheckout.redirect.launched",{transaction:this.transaction,meta:this.meta,public_token:my.options.publicToken})}};var _configureProductOnClicks=function(){$("[taxamo-product]").each(function(a,b){$(b).attr("taxamo-button-attached")||($(b).click(function(a){var c=function(a){$(b).attr("taxamo-callback")&&_executeCodeFromAttribute($(b).attr("taxamo-callback"),a)},d={},e={};$(b).attr("taxamo-checkout-meta")&&(d=_executeCodeFromAttribute($(b).attr("taxamo-checkout-meta"),b)),$(b).attr("taxamo-checkout-transaction")&&(e=_executeCodeFromAttribute($(b).attr("taxamo-checkout-transaction"),b));var f=new my.Product($(b).attr("taxamo-product"),e,d);"overlay"==$(b).attr("taxamo-product-view")?f.overlay(c):f.redirect($(b).attr("taxamo-return-url")),a.preventDefault()}),$(b).attr("taxamo-button-attached","true"),my.publishEvent("taxamo.button.attached",b))})},_configureCheckoutOnClicks=function(){$("[taxamo-checkout]").each(function(a,b){$(b).attr("taxamo-button-attached")||($(b).click(function(a){var c=function(a){$(b).attr("taxamo-callback")&&_executeCodeFromAttribute($(b).attr("taxamo-callback"),a)},d={},e={};$(b).attr("taxamo-checkout-meta")&&(d=_executeCodeFromAttribute($(b).attr("taxamo-checkout-meta"),b)),$(b).attr("taxamo-checkout-transaction")&&(e=_executeCodeFromAttribute($(b).attr("taxamo-checkout-transaction"),b));var f=new my.Checkout(e,d);"overlay"==$(b).attr("taxamo-product-view")?f.overlay(c):f.redirect(),a.preventDefault()}),$(b).attr("taxamo-button-attached","true"),my.publishEvent("taxamo.button.attached",b))})},_performCheckout=function(a,b,c,d,e,f,g,h,i){if(my.options.newCheckoutForm)return _performCheckoutNew(a,b,c,d,e,f,g,h,i);var j="/checkout/index.html?";j+="currency_code="+encodeURIComponent(c),void 0!==d&&null!=d&&(j+="&custom_id="+encodeURIComponent(d)),void 0!==e&&null!=e&&(j+="&description="+encodeURIComponent(e)),void 0!==$.cookie("taxamo.country_code")&&(j+="&billing_country_code="+encodeURIComponent($.cookie("taxamo.country_code"))),void 0!==b&&null!=b&&(j+="&buyer_email="+encodeURIComponent(b));var k=i||{};void 0!==k.email_field_hidden&&k.email_field_hidden&&"false"!=k.email_field_hidden&&"0"!=k.email_field_hidden&&(j+="&email_field_hidden="+encodeURIComponent(k.email_field_hidden)),void 0!==k.email_field_optional&&k.email_field_optional&&"false"!=k.email_field_optional&&"0"!=k.email_field_optional&&(j+="&email_field_optional="+encodeURIComponent(k.email_field_optional)),void 0!==k.vat_number_field_hidden&&k.vat_number_field_hidden&&"false"!=k.vat_number_field_hidden&&"0"!=k.vat_number_field_hidden&&(j+="&vat_number_field_hidden="+encodeURIComponent(k.vat_number_field_hidden)),void 0!==k.buyer_name_field_visible&&k.buyer_name_field_visible&&"false"!=k.buyer_name_field_visible&&"0"!=k.buyer_name_field_visible&&(j+="&buyer_name_field_visible="+encodeURIComponent(k.buyer_name_field_visible)),void 0!==k.buyer_name_field_required&&k.buyer_name_field_required&&"false"!=k.buyer_name_field_required&&"0"!=k.buyer_name_field_required&&(j+="&buyer_name_field_required="+encodeURIComponent(k.buyer_name_field_required)),void 0!==k.b2c_plan_id&&null!=k.b2c_plan_id&&(j+="&b2c_plan_id="+encodeURIComponent(k.b2c_plan_id)),void 0!==k.b2b_plan_id&&null!=k.b2b_plan_id&&(j+="&b2b_plan_id="+encodeURIComponent(k.b2b_plan_id)),j+="&public_token="+encodeURIComponent(my.options.publicToken),j+="#"+a,(void 0!==k.b2c_plan_id&&null!=k.b2c_plan_id||void 0!==k.b2b_plan_id&&null!=k.b2b_plan_id)&&(j+="_subscription"),my.showXdmModal(j,function(a,b){var c=$.parseJSON(a),d=c.message_type;d&&"window_closed"!=d?(my.publishEvent("taxamo.checkout.callback."+d,c),i.callback_handler&&i.callback_handler(c)):(my.publishEvent("taxamo.checkout.complete",c),null!=g&&g(c))},{transaction_lines:f,provider_data:h,options:k}),my.publishEvent("taxamo.checkout.launched",{transaction_lines:f,provider_data:h,options:k})},_configureOnClicks=function(){$("[taxamo-button]").each(function(a,b){$(b).attr("taxamo-button-attached")||($(b).click(function(a){var c=function(a){a.success?($(b).attr("taxamo-callback-alert-tmpl")?alert(my.Mustache.render($(b).attr("taxamo-callback-alert-tmpl"),a)):$(b).attr("taxamo-callback-alert")&&alert($(b).attr("taxamo-callback-alert")),$(b).attr("taxamo-callback-url-tmpl")?window.location.href=my.Mustache.render($(b).attr("taxamo-callback-url-tmpl"),a):$(b).attr("taxamo-callback-url")&&(window.location.href=$(b).attr("taxamo-callback-url")),$(b).attr("taxamo-success-callback")&&_executeFnFromAttribute($(b).attr("taxamo-success-callback"),a)):$(b).attr("taxamo-error-callback")&&_executeFnFromAttribute($(b).attr("taxamo-error-callback"),a),$(b).attr("taxamo-callback")&&_executeFnFromAttribute($(b).attr("taxamo-callback"),a)},d={};d.email_field_hidden="true"===$(b).attr("taxamo-email-field-hidden"),d.email_field_optional="true"===$(b).attr("taxamo-email-field-optional"),d.vat_number_field_hidden="true"===$(b).attr("taxamo-vat-number-field-hidden"),d.skip_payment="true"===$(b).attr("taxamo-skip-payment"),_performCheckout($(b).attr("taxamo-provider")||my.options.provider,null,$(b).attr("taxamo-currency"),$(b).attr("taxamo-custom-id")||"",$(b).attr("taxamo-item-description")||"",[{amount:$(b).attr("taxamo-price")||0,product_type:$(b).attr("taxamo-product-type")||"default",description:$(b).attr("taxamo-item-description")||""}],c,null,d),a.preventDefault()}),$(b).attr("taxamo-button-attached","true"),my.publishEvent("taxamo.button.attached",b))})},_executeFnFromAttribute=function(functionName,result){var data=result;eval(functionName)},_executeCodeFromAttribute=function(codeOrFunctionName,result){var data=result;return"function"==typeof window[codeOrFunctionName]?window[codeOrFunctionName](data):eval("var x = "+codeOrFunctionName+"; x")};return my._performSimpleCheckout=function(a,b,c,d,e,f,g,h,i){_performCheckout(a,null,b,c,f,[{amount:d,product_type:e,description:f,custom_id:"1"}],g,h,i)},my.detectButtons=function(){_configureOnClicks(),_configureProductOnClicks(),_configureCheckoutOnClicks(),my.publishEvent("taxamo.buttons.attached",null)},my.doCheckout=function(a,b,c,d){var e=null!=a.getInput?a.getInput():a;d.transaction=e,_performCheckout(b,e.buyer_email,e.currency_code,e.custom_id,e.description,e.transaction_lines,c,null,d)},my.doSubscriptionCheckout=function(a,b,c,d,e){var f=e||{};f.b2c_plan_id=a,f.b2b_plan_id=b,_performCheckout(c,f.buyer_email,null,f.custom_id,f.description,null,d,null,f)},my}(Taxamo||{}),Taxamo=function(a){"use strict";var b=a.$,c=function(c,d,e,f,g,h,i){var j={};for(var k in i)k=i[k],j[k.name]=k.value;j.currency_code=c,j.business=d,j.amount=e,f=f||"default",j.item_name=g;var l=function(a){if(a.provider_data&&a.provider_data.form){var c=document.createElement("form");document.body.appendChild(c),b(c).attr({action:a.provider_data.test_mode?"https://www.sandbox.paypal.com/cgi-bin/webscr":"https://www.paypal.com/cgi-bin/webscr",method:"POST"}),h.formAttributes&&b(c).attr(h.formAttributes),b(c).hide();for(var d=0;d<a.provider_data.form.length;d++){var e=a.provider_data.form[d],f=document.createElement("input");b(f).prop("type","hidden"),b(f).prop("name",e.name),b(f).val(e.value),c.appendChild(f)}b(c).submit()}};a._performSimpleCheckout("paypal_button",c,d,e,f,g,l,{form:j,return:window.location.href,return_cancel:window.location.href,target:h.formAttributes.target},{email_field_optional:!0,formAttributes:h.formAttributes,email_field_hidden:!0})};a.launchPayPalButtonCheckout=function(d,e,f,g,h,i,j){if(a.options.newCheckoutForm)return c(d,e,f,g,h,i,j);var k=j||{};k.currency_code=d,k.business=e,k.amount=f,g=g||"default",k.item_name=h;var l=function(a){if(a.provider_data&&a.provider_data.form){var c=document.createElement("form");document.body.appendChild(c),b(c).attr({action:a.provider_data.test_mode?"https://www.sandbox.paypal.com/cgi-bin/webscr":"https://www.paypal.com/cgi-bin/webscr",method:"POST"}),i.formAttributes&&b(c).attr(i.formAttributes),b(c).hide();for(var d=0;d<a.provider_data.form.length;d++){var e=a.provider_data.form[d],f=document.createElement("input");b(f).prop("type","hidden"),b(f).prop("name",e.name),b(f).val(e.value),c.appendChild(f)}b(c).submit()}};a._performSimpleCheckout("paypal_button",d,e,f,g,h,l,{form:k,return:window.location.href,cancel_return:window.location.href},{email_field_optional:!0,email_field_hidden:!0})};var d=function(){b("form[action='https://www.paypal.com/cgi-bin/webscr'], form[action='https://www.sandbox.paypal.com/cgi-bin/webscr']").each(function(c,d){b(d).attr("taxamo-paypal-attached")||(b(d).submit(function(c){var e={formAttributes:{}};b.each(d.attributes,function(a,b){e.formAttributes[b.name]=b.value}),a.launchPayPalButtonCheckout(b("[name='currency_code']",d).val(),b("[name='business']",d).val(),b("[name='amount']",d).val(),b("[name='taxamo_product_type']",d).val()||"default",b("[name='item_name']",d).val(),e,b(d).serializeArray()),c.preventDefault()}),b(d).attr("taxamo-paypal-attached","true"),a.publishEvent("taxamo.paypal.form-enhanced",d))}),a.publishEvent("taxamo.paypal.forms_enhanced",null)};return a.enhancePayPalForms=function(){a.subscribe("taxamo.init",d),d()},a}(Taxamo||{}),Taxamo=function(a){"use strict";var b=a.$;a.transactionLine=function(a,b,c){var d={custom_id:a,amount:b},e={transaction:c};return e.getInput=function(){return d},e.getTransaction=function(){return e.transaction},e.done=function(){return e.transaction},e.transactionLine=function(a,b){return e.transaction.transactionLine(a,b)},e.description=function(a){return d.description=a,e},e.productCode=function(a){return d.product_code=a,e},e.productType=function(a){return d.product_type=a,e},e.amount=function(a){return d.total_amount=null,d.amount=a,e},e.totalAmount=function(a){return d.amount=null,d.total_amount=a,e},e.quantity=function(a){return d.quantity=a,e},e.unitPrice=function(a){return d.unit_price=a,e},e.unitOfMeasure=function(a){return d.unit_of_measure=a,e},e.supplyDate=function(a){return d.supply_date=a,e},e.informative=function(a){return d.informative=a,e},e.taxRate=function(a){return d.tax_rate=a,e},e.setField=function(a,b){return d[a]=b,e},e},a.transaction=function(){var b={transaction_lines:[]},c={};return c.getInput=function(){return b},c.customId=function(a){return b.custom_id=a,c},c.description=function(a){return b.description=a,c},c.currencyCode=function(a){return b.currency_code=a,c},c.buyerCountryCode=function(a){return b.billing_country_code=a,c},c.forceCountryCode=function(a){return b.force_country_code=a,c},c.buyerCardNumberPrefix=function(a){return b.buyer_credit_card_prefix=a,c},c.buyerTaxNumber=function(a){return b.buyer_tax_number=a,c},c.buyerEmail=function(a){return b.buyer_email=a,c},c.buyerName=function(a){return b.buyer_name=a,c},c.transactionLine=function(d,e){var f=a.transactionLine(d,e,c);return b.transaction_lines.push(f.getInput()),f},c.setField=function(a,d){return b[a]=d,c},c};var c=function(c,d,e,f){var g=c.getInput?c.getInput():c,h=b.extend({},a.defaultTransaction,g),i=((new Date).getTime(),{public_token:a.options.publicToken,transaction:h});a.send(i,d,e,function(a){var a=a.responseJSON;null!=f&&f(a)})};return a.calculateTax=function(a,b,d){c(a,"calculateTax",b,d)},a.storeTransaction=function(a,b,d){c(a,"storeTransaction",b,d)},a.retrieveDictionary=function(b,c,d){var e={public_token:a.options.publicToken,dictionaryType:b};a.send(e,"/dictionary",c,function(a){var a=a.responseJSON;null!=d&&d(a)})},a}(Taxamo||{}),Taxamo=Taxamo||{},Taxamo=Taxamo||{};!function(a,b){"function"==typeof define&&define.amd?define(["lodash"],function(c){return b(c,a)}):"object"==typeof module&&module.exports?module.exports=b(require("lodash")):a.machina=b(a._,a)}(this,function(a,b,c){function d(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},namespace:p.makeFsmNamespace(),useSafeEmit:!1,hierarchy:{},pendingDelegations:{}}}function e(){return{inputQueue:[],targetReplayState:"",state:c,priorState:c,priorAction:"",currentAction:"",currentActionArgs:c,inExitHandler:!1}}function f(a,b){for(var c=[],d=b||0;d<a.length;d++)c[d]=a[d];return c}function g(a){if(a){var b={};return"object"==typeof a?a.factory?b=a:b.factory=function(){return a}:"function"==typeof a&&(b.factory=a),b.instance=b.factory(),b}}function h(a,b){return b.on("*",function(b,c){switch(b){case"nohandler":c.ticket||c.delegated||c.namespace===a.namespace||(c.args[1].bubbling=!0),"_reset"!==c.inputType&&a.handle.apply(a,c.args);break;case"handling":var d=c.ticket;d&&a.pendingDelegations[d]&&delete a.pendingDelegations[d],a.emit(b,c);break;default:a.emit(b,c)}})}function i(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);return a[14]="4",a[19]=b.substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-",a.join("")}function j(b){a.extend(this,b),a.defaults(this,d()),this.initialize.apply(this,arguments),t.emit(m,this)}var k=[].slice,l="transition",m="newfsm",n=["states","initialState"],o=function(b,c){var d,e=this,f={},g=function(){};return d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){var b=k.call(arguments,0);b[0]=b[0]||{};var c,d=b[0].states||{};c=a.merge(a.cloneDeep(f),{states:d}),c.initialState=b[0].initialState||this.initialState,a.extend(b[0],c),e.apply(this,b)},a.merge(d,e),g.prototype=e.prototype,d.prototype=new g,b&&(a.extend(d.prototype,b),a.merge(f,a.transform(b,function(a,b,c){-1!==n.indexOf(c)&&(a[c]=b)}))),c&&a.merge(d,c),d.prototype.constructor=d,d.__super__=e.prototype,d},p={makeFsmNamespace:function(){var a=0;return function(){return"fsm."+a++}}(),listenToChild:h,getLeaklessArgs:f,getDefaultOptions:d,
getDefaultClientMeta:e,createUUID:i},q={emit:function(b){var c=f(arguments);this.eventListeners["*"]&&a.each(this.eventListeners["*"],function(a){if(this.useSafeEmit)try{a.apply(this,c)}catch(a){console&&void 0!==console.log&&console.log(a.stack)}else a.apply(this,c)},this),this.eventListeners[b]&&a.each(this.eventListeners[b],function(a){if(this.useSafeEmit)try{a.apply(this,c.slice(1))}catch(a){console&&void 0!==console.log&&console.log(a.stack)}else a.apply(this,c.slice(1))},this)},on:function(a,b){var c=this;return c.eventListeners=c.eventListeners||{"*":[]},c.eventListeners[a]||(c.eventListeners[a]=[]),c.eventListeners[a].push(b),{eventName:a,callback:b,off:function(){c.off(a,b)}}},off:function(b,c){this.eventListeners=this.eventListeners||{"*":[]},b?this.eventListeners[b]=c?a.without(this.eventListeners[b],c):[]:this.eventListeners={}}},r="__machina__";a.extend(j.prototype,{initialize:function(){},initClient:function(a){var b=this.initialState;if(!b)throw new Error("You must specify an initial state for this FSM");if(!this.states[b])throw new Error("The initial state specified does not exist in the states object.");this.transition(a,b)},ensureClientMeta:function(b){if("object"!=typeof b)throw new Error("An FSM client must be an object.");return b[r]=b[r]||{},b[r][this.namespace]||(b[r][this.namespace]=a.cloneDeep(p.getDefaultClientMeta()),this.initClient(b)),b[r][this.namespace]},buildEventPayload:function(b,c){return a.isPlainObject(c)?a.extend(c,{client:b,namespace:this.namespace}):{client:b,data:c||null,namespace:this.namespace}},getHandlerArgs:function(a,b){var c=a.slice(0),d=c[1];return"object"==typeof d&&c.splice(1,1,d.inputType),b?c:[c[0]].concat(c.slice(2))},handle:function(b,d){var e=d;if(void 0===d)throw new Error("The input argument passed to the FSM's handle method is undefined. Did you forget to pass the input name?");"string"==typeof d&&(e={inputType:d,delegated:!1,ticket:c});var g=this.ensureClientMeta(b),h=f(arguments);"object"!=typeof d&&h.splice(1,1,e),g.currentActionArgs=h.slice(1);var i,j,k,l,m,n=g.state,o=this.states[n],q=!1;if(!g.inExitHandler)if(!(k=o._child&&o._child.instance)||this.pendingDelegations[e.ticket]||e.bubbling){e.ticket&&this.pendingDelegations[e.ticket]&&delete this.pendingDelegations[e.ticket],i=o[e.inputType]?e.inputType:"*",q="*"===i,j=o[i]||this[i]||this["*"],m=g.state+"."+i,g.currentAction=m;var r=this.buildEventPayload(b,{inputType:e.inputType,delegated:e.delegated,ticket:e.ticket});j?(this.emit("handling",r),"function"==typeof j?l=j.apply(this,this.getHandlerArgs(h,q)):(l=j,this.transition(b,j)),this.emit("handled",r)):this.emit("nohandler",a.extend({args:h},r)),g.priorAction=g.currentAction,g.currentAction=""}else e.ticket=e.ticket||p.createUUID(),e.delegated=!0,this.pendingDelegations[e.ticket]={delegatedTo:k.namespace},l=k.handle.apply(k,h);return l},transition:function(a,b){var c,d=this.ensureClientMeta(a),e=d.state,f=this.states[e],h=this.states[b];if(!d.inExitHandler&&b!==e){if(h){h._child&&(h._child=g(h._child),c=h._child&&h._child.instance),f&&f._onExit&&(d.inExitHandler=!0,f._onExit.call(this,a),d.inExitHandler=!1),f&&f._child&&f._child.instance&&this.hierarchy[f._child.instance.namespace]&&this.hierarchy[f._child.instance.namespace].off(),d.targetReplayState=b,d.priorState=e,d.state=b,c&&(this.hierarchy[c.namespace]=p.listenToChild(this,c));var i=this.buildEventPayload(a,{fromState:d.priorState,action:d.currentAction,toState:b});return this.emit("transition",i),h._onEnter&&h._onEnter.call(this,a),c&&c.handle(a,"_reset"),void(d.targetReplayState===b&&this.processQueue(a,l))}this.emit("invalidstate",this.buildEventPayload(a,{state:d.state,attemptedState:b}))}},deferUntilTransition:function(a,b){var c=this.ensureClientMeta(a);if(c.currentActionArgs){var d={type:l,untilState:b,args:c.currentActionArgs};c.inputQueue.push(d);var e=this.buildEventPayload(a,{state:c.state,queuedArgs:d});this.emit("deferred",e)}},deferAndTransition:function(a,b){this.deferUntilTransition(a,b),this.transition(a,b)},processQueue:function(b){var c=this.ensureClientMeta(b),d=function(a){return!a.untilState||a.untilState===c.state},e=a.filter(c.inputQueue,d);c.inputQueue=a.difference(c.inputQueue,e),a.each(e,function(a){this.handle.apply(this,[b].concat(a.args))},this)},clearQueue:function(b,c){var d=this.ensureClientMeta(b);if(c){var e=function(a){return!c||a.untilState!==c};d.inputQueue=a.filter(d.inputQueue,e)}else d.inputQueue=[]},compositeState:function(a){var b=this.ensureClientMeta(a),c=b.state,d=this.states[c]._child&&this.states[c]._child.instance;return d&&(c+="."+d.compositeState(a)),c}},q),j.extend=o;var s={constructor:function(){j.apply(this,arguments),this.ensureClientMeta()},initClient:function(){var a=this.initialState;if(!a)throw new Error("You must specify an initial state for this FSM");if(!this.states[a])throw new Error("The initial state specified does not exist in the states object.");this.transition(a)},ensureClientMeta:function(){return this._stamped||(this._stamped=!0,a.defaults(this,a.cloneDeep(e())),this.initClient()),this},ensureClientArg:function(a){var b=a;return"object"!=typeof b[0]||"inputType"in b[0]||b[0]===this?("object"!=typeof b[0]||"object"==typeof b[0]&&"inputType"in b[0])&&b.unshift(this):b.splice(0,1,this),b},getHandlerArgs:function(a,b){var c=a,d=c[1];return"object"==typeof inputType&&c.splice(1,1,d.inputType),c.slice(b?1:2)},buildEventPayload:function(){var b=this.ensureClientArg(p.getLeaklessArgs(arguments)),c=b[1];return a.isPlainObject(c)?a.extend(c,{namespace:this.namespace}):{data:c||null,namespace:this.namespace}}};a.each(["handle","transition","deferUntilTransition","processQueue","clearQueue"],function(a){s[a]=function(){var b=this.ensureClientArg(p.getLeaklessArgs(arguments));return j.prototype[a].apply(this,b)}}),s=j.extend(s);var t=a.merge(q,{Fsm:s,BehavioralFsm:j,utils:p,eventListeners:{newFsm:[]}});return t}),function(){function a(){}function b(a){return a}function c(a){return!!a}function d(a){return!a}function e(a){return function(){if(null===a)throw new Error("Callback was already called.");a.apply(this,arguments),a=null}}function f(a){return function(){null!==a&&(a.apply(this,arguments),a=null)}}function g(a){return K(a)||"number"==typeof a.length&&a.length>=0&&a.length%1==0}function h(a,b){for(var c=-1,d=a.length;++c<d;)b(a[c],c,a)}function i(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function j(a){return i(Array(a),function(a,b){return b})}function k(a,b,c){return h(a,function(a,d,e){c=b(c,a,d,e)}),c}function l(a,b){h(M(a),function(c){b(a[c],c)})}function m(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function n(a){var b,c,d=-1;return g(a)?(b=a.length,function(){return d++,d<b?d:null}):(c=M(a),b=c.length,function(){return d++,d<b?c[d]:null})}function o(a,b){return b=null==b?a.length-1:+b,function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;e<c;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d)}}}function p(a){return function(b,c,d){return a(b,d)}}function q(b){return function(c,d,g){g=f(g||a),c=c||[];var h=n(c);if(b<=0)return g(null);var i=!1,j=0,k=!1;!function a(){if(i&&j<=0)return g(null);for(;j<b&&!k;){var f=h();if(null===f)return i=!0,void(j<=0&&g(null));j+=1,d(c[f],f,e(function(b){j-=1,b?(g(b),k=!0):a()}))}}()}}function r(a){return function(b,c,d){return a(H.eachOf,b,c,d)}}function s(a){return function(b,c,d,e){return a(q(c),b,d,e)}}function t(a){return function(b,c,d){return a(H.eachOfSeries,b,c,d)}}function u(b,c,d,e){e=f(e||a),c=c||[];var h=g(c)?[]:{};b(c,function(a,b,c){d(a,function(a,d){h[b]=d,c(a)})},function(a){e(a,h)})}function v(a,b,c,d){var e=[];a(b,function(a,b,d){c(a,function(c){c&&e.push({index:b,value:a}),d()})},function(){d(i(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})}function w(a,b,c,d){v(a,b,function(a,b){c(a,function(a){b(!a)})},d)}function x(a,b,c){return function(d,e,f,g){function h(){g&&g(c(!1,void 0))}function i(a,d,e){if(!g)return e();f(a,function(d){g&&b(d)&&(g(c(!0,a)),g=f=!1),e()})}arguments.length>3?a(d,e,i,h):(g=f,f=e,a(d,i,h))}}function y(a,b){return b}function z(b,c,d){d=d||a;var e=g(c)?[]:{};b(c,function(a,b,c){a(o(function(a,d){d.length<=1&&(d=d[0]),e[b]=d,c(a)}))},function(a){d(a,e)})}function A(a,b,c,d){var e=[];a(b,function(a,b,d){c(a,function(a,b){e=e.concat(b||[]),d(a)})},function(a){d(a,e)})}function B(b,c,d){function f(b,c,d,e){if(null!=e&&"function"!=typeof e)throw new Error("task callback must be a function");if(b.started=!0,K(c)||(c=[c]),0===c.length&&b.idle())return H.setImmediate(function(){b.drain()});h(c,function(c){var f={data:c,callback:e||a};d?b.tasks.unshift(f):b.tasks.push(f),b.tasks.length===b.concurrency&&b.saturated()}),H.setImmediate(b.process)}function g(a,b){return function(){j-=1;var c=!1,d=arguments;h(b,function(a){h(k,function(b,d){b!==a||c||(k.splice(d,1),c=!0)}),a.callback.apply(a,d)}),a.tasks.length+j===0&&a.drain(),a.process()}}if(null==c)c=1;else if(0===c)throw new Error("Concurrency must not be zero");var j=0,k=[],l={tasks:[],concurrency:c,payload:d,saturated:a,empty:a,drain:a,started:!1,paused:!1,push:function(a,b){f(l,a,!1,b)},kill:function(){l.drain=a,l.tasks=[]},unshift:function(a,b){f(l,a,!0,b)},process:function(){for(;!l.paused&&j<l.concurrency&&l.tasks.length;){var a=l.payload?l.tasks.splice(0,l.payload):l.tasks.splice(0,l.tasks.length),c=i(a,function(a){return a.data});0===l.tasks.length&&l.empty(),j+=1,k.push(a[0]);var d=e(g(l,a));b(c,d)}},length:function(){return l.tasks.length},running:function(){return j},workersList:function(){return k},idle:function(){return l.tasks.length+j===0},pause:function(){l.paused=!0},resume:function(){if(!1!==l.paused){l.paused=!1;for(var a=Math.min(l.concurrency,l.tasks.length),b=1;b<=a;b++)H.setImmediate(l.process)}}};return l}function C(a){return o(function(b,c){b.apply(null,c.concat([o(function(b,c){"object"==typeof console&&(b?console.error&&console.error(b):console[a]&&h(c,function(b){console[a](b)}))})]))})}function D(a){return function(b,c,d){a(j(b),c,d)}}function E(a){return o(function(b,c){var d=o(function(c){var d=this,e=c.pop();return a(b,function(a,b,e){a.apply(d,c.concat([e]))},e)});return c.length?d.apply(this,c):d})}function F(a){return o(function(b){var c=b.pop();b.push(function(){var a=arguments;d?H.setImmediate(function(){c.apply(null,a)}):c.apply(null,a)});var d=!0;a.apply(this,b),d=!1})}var G,H={},I="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=I&&(G=I.async),H.noConflict=function(){return I.async=G,H};var J=Object.prototype.toString,K=Array.isArray||function(a){return"[object Array]"===J.call(a)},L=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},M=Object.keys||function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},N="function"==typeof setImmediate&&setImmediate,O=N?function(a){N(a)}:function(a){setTimeout(a,0)};"object"==typeof process&&"function"==typeof process.nextTick?H.nextTick=process.nextTick:H.nextTick=O,H.setImmediate=N?O:H.nextTick,H.forEach=H.each=function(a,b,c){return H.eachOf(a,p(b),c)},H.forEachSeries=H.eachSeries=function(a,b,c){return H.eachOfSeries(a,p(b),c)},H.forEachLimit=H.eachLimit=function(a,b,c,d){return q(b)(a,p(c),d)},H.forEachOf=H.eachOf=function(b,c,d){function g(a){j--,a?d(a):null===h&&j<=0&&d(null)}d=f(d||a),b=b||[];for(var h,i=n(b),j=0;null!=(h=i());)j+=1,c(b[h],h,e(g));0===j&&d(null)},H.forEachOfSeries=H.eachOfSeries=function(b,c,d){function g(){var a=!0;if(null===i)return d(null);c(b[i],i,e(function(b){if(b)d(b);else{if(null===(i=h()))return d(null);a?H.setImmediate(g):g()}})),a=!1}d=f(d||a),b=b||[];var h=n(b),i=h();g()},H.forEachOfLimit=H.eachOfLimit=function(a,b,c,d){q(b)(a,c,d)},H.map=r(u),H.mapSeries=t(u),H.mapLimit=s(u),H.inject=H.foldl=H.reduce=function(a,b,c,d){H.eachOfSeries(a,function(a,d,e){c(b,a,function(a,c){b=c,e(a)})},function(a){d(a,b)})},H.foldr=H.reduceRight=function(a,c,d,e){var f=i(a,b).reverse();H.reduce(f,c,d,e)},H.transform=function(a,b,c,d){3===arguments.length&&(d=c,c=b,b=K(a)?[]:{}),H.eachOf(a,function(a,d,e){c(b,a,d,e)},function(a){d(a,b)})},H.select=H.filter=r(v),H.selectLimit=H.filterLimit=s(v),H.selectSeries=H.filterSeries=t(v),H.reject=r(w),H.rejectLimit=s(w),H.rejectSeries=t(w),H.any=H.some=x(H.eachOf,c,b),H.someLimit=x(H.eachOfLimit,c,b),H.all=H.every=x(H.eachOf,d,d),H.everyLimit=x(H.eachOfLimit,d,d),H.detect=x(H.eachOf,b,y),H.detectSeries=x(H.eachOfSeries,b,y),H.detectLimit=x(H.eachOfLimit,b,y),H.sortBy=function(a,b,c){function d(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}H.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);c(null,i(b.sort(d),function(a){return a.value}))})},H.auto=function(b,c,d){function e(a){s.unshift(a)}function g(a){var b=m(s,a);b>=0&&s.splice(b,1)}function i(){n--,h(s.slice(0),function(a){a()})}"function"==typeof arguments[1]&&(d=c,c=null),d=f(d||a);var j=M(b),n=j.length;if(!n)return d(null);c||(c=n);var p={},q=0,r=!1,s=[];e(function(){n||d(null,p)}),h(j,function(a){function f(){return q<c&&k(t,function(a,b){return a&&p.hasOwnProperty(b)},!0)&&!p.hasOwnProperty(a)}function h(){f()&&(q++,g(h),n[n.length-1](s,p))}if(!r){for(var j,n=K(b[a])?b[a]:[b[a]],s=o(function(b,c){if(q--,c.length<=1&&(c=c[0]),b){var e={};l(p,function(a,b){e[b]=a}),e[a]=c,r=!0,d(b,e)}else p[a]=c,H.setImmediate(i)}),t=n.slice(0,n.length-1),u=t.length;u--;){if(!(j=b[t[u]]))throw new Error("Has nonexistent dependency in "+t.join(", "));if(K(j)&&m(j,a)>=0)throw new Error("Has cyclic dependencies")}f()?(q++,n[n.length-1](s,p)):e(h)}})},H.retry=function(a,b,c){function d(a,b){for(;h.times;){var c=!(h.times-=1);g.push(function(a,c){return function(d){a(function(a,b){d(!a||c,{err:a,result:b})},b)}}(h.task,c)),!c&&h.interval>0&&g.push(function(a){return function(b){setTimeout(function(){b(null)},a)}}(h.interval))}H.series(g,function(b,c){c=c[c.length-1],(a||h.callback)(c.err,c.result)})}var e=5,f=0,g=[],h={times:e,interval:f},i=arguments.length;if(i<1||i>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return i<=2&&"function"==typeof a&&(c=b,b=a),"function"!=typeof a&&function(a,b){if("number"==typeof b)a.times=parseInt(b,10)||e;else{if("object"!=typeof b)throw new Error("Unsupported argument type for 'times': "+typeof b);a.times=parseInt(b.times,10)||e,a.interval=parseInt(b.interval,10)||f}}(h,a),h.callback=c,h.task=b,h.callback?d():d},H.waterfall=function(b,c){function d(a){return o(function(b,e){if(b)c.apply(null,[b].concat(e));else{var f=a.next();f?e.push(d(f)):e.push(c),F(a).apply(null,e)}})}if(c=f(c||a),!K(b)){var e=new Error("First argument to waterfall must be an array of functions");return c(e)}if(!b.length)return c();d(H.iterator(b))()},H.parallel=function(a,b){z(H.eachOf,a,b)},H.parallelLimit=function(a,b,c){z(q(b),a,c)},H.series=function(a,b){z(H.eachOfSeries,a,b)},H.iterator=function(a){function b(c){function d(){return a.length&&a[c].apply(null,arguments),d.next()}return d.next=function(){return c<a.length-1?b(c+1):null},d}return b(0)},H.apply=o(function(a,b){return o(function(c){return a.apply(null,b.concat(c))})}),H.concat=r(A),H.concatSeries=t(A),H.whilst=function(b,c,d){if(d=d||a,b()){var e=o(function(a,f){a?d(a):b.apply(this,f)?c(e):d.apply(null,[null].concat(f))});c(e)}else d(null)},H.doWhilst=function(a,b,c){var d=0;return H.whilst(function(){return++d<=1||b.apply(this,arguments)},a,c)},H.until=function(a,b,c){return H.whilst(function(){return!a.apply(this,arguments)},b,c)},H.doUntil=function(a,b,c){return H.doWhilst(a,function(){return!b.apply(this,arguments)},c)},H.during=function(b,c,d){d=d||a;var e=o(function(a,c){a?d(a):(c.push(f),b.apply(this,c))}),f=function(a,b){a?d(a):b?c(e):d(null)};b(f)},H.doDuring=function(a,b,c){var d=0;H.during(function(a){d++<1?a(null,!0):b.apply(this,arguments)},a,c)},H.queue=function(a,b){return B(function(b,c){a(b[0],c)},b,1)},H.priorityQueue=function(b,c){function d(a,b){return a.priority-b.priority}function e(a,b,c){for(var d=-1,e=a.length-1;d<e;){var f=d+(e-d+1>>>1);c(b,a[f])>=0?d=f:e=f-1}return d}function f(b,c,f,g){if(null!=g&&"function"!=typeof g)throw new Error("task callback must be a function");if(b.started=!0,K(c)||(c=[c]),0===c.length)return H.setImmediate(function(){b.drain()});h(c,function(c){var h={data:c,priority:f,callback:"function"==typeof g?g:a};b.tasks.splice(e(b.tasks,h,d)+1,0,h),b.tasks.length===b.concurrency&&b.saturated(),H.setImmediate(b.process)})}var g=H.queue(b,c);return g.push=function(a,b,c){f(g,a,b,c)},delete g.unshift,g},H.cargo=function(a,b){return B(a,1,b)},H.log=C("log"),H.dir=C("dir"),H.memoize=function(a,c){var d={},e={},f=Object.prototype.hasOwnProperty;c=c||b;var g=o(function(b){var g=b.pop(),h=c.apply(null,b);f.call(d,h)?H.setImmediate(function(){g.apply(null,d[h])}):f.call(e,h)?e[h].push(g):(e[h]=[g],a.apply(null,b.concat([o(function(a){d[h]=a;var b=e[h];delete e[h];for(var c=0,f=b.length;c<f;c++)b[c].apply(null,a)})])))});return g.memo=d,g.unmemoized=a,g},H.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},H.times=D(H.map),H.timesSeries=D(H.mapSeries),H.timesLimit=function(a,b,c,d){return H.mapLimit(j(a),b,c,d)},H.seq=function(){var b=arguments;return o(function(c){var d=this,e=c[c.length-1];"function"==typeof e?c.pop():e=a,H.reduce(b,c,function(a,b,c){b.apply(d,a.concat([o(function(a,b){c(a,b)})]))},function(a,b){e.apply(d,[a].concat(b))})})},H.compose=function(){return H.seq.apply(null,Array.prototype.reverse.call(arguments))},H.applyEach=E(H.eachOf),H.applyEachSeries=E(H.eachOfSeries),H.forever=function(b,c){function d(a){if(a)return f(a);g(d)}var f=e(c||a),g=F(b);d()},H.ensureAsync=F,H.constant=o(function(a){var b=[null].concat(a);return function(a){return a.apply(this,b)}}),H.wrapSync=H.asyncify=function(a){return o(function(b){var c,d=b.pop();try{c=a.apply(this,b)}catch(a){return d(a)}L(c)&&"function"==typeof c.then?c.then(function(a){d(null,a)}).catch(function(a){d(a.message?a:new Error(a))}):d(null,c)})},"object"==typeof module&&module.exports?module.exports=H:"function"==typeof define&&define.amd?define([],function(){return H}):I.async=H}(),function(a,b){"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof exports?module.exports=b(require("angular")):a.returnExports=b(a.angular)}(this,function(a){a.module("ngMeta",[]).provider("ngMeta",function(){"use strict";function b(b){var e=function(e,f){if(!b.ngMeta)throw new Error("Cannot call setTitle when ngMeta is undefined. Did you forget to call ngMeta.init() in the run block? \nRefer: https://github.com/vinaygopinath/ngMeta#getting-started");return b.ngMeta.title=a.isDefined(e)?e:c.title||"",d.useTitleSuffix&&(b.ngMeta.title+=a.isDefined(f)?f:c.titleSuffix||""),this},f=function(d,e){if(!b.ngMeta)throw new Error("Cannot call setTag when ngMeta is undefined. Did you forget to call ngMeta.init() in the run block? \nRefer: https://github.com/vinaygopinath/ngMeta#getting-started");if("title"===d||"titleSuffix"===d)throw new Error("Attempt to set '"+d+"' through 'setTag': 'title' and 'titleSuffix' are reserved tag names. Please use 'ngMeta.setTitle' instead");return b.ngMeta[d]=a.isDefined(e)?e:c[d],this},g=function(a,d){if(!b.ngMeta)throw new Error("Cannot call setDefaultTag when ngMeta is undefined. Did you forget to call ngMeta.init() in the run block? \nRefer: https://github.com/vinaygopinath/ngMeta#getting-started");return c[a]=d,"title"===a||"titleSuffix"===a?this.setTitle(b.ngMeta.title,b.ngMeta.titleSuffix):this.setTag(a,b.ngMeta[a]),this},h=function(b){if(b=b||{},b.disableUpdate)return!1;e(b.title,b.titleSuffix);var d=a.copy(c);delete b.title,delete b.titleSuffix,delete d.title,delete d.titleSuffix;for(var g=Object.keys(b),h=0;h<g.length;h++)d.hasOwnProperty(g[h])&&delete d[g[h]],f(g[h],b[g[h]]);for(var i=Object.keys(d),j=0;j<i.length;j++)f(i[j],d[i[j]])},i=function(b,c){h(a.copy(c.meta))};return{init:function(){b.ngMeta={},b.$on("$routeChangeSuccess",i),b.$on("$stateChangeSuccess",i)},setTitle:e,setTag:f,setDefaultTag:g}}var c={},d={useTitleSuffix:!1};this.setDefaultTitle=function(a){return c.title=a,this},this.setDefaultTitleSuffix=function(a){return c.titleSuffix=a,this},this.setDefaultTag=function(a,b){return c[a]=b,this},this.useTitleSuffix=function(a){return d.useTitleSuffix=!!a,this},this.$get=["$rootScope",function(a){return new b(a)}]})}),angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(a,b,c,d){return function(e,f,g){f.attr("draggable","true"),g.dndDisableIf&&e.$watch(g.dndDisableIf,function(a){f.attr("draggable",!a)}),f.on("dragstart",function(h){return h=h.originalEvent||h,"false"==f.attr("draggable")||(h.dataTransfer.setData("Text",angular.toJson(e.$eval(g.dndDraggable))),h.dataTransfer.effectAllowed=g.dndEffectAllowed||"move",f.addClass("dndDragging"),b(function(){f.addClass("dndDraggingSource")},0),c.dropEffect="none",d.isDragging=!0,d.dragType=g.dndType?e.$eval(g.dndType):void 0,h._dndHandle&&h.dataTransfer.setDragImage&&h.dataTransfer.setDragImage(f[0],0,0),a(g.dndDragstart)(e,{event:h}),void h.stopPropagation())}),f.on("dragend",function(h){h=h.originalEvent||h;var i=c.dropEffect;e.$apply(function(){switch(i){case"move":a(g.dndMoved)(e,{event:h});break;case"copy":a(g.dndCopied)(e,{event:h});break;case"none":a(g.dndCanceled)(e,{event:h})}a(g.dndDragend)(e,{event:h,dropEffect:i})}),f.removeClass("dndDragging"),b(function(){f.removeClass("dndDraggingSource")},0),d.isDragging=!1,h.stopPropagation()}),f.on("click",function(b){g.dndSelected&&(b=b.originalEvent||b,e.$apply(function(){a(g.dndSelected)(e,{event:b})}),b.stopPropagation())}),f.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(a,b,c,d){return function(e,f,g){function h(a,b,c){var d=q?a.offsetX||a.layerX:a.offsetY||a.layerY,e=q?b.offsetWidth:b.offsetHeight,f=q?b.offsetLeft:b.offsetTop;return(f=c?f:0)+e/2>d}function i(){return Array.prototype.indexOf.call(p.children,o)}function j(a){if(!d.isDragging&&!r)return!1;if(!m(a.dataTransfer.types))return!1;if(g.dndAllowedTypes&&d.isDragging){var b=e.$eval(g.dndAllowedTypes);if(angular.isArray(b)&&-1===b.indexOf(d.dragType))return!1}return!g.dndDisableIf||!e.$eval(g.dndDisableIf)}function k(){return n.remove(),f.removeClass("dndDragover"),!0}function l(b,c,f,g){return a(b)(e,{event:c,index:f,item:g||void 0,external:!d.isDragging,type:d.isDragging?d.dragType:void 0})}function m(a){if(!a)return!0;for(var b=0;b<a.length;b++)if("Text"===a[b]||"text/plain"===a[b])return!0;return!1}var n=function(){var a;return angular.forEach(f.children(),function(b){var c=angular.element(b);c.hasClass("dndPlaceholder")&&(a=c)}),a||angular.element("<li class='dndPlaceholder'></li>")}(),o=n[0],p=f[0];n.remove();var q=g.dndHorizontalList&&e.$eval(g.dndHorizontalList),r=g.dndExternalSources&&e.$eval(g.dndExternalSources);f.on("dragenter",function(a){return a=a.originalEvent||a,!j(a)||void a.preventDefault()}),f.on("dragover",function(a){if(a=a.originalEvent||a,!j(a))return!0;if(o.parentNode!=p&&f.append(n),a.target!==p){for(var b=a.target;b.parentNode!==p&&b.parentNode;)b=b.parentNode;b.parentNode===p&&b!==o&&(h(a,b)?p.insertBefore(o,b):p.insertBefore(o,b.nextSibling))}else if(h(a,o,!0))for(;o.previousElementSibling&&(h(a,o.previousElementSibling,!0)||0===o.previousElementSibling.offsetHeight);)p.insertBefore(o,o.previousElementSibling);else for(;o.nextElementSibling&&!h(a,o.nextElementSibling,!0);)p.insertBefore(o,o.nextElementSibling.nextElementSibling);return g.dndDragover&&!l(g.dndDragover,a,i())?k():(f.addClass("dndDragover"),a.preventDefault(),a.stopPropagation(),!1)}),f.on("drop",function(a){if(a=a.originalEvent||a,!j(a))return!0;a.preventDefault();var b,d=a.dataTransfer.getData("Text")||a.dataTransfer.getData("text/plain");try{b=JSON.parse(d)}catch(a){return k()}var f=i();return g.dndDrop&&!(b=l(g.dndDrop,a,f,b))?k():(!0!==b&&e.$apply(function(){e.$eval(g.dndList).splice(f,0,b)}),l(g.dndInserted,a,f,b),"none"===a.dataTransfer.dropEffect?"copy"===a.dataTransfer.effectAllowed||"move"===a.dataTransfer.effectAllowed?c.dropEffect=a.dataTransfer.effectAllowed:c.dropEffect=a.ctrlKey?"copy":"move":c.dropEffect=a.dataTransfer.dropEffect,k(),a.stopPropagation(),!1)}),f.on("dragleave",function(a){a=a.originalEvent||a,f.removeClass("dndDragover"),b(function(){f.hasClass("dndDragover")||n.remove()},100)})}}]).directive("dndNodrag",function(){return function(a,b,c){b.attr("draggable","true"),b.on("dragstart",function(a){a=a.originalEvent||a,a._dndHandle||(a.dataTransfer.types&&a.dataTransfer.types.length||a.preventDefault(),a.stopPropagation())}),b.on("dragend",function(a){a=a.originalEvent||a,a._dndHandle||a.stopPropagation()})}}).directive("dndHandle",function(){return function(a,b,c){b.attr("draggable","true"),b.on("dragstart dragend",function(a){a=a.originalEvent||a,a._dndHandle=!0})}}).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(a){return function(b,c){if("__setXHR_"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.0.4",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(a,b,c){function d(d){function e(a){j.notify&&j.notify(a),k.progressFunc&&c(function(){k.progressFunc(a)})}function h(a){return null!=d._start&&g?{loaded:a.loaded+d._start,total:d._file&&d._file.size||a.total,type:a.type,config:d,lengthComputable:!0,target:a.target}:a}function i(){a(d).then(function(a){g&&d._chunkSize&&!d._finished&&d._file?(e({loaded:d._end,total:d._file&&d._file.size,config:d,type:"progress"}),f.upload(d,!0)):(d._finished&&delete d._finished,j.resolve(a))},function(a){j.reject(a)},function(a){j.notify(a)})}d.method=d.method||"POST",d.headers=d.headers||{};var j=d._deferred=d._deferred||b.defer(),k=j.promise;return d.disableProgress||(d.headers.__setXHR_=function(){return function(a){a&&a.upload&&a.upload.addEventListener&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener("progress",function(a){a.config=d,e(h(a))},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&(a.config=d,e(h(a)))},!1))}}),g?d._chunkSize&&d._end&&!d._finished?(d._start=d._end,d._end+=d._chunkSize,i()):d.resumeSizeUrl?a.get(d.resumeSizeUrl).then(function(a){d.resumeSizeResponseReader?d._start=d.resumeSizeResponseReader(a.data):d._start=parseInt((null==a.data.size?a.data:a.data.size).toString()),d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):d.resumeSize?d.resumeSize().then(function(a){d._start=a,i()},function(a){throw a}):(d._chunkSize&&(d._start=0,d._end=d._start+d._chunkSize),i()):i(),k.success=function(a){return k.then(function(b){a(b.data,b.status,b.headers,d)}),k},k.error=function(a){return k.then(null,function(b){a(b.data,b.status,b.headers,d)}),k},k.progress=function(a){return k.progressFunc=a,k.then(null,null,function(b){a(b)}),k},k.abort=k.pause=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),k},k.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(k,arguments),a.apply(k,arguments)}}(d.xhrFn),k},f.promisesCount++,k.finally(function(){f.promisesCount--}),k}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=this;f.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var g=this.isResumeSupported();this.isUploadInProgress=function(){return f.promisesCount>0},this.rename=function(a,b){return a.ngfName=b,a},this.jsonBlob=function(a){null==a||angular.isString(a)||(a=JSON.stringify(a));var b=new window.Blob([a],{type:"application/json"});return b._ngfBlob=!0,b},this.json=function(a){return angular.toJson(a)},this.isFile=function(a){return null!=a&&(a instanceof window.Blob||a.flashId&&a.name&&a.size)},this.upload=function(a,b){function c(b,c){if(b._ngfBlob)return b;if(a._file=a._file||b,null!=a._start&&g){a._end&&a._end>=b.size&&(a._finished=!0,a._end=b.size);var d=b.slice(a._start,a._end||b.size);return d.name=b.name,d.ngfName=b.ngfName,a._chunkSize&&(c.append("_chunkSize",a._chunkSize),c.append("_currentChunkSize",a._end-a._start),c.append("_chunkNumber",Math.floor(a._start/a._chunkSize)),c.append("_totalSize",a._file.size)),d}return b}function h(b,d,e){if(void 0!==d)if(angular.isDate(d)&&(d=d.toISOString()),angular.isString(d))b.append(e,d);else if(f.isFile(d)){var g=c(d,b),i=e.split(",");i[1]&&(g.ngfName=i[1].replace(/^\s+|\s+$/g,""),e=i[0]),a._fileKey=a._fileKey||e,b.append(e,g,g.ngfName||g.name)}else if(angular.isObject(d)){if(d.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+e;d.$$ngfCircularDetection=!0;try{for(var j in d)if(d.hasOwnProperty(j)&&"$$ngfCircularDetection"!==j){var k=null==a.objectKey?"[i]":a.objectKey;d.length&&parseInt(j)>-1&&(k=null==a.arrayKey?k:a.arrayKey),h(b,d[j],e+k.replace(/[ik]/g,j))}}finally{delete d.$$ngfCircularDetection}}else b.append(e,d)}return b||(a=e(a)),a._isDigested||(a._isDigested=!0,function(){a._chunkSize=f.translateScalars(a.resumeChunkSize),a._chunkSize=a._chunkSize?parseInt(a._chunkSize.toString()):null,a.headers=a.headers||{},a.headers["Content-Type"]=void 0,a.transformRequest=a.transformRequest?angular.isArray(a.transformRequest)?a.transformRequest:[a.transformRequest]:[],a.transformRequest.push(function(b){var c,d=new window.FormData;b=b||a.fields||{},a.file&&(b.file=a.file);for(c in b)if(b.hasOwnProperty(c)){var e=b[c];a.formDataAppender?a.formDataAppender(d,c,e):h(d,e,c)}return d})}()),d(a)},this.http=function(b){return b=e(b),b.transformRequest=b.transformRequest||function(b){return window.ArrayBuffer&&b instanceof window.ArrayBuffer||b instanceof window.Blob?b:a.defaults.transformRequest[0].apply(this,arguments)},b._chunkSize=f.translateScalars(b.resumeChunkSize),b._chunkSize=b._chunkSize?parseInt(b._chunkSize.toString()):null,d(b)},this.translateScalars=function(a){if(angular.isString(a)){if(a.search(/kb/i)===a.length-2)return parseFloat(1024*a.substring(0,a.length-2));if(a.search(/mb/i)===a.length-2)return parseFloat(1048576*a.substring(0,a.length-2));if(a.search(/gb/i)===a.length-2)return parseFloat(1073741824*a.substring(0,a.length-2));if(a.search(/b/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/s/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/m/i)===a.length-1)return parseFloat(60*a.substring(0,a.length-1));if(a.search(/h/i)===a.length-1)return parseFloat(3600*a.substring(0,a.length-1))}return a},this.urlToBlob=function(c){var d=b.defer();return a({url:c,method:"get",responseType:"arraybuffer"}).then(function(a){var b=new Uint8Array(a.data),c=a.headers("content-type")||"image/WebP",e=new window.Blob([b],{type:c});d.resolve(e)},function(a){d.reject(a)}),d.promise},this.setDefaults=function(a){this.defaults=a||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(a,b,c,d,e){function f(a,b,c){var e=[i.emptyPromise()];return angular.forEach(a,function(d,f){0===d.type.indexOf("image/jpeg")&&i.attrGetter("ngfFixOrientation",b,c,{$file:d})&&e.push(i.happyPromise(i.applyExifRotation(d),d).then(function(b){a.splice(f,1,b)}))}),d.all(e)}function g(a,b,c){var e=i.attrGetter("ngfResize",b,c);if(!e||!i.isResizeSupported()||!a.length)return i.emptyPromise();if(!(e instanceof Function))return h(e,a,b,c);var f=d.defer();e(a).then(function(d){
h(d,a,b,c).then(function(a){f.resolve(a)},function(a){f.reject(a)})},function(a){f.reject(a)})}function h(a,b,c,e){for(var f=[i.emptyPromise()],g=0;g<b.length;g++)!function(d,g){if(0===d.type.indexOf("image")){if(a.pattern&&!i.validatePattern(d,a.pattern))return;var h=i.resize(d,a.width,a.height,a.quality,a.type,a.ratio,a.centerCrop,function(a,b){return i.attrGetter("ngfResizeIf",c,e,{$width:a,$height:b,$file:d})},!1!==a.restoreExif);f.push(h),h.then(function(a){b.splice(g,1,a)},function(a){d.$error="resize",d.$errorParam=(a?(a.message?a.message:a)+": ":"")+(d&&d.name)})}}(b[g],g);return d.all(f)}var i=e;return i.getAttrWithDefaults=function(a,b){if(null!=a[b])return a[b];var c=i.defaults[b];return null==c?c:angular.isString(c)?c:JSON.stringify(c)},i.attrGetter=function(b,c,d,e){var f=this.getAttrWithDefaults(c,b);if(!d)return f;try{return e?a(f)(d,e):a(f)(d)}catch(a){if(b.search(/min|max|pattern/i))return f;throw a}},i.shouldUpdateOn=function(a,b,c){var d=i.attrGetter("ngModelOptions",b,c);return!d||!d.updateOn||d.updateOn.split(" ").indexOf(a)>-1},i.emptyPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.resolve.apply(a,c)}),a.promise},i.rejectPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.reject.apply(a,c)}),a.promise},i.happyPromise=function(a,c){var e=d.defer();return a.then(function(a){e.resolve(a)},function(a){b(function(){throw a}),e.resolve(c)}),e.promise},i.updateModel=function(c,d,e,h,j,k,l){function m(f,g,j,l,m){d.$$ngfPrevValidFiles=f,d.$$ngfPrevInvalidFiles=g;var n=f&&f.length?f[0]:null,o=g&&g.length?g[0]:null;c&&(i.applyModelValidation(c,f),c.$setViewValue(m?n:f)),h&&a(h)(e,{$files:f,$file:n,$newFiles:j,$duplicateFiles:l,$invalidFiles:g,$invalidFile:o,$event:k});var p=i.attrGetter("ngfModelInvalid",d);p&&b(function(){a(p).assign(e,m?o:g)}),b(function(){})}function n(){u=[],t=[],angular.forEach(p,function(a){a.$error?t.push(a):u.push(a)})}function o(){function a(){b(function(){m(v?q.concat(u):u,v?r.concat(t):t,j,s,w)},y&&y.debounce?y.debounce.change||y.debounce:0)}g(x?p:u,d,e).then(function(){x?i.validate(p,q.length,c,d,e).then(function(){n(),a()}):a()},function(a){throw"Could not resize files "+a})}var p,q,r,s=[],t=[],u=[];q=d.$$ngfPrevValidFiles||[],r=d.$$ngfPrevInvalidFiles||[],c&&c.$modelValue&&(q=function(a){return angular.isArray(a)?a:[a]}(c.$modelValue));var v=i.attrGetter("ngfKeep",d,e);p=(j||[]).slice(0),"distinct"!==v&&!0!==i.attrGetter("ngfKeepDistinct",d,e)||function(){function a(a,b){return a.name===b.name&&(a.$ngfOrigSize||a.size)===(b.$ngfOrigSize||b.size)&&a.type===b.type}if(j){p=[],s=[];for(var b=0;b<j.length;b++)!function(b){var c;for(c=0;c<q.length;c++)if(a(b,q[c]))return!0;for(c=0;c<r.length;c++)if(a(b,r[c]))return!0;return!1}(j[b])?p.push(j[b]):s.push(j[b])}}();var w=!v&&!i.attrGetter("ngfMultiple",d,e)&&!i.attrGetter("multiple",d);if(!v||p.length){i.attrGetter("ngfBeforeModelChange",d,e,{$files:j,$file:j&&j.length?j[0]:null,$newFiles:p,$duplicateFiles:s,$event:k});var x=i.attrGetter("ngfValidateAfterResize",d,e),y=i.attrGetter("ngModelOptions",d,e);i.validate(p,q.length,c,d,e).then(function(){l?m(p,[],j,s,w):(y&&y.allowInvalid||x?u=p:n(),i.attrGetter("ngfFixOrientation",d,e)&&i.isExifSupported()?f(u,d,e).then(function(){o()}):o())})}},i}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(a,b,c,d){function e(a){var b=a.match(/Android[^\d]*(\d+)\.(\d+)/);if(b&&b.length>2){var c=d.defaults.androidFixMinorVersion||4;return parseInt(b[1])<4||parseInt(b[1])===c&&parseInt(b[2])<c}return-1===a.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(a)}function f(a,b,c,d,f,h,i,j){function k(){return"input"===b[0].tagName.toLowerCase()&&c.type&&"file"===c.type.toLowerCase()}function l(){return s("ngfChange")||s("ngfSelect")}function m(b){if(j.shouldUpdateOn("change",c,a)){for(var e=b.__files_||b.target&&b.target.files,f=[],g=0;g<e.length;g++)f.push(e[g]);j.updateModel(d,c,a,l(),f.length?f:null,b)}}function n(a){if(b!==a)for(var c=0;c<b[0].attributes.length;c++){var d=b[0].attributes[c];"type"!==d.name&&"class"!==d.name&&"style"!==d.name&&(null!=d.value&&""!==d.value||("required"===d.name&&(d.value="required"),"multiple"===d.name&&(d.value="multiple")),a.attr(d.name,"id"===d.name?"ngf-"+d.value:d.value))}}function o(c){if(b.attr("disabled"))return!1;if(!s("ngfSelectDisabled",a)){var d=p(c);if(null!=d)return d;q(c);try{k()||document.body.contains(v[0])||(g.push({el:b,ref:v.parent()}),document.body.appendChild(v.parent()[0]),v.bind("change",m))}catch(a){}return e(navigator.userAgent)?setTimeout(function(){v[0].click()},0):v[0].click(),!1}}function p(a){var b=a.changedTouches||a.originalEvent&&a.originalEvent.changedTouches;if("touchstart"===a.type)return u=b?b[0].clientY:0,!0;if(a.stopPropagation(),a.preventDefault(),"touchend"===a.type){var c=b?b[0].clientY:0;if(Math.abs(c-u)>20)return!1}}function q(b){j.shouldUpdateOn("click",c,a)&&v.val()&&(v.val(null),j.updateModel(d,c,a,l(),null,b,!0))}function r(a){if(v&&!v.attr("__ngf_ie10_Fix_")){if(!v[0].parentNode)return void(v=null);a.preventDefault(),a.stopPropagation(),v.unbind("click");var b=v.clone();return v.replaceWith(b),v=b,v.attr("__ngf_ie10_Fix_","true"),v.bind("change",m),v.bind("click",r),v[0].click(),!1}v.removeAttr("__ngf_ie10_Fix_")}var s=function(a,b){return j.attrGetter(a,c,b)};j.registerModelChangeValidator(d,c,a);var t=[];t.push(a.$watch(s("ngfMultiple"),function(){v.attr("multiple",s("ngfMultiple",a))})),t.push(a.$watch(s("ngfCapture"),function(){v.attr("capture",s("ngfCapture",a))})),t.push(a.$watch(s("ngfAccept"),function(){v.attr("accept",s("ngfAccept",a))})),c.$observe("accept",function(){v.attr("accept",s("accept"))}),t.push(function(){c.$$observers&&delete c.$$observers.accept});var u=0,v=b;k()||(v=function(){if(k())return b;var a=angular.element('<input type="file">');n(a);var c=angular.element("<label>upload</label>");return c.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),g.push({el:b,ref:c}),document.body.appendChild(c.append(a)[0]),a}()),v.bind("change",m),k()?b.bind("click",q):b.bind("click touchstart touchend",o),-1!==navigator.appVersion.indexOf("MSIE 10")&&v.bind("click",r),d&&d.$formatters.push(function(a){return null!=a&&0!==a.length||v.val()&&v.val(null),a}),a.$on("$destroy",function(){k()||v.parent().remove(),angular.forEach(t,function(a){a()})}),h(function(){for(var a=0;a<g.length;a++){var b=g[a];document.body.contains(b.el[0])||(g.splice(a,1),b.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(b,v,m)}var g=[];return{restrict:"AEC",require:"?ngModel",link:function(e,g,h,i){f(e,g,h,i,a,b,c,d)}}}]),function(){function a(a){return"img"===a.tagName.toLowerCase()?"image":"audio"===a.tagName.toLowerCase()?"audio":"video"===a.tagName.toLowerCase()?"video":/./}function b(b,c,d,e,f,g,h,i){function j(a){var g=b.attrGetter("ngfNoObjectUrl",f,d);b.dataUrl(a,g).finally(function(){c(function(){var b=(g?a.$ngfDataUrl:a.$ngfBlobUrl)||a.$ngfDataUrl;i?e.css("background-image","url('"+(b||"")+"')"):e.attr("src",b),b?e.removeClass("ng-hide"):e.addClass("ng-hide")})})}c(function(){var c=d.$watch(f[g],function(c){var d=h;if("ngfThumbnail"===g&&(d||(d={width:e[0].clientWidth,height:e[0].clientHeight}),0===d.width&&window.getComputedStyle)){var f=getComputedStyle(e[0]);d={width:parseInt(f.width.slice(0,-2)),height:parseInt(f.height.slice(0,-2))}}if(angular.isString(c))return e.removeClass("ng-hide"),i?e.css("background-image","url('"+c+"')"):e.attr("src",c);!c||!c.type||0!==c.type.search(a(e[0]))||i&&0!==c.type.indexOf("image")?e.addClass("ng-hide"):d&&b.isResizeSupported()?b.resize(c,d.width,d.height,d.quality).then(function(a){j(a)},function(a){throw a}):j(c)});d.$on("$destroy",function(){c()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(a,b,c){var d=a;return d.base64DataUrl=function(a){if(angular.isArray(a)){var b=c.defer(),e=0;return angular.forEach(a,function(c){d.dataUrl(c,!0).finally(function(){if(++e===a.length){var c=[];angular.forEach(a,function(a){c.push(a.$ngfDataUrl)}),b.resolve(c,a)}})}),b.promise}return d.dataUrl(a,!0)},d.dataUrl=function(a,e){if(!a)return d.emptyPromise(a,a);if(e&&null!=a.$ngfDataUrl||!e&&null!=a.$ngfBlobUrl)return d.emptyPromise(e?a.$ngfDataUrl:a.$ngfBlobUrl,a);var f=e?a.$$ngfDataUrlPromise:a.$$ngfBlobUrlPromise;if(f)return f;var g=c.defer();return b(function(){if(window.FileReader&&a&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||a.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||a.size<4e6)){var c=window.URL||window.webkitURL;if(c&&c.createObjectURL&&!e){var f;try{f=c.createObjectURL(a)}catch(c){return void b(function(){a.$ngfBlobUrl="",g.reject()})}b(function(){if(a.$ngfBlobUrl=f,f){g.resolve(f,a),d.blobUrls=d.blobUrls||[],d.blobUrlsTotalSize=d.blobUrlsTotalSize||0,d.blobUrls.push({url:f,size:a.size}),d.blobUrlsTotalSize+=a.size||0;for(var b=d.defaults.blobUrlsMaxMemory||268435456,e=d.defaults.blobUrlsMaxQueueSize||200;(d.blobUrlsTotalSize>b||d.blobUrls.length>e)&&d.blobUrls.length>1;){var h=d.blobUrls.splice(0,1)[0];c.revokeObjectURL(h.url),d.blobUrlsTotalSize-=h.size}}})}else{var h=new FileReader;h.onload=function(c){b(function(){a.$ngfDataUrl=c.target.result,g.resolve(c.target.result,a),b(function(){delete a.$ngfDataUrl},1e3)})},h.onerror=function(){b(function(){a.$ngfDataUrl="",g.reject()})},h.readAsDataURL(a)}}else b(function(){a[e?"$ngfDataUrl":"$ngfBlobUrl"]="",g.reject()})}),f=e?a.$$ngfDataUrlPromise=g.promise:a.$$ngfBlobUrlPromise=g.promise,f.finally(function(){delete a[e?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),f},d}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfSrc",a.attrGetter("ngfResize",f,d),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfBackground",a.attrGetter("ngfResize",f,d),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){var g=a.attrGetter("ngfSize",f,d);b(a,c,d,e,f,"ngfThumbnail",g,a.attrGetter("ngfAsBackground",f,d))}}}]),ngFileUpload.config(["$compileProvider",function(a){a.imgSrcSanitizationWhitelist&&a.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/),a.aHrefSanitizationWhitelist&&a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(a,b){return function(c,d,e){if(angular.isString(c))return b.trustAsResourceUrl(c);var f=c&&((d?c.$ngfDataUrl:c.$ngfBlobUrl)||c.$ngfDataUrl);return c&&!f?(!c.$ngfDataUrlFilterInProgress&&angular.isObject(c)&&(c.$ngfDataUrlFilterInProgress=!0,a.dataUrl(c,d)),""):(c&&delete c.$ngfDataUrlFilterInProgress,(c&&f?e?b.trustAsResourceUrl(f):f:c)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(a,b,c){function d(a){var b="",c=[];if(a.length>2&&"/"===a[0]&&"/"===a[a.length-1])b=a.substring(1,a.length-1);else{var e=a.split(",");if(e.length>1)for(var f=0;f<e.length;f++){var g=d(e[f]);g.regexp?(b+="("+g.regexp+")",f<e.length-1&&(b+="|")):c=c.concat(g.excludes)}else 0===a.indexOf("!")?c.push("^((?!"+d(a.substring(1)).regexp+").)*$"):(0===a.indexOf(".")&&(a="*"+a),b="^"+a.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",b=b.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:b,excludes:c}}function e(a,b){null==b||a.$dirty||(a.$setDirty?a.$setDirty():a.$dirty=!0)}var f=a;return f.validatePattern=function(a,b){if(!b)return!0;var c=d(b),e=!0;if(c.regexp&&c.regexp.length){var f=new RegExp(c.regexp,"i");e=null!=a.type&&f.test(a.type)||null!=a.name&&f.test(a.name)}for(var g=c.excludes.length;g--;){var h=new RegExp(c.excludes[g],"i");e=e&&(null==a.type||h.test(a.type))&&(null==a.name||h.test(a.name))}return e},f.ratioToFloat=function(a){var b=a.toString(),c=b.search(/[x:]/i);return b=c>-1?parseFloat(b.substring(0,c))/parseFloat(b.substring(c+1)):parseFloat(b)},f.registerModelChangeValidator=function(a,b,c){a&&a.$formatters.push(function(d){a.$dirty&&(d&&!angular.isArray(d)&&(d=[d]),f.validate(d,0,a,b,c).then(function(){f.applyModelValidation(a,d)}))})},f.applyModelValidation=function(a,b){e(a,b),angular.forEach(a.$ngfValidations,function(b){a.$setValidity(b.name,b.valid)})},f.getValidationAttr=function(a,b,c,d,e){var g="ngf"+c[0].toUpperCase()+c.substr(1),h=f.attrGetter(g,a,b,{$file:e});if(null==h&&(h=f.attrGetter("ngfValidate",a,b,{$file:e}))){var i=(d||c).split(".");h=h[i[0]],i.length>1&&(h=h&&h[i[1]])}return h},f.validate=function(a,c,d,e,g){function h(b,c,h){if(a){for(var i=a.length,j=null;i--;){var k=a[i];if(k){var l=f.getValidationAttr(e,g,b,c,k);null!=l&&(h(k,l,i)||(k.$error=b,(k.$errorMessages=k.$errorMessages||{})[b]=!0,k.$errorParam=l,a.splice(i,1),j=!1))}}null!==j&&d.$ngfValidations.push({name:b,valid:j})}}function i(c,h,i,k,l){function m(a,b,d){null!=d?k(b,d).then(function(e){l(e,d)?a.resolve():(b.$error=c,(b.$errorMessages=b.$errorMessages||{})[c]=!0,b.$errorParam=d,a.reject())},function(){j("ngfValidateForce",{$file:b})?(b.$error=c,(b.$errorMessages=b.$errorMessages||{})[c]=!0,b.$errorParam=d,a.reject()):a.resolve()}):a.resolve()}var n=[f.emptyPromise()];if(a)return a=void 0===a.length?[a]:a,angular.forEach(a,function(a){var d=b.defer();if(n.push(d.promise),i&&(null==a.type||0!==a.type.search(i)))return void d.resolve();"dimensions"===c&&null!=f.attrGetter("ngfDimensions",e)?f.imageDimensions(a).then(function(b){m(d,a,j("ngfDimensions",{$file:a,$width:b.width,$height:b.height}))},function(){d.reject()}):"duration"===c&&null!=f.attrGetter("ngfDuration",e)?f.mediaDuration(a).then(function(b){m(d,a,j("ngfDuration",{$file:a,$duration:b}))},function(){d.reject()}):m(d,a,f.getValidationAttr(e,g,c,h,a))}),b.all(n).then(function(){d.$ngfValidations.push({name:c,valid:!0})},function(){d.$ngfValidations.push({name:c,valid:!1})})}d=d||{},d.$ngfValidations=d.$ngfValidations||[],angular.forEach(d.$ngfValidations,function(a){a.valid=!0});var j=function(a,b){return f.attrGetter(a,e,g,b)};if(null==a||0===a.length)return f.emptyPromise(d);a=void 0===a.length?[a]:a.slice(0),h("maxFiles",null,function(a,b,d){return c+d<b}),h("pattern",null,f.validatePattern),h("minSize","size.min",function(a,b){return a.size+.1>=f.translateScalars(b)}),h("maxSize","size.max",function(a,b){return a.size-.1<=f.translateScalars(b)});var k=0;if(h("maxTotalSize",null,function(b,c){return!((k+=b.size)>f.translateScalars(c))||(a.splice(0,a.length),!1)}),h("validateFn",null,function(a,b){return!0===b||null===b||""===b}),!a.length)return f.emptyPromise(d,d.$ngfValidations);var l=b.defer(),m=[];return m.push(f.happyPromise(i("maxHeight","height.max",/image/,this.imageDimensions,function(a,b){return a.height<=b}))),m.push(f.happyPromise(i("minHeight","height.min",/image/,this.imageDimensions,function(a,b){return a.height>=b}))),m.push(f.happyPromise(i("maxWidth","width.max",/image/,this.imageDimensions,function(a,b){return a.width<=b}))),m.push(f.happyPromise(i("minWidth","width.min",/image/,this.imageDimensions,function(a,b){return a.width>=b}))),m.push(f.happyPromise(i("dimensions",null,/image/,function(a,b){return f.emptyPromise(b)},function(a){return a}))),m.push(f.happyPromise(i("ratio",null,/image/,this.imageDimensions,function(a,b){for(var c=b.toString().split(","),d=!1,e=0;e<c.length;e++)Math.abs(a.width/a.height-f.ratioToFloat(c[e]))<1e-4&&(d=!0);return d}))),m.push(f.happyPromise(i("maxRatio","ratio.max",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)<1e-4}))),m.push(f.happyPromise(i("minRatio","ratio.min",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)>-1e-4}))),m.push(f.happyPromise(i("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(a,b){return a<=f.translateScalars(b)}))),m.push(f.happyPromise(i("minDuration","duration.min",/audio|video/,this.mediaDuration,function(a,b){return a>=f.translateScalars(b)}))),m.push(f.happyPromise(i("duration",null,/audio|video/,function(a,b){return f.emptyPromise(b)},function(a){return a}))),m.push(f.happyPromise(i("validateAsyncFn",null,null,function(a,b){return b},function(a){return!0===a||null===a||""===a}))),b.all(m).then(function(){l.resolve(d,d.$ngfValidations)})},f.imageDimensions=function(a){if(a.$ngfWidth&&a.$ngfHeight){var d=b.defer();return c(function(){d.resolve({width:a.$ngfWidth,height:a.$ngfHeight})}),d.promise}if(a.$ngfDimensionPromise)return a.$ngfDimensionPromise;var e=b.defer();return c(function(){if(0!==a.type.indexOf("image"))return void e.reject("not image");f.dataUrl(a).then(function(b){function d(){var b=h[0].clientWidth,c=h[0].clientHeight;h.remove(),a.$ngfWidth=b,a.$ngfHeight=c,e.resolve({width:b,height:c})}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].clientWidth?d():i>10?f():g())},1e3)}var h=angular.element("<img>").attr("src",b).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");h.on("load",d),h.on("error",f);var i=0;g(),angular.element(document.getElementsByTagName("body")[0]).append(h)},function(){e.reject("load error")})}),a.$ngfDimensionPromise=e.promise,a.$ngfDimensionPromise.finally(function(){delete a.$ngfDimensionPromise}),a.$ngfDimensionPromise},f.mediaDuration=function(a){if(a.$ngfDuration){var d=b.defer();return c(function(){d.resolve(a.$ngfDuration)}),d.promise}if(a.$ngfDurationPromise)return a.$ngfDurationPromise;var e=b.defer();return c(function(){if(0!==a.type.indexOf("audio")&&0!==a.type.indexOf("video"))return void e.reject("not media");f.dataUrl(a).then(function(b){function d(){var b=h[0].duration;a.$ngfDuration=b,h.remove(),e.resolve(b)}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].duration?d():i>10?f():g())},1e3)}var h=angular.element(0===a.type.indexOf("audio")?"<audio>":"<video>").attr("src",b).css("visibility","none").css("position","fixed");h.on("loadedmetadata",d),h.on("error",f);var i=0;g(),angular.element(document.body).append(h)},function(){e.reject("load error")})}),a.$ngfDurationPromise=e.promise,a.$ngfDurationPromise.finally(function(){delete a.$ngfDurationPromise}),a.$ngfDurationPromise},f}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(a,b){var c=a,d=function(a,b,c,d,e){var f=e?Math.max(c/a,d/b):Math.min(c/a,d/b);return{width:a*f,height:b*f,marginX:a*f-c,marginY:b*f-d}},e=function(a,e,f,g,h,i,j,k){var l=b.defer(),m=document.createElement("canvas"),n=document.createElement("img");return n.onload=function(){if(null!=k&&!1===k(n.width,n.height))return void l.reject("resizeIf");try{if(i){var a=c.ratioToFloat(i);n.width/n.height<a?(e=n.width,f=e/a):(f=n.height,e=f*a)}e||(e=n.width),f||(f=n.height);var b=d(n.width,n.height,e,f,j);m.width=Math.min(b.width,e),m.height=Math.min(b.height,f);m.getContext("2d").drawImage(n,Math.min(0,-b.marginX/2),Math.min(0,-b.marginY/2),b.width,b.height),l.resolve(m.toDataURL(h||"image/WebP",g||.934))}catch(a){l.reject(a)}},n.onerror=function(){l.reject()},n.src=a,l.promise};return c.dataUrltoBlob=function(a,b,c){for(var d=a.split(","),e=d[0].match(/:(.*?);/)[1],f=atob(d[1]),g=f.length,h=new Uint8Array(g);g--;)h[g]=f.charCodeAt(g);var i=new window.Blob([h],{type:e});return i.name=b,i.$ngfOrigSize=c,i},c.isResizeSupported=function(){var a=document.createElement("canvas");return window.atob&&a.getContext&&a.getContext("2d")&&window.Blob},c.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(a){this.$ngfName=a},configurable:!0}),c.resize=function(a,d,f,g,h,i,j,k,l){if(0!==a.type.indexOf("image"))return c.emptyPromise(a);var m=b.defer();return c.dataUrl(a,!0).then(function(b){e(b,d,f,g,h||a.type,i,j,k).then(function(d){if("image/jpeg"===a.type&&l)try{d=c.restoreExif(b,d)}catch(a){setTimeout(function(){throw a},1)}try{var e=c.dataUrltoBlob(d,a.name,a.size);m.resolve(e)}catch(a){m.reject(a)}},function(b){"resizeIf"===b&&m.resolve(a),m.reject(b)})},function(a){m.reject(a)}),m.promise},c}]),function(){function a(a,c,d,e,f,g,h,i,j,k){function l(){return c.attr("disabled")||r("ngfDropDisabled",a)}function m(b,c){i.updateModel(e,d,a,r("ngfChange")||r("ngfDrop"),b,c)}function n(b,c){if(!i.shouldUpdateOn(b,d,a)||!c)return i.rejectPromise([]);var e=[];c.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(a,b,c){e.push(c)});var f=[],g=[];if(e.length){angular.forEach(e,function(a){f.push(i.urlToBlob(a).then(function(a){g.push(a)}))});var h=k.defer();return k.all(f).then(function(){h.resolve(g)},function(a){h.reject(a)}),h.promise}return i.emptyPromise()}function o(a,b,c,d){var e=r("ngfDragOverClass",a,{$event:c}),f="dragover";if(angular.isString(e))f=e;else if(e&&(e.delay&&(v=e.delay),e.accept||e.reject)){var g=c.dataTransfer.items;if(null!=g&&g.length)for(var h=e.pattern||r("ngfPattern",a,{$event:c}),j=g.length;j--;){if(!i.validatePattern(g[j],h)){f=e.reject;break}f=e.accept}else f=e.accept}d(f)}function p(b,c,e,f){function g(a,b){var c=k.defer();if(null!=a)if(a.isDirectory){var d=[i.emptyPromise()];if(m){var e={type:"directory"};e.name=e.path=(b||"")+a.name+a.name,n.push(e)}var f=a.createReader(),h=[],p=function(){f.readEntries(function(e){try{e.length?(h=h.concat(Array.prototype.slice.call(e||[],0)),p()):(angular.forEach(h.slice(0),function(c){n.length<=j&&o<=l&&d.push(g(c,(b||"")+a.name+"/"))}),k.all(d).then(function(){c.resolve()},function(a){c.reject(a)}))}catch(a){c.reject(a)}},function(a){c.reject(a)})};p()}else a.file(function(a){try{a.path=(b||"")+a.name,m&&(a=i.rename(a,a.path)),n.push(a),o+=a.size,c.resolve()}catch(a){c.reject(a)}},function(a){c.reject(a)});return c.promise}var j=i.getValidationAttr(d,a,"maxFiles")||Number.MAX_VALUE,l=i.getValidationAttr(d,a,"maxTotalSize")||Number.MAX_VALUE,m=r("ngfIncludeDir",a),n=[],o=0,p=[i.emptyPromise()];if(b&&b.length>0&&"file"!==h.protocol())for(var q=0;q<b.length;q++){if(b[q].webkitGetAsEntry&&b[q].webkitGetAsEntry()&&b[q].webkitGetAsEntry().isDirectory){var s=b[q].webkitGetAsEntry();if(s.isDirectory&&!e)continue;null!=s&&p.push(g(s))}else{var t=b[q].getAsFile();null!=t&&(n.push(t),o+=t.size)}if(n.length>j||o>l||!f&&n.length>0)break}else if(null!=c)for(var u=0;u<c.length;u++){var v=c.item(u);if((v.type||v.size>0)&&(n.push(v),o+=v.size),n.length>j||o>l||!f&&n.length>0)break}var w=k.defer();return k.all(p).then(function(){if(f||m||!n.length)w.resolve(n);else{for(var a=0;n[a]&&"directory"===n[a].type;)a++;w.resolve([n[a]])}},function(a){w.reject(a)}),w.promise}var q=b(),r=function(a,b,c){return i.attrGetter(a,d,b,c)};if(r("dropAvailable")&&g(function(){a[r("dropAvailable")]?a[r("dropAvailable")].value=q:a[r("dropAvailable")]=q}),!q)return void(!0===r("ngfHideOnDropNotAvailable",a)&&c.css("display","none"));null==r("ngfSelect")&&i.registerModelChangeValidator(e,d,a);var s,t=null,u=f(r("ngfStopPropagation")),v=1;c[0].addEventListener("dragover",function(b){if(!l()&&i.shouldUpdateOn("drop",d,a)){if(b.preventDefault(),u(a)&&b.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var e=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy"}g.cancel(t),s||(s="C",o(a,d,b,function(d){s=d,c.addClass(s),r("ngfDrag",a,{$isDragging:!0,$class:s,$event:b})}))}},!1),c[0].addEventListener("dragenter",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),u(a)&&b.stopPropagation())},!1),c[0].addEventListener("dragleave",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),u(a)&&b.stopPropagation(),t=g(function(){s&&c.removeClass(s),s=null,r("ngfDrag",a,{$isDragging:!1,$event:b})},v||100))},!1),c[0].addEventListener("drop",function(b){if(!l()&&i.shouldUpdateOn("drop",d,a)){b.preventDefault(),u(a)&&b.stopPropagation(),s&&c.removeClass(s),s=null;var e,f=b.dataTransfer.items;try{e=b.dataTransfer&&b.dataTransfer.getData&&b.dataTransfer.getData("text/html")}catch(a){}p(f,b.dataTransfer.files,!1!==r("ngfAllowDir",a),r("multiple")||r("ngfMultiple",a)).then(function(a){a.length?m(a,b):n("dropUrl",e).then(function(a){m(a,b)})})}},!1),c[0].addEventListener("paste",function(b){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&r("ngfEnableFirefoxPaste",a)&&b.preventDefault(),!l()&&i.shouldUpdateOn("paste",d,a)){var c=[],e=b.clipboardData||b.originalEvent.clipboardData;if(e&&e.items)for(var f=0;f<e.items.length;f++)-1!==e.items[f].type.indexOf("image")&&c.push(e.items[f].getAsFile());c.length?m(c,b):n("pasteUrl",e).then(function(a){m(a,b)})}},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&r("ngfEnableFirefoxPaste",a)&&(c.attr("contenteditable",!0),c.on("keypress",function(a){a.metaKey||a.ctrlKey||a.preventDefault()}))}function b(){var a=document.createElement("div");return"draggable"in a&&"ondrop"in a&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload","$http","$q",function(b,c,d,e,f,g){return{restrict:"AEC",require:"?ngModel",link:function(h,i,j,k){a(h,i,j,k,b,c,d,e,f,g)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(a,c){b()&&c.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(a,c,d){return function(e,f,g){if(b()){var h=a(d.attrGetter("ngfDropAvailable",g));c(function(){h(e),h.assign&&h.assign(e,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(a,b){function c(a,b,c,d){switch(b){case 2:return a.transform(-1,0,0,1,c,0);case 3:return a.transform(-1,0,0,-1,c,d);case 4:return a.transform(1,0,0,-1,0,d);case 5:return a.transform(0,1,1,0,0,0);case 6:return a.transform(0,1,-1,0,d,0);case 7:return a.transform(0,-1,-1,0,d,c);case 8:return a.transform(0,-1,1,0,0,c)}}function d(a){for(var b="",c=new Uint8Array(a),d=c.byteLength,e=0;e<d;e++)b+=String.fromCharCode(c[e]);return window.btoa(b)}var e=a;return e.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&e.isResizeSupported()},e.readOrientation=function(a){var c=b.defer(),d=new FileReader,e=a.slice?a.slice(0,65536):a;return d.readAsArrayBuffer(e),d.onerror=function(a){return c.reject(a)},d.onload=function(a){var b={orientation:1},d=new DataView(this.result);if(65496!==d.getUint16(0,!1))return c.resolve(b);for(var e=d.byteLength,f=2;f<e;){var g=d.getUint16(f,!1);if(f+=2,65505===g){if(1165519206!==d.getUint32(f+=2,!1))return c.resolve(b);var h=18761===d.getUint16(f+=6,!1);f+=d.getUint32(f+4,h);var i=d.getUint16(f,h);f+=2;for(var j=0;j<i;j++)if(274===d.getUint16(f+12*j,h)){var k=d.getUint16(f+12*j+8,h);return k>=2&&k<=8&&(d.setUint16(f+12*j+8,1,h),b.fixedArrayBuffer=a.target.result),b.orientation=k,c.resolve(b)}}else{if(65280!=(65280&g))break;f+=d.getUint16(f,!1)}}return c.resolve(b)},c.promise},e.applyExifRotation=function(a){if(0!==a.type.indexOf("image/jpeg"))return e.emptyPromise(a);var f=b.defer();return e.readOrientation(a).then(function(b){if(b.orientation<2||b.orientation>8)return f.resolve(a);e.dataUrl(a,!0).then(function(g){var h=document.createElement("canvas"),i=document.createElement("img");i.onload=function(){try{h.width=b.orientation>4?i.height:i.width,h.height=b.orientation>4?i.width:i.height;var g=h.getContext("2d");c(g,b.orientation,i.width,i.height),g.drawImage(i,0,0);var j=h.toDataURL(a.type||"image/WebP",.934);j=e.restoreExif(d(b.fixedArrayBuffer),j);var k=e.dataUrltoBlob(j,a.name);f.resolve(k)}catch(a){return f.reject(a)}},i.onerror=function(){f.reject()},i.src=g},function(a){f.reject(a)})},function(a){f.reject(a)}),f.promise},e.restoreExif=function(a,b){var c={};return c.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c.encode64=function(a){var b,c,d,e,f,g="",h="",i="",j=0;do{b=a[j++],c=a[j++],h=a[j++],d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.KEY_STR.charAt(d)+this.KEY_STR.charAt(e)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(i),b=c=h="",d=e=f=i=""}while(j<a.length);return g},c.restore=function(a,b){a.match("data:image/jpeg;base64,")&&(a=a.replace("data:image/jpeg;base64,",""));var c=this.decode64(a),d=this.slice2Segments(c),e=this.exifManipulation(b,d);return"data:image/jpeg;base64,"+this.encode64(e)},c.exifManipulation=function(a,b){var c=this.getExifArray(b),d=this.insertExif(a,c);return new Uint8Array(d)},c.getExifArray=function(a){for(var b,c=0;c<a.length;c++)if(b=a[c],255===b[0]&225===b[1])return b;return[]},c.insertExif=function(a,b){var c=a.replace("data:image/jpeg;base64,",""),d=this.decode64(c),e=d.indexOf(255,3),f=d.slice(0,e),g=d.slice(e),h=f;return h=h.concat(b),h=h.concat(g)},c.slice2Segments=function(a){for(var b=0,c=[];;){if(255===a[b]&218===a[b+1])break;if(255===a[b]&216===a[b+1])b+=2;else{var d=256*a[b+2]+a[b+3],e=b+d+2,f=a.slice(b,e);c.push(f),b=e}if(b>a.length)break}return c},c.decode64=function(a){var b,c,d,e,f,g="",h="",i=0,j=[];/[^A-Za-z0-9\+\/\=]/g.exec(a)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{d=this.KEY_STR.indexOf(a.charAt(i++)),e=this.KEY_STR.indexOf(a.charAt(i++)),f=this.KEY_STR.indexOf(a.charAt(i++)),h=this.KEY_STR.indexOf(a.charAt(i++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,g=(3&f)<<6|h,j.push(b),64!==f&&j.push(c),64!==h&&j.push(g),b=c=g="",d=e=f=h=""}while(i<a.length);return j},c.restore(a,b)},e}]),function(a,b,c){"use strict";b.module("ngToast.provider",[]).provider("ngToast",[function(){function a(a){for(var d=Math.floor(1e3*Math.random());c.indexOf(d)>-1;)d=Math.floor(1e3*Math.random());this.id=d,this.count=0,this.animation=e.animation,this.className=e.className,this.additionalClasses=e.additionalClasses,this.dismissOnTimeout=e.dismissOnTimeout,this.timeout=e.timeout,this.dismissButton=e.dismissButton,this.dismissButtonHtml=e.dismissButtonHtml,this.dismissOnClick=e.dismissOnClick,this.onDismiss=e.onDismiss,this.compileContent=e.compileContent,b.extend(this,a)}var c=[],d=[],e={animation:!1,className:"success",additionalClasses:null,dismissOnTimeout:!0,timeout:4e3,dismissButton:!1,dismissButtonHtml:"&times;",dismissOnClick:!0,onDismiss:null,compileContent:!1,combineDuplications:!1,horizontalPosition:"right",verticalPosition:"top",maxNumber:0,newestOnTop:!0};this.configure=function(a){b.extend(e,a)},this.$get=[function(){var b=function(a,b){return b="object"==typeof b?b:{content:b},b.className=a,this.create(b)};return{settings:e,messages:c,dismiss:function(a){if(a){for(var b=c.length-1;b>=0;b--)if(c[b].id===a)return c.splice(b,1),void d.splice(d.indexOf(a),1)}else{for(;c.length>0;)c.pop();d=[]}},create:function(b){if(b="object"==typeof b?b:{content:b},e.combineDuplications)for(var f=d.length-1;f>=0;f--){var g=c[f],h=b.className||"success";if(g.content===b.content&&g.className===h)return void c[f].count++}e.maxNumber>0&&d.length>=e.maxNumber&&this.dismiss(d[0]);var i=new a(b);return c[e.newestOnTop?"unshift":"push"](i),d.push(i.id),i.id},success:function(a){return b.call(this,"success",a)},info:function(a){return b.call(this,"info",a)},warning:function(a){return b.call(this,"warning",a)},danger:function(a){return b.call(this,"danger",a)}}}]}])}(window,window.angular),function(a,b){"use strict";b.module("ngToast.directives",["ngToast.provider"]).run(["$templateCache",function(a){a.put("ngToast/toast.html",'<div class="ng-toast ng-toast--{{hPos}} ng-toast--{{vPos}} {{animation ? \'ng-toast--animate-\' + animation : \'\'}}"><ul class="ng-toast__list"><toast-message ng-repeat="message in messages" message="message" count="message.count"><span ng-bind-html="message.content"></span></toast-message></ul></div>'),
a.put("ngToast/toastMessage.html",'<li class="ng-toast__message {{message.additionalClasses}}"ng-mouseenter="onMouseEnter()"ng-mouseleave="onMouseLeave()"><div class="alert alert-{{message.className}}" ng-class="{\'alert-dismissible\': message.dismissButton}"><button type="button" class="close" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"></button><span ng-if="count" class="ng-toast__message__count">{{count + 1}}</span><span ng-if="!message.compileContent" ng-transclude></span></div></li>')}]).directive("toast",["ngToast","$templateCache","$log",function(a,b,c){return{replace:!0,restrict:"EA",templateUrl:"ngToast/toast.html",compile:function(d,e){if(e.template){var f=b.get(e.template);f?d.replaceWith(f):c.warn("ngToast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.")}return function(b){b.hPos=a.settings.horizontalPosition,b.vPos=a.settings.verticalPosition,b.animation=a.settings.animation,b.messages=a.messages}}}}]).directive("toastMessage",["$timeout","$compile","ngToast",function(a,b,c){return{replace:!0,transclude:!0,restrict:"EA",scope:{message:"=",count:"="},controller:["$scope","ngToast",function(a,b){a.dismiss=function(){b.dismiss(a.message.id)}}],templateUrl:"ngToast/toastMessage.html",link:function(d,e,f,g,h){e.attr("data-message-id",d.message.id);var i,j=d.message.compileContent;if(d.cancelTimeout=function(){a.cancel(i)},d.startTimeout=function(){d.message.dismissOnTimeout&&(i=a(function(){c.dismiss(d.message.id)},d.message.timeout))},d.onMouseEnter=function(){d.cancelTimeout()},d.onMouseLeave=function(){d.startTimeout()},j){var k;h(d,function(a){k=a,e.children().append(k)}),a(function(){b(k.contents())("boolean"==typeof j?d.$parent:j,function(a){k.replaceWith(a)})},0)}d.startTimeout(),d.message.dismissOnClick&&e.bind("click",function(){c.dismiss(d.message.id),d.$apply()}),d.message.onDismiss&&d.$on("$destroy",d.message.onDismiss.bind(d.message))}}}])}(window,window.angular),function(a,b){"use strict";b.module("ngToast",["ngSanitize","ngToast.directives","ngToast.provider"])}(window,window.angular),angular.module("mgcrea.jquery",[]).provider("dimensions",function(){this.$get=function(){return this},this.offset=function(){if(this){var a=this.getBoundingClientRect(),b=this.ownerDocument.documentElement;return{top:a.top+window.pageYOffset-b.clientTop,left:a.left+window.pageXOffset-b.clientLeft}}},this.height=function(a){var b=window.getComputedStyle(this),c=this.offsetHeight;return a?c+=parseFloat(b.marginTop)+parseFloat(b.marginBottom):c-=parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)+parseFloat(b.borderTopWidth)+parseFloat(b.borderBottomWidth),c},this.width=function(a){var b=window.getComputedStyle(this),c=this.offsetWidth;return a?c+=parseFloat(b.marginLeft)+parseFloat(b.marginRight):c-=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)+parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth),c}}).constant("debounce",function(a,b){var c,d;return function(){var e=this,f=arguments,g=function(){c=null,d=a.apply(e,f)};return clearTimeout(c),c=setTimeout(g,b),d}}).provider("jQuery",["dimensionsProvider",function(a){var b=this,c=angular.element;this.fn=angular.extend({},a),this.$get=function(){return delete b.fn.$get,function(a){var d=a instanceof HTMLElement?a:document.querySelectorAll(a);return d=c(d),angular.forEach(b.fn,function(a,b){d[b]=a.bind(d[0])}),d}}}]),angular.module("mgcrea.bootstrap.affix",["mgcrea.jquery"]).directive("bsAffix",["$window","dimensions",function($window,dimensions){var checkPosition=function(a,b,c){var d,e=window.pageYOffset,f=document.body.scrollHeight,g=dimensions.offset.call(b[0]),h=dimensions.height.call(b[0]),i=1*c.offsetTop,j=1*c.offsetBottom;d=!(null!==a.unpin&&e+a.unpin<=g.top)&&(j&&g.top+h>=f-j?"bottom":!!(i&&i>=e)&&"top"),a.affixed!==d&&(a.affixed=d,a.unpin="bottom"===d?g.top-e:null,b.removeClass("affix affix-top affix-bottom").addClass("affix"+(d?"-"+d:"")))},checkCallbacks=function(scope,instance,iElement,iAttrs){instance.affixed?iAttrs.onUnaffix&&eval("scope."+iAttrs.onUnaffix):iAttrs.onAffix&&eval("scope."+iAttrs.onAffix)};return{restrict:"EAC",link:function(a,b,c){var d={unpin:null};angular.element($window).bind("scroll",function(){checkPosition(d,b,c),checkCallbacks(a,d,b,c)}),angular.element($window).bind("click",function(){setTimeout(function(){checkPosition(d,b,c),checkCallbacks(a,d,b,c)},1)})}}}]),angular.module("dibari.angular-ellipsis",[]).directive("ellipsis",["$timeout","$window","$sce",function(a,b,c){var d=function(b){var c=null,d=[];this.remove=function(b){-1!==d.indexOf(b)&&(d.splice(d.indexOf(b),1),0===d.length&&(a.cancel(c),c=null))},this.add=function(e){-1===d.indexOf(e)&&d.push(e),c||(c=a(function(){var a=d.slice();c=null,d.length=0,a.forEach(function(a){a()})},b))}},e=new d(0),f=new d(75);return{restrict:"A",scope:{ngShow:"=",ngBind:"=",ngBindHtml:"=",ellipsisAppend:"@",ellipsisAppendClick:"&",ellipsisSymbol:"@",ellipsisSeparator:"@",useParent:"@",ellipsisSeparatorReg:"=",ellipsisFallbackFontSize:"@"},compile:function(a,d,g){return function(a,d,g){function h(a){return void 0!==a}function i(a){var b=0;return angular.forEach(a.parent().children(),function(c){c!=a[0]&&(b+=c.clientHeight)}),a.parent()[0].clientHeight-b}function j(){var b=a.ngBind||a.ngBindHtml,e=!1;if(c.isEnabled()&&angular.isObject(b)&&c.getTrustedHtml(b)&&(e=!0,b=c.getTrustedHtml(b)),b){var f=!a.ngBind&&!!a.ngBindHtml,j=0,l=void 0!==g.ellipsisSymbol?g.ellipsisSymbol:"&hellip;",m=void 0!==a.ellipsisSeparator?g.ellipsisSeparator:" ",n=void 0!==a.ellipsisSeparatorReg&&a.ellipsisSeparatorReg,o=void 0!==a.ellipsisAppend&&""!==a.ellipsisAppend?l+"<span class='angular-ellipsis-append'>"+a.ellipsisAppend+"</span>":l,p=n?b.match(n):b.split(m);if(g.isTruncated=!1,f?d.html(b):d.text(b),h(g.ellipsisFallbackFontSize)&&k(d)&&d.css("font-size",g.ellipsisFallbackFontSize),k(d,a.useParent)){var q=p.length,r=a.useParent?i(d):d[0].clientHeight;for(f?d.html(b+o):d.text(b).html(d.html()+o),d.attr("data-overflowed","true");j<q;j++){var s=p.pop();if(0===p.length&&(p[0]=s.substring(0,Math.min(s.length,5))),f?d.html(p.join(m)+o):d.text(p.join(m)).html(d.html()+o),(a.useParent?d.parent()[0]:d[0]).scrollHeight<r||!1===k(d,a.useParent)){g.isTruncated=!0;break}}l!=o&&void 0!==a.ellipsisAppendClick&&""!==a.ellipsisAppendClick&&d.find("span.angular-ellipsis-append").bind("click",function(b){a.$apply(function(){a.ellipsisAppendClick.call(a,{event:b})})}),!e&&c.isEnabled()&&c.trustAsHtml(b)}else d.attr("data-overflowed","false")}}function k(a,b){return a=b?a.parent():a,a[0].scrollHeight>a[0].clientHeight}function l(){g.lastWindowResizeWidth==window.innerWidth&&g.lastWindowResizeHeight==window.innerHeight||j(),g.lastWindowResizeWidth=window.innerWidth,g.lastWindowResizeHeight=window.innerHeight}function m(){f.add(l)}g.lastWindowResizeTime=0,g.lastWindowResizeWidth=0,g.lastWindowResizeHeight=0,g.lastWindowTimeoutEvent=null,g.isTruncated=!1,a.$watch("ngShow",function(){e.add(j)}),a.$watch("ngBind",function(){e.add(j)}),a.$watch("ngBindHtml",function(){e.add(j)}),a.$watch("ellipsisAppend",function(){j()}),a.$watch(function(){return 0!=d[0].offsetWidth&&0!=d[0].offsetHeight},function(){f.add(j)});var n=a.$on("dibari:refresh-ellipsis",function(){e.add(j)}),o=angular.element(b);o.bind("resize",m),a.$on("$destroy",function(){o.unbind("resize",m),e.remove(j),f.remove(l),n&&(n(),n=null)})}}}}]),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b(require,exports,module):a.CountUp=b()}(this,function(a,b,c){return function(a,b,c,d,e,f){function g(a){var b,c,d,e,f,g,h=a<0;if(a=Math.abs(a).toFixed(j.decimals),a+="",b=a.split("."),c=b[0],d=b.length>1?j.options.decimal+b[1]:"",j.options.useGrouping){for(e="",f=0,g=c.length;f<g;++f)0!==f&&f%3==0&&(e=j.options.separator+e),e=c[g-f-1]+e;c=e}return j.options.numerals.length&&(c=c.replace(/[0-9]/g,function(a){return j.options.numerals[+a]}),d=d.replace(/[0-9]/g,function(a){return j.options.numerals[+a]})),(h?"-":"")+j.options.prefix+c+d+j.options.suffix}function h(a,b,c,d){return c*(1-Math.pow(2,-10*a/d))*1024/1023+b}function i(a){return"number"==typeof a&&!isNaN(a)}var j=this;if(j.version=function(){return"1.9.3"},j.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:h,formattingFn:g,prefix:"",suffix:"",numerals:[]},f&&"object"==typeof f)for(var k in j.options)f.hasOwnProperty(k)&&null!==f[k]&&(j.options[k]=f[k]);""===j.options.separator?j.options.useGrouping=!1:j.options.separator=""+j.options.separator;for(var l=0,m=["webkit","moz","ms","o"],n=0;n<m.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[m[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[m[n]+"CancelAnimationFrame"]||window[m[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,b){var c=(new Date).getTime(),d=Math.max(0,16-(c-l)),e=window.setTimeout(function(){a(c+d)},d);return l=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),j.initialize=function(){return!(!j.initialized&&(j.error="",j.d="string"==typeof a?document.getElementById(a):a,j.d?(j.startVal=Number(b),j.endVal=Number(c),i(j.startVal)&&i(j.endVal)?(j.decimals=Math.max(0,d||0),j.dec=Math.pow(10,j.decimals),j.duration=1e3*Number(e)||2e3,j.countDown=j.startVal>j.endVal,j.frameVal=j.startVal,j.initialized=!0,0):(j.error="[CountUp] startVal ("+b+") or endVal ("+c+") is not a number",1)):(j.error="[CountUp] target is null or undefined",1)))},j.printValue=function(a){var b=j.options.formattingFn(a);"INPUT"===j.d.tagName?this.d.value=b:"text"===j.d.tagName||"tspan"===j.d.tagName?this.d.textContent=b:this.d.innerHTML=b},j.count=function(a){j.startTime||(j.startTime=a),j.timestamp=a;var b=a-j.startTime;j.remaining=j.duration-b,j.options.useEasing?j.countDown?j.frameVal=j.startVal-j.options.easingFn(b,0,j.startVal-j.endVal,j.duration):j.frameVal=j.options.easingFn(b,j.startVal,j.endVal-j.startVal,j.duration):j.countDown?j.frameVal=j.startVal-(j.startVal-j.endVal)*(b/j.duration):j.frameVal=j.startVal+(j.endVal-j.startVal)*(b/j.duration),j.countDown?j.frameVal=j.frameVal<j.endVal?j.endVal:j.frameVal:j.frameVal=j.frameVal>j.endVal?j.endVal:j.frameVal,j.frameVal=Math.round(j.frameVal*j.dec)/j.dec,j.printValue(j.frameVal),b<j.duration?j.rAF=requestAnimationFrame(j.count):j.callback&&j.callback()},j.start=function(a){j.initialize()&&(j.callback=a,j.rAF=requestAnimationFrame(j.count))},j.pauseResume=function(){j.paused?(j.paused=!1,delete j.startTime,j.duration=j.remaining,j.startVal=j.frameVal,requestAnimationFrame(j.count)):(j.paused=!0,cancelAnimationFrame(j.rAF))},j.reset=function(){j.paused=!1,delete j.startTime,j.initialized=!1,j.initialize()&&(cancelAnimationFrame(j.rAF),j.printValue(j.startVal))},j.update=function(a){if(j.initialize()){if(a=Number(a),!i(a))return void(j.error="[CountUp] update() - new endVal is not a number: "+a);j.error="",a!==j.frameVal&&(cancelAnimationFrame(j.rAF),j.paused=!1,delete j.startTime,j.startVal=j.frameVal,j.endVal=a,j.countDown=j.startVal>j.endVal,j.rAF=requestAnimationFrame(j.count))}},j.initialize()&&j.printValue(j.startVal)}}),function(a){"use strict";a.module("countUpModule",[]).directive("countUp",["$filter",function(b){return{restrict:"A",scope:{startVal:"=?",endVal:"=?",duration:"=?",decimals:"=?",reanimateOnClick:"=?",filter:"@",options:"=?"},link:function(c,d,e){function f(a,b,c,e){a=a||0,isNaN(a)&&(a=Number(a.match(/[\d\-\.]+/g).join(""))),b=b||0,isNaN(b)&&(b=Number(b.match(/[\d\-\.]+/g).join(""))),e=Number(e)||2,c=Number(c)||0;var f=new CountUp(d[0],a,b,c,e,h);return b>999&&(f=new CountUp(d[0],a,b-100,c,e/2,h)),f}function g(){j.reset(),c.endVal>999?j.start(function(){j.update(c.endVal)}):j.start()}var h={};if(c.filter){var i=function(){var a=c.filter.split(":"),d=a.shift();return function(c){var e=[c];return Array.prototype.push.apply(e,a),c=b(d).apply(null,e)}}();h.formattingFn=i}c.options&&a.extend(h,c.options);var j=f(c.startVal,c.endVal,c.decimals,c.duration);e.scrollSpyEvent?c.$on(e.scrollSpyEvent,function(a,b){b===e.id&&g()}):g(),(!a.isDefined(c.reanimateOnClick)||c.reanimateOnClick)&&d.on("click",function(){g()}),c.$watch("endVal",function(a,b){null!==a&&a!==b&&(null!==j?j.update(c.endVal):(j=f(c.startVal,c.endVal,c.decimals,c.duration),g()))})}}}])}(angular),function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=a()}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){},{}],2:[function(a,b,c){function d(a){if(a){var b=[0,0,0],c=1,d=a.match(/^#([a-fA-F0-9]{3})$/i);if(d){d=d[1];for(var e=0;e<b.length;e++)b[e]=parseInt(d[e]+d[e],16)}else if(d=a.match(/^#([a-fA-F0-9]{6})$/i))for(d=d[1],e=0;e<b.length;e++)b[e]=parseInt(d.slice(2*e,2*e+2),16);else if(d=a.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(e=0;e<b.length;e++)b[e]=parseInt(d[e+1]);c=parseFloat(d[4])}else if(d=a.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(e=0;e<b.length;e++)b[e]=Math.round(2.55*parseFloat(d[e+1]));c=parseFloat(d[4])}else if(d=a.match(/(\w+)/)){if("transparent"==d[1])return[0,0,0,0];if(!(b=l[d[1]]))return}for(e=0;e<b.length;e++)b[e]=j(b[e],0,255);return c=c||0==c?j(c,0,1):1,b[3]=c,b}}function e(a){if(a){var b=a.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(b){var c=parseFloat(b[4]);return[j(parseInt(b[1]),0,360),j(parseFloat(b[2]),0,100),j(parseFloat(b[3]),0,100),j(isNaN(c)?1:c,0,1)]}}}function f(a){if(a){var b=a.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(b){var c=parseFloat(b[4]);return[j(parseInt(b[1]),0,360),j(parseFloat(b[2]),0,100),j(parseFloat(b[3]),0,100),j(isNaN(c)?1:c,0,1)]}}}function g(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+b+")"}function h(a,b){return"rgba("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%, "+(b||a[3]||1)+")"}function i(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+b+")"}function j(a,b,c){return Math.min(Math.max(b,a),c)}function k(a){var b=a.toString(16).toUpperCase();return b.length<2?"0"+b:b}var l=a(6);b.exports={getRgba:d,getHsla:e,getRgb:function(a){var b=d(a);return b&&b.slice(0,3)},getHsl:function(a){var b=e(a);return b&&b.slice(0,3)},getHwb:f,getAlpha:function(a){var b=d(a);return b?b[3]:(b=e(a))?b[3]:(b=f(a))?b[3]:void 0},hexString:function(a){return"#"+k(a[0])+k(a[1])+k(a[2])},rgbString:function(a,b){return b<1||a[3]&&a[3]<1?g(a,b):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"},rgbaString:g,percentString:function(a,b){return b<1||a[3]&&a[3]<1?h(a,b):"rgb("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%)"},percentaString:h,hslString:function(a,b){return b<1||a[3]&&a[3]<1?i(a,b):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"},hslaString:i,hwbString:function(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+(void 0!==b&&1!==b?", "+b:"")+")"},keyword:function(a){return m[a.slice(0,3)]}};var m={};for(var n in l)m[l[n]]=n},{6:6}],3:[function(a,b,c){var d=a(5),e=a(2),f=function(a){return a instanceof f?a:this instanceof f?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof a?(b=e.getRgba(a))?this.setValues("rgb",b):(b=e.getHsla(a))?this.setValues("hsl",b):(b=e.getHwb(a))&&this.setValues("hwb",b):"object"==typeof a&&(void 0!==(b=a).r||void 0!==b.red?this.setValues("rgb",b):void 0!==b.l||void 0!==b.lightness?this.setValues("hsl",b):void 0!==b.v||void 0!==b.value?this.setValues("hsv",b):void 0!==b.w||void 0!==b.whiteness?this.setValues("hwb",b):void 0===b.c&&void 0===b.cyan||this.setValues("cmyk",b)))):new f(a);var b};f.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var a=this.values;return 1!==a.alpha?a.hwb.concat([a.alpha]):a.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values;return a.rgb.concat([a.alpha])},hslaArray:function(){var a=this.values;return a.hsl.concat([a.alpha])},alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return a&&(a=(a%=360)<0?360+a:a),this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},whiteness:function(a){return this.setChannel("hwb",1,a)},blackness:function(a){return this.setChannel("hwb",2,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return e.hexString(this.values.rgb)},rgbString:function(){return e.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return e.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return e.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return e.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return e.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return e.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return e.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var a=this.values.rgb;return a[0]<<16|a[1]<<8|a[2]},luminosity:function(){for(var a=this.values.rgb,b=[],c=0;c<a.length;c++){var d=a[c]/255;b[c]=d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4)}return.2126*b[0]+.7152*b[1]+.0722*b[2]},contrast:function(a){var b=this.luminosity(),c=a.luminosity();return b>c?(b+.05)/(c+.05):(c+.05)/(b+.05)},level:function(a){var b=this.contrast(a);return b>=7.1?"AAA":b>=4.5?"AA":""},dark:function(){var a=this.values.rgb;return(299*a[0]+587*a[1]+114*a[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var a=[],b=0;b<3;b++)a[b]=255-this.values.rgb[b];return this.setValues("rgb",a),this},lighten:function(a){var b=this.values.hsl;return b[2]+=b[2]*a,this.setValues("hsl",b),this},darken:function(a){var b=this.values.hsl;return b[2]-=b[2]*a,this.setValues("hsl",b),this},saturate:function(a){var b=this.values.hsl;return b[1]+=b[1]*a,this.setValues("hsl",b),this},desaturate:function(a){var b=this.values.hsl;return b[1]-=b[1]*a,this.setValues("hsl",b),this},whiten:function(a){var b=this.values.hwb;return b[1]+=b[1]*a,this.setValues("hwb",b),this},blacken:function(a){var b=this.values.hwb;return b[2]+=b[2]*a,this.setValues("hwb",b),this},greyscale:function(){var a=this.values.rgb,b=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[b,b,b]),this},clearer:function(a){var b=this.values.alpha;return this.setValues("alpha",b-b*a),this},opaquer:function(a){var b=this.values.alpha;return this.setValues("alpha",b+b*a),this},rotate:function(a){var b=this.values.hsl,c=(b[0]+a)%360;return b[0]=c<0?360+c:c,this.setValues("hsl",b),this},mix:function(a,b){var c=this,d=a,e=void 0===b?.5:b,f=2*e-1,g=c.alpha()-d.alpha(),h=((f*g==-1?f:(f+g)/(1+f*g))+1)/2,i=1-h;return this.rgb(h*c.red()+i*d.red(),h*c.green()+i*d.green(),h*c.blue()+i*d.blue()).alpha(c.alpha()*e+d.alpha()*(1-e))},toJSON:function(){return this.rgb()},clone:function(){var a,b,c=new f,d=this.values,e=c.values;for(var g in d)d.hasOwnProperty(g)&&(a=d[g],"[object Array]"===(b={}.toString.call(a))?e[g]=a.slice(0):"[object Number]"===b?e[g]=a:console.error("unexpected color value:",a));return c}},f.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},f.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},f.prototype.getValues=function(a){for(var b=this.values,c={},d=0;d<a.length;d++)c[a.charAt(d)]=b[a][d];return 1!==b.alpha&&(c.a=b.alpha),c},f.prototype.setValues=function(a,b){var c,e,f=this.values,g=this.spaces,h=this.maxes,i=1;if(this.valid=!0,"alpha"===a)i=b;else if(b.length)f[a]=b.slice(0,a.length),i=b[a.length];else if(void 0!==b[a.charAt(0)]){for(c=0;c<a.length;c++)f[a][c]=b[a.charAt(c)];i=b.a}else if(void 0!==b[g[a][0]]){var j=g[a];for(c=0;c<a.length;c++)f[a][c]=b[j[c]];i=b.alpha}if(f.alpha=Math.max(0,Math.min(1,void 0===i?f.alpha:i)),"alpha"===a)return!1;for(c=0;c<a.length;c++)e=Math.max(0,Math.min(h[a][c],f[a][c])),f[a][c]=Math.round(e);for(var k in g)k!==a&&(f[k]=d[a][k](f[a]));return!0},f.prototype.setSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c),this)},f.prototype.setChannel=function(a,b,c){var d=this.values[a];return void 0===c?d[b]:c===d[b]?this:(d[b]=c,this.setValues(a,d),this)},"undefined"!=typeof window&&(window.Color=f),b.exports=f},{2:2,5:5}],4:[function(a,c,d){function e(a){var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g;return h==g?b=0:d==h?b=(e-f)/i:e==h?b=2+(f-d)/i:f==h&&(b=4+(d-e)/i),(b=Math.min(60*b,360))<0&&(b+=360),c=(g+h)/2,[b,100*(h==g?0:c<=.5?i/(h+g):i/(2-h-g)),100*c]}function f(a){var b,c,d=a[0],e=a[1],f=a[2],g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g;return c=0==h?0:i/h*1e3/10,h==g?b=0:d==h?b=(e-f)/i:e==h?b=2+(f-d)/i:f==h&&(b=4+(d-e)/i),(b=Math.min(60*b,360))<0&&(b+=360),[b,c,h/255*1e3/10]}function h(a){var b=a[0],c=a[1],d=a[2];return[e(a)[0],1/255*Math.min(b,Math.min(c,d))*100,100*(d=1-1/255*Math.max(b,Math.max(c,d)))]}function i(a){var b,c=a[0]/255,d=a[1]/255,e=a[2]/255;return[100*((1-c-(b=Math.min(1-c,1-d,1-e)))/(1-b)||0),100*((1-d-b)/(1-b)||0),100*((1-e-b)/(1-b)||0),100*b]}function j(a){return z[JSON.stringify(a)]}function k(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255;return[100*(.4124*(b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92)+.3576*(c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92)+.1805*(d=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92)),100*(.2126*b+.7152*c+.0722*d),100*(.0193*b+.1192*c+.9505*d)]}function l(a){var b=k(a),c=b[0],d=b[1],e=b[2];return d/=100,e/=108.883,c=(c/=95.047)>.008856?Math.pow(c,1/3):7.787*c+16/116,[116*(d=d>.008856?Math.pow(d,1/3):7.787*d+16/116)-16,500*(c-d),200*(d-(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116))]}function m(a){var b,c,d,e,f,g=a[0]/360,h=a[1]/100,i=a[2]/100;if(0==h)return[f=255*i,f,f];b=2*i-(c=i<.5?i*(1+h):i+h-i*h),e=[0,0,0];for(var j=0;j<3;j++)(d=g+1/3*-(j-1))<0&&d++,d>1&&d--,f=6*d<1?b+6*(c-b)*d:2*d<1?c:3*d<2?b+(c-b)*(2/3-d)*6:b,e[j]=255*f;return e}function n(a){var b=a[0]/60,c=a[1]/100,d=a[2]/100,e=Math.floor(b)%6,f=b-Math.floor(b),g=255*d*(1-c),h=255*d*(1-c*f),i=255*d*(1-c*(1-f));switch(d*=255,e){case 0:return[d,i,g];case 1:return[h,d,g];case 2:return[g,d,i];case 3:return[g,h,d];case 4:return[i,g,d];case 5:return[d,g,h]}}function o(a){var c,d,e,f,h=a[0]/360,i=a[1]/100,j=a[2]/100,k=i+j;switch(k>1&&(i/=k,j/=k),e=6*h-(c=Math.floor(6*h)),0!=(1&c)&&(e=1-e),f=i+e*((d=1-j)-i),c){default:case 6:case 0:r=d,g=f,b=i;break;case 1:r=f,g=d,b=i;break;case 2:r=i,g=d,b=f;break;case 3:r=i,g=f,b=d;break;case 4:r=f,g=i,b=d;break;case 5:r=d,g=i,b=f}return[255*r,255*g,255*b]}function p(a){var b=a[0]/100,c=a[1]/100,d=a[2]/100,e=a[3]/100;return[255*(1-Math.min(1,b*(1-e)+e)),255*(1-Math.min(1,c*(1-e)+e)),255*(1-Math.min(1,d*(1-e)+e))]}function q(a){var b,c,d,e=a[0]/100,f=a[1]/100,g=a[2]/100;return c=-.9689*e+1.8758*f+.0415*g,d=.0557*e+-.204*f+1.057*g,b=(b=3.2406*e+-1.5372*f+-.4986*g)>.0031308?1.055*Math.pow(b,1/2.4)-.055:b*=12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c*=12.92,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d*=12.92,[255*(b=Math.min(Math.max(0,b),1)),255*(c=Math.min(Math.max(0,c),1)),255*(d=Math.min(Math.max(0,d),1))]}function s(a){var b=a[0],c=a[1],d=a[2];return c/=100,d/=108.883,b=(b/=95.047)>.008856?Math.pow(b,1/3):7.787*b+16/116,[116*(c=c>.008856?Math.pow(c,1/3):7.787*c+16/116)-16,500*(b-c),200*(c-(d=d>.008856?Math.pow(d,1/3):7.787*d+16/116))]}function t(a){var b,c,d,e,f=a[0],g=a[1],h=a[2];return f<=8?e=(c=100*f/903.3)/100*7.787+16/116:(c=100*Math.pow((f+16)/116,3),e=Math.pow(c/100,1/3)),[b=b/95.047<=.008856?b=95.047*(g/500+e-16/116)/7.787:95.047*Math.pow(g/500+e,3),c,d=d/108.883<=.008859?d=108.883*(e-h/200-16/116)/7.787:108.883*Math.pow(e-h/200,3)]}function u(a){var b,c=a[0],d=a[1],e=a[2];return(b=360*Math.atan2(e,d)/2/Math.PI)<0&&(b+=360),[c,Math.sqrt(d*d+e*e),b]}function v(a){return q(t(a))}function w(a){var b,c=a[0],d=a[1];return b=a[2]/360*2*Math.PI,[c,d*Math.cos(b),d*Math.sin(b)]}function x(a){return y[a]}c.exports={rgb2hsl:e,rgb2hsv:f,rgb2hwb:h,rgb2cmyk:i,rgb2keyword:j,rgb2xyz:k,rgb2lab:l,rgb2lch:function(a){return u(l(a))},hsl2rgb:m,hsl2hsv:function(a){var b=a[0],c=a[1]/100,d=a[2]/100;return 0===d?[0,0,0]:[b,2*(c*=(d*=2)<=1?d:2-d)/(d+c)*100,(d+c)/2*100]},hsl2hwb:function(a){return h(m(a))},hsl2cmyk:function(a){return i(m(a))},hsl2keyword:function(a){return j(m(a))},hsv2rgb:n,hsv2hsl:function(a){var b,c,d=a[0],e=a[1]/100,f=a[2]/100;return b=e*f,[d,100*(b=(b/=(c=(2-e)*f)<=1?c:2-c)||0),100*(c/=2)]},hsv2hwb:function(a){return h(n(a))},hsv2cmyk:function(a){return i(n(a))},hsv2keyword:function(a){return j(n(a))},hwb2rgb:o,hwb2hsl:function(a){return e(o(a))},hwb2hsv:function(a){return f(o(a))},hwb2cmyk:function(a){return i(o(a))},hwb2keyword:function(a){return j(o(a))},cmyk2rgb:p,cmyk2hsl:function(a){return e(p(a))},cmyk2hsv:function(a){return f(p(a))},cmyk2hwb:function(a){return h(p(a))},cmyk2keyword:function(a){return j(p(a))},keyword2rgb:x,keyword2hsl:function(a){return e(x(a))},keyword2hsv:function(a){return f(x(a))},keyword2hwb:function(a){return h(x(a))},keyword2cmyk:function(a){return i(x(a))},keyword2lab:function(a){return l(x(a))},keyword2xyz:function(a){return k(x(a))},xyz2rgb:q,xyz2lab:s,xyz2lch:function(a){return u(s(a))},lab2xyz:t,lab2rgb:v,lab2lch:u,lch2lab:w,lch2xyz:function(a){return t(w(a))},lch2rgb:function(a){return v(w(a))}};var y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},z={};for(var A in y)z[JSON.stringify(y[A])]=A},{}],5:[function(a,b,c){var d=a(4),e=function(){return new j};for(var f in d){e[f+"Raw"]=function(a){return function(b){return"number"==typeof b&&(b=Array.prototype.slice.call(arguments)),d[a](b)}}(f);var g=/(\w+)2(\w+)/.exec(f),h=g[1],i=g[2];(e[h]=e[h]||{})[i]=e[f]=function(a){return function(b){"number"==typeof b&&(b=Array.prototype.slice.call(arguments));var c=d[a](b);if("string"==typeof c||void 0===c)return c;for(var e=0;e<c.length;e++)c[e]=Math.round(c[e]);return c}}(f)}var j=function(){this.convs={}};j.prototype.routeSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c))},j.prototype.setValues=function(a,b){return this.space=a,this.convs={},this.convs[a]=b,this},j.prototype.getValues=function(a){var b=this.convs[a];if(!b){var c=this.space,d=this.convs[c];b=e[c][a](d),this.convs[a]=b}return b},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(a){j.prototype[a]=function(b){return this.routeSpace(a,arguments)}}),b.exports=e},{4:4}],6:[function(a,b,c){"use strict";b.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],
bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(a,b,c){var d=a(29)();d.helpers=a(45),a(27)(d),d.defaults=a(25),d.Element=a(26),d.elements=a(40),d.Interaction=a(28),d.layouts=a(30),d.platform=a(48),d.plugins=a(31),d.Ticks=a(34),a(22)(d),a(23)(d),a(24)(d),a(33)(d),a(32)(d),a(35)(d),a(55)(d),a(53)(d),a(54)(d),a(56)(d),a(57)(d),a(58)(d),a(15)(d),a(16)(d),a(17)(d),a(18)(d),a(19)(d),a(20)(d),a(21)(d),a(8)(d),a(9)(d),a(10)(d),a(11)(d),a(12)(d),a(13)(d),a(14)(d);var e=a(49);for(var f in e)e.hasOwnProperty(f)&&d.plugins.register(e[f]);d.platform.initialize(),b.exports=d,"undefined"!=typeof window&&(window.Chart=d),d.Legend=e.legend._element,d.Title=e.title._element,d.pluginService=d.plugins,d.PluginBase=d.Element.extend({}),d.canvasHelpers=d.helpers.canvas,d.layoutService=d.layouts},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,40:40,45:45,48:48,49:49,53:53,54:54,55:55,56:56,57:57,58:58,8:8,9:9}],8:[function(a,b,c){"use strict";b.exports=function(a){a.Bar=function(b,c){return c.type="bar",new a(b,c)}}},{}],9:[function(a,b,c){"use strict";b.exports=function(a){a.Bubble=function(b,c){return c.type="bubble",new a(b,c)}}},{}],10:[function(a,b,c){"use strict";b.exports=function(a){a.Doughnut=function(b,c){return c.type="doughnut",new a(b,c)}}},{}],11:[function(a,b,c){"use strict";b.exports=function(a){a.Line=function(b,c){return c.type="line",new a(b,c)}}},{}],12:[function(a,b,c){"use strict";b.exports=function(a){a.PolarArea=function(b,c){return c.type="polarArea",new a(b,c)}}},{}],13:[function(a,b,c){"use strict";b.exports=function(a){a.Radar=function(b,c){return c.type="radar",new a(b,c)}}},{}],14:[function(a,b,c){"use strict";b.exports=function(a){a.Scatter=function(b,c){return c.type="scatter",new a(b,c)}}},{}],15:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),d._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(a,b){var c="";return a.length>0&&(a[0].yLabel?c=a[0].yLabel:b.labels.length>0&&a[0].index<b.labels.length&&(c=b.labels[a[0].index])),c},label:function(a,b){return(b.datasets[a.datasetIndex].label||"")+": "+a.xLabel}},mode:"index",axis:"y"}}),b.exports=function(a){a.controllers.bar=a.DatasetController.extend({dataElementType:e.Rectangle,initialize:function(){var b;a.DatasetController.prototype.initialize.apply(this,arguments),(b=this.getMeta()).stack=this.getDataset().stack,b.bar=!0},update:function(a){var b,c,d=this.getMeta().data;for(this._ruler=this.getRuler(),b=0,c=d.length;b<c;++b)this.updateElement(d[b],b,a)},updateElement:function(a,b,c){var d=this,e=d.chart,g=d.getMeta(),h=d.getDataset(),i=a.custom||{},j=e.options.elements.rectangle;a._xScale=d.getScaleForId(g.xAxisID),a._yScale=d.getScaleForId(g.yAxisID),a._datasetIndex=d.index,a._index=b,a._model={datasetLabel:h.label,label:e.data.labels[b],borderSkipped:i.borderSkipped?i.borderSkipped:j.borderSkipped,backgroundColor:i.backgroundColor?i.backgroundColor:f.valueAtIndexOrDefault(h.backgroundColor,b,j.backgroundColor),borderColor:i.borderColor?i.borderColor:f.valueAtIndexOrDefault(h.borderColor,b,j.borderColor),borderWidth:i.borderWidth?i.borderWidth:f.valueAtIndexOrDefault(h.borderWidth,b,j.borderWidth)},d.updateElementGeometry(a,b,c),a.pivot()},updateElementGeometry:function(a,b,c){var d=this,e=a._model,f=d.getValueScale(),g=f.getBasePixel(),h=f.isHorizontal(),i=d._ruler||d.getRuler(),j=d.calculateBarValuePixels(d.index,b),k=d.calculateBarIndexPixels(d.index,b,i);e.horizontal=h,e.base=c?g:j.base,e.x=h?c?g:j.head:k.center,e.y=h?k.center:c?g:j.head,e.height=h?k.size:void 0,e.width=h?void 0:k.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(a){var b,c,d=this.chart,e=this.getIndexScale().options.stacked,f=void 0===a?d.data.datasets.length:a+1,g=[];for(b=0;b<f;++b)(c=d.getDatasetMeta(b)).bar&&d.isDatasetVisible(b)&&(!1===e||!0===e&&-1===g.indexOf(c.stack)||void 0===e&&(void 0===c.stack||-1===g.indexOf(c.stack)))&&g.push(c.stack);return g},getStackCount:function(){return this._getStacks().length},getStackIndex:function(a,b){var c=this._getStacks(a),d=void 0!==b?c.indexOf(b):-1;return-1===d?c.length-1:d},getRuler:function(){var a,b,c=this.getIndexScale(),d=this.getStackCount(),e=this.index,g=c.isHorizontal(),h=g?c.left:c.top,i=h+(g?c.width:c.height),j=[];for(a=0,b=this.getMeta().data.length;a<b;++a)j.push(c.getPixelForValue(null,a,e));return{min:f.isNullOrUndef(c.options.barThickness)?function(a,b){var c,d,e,f,g=a.isHorizontal()?a.width:a.height,h=a.getTicks();for(e=1,f=b.length;e<f;++e)g=Math.min(g,b[e]-b[e-1]);for(e=0,f=h.length;e<f;++e)d=a.getPixelForTick(e),g=e>0?Math.min(g,d-c):g,c=d;return g}(c,j):-1,pixels:j,start:h,end:i,stackCount:d,scale:c}},calculateBarValuePixels:function(a,b){var c,d,e,f,g,h,i=this.chart,j=this.getMeta(),k=this.getValueScale(),l=i.data.datasets,m=k.getRightValue(l[a].data[b]),n=k.options.stacked,o=j.stack,p=0;if(n||void 0===n&&void 0!==o)for(c=0;c<a;++c)(d=i.getDatasetMeta(c)).bar&&d.stack===o&&d.controller.getValueScaleId()===k.id&&i.isDatasetVisible(c)&&(e=k.getRightValue(l[c].data[b]),(m<0&&e<0||m>=0&&e>0)&&(p+=e));return f=k.getPixelForValue(p),{size:h=((g=k.getPixelForValue(p+m))-f)/2,base:f,head:g,center:g+h/2}},calculateBarIndexPixels:function(a,b,c){var d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=c.scale.options,w="flex"===v.barThickness?(m=b,o=v,q=(n=c).pixels,r=q[m],s=m>0?q[m-1]:null,t=m<q.length-1?q[m+1]:null,u=o.categoryPercentage,null===s&&(s=r-(null===t?n.end-r:t-r)),null===t&&(t=r+r-s),p=r-(r-s)/2*u,{chunk:(t-s)/2*u/n.stackCount,ratio:o.barPercentage,start:p}):(d=b,e=c,j=(g=v).barThickness,k=e.stackCount,l=e.pixels[d],f.isNullOrUndef(j)?(h=e.min*g.categoryPercentage,i=g.barPercentage):(h=j*k,i=1),{chunk:h/k,ratio:i,start:l-h/2}),x=this.getStackIndex(a,this.getMeta().stack),y=w.start+w.chunk*x+w.chunk/2,z=Math.min(f.valueOrDefault(v.maxBarThickness,1/0),w.chunk*w.ratio);return{base:y-z/2,head:y+z/2,center:y,size:z}},draw:function(){var a=this.chart,b=this.getValueScale(),c=this.getMeta().data,d=this.getDataset(),e=c.length,g=0;for(f.canvas.clipArea(a.ctx,a.chartArea);g<e;++g)isNaN(b.getRightValue(d.data[g]))||c[g].draw();f.canvas.unclipArea(a.ctx)},setHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a._index,d=a.custom||{},e=a._model;e.backgroundColor=d.hoverBackgroundColor?d.hoverBackgroundColor:f.valueAtIndexOrDefault(b.hoverBackgroundColor,c,f.getHoverColor(e.backgroundColor)),e.borderColor=d.hoverBorderColor?d.hoverBorderColor:f.valueAtIndexOrDefault(b.hoverBorderColor,c,f.getHoverColor(e.borderColor)),e.borderWidth=d.hoverBorderWidth?d.hoverBorderWidth:f.valueAtIndexOrDefault(b.hoverBorderWidth,c,e.borderWidth)},removeHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a._index,d=a.custom||{},e=a._model,g=this.chart.options.elements.rectangle;e.backgroundColor=d.backgroundColor?d.backgroundColor:f.valueAtIndexOrDefault(b.backgroundColor,c,g.backgroundColor),e.borderColor=d.borderColor?d.borderColor:f.valueAtIndexOrDefault(b.borderColor,c,g.borderColor),e.borderWidth=d.borderWidth?d.borderWidth:f.valueAtIndexOrDefault(b.borderWidth,c,g.borderWidth)}}),a.controllers.horizontalBar=a.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(a,b){var c=b.datasets[a.datasetIndex].label||"",d=b.datasets[a.datasetIndex].data[a.index];return c+": ("+a.xLabel+", "+a.yLabel+", "+d.r+")"}}}}),b.exports=function(a){a.controllers.bubble=a.DatasetController.extend({dataElementType:e.Point,update:function(a){var b=this,c=b.getMeta().data;f.each(c,function(c,d){b.updateElement(c,d,a)})},updateElement:function(a,b,c){var d=this,e=d.getMeta(),f=a.custom||{},g=d.getScaleForId(e.xAxisID),h=d.getScaleForId(e.yAxisID),i=d._resolveElementOptions(a,b),j=d.getDataset().data[b],k=d.index,l=c?g.getPixelForDecimal(.5):g.getPixelForValue("object"==typeof j?j:NaN,b,k),m=c?h.getBasePixel():h.getPixelForValue(j,b,k);a._xScale=g,a._yScale=h,a._options=i,a._datasetIndex=k,a._index=b,a._model={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,hitRadius:i.hitRadius,pointStyle:i.pointStyle,radius:c?0:i.radius,skip:f.skip||isNaN(l)||isNaN(m),x:l,y:m},a.pivot()},setHoverStyle:function(a){var b=a._model,c=a._options;b.backgroundColor=f.valueOrDefault(c.hoverBackgroundColor,f.getHoverColor(c.backgroundColor)),b.borderColor=f.valueOrDefault(c.hoverBorderColor,f.getHoverColor(c.borderColor)),b.borderWidth=f.valueOrDefault(c.hoverBorderWidth,c.borderWidth),b.radius=c.radius+c.hoverRadius},removeHoverStyle:function(a){var b=a._model,c=a._options;b.backgroundColor=c.backgroundColor,b.borderColor=c.borderColor,b.borderWidth=c.borderWidth,b.radius=c.radius},_resolveElementOptions:function(a,b){var c,d,e,g=this.chart,h=g.data.datasets[this.index],i=a.custom||{},j=g.options.elements.point,k=f.options.resolve,l=h.data[b],m={},n={chart:g,dataIndex:b,dataset:h,datasetIndex:this.index},o=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(c=0,d=o.length;c<d;++c)m[e=o[c]]=k([i[e],h[e],j[e]],n,b);return m.radius=k([i.radius,l?l.r:void 0,h.radius,j.radius],n,b),m}})}},{25:25,40:40,45:45}],17:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');var c=a.data,d=c.datasets,e=c.labels;if(d.length)for(var f=0;f<d[0].data.length;++f)b.push('<li><span style="background-color:'+d[0].backgroundColor[f]+'"></span>'),e[f]&&b.push(e[f]),b.push("</li>");return b.push("</ul>"),b.join("")},legend:{labels:{generateLabels:function(a){var b=a.data;return b.labels.length&&b.datasets.length?b.labels.map(function(c,d){var e=a.getDatasetMeta(0),g=b.datasets[0],h=e.data[d],i=h&&h.custom||{},j=f.valueAtIndexOrDefault,k=a.options.elements.arc;return{text:c,fillStyle:i.backgroundColor?i.backgroundColor:j(g.backgroundColor,d,k.backgroundColor),strokeStyle:i.borderColor?i.borderColor:j(g.borderColor,d,k.borderColor),lineWidth:i.borderWidth?i.borderWidth:j(g.borderWidth,d,k.borderWidth),hidden:isNaN(g.data[d])||e.data[d].hidden,index:d}}):[]}},onClick:function(a,b){var c,d,e,f=b.index,g=this.chart;for(c=0,d=(g.data.datasets||[]).length;c<d;++c)(e=g.getDatasetMeta(c)).data[f]&&(e.data[f].hidden=!e.data[f].hidden);g.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(a,b){var c=b.labels[a.index],d=": "+b.datasets[a.datasetIndex].data[a.index];return f.isArray(c)?(c=c.slice())[0]+=d:c+=d,c}}}}),d._set("pie",f.clone(d.doughnut)),d._set("pie",{cutoutPercentage:0}),b.exports=function(a){a.controllers.doughnut=a.controllers.pie=a.DatasetController.extend({dataElementType:e.Arc,linkScales:f.noop,getRingIndex:function(a){for(var b=0,c=0;c<a;++c)this.chart.isDatasetVisible(c)&&++b;return b},update:function(a){var b=this,c=b.chart,d=c.chartArea,e=c.options,g=e.elements.arc,h=d.right-d.left-g.borderWidth,i=d.bottom-d.top-g.borderWidth,j=Math.min(h,i),k={x:0,y:0},l=b.getMeta(),m=e.cutoutPercentage,n=e.circumference;if(n<2*Math.PI){var o=e.rotation%(2*Math.PI),p=(o+=2*Math.PI*(o>=Math.PI?-1:o<-Math.PI?1:0))+n,q=Math.cos(o),r=Math.sin(o),s=Math.cos(p),t=Math.sin(p),u=o<=0&&p>=0||o<=2*Math.PI&&2*Math.PI<=p,v=o<=.5*Math.PI&&.5*Math.PI<=p||o<=2.5*Math.PI&&2.5*Math.PI<=p,w=o<=-Math.PI&&-Math.PI<=p||o<=Math.PI&&Math.PI<=p,x=o<=.5*-Math.PI&&.5*-Math.PI<=p||o<=1.5*Math.PI&&1.5*Math.PI<=p,y=m/100,z=w?-1:Math.min(q*(q<0?1:y),s*(s<0?1:y)),A=x?-1:Math.min(r*(r<0?1:y),t*(t<0?1:y)),B=u?1:Math.max(q*(q>0?1:y),s*(s>0?1:y)),C=v?1:Math.max(r*(r>0?1:y),t*(t>0?1:y)),D=.5*(B-z),E=.5*(C-A);j=Math.min(h/D,i/E),k={x:-.5*(B+z),y:-.5*(C+A)}}c.borderWidth=b.getMaxBorderWidth(l.data),c.outerRadius=Math.max((j-c.borderWidth)/2,0),c.innerRadius=Math.max(m?c.outerRadius/100*m:0,0),c.radiusLength=(c.outerRadius-c.innerRadius)/c.getVisibleDatasetCount(),c.offsetX=k.x*c.outerRadius,c.offsetY=k.y*c.outerRadius,l.total=b.calculateTotal(),b.outerRadius=c.outerRadius-c.radiusLength*b.getRingIndex(b.index),b.innerRadius=Math.max(b.outerRadius-c.radiusLength,0),f.each(l.data,function(c,d){b.updateElement(c,d,a)})},updateElement:function(a,b,c){var d=this,e=d.chart,g=e.chartArea,h=e.options,i=h.animation,j=(g.left+g.right)/2,k=(g.top+g.bottom)/2,l=h.rotation,m=h.rotation,n=d.getDataset(),o=c&&i.animateRotate?0:a.hidden?0:d.calculateCircumference(n.data[b])*(h.circumference/(2*Math.PI)),p=c&&i.animateScale?0:d.innerRadius,q=c&&i.animateScale?0:d.outerRadius,r=f.valueAtIndexOrDefault;f.extend(a,{_datasetIndex:d.index,_index:b,_model:{x:j+e.offsetX,y:k+e.offsetY,startAngle:l,endAngle:m,circumference:o,outerRadius:q,innerRadius:p,label:r(n.label,b,e.data.labels[b])}});var s=a._model;this.removeHoverStyle(a),c&&i.animateRotate||(s.startAngle=0===b?h.rotation:d.getMeta().data[b-1]._model.endAngle,s.endAngle=s.startAngle+s.circumference),a.pivot()},removeHoverStyle:function(b){a.DatasetController.prototype.removeHoverStyle.call(this,b,this.chart.options.elements.arc)},calculateTotal:function(){var a,b=this.getDataset(),c=this.getMeta(),d=0;return f.each(c.data,function(c,e){a=b.data[e],isNaN(a)||c.hidden||(d+=Math.abs(a))}),d},calculateCircumference:function(a){var b=this.getMeta().total;return b>0&&!isNaN(a)?2*Math.PI*(Math.abs(a)/b):0},getMaxBorderWidth:function(a){for(var b,c,d=0,e=this.index,f=a.length,g=0;g<f;g++)b=a[g]._model?a[g]._model.borderWidth:0,d=(c=a[g]._chart?a[g]._chart.config.data.datasets[e].hoverBorderWidth:0)>(d=b>d?b:d)?c:d;return d}})}},{25:25,40:40,45:45}],18:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),b.exports=function(a){function b(a,b){return f.valueOrDefault(a.showLine,b.showLines)}a.controllers.line=a.DatasetController.extend({datasetElementType:e.Line,dataElementType:e.Point,update:function(a){var c,d,e,g=this,h=g.getMeta(),i=h.dataset,j=h.data||[],k=g.chart.options,l=k.elements.line,m=g.getScaleForId(h.yAxisID),n=g.getDataset(),o=b(n,k);for(o&&(e=i.custom||{},void 0!==n.tension&&void 0===n.lineTension&&(n.lineTension=n.tension),i._scale=m,i._datasetIndex=g.index,i._children=j,i._model={spanGaps:n.spanGaps?n.spanGaps:k.spanGaps,tension:e.tension?e.tension:f.valueOrDefault(n.lineTension,l.tension),backgroundColor:e.backgroundColor?e.backgroundColor:n.backgroundColor||l.backgroundColor,borderWidth:e.borderWidth?e.borderWidth:n.borderWidth||l.borderWidth,borderColor:e.borderColor?e.borderColor:n.borderColor||l.borderColor,borderCapStyle:e.borderCapStyle?e.borderCapStyle:n.borderCapStyle||l.borderCapStyle,borderDash:e.borderDash?e.borderDash:n.borderDash||l.borderDash,borderDashOffset:e.borderDashOffset?e.borderDashOffset:n.borderDashOffset||l.borderDashOffset,borderJoinStyle:e.borderJoinStyle?e.borderJoinStyle:n.borderJoinStyle||l.borderJoinStyle,fill:e.fill?e.fill:void 0!==n.fill?n.fill:l.fill,steppedLine:e.steppedLine?e.steppedLine:f.valueOrDefault(n.steppedLine,l.stepped),cubicInterpolationMode:e.cubicInterpolationMode?e.cubicInterpolationMode:f.valueOrDefault(n.cubicInterpolationMode,l.cubicInterpolationMode)},i.pivot()),c=0,d=j.length;c<d;++c)g.updateElement(j[c],c,a);for(o&&0!==i._model.tension&&g.updateBezierControlPoints(),c=0,d=j.length;c<d;++c)j[c].pivot()},getPointBackgroundColor:function(a,b){var c=this.chart.options.elements.point.backgroundColor,d=this.getDataset(),e=a.custom||{};return e.backgroundColor?c=e.backgroundColor:d.pointBackgroundColor?c=f.valueAtIndexOrDefault(d.pointBackgroundColor,b,c):d.backgroundColor&&(c=d.backgroundColor),c},getPointBorderColor:function(a,b){var c=this.chart.options.elements.point.borderColor,d=this.getDataset(),e=a.custom||{};return e.borderColor?c=e.borderColor:d.pointBorderColor?c=f.valueAtIndexOrDefault(d.pointBorderColor,b,c):d.borderColor&&(c=d.borderColor),c},getPointBorderWidth:function(a,b){var c=this.chart.options.elements.point.borderWidth,d=this.getDataset(),e=a.custom||{};return isNaN(e.borderWidth)?!isNaN(d.pointBorderWidth)||f.isArray(d.pointBorderWidth)?c=f.valueAtIndexOrDefault(d.pointBorderWidth,b,c):isNaN(d.borderWidth)||(c=d.borderWidth):c=e.borderWidth,c},updateElement:function(a,b,c){var d,e,g=this,h=g.getMeta(),i=a.custom||{},j=g.getDataset(),k=g.index,l=j.data[b],m=g.getScaleForId(h.yAxisID),n=g.getScaleForId(h.xAxisID),o=g.chart.options.elements.point;void 0!==j.radius&&void 0===j.pointRadius&&(j.pointRadius=j.radius),void 0!==j.hitRadius&&void 0===j.pointHitRadius&&(j.pointHitRadius=j.hitRadius),d=n.getPixelForValue("object"==typeof l?l:NaN,b,k),e=c?m.getBasePixel():g.calculatePointY(l,b,k),a._xScale=n,a._yScale=m,a._datasetIndex=k,a._index=b,a._model={x:d,y:e,skip:i.skip||isNaN(d)||isNaN(e),radius:i.radius||f.valueAtIndexOrDefault(j.pointRadius,b,o.radius),pointStyle:i.pointStyle||f.valueAtIndexOrDefault(j.pointStyle,b,o.pointStyle),backgroundColor:g.getPointBackgroundColor(a,b),borderColor:g.getPointBorderColor(a,b),borderWidth:g.getPointBorderWidth(a,b),tension:h.dataset._model?h.dataset._model.tension:0,steppedLine:!!h.dataset._model&&h.dataset._model.steppedLine,hitRadius:i.hitRadius||f.valueAtIndexOrDefault(j.pointHitRadius,b,o.hitRadius)}},calculatePointY:function(a,b,c){var d,e,f,g=this.chart,h=this.getMeta(),i=this.getScaleForId(h.yAxisID),j=0,k=0;if(i.options.stacked){for(d=0;d<c;d++)if(e=g.data.datasets[d],"line"===(f=g.getDatasetMeta(d)).type&&f.yAxisID===i.id&&g.isDatasetVisible(d)){var l=Number(i.getRightValue(e.data[b]));l<0?k+=l||0:j+=l||0}var m=Number(i.getRightValue(a));return m<0?i.getPixelForValue(k+m):i.getPixelForValue(j+m)}return i.getPixelForValue(a)},updateBezierControlPoints:function(){function a(a,b,c){return Math.max(Math.min(a,c),b)}var b,c,d,e,g=this.getMeta(),h=this.chart.chartArea,i=g.data||[];if(g.dataset._model.spanGaps&&(i=i.filter(function(a){return!a._model.skip})),"monotone"===g.dataset._model.cubicInterpolationMode)f.splineCurveMonotone(i);else for(b=0,c=i.length;b<c;++b)d=i[b]._model,e=f.splineCurve(f.previousItem(i,b)._model,d,f.nextItem(i,b)._model,g.dataset._model.tension),d.controlPointPreviousX=e.previous.x,d.controlPointPreviousY=e.previous.y,d.controlPointNextX=e.next.x,d.controlPointNextY=e.next.y;if(this.chart.options.elements.line.capBezierPoints)for(b=0,c=i.length;b<c;++b)(d=i[b]._model).controlPointPreviousX=a(d.controlPointPreviousX,h.left,h.right),d.controlPointPreviousY=a(d.controlPointPreviousY,h.top,h.bottom),d.controlPointNextX=a(d.controlPointNextX,h.left,h.right),d.controlPointNextY=a(d.controlPointNextY,h.top,h.bottom)},draw:function(){var a=this.chart,c=this.getMeta(),d=c.data||[],e=a.chartArea,g=d.length,h=0;for(f.canvas.clipArea(a.ctx,e),b(this.getDataset(),a.options)&&c.dataset.draw(),f.canvas.unclipArea(a.ctx);h<g;++h)d[h].draw(e)},setHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a._index,d=a.custom||{},e=a._model;e.radius=d.hoverRadius||f.valueAtIndexOrDefault(b.pointHoverRadius,c,this.chart.options.elements.point.hoverRadius),e.backgroundColor=d.hoverBackgroundColor||f.valueAtIndexOrDefault(b.pointHoverBackgroundColor,c,f.getHoverColor(e.backgroundColor)),e.borderColor=d.hoverBorderColor||f.valueAtIndexOrDefault(b.pointHoverBorderColor,c,f.getHoverColor(e.borderColor)),e.borderWidth=d.hoverBorderWidth||f.valueAtIndexOrDefault(b.pointHoverBorderWidth,c,e.borderWidth)},removeHoverStyle:function(a){var b=this,c=b.chart.data.datasets[a._datasetIndex],d=a._index,e=a.custom||{},g=a._model;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),g.radius=e.radius||f.valueAtIndexOrDefault(c.pointRadius,d,b.chart.options.elements.point.radius),g.backgroundColor=b.getPointBackgroundColor(a,d),g.borderColor=b.getPointBorderColor(a,d),g.borderWidth=b.getPointBorderWidth(a,d)}})}},{25:25,40:40,45:45}],19:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');var c=a.data,d=c.datasets,e=c.labels;if(d.length)for(var f=0;f<d[0].data.length;++f)b.push('<li><span style="background-color:'+d[0].backgroundColor[f]+'"></span>'),e[f]&&b.push(e[f]),b.push("</li>");return b.push("</ul>"),b.join("")},legend:{labels:{generateLabels:function(a){var b=a.data;return b.labels.length&&b.datasets.length?b.labels.map(function(c,d){var e=a.getDatasetMeta(0),g=b.datasets[0],h=e.data[d].custom||{},i=f.valueAtIndexOrDefault,j=a.options.elements.arc;return{text:c,fillStyle:h.backgroundColor?h.backgroundColor:i(g.backgroundColor,d,j.backgroundColor),strokeStyle:h.borderColor?h.borderColor:i(g.borderColor,d,j.borderColor),lineWidth:h.borderWidth?h.borderWidth:i(g.borderWidth,d,j.borderWidth),hidden:isNaN(g.data[d])||e.data[d].hidden,index:d}}):[]}},onClick:function(a,b){var c,d,e,f=b.index,g=this.chart;for(c=0,d=(g.data.datasets||[]).length;c<d;++c)(e=g.getDatasetMeta(c)).data[f].hidden=!e.data[f].hidden;g.update()}},tooltips:{callbacks:{title:function(){return""},label:function(a,b){return b.labels[a.index]+": "+a.yLabel}}}}),b.exports=function(a){a.controllers.polarArea=a.DatasetController.extend({dataElementType:e.Arc,linkScales:f.noop,update:function(a){var b=this,c=b.chart,d=c.chartArea,e=b.getMeta(),g=c.options,h=g.elements.arc,i=Math.min(d.right-d.left,d.bottom-d.top);c.outerRadius=Math.max((i-h.borderWidth/2)/2,0),c.innerRadius=Math.max(g.cutoutPercentage?c.outerRadius/100*g.cutoutPercentage:1,0),c.radiusLength=(c.outerRadius-c.innerRadius)/c.getVisibleDatasetCount(),b.outerRadius=c.outerRadius-c.radiusLength*b.index,b.innerRadius=b.outerRadius-c.radiusLength,e.count=b.countVisibleElements(),f.each(e.data,function(c,d){b.updateElement(c,d,a)})},updateElement:function(a,b,c){for(var d=this,e=d.chart,g=d.getDataset(),h=e.options,i=h.animation,j=e.scale,k=e.data.labels,l=d.calculateCircumference(g.data[b]),m=j.xCenter,n=j.yCenter,o=0,p=d.getMeta(),q=0;q<b;++q)isNaN(g.data[q])||p.data[q].hidden||++o;var r=h.startAngle,s=a.hidden?0:j.getDistanceFromCenterForValue(g.data[b]),t=r+l*o,u=t+(a.hidden?0:l),v=i.animateScale?0:j.getDistanceFromCenterForValue(g.data[b]);f.extend(a,{_datasetIndex:d.index,_index:b,_scale:j,_model:{x:m,y:n,innerRadius:0,outerRadius:c?v:s,startAngle:c&&i.animateRotate?r:t,endAngle:c&&i.animateRotate?r:u,label:f.valueAtIndexOrDefault(k,b,k[b])}}),d.removeHoverStyle(a),a.pivot()},removeHoverStyle:function(b){a.DatasetController.prototype.removeHoverStyle.call(this,b,this.chart.options.elements.arc)},countVisibleElements:function(){var a=this.getDataset(),b=this.getMeta(),c=0;return f.each(b.data,function(b,d){isNaN(a.data[d])||b.hidden||c++}),c},calculateCircumference:function(a){var b=this.getMeta().count;return b>0&&!isNaN(a)?2*Math.PI/b:0}})}},{25:25,40:40,45:45}],20:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),b.exports=function(a){a.controllers.radar=a.DatasetController.extend({datasetElementType:e.Line,dataElementType:e.Point,linkScales:f.noop,update:function(a){var b=this,c=b.getMeta(),d=c.dataset,e=c.data,g=d.custom||{},h=b.getDataset(),i=b.chart.options.elements.line,j=b.chart.scale;void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),f.extend(c.dataset,{_datasetIndex:b.index,_scale:j,_children:e,_loop:!0,_model:{tension:g.tension?g.tension:f.valueOrDefault(h.lineTension,i.tension),backgroundColor:g.backgroundColor?g.backgroundColor:h.backgroundColor||i.backgroundColor,borderWidth:g.borderWidth?g.borderWidth:h.borderWidth||i.borderWidth,borderColor:g.borderColor?g.borderColor:h.borderColor||i.borderColor,fill:g.fill?g.fill:void 0!==h.fill?h.fill:i.fill,borderCapStyle:g.borderCapStyle?g.borderCapStyle:h.borderCapStyle||i.borderCapStyle,borderDash:g.borderDash?g.borderDash:h.borderDash||i.borderDash,borderDashOffset:g.borderDashOffset?g.borderDashOffset:h.borderDashOffset||i.borderDashOffset,borderJoinStyle:g.borderJoinStyle?g.borderJoinStyle:h.borderJoinStyle||i.borderJoinStyle}}),c.dataset.pivot(),f.each(e,function(c,d){b.updateElement(c,d,a)},b),b.updateBezierControlPoints()},updateElement:function(a,b,c){var d=this,e=a.custom||{},g=d.getDataset(),h=d.chart.scale,i=d.chart.options.elements.point,j=h.getPointPositionForValue(b,g.data[b]);void 0!==g.radius&&void 0===g.pointRadius&&(g.pointRadius=g.radius),void 0!==g.hitRadius&&void 0===g.pointHitRadius&&(g.pointHitRadius=g.hitRadius),f.extend(a,{_datasetIndex:d.index,_index:b,_scale:h,_model:{x:c?h.xCenter:j.x,y:c?h.yCenter:j.y,tension:e.tension?e.tension:f.valueOrDefault(g.lineTension,d.chart.options.elements.line.tension),radius:e.radius?e.radius:f.valueAtIndexOrDefault(g.pointRadius,b,i.radius),backgroundColor:e.backgroundColor?e.backgroundColor:f.valueAtIndexOrDefault(g.pointBackgroundColor,b,i.backgroundColor),borderColor:e.borderColor?e.borderColor:f.valueAtIndexOrDefault(g.pointBorderColor,b,i.borderColor),borderWidth:e.borderWidth?e.borderWidth:f.valueAtIndexOrDefault(g.pointBorderWidth,b,i.borderWidth),pointStyle:e.pointStyle?e.pointStyle:f.valueAtIndexOrDefault(g.pointStyle,b,i.pointStyle),hitRadius:e.hitRadius?e.hitRadius:f.valueAtIndexOrDefault(g.pointHitRadius,b,i.hitRadius)}}),a._model.skip=e.skip?e.skip:isNaN(a._model.x)||isNaN(a._model.y)},updateBezierControlPoints:function(){var a=this.chart.chartArea,b=this.getMeta();f.each(b.data,function(c,d){var e=c._model,g=f.splineCurve(f.previousItem(b.data,d,!0)._model,e,f.nextItem(b.data,d,!0)._model,e.tension);e.controlPointPreviousX=Math.max(Math.min(g.previous.x,a.right),a.left),e.controlPointPreviousY=Math.max(Math.min(g.previous.y,a.bottom),a.top),e.controlPointNextX=Math.max(Math.min(g.next.x,a.right),a.left),e.controlPointNextY=Math.max(Math.min(g.next.y,a.bottom),a.top),c.pivot()})},setHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a.custom||{},d=a._index,e=a._model;e.radius=c.hoverRadius?c.hoverRadius:f.valueAtIndexOrDefault(b.pointHoverRadius,d,this.chart.options.elements.point.hoverRadius),e.backgroundColor=c.hoverBackgroundColor?c.hoverBackgroundColor:f.valueAtIndexOrDefault(b.pointHoverBackgroundColor,d,f.getHoverColor(e.backgroundColor)),e.borderColor=c.hoverBorderColor?c.hoverBorderColor:f.valueAtIndexOrDefault(b.pointHoverBorderColor,d,f.getHoverColor(e.borderColor)),e.borderWidth=c.hoverBorderWidth?c.hoverBorderWidth:f.valueAtIndexOrDefault(b.pointHoverBorderWidth,d,e.borderWidth)},removeHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a.custom||{},d=a._index,e=a._model,g=this.chart.options.elements.point;e.radius=c.radius?c.radius:f.valueAtIndexOrDefault(b.pointRadius,d,g.radius),e.backgroundColor=c.backgroundColor?c.backgroundColor:f.valueAtIndexOrDefault(b.pointBackgroundColor,d,g.backgroundColor),e.borderColor=c.borderColor?c.borderColor:f.valueAtIndexOrDefault(b.pointBorderColor,d,g.borderColor),e.borderWidth=c.borderWidth?c.borderWidth:f.valueAtIndexOrDefault(b.pointBorderWidth,d,g.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(a,b,c){"use strict";a(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(a){return"("+a.xLabel+", "+a.yLabel+")"}}}}),b.exports=function(a){a.controllers.scatter=a.controllers.line}},{25:25}],22:[function(a,b,c){"use strict"
;var d=a(25),e=a(26),f=a(45);d._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:f.noop,onComplete:f.noop}}),b.exports=function(a){a.Animation=e.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),a.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(a,b,c,d){var e,f,g=this.animations;for(b.chart=a,d||(a.animating=!0),e=0,f=g.length;e<f;++e)if(g[e].chart===a)return void(g[e]=b);g.push(b),1===g.length&&this.requestAnimationFrame()},cancelAnimation:function(a){var b=f.findIndex(this.animations,function(b){return b.chart===a});-1!==b&&(this.animations.splice(b,1),a.animating=!1)},requestAnimationFrame:function(){var a=this;null===a.request&&(a.request=f.requestAnimFrame.call(window,function(){a.request=null,a.startDigest()}))},startDigest:function(){var a=this,b=Date.now(),c=0;a.dropFrames>1&&(c=Math.floor(a.dropFrames),a.dropFrames=a.dropFrames%1),a.advance(1+c);var d=Date.now();a.dropFrames+=(d-b)/a.frameDuration,a.animations.length>0&&a.requestAnimationFrame()},advance:function(a){for(var b,c,d=this.animations,e=0;e<d.length;)c=(b=d[e]).chart,b.currentStep=(b.currentStep||0)+a,b.currentStep=Math.min(b.currentStep,b.numSteps),f.callback(b.render,[c,b],c),f.callback(b.onAnimationProgress,[b],c),b.currentStep>=b.numSteps?(f.callback(b.onAnimationComplete,[b],c),c.animating=!1,d.splice(e,1)):++e}},Object.defineProperty(a.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(a.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(a){this.chart=a}})}},{25:25,26:26,45:45}],23:[function(a,b,c){"use strict";var d=a(25),e=a(45),f=a(28),g=a(30),h=a(48),i=a(31);b.exports=function(a){function b(a){return"top"===a||"bottom"===a}a.types={},a.instances={},a.controllers={},e.extend(a.prototype,{construct:function(b,c){var f,g,i=this;(g=(f=(f=c)||{}).data=f.data||{}).datasets=g.datasets||[],g.labels=g.labels||[],f.options=e.configMerge(d.global,d[f.type],f.options||{}),c=f;var j=h.acquireContext(b,c),k=j&&j.canvas,l=k&&k.height,m=k&&k.width;i.id=e.uid(),i.ctx=j,i.canvas=k,i.config=c,i.width=m,i.height=l,i.aspectRatio=l?m/l:null,i.options=c.options,i._bufferedRender=!1,i.chart=i,i.controller=i,a.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(a){i.config.data=a}}),j&&k?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var a=this;return i.notify(a,"beforeInit"),e.retinaScale(a,a.options.devicePixelRatio),a.bindEvents(),a.options.responsive&&a.resize(!0),a.ensureScalesHaveIDs(),a.buildOrUpdateScales(),a.initToolTip(),i.notify(a,"afterInit"),a},clear:function(){return e.canvas.clear(this),this},stop:function(){return a.animationService.cancelAnimation(this),this},resize:function(a){var b=this,c=b.options,d=b.canvas,f=c.maintainAspectRatio&&b.aspectRatio||null,g=Math.max(0,Math.floor(e.getMaximumWidth(d))),h=Math.max(0,Math.floor(f?g/f:e.getMaximumHeight(d)));if((b.width!==g||b.height!==h)&&(d.width=b.width=g,d.height=b.height=h,d.style.width=g+"px",d.style.height=h+"px",e.retinaScale(b,c.devicePixelRatio),!a)){var j={width:g,height:h};i.notify(b,"resize",[j]),b.options.onResize&&b.options.onResize(b,j),b.stop(),b.update(b.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var a=this.options,b=a.scales||{},c=a.scale;e.each(b.xAxes,function(a,b){a.id=a.id||"x-axis-"+b}),e.each(b.yAxes,function(a,b){a.id=a.id||"y-axis-"+b}),c&&(c.id=c.id||"scale")},buildOrUpdateScales:function(){var c=this,d=c.options,f=c.scales||{},g=[],h=Object.keys(f).reduce(function(a,b){return a[b]=!1,a},{});d.scales&&(g=g.concat((d.scales.xAxes||[]).map(function(a){return{options:a,dtype:"category",dposition:"bottom"}}),(d.scales.yAxes||[]).map(function(a){return{options:a,dtype:"linear",dposition:"left"}}))),d.scale&&g.push({options:d.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),e.each(g,function(d){var g=d.options,i=g.id,j=e.valueOrDefault(g.type,d.dtype);b(g.position)!==b(d.dposition)&&(g.position=d.dposition),h[i]=!0;var k=null;if(i in f&&f[i].type===j)(k=f[i]).options=g,k.ctx=c.ctx,k.chart=c;else{var l=a.scaleService.getScaleConstructor(j);if(!l)return;k=new l({id:i,type:j,options:g,ctx:c.ctx,chart:c}),f[k.id]=k}k.mergeTicksOptions(),d.isDefault&&(c.scale=k)}),e.each(h,function(a,b){a||delete f[b]}),c.scales=f,a.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var b=this,c=[],d=[];return e.each(b.data.datasets,function(e,f){var g=b.getDatasetMeta(f),h=e.type||b.config.type;if(g.type&&g.type!==h&&(b.destroyDatasetMeta(f),g=b.getDatasetMeta(f)),g.type=h,c.push(g.type),g.controller)g.controller.updateIndex(f),g.controller.linkScales();else{var i=a.controllers[g.type];if(void 0===i)throw new Error('"'+g.type+'" is not a chart type.');g.controller=new i(b,f),d.push(g.controller)}},b),d},resetElements:function(){var a=this;e.each(a.data.datasets,function(b,c){a.getDatasetMeta(c).controller.reset()},a)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(b){var c,d,f=this;if(b&&"object"==typeof b||(b={duration:b,lazy:arguments[1]}),d=(c=f).options,e.each(c.scales,function(a){g.removeBox(c,a)}),d=e.configMerge(a.defaults.global,a.defaults[c.config.type],d),c.options=c.config.options=d,c.ensureScalesHaveIDs(),c.buildOrUpdateScales(),c.tooltip._options=d.tooltips,c.tooltip.initialize(),i._invalidate(f),!1!==i.notify(f,"beforeUpdate")){f.tooltip._data=f.data;var h=f.buildOrUpdateControllers();e.each(f.data.datasets,function(a,b){f.getDatasetMeta(b).controller.buildOrUpdateElements()},f),f.updateLayout(),f.options.animation&&f.options.animation.duration&&e.each(h,function(a){a.reset()}),f.updateDatasets(),f.tooltip.initialize(),f.lastActive=[],i.notify(f,"afterUpdate"),f._bufferedRender?f._bufferedRequest={duration:b.duration,easing:b.easing,lazy:b.lazy}:f.render(b)}},updateLayout:function(){!1!==i.notify(this,"beforeLayout")&&(g.update(this,this.width,this.height),i.notify(this,"afterScaleUpdate"),i.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==i.notify(this,"beforeDatasetsUpdate")){for(var a=0,b=this.data.datasets.length;a<b;++a)this.updateDataset(a);i.notify(this,"afterDatasetsUpdate")}},updateDataset:function(a){var b=this.getDatasetMeta(a),c={meta:b,index:a};!1!==i.notify(this,"beforeDatasetUpdate",[c])&&(b.controller.update(),i.notify(this,"afterDatasetUpdate",[c]))},render:function(b){var c=this;b&&"object"==typeof b||(b={duration:b,lazy:arguments[1]});var d=b.duration,f=b.lazy;if(!1!==i.notify(c,"beforeRender")){var g=c.options.animation,h=function(a){i.notify(c,"afterRender"),e.callback(g&&g.onComplete,[a],c)};if(g&&(void 0!==d&&0!==d||void 0===d&&0!==g.duration)){var j=new a.Animation({numSteps:(d||g.duration)/16.66,easing:b.easing||g.easing,render:function(a,b){var c=e.easing.effects[b.easing],d=b.currentStep,f=d/b.numSteps;a.draw(c(f),f,d)},onAnimationProgress:g.onProgress,onAnimationComplete:h});a.animationService.addAnimation(c,j,d,f)}else c.draw(),h(new a.Animation({numSteps:0,chart:c}));return c}},draw:function(a){var b=this;b.clear(),e.isNullOrUndef(a)&&(a=1),b.transition(a),!1!==i.notify(b,"beforeDraw",[a])&&(e.each(b.boxes,function(a){a.draw(b.chartArea)},b),b.scale&&b.scale.draw(),b.drawDatasets(a),b._drawTooltip(a),i.notify(b,"afterDraw",[a]))},transition:function(a){for(var b=0,c=(this.data.datasets||[]).length;b<c;++b)this.isDatasetVisible(b)&&this.getDatasetMeta(b).controller.transition(a);this.tooltip.transition(a)},drawDatasets:function(a){var b=this;if(!1!==i.notify(b,"beforeDatasetsDraw",[a])){for(var c=(b.data.datasets||[]).length-1;c>=0;--c)b.isDatasetVisible(c)&&b.drawDataset(c,a);i.notify(b,"afterDatasetsDraw",[a])}},drawDataset:function(a,b){var c=this.getDatasetMeta(a),d={meta:c,index:a,easingValue:b};!1!==i.notify(this,"beforeDatasetDraw",[d])&&(c.controller.draw(b),i.notify(this,"afterDatasetDraw",[d]))},_drawTooltip:function(a){var b=this.tooltip,c={tooltip:b,easingValue:a};!1!==i.notify(this,"beforeTooltipDraw",[c])&&(b.draw(),i.notify(this,"afterTooltipDraw",[c]))},getElementAtEvent:function(a){return f.modes.single(this,a)},getElementsAtEvent:function(a){return f.modes.label(this,a,{intersect:!0})},getElementsAtXAxis:function(a){return f.modes["x-axis"](this,a,{intersect:!0})},getElementsAtEventForMode:function(a,b,c){var d=f.modes[b];return"function"==typeof d?d(this,a,c):[]},getDatasetAtEvent:function(a){return f.modes.dataset(this,a,{intersect:!0})},getDatasetMeta:function(a){var b=this.data.datasets[a];b._meta||(b._meta={});var c=b._meta[this.id];return c||(c=b._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),c},getVisibleDatasetCount:function(){for(var a=0,b=0,c=this.data.datasets.length;b<c;++b)this.isDatasetVisible(b)&&a++;return a},isDatasetVisible:function(a){var b=this.getDatasetMeta(a);return"boolean"==typeof b.hidden?!b.hidden:!this.data.datasets[a].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(a){var b=this.id,c=this.data.datasets[a],d=c._meta&&c._meta[b];d&&(d.controller.destroy(),delete c._meta[b])},destroy:function(){var b,c,d=this,f=d.canvas;for(d.stop(),b=0,c=d.data.datasets.length;b<c;++b)d.destroyDatasetMeta(b);f&&(d.unbindEvents(),e.canvas.clear(d),h.releaseContext(d.ctx),d.canvas=null,d.ctx=null),i.notify(d,"destroy"),delete a.instances[d.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var b=this;b.tooltip=new a.Tooltip({_chart:b,_chartInstance:b,_data:b.data,_options:b.options.tooltips},b)},bindEvents:function(){var a=this,b=a._listeners={},c=function(){a.eventHandler.apply(a,arguments)};e.each(a.options.events,function(d){h.addEventListener(a,d,c),b[d]=c}),a.options.responsive&&(c=function(){a.resize()},h.addEventListener(a,"resize",c),b.resize=c)},unbindEvents:function(){var a=this,b=a._listeners;b&&(delete a._listeners,e.each(b,function(b,c){h.removeEventListener(a,c,b)}))},updateHoverStyle:function(a,b,c){var d,e,f,g=c?"setHoverStyle":"removeHoverStyle";for(e=0,f=a.length;e<f;++e)(d=a[e])&&this.getDatasetMeta(d._datasetIndex).controller[g](d)},eventHandler:function(a){var b=this,c=b.tooltip;if(!1!==i.notify(b,"beforeEvent",[a])){b._bufferedRender=!0,b._bufferedRequest=null;var d=b.handleEvent(a);c&&(d=c._start?c.handleEvent(a):d|c.handleEvent(a)),i.notify(b,"afterEvent",[a]);var e=b._bufferedRequest;return e?b.render(e):d&&!b.animating&&(b.stop(),b.render(b.options.hover.animationDuration,!0)),b._bufferedRender=!1,b._bufferedRequest=null,b}},handleEvent:function(a){var b,c=this,d=c.options||{},f=d.hover;return c.lastActive=c.lastActive||[],"mouseout"===a.type?c.active=[]:c.active=c.getElementsAtEventForMode(a,f.mode,f),e.callback(d.onHover||d.hover.onHover,[a.native,c.active],c),"mouseup"!==a.type&&"click"!==a.type||d.onClick&&d.onClick.call(c,a.native,c.active),c.lastActive.length&&c.updateHoverStyle(c.lastActive,f.mode,!1),c.active.length&&f.mode&&c.updateHoverStyle(c.active,f.mode,!0),b=!e.arrayEquals(c.active,c.lastActive),c.lastActive=c.active,b}}),a.Controller=a}},{25:25,28:28,30:30,31:31,45:45,48:48}],24:[function(a,b,c){"use strict";var d=a(45);b.exports=function(a){function b(a,b){var d=a._chartjs;if(d){var e=d.listeners,f=e.indexOf(b);-1!==f&&e.splice(f,1),e.length>0||(c.forEach(function(b){delete a[b]}),delete a._chartjs)}}var c=["push","pop","shift","splice","unshift"];a.DatasetController=function(a,b){this.initialize(a,b)},d.extend(a.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(a,b){this.chart=a,this.index=b,this.linkScales(),this.addElements()},updateIndex:function(a){this.index=a},linkScales:function(){var a=this,b=a.getMeta(),c=a.getDataset();null!==b.xAxisID&&b.xAxisID in a.chart.scales||(b.xAxisID=c.xAxisID||a.chart.options.scales.xAxes[0].id),null!==b.yAxisID&&b.yAxisID in a.chart.scales||(b.yAxisID=c.yAxisID||a.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(a){return this.chart.scales[a]},reset:function(){this.update(!0)},destroy:function(){this._data&&b(this._data,this)},createMetaDataset:function(){var a=this.datasetElementType;return a&&new a({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(a){var b=this.dataElementType;return b&&new b({_chart:this.chart,_datasetIndex:this.index,_index:a})},addElements:function(){var a,b,c=this.getMeta(),d=this.getDataset().data||[],e=c.data;for(a=0,b=d.length;a<b;++a)e[a]=e[a]||this.createMetaData(a);c.dataset=c.dataset||this.createMetaDataset()},addElementAndReset:function(a){var b=this.createMetaData(a);this.getMeta().data.splice(a,0,b),this.updateElement(b,a,!0)},buildOrUpdateElements:function(){var a,e,f=this,g=f.getDataset(),h=g.data||(g.data=[]);f._data!==h&&(f._data&&b(f._data,f),e=f,(a=h)._chartjs?a._chartjs.listeners.push(e):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),c.forEach(function(b){var c="onData"+b.charAt(0).toUpperCase()+b.slice(1),e=a[b];Object.defineProperty(a,b,{configurable:!0,enumerable:!1,value:function(){var b=Array.prototype.slice.call(arguments),f=e.apply(this,b);return d.each(a._chartjs.listeners,function(a){"function"==typeof a[c]&&a[c].apply(a,b)}),f}})})),f._data=h),f.resyncElements()},update:d.noop,transition:function(a){for(var b=this.getMeta(),c=b.data||[],d=c.length,e=0;e<d;++e)c[e].transition(a);b.dataset&&b.dataset.transition(a)},draw:function(){var a=this.getMeta(),b=a.data||[],c=b.length,d=0;for(a.dataset&&a.dataset.draw();d<c;++d)b[d].draw()},removeHoverStyle:function(a,b){var c=this.chart.data.datasets[a._datasetIndex],e=a._index,f=a.custom||{},g=d.valueAtIndexOrDefault,h=a._model;h.backgroundColor=f.backgroundColor?f.backgroundColor:g(c.backgroundColor,e,b.backgroundColor),h.borderColor=f.borderColor?f.borderColor:g(c.borderColor,e,b.borderColor),h.borderWidth=f.borderWidth?f.borderWidth:g(c.borderWidth,e,b.borderWidth)},setHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a._index,e=a.custom||{},f=d.valueAtIndexOrDefault,g=d.getHoverColor,h=a._model;h.backgroundColor=e.hoverBackgroundColor?e.hoverBackgroundColor:f(b.hoverBackgroundColor,c,g(h.backgroundColor)),h.borderColor=e.hoverBorderColor?e.hoverBorderColor:f(b.hoverBorderColor,c,g(h.borderColor)),h.borderWidth=e.hoverBorderWidth?e.hoverBorderWidth:f(b.hoverBorderWidth,c,h.borderWidth)},resyncElements:function(){var a=this.getMeta(),b=this.getDataset().data,c=a.data.length,d=b.length;d<c?a.data.splice(d,c-d):d>c&&this.insertElements(c,d-c)},insertElements:function(a,b){for(var c=0;c<b;++c)this.addElementAndReset(a+c)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(a,b){this.getMeta().data.splice(a,b),this.insertElements(a,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),a.DatasetController.extend=d.inherits}},{45:45}],25:[function(a,b,c){"use strict";var d=a(45);b.exports={_set:function(a,b){return d.merge(this[a]||(this[a]={}),b)}}},{45:45}],26:[function(a,b,c){"use strict";var d=a(3),e=a(45),f=function(a){e.extend(this,a),this.initialize.apply(this,arguments)};e.extend(f.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var a=this;return a._view||(a._view=e.clone(a._model)),a._start={},a},transition:function(a){var b=this,c=b._model,e=b._start,f=b._view;return c&&1!==a?(f||(f=b._view={}),e||(e=b._start={}),function(a,b,c,e){var f,g,h,i,j,k,l,m,n,o=Object.keys(c);for(f=0,g=o.length;f<g;++f)if(k=c[h=o[f]],b.hasOwnProperty(h)||(b[h]=k),(i=b[h])!==k&&"_"!==h[0]){if(a.hasOwnProperty(h)||(a[h]=i),(l=typeof k)==typeof(j=a[h]))if("string"===l){if((m=d(j)).valid&&(n=d(k)).valid){b[h]=n.mix(m,e).rgbString();continue}}else if("number"===l&&isFinite(j)&&isFinite(k)){b[h]=j+(k-j)*e;continue}b[h]=k}}(e,f,c,a),b):(b._view=c,b._start=null,b)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),f.extend=e.inherits,b.exports=f},{3:3,45:45}],27:[function(a,b,c){"use strict";var d=a(3),e=a(25),f=a(45);b.exports=function(a){function b(a,b,c){var d;return"string"==typeof a?(d=parseInt(a,10),-1!==a.indexOf("%")&&(d=d/100*b.parentNode[c])):d=a,d}function c(a){return null!=a&&"none"!==a}function g(a,d,e){var f=document.defaultView,g=a.parentNode,h=f.getComputedStyle(a)[d],i=f.getComputedStyle(g)[d],j=c(h),k=c(i),l=Number.POSITIVE_INFINITY;return j||k?Math.min(j?b(h,a,e):l,k?b(i,g,e):l):"none"}f.configMerge=function(){return f.merge(f.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(b,c,d,e){var g=c[b]||{},h=d[b];"scales"===b?c[b]=f.scaleMerge(g,h):"scale"===b?c[b]=f.merge(g,[a.scaleService.getScaleDefaults(h.type),h]):f._merger(b,c,d,e)}})},f.scaleMerge=function(){return f.merge(f.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(b,c,d,e){if("xAxes"===b||"yAxes"===b){var g,h,i,j=d[b].length;for(c[b]||(c[b]=[]),g=0;g<j;++g)i=d[b][g],h=f.valueOrDefault(i.type,"xAxes"===b?"category":"linear"),g>=c[b].length&&c[b].push({}),!c[b][g].type||i.type&&i.type!==c[b][g].type?f.merge(c[b][g],[a.scaleService.getScaleDefaults(h),i]):f.merge(c[b][g],i)}else f._merger(b,c,d,e)}})},f.where=function(a,b){if(f.isArray(a)&&Array.prototype.filter)return a.filter(b);var c=[];return f.each(a,function(a){b(a)&&c.push(a)}),c},f.findIndex=Array.prototype.findIndex?function(a,b,c){return a.findIndex(b,c)}:function(a,b,c){c=void 0===c?a:c;for(var d=0,e=a.length;d<e;++d)if(b.call(c,a[d],d,a))return d;return-1},f.findNextWhere=function(a,b,c){f.isNullOrUndef(c)&&(c=-1);for(var d=c+1;d<a.length;d++){var e=a[d];if(b(e))return e}},f.findPreviousWhere=function(a,b,c){f.isNullOrUndef(c)&&(c=a.length);for(var d=c-1;d>=0;d--){var e=a[d];if(b(e))return e}},f.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},f.almostEquals=function(a,b,c){return Math.abs(a-b)<c},f.almostWhole=function(a,b){var c=Math.round(a);return c-b<a&&c+b>a},f.max=function(a){return a.reduce(function(a,b){return isNaN(b)?a:Math.max(a,b)},Number.NEGATIVE_INFINITY)},f.min=function(a){return a.reduce(function(a,b){return isNaN(b)?a:Math.min(a,b)},Number.POSITIVE_INFINITY)},f.sign=Math.sign?function(a){return Math.sign(a)}:function(a){return 0==(a=+a)||isNaN(a)?a:a>0?1:-1},f.log10=Math.log10?function(a){return Math.log10(a)}:function(a){var b=Math.log(a)*Math.LOG10E,c=Math.round(b);return a===Math.pow(10,c)?c:b},f.toRadians=function(a){return a*(Math.PI/180)},f.toDegrees=function(a){return a*(180/Math.PI)},f.getAngleFromPoint=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=Math.sqrt(c*c+d*d),f=Math.atan2(d,c);return f<-.5*Math.PI&&(f+=2*Math.PI),{angle:f,distance:e}},f.distanceBetweenPoints=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},f.aliasPixel=function(a){return a%2==0?0:.5},f.splineCurve=function(a,b,c,d){var e=a.skip?b:a,f=b,g=c.skip?b:c,h=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),i=Math.sqrt(Math.pow(g.x-f.x,2)+Math.pow(g.y-f.y,2)),j=h/(h+i),k=i/(h+i),l=d*(j=isNaN(j)?0:j),m=d*(k=isNaN(k)?0:k);return{previous:{x:f.x-l*(g.x-e.x),y:f.y-l*(g.y-e.y)},next:{x:f.x+m*(g.x-e.x),y:f.y+m*(g.y-e.y)}}},f.EPSILON=Number.EPSILON||1e-14,f.splineCurveMonotone=function(a){var b,c,d,e,g,h,i,j,k,l=(a||[]).map(function(a){return{model:a._model,deltaK:0,mK:0}}),m=l.length;for(b=0;b<m;++b)if(!(d=l[b]).model.skip){if(c=b>0?l[b-1]:null,(e=b<m-1?l[b+1]:null)&&!e.model.skip){var n=e.model.x-d.model.x;d.deltaK=0!==n?(e.model.y-d.model.y)/n:0}!c||c.model.skip?d.mK=d.deltaK:!e||e.model.skip?d.mK=c.deltaK:this.sign(c.deltaK)!==this.sign(d.deltaK)?d.mK=0:d.mK=(c.deltaK+d.deltaK)/2}for(b=0;b<m-1;++b)d=l[b],e=l[b+1],d.model.skip||e.model.skip||(f.almostEquals(d.deltaK,0,this.EPSILON)?d.mK=e.mK=0:(g=d.mK/d.deltaK,h=e.mK/d.deltaK,(j=Math.pow(g,2)+Math.pow(h,2))<=9||(i=3/Math.sqrt(j),d.mK=g*i*d.deltaK,e.mK=h*i*d.deltaK)));for(b=0;b<m;++b)(d=l[b]).model.skip||(c=b>0?l[b-1]:null,e=b<m-1?l[b+1]:null,c&&!c.model.skip&&(k=(d.model.x-c.model.x)/3,d.model.controlPointPreviousX=d.model.x-k,d.model.controlPointPreviousY=d.model.y-k*d.mK),e&&!e.model.skip&&(k=(e.model.x-d.model.x)/3,d.model.controlPointNextX=d.model.x+k,d.model.controlPointNextY=d.model.y+k*d.mK))},f.nextItem=function(a,b,c){return c?b>=a.length-1?a[0]:a[b+1]:b>=a.length-1?a[a.length-1]:a[b+1]},f.previousItem=function(a,b,c){return c?b<=0?a[a.length-1]:a[b-1]:b<=0?a[0]:a[b-1]},f.niceNum=function(a,b){var c=Math.floor(f.log10(a)),d=a/Math.pow(10,c);return(b?d<1.5?1:d<3?2:d<7?5:10:d<=1?1:d<=2?2:d<=5?5:10)*Math.pow(10,c)},f.requestAnimFrame="undefined"==typeof window?function(a){a()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)},f.getRelativePosition=function(a,b){var c,d,e=a.originalEvent||a,g=a.currentTarget||a.srcElement,h=g.getBoundingClientRect(),i=e.touches;i&&i.length>0?(c=i[0].clientX,d=i[0].clientY):(c=e.clientX,d=e.clientY);var j=parseFloat(f.getStyle(g,"padding-left")),k=parseFloat(f.getStyle(g,"padding-top")),l=parseFloat(f.getStyle(g,"padding-right")),m=parseFloat(f.getStyle(g,"padding-bottom")),n=h.right-h.left-j-l,o=h.bottom-h.top-k-m;return{x:c=Math.round((c-h.left-j)/n*g.width/b.currentDevicePixelRatio),y:d=Math.round((d-h.top-k)/o*g.height/b.currentDevicePixelRatio)}},f.getConstraintWidth=function(a){return g(a,"max-width","clientWidth")},f.getConstraintHeight=function(a){return g(a,"max-height","clientHeight")},f.getMaximumWidth=function(a){var b=a.parentNode;if(!b)return a.clientWidth;var c=parseInt(f.getStyle(b,"padding-left"),10),d=parseInt(f.getStyle(b,"padding-right"),10),e=b.clientWidth-c-d,g=f.getConstraintWidth(a);return isNaN(g)?e:Math.min(e,g)},f.getMaximumHeight=function(a){var b=a.parentNode;if(!b)return a.clientHeight;var c=parseInt(f.getStyle(b,"padding-top"),10),d=parseInt(f.getStyle(b,"padding-bottom"),10),e=b.clientHeight-c-d,g=f.getConstraintHeight(a);return isNaN(g)?e:Math.min(e,g)},f.getStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,null).getPropertyValue(b)},f.retinaScale=function(a,b){var c=a.currentDevicePixelRatio=b||window.devicePixelRatio||1;if(1!==c){var d=a.canvas,e=a.height,f=a.width;d.height=e*c,d.width=f*c,a.ctx.scale(c,c),d.style.height||d.style.width||(d.style.height=e+"px",d.style.width=f+"px")}},f.fontString=function(a,b,c){return b+" "+a+"px "+c},f.longestText=function(a,b,c,d){var e=(d=d||{}).data=d.data||{},g=d.garbageCollect=d.garbageCollect||[];d.font!==b&&(e=d.data={},g=d.garbageCollect=[],d.font=b),a.font=b;var h=0;f.each(c,function(b){null!=b&&!0!==f.isArray(b)?h=f.measureText(a,e,g,h,b):f.isArray(b)&&f.each(b,function(b){null==b||f.isArray(b)||(h=f.measureText(a,e,g,h,b))})});var i=g.length/2;if(i>c.length){for(var j=0;j<i;j++)delete e[g[j]];g.splice(0,i)}return h},f.measureText=function(a,b,c,d,e){var f=b[e];return f||(f=b[e]=a.measureText(e).width,c.push(e)),f>d&&(d=f),d},f.numberOfLabelLines=function(a){var b=1;return f.each(a,function(a){f.isArray(a)&&a.length>b&&(b=a.length)}),b},f.color=d?function(a){return a instanceof CanvasGradient&&(a=e.global.defaultColor),d(a)}:function(a){return console.error("Color.js not found!"),a},f.getHoverColor=function(a){return a instanceof CanvasPattern?a:f.color(a).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(a,b,c){"use strict";function d(a,b){return a.native?{x:a.x,y:a.y}:j.getRelativePosition(a,b)}function e(a,b){var c,d,e,f,g;for(d=0,f=a.data.datasets.length;d<f;++d)if(a.isDatasetVisible(d))for(e=0,g=(c=a.getDatasetMeta(d)).data.length;e<g;++e){var h=c.data[e];h._view.skip||b(h)}}function f(a,b){var c=[];return e(a,function(a){a.inRange(b.x,b.y)&&c.push(a)}),c}function g(a,b,c,d){var f=Number.POSITIVE_INFINITY,g=[];return e(a,function(a){if(!c||a.inRange(b.x,b.y)){var e=a.getCenterPoint(),h=d(b,e);h<f?(g=[a],f=h):h===f&&g.push(a)}}),g}function h(a){var b=-1!==a.indexOf("x"),c=-1!==a.indexOf("y");return function(a,d){var e=b?Math.abs(a.x-d.x):0,f=c?Math.abs(a.y-d.y):0;return Math.sqrt(Math.pow(e,2)+Math.pow(f,2))}}function i(a,b,c){var e=d(b,a);c.axis=c.axis||"x";var i=h(c.axis),j=c.intersect?f(a,e):g(a,e,!1,i),k=[];return j.length?(a.data.datasets.forEach(function(b,c){if(a.isDatasetVisible(c)){var d=a.getDatasetMeta(c).data[j[0]._index];d&&!d._view.skip&&k.push(d)}}),k):[]}var j=a(45);b.exports={modes:{single:function(a,b){var c=d(b,a),f=[];return e(a,function(a){if(a.inRange(c.x,c.y))return f.push(a),f}),f.slice(0,1)},label:i,index:i,dataset:function(a,b,c){var e=d(b,a);c.axis=c.axis||"xy";var i=h(c.axis),j=c.intersect?f(a,e):g(a,e,!1,i);return j.length>0&&(j=a.getDatasetMeta(j[0]._datasetIndex).data),j},"x-axis":function(a,b){return i(a,b,{intersect:!1})},point:function(a,b){return f(a,d(b,a))},nearest:function(a,b,c){var e=d(b,a);c.axis=c.axis||"xy";var f=h(c.axis),i=g(a,e,c.intersect,f);return i.length>1&&i.sort(function(a,b){var c=a.getArea()-b.getArea();return 0===c&&(c=a._datasetIndex-b._datasetIndex),c}),i.slice(0,1)},x:function(a,b,c){var f=d(b,a),g=[],h=!1;return e(a,function(a){a.inXRange(f.x)&&g.push(a),a.inRange(f.x,f.y)&&(h=!0)}),c.intersect&&!h&&(g=[]),g},y:function(a,b,c){var f=d(b,a),g=[],h=!1;return e(a,function(a){a.inYRange(f.y)&&g.push(a),a.inRange(f.x,f.y)&&(h=!0)}),c.intersect&&!h&&(g=[]),g}}}},{45:45}],29:[function(a,b,c){"use strict";a(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),b.exports=function(){var a=function(a,b){return this.construct(a,b),this};return a.Chart=a,a}},{25:25}],30:[function(a,b,c){"use strict";function d(a,b){return f.where(a,function(a){return a.position===b})}function e(a,b){a.forEach(function(a,b){return a._tmpIndex_=b,a}),a.sort(function(a,c){var d=b?c:a,e=b?a:c;return d.weight===e.weight?d._tmpIndex_-e._tmpIndex_:d.weight-e.weight}),a.forEach(function(a){delete a._tmpIndex_})}var f=a(45);b.exports={defaults:{},addBox:function(a,b){a.boxes||(a.boxes=[]),b.fullWidth=b.fullWidth||!1,b.position=b.position||"top",b.weight=b.weight||0,a.boxes.push(b)},removeBox:function(a,b){var c=a.boxes?a.boxes.indexOf(b):-1;-1!==c&&a.boxes.splice(c,1)},configure:function(a,b,c){for(var d,e=["fullWidth","position","weight"],f=e.length,g=0;g<f;++g)d=e[g],c.hasOwnProperty(d)&&(b[d]=c[d])},update:function(a,b,c){function g(a){var b=f.findNextWhere(A,function(b){return b.box===a});if(b)if(a.isHorizontal()){var c={left:Math.max(F,B),right:Math.max(G,C),top:0,bottom:0};a.update(a.fullWidth?t:y,u/2,c)}else a.update(b.minSize.width,z)}function h(a){a.isHorizontal()?(a.left=a.fullWidth?k:F,a.right=a.fullWidth?b-l:F+y,a.top=O,a.bottom=O+a.height,O=a.bottom):(a.left=N,a.right=N+a.width,a.top=H,a.bottom=H+z,N=a.right)}if(a){var i=a.options.layout||{},j=f.options.toPadding(i.padding),k=j.left,l=j.right,m=j.top,n=j.bottom,o=d(a.boxes,"left"),p=d(a.boxes,"right"),q=d(a.boxes,"top"),r=d(a.boxes,"bottom"),s=d(a.boxes,"chartArea");e(o,!0),e(p,!1),e(q,!0),e(r,!1);var t=b-k-l,u=c-m-n,v=u/2,w=(b-t/2)/(o.length+p.length),x=(c-v)/(q.length+r.length),y=t,z=u,A=[];f.each(o.concat(p,q,r),function(a){var b,c=a.isHorizontal();c?(b=a.update(a.fullWidth?t:y,x),z-=b.height):(b=a.update(w,z),y-=b.width),A.push({horizontal:c,minSize:b,box:a})});var B=0,C=0,D=0,E=0;f.each(q.concat(r),function(a){if(a.getPadding){var b=a.getPadding();B=Math.max(B,b.left),C=Math.max(C,b.right)}}),f.each(o.concat(p),function(a){if(a.getPadding){var b=a.getPadding();D=Math.max(D,b.top),E=Math.max(E,b.bottom)}});var F=k,G=l,H=m,I=n;f.each(o.concat(p),g),f.each(o,function(a){F+=a.width}),f.each(p,function(a){G+=a.width}),f.each(q.concat(r),g),f.each(q,function(a){H+=a.height}),f.each(r,function(a){I+=a.height}),f.each(o.concat(p),function(a){var b=f.findNextWhere(A,function(b){return b.box===a}),c={left:0,right:0,top:H,bottom:I};b&&a.update(b.minSize.width,z,c)}),F=k,G=l,H=m,I=n,f.each(o,function(a){F+=a.width}),f.each(p,function(a){G+=a.width}),f.each(q,function(a){H+=a.height}),f.each(r,function(a){I+=a.height});var J=Math.max(B-F,0);F+=J,G+=Math.max(C-G,0);var K=Math.max(D-H,0);H+=K,I+=Math.max(E-I,0);var L=c-H-I,M=b-F-G;M===y&&L===z||(f.each(o,function(a){a.height=L}),f.each(p,function(a){a.height=L}),f.each(q,function(a){a.fullWidth||(a.width=M)}),f.each(r,function(a){a.fullWidth||(a.width=M)}),z=L,y=M);var N=k+J,O=m+K;f.each(o.concat(q),h),N+=y,O+=z,f.each(p,h),f.each(r,h),a.chartArea={left:F,top:H,right:F+y,bottom:H+z},f.each(s,function(b){b.left=a.chartArea.left,b.top=a.chartArea.top,b.right=a.chartArea.right,b.bottom=a.chartArea.bottom,b.update(y,z)})}}}},{45:45}],31:[function(a,b,c){"use strict";var d=a(25),e=a(45);d._set("global",{plugins:{}}),b.exports={_plugins:[],_cacheId:0,register:function(a){var b=this._plugins;[].concat(a).forEach(function(a){-1===b.indexOf(a)&&b.push(a)}),this._cacheId++},unregister:function(a){var b=this._plugins;[].concat(a).forEach(function(a){var c=b.indexOf(a);-1!==c&&b.splice(c,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(a,b,c){var d,e,f,g,h,i=this.descriptors(a),j=i.length;for(d=0;d<j;++d)if("function"==typeof(h=(f=(e=i[d]).plugin)[b])&&((g=[a].concat(c||[])).push(e.options),!1===h.apply(f,g)))return!1;return!0},descriptors:function(a){var b=a.$plugins||(a.$plugins={});if(b.id===this._cacheId)return b.descriptors;var c=[],f=[],g=a&&a.config||{},h=g.options&&g.options.plugins||{};return this._plugins.concat(g.plugins||[]).forEach(function(a){if(-1===c.indexOf(a)){var b=a.id,g=h[b];!1!==g&&(!0===g&&(g=e.clone(d.global.plugins[b])),c.push(a),f.push({plugin:a,options:g||{}}))}}),b.descriptors=f,b.id=this._cacheId,f},_invalidate:function(a){delete a.$plugins}}},{25:25,45:45}],32:[function(a,b,c){"use strict";function d(a){var b,c,d=[];for(b=0,c=a.length;b<c;++b)d.push(a[b].label);return d}function e(a,b,c){var d=a.getPixelForTick(b);return c&&(d-=0===b?(a.getPixelForTick(1)-d)/2:(d-a.getPixelForTick(b-1))/2),d}var f=a(25),g=a(26),h=a(45),i=a(34);f._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:i.formatters.values,minor:{},major:{}}}),b.exports=function(a){function b(a,b,c){return h.isArray(b)?h.longestText(a,c,b):a.measureText(b).width}function c(a){var b=h.valueOrDefault,c=f.global,d=b(a.fontSize,c.defaultFontSize),e=b(a.fontStyle,c.defaultFontStyle),g=b(a.fontFamily,c.defaultFontFamily);return{size:d,style:e,family:g,font:h.fontString(d,e,g)}}function i(a){return h.options.toLineHeight(h.valueOrDefault(a.lineHeight,1.2),h.valueOrDefault(a.fontSize,f.global.defaultFontSize))}a.Scale=g.extend({
getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var a=this.options.ticks;for(var b in!1===a.minor&&(a.minor={display:!1}),!1===a.major&&(a.major={display:!1}),a)"major"!==b&&"minor"!==b&&(void 0===a.minor[b]&&(a.minor[b]=a[b]),void 0===a.major[b]&&(a.major[b]=a[b]))},beforeUpdate:function(){h.callback(this.options.beforeUpdate,[this])},update:function(a,b,c){var d,e,f,g,i,j,k=this;for(k.beforeUpdate(),k.maxWidth=a,k.maxHeight=b,k.margins=h.extend({left:0,right:0,top:0,bottom:0},c),k.longestTextCache=k.longestTextCache||{},k.beforeSetDimensions(),k.setDimensions(),k.afterSetDimensions(),k.beforeDataLimits(),k.determineDataLimits(),k.afterDataLimits(),k.beforeBuildTicks(),i=k.buildTicks()||[],k.afterBuildTicks(),k.beforeTickToLabelConversion(),f=k.convertTicksToLabels(i)||k.ticks,k.afterTickToLabelConversion(),k.ticks=f,d=0,e=f.length;d<e;++d)g=f[d],(j=i[d])?j.label=g:i.push(j={label:g,major:!1});return k._ticks=i,k.beforeCalculateTickRotation(),k.calculateTickRotation(),k.afterCalculateTickRotation(),k.beforeFit(),k.fit(),k.afterFit(),k.afterUpdate(),k.minSize},afterUpdate:function(){h.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){h.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0},afterSetDimensions:function(){h.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){h.callback(this.options.beforeDataLimits,[this])},determineDataLimits:h.noop,afterDataLimits:function(){h.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){h.callback(this.options.beforeBuildTicks,[this])},buildTicks:h.noop,afterBuildTicks:function(){h.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){h.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var a=this.options.ticks;this.ticks=this.ticks.map(a.userCallback||a.callback,this)},afterTickToLabelConversion:function(){h.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){h.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var a=this,b=a.ctx,e=a.options.ticks,f=d(a._ticks),g=c(e);b.font=g.font;var i=e.minRotation||0;if(f.length&&a.options.display&&a.isHorizontal())for(var j,k=h.longestText(b,g.font,f,a.longestTextCache),l=k,m=a.getPixelForTick(1)-a.getPixelForTick(0)-6;l>m&&i<e.maxRotation;){var n=h.toRadians(i);if(j=Math.cos(n),Math.sin(n)*k>a.maxHeight){i--;break}i++,l=j*k}a.labelRotation=i},afterCalculateTickRotation:function(){h.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){h.callback(this.options.beforeFit,[this])},fit:function(){var a=this,e=a.minSize={width:0,height:0},f=d(a._ticks),g=a.options,j=g.ticks,k=g.scaleLabel,l=g.gridLines,m=g.display,n=a.isHorizontal(),o=c(j),p=g.gridLines.tickMarkLength;if(e.width=n?a.isFullWidth()?a.maxWidth-a.margins.left-a.margins.right:a.maxWidth:m&&l.drawTicks?p:0,e.height=n?m&&l.drawTicks?p:0:a.maxHeight,k.display&&m){var q=i(k)+h.options.toPadding(k.padding).height;n?e.height+=q:e.width+=q}if(j.display&&m){var r=h.longestText(a.ctx,o.font,f,a.longestTextCache),s=h.numberOfLabelLines(f),t=.5*o.size,u=a.options.ticks.padding;if(n){a.longestLabelWidth=r;var v=h.toRadians(a.labelRotation),w=Math.cos(v),x=Math.sin(v)*r+o.size*s+t*(s-1)+t;e.height=Math.min(a.maxHeight,e.height+x+u),a.ctx.font=o.font;var y=b(a.ctx,f[0],o.font),z=b(a.ctx,f[f.length-1],o.font);0!==a.labelRotation?(a.paddingLeft="bottom"===g.position?w*y+3:w*t+3,a.paddingRight="bottom"===g.position?w*t+3:w*z+3):(a.paddingLeft=y/2+3,a.paddingRight=z/2+3)}else j.mirror?r=0:r+=u+t,e.width=Math.min(a.maxWidth,e.width+r),a.paddingTop=o.size/2,a.paddingBottom=o.size/2}a.handleMargins(),a.width=e.width,a.height=e.height},handleMargins:function(){var a=this;a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingTop=Math.max(a.paddingTop-a.margins.top,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0),a.paddingBottom=Math.max(a.paddingBottom-a.margins.bottom,0))},afterFit:function(){h.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(a){if(h.isNullOrUndef(a))return NaN;if("number"==typeof a&&!isFinite(a))return NaN;if(a)if(this.isHorizontal()){if(void 0!==a.x)return this.getRightValue(a.x)}else if(void 0!==a.y)return this.getRightValue(a.y);return a},getLabelForIndex:h.noop,getPixelForValue:h.noop,getValueForPixel:h.noop,getPixelForTick:function(a){var b=this,c=b.options.offset;if(b.isHorizontal()){var d=(b.width-(b.paddingLeft+b.paddingRight))/Math.max(b._ticks.length-(c?0:1),1),e=d*a+b.paddingLeft;c&&(e+=d/2);var f=b.left+Math.round(e);return f+=b.isFullWidth()?b.margins.left:0}var g=b.height-(b.paddingTop+b.paddingBottom);return b.top+a*(g/(b._ticks.length-1))},getPixelForDecimal:function(a){var b=this;if(b.isHorizontal()){var c=(b.width-(b.paddingLeft+b.paddingRight))*a+b.paddingLeft,d=b.left+Math.round(c);return d+=b.isFullWidth()?b.margins.left:0}return b.top+a*b.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var a=this.min,b=this.max;return this.beginAtZero?0:a<0&&b<0?b:a>0&&b>0?a:0},_autoSkip:function(a){var b,c,d,e,f=this,g=f.isHorizontal(),i=f.options.ticks.minor,j=a.length,k=h.toRadians(f.labelRotation),l=Math.cos(k),m=f.longestLabelWidth*l,n=[];for(i.maxTicksLimit&&(e=i.maxTicksLimit),g&&(b=!1,(m+i.autoSkipPadding)*j>f.width-(f.paddingLeft+f.paddingRight)&&(b=1+Math.floor((m+i.autoSkipPadding)*j/(f.width-(f.paddingLeft+f.paddingRight)))),e&&j>e&&(b=Math.max(b,Math.floor(j/e)))),c=0;c<j;c++)d=a[c],(b>1&&c%b>0||c%b==0&&c+b>=j)&&c!==j-1&&delete d.label,n.push(d);return n},draw:function(a){var b=this,d=b.options;if(d.display){var g=b.ctx,j=f.global,k=d.ticks.minor,l=d.ticks.major||k,m=d.gridLines,n=d.scaleLabel,o=0!==b.labelRotation,p=b.isHorizontal(),q=k.autoSkip?b._autoSkip(b.getTicks()):b.getTicks(),r=h.valueOrDefault(k.fontColor,j.defaultFontColor),s=c(k),t=h.valueOrDefault(l.fontColor,j.defaultFontColor),u=c(l),v=m.drawTicks?m.tickMarkLength:0,w=h.valueOrDefault(n.fontColor,j.defaultFontColor),x=c(n),y=h.options.toPadding(n.padding),z=h.toRadians(b.labelRotation),A=[],B=b.options.gridLines.lineWidth,C="right"===d.position?b.right:b.right-B-v,D="right"===d.position?b.right+v:b.right,E="bottom"===d.position?b.top+B:b.bottom-v-B,F="bottom"===d.position?b.top+B+v:b.bottom+B;if(h.each(q,function(c,f){if(!h.isNullOrUndef(c.label)){var g,i,l,n,r,s,t,u,w,x,y,G,H,I,J=c.label;f===b.zeroLineIndex&&d.offset===m.offsetGridLines?(g=m.zeroLineWidth,i=m.zeroLineColor,l=m.zeroLineBorderDash,n=m.zeroLineBorderDashOffset):(g=h.valueAtIndexOrDefault(m.lineWidth,f),i=h.valueAtIndexOrDefault(m.color,f),l=h.valueOrDefault(m.borderDash,j.borderDash),n=h.valueOrDefault(m.borderDashOffset,j.borderDashOffset));var K="middle",L="middle",M=k.padding;if(p){var N=v+M;"bottom"===d.position?(L=o?"middle":"top",K=o?"right":"center",I=b.top+N):(L=o?"middle":"bottom",K=o?"left":"center",I=b.bottom-N);var O=e(b,f,m.offsetGridLines&&q.length>1);O<b.left&&(i="rgba(0,0,0,0)"),O+=h.aliasPixel(g),H=b.getPixelForTick(f)+k.labelOffset,r=t=w=y=O,s=E,u=F,x=a.top,G=a.bottom+B}else{var P,Q="left"===d.position;k.mirror?(K=Q?"left":"right",P=M):(K=Q?"right":"left",P=v+M),H=Q?b.right-P:b.left+P;var R=e(b,f,m.offsetGridLines&&q.length>1);R<b.top&&(i="rgba(0,0,0,0)"),R+=h.aliasPixel(g),I=b.getPixelForTick(f)+k.labelOffset,r=C,t=D,w=a.left,y=a.right+B,s=u=x=G=R}A.push({tx1:r,ty1:s,tx2:t,ty2:u,x1:w,y1:x,x2:y,y2:G,labelX:H,labelY:I,glWidth:g,glColor:i,glBorderDash:l,glBorderDashOffset:n,rotation:-1*z,label:J,major:c.major,textBaseline:L,textAlign:K})}}),h.each(A,function(a){if(m.display&&(g.save(),g.lineWidth=a.glWidth,g.strokeStyle=a.glColor,g.setLineDash&&(g.setLineDash(a.glBorderDash),g.lineDashOffset=a.glBorderDashOffset),g.beginPath(),m.drawTicks&&(g.moveTo(a.tx1,a.ty1),g.lineTo(a.tx2,a.ty2)),m.drawOnChartArea&&(g.moveTo(a.x1,a.y1),g.lineTo(a.x2,a.y2)),g.stroke(),g.restore()),k.display){g.save(),g.translate(a.labelX,a.labelY),g.rotate(a.rotation),g.font=a.major?u.font:s.font,g.fillStyle=a.major?t:r,g.textBaseline=a.textBaseline,g.textAlign=a.textAlign;var c=a.label;if(h.isArray(c))for(var d=c.length,e=1.5*s.size,f=b.isHorizontal()?0:-e*(d-1)/2,i=0;i<d;++i)g.fillText(""+c[i],0,f),f+=e;else g.fillText(c,0,0);g.restore()}}),n.display){var G,H,I=0,J=i(n)/2;if(p)G=b.left+(b.right-b.left)/2,H="bottom"===d.position?b.bottom-J-y.bottom:b.top+J+y.top;else{var K="left"===d.position;G=K?b.left+J+y.top:b.right-J-y.top,H=b.top+(b.bottom-b.top)/2,I=K?-.5*Math.PI:.5*Math.PI}g.save(),g.translate(G,H),g.rotate(I),g.textAlign="center",g.textBaseline="middle",g.fillStyle=w,g.font=x.font,g.fillText(n.labelString,0,0),g.restore()}if(m.drawBorder){g.lineWidth=h.valueAtIndexOrDefault(m.lineWidth,0),g.strokeStyle=h.valueAtIndexOrDefault(m.color,0);var L=b.left,M=b.right+B,N=b.top,O=b.bottom+B,P=h.aliasPixel(g.lineWidth);p?(N=O="top"===d.position?b.bottom:b.top,N+=P,O+=P):(L=M="left"===d.position?b.right:b.left,L+=P,M+=P),g.beginPath(),g.moveTo(L,N),g.lineTo(M,O),g.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(a,b,c){"use strict";var d=a(25),e=a(45),f=a(30);b.exports=function(a){a.scaleService={constructors:{},defaults:{},registerScaleType:function(a,b,c){this.constructors[a]=b,this.defaults[a]=e.clone(c)},getScaleConstructor:function(a){return this.constructors.hasOwnProperty(a)?this.constructors[a]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?e.merge({},[d.scale,this.defaults[a]]):{}},updateScaleDefaults:function(a,b){this.defaults.hasOwnProperty(a)&&(this.defaults[a]=e.extend(this.defaults[a],b))},addScalesToLayout:function(a){e.each(a.scales,function(b){b.fullWidth=b.options.fullWidth,b.position=b.options.position,b.weight=b.options.weight,f.addBox(a,b)})}}}},{25:25,30:30,45:45}],34:[function(a,b,c){"use strict";var d=a(45);b.exports={formatters:{values:function(a){return d.isArray(a)?a:""+a},linear:function(a,b,c){var e=c.length>3?c[2]-c[1]:c[1]-c[0];Math.abs(e)>1&&a!==Math.floor(a)&&(e=a-Math.floor(a));var f=d.log10(Math.abs(e)),g="";if(0!==a){var h=-1*Math.floor(f);h=Math.max(Math.min(h,20),0),g=a.toFixed(h)}else g="0";return g},logarithmic:function(a,b,c){var e=a/Math.pow(10,Math.floor(d.log10(a)));return 0===a?"0":1===e||2===e||5===e||0===b||b===c.length-1?a.toExponential():""}}}},{45:45}],35:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45);d._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:f.noop,title:function(a,b){var c="",d=b.labels,e=d?d.length:0;if(a.length>0){var f=a[0];f.xLabel?c=f.xLabel:e>0&&f.index<e&&(c=d[f.index])}return c},afterTitle:f.noop,beforeBody:f.noop,beforeLabel:f.noop,label:function(a,b){var c=b.datasets[a.datasetIndex].label||"";return c&&(c+=": "),c+=a.yLabel},labelColor:function(a,b){var c=b.getDatasetMeta(a.datasetIndex).data[a.index]._view;return{borderColor:c.borderColor,backgroundColor:c.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:f.noop,afterBody:f.noop,beforeFooter:f.noop,footer:f.noop,afterFooter:f.noop}}}),b.exports=function(a){function b(a,b){var c=f.color(a);return c.alpha(b*c.alpha()).rgbaString()}function c(a,b){return b&&(f.isArray(b)?Array.prototype.push.apply(a,b):a.push(b)),a}function g(a){var b=d.global,c=f.valueOrDefault;return{xPadding:a.xPadding,yPadding:a.yPadding,xAlign:a.xAlign,yAlign:a.yAlign,bodyFontColor:a.bodyFontColor,_bodyFontFamily:c(a.bodyFontFamily,b.defaultFontFamily),_bodyFontStyle:c(a.bodyFontStyle,b.defaultFontStyle),_bodyAlign:a.bodyAlign,bodyFontSize:c(a.bodyFontSize,b.defaultFontSize),bodySpacing:a.bodySpacing,titleFontColor:a.titleFontColor,_titleFontFamily:c(a.titleFontFamily,b.defaultFontFamily),_titleFontStyle:c(a.titleFontStyle,b.defaultFontStyle),titleFontSize:c(a.titleFontSize,b.defaultFontSize),_titleAlign:a.titleAlign,titleSpacing:a.titleSpacing,titleMarginBottom:a.titleMarginBottom,footerFontColor:a.footerFontColor,_footerFontFamily:c(a.footerFontFamily,b.defaultFontFamily),_footerFontStyle:c(a.footerFontStyle,b.defaultFontStyle),footerFontSize:c(a.footerFontSize,b.defaultFontSize),_footerAlign:a.footerAlign,footerSpacing:a.footerSpacing,footerMarginTop:a.footerMarginTop,caretSize:a.caretSize,cornerRadius:a.cornerRadius,backgroundColor:a.backgroundColor,opacity:0,legendColorBackground:a.multiKeyBackground,displayColors:a.displayColors,borderColor:a.borderColor,borderWidth:a.borderWidth}}a.Tooltip=e.extend({initialize:function(){this._model=g(this._options),this._lastActive=[]},getTitle:function(){var a=this._options.callbacks,b=a.beforeTitle.apply(this,arguments),d=a.title.apply(this,arguments),e=a.afterTitle.apply(this,arguments),f=[];return f=c(f=c(f=c(f,b),d),e)},getBeforeBody:function(){var a=this._options.callbacks.beforeBody.apply(this,arguments);return f.isArray(a)?a:void 0!==a?[a]:[]},getBody:function(a,b){var d=this,e=d._options.callbacks,g=[];return f.each(a,function(a){var f={before:[],lines:[],after:[]};c(f.before,e.beforeLabel.call(d,a,b)),c(f.lines,e.label.call(d,a,b)),c(f.after,e.afterLabel.call(d,a,b)),g.push(f)}),g},getAfterBody:function(){var a=this._options.callbacks.afterBody.apply(this,arguments);return f.isArray(a)?a:void 0!==a?[a]:[]},getFooter:function(){var a=this._options.callbacks,b=a.beforeFooter.apply(this,arguments),d=a.footer.apply(this,arguments),e=a.afterFooter.apply(this,arguments),f=[];return f=c(f=c(f=c(f,b),d),e)},update:function(b){var c,d,e,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=this,z=y._options,A=y._model,B=y._model=g(z),C=y._active,D=y._data,E={xAlign:A.xAlign,yAlign:A.yAlign},F={x:A.x,y:A.y},G={width:A.width,height:A.height},H={x:A.caretX,y:A.caretY};if(C.length){B.opacity=1;var I=[],J=[];H=a.Tooltip.positioners[z.position].call(y,C,y._eventPosition);var K=[];for(c=0,d=C.length;c<d;++c)K.push((t=C[c],u=void 0,v=void 0,u=t._xScale,v=t._yScale||t._scale,w=t._index,x=t._datasetIndex,{xLabel:u?u.getLabelForIndex(w,x):"",yLabel:v?v.getLabelForIndex(w,x):"",index:w,datasetIndex:x,x:t._model.x,y:t._model.y}));z.filter&&(K=K.filter(function(a){return z.filter(a,D)})),z.itemSort&&(K=K.sort(function(a,b){return z.itemSort(a,b,D)})),f.each(K,function(a){I.push(z.callbacks.labelColor.call(y,a,y._chart)),J.push(z.callbacks.labelTextColor.call(y,a,y._chart))}),B.title=y.getTitle(K,D),B.beforeBody=y.getBeforeBody(K,D),B.body=y.getBody(K,D),B.afterBody=y.getAfterBody(K,D),B.footer=y.getFooter(K,D),B.x=Math.round(H.x),B.y=Math.round(H.y),B.caretPadding=z.caretPadding,B.labelColors=I,B.labelTextColors=J,B.dataPoints=K,E=function(a,b){var c,d,e,f,g,h=a._model,i=a._chart,j=a._chart.chartArea,k="center",l="center";h.y<b.height?l="top":h.y>i.height-b.height&&(l="bottom");var m=(j.left+j.right)/2,n=(j.top+j.bottom)/2;"center"===l?(c=function(a){return a<=m},d=function(a){return a>m}):(c=function(a){return a<=b.width/2},d=function(a){return a>=i.width-b.width/2}),e=function(a){return a+b.width+h.caretSize+h.caretPadding>i.width},f=function(a){return a-b.width-h.caretSize-h.caretPadding<0},g=function(a){return a<=n?"top":"bottom"},c(h.x)?(k="left",e(h.x)&&(k="center",l=g(h.y))):d(h.x)&&(k="right",f(h.x)&&(k="center",l=g(h.y)));var o=a._options;return{xAlign:o.xAlign?o.xAlign:k,yAlign:o.yAlign?o.yAlign:l}}(this,G=function(a,b){var c=a._chart.ctx,d=2*b.yPadding,e=0,g=b.body,h=g.reduce(function(a,b){return a+b.before.length+b.lines.length+b.after.length},0);h+=b.beforeBody.length+b.afterBody.length;var i=b.title.length,j=b.footer.length,k=b.titleFontSize,l=b.bodyFontSize,m=b.footerFontSize;d+=i*k,d+=i?(i-1)*b.titleSpacing:0,d+=i?b.titleMarginBottom:0,d+=h*l,d+=h?(h-1)*b.bodySpacing:0,d+=j?b.footerMarginTop:0,d+=j*m,d+=j?(j-1)*b.footerSpacing:0;var n=0,o=function(a){e=Math.max(e,c.measureText(a).width+n)};return c.font=f.fontString(k,b._titleFontStyle,b._titleFontFamily),f.each(b.title,o),c.font=f.fontString(l,b._bodyFontStyle,b._bodyFontFamily),f.each(b.beforeBody.concat(b.afterBody),o),n=b.displayColors?l+2:0,f.each(g,function(a){f.each(a.before,o),f.each(a.lines,o),f.each(a.after,o)}),n=0,c.font=f.fontString(m,b._footerFontStyle,b._footerFontFamily),f.each(b.footer,o),{width:e+=2*b.xPadding,height:d}}(this,B)),e=B,h=G,i=E,j=y._chart,k=e.x,l=e.y,m=e.caretSize,n=e.caretPadding,o=e.cornerRadius,p=i.xAlign,q=i.yAlign,r=m+n,s=o+n,"right"===p?k-=h.width:"center"===p&&((k-=h.width/2)+h.width>j.width&&(k=j.width-h.width),k<0&&(k=0)),"top"===q?l+=r:l-="bottom"===q?h.height+r:h.height/2,"center"===q?"left"===p?k+=r:"right"===p&&(k-=r):"left"===p?k-=s:"right"===p&&(k+=s),F={x:k,y:l}}else B.opacity=0;return B.xAlign=E.xAlign,B.yAlign=E.yAlign,B.x=F.x,B.y=F.y,B.width=G.width,B.height=G.height,B.caretX=H.x,B.caretY=H.y,y._model=B,b&&z.custom&&z.custom.call(y,B),y},drawCaret:function(a,b){var c=this._chart.ctx,d=this._view,e=this.getCaretPosition(a,b,d);c.lineTo(e.x1,e.y1),c.lineTo(e.x2,e.y2),c.lineTo(e.x3,e.y3)},getCaretPosition:function(a,b,c){var d,e,f,g,h,i,j=c.caretSize,k=c.cornerRadius,l=c.xAlign,m=c.yAlign,n=a.x,o=a.y,p=b.width,q=b.height;if("center"===m)h=o+q/2,"left"===l?(e=(d=n)-j,f=d,g=h+j,i=h-j):(e=(d=n+p)+j,f=d,g=h-j,i=h+j);else if("left"===l?(d=(e=n+k+j)-j,f=e+j):"right"===l?(d=(e=n+p-k-j)-j,f=e+j):(d=(e=c.caretX)-j,f=e+j),"top"===m)h=(g=o)-j,i=g;else{h=(g=o+q)+j,i=g;var r=f;f=d,d=r}return{x1:d,x2:e,x3:f,y1:g,y2:h,y3:i}},drawTitle:function(a,c,d,e){var g=c.title;if(g.length){d.textAlign=c._titleAlign,d.textBaseline="top";var h,i,j=c.titleFontSize,k=c.titleSpacing;for(d.fillStyle=b(c.titleFontColor,e),d.font=f.fontString(j,c._titleFontStyle,c._titleFontFamily),h=0,i=g.length;h<i;++h)d.fillText(g[h],a.x,a.y),a.y+=j+k,h+1===g.length&&(a.y+=c.titleMarginBottom-k)}},drawBody:function(a,c,d,e){var g=c.bodyFontSize,h=c.bodySpacing,i=c.body;d.textAlign=c._bodyAlign,d.textBaseline="top",d.font=f.fontString(g,c._bodyFontStyle,c._bodyFontFamily);var j=0,k=function(b){d.fillText(b,a.x+j,a.y),a.y+=g+h};d.fillStyle=b(c.bodyFontColor,e),f.each(c.beforeBody,k);var l=c.displayColors;j=l?g+2:0,f.each(i,function(h,i){var j=b(c.labelTextColors[i],e);d.fillStyle=j,f.each(h.before,k),f.each(h.lines,function(f){l&&(d.fillStyle=b(c.legendColorBackground,e),d.fillRect(a.x,a.y,g,g),d.lineWidth=1,d.strokeStyle=b(c.labelColors[i].borderColor,e),d.strokeRect(a.x,a.y,g,g),d.fillStyle=b(c.labelColors[i].backgroundColor,e),d.fillRect(a.x+1,a.y+1,g-2,g-2),d.fillStyle=j),k(f)}),f.each(h.after,k)}),j=0,f.each(c.afterBody,k),a.y-=h},drawFooter:function(a,c,d,e){var g=c.footer;g.length&&(a.y+=c.footerMarginTop,d.textAlign=c._footerAlign,d.textBaseline="top",d.fillStyle=b(c.footerFontColor,e),d.font=f.fontString(c.footerFontSize,c._footerFontStyle,c._footerFontFamily),f.each(g,function(b){d.fillText(b,a.x,a.y),a.y+=c.footerFontSize+c.footerSpacing}))},drawBackground:function(a,c,d,e,f){d.fillStyle=b(c.backgroundColor,f),d.strokeStyle=b(c.borderColor,f),d.lineWidth=c.borderWidth;var g=c.xAlign,h=c.yAlign,i=a.x,j=a.y,k=e.width,l=e.height,m=c.cornerRadius;d.beginPath(),d.moveTo(i+m,j),"top"===h&&this.drawCaret(a,e),d.lineTo(i+k-m,j),d.quadraticCurveTo(i+k,j,i+k,j+m),"center"===h&&"right"===g&&this.drawCaret(a,e),d.lineTo(i+k,j+l-m),d.quadraticCurveTo(i+k,j+l,i+k-m,j+l),"bottom"===h&&this.drawCaret(a,e),d.lineTo(i+m,j+l),d.quadraticCurveTo(i,j+l,i,j+l-m),"center"===h&&"left"===g&&this.drawCaret(a,e),d.lineTo(i,j+m),d.quadraticCurveTo(i,j,i+m,j),d.closePath(),d.fill(),c.borderWidth>0&&d.stroke()},draw:function(){var a=this._chart.ctx,b=this._view;if(0!==b.opacity){var c={width:b.width,height:b.height},d={x:b.x,y:b.y},e=Math.abs(b.opacity<.001)?0:b.opacity,f=b.title.length||b.beforeBody.length||b.body.length||b.afterBody.length||b.footer.length;this._options.enabled&&f&&(this.drawBackground(d,b,a,c,e),d.x+=b.xPadding,d.y+=b.yPadding,this.drawTitle(d,b,a,e),this.drawBody(d,b,a,e),this.drawFooter(d,b,a,e))}},handleEvent:function(a){var b,c=this,d=c._options;return c._lastActive=c._lastActive||[],"mouseout"===a.type?c._active=[]:c._active=c._chart.getElementsAtEventForMode(a,d.mode,d),(b=!f.arrayEquals(c._active,c._lastActive))&&(c._lastActive=c._active,(d.enabled||d.custom)&&(c._eventPosition={x:a.x,y:a.y},c.update(!0),c.pivot())),b}}),a.Tooltip.positioners={average:function(a){if(!a.length)return!1;var b,c,d=0,e=0,f=0;for(b=0,c=a.length;b<c;++b){var g=a[b];if(g&&g.hasValue()){var h=g.tooltipPosition();d+=h.x,e+=h.y,++f}}return{x:Math.round(d/f),y:Math.round(e/f)}},nearest:function(a,b){var c,d,e,g=b.x,h=b.y,i=Number.POSITIVE_INFINITY;for(c=0,d=a.length;c<d;++c){var j=a[c];if(j&&j.hasValue()){var k=j.getCenterPoint(),l=f.distanceBetweenPoints(b,k);l<i&&(i=l,e=j)}}if(e){var m=e.tooltipPosition();g=m.x,h=m.y}return{x:g,y:h}}}}},{25:25,26:26,45:45}],36:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45);d._set("global",{elements:{arc:{backgroundColor:d.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),b.exports=e.extend({inLabelRange:function(a){var b=this._view;return!!b&&Math.pow(a-b.x,2)<Math.pow(b.radius+b.hoverRadius,2)},inRange:function(a,b){var c=this._view;if(c){for(var d=f.getAngleFromPoint(c,{x:a,y:b}),e=d.angle,g=d.distance,h=c.startAngle,i=c.endAngle;i<h;)i+=2*Math.PI;for(;e>i;)e-=2*Math.PI;for(;e<h;)e+=2*Math.PI;var j=e>=h&&e<=i,k=g>=c.innerRadius&&g<=c.outerRadius;return j&&k}return!1},getCenterPoint:function(){var a=this._view,b=(a.startAngle+a.endAngle)/2,c=(a.innerRadius+a.outerRadius)/2;return{x:a.x+Math.cos(b)*c,y:a.y+Math.sin(b)*c}},getArea:function(){var a=this._view;return Math.PI*((a.endAngle-a.startAngle)/(2*Math.PI))*(Math.pow(a.outerRadius,2)-Math.pow(a.innerRadius,2))},tooltipPosition:function(){var a=this._view,b=a.startAngle+(a.endAngle-a.startAngle)/2,c=(a.outerRadius-a.innerRadius)/2+a.innerRadius;return{x:a.x+Math.cos(b)*c,y:a.y+Math.sin(b)*c}},draw:function(){var a=this._chart.ctx,b=this._view,c=b.startAngle,d=b.endAngle;a.beginPath(),a.arc(b.x,b.y,b.outerRadius,c,d),a.arc(b.x,b.y,b.innerRadius,d,c,!0),a.closePath(),a.strokeStyle=b.borderColor,a.lineWidth=b.borderWidth,a.fillStyle=b.backgroundColor,a.fill(),a.lineJoin="bevel",b.borderWidth&&a.stroke()}})},{25:25,26:26,45:45}],37:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45),g=d.global;d._set("global",{elements:{line:{tension:.4,backgroundColor:g.defaultColor,borderWidth:3,borderColor:g.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),b.exports=e.extend({draw:function(){var a,b,c,d,e=this._view,h=this._chart.ctx,i=e.spanGaps,j=this._children.slice(),k=g.elements.line,l=-1;for(this._loop&&j.length&&j.push(j[0]),h.save(),h.lineCap=e.borderCapStyle||k.borderCapStyle,h.setLineDash&&h.setLineDash(e.borderDash||k.borderDash),h.lineDashOffset=e.borderDashOffset||k.borderDashOffset,h.lineJoin=e.borderJoinStyle||k.borderJoinStyle,h.lineWidth=e.borderWidth||k.borderWidth,h.strokeStyle=e.borderColor||g.defaultColor,h.beginPath(),l=-1,a=0;a<j.length;++a)b=j[a],c=f.previousItem(j,a),d=b._view,0===a?d.skip||(h.moveTo(d.x,d.y),l=a):(c=-1===l?c:j[l],d.skip||(l!==a-1&&!i||-1===l?h.moveTo(d.x,d.y):f.canvas.lineTo(h,c._view,b._view),l=a));h.stroke(),h.restore()}})},{25:25,26:26,45:45}],38:[function(a,b,c){"use strict";function d(a){var b=this._view;return!!b&&Math.abs(a-b.x)<b.radius+b.hitRadius}var e=a(25),f=a(26),g=a(45),h=e.global.defaultColor;e._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:h,borderColor:h,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),b.exports=f.extend({inRange:function(a,b){var c=this._view;return!!c&&Math.pow(a-c.x,2)+Math.pow(b-c.y,2)<Math.pow(c.hitRadius+c.radius,2)},inLabelRange:d,inXRange:d,inYRange:function(a){var b=this._view;return!!b&&Math.abs(a-b.y)<b.radius+b.hitRadius},getCenterPoint:function(){var a=this._view;return{x:a.x,y:a.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y,padding:a.radius+a.borderWidth}},draw:function(a){var b=this._view,c=this._model,d=this._chart.ctx,f=b.pointStyle,i=b.radius,j=b.x,k=b.y,l=g.color,m=0;b.skip||(d.strokeStyle=b.borderColor||h,d.lineWidth=g.valueOrDefault(b.borderWidth,e.global.elements.point.borderWidth),d.fillStyle=b.backgroundColor||h,void 0!==a&&(c.x<a.left||1.01*a.right<c.x||c.y<a.top||1.01*a.bottom<c.y)&&(c.x<a.left?m=(j-c.x)/(a.left-c.x):1.01*a.right<c.x?m=(c.x-j)/(c.x-a.right):c.y<a.top?m=(k-c.y)/(a.top-c.y):1.01*a.bottom<c.y&&(m=(c.y-k)/(c.y-a.bottom)),m=Math.round(100*m)/100,d.strokeStyle=l(d.strokeStyle).alpha(m).rgbString(),d.fillStyle=l(d.fillStyle).alpha(m).rgbString()),g.canvas.drawPoint(d,f,i,j,k))}})},{25:25,26:26,45:45}],39:[function(a,b,c){"use strict";function d(a){return void 0!==a._view.width}function e(a){var b,c,e,f,g=a._view;if(d(a)){var h=g.width/2;b=g.x-h,c=g.x+h,e=Math.min(g.y,g.base),f=Math.max(g.y,g.base)}else{var i=g.height/2;b=Math.min(g.x,g.base),c=Math.max(g.x,g.base),e=g.y-i,f=g.y+i}return{left:b,top:e,right:c,bottom:f}}var f=a(25),g=a(26);f._set("global",{elements:{rectangle:{backgroundColor:f.global.defaultColor,borderColor:f.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),b.exports=g.extend({draw:function(){function a(a){return r[(s+a)%4]}var b,c,d,e,f,g,h,i=this._chart.ctx,j=this._view,k=j.borderWidth;if(j.horizontal?(b=j.base,c=j.x,d=j.y-j.height/2,e=j.y+j.height/2,f=c>b?1:-1,g=1,h=j.borderSkipped||"left"):(b=j.x-j.width/2,c=j.x+j.width/2,d=j.y,f=1,g=(e=j.base)>d?1:-1,h=j.borderSkipped||"bottom"),k){var l=Math.min(Math.abs(b-c),Math.abs(d-e)),m=(k=k>l?l:k)/2,n=b+("left"!==h?m*f:0),o=c+("right"!==h?-m*f:0),p=d+("top"!==h?m*g:0),q=e+("bottom"!==h?-m*g:0);n!==o&&(d=p,e=q),p!==q&&(b=n,c=o)}i.beginPath(),i.fillStyle=j.backgroundColor,i.strokeStyle=j.borderColor,i.lineWidth=k;var r=[[b,e],[b,d],[c,d],[c,e]],s=["bottom","left","top","right"].indexOf(h,0);-1===s&&(s=0);var t=a(0);i.moveTo(t[0],t[1]);for(var u=1;u<4;u++)t=a(u),i.lineTo(t[0],t[1]);i.fill(),k&&i.stroke()},height:function(){var a=this._view;return a.base-a.y},inRange:function(a,b){var c=!1;if(this._view){var d=e(this);c=a>=d.left&&a<=d.right&&b>=d.top&&b<=d.bottom}return c},inLabelRange:function(a,b){if(!this._view)return!1;var c=e(this);return d(this)?a>=c.left&&a<=c.right:b>=c.top&&b<=c.bottom},inXRange:function(a){var b=e(this);return a>=b.left&&a<=b.right},inYRange:function(a){var b=e(this);return a>=b.top&&a<=b.bottom},getCenterPoint:function(){var a,b,c=this._view;return d(this)?(a=c.x,b=(c.y+c.base)/2):(a=(c.x+c.base)/2,b=c.y),{x:a,y:b}},getArea:function(){var a=this._view;return a.width*Math.abs(a.y-a.base)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y}}})},{25:25,26:26}],40:[function(a,b,c){"use strict";b.exports={},b.exports.Arc=a(36),b.exports.Line=a(37),b.exports.Point=a(38),b.exports.Rectangle=a(39)},{36:36,37:37,38:38,39:39}],41:[function(a,b,c){"use strict";var d=a(42);c=b.exports={clear:function(a){a.ctx.clearRect(0,0,a.width,a.height)},roundedRect:function(a,b,c,d,e,f){if(f){var g=Math.min(f,d/2),h=Math.min(f,e/2);a.moveTo(b+g,c),a.lineTo(b+d-g,c),a.quadraticCurveTo(b+d,c,b+d,c+h),a.lineTo(b+d,c+e-h),a.quadraticCurveTo(b+d,c+e,b+d-g,c+e),a.lineTo(b+g,c+e),a.quadraticCurveTo(b,c+e,b,c+e-h),a.lineTo(b,c+h),a.quadraticCurveTo(b,c,b+g,c)}else a.rect(b,c,d,e)},drawPoint:function(a,b,c,d,e){var f,g,h,i,j,k;if(!b||"object"!=typeof b||"[object HTMLImageElement]"!==(f=b.toString())&&"[object HTMLCanvasElement]"!==f){if(!(isNaN(c)||c<=0)){switch(b){default:a.beginPath(),a.arc(d,e,c,0,2*Math.PI),a.closePath(),a.fill();break;case"triangle":a.beginPath(),j=(g=3*c/Math.sqrt(3))*Math.sqrt(3)/2,a.moveTo(d-g/2,e+j/3),a.lineTo(d+g/2,e+j/3),a.lineTo(d,e-2*j/3),a.closePath(),a.fill();break;case"rect":k=1/Math.SQRT2*c,a.beginPath(),a.fillRect(d-k,e-k,2*k,2*k),a.strokeRect(d-k,e-k,2*k,2*k);break;case"rectRounded":var l=c/Math.SQRT2,m=d-l,n=e-l,o=Math.SQRT2*c;a.beginPath(),this.roundedRect(a,m,n,o,o,c/2),a.closePath(),a.fill();break;case"rectRot":k=1/Math.SQRT2*c,a.beginPath(),a.moveTo(d-k,e),a.lineTo(d,e+k),a.lineTo(d+k,e),a.lineTo(d,e-k),a.closePath(),a.fill();break;case"cross":a.beginPath(),a.moveTo(d,e+c),a.lineTo(d,e-c),a.moveTo(d-c,e),a.lineTo(d+c,e),a.closePath();break;case"crossRot":a.beginPath(),h=Math.cos(Math.PI/4)*c,i=Math.sin(Math.PI/4)*c,a.moveTo(d-h,e-i),a.lineTo(d+h,e+i),a.moveTo(d-h,e+i),a.lineTo(d+h,e-i),a.closePath();break;case"star":a.beginPath(),a.moveTo(d,e+c),a.lineTo(d,e-c),a.moveTo(d-c,e),a.lineTo(d+c,e),h=Math.cos(Math.PI/4)*c,i=Math.sin(Math.PI/4)*c,a.moveTo(d-h,e-i),a.lineTo(d+h,e+i),a.moveTo(d-h,e+i),a.lineTo(d+h,e-i),a.closePath();break;case"line":a.beginPath(),a.moveTo(d-c,e),a.lineTo(d+c,e),a.closePath();break;case"dash":a.beginPath(),a.moveTo(d,e),a.lineTo(d+c,e),a.closePath()}a.stroke()}}else a.drawImage(b,d-b.width/2,e-b.height/2,b.width,b.height)},clipArea:function(a,b){a.save(),a.beginPath(),a.rect(b.left,b.top,b.right-b.left,b.bottom-b.top),a.clip()},unclipArea:function(a){a.restore()},lineTo:function(a,b,c,d){if(c.steppedLine)return"after"===c.steppedLine&&!d||"after"!==c.steppedLine&&d?a.lineTo(b.x,c.y):a.lineTo(c.x,b.y),void a.lineTo(c.x,c.y);c.tension?a.bezierCurveTo(d?b.controlPointPreviousX:b.controlPointNextX,d?b.controlPointPreviousY:b.controlPointNextY,d?c.controlPointNextX:c.controlPointPreviousX,d?c.controlPointNextY:c.controlPointPreviousY,c.x,c.y):a.lineTo(c.x,c.y)}},d.clear=c.clear,d.drawRoundedRectangle=function(a){a.beginPath(),c.roundedRect.apply(c,arguments),a.closePath()}},{42:42}],42:[function(a,b,c){"use strict";var d,e={noop:function(){},uid:(d=0,function(){return d++}),isNullOrUndef:function(a){return null==a},isArray:Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)},valueOrDefault:function(a,b){return void 0===a?b:a},valueAtIndexOrDefault:function(a,b,c){return e.valueOrDefault(e.isArray(a)?a[b]:a,c)},callback:function(a,b,c){if(a&&"function"==typeof a.call)return a.apply(c,b)},each:function(a,b,c,d){var f,g,h;if(e.isArray(a))if(g=a.length,d)for(f=g-1;f>=0;f--)b.call(c,a[f],f);else for(f=0;f<g;f++)b.call(c,a[f],f);else if(e.isObject(a))for(g=(h=Object.keys(a)).length,f=0;f<g;f++)b.call(c,a[h[f]],h[f])},arrayEquals:function(a,b){var c,d,f,g;if(!a||!b||a.length!==b.length)return!1;for(c=0,d=a.length;c<d;++c)if(f=a[c],g=b[c],f instanceof Array&&g instanceof Array){if(!e.arrayEquals(f,g))return!1}else if(f!==g)return!1;return!0},clone:function(a){if(e.isArray(a))return a.map(e.clone);if(e.isObject(a)){for(var b={},c=Object.keys(a),d=c.length,f=0;f<d;++f)b[c[f]]=e.clone(a[c[f]]);return b}return a},_merger:function(a,b,c,d){var f=b[a],g=c[a];e.isObject(f)&&e.isObject(g)?e.merge(f,g,d):b[a]=e.clone(g)},_mergerIf:function(a,b,c){var d=b[a],f=c[a];e.isObject(d)&&e.isObject(f)?e.mergeIf(d,f):b.hasOwnProperty(a)||(b[a]=e.clone(f))},merge:function(a,b,c){var d,f,g,h,i,j=e.isArray(b)?b:[b],k=j.length;if(!e.isObject(a))return a;for(d=(c=c||{}).merger||e._merger,f=0;f<k;++f)if(b=j[f],e.isObject(b))for(i=0,h=(g=Object.keys(b)).length;i<h;++i)d(g[i],a,b,c)
;return a},mergeIf:function(a,b){return e.merge(a,b,{merger:e._mergerIf})},extend:function(a){for(var b=function(b,c){a[c]=b},c=1,d=arguments.length;c<d;++c)e.each(arguments[c],b);return a},inherits:function(a){var b=this,c=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return b.apply(this,arguments)},d=function(){this.constructor=c};return d.prototype=b.prototype,c.prototype=new d,c.extend=e.inherits,a&&e.extend(c.prototype,a),c.__super__=b.prototype,c}};b.exports=e,e.callCallback=e.callback,e.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)},e.getValueOrDefault=e.valueOrDefault,e.getValueAtIndexOrDefault=e.valueAtIndexOrDefault},{}],43:[function(a,b,c){"use strict";var d=a(42),e={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return(a-=1)*a*a+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-((a-=1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return(a-=1)*a*a*a*a+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return 1-Math.cos(a*(Math.PI/2))},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return a>=1?a:-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-(a-=1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1===a?1:(c||(c=.3),d<1?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),-d*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/c))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1===a?1:(c||(c=.3),d<1?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*a)*Math.sin((a-b)*(2*Math.PI)/c)+1)},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:2==(a/=.5)?1:(c||(c=.45),d<1?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),a<1?d*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/c)*-.5:d*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/c)*.5+1)},easeInBack:function(a){return a*a*(2.70158*a-1.70158)},easeOutBack:function(a){return(a-=1)*a*(2.70158*a+1.70158)+1},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?a*a*((1+(b*=1.525))*a-b)*.5:.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},easeInBounce:function(a){return 1-e.easeOutBounce(1-a)},easeOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:function(a){return a<.5?.5*e.easeInBounce(2*a):.5*e.easeOutBounce(2*a-1)+.5}};b.exports={effects:e},d.easingEffects=e},{42:42}],44:[function(a,b,c){"use strict";var d=a(42);b.exports={toLineHeight:function(a,b){var c=(""+a).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!c||"normal"===c[1])return 1.2*b;switch(a=+c[2],c[3]){case"px":return a;case"%":a/=100}return b*a},toPadding:function(a){var b,c,e,f;return d.isObject(a)?(b=+a.top||0,c=+a.right||0,e=+a.bottom||0,f=+a.left||0):b=c=e=f=+a||0,{top:b,right:c,bottom:e,left:f,height:b+e,width:f+c}},resolve:function(a,b,c){var e,f,g;for(e=0,f=a.length;e<f;++e)if(void 0!==(g=a[e])&&(void 0!==b&&"function"==typeof g&&(g=g(b)),void 0!==c&&d.isArray(g)&&(g=g[c]),void 0!==g))return g}}},{42:42}],45:[function(a,b,c){"use strict";b.exports=a(42),b.exports.easing=a(43),b.exports.canvas=a(41),b.exports.options=a(44)},{41:41,42:42,43:43,44:44}],46:[function(a,b,c){b.exports={acquireContext:function(a){return a&&a.canvas&&(a=a.canvas),a&&a.getContext("2d")||null}}},{}],47:[function(a,b,c){"use strict";function d(a,b){var c=j.getStyle(a,b),d=c&&c.match(/^(\d+)(\.\d+)?px$/);return d?Number(d[1]):void 0}function e(a,b,c){a.addEventListener(b,c,q)}function f(a,b,c){a.removeEventListener(b,c,q)}function g(a,b,c,d,e){return{type:a,chart:b,native:e||null,x:void 0!==c?c:null,y:void 0!==d?d:null}}function h(a,b,c){var d,f,h,i,p,q,r,s,t=a[k]||(a[k]={}),u=t.resizer=function(a){var b=document.createElement("div"),c=l+"size-monitor",d="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";b.style.cssText=d,b.className=c,b.innerHTML='<div class="'+c+'-expand" style="'+d+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+c+'-shrink" style="'+d+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var f=b.childNodes[0],g=b.childNodes[1];b._reset=function(){f.scrollLeft=1e6,f.scrollTop=1e6,g.scrollLeft=1e6,g.scrollTop=1e6};var h=function(){b._reset(),a()};return e(f,"scroll",h.bind(f,"expand")),e(g,"scroll",h.bind(g,"shrink")),b}((d=function(){if(t.resizer)return b(g("resize",c))},h=!1,i=[],function(){i=Array.prototype.slice.call(arguments),f=f||this,h||(h=!0,j.requestAnimFrame.call(window,function(){h=!1,d.apply(f,i)}))}));q=function(){if(t.resizer){var b=a.parentNode;b&&b!==u.parentNode&&b.insertBefore(u,b.firstChild),u._reset()}},r=(p=a)[k]||(p[k]={}),s=r.renderProxy=function(a){a.animationName===n&&q()},j.each(o,function(a){e(p,a,s)}),r.reflow=!!p.offsetParent,p.classList.add(m)}function i(a){var b,c,d,e=a[k]||{},g=e.resizer;delete e.resizer,c=(b=a)[k]||{},(d=c.renderProxy)&&(j.each(o,function(a){f(b,a,d)}),delete c.renderProxy),b.classList.remove(m),g&&g.parentNode&&g.parentNode.removeChild(g)}var j=a(45),k="$chartjs",l="chartjs-",m=l+"render-monitor",n=l+"render-animation",o=["animationstart","webkitAnimationStart"],p={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},q=!!function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("e",null,b)}catch(a){}return a}()&&{passive:!0};b.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var a,b,c,d="from{opacity:0.99}to{opacity:1}";b="@-webkit-keyframes "+n+"{"+d+"}@keyframes "+n+"{"+d+"}."+m+"{-webkit-animation:"+n+" 0.001s;animation:"+n+" 0.001s;}",c=(a=this)._style||document.createElement("style"),a._style||(a._style=c,b="/* Chart.js */\n"+b,c.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(c)),c.appendChild(document.createTextNode(b))},acquireContext:function(a,b){"string"==typeof a?a=document.getElementById(a):a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas);var c=a&&a.getContext&&a.getContext("2d");return c&&c.canvas===a?(function(a,b){var c=a.style,e=a.getAttribute("height"),f=a.getAttribute("width");if(a[k]={initial:{height:e,width:f,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",null===f||""===f){var g=d(a,"width");void 0!==g&&(a.width=g)}if(null===e||""===e)if(""===a.style.height)a.height=a.width/(b.options.aspectRatio||2);else{var h=d(a,"height");void 0!==g&&(a.height=h)}}(a,b),c):null},releaseContext:function(a){var b=a.canvas;if(b[k]){var c=b[k].initial;["height","width"].forEach(function(a){var d=c[a];j.isNullOrUndef(d)?b.removeAttribute(a):b.setAttribute(a,d)}),j.each(c.style||{},function(a,c){b.style[c]=a}),b.width=b.width,delete b[k]}},addEventListener:function(a,b,c){var d=a.canvas;if("resize"!==b){var f=c[k]||(c[k]={});e(d,b,(f.proxies||(f.proxies={}))[a.id+"_"+b]=function(b){var d,e,f,h;c((e=a,f=p[(d=b).type]||d.type,h=j.getRelativePosition(d,e),g(f,e,h.x,h.y,d)))})}else h(d,c,a)},removeEventListener:function(a,b,c){var d=a.canvas;if("resize"!==b){var e=((c[k]||{}).proxies||{})[a.id+"_"+b];e&&f(d,b,e)}else i(d)}},j.addEvent=e,j.removeEvent=f},{45:45}],48:[function(a,b,c){"use strict";var d=a(45),e=a(46),f=a(47),g=f._enabled?f:e;b.exports=d.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},g)},{45:45,46:46,47:47}],49:[function(a,b,c){"use strict";b.exports={},b.exports.filler=a(50),b.exports.legend=a(51),b.exports.title=a(52)},{50:50,51:51,52:52}],50:[function(a,b,c){"use strict";function d(a,b,c){var d,e=a._model||{},f=e.fill;if(void 0===f&&(f=!!e.backgroundColor),!1===f||null===f)return!1;if(!0===f)return"origin";if(d=parseFloat(f,10),isFinite(d)&&Math.floor(d)===d)return"-"!==f[0]&&"+"!==f[0]||(d=b+d),!(d===b||d<0||d>=c)&&d;switch(f){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return f;default:return!1}}function e(a){var b,c=a.el._model||{},d=a.el._scale||{},e=a.fill,f=null;if(isFinite(e))return null;if("start"===e?f=void 0===c.scaleBottom?d.bottom:c.scaleBottom:"end"===e?f=void 0===c.scaleTop?d.top:c.scaleTop:void 0!==c.scaleZero?f=c.scaleZero:d.getBasePosition?f=d.getBasePosition():d.getBasePixel&&(f=d.getBasePixel()),null!=f){if(void 0!==f.x&&void 0!==f.y)return f;if("number"==typeof f&&isFinite(f))return{x:(b=d.isHorizontal())?f:null,y:b?null:f}}return null}function f(a,b,c){var d,e=a[b].fill,f=[b];if(!c)return e;for(;!1!==e&&-1===f.indexOf(e);){if(!isFinite(e))return e;if(!(d=a[e]))return!1;if(d.visible)return e;f.push(e),e=d.fill}return!1}function g(a){return a&&!a.skip}function h(a,b,c,d,e){var f;if(d&&e){for(a.moveTo(b[0].x,b[0].y),f=1;f<d;++f)k.canvas.lineTo(a,b[f-1],b[f]);for(a.lineTo(c[e-1].x,c[e-1].y),f=e-1;f>0;--f)k.canvas.lineTo(a,c[f],c[f-1],!0)}}var i=a(25),j=a(40),k=a(45);i._set("global",{plugins:{filler:{propagate:!0}}});var l={dataset:function(a){var b=a.fill,c=a.chart,d=c.getDatasetMeta(b),e=d&&c.isDatasetVisible(b)&&d.dataset._children||[],f=e.length||0;return f?function(a,b){return b<f&&e[b]._view||null}:null},boundary:function(a){var b=a.boundary,c=b?b.x:null,d=b?b.y:null;return function(a){return{x:null===c?a.x:c,y:null===d?a.y:d}}}};b.exports={id:"filler",afterDatasetsUpdate:function(a,b){var c,g,h,i,k,m,n,o=(a.data.datasets||[]).length,p=b.propagate,q=[];for(g=0;g<o;++g)i=null,(h=(c=a.getDatasetMeta(g)).dataset)&&h._model&&h instanceof j.Line&&(i={visible:a.isDatasetVisible(g),fill:d(h,g,o),chart:a,el:h}),c.$filler=i,q.push(i);for(g=0;g<o;++g)(i=q[g])&&(i.fill=f(q,g,p),i.boundary=e(i),i.mapper=(n=void 0,m=(k=i).fill,n="dataset",!1===m?null:(isFinite(m)||(n="boundary"),l[n](k))))},beforeDatasetDraw:function(a,b){var c=b.meta.$filler;if(c){var d=a.ctx,e=c.el,f=e._view,j=e._children||[],l=c.mapper,m=f.backgroundColor||i.global.defaultColor;l&&m&&j.length&&(k.canvas.clipArea(d,a.chartArea),function(a,b,c,d,e,f){var i,j,k,l,m,n,o,p=b.length,q=d.spanGaps,r=[],s=[],t=0,u=0;for(a.beginPath(),i=0,j=p+!!f;i<j;++i)m=c(l=b[k=i%p]._view,k,d),n=g(l),o=g(m),n&&o?(t=r.push(l),u=s.push(m)):t&&u&&(q?(n&&r.push(l),o&&s.push(m)):(h(a,r,s,t,u),t=u=0,r=[],s=[]));h(a,r,s,t,u),a.closePath(),a.fillStyle=e,a.fill()}(d,j,l,f,m,e._loop),k.canvas.unclipArea(d))}}}},{25:25,40:40,45:45}],51:[function(a,b,c){"use strict";function d(a,b){return a.usePointStyle?b*Math.SQRT2:a.boxWidth}function e(a,b){var c=new k({ctx:a.ctx,options:b,chart:a});i.configure(a,c,b),i.addBox(a,c),a.legend=c}var f=a(25),g=a(26),h=a(45),i=a(30),j=h.noop;f._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(a,b){var c=b.datasetIndex,d=this.chart,e=d.getDatasetMeta(c);e.hidden=null===e.hidden?!d.data.datasets[c].hidden:null,d.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(a){var b=a.data;return h.isArray(b.datasets)?b.datasets.map(function(b,c){return{text:b.label,fillStyle:h.isArray(b.backgroundColor)?b.backgroundColor[0]:b.backgroundColor,hidden:!a.isDatasetVisible(c),lineCap:b.borderCapStyle,lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,pointStyle:b.pointStyle,datasetIndex:c}},this):[]}}},legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');for(var c=0;c<a.data.datasets.length;c++)b.push('<li><span style="background-color:'+a.data.datasets[c].backgroundColor+'"></span>'),a.data.datasets[c].label&&b.push(a.data.datasets[c].label),b.push("</li>");return b.push("</ul>"),b.join("")}});var k=g.extend({initialize:function(a){h.extend(this,a),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:j,update:function(a,b,c){var d=this;return d.beforeUpdate(),d.maxWidth=a,d.maxHeight=b,d.margins=c,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:j,beforeSetDimensions:j,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:j,beforeBuildLabels:j,buildLabels:function(){var a=this,b=a.options.labels||{},c=h.callback(b.generateLabels,[a.chart],a)||[];b.filter&&(c=c.filter(function(c){return b.filter(c,a.chart.data)})),a.options.reverse&&c.reverse(),a.legendItems=c},afterBuildLabels:j,beforeFit:j,fit:function(){var a=this,b=a.options,c=b.labels,e=b.display,g=a.ctx,i=f.global,j=h.valueOrDefault,k=j(c.fontSize,i.defaultFontSize),l=j(c.fontStyle,i.defaultFontStyle),m=j(c.fontFamily,i.defaultFontFamily),n=h.fontString(k,l,m),o=a.legendHitBoxes=[],p=a.minSize,q=a.isHorizontal();if(q?(p.width=a.maxWidth,p.height=e?10:0):(p.width=e?10:0,p.height=a.maxHeight),e)if(g.font=n,q){var r=a.lineWidths=[0],s=a.legendItems.length?k+c.padding:0;g.textAlign="left",g.textBaseline="top",h.each(a.legendItems,function(b,e){var f=d(c,k)+k/2+g.measureText(b.text).width;r[r.length-1]+f+c.padding>=a.width&&(s+=k+c.padding,r[r.length]=a.left),o[e]={left:0,top:0,width:f,height:k},r[r.length-1]+=f+c.padding}),p.height+=s}else{var t=c.padding,u=a.columnWidths=[],v=c.padding,w=0,x=0,y=k+t;h.each(a.legendItems,function(a,b){var e=d(c,k)+k/2+g.measureText(a.text).width;x+y>p.height&&(v+=w+c.padding,u.push(w),w=0,x=0),w=Math.max(w,e),x+=y,o[b]={left:0,top:0,width:e,height:k}}),v+=w,u.push(w),p.width+=v}a.width=p.width,a.height=p.height},afterFit:j,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,b=a.options,c=b.labels,e=f.global,g=e.elements.line,i=a.width,j=a.lineWidths;if(b.display){var k,l=a.ctx,m=h.valueOrDefault,n=m(c.fontColor,e.defaultFontColor),o=m(c.fontSize,e.defaultFontSize),p=m(c.fontStyle,e.defaultFontStyle),q=m(c.fontFamily,e.defaultFontFamily),r=h.fontString(o,p,q);l.textAlign="left",l.textBaseline="middle",l.lineWidth=.5,l.strokeStyle=n,l.fillStyle=n,l.font=r;var s=d(c,o),t=a.legendHitBoxes,u=a.isHorizontal();k=u?{x:a.left+(i-j[0])/2,y:a.top+c.padding,line:0}:{x:a.left+c.padding,y:a.top+c.padding,line:0};var v=o+c.padding;h.each(a.legendItems,function(d,f){var n,p,q,r,w,x=l.measureText(d.text).width,y=s+o/2+x,z=k.x,A=k.y;u?z+y>=i&&(A=k.y+=v,k.line++,z=k.x=a.left+(i-j[k.line])/2):A+v>a.bottom&&(z=k.x=z+a.columnWidths[k.line]+c.padding,A=k.y=a.top+c.padding,k.line++),function(a,c,d){if(!(isNaN(s)||s<=0)){l.save(),l.fillStyle=m(d.fillStyle,e.defaultColor),l.lineCap=m(d.lineCap,g.borderCapStyle),l.lineDashOffset=m(d.lineDashOffset,g.borderDashOffset),l.lineJoin=m(d.lineJoin,g.borderJoinStyle),l.lineWidth=m(d.lineWidth,g.borderWidth),l.strokeStyle=m(d.strokeStyle,e.defaultColor);var f=0===m(d.lineWidth,g.borderWidth);if(l.setLineDash&&l.setLineDash(m(d.lineDash,g.borderDash)),b.labels&&b.labels.usePointStyle){var i=o*Math.SQRT2/2,j=i/Math.SQRT2,k=a+j,n=c+j;h.canvas.drawPoint(l,d.pointStyle,i,k,n)}else f||l.strokeRect(a,c,s,o),l.fillRect(a,c,s,o);l.restore()}}(z,A,d),t[f].left=z,t[f].top=A,n=d,p=x,r=s+(q=o/2)+z,w=A+q,l.fillText(n.text,r,w),n.hidden&&(l.beginPath(),l.lineWidth=2,l.moveTo(r,w),l.lineTo(r+p,w),l.stroke()),u?k.x+=y+c.padding:k.y+=v})}},handleEvent:function(a){var b=this,c=b.options,d="mouseup"===a.type?"click":a.type,e=!1;if("mousemove"===d){if(!c.onHover)return}else{if("click"!==d)return;if(!c.onClick)return}var f=a.x,g=a.y;if(f>=b.left&&f<=b.right&&g>=b.top&&g<=b.bottom)for(var h=b.legendHitBoxes,i=0;i<h.length;++i){var j=h[i];if(f>=j.left&&f<=j.left+j.width&&g>=j.top&&g<=j.top+j.height){if("click"===d){c.onClick.call(b,a.native,b.legendItems[i]),e=!0;break}if("mousemove"===d){c.onHover.call(b,a.native,b.legendItems[i]),e=!0;break}}}return e}});b.exports={id:"legend",_element:k,beforeInit:function(a){var b=a.options.legend;b&&e(a,b)},beforeUpdate:function(a){var b=a.options.legend,c=a.legend;b?(h.mergeIf(b,f.global.legend),c?(i.configure(a,c,b),c.options=b):e(a,b)):c&&(i.removeBox(a,c),delete a.legend)},afterEvent:function(a,b){var c=a.legend;c&&c.handleEvent(b)}}},{25:25,26:26,30:30,45:45}],52:[function(a,b,c){"use strict";function d(a,b){var c=new j({ctx:a.ctx,options:b,chart:a});h.configure(a,c,b),h.addBox(a,c),a.titleBlock=c}var e=a(25),f=a(26),g=a(45),h=a(30),i=g.noop;e._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var j=f.extend({initialize:function(a){g.extend(this,a),this.legendHitBoxes=[]},beforeUpdate:i,update:function(a,b,c){var d=this;return d.beforeUpdate(),d.maxWidth=a,d.maxHeight=b,d.margins=c,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:i,afterBuildLabels:i,beforeFit:i,fit:function(){var a=this,b=g.valueOrDefault,c=a.options,d=c.display,f=b(c.fontSize,e.global.defaultFontSize),h=a.minSize,i=g.isArray(c.text)?c.text.length:1,j=g.options.toLineHeight(c.lineHeight,f),k=d?i*j+2*c.padding:0;a.isHorizontal()?(h.width=a.maxWidth,h.height=k):(h.width=k,h.height=a.maxHeight),a.width=h.width,a.height=h.height},afterFit:i,isHorizontal:function(){var a=this.options.position;return"top"===a||"bottom"===a},draw:function(){var a=this,b=a.ctx,c=g.valueOrDefault,d=a.options,f=e.global;if(d.display){var h,i,j,k=c(d.fontSize,f.defaultFontSize),l=c(d.fontStyle,f.defaultFontStyle),m=c(d.fontFamily,f.defaultFontFamily),n=g.fontString(k,l,m),o=g.options.toLineHeight(d.lineHeight,k),p=o/2+d.padding,q=0,r=a.top,s=a.left,t=a.bottom,u=a.right;b.fillStyle=c(d.fontColor,f.defaultFontColor),b.font=n,a.isHorizontal()?(i=s+(u-s)/2,j=r+p,h=u-s):(i="left"===d.position?s+p:u-p,j=r+(t-r)/2,h=t-r,q=Math.PI*("left"===d.position?-.5:.5)),b.save(),b.translate(i,j),b.rotate(q),b.textAlign="center",b.textBaseline="middle";var v=d.text;if(g.isArray(v))for(var w=0,x=0;x<v.length;++x)b.fillText(v[x],0,w,h),w+=o;else b.fillText(v,0,0,h);b.restore()}}});b.exports={id:"title",_element:j,beforeInit:function(a){var b=a.options.title;b&&d(a,b)},beforeUpdate:function(a){var b=a.options.title,c=a.titleBlock;b?(g.mergeIf(b,e.global.title),c?(h.configure(a,c,b),c.options=b):d(a,b)):c&&(h.removeBox(a,c),delete a.titleBlock)}}},{25:25,26:26,30:30,45:45}],53:[function(a,b,c){"use strict";b.exports=function(a){var b=a.Scale.extend({getLabels:function(){var a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels},determineDataLimits:function(){var a,b=this,c=b.getLabels();b.minIndex=0,b.maxIndex=c.length-1,void 0!==b.options.ticks.min&&(a=c.indexOf(b.options.ticks.min),b.minIndex=-1!==a?a:b.minIndex),void 0!==b.options.ticks.max&&(a=c.indexOf(b.options.ticks.max),b.maxIndex=-1!==a?a:b.maxIndex),b.min=c[b.minIndex],b.max=c[b.maxIndex]},buildTicks:function(){var a=this,b=a.getLabels();a.ticks=0===a.minIndex&&a.maxIndex===b.length-1?b:b.slice(a.minIndex,a.maxIndex+1)},getLabelForIndex:function(a,b){var c=this,d=c.chart.data,e=c.isHorizontal();return d.yLabels&&!e?c.getRightValue(d.datasets[b].data[a]):c.ticks[a-c.minIndex]},getPixelForValue:function(a,b){var c,d=this,e=d.options.offset,f=Math.max(d.maxIndex+1-d.minIndex-(e?0:1),1);if(null!=a&&(c=d.isHorizontal()?a.x:a.y),void 0!==c||void 0!==a&&isNaN(b)){a=c||a;var g=d.getLabels().indexOf(a);b=-1!==g?g:b}if(d.isHorizontal()){var h=d.width/f,i=h*(b-d.minIndex);return e&&(i+=h/2),d.left+Math.round(i)}var j=d.height/f,k=j*(b-d.minIndex);return e&&(k+=j/2),d.top+Math.round(k)},getPixelForTick:function(a){return this.getPixelForValue(this.ticks[a],a+this.minIndex,null)},getValueForPixel:function(a){var b=this,c=b.options.offset,d=Math.max(b._ticks.length-(c?0:1),1),e=b.isHorizontal(),f=(e?b.width:b.height)/d;return a-=e?b.left:b.top,c&&(a-=f/2),(a<=0?0:Math.round(a/f))+b.minIndex},getBasePixel:function(){return this.bottom}});a.scaleService.registerScaleType("category",b,{position:"bottom"})}},{}],54:[function(a,b,c){"use strict";var d=a(25),e=a(45),f=a(34);b.exports=function(a){var b={position:"left",ticks:{callback:f.formatters.linear}},c=a.LinearScaleBase.extend({determineDataLimits:function(){function a(a){return g?a.xAxisID===b.id:a.yAxisID===b.id}var b=this,c=b.options,d=b.chart,f=d.data.datasets,g=b.isHorizontal();b.min=null,b.max=null;var h=c.stacked;if(void 0===h&&e.each(f,function(b,c){if(!h){var e=d.getDatasetMeta(c);d.isDatasetVisible(c)&&a(e)&&void 0!==e.stack&&(h=!0)}}),c.stacked||h){var i={};e.each(f,function(f,g){var h=d.getDatasetMeta(g),j=[h.type,void 0===c.stacked&&void 0===h.stack?g:"",h.stack].join(".");void 0===i[j]&&(i[j]={positiveValues:[],negativeValues:[]});var k=i[j].positiveValues,l=i[j].negativeValues;d.isDatasetVisible(g)&&a(h)&&e.each(f.data,function(a,d){var e=+b.getRightValue(a);isNaN(e)||h.data[d].hidden||(k[d]=k[d]||0,l[d]=l[d]||0,c.relativePoints?k[d]=100:e<0?l[d]+=e:k[d]+=e)})}),e.each(i,function(a){var c=a.positiveValues.concat(a.negativeValues),d=e.min(c),f=e.max(c);b.min=null===b.min?d:Math.min(b.min,d),b.max=null===b.max?f:Math.max(b.max,f)})}else e.each(f,function(c,f){var g=d.getDatasetMeta(f);d.isDatasetVisible(f)&&a(g)&&e.each(c.data,function(a,c){var d=+b.getRightValue(a);isNaN(d)||g.data[c].hidden||(null===b.min?b.min=d:d<b.min&&(b.min=d),null===b.max?b.max=d:d>b.max&&(b.max=d))})});b.min=isFinite(b.min)&&!isNaN(b.min)?b.min:0,b.max=isFinite(b.max)&&!isNaN(b.max)?b.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var a,b=this.options.ticks;if(this.isHorizontal())a=Math.min(b.maxTicksLimit?b.maxTicksLimit:11,Math.ceil(this.width/50));else{var c=e.valueOrDefault(b.fontSize,d.global.defaultFontSize);a=Math.min(b.maxTicksLimit?b.maxTicksLimit:11,Math.ceil(this.height/(2*c)))}return a},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},getPixelForValue:function(a){var b=this,c=b.start,d=+b.getRightValue(a),e=b.end-c;return b.isHorizontal()?b.left+b.width/e*(d-c):b.bottom-b.height/e*(d-c)},getValueForPixel:function(a){var b=this,c=b.isHorizontal(),d=c?b.width:b.height,e=(c?a-b.left:b.bottom-a)/d;return b.start+(b.end-b.start)*e},getPixelForTick:function(a){return this.getPixelForValue(this.ticksAsNumbers[a])}});a.scaleService.registerScaleType("linear",c,b)}},{25:25,34:34,45:45}],55:[function(a,b,c){"use strict";var d=a(45);b.exports=function(a){var b=d.noop;a.LinearScaleBase=a.Scale.extend({getRightValue:function(b){return"string"==typeof b?+b:a.Scale.prototype.getRightValue.call(this,b)},handleTickRangeOptions:function(){var a=this,b=a.options.ticks;if(b.beginAtZero){var c=d.sign(a.min),e=d.sign(a.max);c<0&&e<0?a.max=0:c>0&&e>0&&(a.min=0)}var f=void 0!==b.min||void 0!==b.suggestedMin,g=void 0!==b.max||void 0!==b.suggestedMax;void 0!==b.min?a.min=b.min:void 0!==b.suggestedMin&&(null===a.min?a.min=b.suggestedMin:a.min=Math.min(a.min,b.suggestedMin)),void 0!==b.max?a.max=b.max:void 0!==b.suggestedMax&&(null===a.max?a.max=b.suggestedMax:a.max=Math.max(a.max,b.suggestedMax)),f!==g&&a.min>=a.max&&(f?a.max=a.min+1:a.min=a.max-1),a.min===a.max&&(a.max++,b.beginAtZero||a.min--)},getTickLimit:b,handleDirectionalChanges:b,buildTicks:function(){var a=this,b=a.options.ticks,c=a.getTickLimit(),e={maxTicks:c=Math.max(2,c),min:b.min,max:b.max,stepSize:d.valueOrDefault(b.fixedStepSize,b.stepSize)},f=a.ticks=function(a,b){var c,e=[];if(a.stepSize&&a.stepSize>0)c=a.stepSize;else{var f=d.niceNum(b.max-b.min,!1);c=d.niceNum(f/(a.maxTicks-1),!0)}var g=Math.floor(b.min/c)*c,h=Math.ceil(b.max/c)*c;a.min&&a.max&&a.stepSize&&d.almostWhole((a.max-a.min)/a.stepSize,c/1e3)&&(g=a.min,h=a.max);var i=(h-g)/c;i=d.almostEquals(i,Math.round(i),c/1e3)?Math.round(i):Math.ceil(i);var j=1;c<1&&(j=Math.pow(10,c.toString().length-2),g=Math.round(g*j)/j,h=Math.round(h*j)/j),e.push(void 0!==a.min?a.min:g);for(var k=1;k<i;++k)e.push(Math.round((g+k*c)*j)/j);return e.push(void 0!==a.max?a.max:h),e}(e,a);a.handleDirectionalChanges(),a.max=d.max(f),a.min=d.min(f),b.reverse?(f.reverse(),a.start=a.max,a.end=a.min):(a.start=a.min,a.end=a.max)},convertTicksToLabels:function(){var b=this;b.ticksAsNumbers=b.ticks.slice(),b.zeroLineIndex=b.ticks.indexOf(0),a.Scale.prototype.convertTicksToLabels.call(b)}})}},{45:45}],56:[function(a,b,c){"use strict";var d=a(45),e=a(34);b.exports=function(a){var b={position:"left",ticks:{callback:e.formatters.logarithmic}},c=a.Scale.extend({determineDataLimits:function(){function a(a){return g?a.xAxisID===b.id:a.yAxisID===b.id}var b=this,c=b.options,e=b.chart,f=e.data.datasets,g=b.isHorizontal();b.min=null,b.max=null,b.minNotZero=null;var h=c.stacked;if(void 0===h&&d.each(f,function(b,c){if(!h){var d=e.getDatasetMeta(c);e.isDatasetVisible(c)&&a(d)&&void 0!==d.stack&&(h=!0)}}),c.stacked||h){var i={};d.each(f,function(f,g){var h=e.getDatasetMeta(g),j=[h.type,void 0===c.stacked&&void 0===h.stack?g:"",h.stack].join(".");e.isDatasetVisible(g)&&a(h)&&(void 0===i[j]&&(i[j]=[]),d.each(f.data,function(a,c){var d=i[j],e=+b.getRightValue(a);isNaN(e)||h.data[c].hidden||e<0||(d[c]=d[c]||0,d[c]+=e)}))}),d.each(i,function(a){if(a.length>0){var c=d.min(a),e=d.max(a);b.min=null===b.min?c:Math.min(b.min,c),b.max=null===b.max?e:Math.max(b.max,e)}})}else d.each(f,function(c,f){var g=e.getDatasetMeta(f);e.isDatasetVisible(f)&&a(g)&&d.each(c.data,function(a,c){var d=+b.getRightValue(a);isNaN(d)||g.data[c].hidden||d<0||(null===b.min?b.min=d:d<b.min&&(b.min=d),null===b.max?b.max=d:d>b.max&&(b.max=d),0!==d&&(null===b.minNotZero||d<b.minNotZero)&&(b.minNotZero=d))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var a=this,b=a.options.ticks,c=d.valueOrDefault;a.min=c(b.min,a.min),a.max=c(b.max,a.max),a.min===a.max&&(0!==a.min&&null!==a.min?(a.min=Math.pow(10,Math.floor(d.log10(a.min))-1),a.max=Math.pow(10,Math.floor(d.log10(a.max))+1)):(a.min=1,a.max=10)),null===a.min&&(a.min=Math.pow(10,Math.floor(d.log10(a.max))-1)),null===a.max&&(a.max=0!==a.min?Math.pow(10,Math.floor(d.log10(a.min))+1):10),null===a.minNotZero&&(a.min>0?a.minNotZero=a.min:a.max<1?a.minNotZero=Math.pow(10,Math.floor(d.log10(a.max))):a.minNotZero=1)},buildTicks:function(){var a=this,b=a.options.ticks,c=!a.isHorizontal(),e={min:b.min,max:b.max},f=a.ticks=function(a,b){var c,e,f=[],g=d.valueOrDefault,h=g(a.min,Math.pow(10,Math.floor(d.log10(b.min)))),i=Math.floor(d.log10(b.max)),j=Math.ceil(b.max/Math.pow(10,i));0===h?(c=Math.floor(d.log10(b.minNotZero)),e=Math.floor(b.minNotZero/Math.pow(10,c)),f.push(h),h=e*Math.pow(10,c)):(c=Math.floor(d.log10(h)),e=Math.floor(h/Math.pow(10,c)));for(var k=c<0?Math.pow(10,Math.abs(c)):1;f.push(h),10==++e&&(e=1,k=++c>=0?1:k),h=Math.round(e*Math.pow(10,c)*k)/k,c<i||c===i&&e<j;);var l=g(a.max,h);return f.push(l),f}(e,a);a.max=d.max(f),a.min=d.min(f),b.reverse?(c=!c,a.start=a.max,a.end=a.min):(a.start=a.min,a.end=a.max),c&&f.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),a.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},getPixelForTick:function(a){return this.getPixelForValue(this.tickValues[a])},_getFirstTickValue:function(a){var b=Math.floor(d.log10(a));return Math.floor(a/Math.pow(10,b))*Math.pow(10,b)},getPixelForValue:function(b){var c,e,f,g,h,i=this,j=i.options.ticks.reverse,k=d.log10,l=i._getFirstTickValue(i.minNotZero),m=0;return b=+i.getRightValue(b),j?(f=i.end,g=i.start,h=-1):(f=i.start,g=i.end,h=1),i.isHorizontal()?(c=i.width,e=j?i.right:i.left):(c=i.height,h*=-1,e=j?i.top:i.bottom),b!==f&&(0===f&&(c-=m=d.getValueOrDefault(i.options.ticks.fontSize,a.defaults.global.defaultFontSize),f=l),0!==b&&(m+=c/(k(g)-k(f))*(k(b)-k(f))),e+=h*m),e},getValueForPixel:function(b){var c,e,f,g,h=this,i=h.options.ticks.reverse,j=d.log10,k=h._getFirstTickValue(h.minNotZero);if(i?(e=h.end,f=h.start):(e=h.start,f=h.end),h.isHorizontal()?(c=h.width,g=i?h.right-b:b-h.left):(c=h.height,g=i?b-h.top:h.bottom-b),g!==e){if(0===e){var l=d.getValueOrDefault(h.options.ticks.fontSize,a.defaults.global.defaultFontSize);g-=l,c-=l,e=k}g*=j(f)-j(e),g/=c,g=Math.pow(10,j(e)+g)}return g}});a.scaleService.registerScaleType("logarithmic",c,b)}},{34:34,45:45}],57:[function(a,b,c){"use strict";var d=a(25),e=a(45),f=a(34);b.exports=function(a){function b(a){var b=a.options;return b.angleLines.display||b.pointLabels.display?a.chart.data.labels.length:0}function c(a){var b=a.options.pointLabels,c=e.valueOrDefault(b.fontSize,j.defaultFontSize),d=e.valueOrDefault(b.fontStyle,j.defaultFontStyle),f=e.valueOrDefault(b.fontFamily,j.defaultFontFamily);return{size:c,style:d,family:f,font:e.fontString(c,d,f)}}function g(a,b,c,d,e){return a===d||a===e?{start:b-c/2,end:b+c/2}:a<d||a>e?{start:b-c-5,end:b}:{start:b,end:b+c+5}}function h(a,b,c,d){if(e.isArray(b))for(var f=c.y,g=1.5*d,h=0;h<b.length;++h)a.fillText(b[h],c.x,f),f+=g;else a.fillText(b,c.x,c.y)}function i(a){return e.isNumber(a)?a:0}var j=d.global,k={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:f.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(a){return a}}},l=a.LinearScaleBase.extend({setDimensions:function(){var a=this,b=a.options,c=b.ticks;a.width=a.maxWidth,a.height=a.maxHeight,a.xCenter=Math.round(a.width/2),a.yCenter=Math.round(a.height/2);var d=e.min([a.height,a.width]),f=e.valueOrDefault(c.fontSize,j.defaultFontSize);a.drawingArea=b.display?d/2-(f/2+c.backdropPaddingY):d/2},determineDataLimits:function(){var a=this,b=a.chart,c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY;e.each(b.data.datasets,function(f,g){if(b.isDatasetVisible(g)){var h=b.getDatasetMeta(g);e.each(f.data,function(b,e){var f=+a.getRightValue(b);isNaN(f)||h.data[e].hidden||(c=Math.min(f,c),d=Math.max(f,d))})}}),a.min=c===Number.POSITIVE_INFINITY?0:c,a.max=d===Number.NEGATIVE_INFINITY?0:d,a.handleTickRangeOptions()},getTickLimit:function(){var a=this.options.ticks,b=e.valueOrDefault(a.fontSize,j.defaultFontSize);return Math.min(a.maxTicksLimit?a.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*b)))},convertTicksToLabels:function(){var b=this;a.LinearScaleBase.prototype.convertTicksToLabels.call(b),b.pointLabels=b.chart.data.labels.map(b.options.pointLabels.callback,b)},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},fit:function(){var a,d
;this.options.pointLabels.display?function(a){var d,f,h,i=c(a),j=Math.min(a.height/2,a.width/2),k={r:a.width,l:0,t:a.height,b:0},l={};a.ctx.font=i.font,a._pointLabelSizes=[];var m,n,o,p=b(a);for(d=0;d<p;d++){h=a.getPointPosition(d,j),m=a.ctx,n=i.size,o=a.pointLabels[d]||"",f=e.isArray(o)?{w:e.longestText(m,m.font,o),h:o.length*n+1.5*(o.length-1)*n}:{w:m.measureText(o).width,h:n},a._pointLabelSizes[d]=f;var q=a.getIndexAngle(d),r=e.toDegrees(q)%360,s=g(r,h.x,f.w,0,180),t=g(r,h.y,f.h,90,270);s.start<k.l&&(k.l=s.start,l.l=q),s.end>k.r&&(k.r=s.end,l.r=q),t.start<k.t&&(k.t=t.start,l.t=q),t.end>k.b&&(k.b=t.end,l.b=q)}a.setReductions(j,k,l)}(this):(a=this,d=Math.min(a.height/2,a.width/2),a.drawingArea=Math.round(d),a.setCenterPoint(0,0,0,0))},setReductions:function(a,b,c){var d=b.l/Math.sin(c.l),e=Math.max(b.r-this.width,0)/Math.sin(c.r),f=-b.t/Math.cos(c.t),g=-Math.max(b.b-this.height,0)/Math.cos(c.b);d=i(d),e=i(e),f=i(f),g=i(g),this.drawingArea=Math.min(Math.round(a-(d+e)/2),Math.round(a-(f+g)/2)),this.setCenterPoint(d,e,f,g)},setCenterPoint:function(a,b,c,d){var e=this,f=e.width-b-e.drawingArea,g=a+e.drawingArea,h=c+e.drawingArea,i=e.height-d-e.drawingArea;e.xCenter=Math.round((g+f)/2+e.left),e.yCenter=Math.round((h+i)/2+e.top)},getIndexAngle:function(a){return a*(2*Math.PI/b(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(a){var b=this;if(null===a)return 0;var c=b.drawingArea/(b.max-b.min);return b.options.ticks.reverse?(b.max-a)*c:(a-b.min)*c},getPointPosition:function(a,b){var c=this.getIndexAngle(a)-Math.PI/2;return{x:Math.round(Math.cos(c)*b)+this.xCenter,y:Math.round(Math.sin(c)*b)+this.yCenter}},getPointPositionForValue:function(a,b){return this.getPointPosition(a,this.getDistanceFromCenterForValue(b))},getBasePosition:function(){var a=this.min,b=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:a<0&&b<0?b:a>0&&b>0?a:0)},draw:function(){var a=this,d=a.options,f=d.gridLines,g=d.ticks,i=e.valueOrDefault;if(d.display){var k=a.ctx,l=this.getIndexAngle(0),m=i(g.fontSize,j.defaultFontSize),n=i(g.fontStyle,j.defaultFontStyle),o=i(g.fontFamily,j.defaultFontFamily),p=e.fontString(m,n,o);e.each(a.ticks,function(c,d){if(d>0||g.reverse){var h=a.getDistanceFromCenterForValue(a.ticksAsNumbers[d]);if(f.display&&0!==d&&function(a,c,d,f){var g=a.ctx;if(g.strokeStyle=e.valueAtIndexOrDefault(c.color,f-1),g.lineWidth=e.valueAtIndexOrDefault(c.lineWidth,f-1),a.options.gridLines.circular)g.beginPath(),g.arc(a.xCenter,a.yCenter,d,0,2*Math.PI),g.closePath(),g.stroke();else{var h=b(a);if(0===h)return;g.beginPath();var i=a.getPointPosition(0,d);g.moveTo(i.x,i.y);for(var j=1;j<h;j++)i=a.getPointPosition(j,d),g.lineTo(i.x,i.y);g.closePath(),g.stroke()}}(a,f,h,d),g.display){var n=i(g.fontColor,j.defaultFontColor);if(k.font=p,k.save(),k.translate(a.xCenter,a.yCenter),k.rotate(l),g.showLabelBackdrop){var o=k.measureText(c).width;k.fillStyle=g.backdropColor,k.fillRect(-o/2-g.backdropPaddingX,-h-m/2-g.backdropPaddingY,o+2*g.backdropPaddingX,m+2*g.backdropPaddingY)}k.textAlign="center",k.textBaseline="middle",k.fillStyle=n,k.fillText(c,0,-h),k.restore()}}}),(d.angleLines.display||d.pointLabels.display)&&function(a){var d=a.ctx,f=a.options,g=f.angleLines,i=f.pointLabels;d.lineWidth=g.lineWidth,d.strokeStyle=g.color;var k,l,m,n,o=a.getDistanceFromCenterForValue(f.ticks.reverse?a.min:a.max),p=c(a);d.textBaseline="top";for(var q=b(a)-1;q>=0;q--){if(g.display){var r=a.getPointPosition(q,o);d.beginPath(),d.moveTo(a.xCenter,a.yCenter),d.lineTo(r.x,r.y),d.stroke(),d.closePath()}if(i.display){var s=a.getPointPosition(q,o+5),t=e.valueAtIndexOrDefault(i.fontColor,q,j.defaultFontColor);d.font=p.font,d.fillStyle=t;var u=a.getIndexAngle(q),v=e.toDegrees(u);d.textAlign=0===(n=v)||180===n?"center":n<180?"left":"right",k=v,l=a._pointLabelSizes[q],m=s,90===k||270===k?m.y-=l.h/2:(k>270||k<90)&&(m.y-=l.h),h(d,a.pointLabels[q]||"",s,p.size)}}}(a)}}});a.scaleService.registerScaleType("radialLinear",l,k)}},{25:25,34:34,45:45}],58:[function(a,b,c){"use strict";function d(a,b){return a-b}function e(a){var b,c,d,e={},f=[];for(b=0,c=a.length;b<c;++b)e[d=a[b]]||(e[d]=!0,f.push(d));return f}function f(a,b,c,d){var e=function(a,b,c){for(var d,e,f,g=0,h=a.length-1;g>=0&&g<=h;){if(e=a[(d=g+h>>1)-1]||null,f=a[d],!e)return{lo:null,hi:f};if(f[b]<c)g=d+1;else{if(!(e[b]>c))return{lo:e,hi:f};h=d-1}}return{lo:f,hi:null}}(a,b,c),f=e.lo?e.hi?e.lo:a[a.length-2]:a[0],g=e.lo?e.hi?e.hi:a[a.length-1]:a[1],h=g[b]-f[b],i=h?(c-f[b])/h:0,j=(g[d]-f[d])*i;return f[d]+j}function g(a,b){var c=b.parser,d=b.parser||b.format;return"function"==typeof c?c(a):"string"==typeof a&&"string"==typeof d?k(a,d):(a instanceof k||(a=k(a)),a.isValid()?a:"function"==typeof d?d(a):a)}function h(a,b){if(m.isNullOrUndef(a))return null;var c=b.options.time,d=g(b.getRightValue(a),c);return d.isValid()?(c.round&&d.startOf(c.round),d.valueOf()):null}function i(a){for(var b=q.indexOf(a)+1,c=q.length;b<c;++b)if(p[q[b]].common)return q[b]}function j(a,b,c,d){var e,f=d.time,g=f.unit||function(a,b,c,d){var e,f,g,h=q.length;for(e=q.indexOf(a);e<h-1;++e)if(g=(f=p[q[e]]).steps?f.steps[f.steps.length-1]:o,f.common&&Math.ceil((c-b)/(g*f.size))<=d)return q[e];return q[h-1]}(f.minUnit,a,b,c),h=i(g),j=m.valueOrDefault(f.stepSize,f.unitStepSize),l="week"===g&&f.isoWeekday,n=d.ticks.major.enabled,r=p[g],s=k(a),t=k(b),u=[];for(j||(j=function(a,b,c,d){var e,f,g,h=b-a,i=p[c],j=i.size,k=i.steps;if(!k)return Math.ceil(h/(d*j));for(e=0,f=k.length;e<f&&(g=k[e],!(Math.ceil(h/(j*g))<=d));++e);return g}(a,b,g,c)),l&&(s=s.isoWeekday(l),t=t.isoWeekday(l)),s=s.startOf(l?"day":g),(t=t.startOf(l?"day":g))<b&&t.add(1,g),e=k(s),n&&h&&!l&&!f.round&&(e.startOf(h),e.add(~~((s-e)/(r.size*j))*j,g));e<t;e.add(j,g))u.push(+e);return u.push(+e),u}var k=a(1);k="function"==typeof k?k:window.moment;var l=a(25),m=a(45),n=Number.MIN_SAFE_INTEGER||-9007199254740991,o=Number.MAX_SAFE_INTEGER||9007199254740991,p={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},q=Object.keys(p);b.exports=function(a){var b=a.Scale.extend({initialize:function(){if(!k)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),a.Scale.prototype.initialize.call(this)},update:function(){var b=this.options;return b.time&&b.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),a.Scale.prototype.update.apply(this,arguments)},getRightValue:function(b){return b&&void 0!==b.t&&(b=b.t),a.Scale.prototype.getRightValue.call(this,b)},determineDataLimits:function(){var a,b,c,f,g,i,j=this,l=j.chart,p=j.options.time,q=p.unit||"day",r=o,s=n,t=[],u=[],v=[];for(a=0,c=l.data.labels.length;a<c;++a)v.push(h(l.data.labels[a],j));for(a=0,c=(l.data.datasets||[]).length;a<c;++a)if(l.isDatasetVisible(a))if(g=l.data.datasets[a].data,m.isObject(g[0]))for(u[a]=[],b=0,f=g.length;b<f;++b)i=h(g[b],j),t.push(i),u[a][b]=i;else t.push.apply(t,v),u[a]=v.slice(0);else u[a]=[];v.length&&(v=e(v).sort(d),r=Math.min(r,v[0]),s=Math.max(s,v[v.length-1])),t.length&&(t=e(t).sort(d),r=Math.min(r,t[0]),s=Math.max(s,t[t.length-1])),r=h(p.min,j)||r,s=h(p.max,j)||s,r=r===o?+k().startOf(q):r,s=s===n?+k().endOf(q)+1:s,j.min=Math.min(r,s),j.max=Math.max(r+1,s),j._horizontal=j.isHorizontal(),j._table=[],j._timestamps={data:t,datasets:u,labels:v}},buildTicks:function(){var a,b,c,d,e,l,m,n,o,r,s,t,u=this,v=u.min,w=u.max,x=u.options,y=x.time,z=[],A=[];switch(x.ticks.source){case"data":z=u._timestamps.data;break;case"labels":z=u._timestamps.labels;break;case"auto":default:z=j(v,w,u.getLabelCapacity(v),x)}for("ticks"===x.bounds&&z.length&&(v=z[0],w=z[z.length-1]),v=h(y.min,u)||v,w=h(y.max,u)||w,a=0,b=z.length;a<b;++a)(c=z[a])>=v&&c<=w&&A.push(c);return u.min=v,u.max=w,u._unit=y.unit||function(a,b,c,d){var e,f,g=k.duration(k(d).diff(k(c)));for(e=q.length-1;e>=q.indexOf(b);e--)if(f=q[e],p[f].common&&g.as(f)>=a.length)return f;return q[b?q.indexOf(b):0]}(A,y.minUnit,u.min,u.max),u._majorUnit=i(u._unit),u._table=function(a,b,c,d){if("linear"===d||!a.length)return[{time:b,pos:0},{time:c,pos:1}];var e,f,g,h,i,j=[],k=[b];for(e=0,f=a.length;e<f;++e)(h=a[e])>b&&h<c&&k.push(h);for(k.push(c),e=0,f=k.length;e<f;++e)i=k[e+1],g=k[e-1],h=k[e],void 0!==g&&void 0!==i&&Math.round((i+g)/2)===h||j.push({time:h,pos:e/(f-1)});return j}(u._timestamps.data,v,w,x.distribution),u._offsets=(d=u._table,e=A,l=v,m=w,s=0,t=0,(n=x).offset&&e.length&&(n.time.min||(o=e.length>1?e[1]:m,r=e[0],s=(f(d,"time",o,"pos")-f(d,"time",r,"pos"))/2),n.time.max||(o=e[e.length-1],r=e.length>1?e[e.length-2]:l,t=(f(d,"time",o,"pos")-f(d,"time",r,"pos"))/2)),{left:s,right:t}),u._labelFormat=function(a,b){var c,d,e,f=a.length;for(c=0;c<f;c++){if(0!==(d=g(a[c],b)).millisecond())return"MMM D, YYYY h:mm:ss.SSS a";0===d.second()&&0===d.minute()&&0===d.hour()||(e=!0)}return e?"MMM D, YYYY h:mm:ss a":"MMM D, YYYY"}(u._timestamps.data,y),function(a,b){var c,d,e,f,g=[];for(c=0,d=a.length;c<d;++c)e=a[c],f=!!b&&e===+k(e).startOf(b),g.push({value:e,major:f});return g}(A,u._majorUnit)},getLabelForIndex:function(a,b){var c=this.chart.data,d=this.options.time,e=c.labels&&a<c.labels.length?c.labels[a]:"",f=c.datasets[b].data[a];return m.isObject(f)&&(e=this.getRightValue(f)),d.tooltipFormat?g(e,d).format(d.tooltipFormat):"string"==typeof e?e:g(e,d).format(this._labelFormat)},tickFormatFunction:function(a,b,c,d){var e=this.options,f=a.valueOf(),g=e.time.displayFormats,h=g[this._unit],i=this._majorUnit,j=g[i],k=a.clone().startOf(i).valueOf(),l=e.ticks.major,n=l.enabled&&i&&j&&f===k,o=a.format(d||(n?j:h)),p=n?l:e.ticks.minor,q=m.valueOrDefault(p.callback,p.userCallback);return q?q(o,b,c):o},convertTicksToLabels:function(a){var b,c,d=[];for(b=0,c=a.length;b<c;++b)d.push(this.tickFormatFunction(k(a[b].value),b,a));return d},getPixelForOffset:function(a){var b=this,c=b._horizontal?b.width:b.height,d=b._horizontal?b.left:b.top,e=f(b._table,"time",a,"pos");return d+c*(b._offsets.left+e)/(b._offsets.left+1+b._offsets.right)},getPixelForValue:function(a,b,c){var d=null;if(void 0!==b&&void 0!==c&&(d=this._timestamps.datasets[c][b]),null===d&&(d=h(a,this)),null!==d)return this.getPixelForOffset(d)},getPixelForTick:function(a){var b=this.getTicks();return a>=0&&a<b.length?this.getPixelForOffset(b[a].value):null},getValueForPixel:function(a){var b=this,c=b._horizontal?b.width:b.height,d=b._horizontal?b.left:b.top,e=(c?(a-d)/c:0)*(b._offsets.left+1+b._offsets.left)-b._offsets.right,g=f(b._table,"pos",e,"time");return k(g)},getLabelWidth:function(a){var b=this.options.ticks,c=this.ctx.measureText(a).width,d=m.toRadians(b.maxRotation),e=Math.cos(d),f=Math.sin(d);return c*e+m.valueOrDefault(b.fontSize,l.global.defaultFontSize)*f},getLabelCapacity:function(a){var b=this,c=b.options.time.displayFormats.millisecond,d=b.tickFormatFunction(k(a),0,[],c),e=b.getLabelWidth(d),f=b.isHorizontal()?b.width:b.height,g=Math.floor(f/e);return g>0?g:1}});a.scaleService.registerScaleType("time",b,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)}),function(a){"use strict";if("object"==typeof exports)module.exports=a("undefined"!=typeof angular?angular:require("angular"),"undefined"!=typeof Chart?Chart:require("chart.js"));else if("function"==typeof define&&define.amd)define(["angular","chart"],a);else{if("undefined"==typeof angular)throw new Error("AngularJS framework needs to be included, see https://angularjs.org/");if("undefined"==typeof Chart)throw new Error("Chart.js library needs to be included, see http://jtblin.github.io/angular-chart.js/");a(angular,Chart)}}(function(a,b){"use strict";function c(){var c={responsive:!0},d={Chart:b,getOptions:function(b){var d=b&&c[b]||{};return a.extend({},c,d)}};this.setOptions=function(b,e){e?c[b]=a.merge(c[b]||{},e):(e=b,c=a.merge(c,e)),a.merge(d.Chart.defaults,c)},this.$get=function(){return d}}function d(c,d){function f(a,b,d){var e=w(a,b);if(r(b)&&A(a,b,d,e)){var f=d[0],g=f.getContext("2d");b.chartGetColor=s(b);var h=t(a,b);B(b),b.chart=new c.Chart(g,{type:a,data:h,options:e}),b.$emit("chart-create",b.chart),x(f,b)}}function g(a,b){return!!(a&&b&&a.length&&b.length)&&(Array.isArray(a[0])?a.length===b.length&&a.every(function(a,c){return a.length===b[c].length}):b.reduce(h,0)>0&&a.length===b.length)}function h(a,b){return a+b}function i(b,c,d){var e={point:void 0,points:void 0};return function(f){var g=b.chart.getElementAtEvent||b.chart.getPointAtEvent,h=b.chart.getElementsAtEvent||b.chart.getPointsAtEvent;if(h){var i=h.call(b.chart,f),j=g?g.call(b.chart,f)[0]:void 0;!1!==d&&(a.equals(e.points,i)||a.equals(e.point,j))||(e.point=j,e.points=i,b[c](i,f,j))}}}function j(d,e){for(var f=a.copy(e.chartColors||c.getOptions(d).chartColors||b.defaults.global.colors),g=f.length<e.chartData.length;f.length<e.chartData.length;)f.push(e.chartGetColor());return g&&(e.chartColors=f),f.map(k)}function k(a){return"string"==typeof a&&"r"===a[0]?m(q(a)):"string"==typeof a&&"#"===a[0]?m(p(a.substr(1))):"object"==typeof a&&null!==a?a:l()}function l(){return m([n(0,255),n(0,255),n(0,255)])}function m(a){var b=a[3]||1;return a=a.slice(0,3),{backgroundColor:o(a,.2),pointBackgroundColor:o(a,b),pointHoverBackgroundColor:o(a,.8),borderColor:o(a,b),pointBorderColor:"#fff",pointHoverBorderColor:o(a,b)}}function n(a,b){return Math.floor(Math.random()*(b-a+1))+a}function o(a,b){return e?"rgb("+a.join(",")+")":"rgba("+a.concat(b).join(",")+")"}function p(a){var b=parseInt(a,16);return[b>>16&255,b>>8&255,255&b]}function q(a){var b=a.match(/^rgba?\(([\d,.]+)\)$/);if(!b)throw new Error("Cannot parse rgb value");return a=b[1].split(","),a.map(Number)}function r(a){return a.chartData&&a.chartData.length}function s(a){return"function"==typeof a.chartGetColor?a.chartGetColor:l}function t(a,b){var c=j(a,b);return Array.isArray(b.chartData[0])?u(b.chartLabels,b.chartData,b.chartSeries||[],c,b.chartDatasetOverride):v(b.chartLabels,b.chartData,c,b.chartDatasetOverride)}function u(b,c,d,e,f){return{labels:b,datasets:c.map(function(b,c){var g=a.extend({},e[c],{label:d[c],data:b});return f&&f.length>=c&&a.merge(g,f[c]),g})}}function v(b,c,d,e){var f={labels:b,datasets:[{data:c,backgroundColor:d.map(function(a){return a.pointBackgroundColor}),hoverBackgroundColor:d.map(function(a){return a.backgroundColor})}]};return e&&a.merge(f.datasets[0],e),f}function w(b,d){return a.extend({},c.getOptions(b),d.chartOptions)}function x(b,c){b.onclick=c.chartClick?i(c,"chartClick",!1):a.noop,b.onmousemove=c.chartHover?i(c,"chartHover",!0):a.noop}function y(a,b){Array.isArray(b.chartData[0])?b.chart.data.datasets.forEach(function(b,c){b.data=a[c]}):b.chart.data.datasets[0].data=a,b.chart.update(),b.$emit("chart-update",b.chart)}function z(a){return!a||Array.isArray(a)&&!a.length||"object"==typeof a&&!Object.keys(a).length}function A(a,b,c,e){return!e.responsive||0!==c[0].clientHeight||(d(function(){f(a,b,c)},50,!1),!1)}function B(a){a.chart&&(a.chart.destroy(),a.$emit("chart-destroy",a.chart))}return function(b){return{restrict:"CA",scope:{chartGetColor:"=?",chartType:"=",chartData:"=?",chartLabels:"=?",chartOptions:"=?",chartSeries:"=?",chartColors:"=?",chartClick:"=?",chartHover:"=?",chartDatasetOverride:"=?"},link:function(c,d){function h(a,e){if(!a||!a.length||Array.isArray(a[0])&&!a[0].length)return void B(c);var h=b||c.chartType;return h?c.chart&&g(a,e)?y(a,c):void f(h,c,d):void 0}function i(e,g){if(!z(e)&&!a.equals(e,g)){var h=b||c.chartType;h&&f(h,c,d)}}function j(b,e){z(b)||a.equals(b,e)||f(b,c,d)}e&&window.G_vmlCanvasManager.initElement(d[0]),c.$watch("chartData",h,!0),c.$watch("chartSeries",i,!0),c.$watch("chartLabels",i,!0),c.$watch("chartOptions",i,!0),c.$watch("chartColors",i,!0),c.$watch("chartDatasetOverride",i,!0),c.$watch("chartType",j,!1),c.$on("$destroy",function(){B(c)}),c.$on("$resize",function(){c.chart&&c.chart.resize()})}}}}b.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",b.defaults.global.tooltips.mode="label",b.defaults.global.elements.line.borderWidth=2,b.defaults.global.elements.rectangle.borderWidth=2,b.defaults.global.legend.display=!1,b.defaults.global.colors=["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"];var e="object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement;return e&&(b.defaults.global.animation=!1),a.module("chart.js",[]).provider("ChartJs",c).factory("ChartJsFactory",["ChartJs","$timeout",d]).directive("chartBase",["ChartJsFactory",function(a){return new a}]).directive("chartLine",["ChartJsFactory",function(a){return new a("line")}]).directive("chartBar",["ChartJsFactory",function(a){return new a("bar")}]).directive("chartHorizontalBar",["ChartJsFactory",function(a){return new a("horizontalBar")}]).directive("chartRadar",["ChartJsFactory",function(a){return new a("radar")}]).directive("chartDoughnut",["ChartJsFactory",function(a){return new a("doughnut")}]).directive("chartPie",["ChartJsFactory",function(a){return new a("pie")}]).directive("chartPolarArea",["ChartJsFactory",function(a){return new a("polarArea")}]).directive("chartBubble",["ChartJsFactory",function(a){return new a("bubble")}]).name}),function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.Rellax=b()}(this,function(){var a=function(b,c){"use strict";var d=Object.create(a.prototype),e=0,f=0,g=0,h=0,i=[],j=!0,k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){setTimeout(a,1e3/60)},l=window.transformProp||function(){var a=document.createElement("div");if(null===a.style.transform){var b=["Webkit","Moz","ms"];for(var c in b)if(void 0!==a.style[b[c]+"Transform"])return b[c]+"Transform"}return"transform"}();d.options={speed:-2,center:!1,wrapper:null,round:!0,vertical:!0,horizontal:!1,callback:function(){}},c&&Object.keys(c).forEach(function(a){d.options[a]=c[a]}),b||(b=".rellax");var m="string"==typeof b?document.querySelectorAll(b):[b];if(!(m.length>0))throw new Error("The elements you're trying to select don't exist.");if(d.elems=m,d.options.wrapper&&!d.options.wrapper.nodeType){var n=document.querySelector(d.options.wrapper);if(!n)throw new Error("The wrapper you're trying to use don't exist.");d.options.wrapper=n}var o=function(){for(var a=0;a<d.elems.length;a++){var b=q(d.elems[a]);i.push(b)}},p=function(){for(var a=0;a<i.length;a++)d.elems[a].style.cssText=i[a].style;i=[],f=window.innerHeight,h=window.innerWidth,r(),o(),j&&(window.addEventListener("resize",p),j=!1),u()},q=function(a){var b=a.getAttribute("data-rellax-percentage"),c=a.getAttribute("data-rellax-speed"),e=a.getAttribute("data-rellax-zindex")||0,g=d.options.wrapper?d.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,i=d.options.vertical&&(b||d.options.center)?g:0,j=d.options.horizontal&&(b||d.options.center)?window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,k=i+a.getBoundingClientRect().top,l=a.clientHeight||a.offsetHeight||a.scrollHeight,m=j+a.getBoundingClientRect().left,n=a.clientWidth||a.offsetWidth||a.scrollWidth,o=b||(i-k+f)/(l+f),p=b||(j-m+h)/(n+h);d.options.center&&(p=.5,o=.5);var q=c||d.options.speed,r=s(p,o,q),t=a.style.cssText,u="";if(t.indexOf("transform")>=0){var v=t.indexOf("transform"),w=t.slice(v),x=w.indexOf(";");u=x?" "+w.slice(11,x).replace(/\s/g,""):" "+w.slice(11).replace(/\s/g,"")}return{baseX:r.x,baseY:r.y,top:k,left:m,height:l,width:n,speed:q,style:t,transform:u,zindex:e}},r=function(){var a=e,b=g;return e=d.options.wrapper?d.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,g=d.options.wrapper?d.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,!(a==e||!d.options.vertical)||!(b==g||!d.options.horizontal)},s=function(a,b,c){var e={},f=c*(100*(1-a)),g=c*(100*(1-b));return e.x=d.options.round?Math.round(f):Math.round(100*f)/100,e.y=d.options.round?Math.round(g):Math.round(100*g)/100,e},t=function(){r()&&!1===j&&u(),k(t)},u=function(){for(var a,b=0;b<d.elems.length;b++){var c=(e-i[b].top+f)/(i[b].height+f),j=(g-i[b].left+h)/(i[b].width+h);a=s(j,c,i[b].speed);var k=a.y-i[b].baseY,m=a.x-i[b].baseX,n=i[b].zindex,o="translate3d("+(d.options.horizontal?m:"0")+"px,"+(d.options.vertical?k:"0")+"px,"+n+"px) "+i[b].transform;d.elems[b].style[l]=o}d.options.callback(a)};return d.destroy=function(){for(var a=0;a<d.elems.length;a++)d.elems[a].style.cssText=i[a].style;j||(window.removeEventListener("resize",p),j=!0)},p(),t(),d.refresh=p,d};return a}),function(){"use strict";angular.module("blocks.analytics",[])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){b.$on("$stateChangeSuccess",w),j.onReady(t)}function q(){d.analytics.load(k.segmentWriteKey)}function r(){return!!d.analytics}function s(){if(d.analytics)return console.log("Loading Segment"),q();f(s,1e3)}function t(){var a=g.getTrustedResourceUrl("app/blocks/analytics/segment-script.html");h(a).then(function(a){angular.element(document).find("head").append(a)}),s()}function u(){angular.element(document).find("#segment-tag").remove(),d.analytics=void 0}function v(){return d.Intercom}function w(b,d,e,f,g){var h=a.path(),i="",j="",k=a.absUrl();k.indexOf("?")>=0&&(i=k.substring(k.indexOf("?"))),f.name&&(j=a.protocol()+"://"+a.host()+c.href(f.name,g)),E(h,j,i,k)}function x(a){r()&&d.analytics.identify(a.userId,{email:a.userEmail,name:a.fullName,authAccountEmail:a.authEmail,createdAt:a.createdTimestamp||null});var b=e.get("guru_hubspot_canary");b&&b===a.userId||(b&&b!==a.userId&&e.remove("hubspotutk"),m.registerUser({email:a.userEmail,authEmail:a.authEmail,name:a.fullName,organisation:a.organisation||null,jobTitle:a.jobTitle||null,handle:a.userHandle}).then(function(b){e.put("guru_hubspot_canary",a.userId)}))}function y(a,b,c,d){return{product_id:a.id,sku:a.sku,name:a.title,price:n.get(a,"price.price",null),category:a.courseIds&&a.courseIds.length>1?"bundle":"course",coupon:c||null,position:d||null,quantity:b||null}}function z(a,b,c){r()&&d.analytics.track("Viewed Product",y(a,null,b,c))}function A(a,b,c,e){r()&&d.analytics.track("Added Product",y(a,b,c,e))}function B(a,b,c,e){r()&&d.analytics.track("Removed Product",y(a,b,c,e))}function C(a){r()&&d.analytics.identify(a.userId,{email:a.userEmail,name:a.fullName,authAccountEmail:a.authEmail,displayName:a.displayName}),m.registerUser({email:a.userEmail,authEmail:a.authEmail,name:a.fullName,organisation:a.organisation||null,jobTitle:a.jobTitle||null,handle:a.userHandle})}function D(a,b,c){r()&&d.analytics.identify(a,{company:{id:b,name:c}})}function E(a,b,c,e){f(function(){d.dataLayer.push({event:"pageview",path:a,referrer:b,search:c,url:e,userId:I()})}),r()&&d.analytics.page({path:a,referrer:b,search:c,url:e}),m.page(a)}function F(){r()&&d.analytics.reset(),u(),v()&&d.Intercom("shutdown")}function G(b,c){var e=angular.extend({},c,{url:a.absUrl()});r()&&d.analytics.track(b,e)}function H(a,b){i.eventTrack("Purchase",{value:a,currency:b})}function I(){return o.isAuthenticated()?(o.getProfile()||{}).user_id||"":""}return{initialise:p,registerUser:x,updateUser:C,registerLogout:F,track:G,trackRevenue:H,updateUserCompany:D,trackViewedProduct:z,trackAddedProduct:A,trackRemovedProduct:B,trackPageChanged:E}}a.$inject=["$location","$rootScope","$state","$window","$cookies","$timeout","$sce","$templateRequest","$analytics","guruAuthService","brandConfig","brandService","hubspot","lodash","authService"],angular.module("blocks.analytics").factory("analyticsService",a)}(),function(){"use strict";angular.module("blocks.auth",["auth0.auth0","angular-jwt","LocalStorageModule","ui.router","app.core.brand"])}(),function(){"use strict";function a(a,b,c,d,e){!function(){var f="home",g=null,h=a.hash(),i=h.split("&").map(function(a){return a.split("=")}).reduce(function(a,b){return a[b[0]]=b[1],a},{}),j={hash:h,nonce:i.state,state:i.state,__enableIdPInitiatedLogin:!0,__enableImpersonation:!0};d.parseHash(j,function(a,c){if(a)return console.error(a),b.go(f,g,{location:"replace"});var d=c.state;if("linkingAccount"===d)f="app.settings.account";else if(d){var h=e.getAuthState(d);h&&h.route&&(f=h.route,g=h.params),"home"===f&&(f="dashboard")}b.go(f,g,{location:"replace"})}),c(function(){e.cleanUp()})}()}a.$inject=["$location","$state","$timeout","angularAuth0","authStateService"],angular.module("blocks.auth").controller("AuthCallbackController",a)}(),function(){"use strict";function a(a,b,c,d){var e=d.auth0_domain,f=d.auth0_clientID,g=a.$get();b.init({domain:e,clientID:f,responseType:"token id_token",audience:"https://"+e+"/api/v2/",redirectUri:g.location.origin+"/callback",scope:"openid profile update:current_user_identities"}),c.config({unauthenticatedRedirector:["$state",function(a){a.current&&a.current.data&&a.current.data.logoutState&&a.go(a.current.data.logoutState)}],tokenGetter:["authTokenService","options",function(a,b){return b&&".html"==b.url.substr(b.url.length-5)?null:a.getAccessToken()}]})}function b(a){a.state("callback",{url:"/callback",controller:"AuthCallbackController"})}function c(a){try{localStorage.setItem("__test","data"),localStorage.removeItem("__test")}catch(b){console.log("-- Setting cookieStorage --"),a.setStorageType("cookieStorage")}}function d(a){a.initialise()}a.$inject=["$windowProvider","angularAuth0Provider","jwtOptionsProvider","appConfig"],d.$inject=["authService"],b.$inject=["$stateProvider"],c.$inject=["localStorageServiceProvider"],angular.module("blocks.auth").config(a).config(b).config(c).run(d)}(),function(){"use strict";angular.module("blocks.auth").constant("authConstants",{AUTH0_TOKEN_NAME:"token",AUTH0_ACCESS_TOKEN_NAME:"access-token",AUTH0_PROFILE_NAME:"profile",AUTH0_STATE_NAME:"auth-state",FIREBASE_TOKEN_NAME:"firebaseToken"})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){function u(){var a={__enableIdPInitiatedLogin:!0,__enableImpersonation:!0};h.parseHash(a,function(a,b){if(a&&console.error(a),b&&b.accessToken&&b.idToken)if("linkingAccount"===b.state){var d=t.get("linkedAccount");d||(console.log("Linking account",JSON.stringify(b)),t.set("linkedAccount","true"),I(b.idToken,b.idTokenPayload.sub))}else c.$broadcast("app.signout"),p.removeToken(),n.setIdToken(b.idToken),n.setAccessToken(b.accessToken),c.$broadcast("app.tokenSet"),j.loadProfile(b.accessToken,function(a,b){a&&(console.log("There was an error logging in to Auth0:"),console.log(a)),l.authenticate(),c.$broadcast("app.authenticated")});else a&&c.$broadcast("auth0.error")}),l.checkAuthOnRefresh(),l.redirectWhenUnauthenticated()}function v(a,b,c){p.removeToken(),b||(b={route:d.current.name,params:e});var f=b?m.setAuthState(b):null,g=a?"signUp":"login",i={initialScreen:g,languageDictionary:{title:"Log In or Sign Up to Continue",success:{forgotPassword:"If you have a valid account, you will receive an email to reset your password"}},theme:{labeledSubmitButton:!1,logo:"/images/logo-cloud.png",primaryColor:"#f99b1d"},state:f,nonce:f},j=s.assign({},i,c);return h.authorize(j)}function w(){n.removeIdToken(),n.removeAccessToken(),j.removeStoredProfile(),p.removeToken(),l.unauthenticate(),t.remove("memberSignin"),c.$broadcast("app.signout"),d.current&&d.current.data&&d.current.data.mustLogin&&d.go("home"),f(function(){m.cleanUp()})}function x(){return v(!0)}function y(){var a=z();return a&&a.user_id?a.user_id.replace(/[.#]/g,""):null}function z(){return j.getStoredProfile()}function A(){return y().split("|")[0]}function B(){return"auth0"===A()}function C(){var a=z();return a?s.findIndex(a.identities,function(a){return"auth0"===a.provider})>-1:null}function D(){return c.isAuthenticated}function E(a){return b(function(b,c){h.changePassword({connection:"Username-Password-Authentication",email:a},function(a,d){a&&c(a),b(d)})})}function F(a,b){var c=["google-oauth2","twitter","facebook","linkedin","github","windowslive","salesforce"],d=s.filter(c,function(b){return-1===a.indexOf(b)});h.authorize({rememberLastLogin:!1,state:"linkingAccount",nonce:"linkingAccount",languageDictionary:{title:"Link Account"},allowLogin:!0,allowSignUp:!1,allowedConnections:d,theme:{labeledSubmitButton:!1,logo:"/images/logo-cloud.png",primaryColor:"#f99b1d"}})}function G(a,b){h.authorize({rememberLastLogin:!1,state:"linkingAccount",nonce:"linkingAccount",languageDictionary:{title:"Link Account"},allowLogin:!1,allowSignUp:!0,connection:"Username-Password-Authentication"})}function H(){j.loadProfile(n.getAccessToken(),function(a,b){if(a)return console.log("There was an error loading profile from Auth0:"),void console.log(a);t.remove("linkedAccount")})}function I(a,b){var c=n.getAccessToken().replace(/['"]+/g,""),d=j.getStoredProfile().user_id,e={userId:b};q.sendQuery("query User($userId: String!) { getUserProfile(userId: $userId) {userId} }",e).then(function(b){null===b.data.getUserProfile?new auth0.Management({domain:i.auth0_domain,token:c}).linkUser(d,a,function(a,b){t.remove("linkedAccount"),b?(alert("Account linked!"),H()):alert("Error linking accounts: "+a.status+" "+a.responseText)}):(t.remove("linkedAccount"),alert("Error linking accounts: the account you tried linking is already a registered user"))})}function J(a,c){var d={secondaryUserId:c,secondaryProvider:a};return q.sendQuery("mutation unlinkUserAccount($secondaryUserId: String!, $secondaryProvider: String!) {                     unlinkUserAccount(secondaryUserId: $secondaryUserId, secondaryProvider: $secondaryProvider)                 }",d).then(function(){return alert("Account unlinked!"),H(),b.resolve(!0)}).catch(function(a){return alert("Error unlinking Accounts: "+a.status+" "+a.responseText),b.resolve(!1)})}i.auth0_domain;return{initialise:u,isAuthenticated:D,signIn:v,signOut:w,signUp:x,changePassword:E,getProfile:z,isEmailUser:B,getProvider:A,getUserId:y,linkPasswordAccount:F,hasAuth0Connection:C,createPasswordAccount:G,unlinkAccount:J}}a.$inject=["$http","$q","$rootScope","$state","$stateParams","$timeout","$window","angularAuth0","appConfig","auth0ProfileService","authConstants","authManager","authStateService","authTokenService","coreConstants","firebaseTokenService","graphqlService","jwtHelper","lodash","localStorageService"],angular.module("blocks.auth").factory("authService",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(a,b){var c=e.decodeToken(a).sub;d.sendQuery(["query getUserIdentities($userId: String!) {","getUserIdentities(userId: $userId) {","email","email_verified","username","phone_number","phone_verified","user_id","picture","name","nickname","multifactor","last_ip","logins_count","blocked","given_name","family_name","identities {","connection","isSocial","user_id","provider","profileData {","email","screen_name","name","picture","}","}","}","}"].join("\n"),{userId:c},!1).then(function(a){var c=a.data.getUserIdentities;return(c.user_id.indexOf("#")>-1||c.user_id.indexOf(".")>-1)&&(c.user_id=c.user_id.replace(/[.#]/g,"")),console.log("Storing profile for user ",c),h(c),b(null,c)
}).catch(function(a){return b(a)})}function g(){return a.get(b.AUTH0_PROFILE_NAME)}function h(c){a.set(b.AUTH0_PROFILE_NAME,c)}function i(){a.remove(b.AUTH0_PROFILE_NAME)}return{loadProfile:f,getStoredProfile:g,setStoredProfile:h,removeStoredProfile:i}}a.$inject=["localStorageService","authConstants","angularAuth0","graphqlService","jwtHelper"],angular.module("blocks.auth").factory("auth0ProfileService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return d.getWithoutExpiry(i(a))}function h(a){var b=e.makeGuid();return d.setWithExpiry(i(b),a,3,null),b}function i(a){return console.log(f.AUTH0_STATE_NAME+"."+a),f.AUTH0_STATE_NAME+"."+a}function j(){d.removeExpiredByKeyStartingWith(f.AUTH0_STATE_NAME)}return{getAuthState:g,setAuthState:h,cleanUp:j}}a.$inject=["$rootScope","lodash","localStorageService","localStorageServiceExtensions","utilsService","authConstants"],angular.module("blocks.auth").factory("authStateService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){var a=c.get(d.AUTH0_TOKEN_NAME);return!a||e.isTokenExpired(a)?null:a}function i(a){c.set(d.AUTH0_TOKEN_NAME,a)}function j(){c.remove(d.AUTH0_TOKEN_NAME)}function k(){var a=c.get(d.AUTH0_ACCESS_TOKEN_NAME);return!a||e.isTokenExpired(a)?null:a}function l(a){c.set(d.AUTH0_ACCESS_TOKEN_NAME,a)}function m(){c.remove(d.AUTH0_ACCESS_TOKEN_NAME)}return{getIdToken:h,setIdToken:i,removeIdToken:j,getAccessToken:k,setAccessToken:l,removeAccessToken:m}}a.$inject=["$rootScope","$http","localStorageService","authConstants","jwtHelper","$window","appConfig"],angular.module("blocks.auth").factory("authTokenService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){var a=b.get(c.FIREBASE_TOKEN_NAME);return!a||d.isTokenExpired(a)?null:a}function h(a){b.set(c.FIREBASE_TOKEN_NAME,a)}function i(){console.log("Removing auth token"),b.remove(c.FIREBASE_TOKEN_NAME)}function j(a){return console.log("Requesting firebase token"),f.sendQuery(["{"," getLegacyFirebaseAccessToken {","   firebaseAccessToken "," }","}"].join("\n"),{},!1).then(function(b){var c=b.data.getLegacyFirebaseAccessToken.firebaseAccessToken;h(c),a(null,c)})}return{getToken:g,requestToken:j,removeToken:i}}a.$inject=["angularAuth0","localStorageService","authConstants","jwtHelper","appConfig","graphqlService"],angular.module("blocks.auth").factory("firebaseTokenService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(a){j.checkSession({},a)}function l(a){e.setAccessToken(a.accessToken),e.setIdToken(a.idToken),f.refreshAccessTokenRoles(a.accessToken)}function m(){return k(function(a,b){l(b)})}var n={refreshToken:m};return function(){g.onReadying(function(){var b=e.getAccessToken();b&&k(function(c,e){if(c)throw new Error(c.error_description||c);var f=i.decodeToken(b),g=i.decodeToken(e.accessToken),h=f&&f[d.rolesNamespace]&&f[d.rolesNamespace].member,j=g&&g[d.rolesNamespace]&&g[d.rolesNamespace].member;f.sub===g.sub&&h!==j&&(l(e),a.reload())})})}(),n}a.$inject=["$state","$window","authService","appConfig","authTokenService","roleService","guruAuthService","graphqlService","jwtHelper","angularAuth0"],angular.module("blocks.auth").service("refreshTokenService",a).run(["refreshTokenService",function(a){}])}(),function(){"use strict";angular.module("blocks.ngOptimiseImage",[])}(),function(){"use strict";function a(a){function b(b,c,d){b.$watch(d.ngOptimiseImage,function(b){var e=a.getOptimisedUrl(b,{imageWidth:d.ngOptimiseImageWidth,imageHeight:d.ngOptimiseImageHeight,imageSquareSize:d.ngOptimiseImageSquare,imageCrop:d.ngOptimiseImageCrop,imageGravity:d.ngOptimiseImageGravity,overrides:d.ngOptimiseImageOverrides});e||(e=d.ngOptimiseImageFallback||a.getNoImageUrl()),d.ngOptimiseAsStyleBackground?c.css("background-image","url('"+e+"')"):c.attr("src",e),c.bind("error",function(){var b=d.ngOptimiseImageFallback;b&&b!==this.src?this.src=b:this.src=a.getNoImageUrl()})})}return{restrict:"A",link:b}}a.$inject=["optimiseImageService"],angular.module("blocks.ngOptimiseImage").directive("ngOptimiseImage",a)}(),function(){"use strict";function a(a){function b(a,b){g="https://res.cloudinary.com/"+a+"/image/fetch/",h=b}function c(){return h}function d(a,b,c){if(c){return a+("/"===a.substr(a.length-1)?"":",")+b+"_"+c}return a}function e(a,b){if(!a)return a;if(j&&(a=a.replace("http://localhost:5000/","https://staging.acloud.guru/")),!a||i&&!f(a))return a;var c=g;return b.imageSquareSize&&(b.imageHeight=b.imageWidth=b.imageSquareSize),c=d(c,"w",b.imageWidth),c=d(c,"h",b.imageHeight),c=d(c,"c",b.imageCrop),c=d(c,"g",b.imageGravity),c=d(c,"q","auto"),c=d(c,"f","auto"),b.overrides&&(c+=","+b.overrides),c+="/"+encodeURIComponent(a||h)}function f(a){return a.indexOf("://")>=0&&a.indexOf("://localhost")<0&&a.indexOf("://127.0.0.1")<0}var g=null,h=null,i=function(){var b=a.location.hostname;return"localhost"===b||"127.0.0.1"===b}(),j=!1;return{initialise:b,getOptimisedUrl:e,getNoImageUrl:c}}a.$inject=["$window"],angular.module("blocks.ngOptimiseImage").factory("optimiseImageService",a)}(),function(){"use strict";angular.module("blocks.router",["blocks.auth","ui.router"])}(),function(){"use strict";function a(a){a.initialise()}a.$inject=["routerService"],angular.module("blocks.router").run(a)}(),function(){"use strict";function a(a,b,c){function d(a){function d(a,d){a.forEach(function(a){var c=a.config;c.abstract||c.controllerAs||(c=angular.extend({},c,{controllerAs:"vm"})),b.state(a.state,c)}),d&&!f&&(f=!0,c.otherwise(d))}function e(){return a.get()}var f=!1;return{configureStates:d,getStates:e}}d.$inject=["$state"],this.$get=d,a.html5Mode({enabled:!0,requireBase:!0})}a.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"],angular.module("blocks.router").provider("routerHelper",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){a.$on("$stateChangeStart",i),a.$on("$stateChangeSuccess",function(a,b,d){"public.register"===b.name&&e.loadUserProfile(),b.name&&"public.register"!==b.name&&"public.emailVerification"!==b.name&&-1===b.name.indexOf("members.join")&&e.ensureRegistered(),c[0].body.scrollTop=c[0].documentElement.scrollTop=0})}function i(a,c,h){if(c.redirectTo)return a.preventDefault(),void b.go(c.redirectTo,h);if(c.redirectToExternalUrl)return a.preventDefault(),void g.open(c.redirectToExternalUrl,"_self");if(c.data&&(c.data.mustLogin||c.data.allowedRoles)&&!d.isAuthenticated()&&!/prerender/i.test(g.navigator.userAgent)){var i=h.backUrl?h.backUrl:b.href(c.data.logoutState,null,{absolute:!1}),j=b.href(c.name,h,{absolute:!1});return a.preventDefault(),void b.go("public.login",{backUrl:i,successUrl:j,loginCategory:c.data.loginCategory})}c.data&&c.data.allowedRoles&&e.hasLoaded.promise.then(function(){f.some(c.data.allowedRoles,function(a){return e.roles&&!0===e.roles[a]})||(a.preventDefault(),b.go(c.data.logoutState||"home"))})}return{initialise:h}}a.$inject=["$rootScope","$state","$document","authService","profileService","lodash","$window"],angular.module("blocks.router").factory("routerService",a)}(),function(){"use strict";angular.module("blocks.schema",["ngLodash"])}(),function(){"use strict";function a(a){return a?a.charAt(0).toUpperCase()+a.slice(1):a}function b(e,f,g,h){var k=f+(h?"/"+a(h):""),l=(g||"")+(a(h)||"schema"),m=e.properties;if(g&&j.push({schema:k,name:l,properties:e.properties,parentSchema:f,singleAttributeName:h}),m)for(var n=0;n<m.length;n++){var o=c(m[n]),p=d(m[n]);i.push({attributeName:l+a(o),property:o,type:p})}for(var q in e)e.hasOwnProperty(q)&&"properties"!==q&&b(e[q],k,l,q)}function c(a){return"string"==typeof a||a instanceof String?a:a.name}function d(a){return"string"==typeof a||a instanceof String?null:a.type}function e(a){function b(b,c,d){function e(a,b){f&&(a.attr("itemscope",""),a.attr("itemtype",b.schema))}function h(a,b){g&&(a.attr("vocab",b.parentSchema),a.attr("typeof",b.singleAttributeName))}function k(b,c,d,i){if(g&&b.attr("property",c),f&&b.attr("itemprop",c),b.attr("content",i),d){var k=a.find(j,{schema:d});k&&(h(b,k),e(b,k))}}a.forEach(a.filter(i,function(a){return void 0!==d[a.attributeName]}),function(a){b.$watch(d[a.attributeName],function(b){k(c,a.property,a.type,b)})}),a.forEach(a.filter(j,function(a){return void 0!==d[a.name]}),function(a){h(c,a),e(c,a)})}return{link:b}}e.$inject=["lodash"];var f=!0,g=!1,h={Product:{properties:["name","description","image",{name:"offers",type:"http://schema.org/Offer"},{name:"review",type:"http://schema.org/Review"},{name:"aggregateRating",type:"http://schema.org/AggregateRating"},"brand","sku"]},Offer:{properties:["price","priceCurrency",{name:"acceptedPaymentMethod",type:"http://schema.org/PaymentMethod"}]},Review:{properties:["reviewBody","author",{name:"reviewRating",type:"http://schema.org/Rating"}]},Rating:{properties:["ratingValue","bestRating","worstRating"]},PaymentMethod:{properties:["name","description","url"]},AggregateRating:{properties:["reviewCount"]}};angular.module("blocks.schema").directive("ngSchema",e);var i=[],j=[];b(h,"http://schema.org")}(),function(){"use strict";angular.module("blocks.utils",[])}(),function(){"use strict";function a(){return window.encodeURIComponent}angular.module("blocks.utils").filter("escape",a)}(),function(){"use strict";function a(a,b){function c(a){var b=d(a);return b?b.item:null}function d(a){var c=b.get(a);return"String"==typeof c?JSON.parse(c):c}function e(a,c,d,e){if(!d&&!e)return new Error("LocalStorage expiry date not set");var f=new Date;d&&f.setDate(f.getDate()+d),e&&f.setHours(f.getHours()+e);var g={expires:f.valueOf(),item:c};b.set(a,g)}function f(c){var e=+new Date,f=a.filter(b.keys(),function(b){if(!a.startsWith(b,c))return!1;var f=d(b);try{return!f||(!f.expires||f.expires<e)}catch(a){return console.log("Error parsing state",b),!0}});a.forEach(f,function(a){b.remove(a)})}return{getWithoutExpiry:c,setWithExpiry:e,removeExpiredByKeyStartingWith:f}}a.$inject=["lodash","localStorageService"],angular.module("blocks.utils").factory("localStorageServiceExtensions",a)}(),function(){"use strict";function a(){function a(a){return a<10?"0"+a:a}return function(b){if("number"!=typeof b||b<0)return"00:00:00";var c=Math.floor(b/3600),d=Math.floor(b%3600/60),b=Math.floor(b%60);return(c>0?a(c)+":":"")+a(d)+":"+a(b)}}angular.module("blocks.utils").filter("secondsToTime",a)}(),function(){"use strict";function a(){var a={a:!0,an:!0,and:!0,at:!0,but:!0,by:!0,for:!0,in:!0,nor:!0,of:!0,or:!0,so:!0,the:!0,to:!0,up:!0,yet:!0};return function(b){b=b.split(" ");for(var c=0;c<b.length;++c)!0!==a[b[c]]&&(b[c]=b[c].charAt(0).toUpperCase()+b[c].slice(1));return b.join(" ")}}angular.module("blocks.utils").filter("titleCapitalization",a)}(),function(){"use strict";function a(){return function(a){return a instanceof Object?Object.keys(a).map(function(b){return Object.defineProperty(a[b],"$key",{__proto__:null,value:b})}):a}}angular.module("blocks.utils").filter("toArray",a)}(),function(){var a={};angular.module("blocks.utils").directive("unSvg",["$http",function(b){return{restrict:"EA",scope:{source:"@svgSrc",removeCss:"@svgNoInlineCss"},link:function(c,d,e){return a[c.source]||(a[c.source]=b.get(c.source)),a[c.source].success(function(a){var b,f,g,h;if(f=angular.element(a))return c.removeCss&&f.find("path").removeAttr("style"),b=null!=(g=f.attr("class"))?g:[],b=b.concat(null!=(h=e.class)?h:[]),0!==b.length&&f.attr("class",b),d.replaceWith(f)})}}}])}(),function(){"use strict";function a(a,b){function c(a){return!a.match(/[\.\$\[\]#\/]+/i)}function d(a){return JSON.parse(JSON.stringify(a))}function e(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function f(a,b){for(var c="",d="abcdefghijklmnopqrstuvwxyz0123456789",e=0;e<a;e++)c+=d.charAt(Math.floor(Math.random()*d.length));return b?(new Date).getTime()+c:c}function g(b){var c=a.defer();return b.$loaded(function(){c.resolve()},function(){c.reject()}),c.promise}function h(a){return a.$loaded().then(function(a){return a.$ref().once("value")}).then(function(a){return a.val()})}function i(a,b){var c=b.indexOf(a);c>-1&&b.splice(c,1)}function j(a){return a?String(a).replace(/<[^>]+>/gm,""):""}function k(a,c,d){switch(c){case"add":b(a).forIn(function(a,b){a.sequence>=d&&a.sequence++});break;case"remove":b(a).orderBy("sequence").transform(function(a,b,c){return b.sequence=c,b},{}).value()}return a}function l(a){var b,c,d=0;if(0===a.length)return d;for(b=0;b<a.length;b++)c=a.charCodeAt(b),d=(d<<5)-d+c,d|=0;return d}return{clone:d,fbEntityAsPromise:g,fbEntitySnapshot:h,removeElementFromArray:i,stripHtml:j,makeRandomAlphaNumeric:f,makeGuid:e,reSequence:k,isValidFirebaseKey:c,convertToHash:l}}a.$inject=["$q","lodash"],angular.module("blocks.utils").factory("utilsService",a)}(),function(){"use strict";angular.module("app.core.brand",["ngLodash"])}(),function(){"use strict";function a(){this.getBrand=function(){return c},this.$get=[function(){return b(this.getBrand)}]}function b(a){function b(){return[c]}return{getBrand:a,getBrands:b}}angular.module("app.core.brand").provider("brandService",a);var c="acloud-guru"}(),function(){"use strict";function a(a){return"app/public/partials/brands/acloud-guru/"+a+".html"}function b(){return{template:'<ng-include src="tmplPath"></ng-include>',scope:{brandPartial:"@brandPartial",src:"@src"},link:function(b,c,d){var e=b.brandPartial||b.src;b.tmplPath=a(e)}}}angular.module("app.core.brand").directive("brandPartial",b)}(),function(){"use strict";function a(){this.$get=function(){return b}}angular.module("app.core.brand").provider("brandConfig",a);var b={meta:{title:"A Cloud Guru",titleSuffix:" - A Cloud Guru",keywords:"",author:"","og:title":"A Cloud Guru - AWS Certification Courses","og:description":"","og:type":"website","og:locale":"en_US","og:image":"https://acloud.guru/images/media/site-logo-400.png","og:site_name":"A Cloud Guru","og:video":""},segmentWriteKey:"d7Uj61iZO2008XFUO21PmFbN3tcwixff"}}(),function(){"use strict";angular.module("app.core",["ngCookies","ngMessages","ngResource","ngSanitize","ngToast","blocks.auth","blocks.analytics","blocks.router","blocks.utils","ngLodash","duScroll","dibari.angular-ellipsis","angularMoment","chart.js","angulartics","angulartics.facebook.pixel","slickCarousel","firebase","app.core.brand"])}(),function(){"use strict";angular.module("app.core").constant("accessLevelConstants",{MEMBER_ONLY:"memberOnly",ORGANISATION_ONLY:"organisationOnly",ALL:"all"})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(a,b){return j.fetchThreads({rank:"top",type:"answer",distinct:!0,author:a})}function m(a){return b(t.child("answers").child("data").child(a))}function n(b){return a(t.child("answers").child("byQuestion").child(b))}function o(a,b,c,f,h,i){return d.when(k.getBrand()).then(function(b){return c?e.run("updateAnswer",{answer:{questionId:a,answerId:c,answerText:h,answerAuthor:f,answerUpdatedTimestamp:i?i():null,brand:b}}):e.run("createAnswer",{answer:{questionId:a,answerText:h,answerAuthor:f,answerUpdatedTimestamp:i?i():null,brand:b}})}).then(function(b){return!b.data||b.data.errorMessage?(g.track("Failed to Save Answer",{questionId:a,answerId:c}),d.reject()):(g.track("Saved Answer",{questionId:a,answerId:c}),b.data)})}function p(a,b,d,f){d<-1||d>1||e.run("voteForAnswer",{firebase_url:c.firebase_url,questionId:a,answerId:b,voteValue:d}).then(function(a,b){f()})}function q(a,c){return b(t.child("votes").child("onAnswers").child(a).child(c))}function r(a,b,c){var d=t.child("answers").child("data").child(a).child("comments"),e=c?c():Firebase.ServerValue.TIMESTAMP;b.updatedTimestamp=e,b.createdTimestamp=e,d.push(b)}function s(a,b){e.run("deleteComment",{answerId:a,commentId:b})}var t=new Firebase(c.firebase_url);return{getMostPopularAnswersForUser:l,getAnswer:m,getAnswersFor:n,saveAnswer:o,voteForAnswer:p,getUserVotesForAnswer:q,addCommentToAnswer:r,deleteCommentToAnswer:s}}a.$inject=["$firebaseArray","$firebaseObject","appConfig","$q","lambdaService","courseService","analyticsService","questionService","roomService","forumService","brandService"],angular.module("app.core").factory("answerService",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(a,b){return i(a,b,"GET")}function g(a,b,c){return i(a,b,"POST",c)}function h(a,b,c){return i(a,b,"PUT",c)}function i(a,b,f,g){var h=e.trimEnd(j[a],"/");if(!h)throw new Error("Endpoint for "+a+" service is not set");var i=h+"/"+e.trimStart(b,"/"),k=d.getAccessToken();return c({method:f,url:i,headers:{Authorization:"Bearer "+(k||"")},data:g,json:!0})}var j=a.api;if(!j)throw new Error("Api config is not defined");return{get:f,post:g,put:h,request:i}}a.$inject=["appConfig","coreConstants","$http","authTokenService","lodash"],angular.module("app.core").factory("apiService",a)}(),function(){"use strict";function a(a,b){function c(b){return a.location.origin+"/images/artwork/"+b+"/video-poster.jpg"}function d(b){return a.location.origin+"/images/artwork/"+b+"/square.png"}function e(b){return a.location.origin+"/images/artwork/"+b+"/widescreen.png"}function f(b){return a.location.origin+"/images/artwork/"+b+"/banner.jpg"}function g(a){return b.getOptimisedUrl(d(a),{imageWidth:400,imageHeight:400})}return{getVideoPosterUrl:c,getWidescreenUrl:e,getSquareUrl:d,getBannerUrl:f,getOGUrl:g}}a.$inject=["$window","optimiseImageService"],angular.module("app.core").factory("artworkService",a)}(),function(){"use strict";function a(a,b){function c(c,d){var e=a.defer(),f=c.map(function(a,b){return{bucket:a,filePath:d[b]}});if(0===f.length)e.resolve({});else{var g={files:f};b.sendQuery("query getRestrictedFiles($files: [Files]!) { getRestrictedFiles(files: $files) { urls } }",g).then(function(a){e.resolve(a.data.getRestrictedFiles.urls)})}return e.promise}return{getSignedUrls:c}}a.$inject=["$q","graphqlService"],angular.module("app.core").factory("awsAccessService",a),$}(),function(){"use strict";function a(a,b,c){function d(c){return c?a(e.child("roles/membershipBeta").child(c)).$loaded(function(a){return a&&!!a.$value}):b.resolve(!1)}var e=new Firebase(c.firebase_url);return{isInMembershipBeta:d}}a.$inject=["$firebaseObject","$q","appConfig"],angular.module("app.core").service("betaService",a)}(),function(){"use strict";angular.module("app.core").constant("braintreeConstants",{NONCE_STORAGE_KEY:"bt.nonce"})}(),function(){"use strict";function a(a,b,c,d){function e(e){if(!b.isAuthenticated())return a.resolve();var j=d.getSupportedCurrency(e),k=i[j];return k&&k.expires>f()?a.resolve(k.token):c.sendQuery(h,{currency:j}).then(function(b){if(!b||!b.data||b.data.errorMessage)return a.reject(b&&b.data?b.data.errorMessage:b);if(!b.data.getBraintreeClientToken)return a.reject("Token not returned");var c=b.data.getBraintreeClientToken.clientToken;return i[j]={expires:g(1),token:c},c})}function f(){return(new Date).valueOf()}function g(a){var b=new Date;return b.setHours(b.getHours()+a),b.valueOf()}var h=["query getBraintreeClientToken($currency: String!) {","getBraintreeClientToken(currency: $currency) {","clientToken","}","}"].join("\n"),i={};return{getClientToken:e}}a.$inject=["$q","authService","graphqlService","locationDetectionService"],angular.module("app.core").factory("braintreeClientService",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(b){return e(b).then(function(){i.errorList=[],a.close()}).catch(function(a){i.errorList=a})}function g(){a.dismiss("cancel")}function h(a){i.errors.paymentMethod=a}var i=this;i.braintreeLoaded=!1,i.errorList=[],i.errors={},i.currency=b,i.checkoutCta=c,i.choosePaymentMethod=d,i.submitUpdate=f,i.cancel=g,i.onPaymentMethodCallback=h}a.$inject=["$uibModalInstance","currency","checkoutCta","choosePaymentMethod","updatePaymentMethod"],angular.module("app.core").controller("BraintreePaymentModalController",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(f,g){i.braintreeLoaded=!1;var j=f?e.getSupportedCurrency(f):null;if(j===(g?e.getSupportedCurrency(g):null))return void(i.braintreeLoaded=!0);var k=h?h.teardown():a.resolve();if(k.then(function(){h=null}),!f)return void(i.braintreeLoaded=!0);i.braintreeUIBuilding=!0,i.errors.paymentMethod=!1,a.all([d.getClientToken(j),k]).then(function(a){var d=a[0],e={authorization:d,container:"#braintree-payment-form",paypal:{flow:"vault"}};c.braintree.dropin.create(e).then(function(a){h=a,b.$apply(function(){i.braintreeUIBuilding=!1,i.braintreeLoaded=!0})})})}function g(){h.requestPaymentMethod(function(a,c){if(a||!c||!c.nonce)return void b.$apply(function(){i.callbackPaymentMethodError(!0)});b.$apply(function(){i.callbackPaymentMethodError(!1),i.paymentMethodReceived(c)})})}var h,i=this;i.braintreeLoaded=!1,i.usePaymentMethod=g,i.errors={paymentMethod:!1},function(){f(i.currency),b.$watch("vm.currency",f)}()}a.$inject=["$q","$scope","$window","braintreeClientService","locationDetectionService"],angular.module("app.core").component("braintreePayment",{controller:a,controllerAs:"vm",templateUrl:"app/core/braintree/components/braintree-payment.html",bindings:{paymentMethodReceived:"=",braintreeLoaded:"=",callbackPaymentMethodError:"=",currency:"=",cta:"<"}})}(),function(){"use strict";function a(a,b){function c(){return a.get(b.NONCE_STORAGE_KEY)}function d(c){a.set(b.NONCE_STORAGE_KEY,c)}function e(){a.remove(authConstants.NONCE_STORAGE_KEY)}return{getNonce:c,setNonce:d,removeNonce:e}}a.$inject=["localStorageService","braintreeConstants"],angular.module("app.core").factory("braintreeNonceService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(c,d){return d=d||{},c.toLowerCase().match("simulator")||c.toLowerCase().match("exam sim")?l():a.all([k(),i(c),j(c,d)]).then(b.spread(function(a,c,d){return{type:"search",hits:b(c).map(function(b){return p(b,a)}).concat(d).orderBy("score","desc").value()}}))}function i(a){var d=Date.now();return c.search("series_episode",a,{facetFilters:[],filters:"activePublishedDateKey < "+d,attributesToRetrieve:["*"],getRankingInfo:!0}).then(function(a){return b.map(a.hits,m)})}function j(a,d){var e=_.chain(d).map(function(a,b){return b+":"+a}).union(["type:course","isVisible:true"]).value();return c.search("products",a,{facetFilters:e,attributesToRetrieve:["*"],getRankingInfo:!0}).then(function(a){return b.map(a.hits,n)})}function k(){return q||(q=e.sendQuery("                    query GetActiveSeries {                        getActiveSeries {                            title                            seriesId                            seriesUrl                        }                    }",null,!0)),q.then(function(a){return b.keyBy(a.data.getActiveSeries,"seriesId")})}function l(){return f.getSupportedCourses().then(g.getCoursesByIds).then(function(a){return{type:"examSimulatorSearch",hits:b.map(a,o)}})}function m(a){return{type:"episode",title:a._highlightResult.title.value,text:a._highlightResult.shortSummary.value,score:.25*a._rankingInfo.userScore,imageUrl:a.thumbnailUrl,seriesId:a.seriesId,episodeUrl:a.episodeUrl}}function n(a){return{type:"course",title:a._highlightResult.title.value,text:a._highlightResult.shortSummary.value,score:a._rankingInfo.userScore,imageUrl:d.getSquareUrl(a.artworkKey),courseId:a.objectID,courseUrl:a.url}}function o(a){return{type:"course",title:a.title,text:a.shortSummary,score:null,imageUrl:d.getSquareUrl(a.artworkKey),courseId:a.objectID,courseUrl:a.url}}function p(a,c){var d=c[a.seriesId];return b.assign({},a,{seriesTitle:d.title,seriesUrl:d.seriesUrl})}var q=null;return{search:h}}a.$inject=["$q","lodash","searchService","artworkService","graphqlService","examSimulatorService","courseMetadataService"],angular.module("app.core").factory("browseSearchService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(a){var b=g.map(a.courseIds,function(a){return h.getCourseById(a)});return e.all(b).then(function(a){return e.all(g.map(a,function(a){return f.getUserProductPrice(a.purchaseProductId)}))}).then(function(a){return g.sumBy(a,function(a){return(a&&a.price?a.price.standardPrice:0)||0})})}function l(a,b){f.getUserProductPrice(a.$id).then(function(c){b.resolve({product:c,info:a})}).catch(function(){b.reject()})}function m(a){var b=d(s.child("bundles").child("data").child(a)),c=e.defer();return b.$loaded(function(a){l(a,c)},function(){c.reject()}),c.promise}function n(a){var b=c(s.child("bundles").child("data").orderByChild("url").startAt(a).limitToFirst(1)),d=e.defer();return b.$loaded(function(a){if(a.length){l(a[0],d)}else d.reject()},function(){d.reject()}),d.promise}function o(a,b,c){return q(null,1e3,0,a,b,c).then(function(a){return a.hits})}function p(a,b,c){return""===a?a=b+c:a+=","+b+c,a}function q(a,b,c,d,e,f){var g="";return d&&(g+=p(g,"vendors.name:",d)),e&&(g+=p(g,"topics.name:",e)),c||(c=0),j.search("bundles",a,{facetFilters:g,attributesToSnippet:["title:50","description:20","text:20"],highlightPreTag:'<span class="search-highlight">',highlightPostTag:"</span>",attributesToRetrieve:["*"],hitsPerPage:b||10,page:c})}var r={getBundleByUrl:n,getBundleById:m,calculateTotalBundlePrice:k,getLearningPathways:o},s=new Firebase(a.firebase_url);return r}a.$inject=["appConfig","utilsService","$firebaseArray","$firebaseObject","$q","productService","lodash","courseMetadataService","brandConfig","searchService"],angular.module("app.core").factory("bundleService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){var c=b.search();if(c.utm_content){var d=c.utm_content;a.set(e.CAMPAIGN_NAME,d)}h()}function h(){var a=b.search(),d={};a.utm_source&&(d.utm_source=a.utm_source),a.utm_medium&&(d.utm_medium=a.utm_medium),a.utm_campaign&&(d.utm_campaign=a.utm_campaign),a.utm_term&&(d.utm_term=a.utm_term),a.utm_content&&(d.utm_content=a.utm_content),f.keys(d).length>0&&c.putObject("utm_data",d)}function i(){var b=a.get(e.CAMPAIGN_NAME);b&&(d.track("Joined Campaign",{campaignId:b}),a.remove(e.CAMPAIGN_NAME))}return{checkForCampaign:g,trackCampaign:i}}a.$inject=["localStorageService","$location","$cookies","analyticsService","coreConstants","lodash"],angular.module("app.core").factory("campaignService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){return q.slice()}function j(a,b){b&&h.addPromoCode(a,b),o(a)||(q.push(a),p(),setTimeout(function(){g.getUserProductPrice(a,{userPromoCodeIds:b?[b]:[]}).then(function(a){f.trackAddedProduct(a,1,b,q.length)})},0))}function k(a,b){var c=h.removePromoCode(a),d=q.findIndex(function(b){return a===b});q=q.filter(function(b){return b!==a}),p(),b&&setTimeout(function(){g.getUserProductPrice(a,{userPromoCodeIds:c?[c]:[]}).then(function(a){f.trackRemovedProduct(a,1,c,d+1)})},0)}function l(){q=[],p(),h.clear()}function m(){return q.length}function n(a){return i().some(function(b){return b===a})}function o(a){return q.some(function(b){return b===a})}function p(){b.set("cart_items",q)}var q=[],r={add:j,remove:k,clear:l,get:i,getCartSize:m,isInCart:n};return a.$on("clearCart",l),d.onReady(function(){e.isMember().then(function(a){a&&l()})}),function(){q=b.get("cart_items")||[]}(),r}a.$inject=["$rootScope","localStorageService","lodash","guruAuthService","roleService","analyticsService","productService","promoCodeService"],angular.module("app.core").factory("cartService",a)}(),function(){"use strict";function a(a,b,c){function d(a){return g[a]}function e(d){var e=b.difference(d,b.keys(g));return 0===e.length?a.when(g):c.getCerticicationCountForUserList(e).then(function(a){return g=b.assign({},g,a)})}function f(b){var d=a.defer();return null!=h[b]?d.resolve(h[b]):c.getUsersActiveCertifications(b).then(function(a){h[b]=a,d.resolve(a)}),d.promise}var g={},h={};return{getCertificationsForUser:f,getCountForUser:d,updateDictionaryForIds:e}}a.$inject=["$q","lodash","certificationService"],angular.module("app.core").factory("certificationUserDictionaryService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){return e.sendQuery("query GetAvailableCertifications {   getAvailableCertifications {       title       provider       id   }}",null,!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getAvailableCertifications:a.reject(b&&b.data?b.data.errorMessage:null)})}function h(){var b=d.getUserId();return e.sendQuery("query GetUser($userId: String!, $certificationId: String!) {    getUserCertifications(userId: $userId, certificationId: $certificationId) {        userId, certificationId   } }",{userId:b}).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getUserCertifications:a.reject(b&&b.data?b.data.errorMessage:null)})}function i(a){var b={userIds:a};return e.sendQuery("query getUserCertificationsCount($userIds: [String!]!) {   getUserCertificationsCount(userIds: $userIds) {       userId, count   }}",b,!0).then(function(b){var c={},d=b.data.getUserCertificationsCount;return angular.forEach(a,function(a){c[a]=0}),angular.forEach(d,function(a){c[a.userId]=a.count}),c})}function j(b){var c={userId:b};return e.sendQuery("query getPublicUserCertifications($userId: String!) {getPublicUserCertifications(userId: $userId) {title,provider,certificationId}}",c,!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getPublicUserCertifications:a.reject(b&&b.data?b.data.errorMessage:null)})}function k(){var b={current:!0};return e.sendQuery("query getAllUserCertifications($current: Boolean) {getAllUserCertifications(current: $current) {title,provider,certificationId,expiryDate}}",b).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getAllUserCertifications:a.reject(b&&b.data?b.data.errorMessage:null)})}var l={isLoaded:!1,isLoading:!1,hasLoaded:a.defer(),roles:{superadmin:!1,admin:!1,moderator:!1},data:null,getAvailableCertifications:g,getUserCertifications:h,getUsersActiveCertifications:j,getCerticicationCountForUserList:i,getCurrentUsersActiveCertifications:k};return function(){c.onReadying(g)}(),l}a.$inject=["$q","lodash","guruAuthService","authService","graphqlService","appConfig"],angular.module("app.core").factory("certificationService",a)}(),function(){"use strict";function a(a,b,c){function d(){return c.sendQuery(["query getCustomPresets {getCustomPresets {","id","description","}","}"].join("\n"),{},!1).then(function(a){return a.data.getCustomPresets})}function e(d,e){return e=e||b.noop,c.sendQuery("query {getContentUploadData {contentId,s3UploadData {key,signature,policyBase64,AWSAccessKey,uploadUri,bucket,}}}",{},!1).then(function(c){var f=c.data.getContentUploadData.contentId,g=c.data.getContentUploadData.s3UploadData;return a.upload({url:g.uploadUri,method:"POST",data:{key:g.key,AWSAccessKeyId:g.AWSAccessKey,acl:"private",policy:g.policyBase64,signature:g.signature,"Content-Type":"application/octet-stream",file:d}}).then(b.constant(f),null,e)})}function f(a,e){return d().then(function(d){var f=b.filter(d,["description","1080p-THUMBNAIL"]),g=f[0]&&f[0].id||"1351620000001-000001",h={thumbnailPreset:g,videoAudioConfigs:{video:[g,"1351620000001-000010","1351620000001-000020","1351620000001-000040"],audio:["1351620000001-300010","1351620000001-300020","1351620000001-300030","1351620000001-300040"]},adaptiveStreamingConfigs:[{format:"MPEG-DASH",segmentDuration:"4",videoStreams:["1351620000001-500020","1351620000001-500030","1351620000001-500040","1351620000001-500050"],audioStreams:["1351620000001-500060"]},{format:"HLSv4",segmentDuration:"4",videoStreams:["1351620000001-200015","1351620000001-200025","1351620000001-200035","1351620000001-200045","1351620000001-200055"],audioStreams:["1351620000001-200060","1351620000001-200071"]}]};return c.sendQuery("mutation transcodeContent($contentId: String!, $isProtectedContent: Boolean!, $transcoderConfiguration: TranscoderConfiguration!) {transcodeContent(contentId: $contentId, transcoderConfiguration: $transcoderConfiguration, isProtectedContent: $isProtectedContent){contentId,createdDate,transcodeStatus,transcodeStatusMessage,}}",{contentId:a,isProtectedContent:e,transcoderConfiguration:h},!1)}).then(function(a){return a.data.transcodeContent})}return{startTranscoder:f,uploadVideo:e,getCustomPresets:d}}
a.$inject=["Upload","lodash","graphqlService"],angular.module("app.core").service("contentEditorService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return a&&a.length?d.sendQuery("query getContentBatch($contentIds: [String!]!) {getContentBatch(contentIds: $contentIds) {contentId,createdDate,transcodeStatus,transcodeStatusMessage,finishedDate,duration,mediaType,thumbnailList {url}sources {...SourceFragment,}adaptiveStreams {playlistKey,ext,streamType,segmentDuration,signedUrl,sources {...SourceFragment,}}}}fragment SourceFragment on AudioVisualSource {sourceType,ext,key,presetId,fileSize,duration,audioBitRate,audioMaxBitRate,frameRate,height,maxHeight,width,maxWidth,videoBitRate,videoMaxBitRate,segmentDuration,signedUrl,}",{contentIds:a},!1).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.getContentBatch.map(h):c.reject(a&&a.data?a.data.errorMessage:null)}):c.resolve([])}function h(a){if(!a.sources)return a;var c=(a.contentId,b(a.sources).filter(function(a){return"AUDIO"!==a.sourceType}).map(function(a,b){var c="AUDIO"===a.sourceType?a.audioBitRate+"k":(a.maxHeight||a.height)+"p",d="AUDIO"===a.sourceType?"audio":"video";return{name:c,sources:[{dashIndex:b,src:e.trustAsResourceUrl(a.signedUrl),type:d+"/"+a.ext}]}}).value()),d=(b(a.adaptiveStreams).filter(["streamType","MPEG-DASH"]).map(function(a){return{name:"Auto",sources:[{src:a.signedUrl}]}}).value(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),c),g=f.getVideoQuality(),h=b.find(d,["name",g])||d[d.length-1];return b.assign(a,{qualitySources:d,currentQualitySource:h})}return{batchGetContent:g,attachMeta:h}}a.$inject=["appConfig","lodash","$q","graphqlService","$sce","userPreferenceService"],angular.module("app.core").service("contentService",a)}(),function(){"use strict";function a(a,b){a.initialise()}function b(a,b,c){b.trackStates(!0),b.developerMode(!1!==c.angularticsDevMode),a.debugInfoEnabled(c.enableAngularDebugInfo)}a.$inject=["analyticsService","appConfig"],b.$inject=["$compileProvider","$analyticsProvider","appConfig"];angular.module("app.core").run(a).config(b)}(),function(){"use strict";angular.module("app.core").constant("coreConstants",{FIREBASE_TOKEN_NAME:"firebaseToken",CURRENCY_SYMBOLS:{USD:"$",EUR:"€",GBP:"£",CAD:"$",AUD:"$",PTS:"pts "},POINTS_CURRENCY:"PTS",SUPPORTED_CURRENCIES:["USD","EUR","GBP"],FRIENDLY_URL_CHARACTER_LIMIT:80,PROMOTION_ID_NAME:"promotionId",CAMPAIGN_NAME:"campaign_name",QUERY_STRING_CURRENCY_OVERRIDE:"currency_manual_override",QUERY_STRING_COUNTRY_OVERRIDE:"country_manual_override"})}(),function(){"use strict";function a(a,b){function c(a){return d(a,"uniqueid").then(function(a){return a.map(function(a){return a.uniqueid})})}function d(c,d){var e="query getAssignedCoursesForUser($userId: String!) {                     getAssignedCoursesForUser(userId: $userId) {                         ...courseFields                     }                 }                 fragment courseFields on CondensedCourse { "+d+" }",f={userId:c};return b.sendQuery(e,f).then(function(b){return a.get(b,"data.getAssignedCoursesForUser",[])})}function e(a,c){var d={userId:a,courseIds:c};return b.sendQuery("mutation grantCourseAccess($userId: String!, $courseIds: [String!]!) {  grantCourseAccess(userId: $userId, courseIds: $courseIds) { result }}",d)}function f(a,c){var d={userId:a,courseIds:c};return b.sendQuery("mutation removeCourseAccess($userId: String!, $courseIds: [String!]!) {  removeCourseAccess(userId: $userId, courseIds: $courseIds) { result }}",d)}return{getAssignedCourseIdsForUser:c,assignAccess:e,revokeAccess:f}}a.$inject=["lodash","graphqlService"],angular.module("app.core").factory("courseAccessService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(a,b,c,d){var e={courseId:a,courseUrl:d||null,componentId:b,timestamp:(new Date).valueOf().toString()};return c?j.sendQuery("mutation markCourseComponentComplete($courseId: String!, $courseUrl: String!, $componentId: String!, $timestamp: String!) {                        markCourseComponentComplete(courseId: $courseId, courseUrl: $courseUrl, componentId: $componentId, timestamp: $timestamp) {                            result                        }                    }",e).finally(function(){z.clearAll()}):j.sendQuery("mutation markCourseComponentIncomplete($courseId: String!, $courseUrl: String!, $componentId: String!, $timestamp: String!) {                        markCourseComponentIncomplete(courseId: $courseId, courseUrl: $courseUrl, componentId: $componentId, timestamp: $timestamp) {                            result                        }                    }",e).finally(function(){z.clearAll()})}function m(a,b){var c={courseId:a,componentId:b,timestamp:(new Date).valueOf().toString()};return j.sendQuery("mutation openCourseComponent($courseId: String!, $componentId: String!, $timestamp: String!) {                    openCourseComponent(courseId: $courseId, componentId: $componentId, timestamp: $timestamp) {                        result                    }                }",c)}function n(a,b){return a.child("users").child("data").child(h.getUserId()).child("courseActivity").child(b)}function o(b,d){var e=f.getCourseById(b).then(function(b){return a.getComponents(b.url)}),h=p(b);return c.all([e,h]).then(g.spread(function(a,b){function c(a,b){switch(a.content.type){case"quiz":return!!b.includeQuizzes;case"lab":return!!b.includeLabs;case"whitepaper":return!!b.includeWhitepapers;case"text":return!!b.includeLessons;case"video":return!!b.includeLessons&&(!!b.includeEnhancedLessons||!a.enhancedSyllabus);default:return!1}}function e(a,b){return!(!b||!b.completedComponents)&&!!b.completedComponents[a.componentIdentifier]}var f=0,h=0;return g.forEach(a,function(a){c(a,d)&&(e(a,b)&&f++,h++)}),{percentage:h>0?Math.round(100*f/h):0,completedCount:f,totalCount:h}}))}function p(a){return h.isAuthenticated()?z.load(a):c.resolve(null)}function q(a){return s(a).then(function(b){return Promise.all(g.map(a,function(a){return r(a,b[a])}))})}function r(a,b){return n(y,a).once("value").then(function(a){return a.val()}).then(function(a){return b=g.reduce(b,function(a,b){return a[b]=!0,a},{}),g.assign({},a,{completedComponents:b})})}function s(a){var b={courseIds:a};return j.sendQuery("query getCompletedCourseComponentIds($courseIds: [String!]!) {                    getCompletedCourseComponentIds(courseIds: $courseIds) {                        courseId                        componentIds                    }                }",b).then(function(a){var b=g.get(a,"data.getCompletedCourseComponentIds");return g.reduce(b,function(a,b){return a[b.courseId]=b.componentIds,a},{})})}function t(a,c){return b(n(y,a).child("quizScores").child(c))}function u(a,b,c){var d=n(y,a).child("quizScores").child(b);d.child("bestScore").transaction(function(a){return!a||c>a?c:a}),d.child("attempts").transaction(function(a){return a+1})}function v(a){return k.userHasEnhancedSyllabus().then(function(b){return o(a,{includeLessons:!0,includeQuizzes:!1,includeLabs:b,includeWhitepapers:b,includeEnhancedLessons:b})})}function w(a){return k.userHasEnhancedSyllabus().then(function(b){return o(a,{includeLessons:!1,includeQuizzes:!0,includeLabs:!1,includeWhitepapers:!1,includeEnhancedLessons:!1})})}function x(a){return k.userHasEnhancedSyllabus().then(function(b){return o(a,{includeLessons:!0,includeQuizzes:!0,includeLabs:b,includeWhitepapers:b,includeEnhancedLessons:b})})}var y=new Firebase(d.firebase_url),z=new DataLoader(q);return{markCompleted:l,rememberLastVisitedComponent:m,forCourse:p,getQuizScoreRecord:t,saveQuizScore:u,calculateCompletion:o,getLessonCompletetion:v,getQuizCompletetion:w,getTotalCourseCompletion:x}}a.$inject=["courseComponentService","$firebaseObject","$q","appConfig","brandService","courseService","lodash","authService","lambdaService","graphqlService","organisationService"],angular.module("app.core").factory("courseActivityService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){B=b.memoize(z,function(){return _.join(arguments)})}function i(b){return A[b]?c.when(A[b]):a.getCourse(b).then(j).then(function(a){return A[b]=a.map,a.map})}function j(a){var c=b.flatten(b.map(a.sections,function(c,d){return b.map(c.components,function(b,e){return{type:b.content.type,section:c.url,component:b.url,course:a.url,sectionId:d,componentId:e,componentIdentifier:e,courseId:a.uniqueid,sectionSeq:c.sequence,componentSeq:b.sequence,enhancedSyllabus:b.enhancedSyllabus}})}));return{map:b.zipObject(b.map(c,"componentId"),c),course:a}}function k(a,b){return i(a).then(function(a){return a[b]})}function l(a,c,d){return i(a).then(function(a){return b.find(a,{section:c,component:d})})}function m(b){return b?a.getCourse(b.course).then(function(a){return a.sections[b.sectionId].components[b.componentId]}):c.when(null)}function n(a,b){return k(a,b).then(m)}function o(a){return{type:a.type,sec:a.sectionId,com:a.componentId,sectionUrl:a.section,componentUrl:a.component}}function p(a,b,c){return l(a,b,c).then(m)}function q(a,b){return k(a,b).then(o)}function r(a,b,c){return l(a,b,c).then(o)}function s(d){return d?c.all([i(d),a.getCourse(d)]).then(b.spread(function(a,c){return b.map(a,function(a){return c.sections[a.sectionId].components[a.componentId]})})):c.when([])}function t(a,c){return s(a).then(function(a){return b.filter(a,function(a){return b.intersection(c,a.tags).length>0})})}function u(a,d,e,f,g){for(var h=b.findIndex(a,{componentId:d.componentIdentifier}),i=[],j=1;j<=g;j++){var k;if(!1===e&&h+j<0||e&&h-j<0)break;k=e?a[h-j]:a[h+j],i.push(k)}if(!i.length)return c.resolve(null);for(var l=[],j=0;j<i.length;j++)l.push(m(i[j]).then(function(b){if(b){if(!f&&b.enhancedSyllabus)return u(a,b,e,f,g);var c=i.filter(function(a){if(a)return a.componentIdentifier===b.componentIdentifier})[0];return b.section=c?c.sectionSeq:null,b}return null}));return c.all(l)}function v(a,b,c){return B(a,b).then(function(a){return a[c?"previous":"next"]||null})}function w(d,e,f){return a.getCourse(d).then(function(a){return i(a.url).then(function(a){for(var d=b.sortBy(a,["sectionSeq","componentSeq"]),g=[],h=0;g.length<f&&h<d.length;){var i=d[h];if(e||!i.enhancedSyllabus){var j=m(i).then(function(a){return a.section=d[h].sectionSeq,a});j&&g.push(j)}h++}return c.all(g)})})}function x(c,d){return a.getCourse(c).then(function(a){return i(a.url).then(function(a){var c=b.sortBy(a,["sectionSeq","componentSeq"]),e=b.head(c);return e?!d&&e.enhancedSyllabus?u(c,e,!1,d).then(function(a){return a?(e=b.find(c,{componentId:a.componentIdentifier}),e?m(e):null):null}):m(e):null})})}function y(a,b){return a&&b?k(a,b.componentIdentifier).then(function(a){return d.href("app.course.watch",{courseUrl:a.course,sectionUrl:a.section,componentUrl:a.component})}):c.when(null)}function z(a,b){return f.sendQuery(["query NextPreviousCourseComponents($courseId: String!, $componentId: String!) {","getNextPreviousCourseComponents(courseId: $courseId, componentId: $componentId) {","previous {","sectionId","componentId","title","url","sectionSequence","componentSequence","}","next {","sectionId","componentId","title","url","sectionSequence","componentSequence","}","}","}"].join("\n"),{courseId:a,componentId:b},!1).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.getNextPreviousCourseComponents:c.reject(a&&a.data?a.data.errorMessage:null)})}var A={},B=null,C={getComponent:n,getComponents:s,getComponentByUrl:p,getComponentsWithTags:t,getNextComponentFor:v,getComponentUrl:y,getComponentLookupInfoByUrl:r,getComponentLookupInfoById:q,getFirstComponent:x,getCourseComponents:w};return function(){h(),g.onNotReady(h),e.$on("firebase-update",function(a,b){A[b]=null})}(),C}a.$inject=["courseService","lodash","$q","$state","$rootScope","graphqlService","guruAuthService"],angular.module("app.core").factory("courseComponentService",a)}(),function(){"use strict";function a(a){function b(b){var c={course:b};return a.sendQuery("mutation createCourseMutation($course: CourseInput!) { createCourse(course: $course) { title } }",c)}function c(b){var c={course:b};return a.sendQuery("mutation editCourseMutation($course: CourseInput!) { editCourse(course: $course) { title } }",c)}return{createCourse:b,editCourse:c}}a.$inject=["graphqlService"],angular.module("app.core").factory("courseCrudService",a)}(),function(){"use strict";function a(a,b,c,d){function e(){return l||(l=f()),l}function f(a,b,d,e){var f=null;return f||(f=h(null,null,1e3,0,b,d,e).then(function(a){return a.hits})),a?f.then(function(b){return c.filter(b,{isPublic:a})}):f}function g(a,b,c){return""===a?a=b+c:a+=","+b+c,a}function h(a,c,d,e,f,h,i){var j="";return c&&(j=g(j,"isPublic:",c?"true":"false")),f&&(j=g(j,"vendors:",f)),h&&(j=g(j,"topics:",h)),!0===i&&(j=g(j,"isFeatured:",!0)),e||(e=0),b.search("courses",a,{facetFilters:j,attributesToSnippet:["title:50","description:20","text:20"],highlightPreTag:'<span class="search-highlight">',highlightPostTag:"</span>",attributesToRetrieve:["*"],hitsPerPage:d||10,page:e})}function i(a){return e().then(function(b){return c.find(b,function(b){return b.objectID===a})})}function j(a){return e().then(function(b){return c.filter(b,function(b){return c.includes(a,b.objectID)})})}function k(a){return e().then(function(b){return c.find(b,{url:a})})}var l=null;return{getCourses:f,searchCourses:h,getCourseById:i,getCoursesByIds:j,getCourseByUrl:k,getAllCourses:e}}a.$inject=["$q","searchService","lodash","brandService"],angular.module("app.core").service("courseMetadataService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(){u={},w={},v={}}function m(){(g.keys(u).length>0||g.keys(w).length>0)&&(l(),i.reload())}function n(a){if(u[a])return u[a];var c=t.child("courses").child("draft").child(a),d=h(c),e=d.$loaded();return u[a]=e,c.on("value",function(a){var c=a.val().url;b.$emit("firebase-update",c)}),e}function o(b){return!angular.isUndefined(b)&&null!==b&&(e.isAuthenticated()&&a.roles.editor||b.authors&&!0===b.authors[e.getUserId()])}function p(b){return a.hasLoaded.promise.then(function(){return o(b)})}function q(a){return o(a)?n(a.uniqueid):a}function r(a){var b=a.toLowerCase();if(w[a])return w[a];var c=k.getCourseByUrl(a).then(function(a){return a?s(a.uniqueid):null});return w[b]=c,c}function s(a){if(v[a])return v[a];var b=h(t.child("courses/data").child(a)),c=b.$loaded().then(q);return v[a]=c,c}var t=new Firebase(f.firebase_url),u={},v={},w={},x={getCourse:r,getCourseById:s,isUserAuthorOfCourse:o,isUserAuthorOfCoursePromise:p};return function(){j.onNotReady(m),j.onReady(l)}(),x}a.$inject=["profileService","$rootScope","$q","$firebaseArray","authService","appConfig","lodash","$firebaseObject","$state","guruAuthService","courseMetadataService"],angular.module("app.core").factory("courseService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){r().then(function(a){c.isUserAuthorOfCourse(a)&&b.reload()})}function j(){u.isCourseActivityLoaded=!1,u.courseActivity=null}function k(){u.isCourseLoaded=!1,u.courseUrl=null}function l(a){u.courseId=a,n(a)}function m(a){k(),j(),u.courseUrl=a,a&&r().then(function(a){return a&&l(a.uniqueid),a})}function n(b){return d.forCourse(b).then(function(a){return u.courseActivity=a,u.isCourseActivityLoaded=!0,a}).catch(function(){return u.courseActivity=null,u.isCourseActivityLoaded=!1,a.reject()})}function o(){return r().then(function(){return n(u.courseId,g.getUserId())})}function p(a){return f.hasAccessToCourseId(a).catch(function(){return!1})}function q(){return r().then(function(){return p(u.courseId)})}function r(){return u.courseUrl?t(u.courseUrl):a.when(null)}function s(){return angular.isUndefined(u.courseUrl)?a.when(null):h.getCourseByUrl(u.courseUrl)}function t(a){return c.getCourse(a).then(function(a){return u.course=a,u.isCourseLoaded=!0,a})}var u={isCourseLoaded:!1,course:null,isCourseActivityLoaded:!1,courseActivity:null,courseUrl:null,courseId:null,getCourse:r,getCourseActivity:o,getCourseAccess:q,setCurrentCourse:m,getCourseAccessById:p,getCourseMetadata:s};return function(){k(),j(),e.onNotReady(j),e.onReady(i)}(),u}a.$inject=["$q","$state","courseService","courseActivityService","guruAuthService","currentUserAccessService","authService","courseMetadataService"],angular.module("app.core").factory("currentCourseService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(a){return l().then(function(c){return b.includes(c,a)})}function j(a){return g.getCourseByUrl(a).then(function(b){if(!b)throw new Error("Course url "+a+" not found!");return i(b.uniqueid).then(function(a){return{hasAccess:a,productId:b.purchaseProductId,courseId:b.uniqueid}})})}function k(){return l().then(function(b){return a.all(b.map(g.getCourseById))})}function l(b){return b=b||{},r()?(s&&!b.forceReload||(s=m("uniqueid").then(function(a){return a.map(function(a){return a.uniqueid})})),s):a.resolve([])}function m(a){var c="query getAccessibleCourses {                     getAccessibleCourses {                         ...courseFields                     }                 }                 fragment courseFields on CondensedCourse { "+a+" }";return e.sendQuery(c,{}).then(function(a){return b.get(a,"data.getAccessibleCourses",[])})}function n(a){var b={courseId:a};return e.sendQuery("mutation startCampaignCourse($courseId: String!) {                     startCampaignCourse(courseId: $courseId)                 }",b).then(function(a){q()})}function o(a){var b={courseId:a};return e.sendQuery("mutation startMemberCourse($courseId: String!) {                     startMemberCourse(courseId: $courseId)                 }",b).then(function(a){q()})}function p(c){var d=h.isMember(),e=j(c);return a.all([e,d]).then(b.spread(function(a,b){return a.hasAccess||!b?a:o(a.courseId).then(function(){return j(c)})}))}function q(){s=null}function r(){return c.isAuthenticated()}var s=null,t={clearCache:q,getAccessibleCourseListing:k,getAccessibleCourseIds:l,hasAccessToCourseId:i,hasAccessToCourseUrl:j,startMemberCourse:o,startCampaignCourse:n,checkAccessStartCourse:p};return function(){d.onReadying(l),d.onNotReady(q)}(),t}a.$inject=["$q","lodash","authService","guruAuthService","graphqlService","courseAccessService","courseMetadataService","roleService"],angular.module("app.core").factory("currentUserAccessService",a)}(),function(){"use strict";angular.module("app.core").factory("featuresConfig",["appConfig","brandService",function(a,b){return a.features}])}(),function(){"use strict";function a(a,b){return a(new Firebase(b.firebase_url))}a.$inject=["$firebaseAuth","appConfig"],angular.module("app.core").factory("firebaseAuthService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a,b,c,d,e){a&&(a+=" AND ");var f=d||":",g=e?"":'"';return a+b+f+g+c+g}function h(a){var d={room:"all",page:0,rank:null,query:"",type:null,hitsPerPage:10,distinct:!1,author:null,answered:null,componentId:null,tagId:null,afterTimestamp:null,isDeleted:null},e=b.assign(d,a);if(!e.rank&&!r[e.rank])throw new Error("Invalid rank provided");var f=r[e.rank],h="";e.afterTimestamp&&(h=g(h,"updatedTimestamp",e.afterTimestamp,">=",!0)),"all"!==e.room&&(h=g(h,"roomUrl",e.room)),e.author&&(h=g(h,"author",e.author)),e.type&&(h=g(h,"type",e.type)),"boolean"==typeof e.answered&&(h=g(h,"answered",e.answered)),e.componentId&&(h=g(h,"componentId",e.componentId)),h=g(h,"isDeleted","1",e.isDeleted?"=":"!=",!0),e.tagId&&(h=h+" AND "+e.tagId);var i={filters:h,distinct:!0===e.distinct,attributesToSnippet:["title:50","description:20","text:20"],highlightPreTag:'<span class="search-highlight">',highlightPostTag:"</span>",attributesToRetrieve:["*"],hitsPerPage:e.hitsPerPage,page:e.page};return i=b.assign(i,a.settings),c.search(f,e.query,i)}function i(a,b,c){return p.child("forum/rooms/data").child(a).child("threads").child(b).on("value",c)}function j(a,c){p.child("answers/data").orderByChild("question").equalTo(a).on("value",function(a){var d=a.val();c(b.values(d))})}function k(a,c){return p.child("forum/rooms/data").orderByChild("name").equalTo(a).once("value").then(function(a){var d=a.val();return b.findKey(d,{brand:c})})}function l(a){var b={threadId:a};return e.sendQuery("mutation forumQuery($threadId: String!) { deleteQuestion(threadId: $threadId) }",b).then(function(a){return c.clearAlgoliaCache(),a})}function m(a){var b={answerId:a};return e.sendQuery("mutation forumQuery($answerId: String!) { deleteAnswer(answerId: $answerId) }",b).then(function(a){return c.clearAlgoliaCache(),a})}function n(a){if(a){var b=/\s/g,c=a.substr(0,30);return c=c.trim(),c=c.replace("?",""),c=c.toLowerCase(),c.replace(b,"_")}}function o(a){var c=a.author,d=b.map(a.comments,"author");return d.push(c),d}var p=new Firebase(f.firebase_url),q={deleteThread:l,deleteAnswer:m,fetchThreads:h,fetchThreadQuestion:i,fetchAndWatchThreadAnswers:j,getRoomPushIdFromNameAndBrand:k,makeUrlHumanReadable:n,extractUserIds:o},r={top:"forum_threads_top",recent:"forum_threads_recent",newest:"forum_threads_newest"};return q}a.$inject=["$q","lodash","searchService","roomService","graphqlService","appConfig"],angular.module("app.core").service("forumService",a)}(),function(){"use strict";function a(a,b){function c(c,d,e,f){var g=e?"graphql/public":"graphql/protected",h={query:c,variables:d};return a.post("bff",g,h).catch(function(a){return b.reject(a.data)}).then(function(a){return!f&&a.errors?b.reject(a.errors):a.data})}return{sendQuery:c}}a.$inject=["apiService","$q"],angular.module("app.core").factory("graphqlService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){b.$on("$stateChangeStart",function(b,c,d){m(a,b,c,d)}),l(a)}function k(a,b){a&&b&&angular.forEach(a,function(a,d){b===d&&c.go(a)})}function l(a){a.on("*",function(a,b){c.current&&c.current.data&&k(c.current.data.redirectForAuthState,b.toState)})}function m(a,b,c,d){c.data&&c.data.redirectForAuthState&&k(c.data.redirectForAuthState,a.compositeState())}function n(){return P.compositeState()}function o(){var b=a.defer();return p().then(function(a){f.$authWithCustomToken(a,{remember:"default"}).then(function(a){b.resolve()}).catch(function(a){console.log("Fire based authentication failed: ",a),b.reject("Unable to authenticate to Firebase using firebase token.")})},function(){b.reject("Unable to get fetch firebase token.")}),b.promise}function p(){var b=a.defer(),c=g.getToken();return c?(console.log("Using cached firebase token"),b.resolve(c),b.promise):(g.requestToken(function(a,c){a?b.reject("Unable to retrieve firebase token from Auth0"):b.resolve(c)}),b.promise)}function q(a){L.push(a)}function r(a){M.push(a)}function s(a){N.push(a)}function t(a){O.push(a),"ready"===P.state&&a()}function u(){return"ready"==n()}function v(){return"readying"==n()}function w(){return"not-ready"==n()}function x(a){h.removeElementFromArray(a,L)}function y(a){h.removeElementFromArray(a,O)}function z(a){h.removeElementFromArray(a,M)}function A(a){h.removeElementFromArray(a,N)}function B(a){async.each(M,function(a,b){var c=a();if(!c)return void b();c.then(function(){b()},function(){b(!0)})},function(b){a(b)})}function C(a){for(var b=0;b<a.length;b++)a[b]()}function D(){C(L)}function E(){C(N)}function F(){C(O)}function G(a){async.waterfall([function(a){o().then(function(){a(null)}).catch(function(b){a(b)})},function(a){B(a)}],function(b){b&&(console.log("Error connecting to firebase services: "+b),J(),a.handle("fbLoadError")),a.handle("fbLoadComplete")})}function H(){f.$unauth(),g.removeToken()}function I(a,b){!b||1e3*b.expires<=(new Date).getTime()?a.handle("fbAuthLost"):b&&a.handle("fbAuth")}function J(){d.signOut()}function K(){var a=new machina.Fsm({initialize:function(c){console.log("Initialising authentication FSM"),f.$onAuth(function(b){I(a,b)}),b.$on("auth0.authenticated",function(){console.log("authLogin"),a.handle("authLogin")}),b.$on("auth0.logout",function(){console.log("authLogout"),a.handle("authLogout")}),b.$on("auth0.error",function(){console.log("authError"),a.handle("authError")}),b.$on("app.authenticated",function(){console.log("signed in"),a.handle("authLogin")}),b.$on("app.signout",function(){console.log("signed out"),a.handle("authLogout")})},namespace:"guru-auth",initialState:"uninitialized",states:{uninitialized:{"*":function(){this.deferUntilTransition(),this.transition("not-ready")}},"not-ready":{_onEnter:function(){console.log("Entered state: Not ready"),H(),E(),D()},fbAuthLost:"not-ready",authLogin:"readying",fbAuth:"readying"},readying:{_onEnter:function(){console.log("Entered state: Readying"),G(this),D()},fbLoadComplete:"ready",fbLoadError:"not-ready",fbAuthLost:"readying",authLogout:"not-ready"},ready:{_onEnter:function(){console.log("Entered state: Ready"),F(),D()},fbAuthLost:"readying",authLost:"not-ready",authLogout:"not-ready"}},start:function(){var a=!!e.getAccessToken(),b=a?"readying":"not-ready";this.transition(b)}});return a.start(),a}var L=[],M=[],N=[],O=[],P=null,Q={onReadying:r,onNotReady:s,onReady:t,onAuthStateChange:q,cancelOnAuthStateChange:x,cancelOnReady:y,cancelOnReadying:z,cancelOnNotReady:A,getAuthState:n,isReady:u,isNotReady:w,isReadying:v};return function(){P=K(),j(P)}(),Q}a.$inject=["$q","$rootScope","$state","authService","authTokenService","firebaseAuthService","firebaseTokenService","utilsService","appConfig"],angular.module("app.core").factory("guruAuthService",a)}(),function(){"use strict";function a(a){function b(){var b=a.location.origin;return[{userId:"linkedin|9k1sAi8dfa",url:"ryan",hasCourses:!0,showOnGuruPage:!0,featured:!0,name:"Ryan Kroonenburg",title:"Founder",picture:b+"/images/profiles/ryan.png",description:"Ryan is the first person to be recognized as both an AWS Community Hero and an Alexa Champion; and so far, over 135,000 students have taken his AWS Certified Solutions Architect Associate course.",bio:"Ryan is the first person to be recognized as both an AWS Community Hero and an Alexa Champion; and so far, over 135,000 students have taken his AWS Certified Solutions Architect Associate course. He loves being a cloud geek and enjoys sharing his knowledge with the community as an online educator. Ryan's courses are all cloud-based, and accommodate both absolute beginners and seasoned professionals. Feel free to connect with him on LinkedIn, where he frequently shares the latest from the Cloud.",videoUrl:"https://public.acloud.guru/marketing/instructor-bio/ryan-instructor-bio-720p.mp4",videoPosterUrl:"/images/instructors/ryan.jpg",twitter:"kroonenburgryan",linkedIn:"acloudguru"},{userId:"linkedin|S34fr_HZMt",url:"sam",hasCourses:!0,showOnGuruPage:!0,featured:!0,name:"Sam Kroonenburg",title:"Founder",picture:b+"/images/profiles/sam.jpg",description:"Sam is a founder of A Cloud Guru and leads the engineering team in building their unique training platform with innovative AWS serverless architectures. Sam previously worked at Microsoft and has run engineering teams of 40+ people.",bio:"As a founder of A Cloud Guru, Sam and has helped hundreds of thousands of engineers level-up their AWS skills. He leads the ACG engineering team in building their unique training platform with innovative AWS serverless architectures. Sam has an extensive software development background, having managed engineering teams of 30-40 people including developers, QA and UX. Previously he worked for Microsoft in both Seattle and Oslo. He was part of the Windows team, and owned the Disk Defragmenter for Windows Vista and Windows 7, and then moved to the FAST Search team.",videoUrl:"https://public.acloud.guru/marketing/instructor-bio/sam-instructor-bio-2-720p.mp4",videoPosterUrl:"/images/instructors/sam.jpg",twitter:"samkroon",linkedIn:"skroonenburg"},{userId:"google-oauth2|108908966131550629231",url:"nick",hasCourses:!0,showOnGuruPage:!0,featured:!0,name:"Nick Triantafillou",title:"Instructor",picture:"https://i.imgur.com/C3UsM0K.jpg",description:"Nick is a Cloud Engineer and Linux System Administrator and currently holds all 5 AWS Certifications, as well as LPIC1 and LPIC2. He has also written a few Alexa skills and was the co-author of the DevOps Professional Course.",bio:"Nick is a Cloud Engineer and Linux System Administrator who holds all 5 AWS Certifications, plus the LPIC1 and LPIC2 certifications. He's a co-author of our AWS Certified DevOps Professional Course and a prolific creator of Alexa skills.",videoUrl:"https://public.acloud.guru/marketing/instructor-bio/nick-instructor-bio-720p.mp4",videoPosterUrl:"/images/instructors/nick.jpg",twitter:"xelfer",linkedIn:"nicktriantafillou"},{userId:"auth0|570e4d3016f875f57ab9c494",url:"francis",hasCourses:!0,showOnGuruPage:!0,name:"Francis Pindar",title:"Instructor",picture:"https://pbs.twimg.com/profile_images/701807591844929536/iys-HRqs.jpg",description:"Francis is a Salesforce MVP, and holds both AWS and Salesforce certifications. He is asked to speak at events all across the globe including Salesforce's Dreamforce.",bio:"Francis is a Salesforce MVP, and holds both AWS and Salesforce certifications. A frequent guest speaker at IT conferences worldwide, including Salesforce's annual user and developer conference, Dreamforce. In March 2017,  Francis spoke at Serverlessconf Austin, where he shared his wealth of knowledge with the greater Serverless community. Prior to that, you may have seen Francis on the London stage or on film.",videoUrl:"https://public.acloud.guru/marketing/instructor-bio/francis-instructor-bio-720p.mp4",videoPosterUrl:"/images/instructors/francis.jpg",twitter:"radnip",linkedIn:"francisuk"},{userId:"auth0|582e5b027015fdea0785c8b4",url:"sanjay",hasCourses:!0,showOnGuruPage:!0,featured:!0,name:"Sanjay Kotecha",title:"Instructor",picture:b+"/images/profiles/sanjay.png",description:"Sanjay can boast of being the only A Cloud Guru instructor to have spent three and a half years working for AWS, where he was an author of the Storage Options in the AWS Cloud white paper used in our Associate-level courses.",bio:"Sanjay can boast of being the only A Cloud Guru instructor to have spent three and a half years working for AWS, where he was an author of the Storage Options in the AWS Cloud white paper used in our Associate-level courses. After 21 + years in the industry, he firmly believes that Cloud is making IT fun again, and he loves teaching Big Data to his customers and colleagues.",videoUrl:"https://public.acloud.guru/marketing/instructor-bio/sanja-instructor-bio-720p.mp4",videoPosterUrl:"/images/instructors/sanjay.jpg",twitter:"sanjaymkotecha",linkedIn:"kotechasanjay"},{userId:"google-oauth2|113096125960302279124",url:"warren",hasCourses:!0,showOnGuruPage:!0,name:"Warren Bell",title:"Instructor",picture:"",description:"Warren is a technology enthusiast who fell in love with Linux before it was cool. He’s spent over 15 years sharing this love as a technical instructor in sub-Saharan Africa and London.",bio:"Warren is a technology enthusiast who fell in love with Linux before it was cool. He’s spent over 15 years sharing this love as a technical instructor in sub-Saharan Africa and London.",videoUrl:"https://public.acloud.guru/marketing/instructor-bio/warren-instructor-bio-720p.mp4",videoPosterUrl:"/images/instructors/warren.jpg",twitter:null,linkedIn:"warrenbell"},{userId:"auth0|595e448e84402144b78b3e0e",url:"robin",hasCourses:!0,showOnGuruPage:!0,name:"Robin Norwood",title:"Instructor",picture:"",description:"",bio:"Robin has been a developer, product manager, and technical lead for more than 15 years at companies such as Rackspace and Red Hat. Most recently, Robin is developing Coding for the Cloud — a hands-on web series dedicated to building software in a modern day, serverless world.",videoUrl:"https://public.acloud.guru/marketing/instructor-bio/robin-instructor-bio-720p.mp4",videoPosterUrl:"/images/instructors/robin.jpg",twitter:"robinnorwood",linkedIn:"robin-norwood"},{userId:"google-oauth2|115779441025712164232",url:"mattias",hasCourses:!0,showOnGuruPage:!1,name:"Mattias Andersson",title:"Instructor",
picture:"",description:"",bio:"Mattias has held a variety of roles in software, since 2001 — including architecture, development, project management, security, training, mentoring, and team leadership. Mattias achieved all 5 AWS certifications in just 5 months, scoring over 90% on all of them. A prolific contributor on our forums, Mattias has a passion for helping others achieve certification success!",videoUrl:"",videoPosterUrl:"",twitter:"MattiasEh",linkedIn:"mattias-andersson"},{userId:"github|636610",url:"ryan-brown",hasCourses:!0,showOnGuruPage:!1,name:"Ryan Scott Brown",picture:"",description:"",bio:"Ryan Scott Brown runs serverlesscode.com, contributes to the Serverless Framework, and writes about using Lambda in applications, infrastructure automation, and data processing. Before becoming engrossed in all things serverless, Ryan spent several years building out AWS infrastructures for small to mid-sized companies using Ansible and other automation tools.",videoUrl:"",videoPosterUrl:"",twitter:"ryan_sb",linkedIn:"ryansbrown"}]}function c(){return[{name:"Alex Glover"},{name:"Andreas Wittig"},{name:"Fernando Hönig"},{name:"Julian Biddle"},{name:"Mattias Andersson"},{name:"Michael Wittig"},{name:"Nick Janetakis"},{name:"Oscar Merry"},{name:"Paul Wakeford"},{name:"Rowan Udell"},{name:"Ryan Scott Brown"},{name:"Stephen Wilding"}]}function d(){return["Allan Brown","Austin Wilshire","Beth Corba","Camilla Szymkiewicz","Dale Salter","Daniel Parker","Danielle Bechtel","Eamonn Laffey","Erik Brady","Erika Johansson","Hanh Nguyen","John McKim","Julian Pittas","Kash Khagram","Lis Vinueza","Marcus Yau","Mason Yarnell","Mattias Andersson","Neil Walker","Nicole Eggleton","Peter Hanssens","Peter Sbarski","Russell Lane","Sam Kroonenburg","Tait Brown"]}return{getProfiles:b,getHelpers:d,getGuestInstructors:c}}a.$inject=["$window"],angular.module("app.core").factory("guruProfileService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a,b,d,e){return c({method:a,url:n+b,headers:e||{"Content-Type":"application/json"},data:d||null})}function i(a,b){p.push(["trackEvent"],{id:a,value:b||null})}function j(a){var c=a;c||(c=b.url()),p.push(["setPath",c]),p.push(["trackPageView"])}function k(b){if(!b.email)return a.resolve();var c={auth_email:b.authEmail,company:b.organisation,jobtitle:b.jobTitle,email:b.email,user_handle:b.handle,firstname:b.name};return l(o,c)}function l(a,c){var f=e.get("hubspotutk");return h("POST","/submitForm",{formId:a,postData:g.extend({},c,{hs_context:{hutk:f,pageUrl:b.absUrl(),pageName:d.current.name}})})}function m(a,c){var f=e.get("hubspotutk");return h("POST","/submitWebseriesForm",{formId:a,postData:g.extend({},c,{hs_context:{hutk:f,pageUrl:b.absUrl(),pageName:d.current.name}})})}var n=f.api.hubspot,o=(f.hubspot.formsUrl,f.hubspot.portalId,f.hubspot.registerFormId),p=window._hsq=window._hsq||[];return{track:i,registerUser:k,page:j,submitForm:l,submitWebseriesForm:m}}a.$inject=["$q","$location","$http","$state","$cookies","appConfig","lodash"],angular.module("app.core").service("hubspot",a)}(),function(){"use strict";angular.module("app.core").factory("lambdaServiceConfig",["appConfig",function(a){var b=a.api;return{voteForQuestion:{url:b.forum+"/forum/question/vote",method:"POST"},voteForAnswer:{url:b.forum+"/forum/answer/vote",method:"POST"},createQuestion:{url:b.forum+"/forum/question",method:"POST"},updateQuestion:{url:b.forum+"/forum/question",method:"PUT"},createAnswer:{url:b.forum+"/forum/answer",method:"POST"},updateAnswer:{url:b.forum+"/forum/answer",method:"PUT"},correctAnswer:{url:b.forum+"/forum/answer/correct",method:"PUT"},deleteComment:{url:b.forum+"/forum/comment",method:"POST"},componentPublish:{url:b.course+"/component/publish",method:"POST"},clearUserActivity:{url:b.course+"/user/activity/clear",method:"POST"},requestRestrictedFiles:{url:b.api+"/course/request-restricted-file",method:"POST"},requestPolicyDocument:{url:b.api+"/course/instructor/request-upload-policy",method:"POST"},verifyExternalPurchase:{url:b.api+"/user/verify-external-purchase",method:"POST"},courseBrochurePublish:{url:b.api+"/course/brochure/publish",method:"POST"},organisationActivityQuery:{url:b.api+"/organisation/query-activity",method:"POST"},organisationMemberQuery:{url:b.api+"/organisation/query-members",method:"POST"}}}])}(),function(){"use strict";function a(a,b,c){function d(d,e){var f=c[d],g=f.url,h=f.method;return a({method:h,url:g,headers:{Authorization:"Bearer "+b.getAccessToken()},data:e})}return{run:d}}a.$inject=["$http","authTokenService","lambdaServiceConfig"],angular.module("app.core").factory("lambdaService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){if(window.Taxamo)l();else var a=setInterval(function(){window.Taxamo&&(clearInterval(a),l())},500)}function i(b){if(q&&(clearTimeout(q),q=null),null!==b||!p){var d=null,g=null,h=null;if(b&&b.countries){var i=b.countries.by_billing;null===i&&(i=b.countries.detected),null===i&&(i=b.countries.by_code),null===i&&(i=b.countries.by_ip),d=i.currency&&i.currency.length>0?i.currency[0].toUpperCase():null,g=i.code?i.code.toUpperCase():null}a.taxamo.overrides&&(d=a.taxamo.overrides.currencyCode,g=a.taxamo.overrides.countryCode);var j=e.search();if(j.currency&&"string"==typeof j.currency)d=j.currency.toUpperCase(),f.set(c.QUERY_STRING_CURRENCY_OVERRIDE,d);else{var k=f.get(c.QUERY_STRING_CURRENCY_OVERRIDE);k&&(d=k)}if(j.country&&"string"==typeof j.country)g=j.country.toUpperCase(),f.set(c.QUERY_STRING_COUNTRY_OVERRIDE,g);else{var l=f.get(c.QUERY_STRING_COUNTRY_OVERRIDE);l&&(g=l)}console.log("Detected as country "+g+" and currency "+d),h=g,a.supported_currencies.indexOf(d)<0&&(console.log("Falling back to default currency and country"),d=a.default_currency,g=a.default_country),h||(h=g);var m=c.CURRENCY_SYMBOLS[d],n={countryCode:g,userCountryCode:h,currencyCode:d,currencySymbol:m};o.resolve(n)}}function j(b){return a.supported_currencies.indexOf(b)<0?a.default_currency:b}function k(a){d.track("currency-"+a.currencyCode,{currencyCode:a.currencyCode,countryCode:a.countryCode})}function l(){Taxamo.initialize(g.publicToken),Taxamo.subscribe("taxamo.country.detected",i),q=setTimeout(function(){i(null)},9e3),Taxamo.options.hideCountryOverlay=!0,Taxamo.setCurrencyCode("USD"),Taxamo.detectCountry()}function m(){return o.promise}var n={getLocationInfo:m,getSupportedCurrency:j,trackCurrencyInAnalytics:k,initialise:h},o=b.defer(),p=!1,q=null;return h(),n}a.$inject=["appConfig","$q","coreConstants","analyticsService","$location","localStorageService","taxamoConfig"],angular.module("app.core").factory("locationDetectionService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(a){var b={orgId:a};return j.sendQuery("query getOrganisationByIdFromGraphql($orgId: String!) { admin { organisation(orgId: $orgId) { marketplaceSubscription { userLicenseCount, endDate } } } }",b).then(function(a){return e.get(a,"data.admin.organisation")||{}}).catch(function(a){var b=e.get(a,"errors",new Error("Unable to retreive organisation information"));return f.reject(b)})}function m(a){return k.getRoles(a).then(function(b){return b.acgAdmin?n(a).then(function(a){return e.get(a,"data.admin.organisation.points.balance")||0}):b.orgAdmin?o().then(function(a){return e.get(a,"data.profile.organisation.points.balance")||0}):0})}function n(a){return j.sendQuery("query organisation($orgId: String!) {                 admin {                                                    organisation(orgId: $orgId) {                              id                                                     points {                                                       balance                                            }                                                  }                                                  }                                                  }",{orgId:a})}function o(){return j.sendQuery("query profile {                            profile {                                   organisation {                              id                                      points {                                    balance                             }                                   }                                   }                                   }")}function p(a){var b={orgId:a};return j.sendQuery("query organisation($orgId: String!) {                      admin {                                                   organisation(orgId: $orgId) {                             id                                                      points {                                                  purchases {                                               id                                                      amount                                                  description                                             createdTimestamp                                        purchaseDate                                          }                                                     }                                                     }                                                     }                                                     }",b).then(function(a){var b=e.get(a,"data.admin.organisation.points.purchases"),c=[];return b&&b.map(function(a){var b=a.id;delete a.id,c.push(e.assign({},a,{$id:b}))}),c}).catch(function(b){var c=e.get(b,"errors",new Error("Unable to retrieve points purchase history for org with id: "+a));return f.reject(c)})}function q(a,b,c){return z.child("organisations").child("data").child(a).child("roles").child(c).child(b).set(!0)}function r(a,b,c){return z.child("organisations").child("data").child(a).child("roles").child(c).child(b).remove()}function s(a,b){b.search.predicateObject=JSON.stringify(b.search.predicateObject);var c={orgId:a,queryOpts:b};return j.sendQuery("query MemberActivity($orgId: String!, $queryOpts: QueryOptsInput!) { queryMemberActivity(orgId: $orgId,  queryOpts: $queryOpts) { data {rownum, courseId, courseTitle, overallProgress, lessonsPercentage, quizzesPercentage, lessonsCompleted, quizzesCompleted, userId, displayName, fullName, organisationId, companyName,lastActivity}, totalCount }}",c).then(function(a){if(!a||null===a.data)return f.reject(a&&a.data?a.errors:null);for(var b=0;b<a.data.queryMemberActivity.data.length;b++)a.data.queryMemberActivity.data[b].lastActivity=parseInt(a.data.queryMemberActivity.data[b].lastActivity);return{data:a.data.queryMemberActivity.data,totalCount:a.data.queryMemberActivity.totalCount}}).catch(function(a){return f.reject(a)})}function t(a,b){return i.run("organisationMemberQuery",{organisationId:a,queryOpts:b}).then(function(a){return!a||a.data&&a.data.errorMessage?f.reject(a&&a.data?a.data.errorMessage:null):{data:a.data.data,totalCount:a.data.totalRowCount}}).catch(function(a){return f.reject(a)})}function u(a){return f.when(null).then(function(){return h.createOrganisation({name:a.name}).then(function(a){return a})})}function v(a,b){return console.log("Checking domains for org",a),b=e.filter(b,function(a){return!!a}),f.all(e.map(b,function(b){return h.getOrganisationByDomain(b).then(function(c){var d=c.$value;return d&&d!==a.$id?b:null})})).then(function(a){return e.filter(a,function(a){return!!a})})}function w(a,b){var c=e.filter(b,function(a){return!!a}),d={input:{orgId:a.$id,name:a.name,chargeModel:a.chargeModel,website:a.website,domains:c,features:{enhancedSyllabus:a.enhancedSyllabus,requireEmployeeId:a.requireEmployeeId,restrictForumAccess:a.restrictForumAccess,restrictSocial:a.restrictSocial,requireStudentId:a.requireStudentId,restrictProfileEdit:a.restrictProfileEdit,enableTeams:a.enableTeams},reporting:a.reporting,subscription:{endDate:a.subscriptionEndDate,startDate:a.subscriptionStartDate,userLicenseCount:a.subscriptionUserLicenseCount}}};return j.sendQuery("mutation updateOrganisation($input: UpdateOrganisationInput) {                    updateOrganisation(input: $input) {                        organisation {                            id                        }                    }                }",d)}function x(a,b){var c={orgId:a};return j.sendQuery("mutation createCode($orgId: String!) { createOrganisationJoinCode(orgId: $orgId) { code }}",c).then(function(a){return a.data.createOrganisationJoinCode.code}).catch(function(a){return f.reject(a)})}function y(a,b){var c={orgId:a,code:b};return j.sendQuery("mutation removeCode($orgId: String!, $code: String!) { removeOrganisationJoinCode(orgId: $orgId, code: $code) { result } }",c).catch(function(a){return f.reject(a)})}var z=new Firebase(c.firebase_url);return{getOrganisationByIdFromGraphql:l,saveOrganisation:w,createOrganisation:u,getDomainsInOtherOrgs:v,getPointsPurchaseHistory:p,getPointsBalance:m,createNewJoinCode:x,removeJoinCode:y,grantRoleForUser:q,revokeRoleForUser:r,queryMemberActivity:s,queryMembers:t}}a.$inject=["$firebaseArray","utilsService","appConfig","productService","lodash","$q","promotionService","organisationService","lambdaService","graphqlService","roleService"],angular.module("app.core").factory("organisationAdminService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){x().then(function(a){a.map(function(a){j.updateUserCompany(h.getUserId(),a.$id,a.name)})})}function p(){A().then(function(b){b&&"subscription"===b.chargeModel&&a.$emit("clearCart")})}function q(a){return m.sendQuery("mutation createOrg($name: String) {                                createOrganisation(input: { name: $name }) {                        organisation {                                                      id                                                          }                                                           }                                                           }",{name:a.name}).then(function(a){return f.get(a,"data.createOrganisation.organisation.id")})}function r(){return m.sendQuery("query { profile { organisation { marketplaceSubscription { userLicenseCount, endDate } } } }").then(function(a){return f.get(a,"data.profile.organisation")||{}}).catch(function(a){var c=f.get(a,"errors",new Error("Unable to retreive organisation information"));return b.reject(c)})}function s(a){if(!a)return{};var b={orgDomain:a};return m.sendQuery("query organisation($orgDomain: String!) {                              admin {                                                                 organisation(orgDomain: $orgDomain) {                                   id                                                              }                                                               }                                                               }",b).then(function(b){var c=f.get(b,"data.admin.organisation.id");return f.assign({},{$id:btoa(a)},{$value:c})})}function t(a){return c(E.child("organisations").child("data").child(a)).$loaded()}function u(){return e(E.child("organisations").child("data")).$loaded()}function v(){if(null!==G)return G;return G=m.sendQuery("query { profile { organisation { hasMembership }}}",null,!0,!1).then(function(a){return f.get(a,"data.profile.organisation.hasMembership")}).catch(function(){return!1})}function w(){return g.hasLoaded.promise.then(function(){return x()})}function x(){return g.data&&g.data.organisations?b.all(f(g.data.organisations).keys().map(function(a){return t(a)}).value()):b.when([])}function y(){return x().then(function(a){var b=!1;return angular.forEach(a,function(a){a.enhancedSyllabus&&(b=!0)}),b})}function z(){return w().then(function(a){var b=!1;return angular.forEach(a,function(a){a.restrictForumAccess&&(b=!0)}),b})}function A(){return g.hasLoaded.promise.then(function(){return B().then(function(a){return f.head(a)||null})})}function B(){var a=k.getBrand();return x().then(function(b){return f.filter(b,function(b){return!!b.brands&&b.brands.lastIndexOf(a)>=0})})}function C(){return x().then(function(a){return f(a).filter(function(a){return a.roles&&a.roles.administrator&&!0===a.roles.administrator[h.getUserId()]}).value()})}function D(a,c,d){var e={orgId:a,token:d};return m.sendQuery("mutation OrgQuery($orgId: String!, $token: String!) { addUserToOrganisation(orgId: $orgId, token: $token) { userId, organisationId } }",e).then(function(a){return a&&a.data&&!a.data.errorMessage?(j.updateUserCompany(a.data.addUserToOrganisation.userId,a.data.addUserToOrganisation.organisationId,c),a.data):b.reject(a&&a.data?a.data.errorMessage:null)}).catch(function(a){return b.reject(a)})}var E=new Firebase(d.firebase_url),F={},G=null,H={createOrganisation:q,getUserHasOrganisationMembership:v,getOrganisationFromGraphql:r,getOrganisationByDomain:s,getOrganisationById:t,getOrganisations:u,getUserOrganisationMembership:A,getUserOrganisationMemberships:x,getUserOrganisationMembershipsSafe:w,getUserOrganisationMembershipsForCurrentBrand:B,joinCurrentUserToOrganisation:D,getUserOrganisationAdminMemberships:C,userHasEnhancedSyllabus:y,userForumIsRestricted:z};return i.onReady(function(){o(),p()}),i.onNotReady(function(){F={},G=null}),i.onReadying(function(){G=null}),H}a.$inject=["$rootScope","$q","$firebaseObject","appConfig","$firebaseArray","lodash","profileService","authService","guruAuthService","analyticsService","brandService","lambdaService","graphqlService","roleService"],angular.module("app.core").factory("organisationService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){return b.when().then(function(){return l.child("prices/byProduct").once("value")}).then(function(a){return a.exists()?d.map(a.val(),function(a,b){return a.id=b,a}):[]})}function h(a){return b.when().then(function(){return l.child("prices/byProduct").child(a).once("value")}).then(function(b){if(!b.exists())return null;var c=b.val();return c.id=a,c})}function i(a,b){var c=d.pick(b,["isVisible","isActive","isMembersOnly","isOrganisationOnly","isFeatured","includesPracticeExams","includesQuizzes","title","upsellBundleId","upsellBundleId2","prices","type","duration","artworkKey","ctaTitle","ctaFooter","description","shortSummary","previewVideoUrl","previewVideoPosterUrl","bundleCourseDescription","vendors","topics","primaryTopic","roles","skillLevels","services","authors","prerequisites","audience","requirements","outcomes","url"]);return e.sendQuery("mutation updateProduct($id: String!, $product: UpdateProductInput!) {updateProduct(id: $id, product: $product) {id}}",{id:a,product:c}).then(function(a){return a.data.updateProduct.id})}function j(a){if(!a.sku)return b.reject("SKU must be provided");if(!a.title)return b.reject("Title must be provided");if(!a.id)return b.reject("Product ID must be provided");if(!f.isValidFirebaseKey(a.id))return b.reject("Product ID cannot contain characters . $ # [ ] or /");if(a.id.lastIndexOf(" ")>=0)return b.reject("Product ID cannot contain whitespace");var c={title:a.title||null,sku:a.sku,courses:a.courses,type:a.courses.length>1?"bundle":"course",brand:a.brand,id:a.id.toLowerCase()};return e.sendQuery("mutation createProduct($product: CreateProductInput!) {createProduct(product: $product) {id}}",{product:c}).then(function(a){return a.data.createProduct.id})}function k(a){return e.sendQuery("mutation updateSetProductWeight($productWeightInputs: [ProductWeightInput!]!) {updateSetProductWeight(productWeightMap: $productWeightInputs)}",{productWeightInputs:a}).then(function(a){return a.data&&a.data.updateSetProductWeight})}var l=new Firebase(a.firebase_url);return{getProducts:g,getProductById:h,saveProduct:i,createProduct:j,updateProductWeights:k}}a.$inject=["appConfig","$q","coreConstants","lodash","graphqlService","utilsService"],angular.module("app.core").factory("productAdminService",a)}(),function(){"use strict";function a(a,b,c,d){function e(a){return h({isActive:!0,types:{courses:!0,bundles:!0},filters:{url:a}}).then(function(a){return c.head(a.hits)})}function f(a){var b={query:null,filters:null,hitsPerPage:10,isActive:null,isFeatured:null,isVisible:null,objectID:null,page:0,types:{courses:!0,bundles:!0}},d=c.assign(b,a);return h({page:d.page,hitsPerPage:d.hitsPerPage,isFeatured:d.isFeatured,isActive:d.isActive,isVisible:d.isVisible,types:d.types,filters:d.filters})}function g(a,b){return a.push(b),a}function h(a){var b={query:null,filters:null,hitsPerPage:10,isActive:null,isFeatured:null,isVisible:null,objectID:null,isOrganisationOnly:null,page:0,types:{courses:!0,bundles:!0}},e=c.assign(b,a),f=[];if(e.objectID&&(f=g(f,["objectID:"+e.objectID])),!0!==e.isFeatured&&!1!==e.isFeatured||(f=g(f,["isFeatured:"+e.isFeatured])),e.types.courses&&e.types.bundles){f=g(f,["type:course","type:bundle"])}return e.types.courses&&!1===e.types.bundles&&(f=g(f,["type:course"])),e.types.bundles&&!1===e.types.courses&&(f=g(f,["type:bundle"])),c.isBoolean(e.isActive)&&(f=g(f,["isActive:"+e.isActive])),c.isBoolean(e.isVisible)&&(f=g(f,["isVisible:"+e.isVisible])),c.isBoolean(e.isOrganisationOnly)&&(f=g(f,["isOrganisationOnly:"+e.isOrganisationOnly])),e.filters&&c.forEach(e.filters,function(a,b){f=g(f,[b+":"+a])}),d.search("products",e.query,{facetFilters:f,attributesToRetrieve:["*"],hitsPerPage:e.hitsPerPage,page:e.page})}function i(a){return h({objectID:a,isActive:!0}).then(function(a){return c.head(a.hits)})}return{searchProducts:h,getActiveProductById:i,getProductByUrl:e,getProducts:f}}a.$inject=["appConfig","$q","lodash","searchService"],angular.module("app.core").service("productMetaDataService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){F={}}function p(a,b,c){b=b||{},c=c||!1;var e=(b.userPromoCodeIds||[]).concat(m.getPromoCodeValues());return q(a,d.assign({},b,{userPromoCodeIds:e}),c)}function q(a,b,c){return b=b||{},c=c||!1,s(d.assign({},b,{selectProducts:[a]}),c).then(d.toArray).then(d.head)}function r(a,b){a=a||{},b=b||!1;var c=(a.userPromoCodeIds||[]).concat(m.getPromoCodeValues());return s(d.assign({},a,{userPromoCodeIds:c}),b)}function s(b,c){function e(e){var f={selectProducts:null,userCurrency:e.currencyCode.toLowerCase(),userPromoCodeIds:[],activeOnly:!0,filterMembersOnly:!1},h=d.assign({},f,b),i=B(h);if(F[i]&&!c)return F[i];var j=["query getUserProductPrices($userPromotion: String, $userPromoCodeIds: [String!], $userCurrency: String, $visibleOnly: Boolean, $filterMembersOnly: Boolean, $selectProducts: [String!], $activeOnly: Boolean) {","getUserProductPrices(userPromotion: $userPromotion, userCurrency: $userCurrency, visibleOnly: $visibleOnly, filterMembersOnly: $filterMembersOnly, userPromoCodeIds: $userPromoCodeIds, selectProducts: $selectProducts, activeOnly: $activeOnly) {","title","invoiceDescription","summary","statementDescriptor","isVisible","isActive","id","sku","checkoutMessage","upsellBundleId","upsellBundleId2","discountText","courseIds","artworkKey","type","isMembersOnly","price {","price","standardPrice","currency","currencySymbol","showPrice","isDiscount","discountedBy","discountPromoCodeId","upsell","}","availablePromoCodes {","userPromoCode {","...promoCodeFrag","}","promotion {","...promoCodeFrag","}","}","}","}","fragment promoCodeFrag on PromoCode {","promoCodeId","promoCodeObj {","remainingQuantity","originalQuantity","description","publicSubtitle","publicTitle","hasExpired","prices {","price","currency","currencySymbol","}","}","}"].join("\n");return F[i]=g.sendQuery(j,h,!0).then(function(b){return b&&b.data&&!b.data.errorMessage?d.keyBy(b.data.getUserProductPrices,"id"):a.reject(b&&b.data?b.data.errorMessage:null)})}return b=b||{},c=c||!1,i.getLocationInfo().then(e)}function t(a){if(!a&&D&&E)return D;var c=C.child("prices").child("byProduct"),d=b(c);return d.$loaded(function(a){E=!0}),D=d,d}function u(){return c(C.child("promo-codes").orderByChild("bulk").endAt(!1))}function v(a){return C.child("promo-codes").child(a).once("value").then(function(a){return a.val()})}function w(b,c){var d=C.child("promo-codes").child(b),e=a.defer();return d.set(c,function(a){e.resolve(a?null:c)}),e.promise}function x(a,b,c,e,f){return C.child("promo-codes").child(a).once("value").then(function(a){var g=a.val(),h=angular.extend({},g,c);if(e&&(h.remainingQuantity=h.originalQuantity),null!==f&&void 0!==f){var i=parseFloat(f);d.forEach(d.keys(h.prices),function(a){h.prices[a].price=Math.round(parseFloat(h.prices[a].price)*i/100)})}return C.child("promo-codes").child(b).set(h)})}function y(c){if(!c){var d=a.defer();return d.resolve(null),d.promise}var f=C.child("promo-codes").child(c);return b(f).$loaded(function(a){if(!a||null===a.$value)return null;var b=a&&(a.remainingQuantity<=0||1e3*a.expires<(new Date).getTime());return i.getLocationInfo().then(function(c){var d=c.currencyCode,f=c.currencySymbol;return a.usePoints&&(d=e.POINTS_CURRENCY,f=e.CURRENCY_SYMBOLS[d]),a.prices[d.toLowerCase()]||(d=n.default_currency,f=e.CURRENCY_SYMBOLS[d]),{price:{price:a.prices[d.toLowerCase()].price,currency:d,currencySymbol:f},usePoints:a.usePoints,description:a.description,publicTitle:a.publicTitle,publicSubtitle:a.publicSubtitle,remainingQuantity:a.remainingQuantity,expired:b,expires:a.expires?1e3*parseInt(a.expires,10):null,products:a.products}})})}function z(b,c,e,f){return c.match(/[.$[\]#]/)?a.reject("The code entered contains one of the following invalid characters: . $ [ ] #"):h.getPromotion(b).then(function(b){console.log(b);var g=d.uniq(d.values(b.products)),i=d.keys(b.products);return a.all(d.map(g,function(a){console.log("Duplicate promo code ",a);var b=(c+"-pc-"+j.makeRandomAlphaNumeric(10)).toLowerCase();return x(a,b,{description:f||""},!0,e).then(function(){return{newPromoCode:b,oldPromoCode:a}})})).then(function(a){return b={active:!0,description:f||"",products:d.zipObject(i,d.map(i,function(c){return d.find(a,{oldPromoCode:b.products[c]}).newPromoCode}))},h.savePromotion(c,b)})}).then(function(){return h.getPromotionObject(c)})}function A(a,b){return b=!!b,C.child("prices").child("byProduct").child(a).update({isActive:b})}function B(a){return j.convertToHash(JSON.stringify(a))}var C=new Firebase(n.firebase_url),D=null,E=!1,F={},G={getProducts:t,getPromoCodes:u,savePromoCode:w,getPromoCode:y,getPromoCodeRaw:v,duplicatePromoCode:x,duplicatePromotion:z,setProductActiveStatus:A,getUserProductPrice:q,getUserProductPriceWithCartPromoCodes:p,getUserProductPrices:s,getUserProductPricesWithCartPromoCodes:r};return function(){f.onReady(o),f.onNotReady(o)}(),G}a.$inject=["$q","$firebaseObject","$firebaseArray","lodash","coreConstants","guruAuthService","graphqlService","promotionService","locationDetectionService","utilsService","courseService","courseMetadataService","promoCodeService","appConfig"],angular.module("app.core").factory("productService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){F.isLoading=!0;var a=k.getUserId();f.isSuperAdmin(a).then(function(a){F.roles.superadmin=a}),f.isAdmin(a).then(function(a){F.roles.admin=a}),f.isEditor(a).then(function(a){F.roles.editor=a}),f.isModerator(a).then(function(a){F.roles.moderator=a}),f.isInstructor(a).then(function(a){F.roles.instructor=a}),g.isInMembershipBeta(a).then(function(a){F.roles.membershipBeta=a});var c=b(B.child("users").child("data").child(a).child("profile")),e=c.$loaded().then(function(b){return d.registerUser({userId:a,authEmail:k.getProfile().email,userEmail:b.email,fullName:b.name,createdTimestamp:b.createdTimestamp,organisation:b.public.organisation,jobtitle:b.public.jobtitle,userHandle:b.public.handle}),i.trackCampaign(),c}),h=p().then(function(a){a&&(C=!0===a.isRegistered,D=!1===a.emailVerified&&!0===a.emailVerificationRequired)});l.all([e,h]).then(function(a){F.data=a[0],F.isLoaded=!0,F.isLoading=!1,x()}).then(F.hasLoaded.resolve)}function o(){F.isLoading=!1,F.isLoaded=!1,F.data=null,F.roles.admin=!1,F.roles.moderator=!1,C=null,D=null,E=null,F.hasLoaded=l.defer(),d.registerLogout()}function p(){var a=k.getUserId();return m.sendQuery("query GetUser($userId: String!) { getUserProfile(userId: $userId) { userId, organisationId, isMember, membershipStartDate, isRegistered, emailVerified, emailVerificationRequired, displayname, name, email, picture, bio, employeeId, employer, jobTitle, twitterUrl, githubUrl, facebookUrl, linkedinUrl,legacyVideoDownload }  }",{userId:a}).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.getUserProfile:l.reject(a&&a.data?a.data.errorMessage:null)})}function q(){var a=k.getUserId();return m.sendQuery("query GetHandle($userId: String!) { getUserHandle(userId: $userId) { handle } }",{userId:a}).then(function(a){if(!a||!a.data||a.data.errorMessage)return l.reject(a&&a.data?a.data.errorMessage:null);var b=a.data.getUserHandle;return b?b.handle:null})}function r(){if(E)return E;var a=k.getUserId();return E=m.sendQuery("query GetUser($userId: String!) {    getUserHandle(userId: $userId) {       handle   }   getUserProfile(userId: $userId) {         userId        organisationId        isRegistered        isMember        membershipStartDate        displayname        givenName        familyName        name        email        picture        bio        employeeId        employer        jobTitle        twitterUrl        githubUrl        facebookUrl        linkedinUrl   }}",{userId:a}).then(function(a){if(!a||!a.data||a.data.errorMessage)return l.reject(a&&a.data?a.data.errorMessage:null);var b=a.data.getUserProfile,c=a.data.getUserHandle;return b.handle=c?c.handle:null,b}),E.catch(function(){E=null}),E}function s(a){var b=l.defer();return B.child("users").child("data").child(k.getUserId()).child("profile").child("settings").update(a,function(c){b.resolve(c?null:a)}),b.promise}function t(a){var b={user:{displayname:a.displayname,name:a.name,email:a.email,picture:a.picture,bio:a.bio,employeeId:a.employeeId,employer:a.employer,jobTitle:a.jobTitle,twitterUrl:a.twitterUrl,githubUrl:a.githubUrl,facebookUrl:a.facebookUrl,linkedinUrl:a.linkedinUrl}};return m.sendQuery("mutation UpdateUser($user: UserInput!) { updateUserProfile(user: $user) { errors { messages { key, message} }, user { userId, organisationId, displayname, name, email, picture, bio, employeeId, employer, jobTitle, twitterUrl, githubUrl, facebookUrl, linkedinUrl } } }",b).then(function(b){if(!b||!b.data||b.data.errorMessage)return l.reject(b&&b.data?b.data.errorMessage:null);var c=b.data.updateUserProfile;if(c.errors)return l.reject({type:"handled",messages:c.errors.messages});var e=c.user;return d.updateUser({userId:e.userId,authEmail:k.getProfile().email,userEmail:e.email,fullName:e.name,displayname:e.displayname,organisation:a.employer,jobTitle:a.jobTitle}),E=null,e})}function u(a,b,c){var e={handle:a,user:{displayname:b.displayname,name:b.name,email:b.email,picture:b.picture,bio:b.bio,employeeId:b.employeeId,employer:b.employer,jobTitle:b.jobTitle,twitterUrl:b.twitterUrl,githubUrl:b.githubUrl,facebookUrl:b.facebookUrl,linkedinUrl:b.linkedinUrl,registrationMethod:c||null}};return m.sendQuery("mutation RegisterUser($handle: String!, $user: UserInput!) { registerUser(user: $user, handle: $handle) { errors { messages { key, message} }, user { userId, organisationId, displayname, name, email, picture, bio, employeeId, employer, jobTitle, twitterUrl, githubUrl, facebookUrl, linkedinUrl, isRegistered } handle { handle } } }",e).then(function(c){if(!c||!c.data||c.data.errorMessage)return l.reject(c&&c.data?c.data.errorMessage:null);var e=c.data.registerUser;if(e.errors)return l.reject({type:"handled",messages:e.errors.messages});var f=e.user;return C=e.user.isRegistered,d.updateUser({userId:f.userId,authEmail:k.getProfile().email,userEmail:f.email,fullName:f.name,organisation:b.employer,jobTitle:b.jobTitle,userHandle:a,displayname:f.displayname}),E=null,f})}function v(a){return a?a.length<2||a.length>20?{error:!0,message:"Your handle must be between 2 and 20 characters in length"}:/^[\w\-]{2,20}$/.test(a)?{error:!1}:{error:!0,message:"Your handle can only contain letters, numbers, _ and -"}:{error:!0,message:"A handle is required"}}function w(a){var b={handle:a}
;return m.sendQuery("mutation UpdateUser($handle: String!) { updateUserHandle(handle: $handle) { errors { messages { key, message} }, handle { handle } } }",b).then(function(a){if(!a||!a.data||a.data.errorMessage)return l.reject(a&&a.data?a.data.errorMessage:null);var b=a.data.updateUserHandle;return b.errors?l.reject({type:"handled",messages:b.errors.messages}):(E=null,b.handle)})}function x(){var a=F.shouldAllowRedirectsForState(e.current,h);if(F.data&&a){if(!0===D)return e.go("public.emailVerification",{emailAddress:F.data.email});if(!1===C)return e.go("public.register",{successUrl:h.successUrl})}}function y(a,b){var c=a.data&&("purchase"===a.data.loginCategory||"membership-signup"===a.data.loginCategory),d="purchase"===b.loginCategory,e=a.data&&"legal"===a.data.loginCategory,f="public.emailVerificationSuccess"===a.name;return!(c||d||e||f)}function z(){return m.sendQuery("mutation { sendVerificationEmail { status } }",{},!1).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.sendVerificationEmail.status:l.reject(a&&a.data?a.data.errorMessage:null)})}function A(a,b){var c=a;return c.indexOf("gravatar.com")>=0&&(c=c+"?size="+b),c}var B=new Firebase(c.firebase_url),C=null,D=null,E=null,F={isLoaded:!1,isLoading:!1,hasLoaded:l.defer(),loadUserProfile:n,ensureRegistered:x,shouldAllowRedirectsForState:y,roles:{superadmin:!1,admin:!1,moderator:!1,membershipBeta:!1},data:null,getProfile:p,getHandle:q,getProfileAndHandle:r,saveSettings:s,updateProfile:t,registerProfile:u,validateHandle:v,setHandle:w,sendVerificationEmail:z,handleProfileImage:A};return function(){a.onReadying(function(){f.onRolesLoaded(function(){n()})}),a.onNotReady(o)}(),F}a.$inject=["guruAuthService","$firebaseObject","appConfig","analyticsService","$state","roleService","betaService","$stateParams","campaignService","utilsService","authService","$q","graphqlService"],angular.module("app.core").factory("profileService",a)}(),function(){"use strict";function a(a,b){function c(a,b){i[a]=b,e()}function d(a){var b=i[a];return delete i[a],e(),b}function e(){b.set("user_promo_code",i)}function f(){return b.get("user_promo_code")||{}}function g(){return a.values(f())}function h(){i={},e()}var i={},j={addPromoCode:c,removePromoCode:d,persistPromoCodes:e,getPromoCodes:f,getPromoCodeValues:g,clear:h};return function(){i=f()}(),j}a.$inject=["lodash","localStorageService"],angular.module("app.core").factory("promoCodeService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){return j(v.child("promotions").child("byCode"))}function o(){return e(v.child("promotions/byDefault"))}function p(a,c){var d=v.child("promotions").child("byCode").child(a),e=_.clone(c);e.products=_.omitBy(e.products,_.isUndefined);var f=b.defer();return d.set(e,function(a){f.resolve(a?null:c)}),f.promise}function q(){var a=o().$loaded().then(function(a){a.id});return c.isNotReady()?a:h.hasLoaded.promise.then(function(){m.getBrand();return k.getUserOrganisationMembershipsForCurrentBrand().then(function(b){var c=i(b).filter(function(a){return!!a.promotion}).map(function(a){return a.promotion}).uniq().value();return i.head(c)||a})})}function r(){w=null}function s(){if(w)return w;var a=q().then(u);return a.then(function(a){if(!a||a&&!a.active)return f.remove(d.PROMOTION_ID_NAME),q().then(u)}),w=a,c.onAuthStateChange(function(){w=!1}),a}function t(a){return v.child("promotions").child("byCode").child(a).once("value").then(function(a){return a.val()})}function u(a){if(!a)return b.when(null);var c=v.child("promotions").child("byCode").child(a);return e(c).$loaded().then(function(a){return a&&null!==a.$value?a:null})}var v=new Firebase(a.firebase_url),w=null;return{getPromotions:n,savePromotion:p,getCurrentPromotionId:q,getCurrentPromotion:s,getPromotion:u,clearCachedPromotion:r,getPromotionObject:t}}a.$inject=["appConfig","$q","guruAuthService","coreConstants","$firebaseObject","localStorageService","$location","profileService","lodash","$firebaseArray","organisationService","utilsService","brandService"],angular.module("app.core").factory("promotionService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return o[a]}function h(b){var c={handle:b};return f.sendQuery("query User($handle: String!) { getUserProfileByHandle(handle: $handle) {userId, displayname, picture, bio, employer, jobTitle, isMember, membershipStartDate, twitterUrl, githubUrl, facebookUrl, linkedinUrl } }",c,!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getUserProfileByHandle:a.reject(b&&b.data?b.data.errorMessage:null)})}function i(b){return f.sendQuery("query GetUser($userId: String!) { getUserProfile(userId: $userId) { userId,organisationId,isMember, membershipStartDate, isRegistered,emailVerified,emailVerificationRequired,displayname,name,email,picture,bio,employeeId,employer,jobTitle,twitterUrl,githubUrl,facebookUrl,linkedinUrl}}",{userId:b}).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getUserProfile:a.reject(b&&b.data?b.data.errorMessage:null)})}function j(b,c){var e={userIds:b};return f.sendQuery(["query User($userIds: [String!]!) {","   getUserProfileBatch(userIds: $userIds) {","       userId","       displayname","       picture","       bio","       employer","       jobTitle","       twitterUrl","       githubUrl","       facebookUrl","       linkedinUrl","       isMember","       membershipStartDate","       voteSum","       tagVoteSums {","           tagId","           voteSum","       }","   }","   getUserHandleBatch(userIds: $userIds) {","       handle","   }","}"].join("\n"),e,!0).then(function(b){if(!b||!b.data||b.data.errorMessage)return a.reject(b&&b.data?b.data.errorMessage:null);var c=b.data.getUserProfileBatch,e=b.data.getUserHandleBatch;return d.unzipWith([c,e],function(a,b){return a?d.assign({},a,b||{}):null})})}function k(b){return b?a.when(n.load(b)):a.when(null)}function l(a){var b=m.child("users").child("data"),d=b.orderByChild("voteSum");return c(d.limitToLast(a))}var m=new Firebase(e.firebase_url),n=new DataLoader(j),o={};return{getProfile:i,getUserIdForDisplayName:g,getProfileObjectForHandle:h,getProfileObjectFor:k,getMostPopularProfiles:l}}a.$inject=["$q","$firebaseObject","$firebaseArray","lodash","appConfig","graphqlService"],angular.module("app.core").factory("publicProfileService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(a,b,c){var d=i.getGoogleAnalyticsClientId();d&&(a.gaClientId=d),h.post("checkout","payment/cart",a).success(function(d,e){if(!d)return void c({message:"Unexpected response"});b(d),j.trackRevenue(a.checkout.expectedTotal,a.checkout.currency)}).error(function(a,b){var d=403===b?{paymentTaken:a.paymentTaken,message:a.message,contactEmail:a.contactEmail}:null;c(d)})}function l(a,b,c,d,e,f){if(!b)return void f();a.user={},a.navigation={},a.user.email=b,a.navigation.cancelUrl=d,a.navigation.returnUrl=c,h.post("checkout","paypal/token/cart",a).success(function(a){return!a||a.errorMessage?void f(a?a.errorMessage:null):a.paypalToken?void e(a.paypalToken):void f("Could not get paypal token")}).error(function(a){f()})}new Firebase(b.firebase_url);return{makePurchase:k,getPaypalToken:l}}a.$inject=["$firebaseArray","appConfig","$q","authService","courseService","firebaseAuthService","$rootScope","apiService","trackingService","analyticsService"],angular.module("app.core").factory("purchaseService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(b,c,e){var f=null,g=null,h=null,i=c.isDirectionNext||c.isDirectionPrevious?c.count+1:c.count;c.isDirectionNext?e?(f=function(a,b,c){return a.endAt(b,c)},g=function(a,b){return a.limitToLast(b)},h=function(a){return a.slice(0,-1).reverse()}):(f=function(a,b,c){return a.startAt(b,c)},g=function(a,b){return a.limitToFirst(b)},h=function(a){return a.slice(1)}):c.isDirectionPrevious?e?(f=function(a,b,c){return a.startAt(b,c)},g=function(a,b){return a.limitToFirst(b)},h=function(a){return a.slice(1).reverse()}):(f=function(a,b,c){return a.endAt(b,c)},g=function(a,b){return a.limitToLast(b)},h=function(a){return a.slice(0,-1)}):e?(g=function(a,b){return a.limitToLast(b)},h=function(a){return a.slice(0).reverse()}):(g=function(a,b){return a.limitToFirst(b)},h=function(a){return a.slice(0)}),f&&(b=f(b,c.lastValue,c.lastKey)),g&&(b=g(b,i));var j=a(b),k=d.defer();return j.$loaded(function(a){k.resolve(h(a))}),k.promise}function o(b,c,d,e){var f=b?c?G.child("discussions").child("byCourseByTag").child(b).child(c):G.child("discussions").child("byCourse").child(b):c?G.child("discussions").child("byTag").child(c):G.child("discussions").child("data"),g=f.orderByChild("updatedTimestamp");return e?a(g.limitToLast(d.count)):n(g,d,!0)}function p(b,c,d,e,f){var g=b?c?G.child("discussions").child("byCourseByTag").child(b).child(c):G.child("discussions").child("byCourse").child(b):c?G.child("discussions").child("byTag").child(c):G.child("discussions").child("data"),h=g.orderByChild("createdTimestamp");return f?a(h.limitToLast(d.count)):n(h,d,!e)}function q(b,c,d){var e;e=c.title?c.title:c;var f=b?G.child("discussions").child("byCourseByTag").child(b).child(e):G.child("discussions").child("byTag").child(e),g=f.orderByChild("updatedTimestamp").limitToLast(d);return a(g)}function r(a,b){return k.fetchThreads({rank:"top",type:"question",distinct:!0,author:a})}function s(b,c,d,e){var f=c?G.child("discussions").child("byUserByCourse").child(b).child(c):G.child("discussions").child("byUser").child(b),g=f.orderByChild("updatedTimestamp");return e?a(g.limitToLast(d.count)):n(g,d)}function t(b,c,d,e,f){var g=b?c?G.child("discussions").child("byCourseByTag").child(b).child(c):G.child("discussions").child("byCourse").child(b):c?G.child("discussions").child("byTag").child(c):G.child("discussions").child("data"),h=g.orderByChild("voteSum");return f?a(h.limitToLast(d.count)):n(h,d,!e)}function u(b){var c=G.child("discussions").child("data"),d=c.orderByChild("updatedTimestamp");return a(d.limitToLast(b))}function v(a,c){if(H[a]&&!c)return H[a];var d=b(G.child("discussions").child("data").child(a));return H[a]=d,d.$loaded(function(a){I[a.$id]=!0}),d}function w(a){return I[a]}function x(a,b){return j.getRoomById(a.roomId).then(function(b){return A(b.url,a,null,!0)}).then(function(c){var d=l.getBrand(),e={description:a.description,title:a.title,roomId:a.roomId,tags:a.tags,id:a.$id,answerId:a.answerId,questionUrl:c,brand:d};return a.componentId&&(e.componentId=a.componentId),e.id?f.run("updateQuestion",{question:e,oldTags:b}):f.run("createQuestion",{question:e,oldTags:b})}).then(function(a){return!a.data||a.data.errorMessage?d.reject(a.data):a.data})}function y(a,b,d){b<-1||b>1||f.run("voteForQuestion",{firebase_url:c.firebase_url,questionId:a,voteValue:b}).then(function(a,b){d()})}function z(a,c){return b(G.child("votes").child("onDiscussions").child(a).child(c))}function A(a,b,c,d){var e=b.title?b.title.replace(/[^A-Za-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"):null;return e&&e.length>g.FRIENDLY_URL_CHARACTER_LIMIT&&(e=e.substring(0,g.FRIENDLY_URL_CHARACTER_LIMIT)),e&&(e=e.toLowerCase()),h.href("forum.room.discussion",{courseUrl:a,questionId:b.$id||"{questionId}",friendlyUrl:e,answer:null!==c?c:""},{absolute:!!d})}function B(a,b,c){var d=G.child("discussions").child("data").child(a).child("comments"),e=c?c():Firebase.ServerValue.TIMESTAMP;b.updatedTimestamp=e,b.createdTimestamp=e,d.push(b)}function C(a,b){f.run("deleteComment",{questionId:a,commentId:b}).then(function(){console.log(a,b,"deleted")})}function D(a,b){f.run("correctAnswer",{questionId:a,answerId:b})}function E(a){f.run("correctAnswer",{questionId:a})}function F(a,b){if(!a)return d.when([]);var c=a.$id;return d.when(l.getBrand()).then(function(d){var f={objectID:"-"+c,brand:d,type:"question"};return m.getRelatedEntitiesUsingTags("forum_threads_top",b,null,f,e.keys(a.tags))})}var G=new Firebase(c.firebase_url),H={},I={};return{getNewestForCourse:p,getMostRecentActivityForCourse:o,getMostRecentForTag:q,getMostPopularQuestionsForUser:r,getMostRecentQuestionsForUserForCourse:s,getMostPopularForCourse:t,getMostRecentActivity:u,getQuestion:v,isQuestionLoaded:w,saveQuestion:x,voteForQuestion:y,getUserVotesForQuestion:z,getFriendlyQuestionUrl:A,addCommentToQuestion:B,deleteCommentToQuestion:C,markAnswerToQuestion:D,unmarkAnswerToQuestion:E,findRelatedQuestions:F}}a.$inject=["$firebaseArray","$firebaseObject","appConfig","$q","lodash","lambdaService","coreConstants","$state","courseService","roomService","forumService","brandService","searchService"],angular.module("app.core").factory("questionService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a,b){var c={courseId:a,quizIds:b};return f.sendQuery("query getRestrictedCourseQuizzes($courseId: String!, $quizIds: [String!]) {                     getRestrictedCourseQuizzes(courseId: $courseId, quizIds: $quizIds) {                         questions {                             question                             explanation                             links                             originalCategories                             tags                             questionCode                             answers {                               correct                               text                             }                           }                     }                 }",c).then(function(a){var b=d.get(a,"data.getRestrictedCourseQuizzes",[]);return d.compact(d.flatten(d.map(b,function(a){return a.questions})))})}function h(a,b,c,e,f){return g(a,c?!0===c?[]:[c]:b).then(function(a){var b=e&&0!=e.length?d.filter(a,function(a){return d.some(a.tags,function(a){return e.indexOf(a)>=0})}):a;return b=d.sampleSize(b,f||b.length)})}function i(a){return a&&a.sections?d.reduce(a.sections,function(a,b,c){if(!b.components)return a;var e=d.reduce(b.components,function(a,d,e){return d.content&&"quiz"===d.content.type?(a.push({sectionIdentifier:c,componentIdentifier:e,sectionSeq:b.sequence,componentSeq:d.sequence,title:d.title,content:d.content}),a):a},[]);return a.concat(e)},[]):[]}new Firebase(c.firebase_url);return{getQuizQuestions:h,getQuizzesForCourse:i}}a.$inject=["$q","$firebaseArray","appConfig","lodash","courseComponentService","graphqlService"],angular.module("app.core").factory("quizService",a)}(),function(){"use strict";function a(a,b){function c(a){var c=b.get(h.courses)||{};c[a]||(c[a]=0),c[a]=c[a]+1,b.set(h.courses,c)}function d(a){var c=b.get(h.series)||{};c[a]||(c[a]=0),c[a]=c[a]+1,b.set(h.series,c)}function e(a){var c=b.get(h.forums)||{};c[a]||(c[a]=0),c[a]=c[a]+1,b.set(h.forums,c)}function f(){var a=b.get(h.examSimulator)||0;a+=1,b.set(h.examSimulator,a)}function g(){return a.mapValues(h,function(a,c){return b.get(a)})}var h={courses:"recommendation.courses",series:"recommendation.series",forums:"recommendation.forums",examSimulator:"recommendation.examSimulator"};return{storeCourseVisit:c,storeSeriesVisit:d,storeForumVisit:e,storeExamSimulatorVisit:f,getVisits:g}}a.$inject=["lodash","localStorageService"],angular.module("app.core").factory("recommendationStorageService",a)}(),function(){"use strict";function a(a,b,c,d){function e(a,d){return c.getCourseTrustedVideos(b.courseId,"resource",d).then(function(b){var c=[];if(a.notes&&a.notes.length>0){for(var d=0;d<a.notes.length;d++){var e=a.notes[d];e.status="ready",b[e.bucket]&&b[e.bucket][e.key]&&(e.secureUrl=b[e.bucket][e.key]),c.push(e)}return c}})}function f(b,c,e){d.getSignedUrls([c],[e]).then(function(d){d&&d.length>0&&(b.secureUrl=a.trustAsUrl(d[0]),b.bucket=c,b.key=e)},function(a){console.log(a)})}return{initializeResourcesForComponent:e,setSignedUrl:f}}a.$inject=["$sce","currentCourseService","trustedVideoSourceService","awsAccessService"],angular.module("app.core").factory("resourceService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){var a=e.getAccessToken();a&&i(a)}function i(a){j(a),B=!0,l()}function j(a){var b=f.decodeToken(a);A=b[c.rolesNamespace]}function k(a){C.push(a),B&&a()}function l(){angular.forEach(C,function(a){a()})}function m(a){return A&&!0===A[a]?g.resolve(!0):g.resolve(!1)}function n(a,c,d){return c?b(y.child("rooms/data").child(d).child("roles").child(a).child(c)).$loaded(function(a){return a&&!!a.$value}):g.when(!1)}function o(a){return m("organisationAdmin_"+a)}function p(){return m("admin")}function q(){return m("superadmin")}function r(){return m("editor")}function s(){return m("moderator")}function t(a,b){return n("mod",a,b)}function u(){return m("instructor")}function v(){return m("membershipBeta")}function w(){return m("member")}function x(a){var b=g.defer();return k(function(c){if(!c)return g.all([p(),o(a)]).then(function(a){b.resolve({acgAdmin:a[0],orgAdmin:a[1]})});b.reject(c)}),b.promise}var y=new Firebase(c.firebase_url),z={isSuperAdmin:q,isOrgAdmin:o,isAdmin:p,isModerator:s,isEditor:r,isInstructor:u,isModeratorForRoom:t,isInMembershipBeta:v,isMember:w,getRoles:x,onRolesLoaded:k,refreshAccessTokenRoles:i,checkRoles:h},A=null,B=!1,C=[];return function(){h(),a.$on("app.tokenSet",function(){h()}),d.onNotReady(function(){A=null,C=[],B=!1}),d.onReadying(function(){h()})}(),z}a.$inject=["$rootScope","$firebaseObject","appConfig","guruAuthService","authTokenService","jwtHelper","$q"],angular.module("app.core").factory("roleService",a)}(),function(){"use strict";function a(a,b,c,d){function e(){return l||(l=f("name",null,null,1e3).then(function(a){return a.hits})),a.when(l)}function f(a,c,d,e,f){var g=m[a],h="isPublic:true";return null!==d&&(h+=",linkedToCourse:"+(d?"true":"false")),f||(f=0),b.search(g,c,{facetFilters:h,attributesToSnippet:["title:50","description:20","text:20"],highlightPreTag:'<span class="search-highlight">',highlightPostTag:"</span>",attributesToRetrieve:["*"],hitsPerPage:e||10,page:f})}function g(a){return e().then(function(b){return c.find(b,function(b){return b.objectID===a})})}function h(a){return e().then(function(b){return c.find(b,{url:a})})}function i(a){return e().then(function(b){return c.find(b,{linkedCourseId:a})})}function j(c,d,e){if(!c)return a.when([]);var f=c.objectID,g={objectID:"-"+f},h=[];return h.push("isPublic=1"),e&&h.push("linkedToCourse=1"),b.getRelatedEntitiesUsingTags("forum_rooms",d,h,g,c._tags)}function k(a,b){return g(a).then(function(a){return!!a.roles.mod[b]||d.isModerator(b)})}var l=null,m={name:"forum_rooms",recent:"forum_rooms_recent"};return{getRooms:e,getRoomById:g,getRoomByUrl:h,getRoomByCourseId:i,findRelatedRooms:j,searchRooms:f,hasModeratorRoleInRoom:k}}a.$inject=["$q","searchService","lodash","roleService"],angular.module("app.core").service("roomService",a)}(),function(){"use strict";function a(a,b){function c(a){var c=b.trimEnd(d.bff,"/");if(!c)throw new Error("Endpoint for "+e+" service is not set");return c+"/"+b.trimStart(a,"/")}var d=a.api;if(!d)throw new Error("Api config is not defined");var e={getUrl:c};return e}a.$inject=["appConfig","lodash"],angular.module("app.core").factory("rssService",a)}(),function(){"use strict";angular.module("app.core").constant("searchConstants",{vendors:[{id:"aws",name:"Amazon Web Services",abbr:"AWS"},{id:"azure",name:"Microsoft Azure",abbr:"Azure"},{id:"docker",name:"Docker",abbr:"Docker"},{id:"gcp",name:"Google Cloud Platform",abbr:"GCP"},{id:"linux",name:"Linux",abbr:"Linux"},{id:"salesforce",name:"Salesforce",abbr:"Salesforce"}],topics:[{id:"api-management",name:"API Management"},{id:"artificial-intelligence",name:"Artificial Intelligence"},{id:"certification",name:"Certification"},{id:"compute",name:"Compute"},{id:"configuration-management",name:"Configuration Management"},{id:"containers",name:"Containers"},{id:"cost-billing",name:"Cost and Billing"},{id:"data-storage",name:"Data and Storage"},{id:"deployment",name:"Deployment"},{id:"devops",name:"DevOps"},{id:"digital-transformation",name:"Digital Transformation",organisationOnly:!0},{id:"disaster-recovery",name:"Disaster Recovery"},{id:"governance-risk-and-compliance",name:"Governance, Risk and Compliance",organisationOnly:!0},{id:"high-availability",name:"High Availability"},{id:"high-performance-organizations",name:"High Performance Organizations",organisationOnly:!0},{id:"identity",name:"Identity"},{id:"iot",name:"Internet of Things"},{id:"machine-learning",name:"Machine Learning"},{id:"messaging",name:"Messaging"},{id:"monitoring",name:"Monitoring"},{id:"networking",name:"Networking"},{id:"operations",name:"Operations"},{id:"programming",name:"Programming"},{id:"security",name:"Security"},{id:"serverless",name:"Serverless"},{id:"voice",name:"Voice"},{id:"web",name:"Web"}],series:[{title:"AWS This Week",type:"series",series:"aws-this-week",artworkKey:"aws-this-week-1",vendors:["aws"],membersOnly:!1},{title:"Azure This Week",type:"series",series:"azure-this-week",artworkKey:"azure-this-week",vendors:["azure"],membersOnly:!1},{title:"Maker Labs",type:"series",series:"maker-labs",artworkKey:"maker-labs-1",vendors:["aws"],membersOnly:!0},{title:"ACG Release Review",type:"series",series:"release-review",artworkKey:"release-review",vendors:["aws"],membersOnly:!0},{title:"The Future of Tech",type:"series",series:"future-of-tech",artworkKey:"future-of-tech",vendors:[],membersOnly:!0},{title:"re:Invent 2017",type:"series",series:"reinvent-2017",artworkKey:"reinvent-2017-1",vendors:["aws"],membersOnly:!1},{title:"Serverlessconf",type:"series",series:"serverlessconf",artworkKey:"serverlessconf-nyc",vendors:["aws","azure"],membersOnly:!1},{title:"ACG Biographies",type:"series",series:"biographies",artworkKey:"biographies-1",vendors:["aws"],membersOnly:!0}],rows:[{title:"Starter Courses",type:"course",level:["intro"]},{title:"Certification Courses",type:"course",topic:"certification",level:["beginner","intermediate"]},{title:"Original Series",type:"series-component"},{type:"exam-simulator"},{title:"Advanced Certifications",type:"course",topic:"certification",level:["advanced"]},{title:"Digital Transformation",type:"course",topic:"digital-transformation",organisationOnly:!0},{title:"Serverless",type:"course",topic:"serverless"},{title:"Containers",type:"course",topic:"containers"},{title:"Security",type:"course",topic:"security"},{title:"Programming for Cloud",type:"course",topic:"programming"},{title:"Deployment",type:"course",topic:"deployment"}],roles:[{id:"developer",name:"Developer"},{id:"dev-ops",name:"DevOps"},{id:"executive",name:"Executive",organisationOnly:!0},{id:"non-tech",name:"Non Technical"},{id:"product-manager",name:"Product Manager",organisationOnly:!0},{id:"program-manager",name:"Program Manager",organisationOnly:!0},{id:"solutions-architect",name:"Solutions Architect"},{id:"sys-ops",name:"SysOps Admin"},{id:"team-lead",name:"Team Lead",organisationOnly:!0}],skillLevels:[{id:"intro",name:"Introductory",abbr:"Intro"},{id:"beginner",name:"Beginner",abbr:"Beg"},{id:"intermediate",name:"Intermediate",abbr:"Int"},{id:"advanced",name:"Advanced",abbr:"Adv"}],services:[{id:"alexa",name:"Amazon Alexa"},{id:"aws-lambda",name:"AWS Lambda"},{id:"cloud-formation",name:"AWS CloudFormation"},{id:"code-deploy",name:"AWS CodeDeploy"},{id:"dynamodb",name:"AWS DynamoDB"},{id:"ec2",name:"AWS EC2"},{id:"ecs",name:"AWS ECS"},{id:"iam",name:"AWS IAM"},{id:"aws-s3",name:"AWS S3"},{id:"vpc",name:"AWS VPC"}],authors:[{id:"linkedin|9k1sAi8dfa",name:"Ryan Kroonenburg"},{id:"google-oauth2|108908966131550629231",name:"Nick Triantafillou"},{id:"auth0|582e5b027015fdea0785c8b4",name:"Sanjay Kotecha"},{id:"auth0|595e448e84402144b78b3e0e",name:"Robin Norwood"},{id:"auth0|565de63b0bb3ee7e60b51baf",name:"Nick Janetakis"},{id:"linkedin|S34fr_HZMt",name:"Sam Kroonenburg"},{id:"google-oauth2|115779441025712164232",name:"Mattias Andersson"},{id:"auth0|570e4d3016f875f57ab9c494",name:"Francis Pindar"},{id:"google-oauth2|113096125960302279124",name:"Warren Bell"},{id:"github|636610",name:"Ryan Brown"},{id:"auth0|5a5913ae91ea4427ecdf452f",name:"Barry O'Reilly",organisationOnly:!0},{id:"github|155194",name:"Jez Humble",organisationOnly:!0},{id:"auth0|5ae774b9bff50f6d7df79cd3",name:"Joanne Molesky",organisationOnly:!0},{id:"github|706782",name:"Rowan Udell"},{id:"twitter|2369450425",name:"Oscar Merry"},{id:"google-oauth2|100411485341484207073",name:"Paul Wakeford"},{id:"auth0|566724433ddd8f94665601a4",name:"Stephen Wilding"},{id:"auth0|56f04b0a971d7f7612c18bfd",name:"Andreas Wittig"},{id:"auth0|57a47b81aaf717476e176c6a",name:"Michael Wittig"},{id:"github|5763174",name:"Fernando Hönig"},{id:"auth0|56d6d2955a5a6aec457d5c07",name:"Julian Biddle"},{id:"github|1747322",name:"Alex Glover"},{id:"auth0|5775ab9a1feaf0c47c84a1c2",name:"Scott Duffy"},{id:"facebook|10159434977235500",name:"Dean Bryen"},{id:"google-oauth2|109200919086506954311",name:"Abhaya Chauhan"}],type:[{id:"courses",name:"Courses"},{id:"series",name:"Series"}]})}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){var a={apiKey:d.get(c,"algolia.search_only_api_key"),validUntil:null,isSecuredApiKey:!1},g=b.defer();return f.isReady()?e.sendQuery("query {             profile {               algoliaSecuredApiKey {                 apiKey                 validUntil               }             }         }").then(function(b){var c=d.get(b,"data.profile.algoliaSecuredApiKey.apiKey");return c?{apiKey:c,validUntil:d.get(b,"data.profile.algoliaSecuredApiKey.validUntil"),isSecuredApiKey:!0}:a}).catch(function(b){return a}):(g.resolve(a),g.promise)}function i(){return s=h(),l()}function j(){return s.then(function(a){return algoliasearch(c.algolia.app_id,a.apiKey)})}function k(){return s.then(function(a){return g().add(5,"minutes").isBefore(a.validUntil)&&a.isSecuredApiKey&&(s=h()),j()})}function l(){return j().then(function(a){return a.clearCache()})}function m(a,b){return t[a]&&!b||(t[a]=k().then(function(b){return b.initIndex(a)})),t[a]}function n(b,d,e,f,g){return b=c.algolia.stage_prefix+b,f&&(b="private_"+b),e.analyticsTags||(e.analyticsTags=[]),e.analyticsTags=e.analyticsTags.concat(["frontend","frontend_route:"+a.current.name]),m(b,g).then(function(a){return o(a,d,e)})}function o(a,c,d){var e=b.defer();return a.search(c,d,function(a,b){if(a)return console.error(a),void e.reject(a);e.resolve(b)}),e.promise}function p(a){return a.then(function(a){return a.hits})}function q(a,b,c,e,f,g,h){f||(f=10);var i=d.map(d.keys(c),function(a){return a+":"+c[a]});return p(n(a,b&&b.length>0?b:"",{facets:"*",facetFilters:i,tagFilters:h||[],numericFilters:g,getRankingInfo:1,attributesToRetrieve:e&&e.length>0?JSON.stringify(e):"*",highlightPreTag:"<em>",highlightPostTag:"</em>",hitsPerPage:f,maxValuesPerFacet:100}))}function r(a,b,c,d,e){c||(c=[]);var f=[];if(e&&Array.isArray(e)){var g=[];e.forEach(function(a,b){g[b]="\\"+a}),f.push(g)}return q(a,"",d,null,b,c,f)}var s=null;!function(){i(),f.onReady(i),f.onNotReady(i)}();var t={};return{clearAlgoliaCache:l,getRelatedEntitiesUsingTags:r,search:n}}a.$inject=["$state","$q","appConfig","lodash","graphqlService","guruAuthService","moment"],angular.module("app.core").factory("searchService",a)}(),function(){"use strict";angular.module("app.core").filter("skillLevelNames",["searchConstants","lodash",function(a,b){function c(a){var c="name";return a.length>1&&(c="abbr"),b.map(a,c)}var d=b.zipObject(b.map(a.skillLevels,"id"),a.skillLevels);return function(a){return c(b.map(a,function(a){return d[a]})).join(", ")}}])}(),function(){"use strict";angular.module("app.core").filter("strip",["strip",function(a){return function(b){if(b){return a(b)}return""}}])}(),function(){angular.module("app.core").factory("strip",function(){return function(a,b){b=b||{},b.stripListLeaders=!b.hasOwnProperty("stripListLeaders")||b.stripListLeaders,b.gfm=!b.hasOwnProperty("gfm")||b.gfm;var c=a;try{b.stripListLeaders&&(c=c.replace(/^([\s\t]*)([\*\-\+]|\d\.)\s+/gm,"$1")),b.gfm&&(c=c.replace(/\n={2,}/g,"\n").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),c=c.replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[.*?\][\[\(].*?[\]\)]/g,"").replace(/\[(.*?)\][\[\(].*?[\]\)]/g,"$1").replace(/^>/g,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^\#{1,6}\s*([^#]*)\s*(\#{1,6})?/gm,"$1").replace(/([\*_]{1,3})(\S.*?\S)\1/g,"$2").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/^-{3,}\s*$/g,"").replace(/`(.+?)`/g,"$1").replace(/\n{2,}/g,"\n\n")}catch(b){return console.error(b),a}return c}})}(),function(){"use strict";function a(a,b,c,d){function e(){return l||(l=j(null,!0,1e3).then(function(a){return b.keyBy(a.hits,"objectID")})),a.when(l)}function f(){return m?a.when(m):j(null,null,1e3).then(function(a){return m=a.hits})}function g(c){return c?f().then(function(a){return b.find(a,function(a){return a.tag===c})}):a.when(null)}function h(){return e().then(function(a){var c=b.map(a,function(a){return b.pick(a,["objectID","tag","usageCount"])});return b.values(c)})}function i(a){return e().then(function(b){return b[a]})}function j(b,e,f,g){return a.when(d.getBrand()).then(function(a){var d="brand:"+a;return null!==e&&(d+=",isActive:"+(e?"true":"false")),g||(g=0),c.search("forum_tags",b,{facetFilters:d,attributesToSnippet:["title:50","description:20","text:20"],highlightPreTag:'<span class="search-highlight">',highlightPostTag:"</span>",attributesToRetrieve:["*"],hitsPerPage:f||10,page:g})})}var k={getActiveTagSelectArray:h,getAllTags:f,getActiveTags:e,getActiveTagById:i,getTagByValue:g},l=null,m=null;return k}a.$inject=["$q","lodash","searchService","brandService"],angular.module("app.core").service("tagService",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(){return b(function(a,b){Taxamo.retrieveDictionary("countries",function(b){a(b.dictionary)})})}function g(a,b,c,d){var f={currency:a,country:b,amount:c,taxnumber:d};return e.sendQuery("query calculateTax($currency: String!, $country: String!, $amount: Float!, $taxnumber: String) {                        calculateTax(currency: $currency, country: $country, amount: $amount, taxnumber: $taxnumber) {                            total                            tax                            country                            currency                            taxRegion                            taxNumber                            taxDeducted                            taxDeductedAmount                        }                    }",f)}function h(a,b){var c={vatnumber:a,country:b};return e.sendQuery("query validateVATNumber($vatnumber: String!, $country: String!) {                        validateVATNumber(vatnumber: $vatnumber, country: $country) {                            valid, taxNumber, taxDeducted                        }                    }",c)}return{calculateTax:g,getCountries:f,validateVATNumber:h}}a.$inject=["$http","$q","locationDetectionService","taxamoConfig","graphqlService"],angular.module("app.core").factory("taxService",a)}(),function(){"use strict";angular.module("app.core").factory("taxamoConfig",["appConfig",function(a){return{publicToken:a.taxamo.acg_public_token}}])}(),function(){"use strict";function a(a,b){function c(){try{var a,c,d=ga.getAll();for(a=0,c=d.length;a<c;a+=1)if(d[a].get("trackingId")===b.gaCode)return d[a].get("clientId")}catch(a){}return null}return{getGoogleAnalyticsClientId:c}}a.$inject=["$cookies","appConfig"],angular.module("app.core").service("trackingService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a,b){switch(b){case"video":i[a]=null;break;case"text":j[a]=null;break;case"resource":k[a]=null}}function h(a,d,h){if(d||(d="video"),angular.isDefined(h)&&h&&g(a,d),"video"===d&&i[a])return i[a];if("text"===d&&j[a])return j[a];if("resource"===d&&k[a])return k[a];var l=b.getCourseById(a).then(function(a){var b=(e.isNull(d)||e.isUndefined(d)?"video":d)+"sources";return f.getComponents(a.url).then(function(a){var f=e.flatten(e.map(a,function(a){var c=[];switch(d){case"resource":c=a.notes&&a.notes.length>0?a.notes:null;break;default:c=a.content&&a.content[b]?a.content[b]:null,!c||c instanceof Array||(c=e.filter(e.values(c),{type:"video/mp4"})),c=e.compact(c)}return c
})),g=e.map(f,"bucket"),h=e.map(f,"key"),i=e.map(f,"description");return h=e.remove(h,function(a){return void 0!==a}),g=e.remove(g,function(a){return void 0!==a}),c.getSignedUrls(g,h).then(function(a){if(null===a)return{};for(var b={},c=0;c<h.length;c++){var d=h[c],e=a[c],f=g[c],j=i[c];b[f]||(b[f]={});var k={description:j||null,source:e};b[f][d]=k}return b})})});return"video"===d?i[a]=l:"text"===d?j[a]=l:"resource"===d&&(k[a]=l),l}var i={},j={},k={};return{getCourseTrustedVideos:h}}a.$inject=["$q","courseService","awsAccessService","$sce","lodash","courseComponentService"],angular.module("app.core").factory("trustedVideoSourceService",a)}(),function(){"use strict";function a(a,b){function c(){return a.get(d).then(function(a){return _(a.data).pickBy().map(function(a,b){return{udemyCourseTitle:b,acgCourseId:a}}).value()})}var d="https://s3.amazonaws.com/acloud-udemy-product-map/map.json";return{getCoursesForMigration:c}}a.$inject=["$http","lodash"],angular.module("app.core").factory("udemyMigrationService",a)}(),function(){"use strict";function a(a,b){function c(c){a.set(b.USER_PREFERENCES_VIDEO_QUALITY,c)}function d(){var c=a.get(b.USER_PREFERENCES_VIDEO_QUALITY);return c||"720p"}function e(c){a.set(b.USER_PREFERENCES_VIEWER_SIZE,c),n.isLargeViewerSize=c}function f(){e(!n.isLargeViewerSize)}function g(){var c=a.get(b.USER_PREFERENCES_VIEWER_SIZE);return c||!1}function h(){var c=a.get(b.USER_PREFERENCES_SELECTED_SIDEBAR_TAB);return c||"resources"}function i(c){return"resources"!==c&&"discussions"!==c?(console.error("Invalid tab specified"),h()):(a.set(b.USER_PREFERENCES_SELECTED_SIDEBAR_TAB,c),c)}function j(){var c=a.get(b.USER_PREFERENCES_COURSE_VIEWER_MODE);return c||"instructor"}function k(c){return"student"!==c&&"instructor"!==c?(console.error("Invalid viewer mode specified"),j()):(a.set(b.USER_PREFERENCES_COURSE_VIEWER_MODE,c),c)}function l(c){a.set(b.USER_PREFERENCES_PLAYBACK_RATE,c)}function m(){var c=a.get(b.USER_PREFERENCES_PLAYBACK_RATE);return c||1}var n={setVideoQuality:c,setViewerSize:e,setPlaybackRate:l,getPlaybackRate:m,getVideoQuality:d,toggleViewerSize:f,setSelectedSidebarTab:i,getSelectedSidebarTab:h,getCourseViewerMode:j,setCourseViewerMode:k,isLargeViewerSize:!1};return function(){n.isLargeViewerSize=g(),n.selectedSidebarTab=h()}(),n}a.$inject=["localStorageService","userConstants"],angular.module("app.core").factory("userPreferenceService",a)}(),function(){"use strict";angular.module("app.core").filter("vendorNames",["searchConstants","lodash",function(a,b){function c(a){var c="name";return a.length>1&&(c="abbr"),b.map(a,c)}var d=b.zipObject(b.map(a.vendors,"id"),a.vendors);return function(a){return c(b.map(a,function(a){return d[a]})).join(", ")}}])}(),function(){"use strict";function a(a){function b(){return a.sendQuery(["query {","   getAllSeries {","       ...editorSeriesFragment","   }","}"].concat(f()).join("\n"),{},!1).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.getAllSeries:$q.reject(a&&a.data?a.data.errorMessage:null)})}function c(b){return a.sendQuery(["query($seriesUrl: String!) {","   getAllSeriesByUrl(seriesUrl: $seriesUrl) {","       ...editorSeriesFragment","   }","}"].concat(f()).join("\n"),{seriesUrl:b},!1).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.getAllSeriesByUrl:$q.reject(a&&a.data?a.data.errorMessage:null)})}function d(b,c,d){return a.sendQuery(["mutation ($title: String!, $seriesUrl: String!, $description: String!) {","   createSeries(title: $title, seriesUrl: $seriesUrl, description: $description) {","       ...editorSeriesFragment","   }","}"].concat(f()).join("\n"),{title:b,seriesUrl:c,description:d},!1).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.createSeries:$q.reject(a&&a.data?a.data.errorMessage:null)})}function e(b,c){return a.sendQuery(["mutation ($seriesId: String!, $seriesUpdateInput: SeriesUpdateInput!) {","   updateSeries(seriesId: $seriesId, seriesUpdateInput: $seriesUpdateInput) {","       ...editorSeriesFragment","   }","}"].concat(f()).join("\n"),{seriesId:b,seriesUpdateInput:{isProtected:c.isProtected,title:c.title,description:c.description,artworkKey:c.artworkKey,hubspot:c.hubspot,forumRoomId:c.forumRoomId||null,isPublic:c.isPublic}},!1).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.updateSeries:$q.reject(a&&a.data?a.data.errorMessage:null)})}function f(){return["fragment editorSeriesFragment on EditorSeries {","   isProtected","   seriesId","   seriesUrl","   title","   description","   forumRoomId","   hubspot {","       title","       description","       hubspotSubscribeFormId","   }","   isPublic","   artworkKey","}"]}return{getAllWebSeries:b,getWebSeriesByUrl:c,createWebSeries:d,updateWebSeries:e}}a.$inject=["graphqlService"],angular.module("app.core").service("webseriesAdminService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(){return e.sendQuery(["query {","   getAllSeries {","       seriesId","       seriesUrl","       title","       isPublic","       artworkKey","   }","}"].join("\n"),{},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getAllSeries:a.reject(b&&b.data?b.data.errorMessage:null)})}function k(b){return e.sendQuery(["query($seriesUrl: String!) {","   getAllSeriesByUrl(seriesUrl: $seriesUrl) {","       seriesId","       seriesUrl","       title","       description","       isPublic","       seriesOverviewContent {","           contentId","           thumbnailUrl","       }","       allEpisodes {","            PUBLISH_DATE_NOT_SET {","                ...editorEpisodeFragment","            }","            PUBLISHING {","                ...editorEpisodeFragment","            }","            PUBLISHED {","                ...editorEpisodeFragment","            }","       }","   }","}"].concat(v()).join("\n"),{seriesUrl:b},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getAllSeriesByUrl:a.reject(b&&b.data?b.data.errorMessage:null)})}function l(b,c){return e.sendQuery(["mutation($episodeId: String!, $thumbnailUrl: String!) {","   setThumbnailSource(episodeId: $episodeId, thumbnailUrl: $thumbnailUrl) {","       ...editorEpisodeFragment","   }","}"].concat(v()).join("\n"),{episodeId:b,thumbnailUrl:c},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.setThumbnailSource:a.reject(b&&b.data?b.data.errorMessage:null)})}function m(b,c){return e.sendQuery(["mutation($episodeId: String!, $contentId: String!) {","   setEpisodeContentSource(episodeId: $episodeId, contentId: $contentId) {","       ...editorEpisodeFragment","   }","}"].concat(v()).join("\n"),{episodeId:b,contentId:c},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.setEpisodeContentSource:a.reject(b&&b.data?b.data.errorMessage:null)})}function n(b,c){return e.sendQuery(["mutation($seriesId: String!, $seriesOverviewContent: SeriesOverviewContentInput!) {","   setSeriesOverviewContent(seriesId: $seriesId, seriesOverviewContent: $seriesOverviewContent) {","       seriesId","   }","}"].join("\n"),{seriesId:b,seriesOverviewContent:c},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.setSeriesOverviewContent:a.reject(b&&b.data?b.data.errorMessage:null)})}function o(b,c){return e.sendQuery(["mutation($episodeId: String!, $contentId: String!) {","   setEpisodePrimaryContentSource(episodeId: $episodeId, contentId: $contentId) {","       ...editorEpisodeFragment","   }","}"].concat(v()).join("\n"),{episodeId:b,contentId:c},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.setEpisodePrimaryContentSource:a.reject(b&&b.data?b.data.errorMessage:null)})}function p(b,c){return e.sendQuery(["mutation($seriesId: String!, $createEpisode: CreateEpisodeInput!) {","   createEpisodeUnpublished(seriesId: $seriesId, createEpisode: $createEpisode) {","       ...editorEpisodeFragment","   }","}"].concat(v()).join("\n"),{seriesId:b,createEpisode:c},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.createEpisodeUnpublished:a.reject(b&&b.data?b.data.errorMessage:null)})}function q(b,c){return e.sendQuery(["mutation($episodeId: String!, $publishTime: Float) {","   publishEpisode(episodeId: $episodeId, publishTime: $publishTime) {","       ...editorEpisodeFragment","   }","}"].concat(v()).join("\n"),{episodeId:b,publishTime:c||null},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.publishEpisode:a.reject(b&&b.data?b.data.errorMessage:null)})}function r(b,c){return e.sendQuery(["mutation($episodeId: String!, $updateEpisode: UpdateEpisodeInput!) {","   updateEpisodeMetaData(episodeId: $episodeId, updateEpisode: $updateEpisode) {","       ...editorEpisodeFragment","   }","}"].concat(v()).join("\n"),{episodeId:b,updateEpisode:c},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.updateEpisodeMetaData:a.reject(b&&b.data?b.data.errorMessage:null)})}function s(b){return e.sendQuery(["mutation($episodeId: String!) {","   setEpsiodePublicallyHidden(episodeId: $episodeId) {","       ...editorEpisodeFragment","   }","}"].concat(v()).join("\n"),{episodeId:b},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.setEpsiodePublicallyHidden:a.reject(b&&b.data?b.data.errorMessage:null)})}function t(b){return e.sendQuery(["mutation($episodeId: String!) {","   setEpsiodePublicallyVisible(episodeId: $episodeId) {","       ...editorEpisodeFragment","   }","}"].concat(v()).join("\n"),{episodeId:b},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.setEpsiodePublicallyVisible:a.reject(b&&b.data?b.data.errorMessage:null)})}function u(b,c){return e.sendQuery(["mutation($episodeId: String!, $resources: [EpisodeResourceInput!]!) {","   setEpisodeResources(episodeId: $episodeId, resources: $resources) {","       ...editorEpisodeFragment","   }","}"].concat(v()).join("\n"),{episodeId:b,resources:c},!1).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.setEpisodeResources:a.reject(b&&b.data?b.data.errorMessage:null)})}function v(){return["fragment editorEpisodeFragment on EditorEpisode {","   episodeId","   episodeUrl","   title","   shortSummary","   description","   episodeContentIds","   activeEpisodeContentId","   description","   publishedDateKey","   isPublic","   thumbnailUrl","   resources {","       title","       url","   }","}"]}return{getWebSeriesByUrl:k,getAllWebSeries:j,setEpisodeContentSource:m,setEpisodePrimaryContentSource:o,createEpisodeUnpublished:p,publishEpisode:q,updateEpisodeMetaData:r,setEpsiodePublicallyVisible:t,setEpsiodePublicallyHidden:s,setThumbnailSource:l,setEpisodeResources:u,setSeriesOverviewContent:n}}a.$inject=["$q","$timeout","Upload","lodash","graphqlService","webseriesService","authService","roleService","profileService"],angular.module("app.core").service("webseriesEditorService",a)}(),function(){"use strict";function a(a,b,c,d){function e(a){return g([a]).then(_.head)}function f(){return c.sendQuery(["query GetActiveSeries {","   getActiveSeries {","       ...publicSeriesFragment","   }","}"].concat(p()).join("\n"),{},!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getAllSeries:a.reject(b&&b.data?b.data.errorMessage:null)})}function g(b){return c.sendQuery(["query GetActiveSeriesByIds($seriesIds: [String!]!) {","   getActiveSeriesByIds(seriesIds: $seriesIds) {","       ...publicSeriesFragment","   }","}"].concat(p()).join("\n"),{seriesIds:b},!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getActiveSeriesByIds[0]:a.reject(b&&b.data?b.data.errorMessage:null)})}function e(a){return g([a]).then(function(a){return a[0]})}function h(b){return c.sendQuery(["query CourseBrowseGetWebSeriesByUrls ($seriesUrls: [String!]!) {","   getActiveSeriesByUrls(seriesUrls: $seriesUrls) {","       isProtected","       seriesId","       seriesUrl","       title","       activeEpisodes {","           episodeId","           episodeUrl","           title","           shortSummary","           description","           publishedDateKey","           thumbnailUrl","           userProgress {","               status","               secondsWatched","               percentComplete","           }","       }","   }","}"].join("\n"),{seriesUrls:b},!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getActiveSeriesByUrls:a.reject(b&&b.data?b.data.errorMessage:null)})}function i(b){return c.sendQuery(["query GetActiveSeriesByUrls ($seriesUrls: [String!]!) {","   getActiveSeriesByUrls(seriesUrls: $seriesUrls) {","       ...publicSeriesFragment","   }","}"].concat(p()).join("\n"),{seriesUrls:b},!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getActiveSeriesByUrls:a.reject(b&&b.data?b.data.errorMessage:null)})}function j(b){return c.sendQuery(["query GetActiveSeriesByUrl ($seriesUrl: String!) {","   getActiveSeriesByUrl(seriesUrl: $seriesUrl) {","       ...publicSeriesFragment","   }","}"].concat(p()).join("\n"),{seriesUrl:b},!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getAllSeriesByUrl:a.reject(b&&b.data?b.data.errorMessage:null)})}function k(b,e){return c.sendQuery(["query SeriesEpisode($seriesUrl: String!, $episodeUrl: String!) {","   getActiveSeriesByUrl(seriesUrl: $seriesUrl) {","       isProtected","       seriesId","       seriesUrl","       title","       description","       forumRoomId","       hubspot {","           title","           description","           hubspotSubscribeFormId","       }","","","       currentEpisode: seriesEpisodeByUrl(episodeUrl: $episodeUrl) {","           ...publicEpisodeFragment","       }","       activeEpisodes {","           episodeId","           episodeUrl","           title","           shortSummary","           description","           publishedDateKey","           thumbnailUrl","","","           episodeViews","           activeEpisodeContent {","               duration","           }","           userProgress {","               status","               secondsWatched","               percentComplete","           }","       }","   }","}"].concat(q()).join("\n"),{seriesUrl:b,episodeUrl:e},!0).then(function(b){if(!b||!b.data||b.data.errorMessage)return a.reject(b&&b.data?b.data.errorMessage:null);var c=b.data.getActiveSeriesByUrl;return c.currentEpisode.activeEpisodeContent=d.attachMeta(c.currentEpisode.activeEpisodeContent),c})}function l(e){return c.sendQuery(["query SeriesEpisode($seriesUrl: String!) {","   getActiveSeriesByUrl(seriesUrl: $seriesUrl) {","       isProtected","       seriesId","       seriesUrl","       title","       description","       forumRoomId","       artworkKey","       hubspot {","           title","           description","           hubspotSubscribeFormId","       }","","       seriesOverviewContent {","           thumbnailUrl","           content {","               ...audioVisualContentFragment","           }","       }","       latestEpisodes: activeEpisodes(limit: 1, offset: 0) {","           ...publicEpisodeFragment","       }","       activeEpisodes {","           episodeId","           episodeUrl","           title","           shortSummary","           description","           publishedDateKey","           thumbnailUrl","           activeEpisodeContent {","               duration","           }","       }","   }","}"].concat(q()).join("\n"),{seriesUrl:e},!0).then(function(c){if(!c||!c.data||c.data.errorMessage)return a.reject(c&&c.data?c.data.errorMessage:null);var e=c.data.getActiveSeriesByUrl;return e.latestEpisode=e.latestEpisodes[0],b.get(e,"latestEpisode.activeEpisodeContent")&&(e.latestEpisode.activeEpisodeContent=d.attachMeta(e.latestEpisode.activeEpisodeContent)),b.get(e,"seriesOverviewContent.content")&&(e.seriesOverviewContent.content=d.attachMeta(e.seriesOverviewContent.content)),e})}function m(b,d){return c.sendQuery(["query seriesEpisode($seriesUrl: String!, $episodeUrl: String!) {","   getActiveSeriesByUrl(seriesUrl: $seriesUrl) {","       currentEpisode: seriesEpisodeByUrl(episodeUrl: $episodeUrl) {","           ...publicEpisodeFragment","       }","       ...publicSeriesFragment","   }","}"].concat(p()).join("\n"),{seriesUrl:b,episodeUrl:d},!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data.getActiveSeriesByUrl:a.reject(b&&b.data?b.data.errorMessage:null)})}function n(b,d){return c.sendQuery(["mutation SetEpisodeViewed($seriesId: String!, $episodeId: String!) {","   setEpisodeViewed(seriesId: $seriesId, episodeId: $episodeId)","}"].join("\n"),{seriesId:b,episodeId:d},!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data:a.reject(b&&b.data?b.data.errorMessage:null)})}function o(b,d,e,f){return c.sendQuery(["mutation SetEpisodeProgress($episodeProgress: EpisodeProgressInput!) {","   setEpisodeProgress(episodeProgress: $episodeProgress)","}"].join("\n"),{episodeProgress:{seriesId:b,episodeId:d,secondsWatched:e,percentComplete:f}},!0).then(function(b){return b&&b.data&&!b.data.errorMessage?b.data:a.reject(b&&b.data?b.data.errorMessage:null)})}function p(){return["fragment publicSeriesFragment on PublicSeries {","   isProtected","   seriesId","   seriesUrl","   title","   description","   forumRoomId","   hubspot {","       title","       description","       hubspotSubscribeFormId","   }","   activeEpisodes {","       ...publicEpisodeFragment","   }","}"].concat(q())}function q(){return["fragment publicEpisodeFragment on PublicEpisode {","   episodeId","   episodeUrl","   title","   shortSummary","   description","   publishedDateKey","   thumbnailUrl","   episodeViews","   resources {","       title","       url","   }","","   activeEpisodeContent {","       ...audioVisualContentFragment","   }","   userProgress {","       status","       secondsWatched","       percentComplete","   }","}"].concat(r())}function r(){return["fragment audioVisualContentFragment on AudioVisualContent {","   contentId","   duration","   mediaType","   sources {","       ...sourceFragment","   }","   adaptiveStreams {","       playlistKey","       ext","       streamType","       signedUrl","       segmentDuration","       sources {","           ...sourceFragment","       }","   }","}"].concat(s())}function s(){return["fragment sourceFragment on AudioVisualSource {","   sourceType","   ext","   key","   presetId","   fileSize","   duration","   audioBitRate","   audioMaxBitRate","   frameRate","   height","   maxHeight","   width","   maxWidth","   videoBitRate","   videoMaxBitRate","   segmentDuration","   signedUrl","}"]}return{getWebSeriesByUrl:j,getAllWebSeries:f,getWebSeriesAndEpisodeByUrl:m,getWebSeriesById:e,getWebSeriesByIds:g,getWebSeriesByUrls:i,setEpisodeProgress:o,setEpisodeViewed:n,courseBrowseGetWebSeriesByUrls:h,getWebSeriesAndEpisodeByUrlForVodcastViewer:k,getWebSeriesAndEpisodeByUrlForVodcastPlaylist:l}}a.$inject=["$q","lodash","graphqlService","contentService"],angular.module("app.core").service("webseriesService",a)}(),function(){"use strict";function a(a,b){function c(c,d,e){if(!e||!b.isAuthenticated()){c.preventDefault();a.open({templateUrl:"/app/members/components/gu-why-join-modal.html",size:"lg",controller:"GuWhyJoinModalController",controllerAs:"vm",windowClass:"GuWhyJoinModal",resolve:{paymentType:function(){return d||"annual"},promotionId:function(){return null},token:function(){return null}}})}}return{showWhyJoinModal:c}}a.$inject=["$uibModal","authService"],angular.module("app.core").service("whyJoinService",a)}(),function(){"use strict";angular.module("app.layout",["app.core","app.core.brand","blocks.schema","ngAnimate","ngAria","ui.bootstrap","angular-loading-bar","btford.markdown","angular-medium-editor","720kb.socialshare","blocks.ngOptimiseImage","ngMeta","mgcrea.bootstrap.affix"])}(),function(){"use strict";function a(){return{templateUrl:"app/layout/components/loading-indicator.html"}}angular.module("app.layout").directive("guruLoadingIndicator",a)}(),function(){"use strict";function a(){return{templateUrl:"app/layout/components/markdown-syntax-link.html"}}angular.module("app.layout").directive("guru-markdown-syntax-link",a)}(),function(){"use strict";function a(){return{scope:{},controllerAs:"cartVm",controller:b,templateUrl:"app/layout/components/shopping-cart.html",bindToController:!0}}function b(a,b,c,d,e){function f(){d.cancelOnAuthStateChange(g)}function g(){d.isReady()&&e.getUserOrganisationMembership().then(function(a){h.hideCart=a&&"subscription"===a.chargeModel}),d.isNotReady()&&(h.hideCart=!1),h.itemsInCart=c.getCartSize()}var h=this;h.hideCart=!1,h.itemsInCart=c.getCartSize(),a.$on("$destroy",f),function(){g(),d.onAuthStateChange(g)}()}b.$inject=["$scope","lodash","cartService","guruAuthService","organisationService"],angular.module("app.layout").directive("shoppingCart",a)}(),function(){"use strict";function a(a){a.init()}function b(a,b){var c=b.$get();a.useTitleSuffix(!0),a.setDefaultTitle(c.meta.title),a.setDefaultTitleSuffix(c.meta.titleSuffix),a.setDefaultTag("keywords",c.meta.keywords),a.setDefaultTag("author",c.meta.author),a.setDefaultTag("og:title",c.meta["og:title"]),a.setDefaultTag("og:description",c.meta["og:description"]),a.setDefaultTag("og:type",c.meta["og:type"]),a.setDefaultTag("og:locale",c.meta["og:locale"]),a.setDefaultTag("og:image",c.meta["og:image"]),a.setDefaultTag("og:site_name",c.meta["og:site_name"]),a.setDefaultTag("og:video",c.meta["og:video"])}function c(a,b){b.initialise(a.cloudinary.account,a.cloudinary.no_image_url)}function d(a,b,c,d){a.$state=b,a.$stateParams=c,d.onReady(function(){a.isLoggedIn=!0}),d.onNotReady(function(){a.isLoggedIn=!1,a.isAuthenticated=!1}),d.onReadying(function(){a.isAuthenticated=!0})}a.$inject=["ngMeta"],b.$inject=["ngMetaProvider","brandConfigProvider"],c.$inject=["appConfig","optimiseImageService"],d.$inject=["$rootScope","$state","$stateParams","guruAuthService"],angular.module("app.layout").config(b).run(d).run(a).run(c)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(){document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?t.addClass("detected__isFullscreen"):t.removeClass("detected__isFullscreen")}function l(a){return h.getProfileObjectFor(a)}function m(a){s.app.setting.theme=a}function n(){b.history.back()}function o(a){c.path("/app"+a)}function p(){g.signIn()}function q(){g.signOut()}function r(){g.signIn(!0)}var s=this,t=angular.element(b.document.body);s.profileFor=l,s.setTheme=m,s.goBack=n,s.goTo=o,s.login=p,s.logout=q,s.signup=r,function(){var b=!!navigator.userAgent.match(/MSIE/i)||!!navigator.userAgent.match(/Trident.*rv:11\./);s.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t.addClass(b?"ie":"not-ie"),t.addClass(s.isMobile?"detected__isMobile":"detected__isNotMobile"),document.addEventListener&&(document.addEventListener("webkitfullscreenchange",k,!1),document.addEventListener("mozfullscreenchange",k,!1),document.addEventListener("fullscreenchange",k,!1),document.addEventListener("MSFullscreenChange",k,!1)),k(),s.app={name:"Cloud Guru",version:"1.0.1",pageTitle:null,color:{primary:"#3f51b5",info:"#2196f3",success:"#4caf50",warning:"#ffc107",danger:"#f44336",accent:"#7e57c2",white:"#ffffff",light:"#f1f2f3",dark:"#475069"},setting:{theme:{primary:"very-dark-grey",accent:"orange",warn:"amber"},asideFolded:!1},search:{content:"",show:!1}},s.hasPromotion=!1,i.getCurrentPromotion().then(function(a){s.promotion=a,s.hasPromotion=!!a}),j.checkForCampaign(),a.$on("$stateChangeStart",function(a,b){b.data&&b.data.title&&(s.app.pageTitle=b.data.title)}),a.profile=f}()}a.$inject=["$rootScope","$window","$location","$state","$stateParams","profileService","authService","publicProfileService","promotionService","campaignService"],angular.module("app.layout").controller("LayoutController",a)}(),function(){"use strict";function a(a,c){c.configureStates(b(a,c.load),"/404")}function b(a,b){return[{state:"app",config:{abstract:!0,url:"",data:{showNavBar:!0},templateUrl:"app/layout/layout.html"}},{state:"_404",config:{url:"/404",data:{showNavBar:!0,is404:!0},templateUrl:"app/layout/404.html"}}]}a.$inject=["appConfig","routerHelper"],angular.module("app.layout").run(a)}(),angular.module("app.layout").run(["$templateCache",function(a){"use strict";a.put("app/layout/404.html",'<main><div class="container"><div class="simplePage--header"><a href="/"><img src="/images/logo-small-optimised-with-text.png" alt="A Cloud Guru Logo (small)"></a></div><div class="row"><div class="col-md-4 col-md-offset-4"><div class="panel panel-default m-t-xl text-center">\x3c!-- Start: Contents --\x3e\x3c!-- Start: Header --\x3e<div class="panel-heading"><h1>404</h1></div>\x3c!-- End: Header --\x3e<div class="panel-body"><p class="t__xl">We\'ve got ourselves all confused.<br>This page doesn\'t exist.</p><p class="m-t-md"><a class="btn btn-primary" ui-sref="home">Go To Our Home Page</a></p></div>\x3c!-- Contents: End --\x3e</div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.container--\x3e</main>'),a.put("app/layout/components/loading-indicator.html",'<div class="m-t text-center text-md"><i class="fa fa-refresh fa-spin"></i></div>'),a.put("app/layout/components/markdown-syntax-link.html",'<a class="text-info text-italic text-sm" href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" target="_blank">Markdown syntax accepted</a>'),a.put("app/layout/components/shopping-cart.html",'<a class="shoppingCart" ng-if="cartVm.itemsInCart" ng-hide="cartVm.hideCart" ui-sref="public.checkout.index">Cart ({{cartVm.itemsInCart }})</a>'),a.put("app/layout/layout.html",'\x3c!-- Start: Content --\x3e<div id="content" role="main">\x3c!-- Nav Bar, if need to show it --\x3e<div class="nav-background" ng-if="$state.current.data.showNavBar && !$state.current.data.showViewer"><gu-nav-shell></gu-nav-shell></div>\x3c!-- For non-navbar pages --\x3e<div ng-class="{\'app-content\': $state.current.data.showViewer}" ui-view></div></div>\x3c!-- End: Content --\x3e')}]),function(){"use strict";angular.module("app.dashboard",["ngTagsInput","smart-table","angular-progress-arc"])}(),function(){"use strict";function a(){return{scope:{callback:"=?",items:"=?",data:"=?",showImage:"=?",label:"=?"},templateUrl:"app/dashboard/components/gu-dropdown.html",controller:b,controllerAs:"vm",transclude:!0,bindToController:!0}}function b(a,b,c){function d(){e.classFriendlyTitles=c.zipObject(e.items,c.map(e.items,function(a){return(a.title||a).replace(/ /g,"-")}))}var e=this;e.classFriendlyTitles={},a.$watch("vm.items",d,!0)}b.$inject=["$scope","$location","lodash"],angular.module("app.dashboard").directive("guDropdown",a)}(),function(){"use strict";function a(){return{scope:{markdownModel:"=",informationalMessage:"=",editMode:"=?",placeholder:"=",changed:"=?",control:"=?"},replace:!0,controller:b,controllerAs:"editorVm",templateUrl:"app/dashboard/components/gu-editor.html",bindToController:!0}}function b(a,b,c,d,e,f,g,h,i,j){function k(){l.htmlModel=l.markdownModel.input?h(g.makeHtml(l.markdownModel.input)):""}var l=this;l.htmlModel=null,l.control=l.control||{},l.buttons=function(){var a=["bold","italic","underline","strikethrough","anchor","pre"];return j.forEach(i,function(b,c){var d=c.split("btn");if(2===d.length&&""===d[0]){var e="btn"+d[1],f=d[1].toLowerCase();if("false"===i[e]||""!==i[e]&&!i[e]){var g=a.indexOf(f);g>-1&&a.splice(g,1)}else a.push(f)}}),a}(),l.inform=l.inform||!1,l.placeholder=l.placeholder||"Highlight text for formatting",l.control.reset=function(){k(),l.markdownModel.output=l.markdownModel.input,""===l.markdownModel.input&&(l.markdownModel.input=null)},l.mediumBindOptions={placeholder:{text:l.markdownModel&&!l.markdownModel.input?l.placeholder:""},toolbar:{buttons:l.buttons},extensions:{}},a.$watch("editorVm.htmlModel",function(a,b){null!==l.htmlModel&&(l.markdownModel.output=window.toMarkdown(l.htmlModel),void 0!==l.changed&&b&&(l.changed=!0))}),a.$watch("editorVm.markdownModel.input",l.control.reset)}b.$inject=["$scope","questionService","courseService","$q","$state","$location","markdownConverter","$sanitize","$attrs","lodash"],angular.module("app.dashboard").directive("guEditor",a)}(),function(){"use strict";function a(){return{restrict:"C",transclude:!0,template:'<i class="fa fa-plus"></i>'}}function b(){return{restrict:"C",transclude:!0,template:'<i class="fa fa-remove"></i>'}}angular.module("app.dashboard").directive("guButtonAdd",a).directive("guButtonRemove",b)}(),function(){"use strict";function a(){return{scope:{value:"=",size:"@?",showLabel:"=?"},replace:!0,controllerAs:"vm",controller:b,templateUrl:"app/dashboard/components/gu-progress-bar.html",bindToController:!0}}function b(a){function b(){}a.$on("$destroy",b)}b.$inject=["$scope"],angular.module("app.dashboard").directive("guProgressBar",a)}(),function(){"use strict";function a(a,b){function c(){a.dismiss("close")}var d=this;d.close=c,function(){d.reputationLevels=b.getAll()}()}a.$inject=["$uibModalInstance","reputationService"],angular.module("app.dashboard").controller("ReputationModalController",a)}(),function(){"use strict";function a(){return{scope:{url:"=?",title:"=?",shareMessage:"=?",buttonText:"=?"},templateUrl:"app/dashboard/components/gu-social-share.html",controller:b,controllerAs:"vmSocial",bindToController:!0,link:function(a,b,c,d){new window.Clipboard(b.find(".clipboard")[0])}}}function b(a,b,c){function d(){return angular.isUndefined(e.title)?"":e.title}var e=this;e.networks=function(){return[{name:"Facebook",icon:"fa-facebook-official"},{name:"Twitter",icon:"fa-twitter-square",text:function(){angular.isDefined(e.title)&&e.title;var a=115-e.shareMessage.length;return e.shareMessage+" "+(a>d().length?d():d().substr(0,a-3-1)+"...")}},{name:"LinkedIn",icon:"fa-linkedin-square",text:function(){return d().substr(0,80)},description:function(){return e.shareMessage}},{name:"Google+",icon:"fa-google-plus-square"},{name:"Reddit",icon:"fa-reddit-square",text:function(){return d()}}]}(),e.title=e.title||"",e.shareMessage=e.shareMessage||"",e.buttonText=e.buttonText||"Share",e.isCopied=!1,a.$watch("vmSocial.url",function(a){e.shareUrl=a||b.absUrl()})}b.$inject=["$scope","$location","$timeout"],angular.module("app.dashboard").directive("guSocialShare",a)}(),function(){"use strict";function a(a,b){function c(c,d,e,f){function g(a){return{where:JSON.stringify(a.search&&a.search.predicateObject?a.search.predicateObject:{}),sort:a.sort?a.sort.predicate:"",reverse:a.sort?a.sort.reverse:"",pageNumber:m.pageNumber}}function h(a){a.search={predicateObject:b.where?JSON.parse(b.where):{}},a.sort={predicate:b.sort||d,reverse:b.reverse||e}}function i(b){if(b){var c=!0;l||(c=!1,l=b,h(b)),m.fetchingActivityData=!0;var d=angular.copy(b);d.pagination.start=m.pageNumber-1,d.pagination.totalItemCount=d.pagination.totalItemCount||m.pageSize,c&&a.go(a.current.name,g(d,m),{notify:!1}),f(d).then(function(a){m.displayed=a.data,m.fetchingActivityError=null,m.totalCount=a.totalCount,m.fetchingActivityData=!1}).catch(function(a){m.fetchingActivityError=a,m.fetchingActivityData=!1})}}function j(a){m.pageNumber=a,i(l)}function k(){i(l)}var l=null,m={pageSize:c,pageNumber:b.pageNumber||1,totalCount:0,displayed:[],fetchingActivityError:!1,fetchingActivityData:!1,callServer:i,changePageNumber:j,reload:k};return m}return{init:c}}a.$inject=["$state","$stateParams"],angular.module("app.core").factory("pagedTableHelperService",a)}(),function(){"use strict";function a(a){}a.$inject=["$uibTooltipProvider"];angular.module("app.dashboard").config(a)}(),function(){"use strict";function a(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.guruEnter)}),b.preventDefault())})}}angular.module("app.dashboard").directive("guruEnter",a)}(),function(){"use strict";function a(){return{restrict:"A",scope:{scrollContainer:"=",scrollTarget:"=",scrollOffset:"=",scrollDelay:"=",scrollDuration:"=?"},controller:b}}function b(a){function b(a,b){var c=0,d=0;do{c+=a.offsetTop||0,d+=a.offsetLeft||0,a=a.offsetParent}while(a&&a!==b);return{top:c,left:d}}function c(c,d,e){
setTimeout(function(){var e=c?$(c):$("body"),f=$(d);if(f.length>0&&e.length>0){var g=b(f[0],e[0]).top;a.scrollOffset>0&&g>a.scrollOffset&&(g-=a.scrollOffset),e.animate({scrollTop:g},{duration:"number"==typeof a.scrollDuration?a.scrollDuration:750})}},a.scrollDelay||0)}function d(){a.scrollTarget&&c(a.scrollContainer,a.scrollTarget,a.scrollOffset)}a.$watch("scrollTarget",d,!0)}b.$inject=["$scope"],angular.module("app.dashboard").directive("guruScroll",a)}(),function(){"use strict";angular.module("app.checkout",["app.core","app.core.brand"])}(),function(){"use strict";function a(a,b){a.go("public.checkout.index",{productIdQS:b.productId,promoCodeQS:b.promoCode})}a.$inject=["$state","$stateParams"],angular.module("app.checkout").controller("BuyRedirectController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){if(b.backUrl)return d.url(b.backUrl);c.go("courses")}function r(){return 0===z.totalPrice?"Redeem":z.pointsBillingOrganisation?"Confirm":"Checkout"}function s(){z.pointsBillingOrganisation?c.go("public.checkout.processing",{paymentMethod:"points"}):0===z.totalPrice?c.go("public.checkout.processing",{paymentMethod:"free"}):c.go("public.checkout.payment")}function t(a,b){a&&i.addProductToCheckout(a,b).then(y).catch(x).finally(w)}function u(a){i.removeProductFromCheckout(a).then(y).finally(w)}function v(a){return g.getSquareUrl(a)}function w(){var a=i.getProductPricesInCheckout();if(a){var b=i.calculateCheckoutTotal();z.totalPrice=b?b.total:null,z.totalCurrencySymbol=b?b.currencySymbol:null,i.getMetadataForProduct(a).then(function(a){z.productMetadata=a}),z.productCount=k.keys(a).length;var c=i.getProductsNotInCheckout();z.coursesNotInCart=k.filter(c,function(a){return"course"===a.type&&a.price&&"pts"!==a.price.currency&&a.price.price>0})}}function x(a){return z.errorMessage=a.message,e.reject(a)}function y(){z.errorMessage=null}var z=this;z.loaded=!1,z.productMetadata=null,z.productCount=null,z.placeholders=function(){return k.zipObject(h.get())}(),z.totalPrice=null,z.totalCurrencySymbol=null,z.pointsBillingOrganisation=null,z.errorMessage=null,z.getProductPricesInCheckout=i.getProductPricesInCheckout,z.getPromoCode=i.getPromoCode,z.addProductToCheckout=t,z.removeProductFromCheckout=u,z.confirmed=s,z.confirmationButtonText=r,z.getArtwork=v,z.goBack=q,function(){var a=b.productIdQS||null,c=b.promoCodeQS||null;b.productIdQS&&d.search("productIdQS",null),b.promoCodeQS&&d.search("promoCodeQS",null);var f=i.checkout(),g=l.hasLoaded.promise.then(function(){return m.getUserOrganisationMembershipsForCurrentBrand()}).then(function(a){var b=k.head(a);return!b||!0!==b.usePoints&&"subscription"!==b.chargeModel?null:b}).then(function(a){z.pointsBillingOrganisation=a||null}),h=e.resolve().then(function(){if(a)return t(a,c)});e.all([f,g,h]).finally(function(){z.loaded=!0,w()})}()}a.$inject=["$scope","$stateParams","$state","$location","$q","$window","artworkService","cartService","checkoutService","brandConfig","lodash","profileService","organisationService","guruAuthService","utilsService","analyticsService"],angular.module("app.checkout").controller("CheckoutController",a)}(),function(){"use strict";function a(a,c){a.configureStates(b(c,a.load))}function b(a,b){return[{state:"public.login",config:{url:"/login?{backUrl:any}&{successUrl:any}&{loginCategory:any}",templateUrl:"app/checkout/protect-course-access.html",controller:"ProtectCourseAccessServiceController",meta:{title:"Login",description:"Login to access protected content"}}},{state:"public.signup",config:{url:"/signup?backUrl&successUrl&loginCategory",templateUrl:"app/checkout/protect-course-access.html",controller:"ProtectCourseAccessServiceController"}},{state:"public.purchase",config:{url:"/buy/{productId}?{promoCode}",controller:"BuyRedirectController",data:{logoutState:"home",loginCategory:"purchase",mustLogin:!0},meta:{title:"Checkout",description:"Checkout to purchase a course or bundle"}}},{state:"checkout-offers",config:{url:"/checkout/offers?{productIdQS}&{promoCodeQS}&{backUrl}",templateUrl:"app/checkout/offers.html",controller:"OffersController",data:{cssClass:"page__dark",logoutState:"home",loginCategory:"purchase",mustLogin:!0},meta:{title:"Bundle Upgrade Offers",description:"This course is available in a bundle."},resolve:{protectFromPointsResolver:d(),protectFromMembershipResolver:c()}}},{state:"public.checkout",config:{url:"/checkout",templateUrl:"app/checkout/checkout.template.html",abstract:!0,data:{logoutState:"home",loginCategory:"purchase",mustLogin:!0}}},{state:"public.checkout.index",config:{url:"?{productIdQS}&{promoCodeQS}&{backUrl}",templateUrl:"app/checkout/checkout.html",controller:"CheckoutController",reloadOnSearch:!1,meta:{title:"Checkout",description:"Checkout to purchase a course or bundle"},resolve:{protectFromMembershipResolver:c()}}},{state:"public.checkout.payment",config:{url:"/payment?{paymentOption}",templateUrl:"app/checkout/payment.html",controller:"PaymentController",meta:{title:"Checkout",description:"Select a payment method"},resolve:{protectFromPointsResolver:d(),protectFromMembershipResolver:c()}}},{state:"public.checkout.processing",config:{url:"/processing/{paymentMethod}?{PayerID}&{token}&{taxamo_transaction_key}&{productIdQS}&{promoCodeQS}",templateUrl:"app/checkout/processing.html",controller:"ProcessingController",reloadOnSearch:!1,meta:{title:"Processing",description:"We are processing Payment"},resolve:{protectFromMembershipResolver:c(),protectFromCourseDuplication:e()}}}]}function c(){return["$q","$state","$stateParams","lodash","courseMetadataService","productMetaDataService","currentUserAccessService","organisationService","profileService","roleService",function(a,b,c,d,e,f,g,h,i,j){return j.isMember().then(function(h){if(h)return c.productIdQS&&f.getActiveProductById(c.productIdQS).then(function(a){var b=d.values(a.courses)[0];return g.startMemberCourse(b).then(function(){return b})}).then(function(a){return e.getCourseById(a)}).then(function(a){return b.go("app.course.dashboard",{courseUrl:a.url})}),a.reject()})}]}function d(){return["$q","$state","$stateParams","lodash","organisationService","profileService",function(a,b,c,d,e,f){return f.hasLoaded.promise.then(function(){return e.getUserOrganisationMembershipsForCurrentBrand()}).then(function(e){var f=d.head(e);if(f&&"points"===f.chargeModel)return c.productIdQS&&b.go("public.checkout.index",{paymentMethod:"subscription",productIdQS:c.productIdQS}),a.reject()})}]}function e(){return["$q","$state","$stateParams","lodash","currentUserAccessService","authService","courseMetadataService","profileService","productMetaDataService",function(a,b,c,d,e,f,g,h,i){var j=c.productIdQS;if(j)return h.hasLoaded.promise.then(function(){var b=e.getAccessibleCourseIds(),c=i.getActiveProductById(j);return a.all([b,c])}).then(d.spread(function(c,e){var f=d.values(e.courses);if(f.length&&0===d.difference(f,c).length)return g.getCourseById(f[0]).then(function(a){b.go("app.course.dashboard",{courseUrl:a.url})}),a.reject()}))}]}a.$inject=["routerHelper","appConfig"],angular.module("app.checkout").run(a)}(),function(){"use strict";function a(a,b){function c(){var b=a.getUserId();return f+"-"+b}function d(){return b.removeExpiredByKeyStartingWith(f),b.getWithoutExpiry(c())||!1}function e(){return b.setWithExpiry(c(),!0,5)}var f="membershipOffersUpsellDismissed";return{getIsUpsellDismissed:d,setUpsellDismissed:e}}a.$inject=["authService","localStorageServiceExtensions"],angular.module("app.checkout").factory("checkoutOffersService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(){return B.loaded=g.getUserProductPricesWithCartPromoCodes({visibleOnly:!0,filterMembersOnly:!0},!0).then(function(a){x=b.pick(a,c.get()),y=b.omit(a,c.get())})}function m(){return x}function n(){return y}function o(){return z}function p(){return A}function q(){c.clear(),x=null,y=null,z={},A={},B.loaded=null}function r(b,d){return y&&delete y[b],B.loaded||l(),B.loaded.then(function(){return g.getUserProductPrice(b,{userPromoCodeIds:d?[d]:[]})}).then(function(e){return e?e.price?(c.add(b,d),d&&(z[b]=d),x[b]=e,d&&!1===e.price.isDiscount?a.reject(new Error("PromoCode "+d+" is not valid with "+e.title)):void 0):a.reject(new Error("Unable to add product "+e.title+", please contact support")):a.reject(new Error("You already own or we are unable to find product with id, "+b+". Please contact support if you think this is a mistake"))})}function s(a){return c.remove(a,!0),delete x[a],delete z[a],g.getUserProductPrices().then(function(b){y[a]=b[a]})}function t(){if(null===x)return new Error("Checkout not loaded");if(0===b.keys(x).length)return new Error("There are no products to checkout");var a=b.values(x)[0].price.currency;return!!b(x).values().every(function(b){return b.price.currency===a})||new Error("Not all products in the checkout share the same currency")}function u(){if(!(t()instanceof Error)){var a={currency:null,currencySymbol:null,total:null};return a.total=b(x).reduce(function(a,b){return a+b.price.price},0),a.currency=b.values(x)[0].price.currency,a.currencySymbol=b.values(x)[0].price.currencySymbol,a}}function v(c){var d=b(c).mapValues(function(b){return"course"===b.type?k.getCourseById(b.courseIds[0]).then(function(a){var b=a.lectureCount+" lessons. ";return a.quizCount&&(b+=a.quizCount+" quizzes. "),a.duration&&(b+=a.duration+" hours."),b}):"bundle"===b.type?a.resolve(b.courseIds.length+" courses."):a.resolve("")}).value();return a.all(d)}function w(a,c){if("chargeStripe"!==a&&"getPaypalToken"!==a&&"chargePaypal"!==a&&"chargePoints"!==a&&"free"!==a)return null;if(!x&&0===b.keys(x).length)return null;var d={brandId:e.getBrand(),checkout:{},products:{}};"chargeStripe"===a&&(d.checkout.method="Stripe"),"chargePaypal"===a&&(d.checkout.method="PayPal"),"chargePoints"===a&&(d.checkout.method="Points"),"free"===a&&(d.checkout.method="Free"),c&&(d.payment=c),d.products=b(x).mapValues(function(a){var b={expectedPrice:a.price.price};return a.price.discountPromoCodeId&&(b.promoCode=a.price.discountPromoCodeId),b}).value();var f=u();return d.checkout.expectedTotal=f.total,"PTS"===f.currency||"pts"===f.currency?d.checkout.currency=f.currency.toLowerCase():d.checkout.currency=f.currency.toUpperCase(),d}var x=null,y=null,z={},A={},B={checkout:l,getProductPricesInCheckout:m,getProductsNotInCheckout:n,getPromoCode:o,getCoursesFromBundlesInCheckout:p,addProductToCheckout:r,removeProductFromCheckout:s,finishCheckout:q,toCheckoutJSON:w,getMetadataForProduct:v,calculateCheckoutTotal:u,isValidCheckout:t,loaded:null};return B}a.$inject=["$q","lodash","cartService","authService","brandService","guruAuthService","productService","utilsService","searchService","organisationService","courseMetadataService"],angular.module("app.checkout").factory("checkoutService",a)}(),function(){"use strict";function a(){return{restrict:"A",link:function(a,b,c){b.bind("load",function(){a.$apply(c.imageonload)})}}}angular.module("app.checkout").directive("imageonload",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(){return n.productId?h.getUserProductPrice(n.productId,{userPromoCodeIds:n.promoCode?[n.promoCode]:[]}).then(function(a){n.productPricing=a}):a.resolve()}function l(){return i.getPricingObject(n.userLocation.currencyCode).then(function(a){n.membershipPricing=a})}function m(){var a=f.assign({productIdQS:n.productId},n.promoCode?{promoCodeQS:n.promoCode}:{},{backUrl:d.href(d.current.name,{productIdQS:n.productId},{absolute:!1,inherit:!1})});j.setUpsellDismissed(),d.go("public.checkout.index",a)}var n=this;n.productId=e.productIdQS,n.promoCode=e.promoCodeQS,n.goToCheckout=m,n.productPricing=null,n.membershipPricing=null,function(){g.getLocationInfo().then(function(b){return n.userLocation=b,a.all([k(),l()])})}()}a.$inject=["$q","$scope","$location","$state","$stateParams","lodash","locationDetectionService","productService","membershipPricingService","checkoutOffersService"],angular.module("app.checkout").controller("OffersController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){b.go("public.checkout.index")}function j(){var a=l[k.paymentOption];if(!a)throw new Error("Unknown Error: "+k.paymentOption);b.go("public.checkout.processing",{paymentMethod:a})}var k=this;k.isCreditCardEnabled=g.payment.creditcard,k.isPaypalEnabled=g.payment.paypal;var l={},m=null;k.isCreditCardEnabled&&(l["credit-card"]="stripe",m="credit-card"),k.isPaypalEnabled&&(l.paypal="paypal",m=m||"paypal"),k.paymentOption=function(a){return!!l[a]}(c.paymentOption)?c.paymentOption:m,k.totalPrice=null,k.totalCurrencySymbol=null,k.goBack=i,k.payNow=j,function(){f.loaded||f.checkout(),f.loaded.then(f.calculateCheckoutTotal).then(function(a){k.totalPrice=a.total,k.totalCurrencySymbol=a.currencySymbol})}()}a.$inject=["$scope","$state","$stateParams","lodash","$q","checkoutService","featuresConfig","$window"],angular.module("app.checkout").controller("PaymentController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(a){return b(function(b,c){h.makePurchase(a,b,c)})}function t(a){return b(function(b,c){h.makePurchase(a,b,c)})}function u(a){return b(function(b,d){var e=Taxamo.transaction().buyerEmail(B()).buyerName(C()).currencyCode(n.values(a)[0].price.currency.toUpperCase()),f=0;n(a).forEach(function(a,b){a.price.price>0&&(e=e.transactionLine(b).amount(a.price.price).description(a.invoiceDescription),f++)}),e=e.done(),Taxamo.doCheckout(e,"stripe",function(a){if(!0!==a.success){if("window_closed"===a.message_type)return void c.go("public.checkout.payment");d("Payment canceled, try another payment method?")}!0===a.success&&z(a.payment_result.key).then(b).catch(d)},{vat_number_field_hidden:!1,email_field_hidden:!1,email_field_optional:!0,buyer_name_field_visible:!0,buyer_name_field_required:!0,skip_payment:!0,custom_fields:[{key:"userId",value:o.getUserId()}]})})}function v(a){return b(function(b,c){h.makePurchase(a,b,c)})}function w(a){return b(function(b,d){h.getPaypalToken(a,B(),c.href("public.checkout.processing",{},{absolute:!0}),c.href("public.checkout.index",{},{absolute:!0}),function(a){var b={token:a,public_token:j.publicToken,cancel_url:btoa(c.href("public.checkout.index",{},{absolute:!0})),return_url:btoa(c.href("public.checkout.processing",{},{absolute:!0}))};F.off(),k.location.href=i.taxamo.express_checkoutUrls.startOfUrl+"?"+A(b)+i.taxamo.express_checkoutUrls.endOfUrl},d)})}function x(a){a&&(E.errorMessage=a.message,E.errorPaymentTaken=a.paymentTaken,E.errorContactEmail=a.contactEmail),E.isError=!0}function y(){var a=n.values(g.getProductPricesInCheckout()),e=1===a.length&&1===a[0].courseIds.length;return E.title="subscription"===d.paymentMethod||"free"===d.paymentMethod?"Successfully granted access":"Payment complete",E.title+=". Redirecting to ",E.title+=e?"course page...":"your courses...",g.finishCheckout(),r.clearCache(),b.all([q.getUserProductPrices({},!0),p(function(){},3e3)]).then(function(){if(e)return f.getCourseById(a[0].courseIds[0])}).then(function(a){a?c.go("app.course.dashboard",{courseUrl:a.url}):c.go("dashboard")})}function z(a){var c=g.toCheckoutJSON("chargeStripe",{stripe:{paymentKey:a}});return b(function(a,b){h.makePurchase(c,a,b)})}function A(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function B(){return l.data?l.data.email:null}function C(){return l.data?l.data.name:null}function D(){return"paypal"===d.paymentMethod?c.go("public.checkout.payment",{paymentOption:"credit-card"}):"stripe"===d.paymentMethod?c.go("public.checkout.payment",{paymentOption:"paypal"}):"points"===d.paymentMethod?c.go("public.checkout.index"):"subscription"===d.paymentMethod?c.go("courses"):k.history.back()}var E=this,F=function(){function b(a){if(c){var b="A payment is currently being taken. If you leave the page the payment may be taken without granting you access to the courses.",a=a||window.event;return a&&(a.returnValue=b),b}}var c=!1;return window.addEventListener("beforeunload",b),a.$on("$destroy",function(){window.removeEventListener("beforeunload",b)}),{on:function(){c=!0},off:function(){c=!1}}}();E.loaded=!1,E.goBack=D,E.title="",E.isError=!1,E.backMessage="Back",function(){var a=d.productIdQS||null,c=d.promoCodeQS||null;switch(d.productIdQS&&e.search("productIdQS",null),d.promoCodeQS&&e.search("promoCodeQS",null),"paypal"!==d.paymentMethod&&"stripe"!==d.paymentMethod||(E.backMessage="Change Payment Method"),d.paymentMethod){case"paypal":E.title="Processing PayPal Payment...";break;case"stripe":E.title="Processing Credit Card Payment...";break;case"points":E.title="Processing Points Payment...";break;case"subscription":E.title="Granting Access...";break;case"free":E.title="Processing Free Course Redemption..."}g.checkout().then(function(){if(a)return g.addProductToCheckout(a,c)}).then(function(){F.on();var a=g.isValidCheckout();return a instanceof Error?b.reject(a):"paypal"===d.paymentMethod&&d.PayerID&&d.token&&d.taxamo_transaction_key?v(g.toCheckoutJSON("chargePaypal",{paypal:{paypalToken:d.token,payerId:d.PayerID,taxamoTransactionKey:d.taxamo_transaction_key}})):"stripe"===d.paymentMethod?u(g.getProductPricesInCheckout()):"paypal"===d.paymentMethod?w(g.toCheckoutJSON("getPaypalToken",null)):"points"===d.paymentMethod||"subscription"===d.paymentMethod?s(g.toCheckoutJSON("chargePoints")):"free"===d.paymentMethod?t(g.toCheckoutJSON("free")):b.reject(new Error("Invalid checkout parameters"))}).then(y).catch(x).finally(function(){E.loaded=!0,checkoutCompletedDeferred&&checkoutCompletedDeferred.resolve(),F.off()})}()}a.$inject=["$scope","$q","$state","$stateParams","$location","courseMetadataService","checkoutService","purchaseService","appConfig","taxamoConfig","$window","profileService","cartService","lodash","authService","$timeout","productService","currentUserAccessService"],angular.module("app.checkout").controller("ProcessingController",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){e.cancelOnReadying(i),e.cancelOnReady(m)}function h(){f.signIn()}function i(){o.isHandlingSignInState=!0}function j(){if("purchase"!==b.loginCategory){var a=o.successUrl+(o.successUrl.indexOf("?")>=0?"&":"?")+"backUrl="+encodeURIComponent(o.backUrl);d.go("public.register",{successUrl:a})}else o.isHandlingSignInState=!0,l()}function k(){p=!0,e.onReady(j),f.signIn(!0)}function l(){var a=o.successUrl+(o.successUrl.indexOf("?")>=0?"&":"?")+"backUrl="+encodeURIComponent(o.backUrl);c.url(a)}function m(){p||l()}function n(){o.isPaidCategory="quiz"===o.loginCategory||"course"===o.loginCategory}var o=this,p=!1;o.backUrl=b.backUrl||"/",o.successUrl=b.successUrl?decodeURIComponent(b.successUrl).substring(1):"/",o.loginCategory=b.loginCategory,o.isLoginMode="public.login"===d.current.name,o.isHandlingSignInState=!1,o.doLogin=h,o.doSignUp=k,a.$watch("loginCategory",n),a.$on("$destroy",g),function(){e.onReadying(i),e.onReady(m)}()}a.$inject=["$scope","$stateParams","$location","$state","guruAuthService","authService"],angular.module("app.checkout").controller("ProtectCourseAccessServiceController",a)}(),angular.module("app.checkout").run(["$templateCache",function(a){"use strict";a.put("app/checkout/checkout.html",'\x3c!-- Start: Header --\x3e<div class="panel-heading"><h3>Your Cart</h3></div>\x3c!-- End: Header --\x3e<div class="panel-body">\x3c!-- Start: Error Area --\x3e<div class="checkout--errorMessage" ng-if="vm.errorMessage">{{ vm.errorMessage }}</div>\x3c!-- End: Error Area --\x3e\x3c!-- Start: Checkout Item List --\x3e<div ng-class="{\'loaded\': vm.productMetadata !== null }"><div class="list-item list-item__empaneled list-item__has-media checkoutItem" ng-class="{ \'list-item__borderTop\': $index == 0 }" ng-repeat="(productId, product) in (vm.getProductPricesInCheckout() || vm.placeholders )"><img class="course-artwork" ng-if="product.artworkKey" ng-optimise-image="vm.getArtwork(product.artworkKey)" ng-optimise-image-square="50"><div class="list-item--indent"><a class="checkoutItem--remove" ng-click="vm.removeProductFromCheckout(productId)"><un-svg svg-src="images/svg-icons/remove.svg"></un-svg></a><div class="pull-right"><span ng-if="product.price.isDiscount" class="pretty-price__strike"><span class="pretty-price pretty-price--value" ng-if="product.price.currencySymbol == \'PTS\'"><span>{{product.price.standardPrice}}</span> <sup>{{product.price.currencySymbol}}</sup></span> <span class="pretty-price pretty-price--value" ng-if="product.price.currencySymbol !== \'PTS\'"><sup>{{product.price.currencySymbol}}</sup> <span>{{product.price.standardPrice}}</span></span></span> <span ng-if="product.price.price > 0"><span class="pretty-price pretty-price--value" ng-if="product.price.currencySymbol == \'PTS\'"><span>{{product.price.price}}</span> <sup>{{product.price.currencySymbol}}</sup></span> <span class="pretty-price pretty-price--value" ng-if="product.price.currencySymbol !== \'PTS\'"><sup>{{product.price.currencySymbol}}</sup> <span>{{product.price.price}}</span></span></span> <span class="pretty-price" ng-if="product.price.price === 0">Free</span></div><div class="md-list-item-content"><h3 class="checkoutItem--heading">{{ product.title }}</h3><p class="checkoutItem--description">{{ vm.productMetadata[productId] }}</p><small ng-if="product.availablePromoCodes.userPromoCode || product.availablePromoCodes.promotion" class="promocode-row" style="display: block"><span ng-if="product.price.discountedBy === \'USER_PROMO_CODE\'">Promo code</span> <span ng-if="product.price.discountedBy === \'PROMOTION\'">Promotion</span> <span class="label label-primary m-l-xs m-r-xs">{{ product.price.discountPromoCodeId }}</span></small></div></div>\x3c!--/.list-item--indent--\x3e</div>\x3c!--/.list-item--\x3e</div>\x3c!-- End: Checkout Item List --\x3e\x3c!-- Start: Add button --\x3e<div class="checkout--addMore"><h4 ng-if="vm.productCount === 0">There\'s nothing here, add some courses!</h4><h4 ng-if="vm.productCount > 0">Why stop there? Add more courses!</h4><select class="form-control" ng-change="vm.addProductToCheckout(vm.productSelected, null); vm.productSelected = \'\'" ng-model="vm.productSelected"><option value="">Add another course</option><option value="{{ product.id }}" ng-repeat="product in vm.coursesNotInCart | orderBy: \'title\'">{{ product.title }}</option></select></div>\x3c!-- End: Add button --\x3e<div class="checkout--totalRow list-item list-item__empaneled" ng-if="vm.productCount > 0"><span class="pretty-price pretty-price--value" ng-if="vm.totalCurrencySymbol == \'PTS\'"><span>{{vm.totalPrice}}</span> <sup>{{vm.totalCurrencySymbol}}</sup></span> <span class="pretty-price pretty-price--value" ng-if="vm.totalCurrencySymbol !== \'PTS\'"><sup>{{vm.totalCurrencySymbol}}</sup> <span>{{vm.totalPrice}}</span></span><h3>Total</h3><span class="checkout-card-info-note"><span ng-if="!vm.pointsBillingOrganisation">Includes lifetime access to the courses. Prices inclusive of taxes.</span></span> <span ng-if="vm.pointsBillingOrganisation">Your organisation <b>{{ vm.pointsBillingOrganisation.name }}</b> will be charged {{ vm.totalPrice }} {{ vm.totalPrice === 1 ? \'point\' : \'points\' }}</span></div>\x3c!-- Start: Buttons --\x3e<div class="checkout--buttonRow"><button ng-disabled="!vm.loaded || (vm.totalPrice === null)" ng-click="vm.confirmed()" class="btn btn-success btn-lg btn-block btn__ecommerce"><span ng-if="vm.loaded">{{ vm.confirmationButtonText() }}</span> <span ng-if="!vm.loaded"><i class="fa fa-refresh fa-spin"></i></span></button> <button ui-sref="courses" class="btn btn-link btn-block btn__ecommerce">Keep Shopping</button></div>\x3c!-- End: Buttons --\x3e</div>'),a.put("app/checkout/checkout.template.html",'<div class="container"><div class="simplePage--header"><a href="/"><img src="/images/logo-orange-and-white.png" alt="A Cloud Guru Logo (small)"></a></div><div class="panel panel-default panel-checkout m-t-xl">\x3c!-- Start: Contents --\x3e<div ui-view class="ignoreStickyFooter"></div>\x3c!-- Contents: End --\x3e</div>\x3c!-- Start: Terms and conditions statement --\x3e<div class="checkout--footerLink">By placing this order you are agreeing to our <a ui-sref="public.terms" target="_blank">Terms &amp; Conditions</a></div>\x3c!-- End: Terms and conditions statement --\x3e</div>'),a.put("app/checkout/offers.html",'<div class="container"><div class="simplePage--header"><a href="/"><img src="/images/logo-small-optimised-with-text.png" alt="A Cloud Guru Logo (small)"></a></div><div class="CheckoutMemberUpsell ignoreStickyFooter"><div class="CheckoutMemberUpsell--Inner"><img class="CheckoutMemberUpsell--CourseTiles" src="/images/checkout/course-tiles.png"><div class="CheckoutMemberUpsell--Panel CheckoutMemberUpsell--Panel__Member"><div class="UpsellPrice__MemberContainer"><span ng-if="vm.membershipPricing"><span class="UpsellPrice"><span class="UpsellPrice--Symbol">{{vm.membershipPricing.currencySymbol}}</span> <span class="UpsellPrice--Value">{{vm.membershipPricing.annual.price / 12 | number:2}}</span></span> <span class="UpsellPrice--Period">Per Month *</span></span></div><h1 class="upsell--title">Become a Member</h1><p class="upsell--blurb">Unlock exclusive members-only content and features such as:</p><ul class="Checklist Checklist__green CheckoutMemberUpsell--FeatureList"><li><span>Unlimited access to our entire course catalogue</span></li><li><span>Exclusive members-only series such as <a ui-sref="series.view({ seriesUrl: \'maker-labs\', episodeUrl: \'latest\' })">Maker Labs</a>, <a ui-sref="series.view({ seriesUrl: \'release-review\', episodeUrl: \'latest\' })">Release Review</a> and <a ui-sref="series.view({ seriesUrl: \'biographies\', episodeUrl: \'latest\' })">ACG Biographies</a></span></li><li><span>Watch anywhere with offline mode for our mobile apps</span></li><li><span>Membership swag: t-shirt and sticker pack <span class="CheckoutMemberUpsell--AnnualOnly">&mdash; Annual members</span></span></li><li><span>Serverlessconf ticket discounts <span class="CheckoutMemberUpsell--AnnualOnly">&mdash; Annual members</span></span></li></ul><span ng-if="vm.membershipPricing"><a ui-sref="members.join.signup" class="btn btn__GreenCTA btn-block"><span ng-if="vm.membershipPricing.trial">Start free trial</span> <span ng-if="!vm.membershipPricing.trial">Become a member</span></a></span></div><div class="CheckoutMemberUpsell--Panel CheckoutMemberUpsell--Panel__Buy"><div class="UpsellPrice__ProductContainer"><span class="UpsellPrice" ng-if="vm.productPricing"><span class="UpsellPrice--Symbol">{{vm.productPricing.price.currencySymbol}}</span> <span class="UpsellPrice--Value">{{vm.productPricing.price.price | number:2}}</span></span></div><h3>Buy Course Only</h3><p>Not interested by all that value?<br>That\'s okay, you can still buy the course on it\'s own.</p><a ng-click="vm.goToCheckout()" class="btn btn-outline btn-block">Buy course only</a></div></div></div>\x3c!-- Start: Terms and conditions statement --\x3e<div class="checkout--footerLink">By placing this order you are agreeing to our <a ui-sref="public.terms" target="_blank">Terms &amp; Conditions</a></div>\x3c!-- End: Terms and conditions statement --\x3e</div>'),a.put("app/checkout/payment.html",'\x3c!-- Start: Header --\x3e<div class="panel-heading"><h3>Select Payment Method</h3><a ng-click="vm.goBack()" class="checkout--backButton"><i class="fa fa-angle-left"></i> Checkout</a></div>\x3c!-- End: Header --\x3e<div class="panel-body">\x3c!-- Start: Payment Option List --\x3e<div class="" ng-class="{\'loaded\': vm.productMetadata !== null }">\x3c!-- Credit Card Payment --\x3e<div class="checkoutMethod list-item list-item__empaneled list-item__interactive list-item__borderTop" ng-click="vm.paymentOption = \'credit-card\'" ng-if="vm.isCreditCardEnabled"><label class=""><input type="radio" ng-model="vm.paymentOption" value="credit-card" name="payment-option"></label><div class="checkout--supportedCards"><img src="/images/payments/visa.png"> <img src="/images/payments/mastercard.png"> <img src="/images/payments/amex.png"></div><div class="checkoutMethod--indent"><div class="payment-option-text"><h3 class="text-md placeholder">Credit Card</h3><small class="font-thin placeholder">We accept Visa, Mastercard &amp; American Express.</small></div></div></div>\x3c!-- PayPal --\x3e<div class="checkoutMethod list-item list-item__empaneled list-item__interactive" ng-click="vm.paymentOption = \'paypal\'" ng-if="vm.isPaypalEnabled"><label class=""><input type="radio" ng-model="vm.paymentOption" value="paypal" name="payment-option"></label><div class="paypal-logo"><img src="/images/payments/paypal.png"></div><div class="checkoutMethod--indent"><div class="payment-option-text"><h3 class="text-md placeholder">PayPal</h3><small class="font-thin placeholder">Pay with your PayPal account, or with credit card even if you don\'t have a PayPal account.</small></div></div></div></div>\x3c!-- End: Payment Option List --\x3e\x3c!-- Start: Buttons --\x3e<div class="checkout--buttonRow clearfix"><button ng-click="vm.payNow()" class="btn btn-success btn-lg btn-block btn__ecommerce">Pay Now</button> <small><span ng-if="vm.totalPrice !== null">Total {{ vm.totalCurrencySymbol }}{{ vm.totalPrice }} &mdash;</span> Price is inclusive of all relevant taxes.</small></div></div>'),a.put("app/checkout/processing.html",'<div class="checkout--processing"><div ng-if="!vm.isError"><h1>{{ vm.title || \'Processing...\' }}</h1></div><div ng-if="vm.isError"><h1>An error has occurred.</h1><h4 class="m-t-xs m-b-xl" ng-if="!vm.errorPaymentTaken">Payment has not been taken.</h4><p>{{vm.errorMessage}}</p><p ng-if="vm.errorContactEmail">Please contact {{vm.errorContactEmail}} for assistance</p></div><div ng-if="!vm.loaded" class="text-md text-center" ng-show="!vm.loaded"><i class="fa fa-refresh fa-spin"></i></div><button ng-if="vm.isError" ng-click="vm.goBack()" class="btn btn-primary btn-lg"><i class="fa fa-angle-left fa-fw"></i> {{ vm.backMessage }}</button></div>'),a.put("app/checkout/protect-course-access.html",'<div class="container"><div class="simplePage--header"><a href="/"><img src="/images/logo-orange-and-white.png" alt="A Cloud Guru Logo (small)"></a></div><div class="row"><div class="col-md-8 col-md-push-2 m-t-lg text-center"><div class="panel MustLogin--Panel"><div class="panel-body"><h1 class="MustLogin--Heading">You must log in to <span ng-if="vm.loginCategory === \'course\'">access learning content.</span> <span ng-if="vm.loginCategory === \'quiz\'">do quizzes and practice exams.</span> <span ng-if="vm.loginCategory === \'profile\'">access your profile.</span> <span ng-if="vm.loginCategory === \'purchase\'">purchase courses.</span> <span ng-if="vm.loginCategory === \'question\'">ask a question.</span> <span ng-if="vm.loginCategory === \'admin\'">perform administration.</span> <span ng-if="vm.loginCategory === \'convert\'">migrate a purchase from another platform.</span> <span ng-if="!vm.loginCategory">access this area.</span></h1><div ng-if="!vm.isHandlingSignInState"><p>Login to an existing A Cloud Guru account, or create a new one:</p><button id="signUpButton" ng-click="vm.doSignUp()" class="btn btn__roundRect btn-lg btn-primary m-a-xs">Sign Up For Free</button> <button id="existingAccountButton" ng-click="vm.doLogin()" class="btn btn__roundRect btn-lg btn-primary m-a-xs">I Have An Account</button><p class="help-block m-t-lg">Browser pop-up blockers can interfere with login -- so keep an eye out for any pop-up blocking messages and please allow the pop-up.</p></div><div ng-if="vm.isHandlingSignInState" class="p-y-lg">\x3c!-- <i class="fa fa-refresh fa-spin"></i> --\x3e<div class="custom-spinner custom-spinner__center custom-spinner__large"></div></div></div>\x3c!--/.panel-body--\x3e</div>\x3c!--/.panel--\x3e</div>\x3c!--/.col--\x3e</div>\x3c!--.row--\x3e<div class="m-t text-center"><a ng-href="{{vm.backUrl}}" class="btn btn-link MustLogin--Cancel">Cancel</a></div></div>')}]),function(){
"use strict";angular.module("app.admin",["app.core","app.core.brand"])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(b){return j.sendQuery(["query getUserSubscriptionHistory($userId: String) {","   getUserSubscriptionHistory(userId: $userId) {","       subscriptionId","       planName","       planType","       status","       cancelledDate","       nextBillingDate","       firstBillingDate","       memberUntilDate","       paidThroughDate","       paidThroughRevoked","   }","}"].join("\n"),{userId:b},!1).then(function(b){if(!b||!b.data||b.data.errorMessage)return a.reject(b&&b.data?b.data.errorMessage:null);var c=b.data.getUserSubscriptionHistory;return e(c).map(function(a){return e.assign({},a,{cancelledDate:a.cancelledDate&&k(parseInt(a.cancelledDate)).format("YYYY-MM-DD")})}).orderBy("memberUntilDate").reverse().value()})}var m=this;m.userIdModel=null,m.accessibleCourses=[],m.userId=null,m.courseResults=[],m.coursesLoaded=!1,m.availableCourses=[],m.subscriptionHistory=[],function(){i.getCourses().then(function(a){m.courseResults=a,m.coursesLoaded=!0})}(),m.getUserById=function(){if(m.errorMessage=null,m.userId=angular.copy(m.userIdModel),m.accessibleCourses=[],m.isLoaded=!1,m.userId){var b=h.getProfile(m.userId).then(function(a){m.user=a}),c=f.getAssignedCourseIdsForUser(m.userId).then(function(b){return a.all(b.map(i.getCourseById))}).then(function(a){return a.map(function(a){return{course:a,courseId:a.objectID}})}),d=l(m.userId);c.then(function(a){m.accessibleCourses=a}),c.then(function(a){m.availableCourses=e.differenceWith(m.courseResults,m.accessibleCourses,function(a,b){return a.objectID===b.courseId})}),d.then(function(a){m.subscriptionHistory=a}),a.all([b,c,d]).finally(function(){m.isLoaded=!0})}},m.grantAccessToCourse=function(a){if(e.includes(m.accessibleCourses,a))return void d.create({content:"User already has access to this course"});f.assignAccess(m.userId,[a]).then(function(){d.create({content:"Access granted to course"}),m.userIdModel=m.userId,m.getUserById()})},m.removeAccessToCourse=function(a){b.confirm("Are you sure you want to revoke access to "+a+" for the user "+m.userId+"?")&&f.revokeAccess(m.userId,[a]).then(function(){d.create({content:a+" access revoked"}),m.userIdModel=m.userId,m.getUserById()})},m.revokeUserMembership=function(a){var d={userId:m.userId,subscriptionId:a};b.confirm("Are you sure you want to revoke membership access for the user "+m.userId+"?")&&j.sendQuery("                     mutation revokeUserMembership($userId: String!, $subscriptionId: String!) {                         revokeUserMembership(userId: $userId, subscriptionId: $subscriptionId)                     }                 ",d,!1).then(function(){c.reload()}).catch(function(a){m.errorMessage=a.errors[0].details.friendlyMessage,console.error(a)})},m.isDateNowOrInFuture=function(a){return k().format("YYYY-MM-DD")<a},m.isDateInPast=function(a){return!m.isDateNowOrInFuture(a)}}a.$inject=["$q","$window","$state","ngToast","lodash","courseAccessService","courseService","publicProfileService","courseMetadataService","graphqlService","moment"],angular.module("app.admin").controller("AdminCourseAccessController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(b){return t.courseUpdateObject=q(),a.resolve()}function m(b){var c=j.getCourseById(b),d=c.then(function(a){t.courseUpdateObject={brand:a.brand||authService.getBrand(),type:a.type,title:a.title,description:a.description,shortTitle:a.shortTitle,shortSummary:a.shortSummary,url:a.url,purchaseProductId:a.purchaseProductId,uniqueid:a.uniqueid,isPublic:a.isPublic}}),e=c.then(function(b){return a.all(Object.keys(b.authors).map(i.getProfile))}).then(function(a){t.authorProfiles=a});return a.all([d,e])}function n(b){if(!b.$invalid){var e=g.cloneDeep(t.courseUpdateObject);e.authors=g.map(t.authorProfiles,"userId");var f=a.resolve();"create"===t.coursePageState&&(f=k.createCourse(e).then(function(){alert("Successfully created the course, reloading browser to clear current courses cache"),t.allowNavigation=!0,d.go("app.admin.course-edit",{courseId:e.uniqueid})})),"edit"===t.coursePageState&&(f=k.editCourse(e).then(function(){alert("Successfully edited the course, reloading browser to clear current courses cache")})),f.catch(function(a){alert("Failed to "+t.actionStatus()+" with: "(a.message||"Unknown Error"))}).then(function(){c.location.reload()})}}function o(a){t.authorProfiles.splice(a,1)}function p(){return f.open({template:"app/admin/admin-courses-crud-dialog-authors.html",className:"ngdialog-theme-default",data:{},controllerAs:"vm",controller:["publicProfileService",function(a){var b=this;b.profileObj=null,b.loadProfile=function(c){if(!c)return b.profileObj=null;a.getProfile(c).then(function(a){b.profileObj=a||null})}}]}).closePromise.then(function(a){a&&a.value&&a.value.profile&&t.authorProfiles.push(a.value.profile)})}function q(){return{brand:h.getBrand(),type:"course",title:"",shortTitle:"",authors:[],description:"",shortSummary:"",url:"",purchaseProductId:"",uniqueid:"",isPublic:!1,ogImage:"images/brands/acloud-guru/logo-horiz-md.png",technologyLogoImage:"images/courses/csa.png"}}function r(){return"edit"===t.coursePageState?"Save Changes":"create"===t.coursePageState?"Create":"Unknown"}function s(a){return"create"!==d.current.data.type&&!u[a]}var t=this;t.courseId=e.courseId,t.coursePageState=d.current.data.type,t.loaded=!1,t.postCourse=n,t.allowNavigation=!1,t.courseUpdateObject=null;var u=(g.keyBy(["brand","type","title","shortTitle","authors","description","shortSummary","url","purchaseProductId","uniqueid","isPublic","ogImage","technologyLogoImage"]),g.keyBy(["isPublic","title","description","shortTitle","shortSummary"]));t.removeAuthor=o,t.addAuthor=p,t.preventFieldEdit=s,t.actionStatus=r,t.authorProfiles=[],function(){var b=a.resolve();"create"===t.coursePageState&&(b=l(t.courseId)),"edit"===t.coursePageState&&(b=m(t.courseId)),b.finally(function(){t.loaded=!0})}(),b.$on("$stateChangeStart",function(a){b.courseForm.$dirty&&!t.allowNavigation&&(confirm("You might have made changes, are you sure you want to leave?")||a.preventDefault())})}a.$inject=["$q","$scope","$window","$state","$stateParams","ngDialog","lodash","brandService","publicProfileService","courseMetadataService","courseCrudService"],angular.module("app.admin").controller("AdminCoursesCrudController",a)}(),function(){"use strict";angular.module("app.admin").directive("requireAuthor",function(){return{require:"ngModel",link:function(a,b,c,d){d.$options={allowInvalid:!0},a.$watch(function(){return d.$modelValue&&d.$modelValue.length},function(){d.$validate()}),d.$validators.requireAuthor=function(a,b){return b.length>=1}}}})}(),function(){"use strict";function a(a,b){function c(){b.getCourses().then(function(a){d.courses=a})}var d=this;d.createdCourse=!1,d.courses=[],function(){c(),a.createdCourse&&(d.createdCourse=a.createdCourse)}()}a.$inject=["$stateParams","courseMetadataService"],angular.module("app.admin").controller("AdminCoursesController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){g.all([e.getPromotions().$loaded().then(function(a){m.promotions=f.filter(f.keys(a),function(a){return a&&a.length&&"$"!==a[0]})}),c.getOrganisations().then(function(a){m.rawOrganisations=a,j()})]).then(function(){m.isLoaded=!0})}function j(){m.organisations=f.filter(m.rawOrganisations,{usePoints:m.organisation.usePoints})}function k(){m.saving=!0,m.organisation.promotion=null,d.createOrganisation(m.organisation).then(function(a){b.alert("Saved"),h.go("app.admin.organisation-edit",{orgId:a}),m.saving=!1}).catch(function(a){b.alert("Error while saving: "+a),console.log(a),m.saving=!1})}function l(){m.organisation.name?m.hasOrganisationName=!0:m.hasOrganisationName=!1}var m=this;m.hasOrganisationName=!1,m.saving=!1,m.isLoaded=!1,m.searchQuery="",m.promotions=[],m.organisation={},m.rawOrganisations=[],m.organisations=[],m.create=k,m.checkHasOrganisationName=l,a.$watch("vm.organisation.usePoints",j),function(){i()}()}a.$inject=["$scope","$window","organisationService","organisationAdminService","promotionService","lodash","$q","$state"],angular.module("app.admin").controller("AdminOrganisationCreateController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(){return f.getPointsBalance(u.orgId).then(function(a){u.pointsBalance=a})}function m(){i.all([g.getPromotions().$loaded().then(function(a){u.promotions=h.map(a,function(a){return a.$id})}),e.getOrganisations().then(function(a){u.organisations=a}),l(),f.getPointsPurchaseHistory(u.orgId).then(function(a){u.pointsPurchases=a,u.isPointsPurchasesLoaded=!0}),e.getOrganisationById(u.orgId).then(function(a){u.organisation=a,u.organisation.chargeModel||(u.organisation.usePoints?u.organisation.chargeModel="points":u.organisation.chargeModel="subscription"),u.subscriptionStartDate=u.organisation.subscriptionStartDate?new Date(u.organisation.subscriptionStartDate):null,u.subscriptionEndDate=u.organisation.subscriptionEndDate?new Date(u.organisation.subscriptionEndDate):null,u.enhancedSyllabus=h.get(u,"organisation.enhancedSyllabus")||!1,u.restrictForumWriteAccess=h.get(u,"organisation.restrictForumAccess")||!1,u.requireEmployeeId=h.get(u,"organisation.requireEmployeeId")||!1,u.enableTeams=h.get(u,"organisation.enableTeams")||!1,u.disableDataSyncWarning=h.get(u,"organisation.disableDataSyncWarning")||!1,u.reporting.periscopeEnabled=h.get(u,"organisation.reporting.periscopeEnabled")||!1,u.reporting.periscopeDashboardId=h.get(u,"organisation.reporting.periscopeDashboardId")||"",u.domainList=h.values(u.organisation.domains).join(", ")}),f.getOrganisationByIdFromGraphql(u.orgId).then(function(a){u.organisation=h.merge(u.organisation,a)})]).then(function(){u.isLoaded=!0})}function n(a){u.organisation&&(u.organisation.usePoints="points"===a)}function o(){j.open({template:"app/admin/admin-organisation-edit-add-purchase-dialog.html",className:"ngdialog-theme-default",closeByEscape:!0,data:{purchaseDate:new Date}}).closePromise.then(function(a){if(angular.isDefined(a)&&a.value&&a.value.amount>0){a=a.value;var b={input:{orgId:u.orgId,amount:a.amount,description:a.description,purchaseDate:a.purchaseDate.toString()}};d.sendQuery("mutation addPoints($input: ACG_AddPointsInput!) {                            ACG_addPoints(input: $input) {                                organisation {                                    id                                    points {                                        balance                                        purchases {                                            amount                                            createdTimestamp                                            description                                            purchaseDate                                        }                                    }                                }                            }                        }",b).then(function(a){u.pointsBalance=h.get(a,"data.ACG_addPoints.organisation.points.balance")||u.pointsBalance,u.pointsPurchases=h.get(a,"data.ACG_addPoints.organisation.points.purchases")||u.pointsPurchases})}})}function p(){var a=(u.domainList||"").replace(/\s/g,"").split(",");u.organisation.subscriptionStartDate=u.subscriptionStartDate?u.subscriptionStartDate.getTime():null,u.organisation.subscriptionEndDate=u.subscriptionEndDate?u.subscriptionEndDate.getTime():null,u.organisation.enhancedSyllabus=u.enhancedSyllabus||!1,u.organisation.restrictForumAccess=u.restrictForumWriteAccess||!1,u.organisation.requireEmployeeId=u.requireEmployeeId||!1,u.organisation.enableTeams=u.enableTeams||!1,u.organisation.disableDataSyncWarning=u.disableDataSyncWarning||!1,u.organisation.reporting={periscopeEnabled:u.reporting.periscopeEnabled,periscopeDashboardId:u.reporting.periscopeDashboardId},f.getDomainsInOtherOrgs(u.organisation,a).then(function(b){if(b&&b.length)return void(u.invalidDomains=b);u.invalidDomains=[],f.saveOrganisation(u.organisation,a).then(function(){c.alert("Saved")}).catch(function(a){c.alert("Error while saving: "+a),console.log(a)})})}function q(){f.createNewJoinCode(u.orgId,u.organisation.name)}function r(a){f.removeJoinCode(u.orgId,a)}function s(a){return!0===u.organisation.roles.administrator[a.$id]}function t(a){return!0!==u.organisation.roles.administrator[a.$id]}var u=this;u.orgId=b.orgId,u.isLoaded=!1,u.enhancedSyllabus=!1,u.requireEmployeeId=!1,u.reporting={},u.searchQuery="",u.promotions=[],u.domainList="",u.invalidDomains=[],u.pointsBalance=0,u.isPointsPurchasesLoaded=!1,u.pointsPurchases=[],u.brands=k.getBrands(),u.isMemberAnAdmin=s,u.isMemberAUser=t,u.addPoints=o,u.save=p,u.generateNewCode=q,u.deleteCode=r,a.$watch("vm.organisation.chargeModel",n),function(){m()}()}a.$inject=["$scope","$stateParams","$window","graphqlService","organisationService","organisationAdminService","promotionService","lodash","$q","ngDialog","brandService"],angular.module("app.admin").controller("AdminOrganisationEditController",a)}(),function(){"use strict";function a(a,b){function c(){b.getOrganisations().then(function(a){d.organisations=a,d.isLoaded=!0})}var d=this;d.isLoaded=!1,d.searchQuery="",function(){c()}()}a.$inject=["$scope","organisationService"],angular.module("app.admin").controller("AdminOrganisationsController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(){g.getCourses().then(function(a){l.courses=a})}function k(){l.isLoaded=!1,l.product.courses=d.map(l.fakeObj.courses,function(a,b){return{courseId:a.uniqueid,sequence:b}}),c.createProduct(l.product).then(function(a){l.isLoaded=!0,alert("Product Created!"),i.go("app.admin.product-edit",{productId:a})}).catch(function(a){l.isLoaded=!0,alert("Error creating product: "+a)})}var l=this;l.isLoaded=!0,l.courses=[],l.product={brand:h.getBrand()},l.fakeObj={},l.create=k,function(){j()}()}a.$inject=["$scope","$stateParams","productAdminService","lodash","$q","coreConstants","courseMetadataService","brandService","$state"],angular.module("app.admin").controller("AdminProductCreateController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(){z.isLoaded=!1;var a=c.getProducts(),b=c.getProductById(z.productId),f=b.then(function(a){return d(a.courses).values().map(h.getCourseById).value()}).then(e.all).then(function(a){z.courses=a});a.then(function(a){z.allProducts=a});var g=b.then(function(a){return e.all([a,q(a)])}).then(d.spread(function(a,b){a=d.clone(a),z.product=p(a,A,z.ptsCurrency,b)}));e.all([g,a,b,f]).finally(function(){z.isLoaded=!0})}function m(){return z.product.isMembersOnly||z.product.isOrganisationOnly?z.product.isMembersOnly?"All Members":z.product.isOrganisationOnly?"Organizations Only":void 0:"All Users"}function n(a){switch(a){case k.MEMBER_ONLY:return z.product.isMembersOnly=!0,void(z.product.isOrganisationOnly=!1);case k.ORGANISATION_ONLY:return z.product.isMembersOnly=!1,void(z.product.isOrganisationOnly=!0);case k.ALL:return z.product.isMembersOnly=!1,void(z.product.isOrganisationOnly=!1)}}function o(){return!z.product.isActive&&z.product.isVisible?(z.invalidState=!0,!0):(z.invalidState=!1,!1)}function p(a,b,c,e){var f=angular.isDefined(a.type)?a.type:s(a.courses),g="course"===f?b.concat(c):b;return z.supportedCurrencies=g,{statementDescriptor:a.statementDescriptor||null,sku:a.sku||null,invoiceDescription:a.invoiceDescription||null,courses:a.courses||{},brand:a.brand||null,isActive:a.isActive||!1,isVisible:a.isVisible||!1,isMembersOnly:a.isMembersOnly||!1,isOrganisationOnly:a.isOrganisationOnly||!1,includesPracticeExams:a.includesPracticeExams||!1,includesQuizzes:a.includesQuizzes||!1,title:a.title||null,upsellBundleId:a.upsellBundleId||null,upsellBundleId2:a.upsellBundleId2||null,prices:t(a.prices,g),type:f,isFeatured:!!angular.isDefined(a.isFeatured)&&a.isFeatured,duration:angular.isDefined(a.duration)?a.duration:0,artworkKey:angular.isDefined(a.artworkKey)?a.artworkKey:null,url:e,ctaTitle:angular.isDefined(a.ctaTitle)?a.ctaTitle:"",ctaFooter:angular.isDefined(a.ctaFooter)?a.ctaFooter:"",description:angular.isDefined(a.description)?a.description:"",shortSummary:angular.isDefined(a.shortSummary)?a.shortSummary:"",previewVideoUrl:angular.isDefined(a.previewVideoUrl)?a.previewVideoUrl:null,previewVideoPosterUrl:angular.isDefined(a.previewVideoPosterUrl)?a.previewVideoPosterUrl:null,bundleCourseDescription:angular.isDefined(a.bundleCourseDescription)?a.bundleCourseDescription:null,vendors:angular.isDefined(a.vendors)?d.values(a.vendors):[],topics:angular.isDefined(a.topics)?d.values(a.topics):[],roles:angular.isDefined(a.roles)?d.values(a.roles):[],skillLevels:angular.isDefined(a.skillLevels)?d.values(a.skillLevels):[],services:angular.isDefined(a.services)?d.values(a.services):[],authors:angular.isDefined(a.authors)?d.values(a.authors):[],primaryTopic:angular.isDefined(a.primaryTopic)?a.primaryTopic:null,prerequisites:angular.isDefined(a.prerequisites)?d.map(a.prerequisites,function(a){return{body:a}}):[],audience:angular.isDefined(a.audience)?d.map(a.audience,function(a){return{body:a}}):[],requirements:angular.isDefined(a.requirements)?d.map(a.requirements,function(a){return{body:a}}):[],outcomes:angular.isDefined(a.outcomes)?d.map(a.outcomes,function(a){return{body:a}}):[]}}function q(a){return 1===Object.keys(a.courses).length?j.getCourseById(d.values(a.courses)[0]).then(function(a){return a.url}):i.getBundleById(a.id).then(function(a){return a.info.url})}function r(a){var b=a;return(a.isMembersOnly||a.isOrganisationOnly)&&(b=d.omit(b,["prices"])),d.assign(b,{prerequisites:d.map(a.prerequisites,"body"),audience:d.map(a.audience,"body"),requirements:d.map(a.requirements,"body"),outcomes:d.map(a.outcomes,"body")})}function s(a){var b=d.keys(a).length;return 1===b?"course":b>1?"bundle":null}function t(a,b){return d(b).map(function(b){var c=a?a[b]&&a[b].price:null;return{currency:b,price:d.isNumber(c)?c:null}}).value()}function u(a){confirm("Do you want to clear your changes and reload back from the database?")&&(l(),a.$submitted=!1)}function v(){if(o())return alert("The product can not be inactive and visible");var a=z.productId,b=r(d.clone(z.product));z.isLoaded=!1,c.saveProduct(a,b).then(function(){alert("Saved!")}).catch(function(a){alert("Error saving record: ",JSON.stringify(a,null,2))}).finally(function(){z.isLoaded=!0})}function w(a,b){a.splice(b,1)}function x(a){a.push({body:""})}function y(a,b){a.splice(b,1)}var z=this;z.productId=b.productId,z.product=null,z.upsells={},z.changeProductAccess=n,z.getAccessibleLabel=m,z.accessLevels=k,z.isLoaded=!1,z.ptsCurrency=g.POINTS_CURRENCY.toLowerCase();var A=g.SUPPORTED_CURRENCIES.map(function(a){return a.toLowerCase()});z.currencySymbols=g.CURRENCY_SYMBOLS,z.validateProduct=o,z.save=v,z.clear=u,z.move=w,z.add=x,z.remove=y,z.vendors=f.vendors,z.topics=f.topics,z.roles=f.roles,z.skillLevels=f.skillLevels,z.services=f.services,z.authors=f.authors,z.vendorsById=d.keyBy(z.vendors,"id"),z.topicsById=d.keyBy(z.topics,"id"),z.rolesById=d.keyBy(z.roles,"id"),z.skillLevelsById=d.keyBy(z.skillLevels,"id"),z.servicesById=d.keyBy(z.services,"id"),z.authorsById=d.keyBy(z.authors,"id"),function(){l()}()}a.$inject=["$scope","$stateParams","productAdminService","lodash","$q","searchConstants","coreConstants","courseMetadataService","bundleService","courseService","accessLevelConstants"],angular.module("app.admin").controller("AdminProductEditController",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(){var a=e([]).concat(h.products.course).concat(h.products.bundle).map(function(a,b){return{id:a.id,weight:b}}).value();d.updateProductWeights(a).then(function(a){alert("Success! Number of products updated: "+a.length)}).catch(function(a){alert("Error!: ",a)})}function g(a,b){a.splice(b,1)}var h=this;h.isLoaded=!1,h.productTypes=["course","bundle"],h.products={course:[],bundle:[]},h.save=f,h.move=g,function(){d.getProducts().then(function(a){h.products=e(a).sortBy(["weight"]).map(function(a,b){return e.assign({},a,{weight:b})}).groupBy("type").value()}).finally(function(){h.isLoaded=!0})}()}a.$inject=["$scope","utilsService","$q","productAdminService","lodash"],angular.module("app.admin").controller("AdminProductWeightsController",a)}(),function(){"use strict";function a(a,b,c,d){var e=this;e.isLoaded=!1,e.products=[],e.searchQuery="",function(){d.getProducts().then(function(a){e.products=a,e.isLoaded=!0})}()}a.$inject=["$scope","utilsService","$q","productAdminService"],angular.module("app.admin").controller("AdminProductsController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(){c.getProducts().$loaded().then(function(a){return a.$ref().once("value")}).then(function(a){return a.val()}).then(function(a){A.products=h.keys(a),A.productObjects=a,o()})}function k(){d.getOrganisations().then(function(a){A.organisations=a})}function l(){A.isLoaded=!1,A.promoCodes=null}function m(){A.isLoaded=!1,A.promoCodes=c.getPromoCodes(),A.promoCodes.$loaded(function(){A.isLoaded=!0})}function n(){A.code.selectedCode=null,A.selectedPromoObj=null,b.go("app.admin.promocodes",{code:null},{notify:!1})}function o(){A.richProductList=[];var a=h.values(A.fakeObj.selectedProducts);A.richProductList=h.pick(A.productObjects,a)}function p(a,c){A.code.selectedCode=a,A.code.isNew=!a,A.selectedPromoObj=e.clone(c),A.fakeObj.selectedProducts=Object.keys(A.selectedPromoObj.products),o(),b.go("app.admin.promocodes",{code:a},{notify:!1})}function q(a,c){return b.href("public.checkout.index",{productIdQS:a,promoCodeQS:c})}function r(a,c){return b.href("course",{courseUrl:a,promoCode:c})}function s(a,c){return b.href("public.bundle",{bundleUrl:a,promoCode:c})}function t(a){return b.href("public.join",{promoCode:a})}function u(){var a=A.newCode;A.newCode=null;var b={description:"",publicTitle:"",publicSubtitle:"",originalQuantity:0,prices:{},products:{},remainingQuantity:0};h.forEach(A.supportedCurrencies,function(a){b.prices[a.toLowerCase()]={price:0}}),A.selectCode(a,b)}function v(a){return a===parseInt(a,10)}function w(a){return a===parseFloat(a,10)}function x(a){return A.productObjects[a].isActive?A.productObjects[a].isVisible?void 0:"Non-Visible Products":"Inactive Products"}function y(){h.some(h.values(A.selectedPromoObj.prices),function(a){return void 0===a.price||!w(a.price)})&&(A.isError=!0,A.errors.price="Prices must be numbers"),v(A.selectedPromoObj.originalQuantity)||(A.isError=!0,A.errors.originalQuantity="Original Quantity must be a number"),v(A.selectedPromoObj.remainingQuantity)||(A.isError=!0,A.errors.remainingQuantity="Remaining Quantity must be a number"),A.code.selectedCode?A.code.selectedCode.match(/[.$[\]#\/]/)&&(A.isError=!0,A.errors.promoCode="The promo code name must not contain the characters: . $ [ ] # /"):(A.isError=!0,A.errors.promoCode="A promo code name is required")}function z(){if(A.isError=!1,y(),A.isError)return void console.log("There are validation error(s)",A.errors);A.selectedPromoObj.products={};for(var a=!1,b=0;b<A.fakeObj.selectedProducts.length;b++){var d=A.fakeObj.selectedProducts[b];A.selectedPromoObj.products[d]=!0,A.productObjects[d].isActive&&A.productObjects[d].isVisible||(a=!0)}if(!a||confirm("One of the selected products is either inactive or not visible to users. Are you sure you want to create this promo code?")){var e=h.omit(A.selectedPromoObj,h.filter(h.keys(A.selectedPromoObj),function(a){return 0===a.indexOf("$")}));e.publicTitle=e.publicTitle||"",e.publicSubtitle=e.publicSubtitle||"",c.savePromoCode(A.code.selectedCode,e).then(function(a){alert(a?"Saved":"Error while saving promo code"),A.selectCode(A.code.selectedCode,A.selectedPromoObj)})}}var A=this;A.isLoaded=!1,A.promoCodes=null,A.selectedPromoObj=null,A.newCode=null,A.code={selectedCode:null},A.ptsCurrency=g.POINTS_CURRENCY.toLowerCase(),A.fakeObj={selectedProducts:[]},A.richProductList=[],A.supportedCurrencies=g.SUPPORTED_CURRENCIES,A.currencySymbols=g.CURRENCY_SYMBOLS,A.products=[],A.goBack=n,A.selectCode=p,A.findProductGroup=x,A.purchaseUrlFor=q,A.promoCodeUrlFor=t,A.coursePreviewUrlFor=r,A.bundlePreviewUrlFor=s,A.addCode=u,A.errors={},A.save=z,function(a){i.code&&c.getPromoCodeRaw(i.code).then(function(a){p(i.code,a)}),f.onReady(m),f.onNotReady(l),j(),k()}()}a.$inject=["$scope","$state","productService","organisationService","utilsService","guruAuthService","coreConstants","lodash","$stateParams"],angular.module("app.admin").controller("AdminPromoCodesController",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){b.getProducts().$loaded(function(a){r.products=Object.keys(a).filter(function(a){return 0!==a.indexOf("$")})})}function h(){r.isLoaded=!1,r.promotions=[]}function i(){return b.getPromoCodes().$loaded(function(a){a=m(a),r.promoCodes=f.map(a,function(a){return a.$id}),r.promoCodeObjs=f.zipObject(r.promoCodes,a);var b=f.uniq(f.flatten(f.map(a,function(a){return f.keys(a.products)})));r.productPromoCodes=f.zipObject(b,f.map(b,function(b){return f.map(f.filter(a,function(a){return a.products&&!!a.products[b]}),"$id")})),r.isLoaded=!0})}function j(){r.isLoaded=!1,r.promotions=d.getPromotions(),r.promotions.$loaded(i)}function k(){r.code.selectedCode=null,r.selectedPromotionObj=null}function l(a,d){r.code.selectedCode=a,r.code.isNew=!a;var e=c.clone(d);f.forEach(f.filter(f.keys(e),function(a){return a.length&&"$"===a[0]}),function(a){delete e[a]}),b.getProducts().$loaded(function(a){for(var b=0;b<a.length;b++)e.products[a[b]]||(e.products[a[b]]=null);r.selectedPromotionObj=e})}function m(a){for(var b={},c=Object.getOwnPropertyNames(a).filter(function(a){return 0!==a.indexOf("$")}),d=0;d<c.length;d++){var e=c[d];a[e].bulk||(b[e]=a[e])}return b}function n(b){return a.href("home",{promotion:b})}function o(){var a=r.newCode;r.newCode=null;var b={description:null,products:{},summary1:null,summary2:null,timeframeDescription:null,active:!0};r.selectCode(a,b)}function p(){d.savePromotion(r.code.selectedCode,r.selectedPromotionObj).then(function(a){alert(a?"Saved":"Error while saving promo code"),r.selectCode(r.code.selectedCode,r.selectedPromotionObj)})}function q(){var a=prompt("Give this pricing set a name","").replace(/\s/g,"-"),c=prompt("Enter a friendly description to go on each promo code, explain what it's for",""),d=prompt("Enter a percentage of the current pricing set (ie. 80% will make this pricing set 20% cheaper than one being duplicated)","100").replace("%","");b.duplicatePromotion(r.code.selectedCode,a,d,c).then(function(b){i().then(function(){r.selectCode(a,b)})}).catch(function(a){alert("An error occurred during duplication: "+a)})}var r=this;r.isLoaded=!1,r.promoCodeObjs=null,r.promoCodes=null,r.productPromoCodes=null,r.code={selectedCode:null},r.selectedPromotionObj=null,r.newCode=null,r.promotions=[],r.products=[],r.goBack=k,r.selectCode=l,r.urlFor=n,r.addCode=o,r.save=p,r.duplicate=q,function(){e.onReady(j),e.onNotReady(h),g()}()}a.$inject=["$state","productService","utilsService","promotionService","guruAuthService","lodash"],angular.module("app.admin").controller("AdminPromotionsController",a)}(),function(){"use strict";function a(a,b){function c(c){c.$valid&&b.createWebSeries(d.seriesUpdateModel.title,d.seriesUpdateModel.seriesUrl,d.seriesUpdateModel.description).then(function(b){alert("Successfully created webseries"),a.go("app.admin.series-update",{seriesUrl:b.seriesUrl})}).catch(function(a){alert("Error creating webseries"+a)})}var d=this;d.seriesUpdateModel={seriesUrl:null,title:null,description:null},d.createWebseries=c}a.$inject=["$state","webseriesAdminService"],angular.module("app.admin").controller("AdminSeriesCreateController",a)}(),function(){"use strict";function a(a,b,c){function d(){f.includeHubspot=!f.includeHubspot,f.includeHubspot&&!f.seriesUpdateModel.hubspot&&(f.seriesUpdateModel.hubspot={title:"Subscribe and stay current",description:"Get notified the moment an episode drops",hubspotSubscribeFormId:""})}function e(a){a.$valid&&(f.includeHubspot||(f.seriesUpdateModel.hubspot=null),c.updateWebSeries(f.seriesUpdateModel.seriesId,f.seriesUpdateModel).then(function(a){f.seriesUpdateModel=_.cloneDeep(a),alert("Successfully updated webseries")}).catch(function(a){alert("Error updating webseries"+a)}))}var f=this;f.seriesUpdateModel=_.cloneDeep(a),f.updateWebseries=e,f.toggleHubspot=d,f.includeHubspot=null,function(){f.includeHubspot=!!f.seriesUpdateModel.hubspot}()}a.$inject=["webseries","lodash","webseriesAdminService"],angular.module("app.admin").controller("AdminSeriesUpdateController",a)}(),function(){"use strict";function a(a,b){var c=this;c.series=b,c.searchQuery=""}a.$inject=["webseriesEditorService","allWebseries"],angular.module("app.admin").controller("AdminSeriesController",a)}(),function(){"use strict";function a(a,b){function c(){if(j.errorMessage=null,j.userId){a.getProfile(j.userId).then(function(a){j.user=a}),h(j.userId).then(function(a){j.currentUserPromotion=a})}}function d(a,b){f(j.userId,k,a,b).then(c).catch(i)}function e(){if(confirm("Are you sure you want to delete the promotion?"))return g(j.userId).then(c).catch(i)}function f(a,c,d,e){return b.sendQuery(["mutation($userId: String!, $promotionId: String!, $unit: String!, $duration: Int!) {","createUserPromotion (userId: $userId, promotionId: $promotionId, unit: $unit, duration: $duration)","}"].join("\n"),{userId:a,promotionId:c,unit:d,duration:e}).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.createUserPromotion:$q.reject(a&&a.data?a.data.errorMessage:null)})}function g(a){return b.sendQuery(["mutation($userId: String!) {","deleteUserPromotion (userId: $userId)","}"].join("\n"),{userId:a}).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.deleteUserPromotion:$q.reject(a&&a.data?a.data.errorMessage:null)})}function h(a){return b.sendQuery(["query($userId: String!) {","getUserPromotion(userId: $userId) {","promotionId","trial {","duration","unit","}","}","}"].join("\n"),{userId:a}).then(function(a){return a&&a.data&&!a.data.errorMessage?a.data.getUserPromotion:$q.reject(a&&a.data?a.data.errorMessage:null)})}function i(a){j.errorMessage=a}var j=this,k="support-2018";j.userId="",j.currentUserPromotion=null,j.getUserById=c,j.deletePromotion=e,j.addPromotion=d}a.$inject=["publicProfileService","graphqlService"],angular.module("app.admin").controller("AdminUserPromotionController",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(a){return a?b.getAssignedCourseIdsForUser(a).then(function(a){return e.all(d.map(d.filter(a,function(a){return 0!==a.indexOf("$")}),function(a){return c.getCourseById(a)}))}):e.when([])}function g(){f(j.fromUserId).then(function(a){j.fromCourses=a})}function h(){f(j.toUserId).then(function(a){j.toCourses=a})}function i(){var a=d.compact(d.map(j.fromCourses,"uniqueid"));return e.all([b.assignAccess(j.toUserId,a),b.revokeAccess(j.fromUserId,a)]).then(function(){alert("Success!")}).catch(function(a){alert("Error! ",a)}).finally(function(){g(),h()})}var j=this;j.fromUserId=null,j.toUserId=null,j.fromCourses=[],j.toCourses=[],j.migrateCourses=i,a.$watch("vm.fromUserId",g),a.$watch("vm.toUserId",h)}a.$inject=["$scope","courseAccessService","courseService","lodash","$q"],angular.module("app.admin").controller("AdminUsersController",a)}(),function(){"use strict";function a(a,b,c){function d(){for(var a=0;a<e.adminEntries.length;a++)b.current.name==e.adminEntries[a].route&&(e.selectedAdminEntry=e.adminEntries[a])}var e=this;e.selectedAdminEntry=null,e.adminEntries=[{route:"app.admin.organisations",title:"Organisations"},{route:"app.admin.promotions",title:"Pricing Sets"},{route:"app.admin.promocodes",title:"Promo Codes"},{route:"app.admin.users",title:"Users"},{route:"app.admin.products",title:"Products"},{route:"app.admin.course-access",title:"Course Access"},{route:"app.admin.courses",title:"Courses"},{route:"app.admin.product-weight",title:"Product Weights"},{route:"app.admin.series",title:"Web Series"},{route:"app.admin.user-promotion",title:"User Promotion"}],function(){
c.hasLoaded.promise.then(function(){c.roles.admin||b.go("home")}),d(),a.$on("$stateChangeSuccess",function(a,b,c,e,f){d()})}()}a.$inject=["$rootScope","$state","profileService"],angular.module("app.admin").controller("AdminController",a)}(),function(){"use strict";function a(a,c){a.configureStates(b(c,a.load))}function b(a,b){return[{state:"app.admin",config:{url:"/admin",controller:"AdminController",templateUrl:"app/admin/layout.html",data:{logoutState:"home",loginCategory:"admin",mustLogin:!0,showNavBar:!1,allowedRoles:["admin"],cssClass:"page__admin"},abstract:!0,controllerAs:"vmAdmin",resolve:{protect:c()}}},{state:"app.admin.organisations",config:{url:"/organisations",data:{title:"Organisations"},views:{adminViewPane:{templateUrl:"app/admin/admin-organisations.html",controller:"AdminOrganisationsController as vm"}}}},{state:"app.admin.organisation-edit",config:{url:"/organisation/{orgId}",data:{title:"Manage Organisation"},views:{adminViewPane:{templateUrl:"app/admin/admin-organisation-edit.html",controller:"AdminOrganisationEditController as vm"}}}},{state:"app.admin.organisation-create",config:{url:"/create/organisation",data:{title:"Create Organisation"},views:{adminViewPane:{templateUrl:"app/admin/admin-organisation-create.html",controller:"AdminOrganisationCreateController as vm"}}}},{state:"app.admin.users",config:{url:"/users",data:{title:"Users"},views:{adminViewPane:{templateUrl:"app/admin/admin-users.html",controller:"AdminUsersController as vm"}}}},{state:"app.admin.promocodes",config:{url:"/promo-codes?code",data:{title:"Manage Promo Codes"},views:{adminViewPane:{templateUrl:"app/admin/admin-promocodes.html",controller:"AdminPromoCodesController as vm"}}}},{state:"app.admin.promotions",config:{url:"/pricing-sets",data:{title:"Manage Pricing Sets"},views:{adminViewPane:{templateUrl:"app/admin/admin-promotions.html",controller:"AdminPromotionsController as vm"}}}},{state:"app.admin.course-access",config:{url:"/course-access",data:{title:"Manage user course access"},views:{adminViewPane:{templateUrl:"app/admin/admin-course-access.html",controller:"AdminCourseAccessController as vm"}}}},{state:"app.admin.course-create",config:{url:"/create/course",data:{title:"Create Course",type:"create"},views:{adminViewPane:{templateUrl:"app/admin/admin-courses-crud.html",controller:"AdminCoursesCrudController as vm"}}}},{state:"app.admin.course-edit",config:{url:"/edit/course/{courseId}/edit",data:{title:"Edit Course",type:"edit"},views:{adminViewPane:{templateUrl:"app/admin/admin-courses-crud.html",controller:"AdminCoursesCrudController as vm"}}}},{state:"app.admin.courses",config:{url:"/courses",data:{title:"Courses"},views:{adminViewPane:{templateUrl:"app/admin/admin-courses.html",controller:"AdminCoursesController as vm"}}}},{state:"app.admin.products",config:{url:"/products",data:{title:"Manage Products"},views:{adminViewPane:{templateUrl:"app/admin/admin-products.html",controller:"AdminProductsController as vm"}}}},{state:"app.admin.product-weight",config:{url:"/products/weights",data:{title:"Manage Product Weights"},views:{adminViewPane:{templateUrl:"app/admin/admin-product-weights.html",controller:"AdminProductWeightsController as vm"}}}},{state:"app.admin.product-edit",config:{url:"/product/{productId}",data:{title:"Edit Product"},views:{adminViewPane:{templateUrl:"app/admin/admin-product-edit.html",controller:"AdminProductEditController as vm"}}}},{state:"app.admin.product-create",config:{url:"/create/product",data:{title:"Create Product"},views:{adminViewPane:{templateUrl:"app/admin/admin-product-create.html",controller:"AdminProductCreateController as vm"}}}},{state:"app.admin.series",config:{url:"/series",data:{title:"Manage Series"},views:{adminViewPane:{templateUrl:"app/admin/admin-series.html",controller:"AdminSeriesController as vm"}},resolve:{allWebseries:["webseriesAdminService",function(a){return a.getAllWebSeries()}]}}},{state:"app.admin.series-create",config:{url:"/series/create",data:{title:"Create Series"},views:{adminViewPane:{templateUrl:"app/admin/admin-series-create.html",controller:"AdminSeriesCreateController as vm"}}}},{state:"app.admin.series-update",config:{url:"/series/{seriesUrl}/update",data:{title:"Create Course"},views:{adminViewPane:{templateUrl:"app/admin/admin-series-update.html",controller:"AdminSeriesUpdateController as vm"}},resolve:{webseries:["$stateParams","webseriesAdminService",function(a,b){return b.getWebSeriesByUrl(a.seriesUrl)}]}}},{state:"app.admin.user-promotion",config:{url:"/user-promotion",data:{title:"Create User Promotion"},views:{adminViewPane:{templateUrl:"app/admin/admin-user-promotion.html",controller:"AdminUserPromotionController as vm"}}}},{state:"app.ui-kit",config:{url:"/ui-kit",controller:"UIKitController",templateUrl:"app/admin/ui-kit.html",data:{title:"UI Kit",logoutState:"home",loginCategory:"admin",mustLogin:!0,showNavBar:!1,allowedRoles:["admin"]}}}]}function c(){return["$state","$q","roleService",function(a,b,c){return c.isAdmin().then(function(c){if(!c)return a.go("home"),b.reject(new Error("User is not a member can cannot access restricted content"))})}]}a.$inject=["routerHelper","appConfig"],angular.module("app.admin").run(a)}(),function(){"use strict";function a(){function a(){c.popupOpen=!0}function b(a,b,d){c.date=new Date(a,b,d)}var c=this;c.popupOpen=!1,c.open=a,c.setDate=b,function(){c.date||(c.date=new Date),c.inlineOptions={minDate:new Date,showWeeks:!0},c.dateOptions={formatYear:"yy",startingDay:1,showWeeks:!1}}()}angular.module("app.admin").component("guDatePicker",{templateUrl:"app/admin/components/gu-date-picker.html",controller:a,controllerAs:"vm",bindings:{date:"=",required:"&",inputName:"<"}})}(),angular.module("app.admin").run(["$templateCache",function(a){"use strict";a.put("app/admin/admin-course-access.html",'<div class="panel"><div class="panel-heading"><button class="pull-right btn btn--blue" ng-click="vm.getUserById()">Search</button> <input type="text" class="pull-right m-r form-control" style="width: 300px" placeholder="Search for user by Id" ng-model="vm.userIdModel"><h5 class="Admin--Title">{{vm.user.isMember ? \'Membership and Course Access\' : \'Course Access\'}}</h5></div><div ng-if="vm.errorMessage" class="alert alert-danger"><h4 class="alert--heading">An error occurred</h4>{{vm.errorMessage}}</div><div class="panel-body" ng-if="vm.subscriptionHistory.length > 0"><div class="font-thin text-md" ng-if="vm.user">Subscription History {{vm.user.displayname}}</div><table class="table table-striped" ng-if="vm.isLoaded"><thead><tr><th>Id</th><th>Plan Type</th><th>Status</th><th>Braintree Status</th><th>Next Billing Date</th><th>Paid Through Revoked</th><th>Paid Through Date</th><th>Trial Ended Date / First Billing Date</th><th>Member Until Date</th><th>Cancelled Date</th><th></th></tr></thead><tbody><tr ng-repeat="subscription in vm.subscriptionHistory"><td>{{ subscription.subscriptionId }}</td><td>{{ subscription.planType }}</td><td><span class="label label-success label-sm bg-accent pos-rlt m-l-xs m-r-xs" ng-if="vm.isDateNowOrInFuture(subscription.memberUntilDate)">Member</span></td><td><span ng-if="subscription.status === \'Active\' || subscription.status === \'Over Due\'" class="label label-success label-sm bg-accent pos-rlt m-l-xs m-r-xs">{{subscription.status}}</span> <span ng-if="subscription.status !== \'Active\' && subscription.status !== \'Over Due\'">{{subscription.status}}</span></td><td><del ng-if="subscription.status === \'Canceled\'">{{ subscription.nextBillingDate }}</del> <span ng-if="subscription.status !== \'Canceled\'">{{ subscription.nextBillingDate }}</span></td><td>{{ subscription.paidThroughRevoked }}</td><td><span ng-if="!subscription.paidThroughRevoked"><span ng-if="subscription.paidThroughDate === subscription.memberUntilDate" ng-class="{\'label-success\': vm.isDateNowOrInFuture(subscription.paidThroughDate), \'label-primary\': vm.isDateInPast(subscription.paidThroughDate) }" class="label label-sm bg-accent pos-rlt m-l-xs m-r-xs">{{subscription.paidThroughDate}}</span> <span ng-if="subscription.paidThroughDate !== subscription.memberUntilDate">{{subscription.paidThroughDate}}</span></span> <del ng-if="subscription.paidThroughRevoked">{{subscription.paidThroughDate}}</del></td><td><span ng-if="subscription.firstBillingDate === subscription.memberUntilDate" ng-class="{\'label-success\': vm.isDateNowOrInFuture(subscription.firstBillingDate), \'label-primary\': vm.isDateInPast(subscription.firstBillingDate) }" class="label label-sm bg-accent pos-rlt m-l-xs m-r-xs">{{subscription.firstBillingDate}}</span> <span ng-if="subscription.firstBillingDate !== subscription.memberUntilDate || subscription.status === \'Active\'">{{subscription.firstBillingDate}}</span></td><td>{{subscription.memberUntilDate}}</td><td>{{subscription.cancelledDate}}</td><td><button ng-if="subscription.status === \'Canceled\' && subscription.paidThroughDate && !subscription.paidThroughRevoked" class="pull-right btn btn-danger" ng-click="vm.revokeUserMembership(subscription.subscriptionId)"><i class="fa fa-remove"></i> Paid Through Revoked</button></td></tr></tbody></table><div class="text-md text-muted text-center" ng-show="!vm.isLoaded"><i class="fa fa-refresh fa-spin"></i></div></div><div class="panel-body" ng-if="vm.accessibleCourses.length > 0"><div class="font-thin text-lg" ng-if="vm.user">Viewing course access list for {{vm.user.displayname}}</div><table class="table table-striped" ng-if="vm.isLoaded"><thead><tr><th>Course Id</th><th>Course Name</th><th></th></tr></thead><tbody><tr ng-repeat="course in vm.accessibleCourses"><td>{{course.courseId}}</td><td>{{course.course.title}}</td><td><button class="pull-right btn btn-danger" ng-click="vm.removeAccessToCourse(course.courseId)"><i class="fa fa-remove"></i> Revoke Access</button></td></tr></tbody></table><div class="text-md text-muted text-center" ng-show="!vm.isLoaded"><i class="fa fa-refresh fa-spin"></i></div></div></div><div ng-if="vm.isLoaded"><div class="panel"><div class="panel-heading"><div><h5 class="Admin--Title">Grant course access</h5></div><div><button class="pull-right btn btn--blue">Search</button> <input class="form-control" type="text" class="pull-right m-r" style="width: 300px" placeholder="Search for course" ng-model="vm.searchQuery"></div></div><div class="panel-body" ng-if="vm.coursesLoaded"><table class="table table-striped" ng-if="vm.coursesLoaded"><thead><tr><th>Course Id</th><th>Course Name</th><th></th></tr></thead><tbody><tr ng-repeat="course in vm.availableCourses | filter:{ title: vm.searchQuery}"><td>{{course.objectID}}</td><td>{{course.title}}</td><td><button class="pull-right btn btn--blue" ng-click="vm.grantAccessToCourse(course.objectID)"><i class="fa fa-plus"></i> Grant Access</button></td></tr></tbody></table><div class="text-md text-muted text-center" ng-show="!vm.coursesLoaded"><i class="fa fa-refresh fa-spin"></i></div></div></div></div>'),a.put("app/admin/admin-courses-crud-dialog-authors.html",'<form name="authorAdd" novalidate ng-submit="vm.profileObj && closeThisDialog({ profile: vm.profileObj })"><div class="ngdialog-message"><h2>Author</h2><div><p>Use Auth0 or Intercom to find the Author Id</p></div><div style="display: flex; flex: 1; justify-content: center; margin-top: 50px; margin-bottom: 50px"><user-profile-list-item-component user-id="vm.profileObj.userId" displayname="vm.profileObj.displayname" picture="vm.profileObj.picture"></user-profile-list-item-component></div><div class="form-group"><label>Author Id</label><input class="form-control" type="text" ng-model="ngDialogData.id" ng-change="vm.loadProfile(ngDialogData.id)"></div></div><div class="ngdialog-buttons"><input type="submit" id="submit" value="Add Author" class="ngdialog-button ngdialog-button-primary"> <button class="ngdialog-button ngdialog-button-secondary" type="button" ng-click="closeThisDialog(null)">Cancel</button></div></form>'),a.put("app/admin/admin-courses-crud.html",'<div class="admin-courses-crud panel clearfix"><form novalidate ng-submit="vm.postCourse(courseForm)" name="courseForm"><div class="panel-heading"><div class="col-heading-text"><h5>Edit Course</h5></div><div class="col-public-btn"><label><input type="checkbox" ng-disabled="vm.preventFieldEdit(\'isPublic\')" ng-model="vm.courseUpdateObject.isPublic"> Public</label><i></i></div></div><div class="panel-body" ng-if="vm.loaded"><div class="row m-b-md"><div class="col-md-12"><h3>Course Meta Properties</h3><small>These are hard or cannot be changed later, so please get them right</small></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': courseForm.$submitted && courseForm.uniqueid.$invalid}"><label class="control-label" for="uniqueid">Unique ID</label><input class="form-control" ng-disabled="vm.preventFieldEdit(\'uniqueid\')" type="text" name="uniqueid" ng-model="vm.courseUpdateObject.uniqueid" ng-pattern="/^[a-z0-9\\-]+$/" ng-required="true"><div ng-if="courseForm.$submitted && courseForm.uniqueid.$invalid" ng-messages="courseForm.uniqueid.$error"><div class="help-block" ng-message="pattern">Can only contain lowercase and hyphens</div><div class="help-block" ng-message="required">This is required</div></div></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': courseForm.$submitted && courseForm.type.$invalid}"><label class="control-label">Type:</label><select class="form-control" ng-disabled="vm.preventFieldEdit(\'type\')" ng-model="vm.courseUpdateObject.type"><option value="course">Course</option><option value="event">Event</option></select></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': courseForm.$submitted && courseForm.url.$invalid}"><label class="control-label" for="url">URL</label><input class="form-control" type="text" ng-disabled="vm.preventFieldEdit(\'url\')" name="url" ng-model="vm.courseUpdateObject.url" ng-pattern="/^[a-z0-9\\-]+$/" ng-required="true"><div ng-if="courseForm.$submitted && courseForm.url.$invalid" ng-messages="courseForm.url.$error"><div class="help-block" ng-message="pattern">Can only contain lowercase and hyphens</div><div class="help-block" ng-message="required">This is required</div></div></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': courseForm.$submitted && courseForm.purchaseProductId.$invalid}"><label class="control-label" for="purchaseProductId">Purchase Product ID</label><input class="form-control" ng-disabled="vm.preventFieldEdit(\'purchaseProductId\')" type="text" name="purchaseProductId" ng-pattern="/^[a-z0-9\\-]+$/" ng-model="vm.courseUpdateObject.purchaseProductId" ng-required="true"><div ng-if="courseForm.$submitted && courseForm.purchaseProductId.$invalid" ng-messages="courseForm.purchaseProductId.$error"><div class="help-block" ng-message="pattern">Can only contain lowercase and hyphens</div><div class="help-block" ng-message="required">This is required</div></div></div></div></div><hr><div class="panel-body" ng-if="vm.loaded"><div class="row m-b-md"><div class="col-md-12"><h3>Course Information</h3><small>You can easily change these later</small></div></div>\x3c!-- START: Course titles --\x3e<div class="row"><div class="form-group col-md-6" ng-class="{\'has-error\': courseForm.$submitted && courseForm.title.$invalid}"><label class="control-label" for="title">Course Title</label><input class="form-control" type="text" name="title" ng-disabled="vm.preventFieldEdit(\'title\')" ng-model="vm.courseUpdateObject.title" ng-required="true"><div ng-if="courseForm.$submitted && courseForm.title.$invalid" ng-messages="courseForm.title.$error"><div class="help-block" ng-message="required">This is required</div></div></div><div class="form-group col-md-6" ng-class="{\'has-error\': courseForm.$submitted && courseForm.shortTitle.$invalid}"><label class="control-label" for="shortTitle">Short Title</label><input class="form-control" type="text" ng-disabled="vm.preventFieldEdit(\'shortTitle\')" name="shortTitle" ng-model="vm.courseUpdateObject.shortTitle" ng-required="true"><div ng-if="courseForm.$submitted && courseForm.shortTitle.$dirty" ng-messages="courseForm.shortTitle.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div>\x3c!-- END: Course titles --\x3e\x3c!-- START: Course titles --\x3e<div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': courseForm.$submitted && courseForm.authors.$invalid}"><label class="control-label" for="authors">Authors</label><div class="container-authors bg-white m-b" name="authors" ng-model="vm.authorProfiles" require-author><div ng-repeat="profile in vm.authorProfiles track by $index"><user-profile-list-item-component user-id="profile.userId" displayname="profile.displayname" picture="profile.picture" on-delete="vm.removeAuthor($index)"></user-profile-list-item-component></div><div ng-click="vm.addAuthor()" class="add-author"><div class="add-author-container"><i class="fa fa-plus"></i></div></div></div><div ng-if="courseForm.$submitted && courseForm.authors.$invalid" ng-messages="courseForm.authors.$error"><div class="help-block" ng-message="requireAuthor">At least 1 Author is required</div></div></div></div>\x3c!-- START: Course titles --\x3e\x3c!-- START: Short Summary --\x3e<div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': courseForm.$submitted && courseForm.shortSummary.$invalid}"><label class="control-label" for="shortSummary">Short Summary</label><input class="form-control" type="text" ng-disabled="vm.preventFieldEdit(\'shortSummary\')" name="shortSummary" ng-model="vm.courseUpdateObject.shortSummary" ng-required="true"><div ng-if="courseForm.$submitted && courseForm.shortSummary.$invalid" ng-messages="courseForm.shortSummary.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div>\x3c!-- END: Short Summary --\x3e\x3c!-- START: Description --\x3e<div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': courseForm.$submitted && courseForm.description.$invalid}"><label class="control-label" for="description">Description</label><textarea rows="20" type="text" ng-disabled="vm.preventFieldEdit(\'description\')" class="form-control" name="description" ng-model="vm.courseUpdateObject.description" ng-required="true"></textarea><div ng-if="courseForm.$submitted && courseForm.description.$invalid" ng-messages="courseForm.description.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div>\x3c!-- END: Description --\x3e<div class="row" style="margin-top: 20px"><div class="admin--form-submit col-md-12"><input type="submit" ng-disabled="courseForm.$submitted && courseForm.$invalid" class="pull-right btn btn--blue" value="{{ vm.actionStatus() }}"> <span class="text-danger" ng-show="courseForm.$submitted && courseForm.$invalid">Please review & fix errors above</span></div></div></div></form></div>'),a.put("app/admin/admin-courses.html",'<div class="row"><div class="col-sm-12"><div class="panel"><div class="panel-heading"><button ui-sref="app.admin.course-create" class="pull-right btn btn--blue"><i class="fa fa-plus i-24"></i> Add</button> <input type="text" class="pull-right m-r form-control" style="width: 300px" placeholder="Search for a course" ng-model="vm.searchQuery"><h5 class="Admin--Title">Created Courses</h5><p ng-show="vm.createdCourse" style="color: #0d8aee">Successfully created course: {{vm.createdCourse}}</p></div><div class="panel-body"><table class="table table-striped"><thead><tr><th>Course Name</th><th>Course ID</th><th>Course description</th></tr></thead><tbody><tr ng-repeat="course in vm.courses | orderBy:\'title.toLowerCase()\' | filter: {\'title\': vm.searchQuery} "><td><a ui-sref="app.admin.course-edit({ courseId: course.uniqueid })" class="text-info">{{course.title}}</a></td><td class="label-group">{{course.uniqueid}}</td><td>{{ course.shortSummary}}</td></tr></tbody></table></div></div></div></div>'),a.put("app/admin/admin-organisation-create.html",'<div class="row"><div class="col-sm-12"><button ui-sref="app.admin.organisations" class="m-b btn btn--blue"><i class="fa fa-angle-left"></i> Back</button><div class="panel"><div class="panel-body clearfix"><div class="form-group"><label class="control-label">Organisation Name</label><input class="text-lg form-control" ng-disabled="!vm.isLoaded" ng-model="vm.organisation.name" ng-change="vm.checkHasOrganisationName()" required></div><button ng-disabled="vm.saving || !vm.hasOrganisationName" ng-click="vm.create()" class="pull-right m-t btn btn--blue">Create Organisation</button></div></div></div></div>'),a.put("app/admin/admin-organisation-edit-add-purchase-dialog.html",'<div class="ngdialog-message"><h2>Add Points Purchase</h2><div class="row"><div class="col-sm-12"><div class="form-group"><label class="control-label">Points Amount</label><input class="form-control" type="number" ng-model="amount" required></div></div></div><div class="row"><div class="col-sm-12"><div class="form-group"><label class="control-label">Description</label><input class="form-control" type="text" ng-model="description" required></div></div></div><div class="row"><div class="col-sm-12"><div class="form-group"><label class="control-label">Purchase Date</label><gu-date-picker date="ngDialogData.purchaseDate" required></div></div></div><div class="ngdialog-buttons mt"><button type="button" class="m-x-xs ngdialog-button ngdialog-button-primary" ng-click="closeThisDialog({ amount: amount, description: description, purchaseDate: ngDialogData.purchaseDate})">Add Points</button> <button type="button" class="m-x-xs ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(null)">Cancel</button></div></div>'),a.put("app/admin/admin-organisation-edit.html",'<div class="row"><div class="col-sm-12"><button ng-disabled="!vm.isLoaded" ui-sref="organisation-dashboard.members({organisationId: vm.orgId})" class="btn btn--blue pull-right m-b">Open Organisation Dashboard</button> <button ui-sref="app.admin.organisations" class="m-b m-t btn btn--blue"><i class="fa fa-angle-left"></i> Back</button><div class="text-center" ng-show="!vm.isLoaded"><span><i class="fa fa-circle-o-notch fa-spin text-lg"></i></span></div><div class="panel" ng-show="vm.isLoaded"><div class="panel-body"><div class="form-group"><label class="control-label">Organisation Name</label><input class="text-lg form-control" ng-model="vm.organisation.name" required></div><div class="form-group"><label class="control-label">Website</label><input class="text-lg form-control" ng-model="vm.organisation.website"></div><div class="row"><div class="col-sm-12"><div class="form-group"><label class="control-label">Domains (comma separated)</label><input ng-model="vm.domainList" class="form-control" required><div class="text-danger" ng-show="vm.invalidDomains && vm.invalidDomains.length"><p>The following domains are already used by other organisations</p><ul><li ng-repeat="domain in vm.invalidDomains">{{domain}}</li></ul></div></div></div></div><h4>Pricing</h4><div class="row"><div class="col col-sm-4" ng-if="vm.organisation.chargeModel !== \'marketplace\'"><label class="control-label">Charge Model</label><p><label class="control-label"><input type="radio" name="radio" ng-model="vm.organisation.chargeModel" value="subscription"> Subscription</label></p><p><label class="control-label"><input type="radio" name="radio" ng-model="vm.organisation.chargeModel" value="points"> Points</label></p><p><label class="control-label"><input type="radio" name="radio" ng-model="vm.organisation.chargeModel" value="purchase"> Pre-Purchase / Discount</label></p></div><div class="col col-sm-4" ng-if="vm.organisation.chargeModel === \'marketplace\'"><label class="control-label">Charge Model</label><p><label class="control-label"><input type="radio" name="radio" checked disabled> AWS Marketplace</label></p></div><div class="col col-sm-8" ng-show="vm.organisation.chargeModel !== \'subscription\' && vm.organisation.chargeModel !== \'marketplace\'"><label class="control-label">Pricing Set</label><div><ui-select ng-disabled="!vm.isLoaded" id="selectProducts" style="background: #fff" class="w-full" ng-model="vm.organisation.promotion" theme="bootstrap"><ui-select-match allow-clear="true" placeholder="">{{$select.selected}}</ui-select-match><ui-select-choices repeat="promotionId in vm.promotions | orderBy:\'toString()\' | filter:$select.search">{{promotionId}}</ui-select-choices></ui-select></div></div><div class="col col-sm-8" ng-if="vm.organisation.chargeModel === \'subscription\'"><div class="row"><div class="col-sm-4"><div><label class="control-label">Licensed User Count</label><input class="form-control" type="number" ng-model="vm.organisation.subscriptionUserLicenseCount" required></div></div></div><div class="row"><div class="col-sm-4"><div><label class="control-label">Subscription Start Date</label><gu-date-picker date="vm.subscriptionStartDate"></div></div><div class="col-sm-4"><div><label class="control-label">Subscription End Date</label><gu-date-picker date="vm.subscriptionEndDate"></div></div></div></div><div class="col col-sm-8" ng-if="vm.organisation.chargeModel === \'marketplace\'"><div class="row"><div class="col-sm-4"><div><label class="control-label">Licensed User Count</label><div>{{vm.organisation.marketplaceSubscription.userLicenseCount}}</div></div></div><div class="col-sm-4"><div><label class="control-label">Subscription End Date</label><div>{{vm.organisation.marketplaceSubscription.endDate | amDateFormat:\'MMM D YYYY\'}}</div></div></div></div></div></div><h4>Feature Toggles</h4><div class="row"><div class="col-sm-6"><div class="checkbox"><label><input type="checkbox" ng-model="vm.requireEmployeeId"> Ask members to provide employee IDs</label></div><div class="checkbox"><label><input type="checkbox" ng-model="vm.enhancedSyllabus"> Enable enhanced syllabus (Qwiklabs, whitepapers)</label></div><div class="checkbox"><label><input type="checkbox" ng-model="vm.reporting.periscopeEnabled"> Enable enhanced reporting</label></div><div class="checkbox"><label><input type="checkbox" ng-model="vm.restrictForumWriteAccess"> Do not allow organisation members to interact on the forums</label></div><div class="checkbox"><label><input type="checkbox" ng-model="vm.enableTeams"> Enable teams.acloud.guru for Organisation Admins</label></div><div class="checkbox"><label><input type="checkbox" ng-model="vm.disableDataSyncWarning"> Disable 30 minute data sync warning for Organisation Admins</label></div></div></div></div><div ng-show="vm.reporting.periscopeEnabled"><h5>Reporting settings</h5><div class="row"><div class="col-sm-6"><div><label class="control-label">Periscope Dashboard ID</label><input class="form-control" type="text" ng-model="vm.reporting.periscopeDashboardId" required></div></div></div></div><div class="clearfix"><button ng-click="vm.save()" class="pull-right m-t btn btn--blue">Save</button></div><div class="row" ng-show="vm.organisation.usePoints"><button ng-disabled="!vm.isPointsPurchasesLoaded" ng-click="vm.addPoints()" class="pull-right m-t btn btn--blue">Add</button><h5 class="font-thin text-lg m-b">Points Balance: {{ vm.pointsBalance }}</h5><table class="table table-striped" ng-show="vm.isPointsPurchasesLoaded"><thead><tr><th>Purchase Date</th><th>Points Amount</th><th>Description</th></tr></thead><tbody><tr ng-repeat="purchase in vm.pointsPurchases | orderBy: \'purchaseDate\'"><td>{{purchase.purchaseDate | amDateFormat:\'dddd, MMMM Do YYYY\'}}</td><td>{{purchase.amount}} pts</td><td>{{purchase.description}}</td></tr></tbody></table></div><div class="row"><div class="col-sm-12"><h5 class="font-thin text-lg m-b">On-boarding Link</h5><div class="m-b-sm" ng-repeat="(joinCode, value) in vm.organisation.joinCodes" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; line-height: 24px"><a class="text-muted text-lg text-bold m-l-sm pull-right" ng-click="vm.deleteCode(joinCode)"><i class="fa fa-times"></i></a> <a ui-sref="join-organisation({orgId: vm.orgId, secretCode: joinCode})" target="_blank">{{ $state.href(\'join-organisation\', {orgId: vm.orgId, secretCode: joinCode}, {absolute: true}) }}</a></div><button ng-click="vm.generateNewCode()" class="m-t btn btn-sm btn--blue">Generate New Link</button></div></div></div></div></div>'),a.put("app/admin/admin-organisations.html",'<div class="panel"><div class="panel-heading"><button ui-sref="app.admin.organisation-create" class="pull-right btn--blue"><i class="fa fa-plus i-24"></i> Add</button> <input type="text" class="pull-right m-r form-control" style="width: 300px" placeholder="Search for an organisation" ng-model="vm.searchQuery"><h5 class="Admin--Title">Organisations</h5></div><div class="panel-body"><table class="table table-striped"><thead><tr><th>Organisation</th><th>Domains</th><th>Model</th></tr></thead><tbody><tr ng-repeat="organisation in vm.organisations | filter: {\'name\': vm.searchQuery} | orderBy:\'name.toLowerCase()\' "><td><a href class="text-info" ui-sref="app.admin.organisation-edit({orgId: organisation.$id})">{{organisation.name}}</a></td><td class="label-group__inline"><span class="label-md label label-info m-r-xs" ng-repeat="domain in organisation.domains">{{domain}}</span></td><td><span ng-switch="organisation.chargeModel"><span ng-switch-when="subscription">Subscription</span> <span ng-switch-when="marketplace">Marketplace</span> <span ng-switch-when="points">Points</span> <span ng-switch-when="purchase">Course Pre-Purchase</span> <span ng-switch-default>{{!organisation.usePoints ? \'Course Pre-Purchase (legacy config)\' : \'Unknown\'}}</span></span></td></tr></tbody></table><div class="text-md text-muted text-center" ng-show="!vm.isLoaded"><i class="fa fa-refresh fa-spin"></i></div></div></div>'),a.put("app/admin/admin-product-create.html",'<div class="row"><div class="col-sm-12"><button ui-sref="app.admin.products" class="m-b btn--blue"><i class="fa fa-angle-left"></i> Back</button><div class="panel"><div class="panel-body clearfix"><div class="form-group"><label class="control-label">Product Id</label><input class="text-lg form-control" ng-disabled="!vm.isLoaded" ng-model="vm.product.id" required></div><div class="row"><div class="col-sm-12"><div class="form-group"><label class="control-label">Brand</label><input disabled ng-model="vm.product.brand" required placeholder="Please ask devs to set a brand." class="form-control"></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label class="control-label">Title</label><input ng-disabled="!vm.isLoaded" ng-model="vm.product.title" required class="form-control"></div></div><div class="col-sm-6"><div class="form-group"><label class="control-label">SKU</label><input type="number" ng-disabled="!vm.isLoaded" ng-model="vm.product.sku" required class="form-control"></div></div></div><div class="row"><div class="col-sm-12 form-group"><label for="courseSelect" class="control-label">Courses</label><ui-select ng-model="vm.fakeObj.courses" ng-disabled="!vm.isLoaded" style="background: #fff" class="w-full form-control" id="courseSelect" multiple theme="bootstrap"><ui-select-match placeholder="Choose some courses to include in this product">{{$item.title}}</ui-select-match><ui-select-choices repeat="course in vm.courses | orderBy:\'title\' | filter:{\'title\': $select.search}">{{course.title}}</ui-select-choices></ui-select></div></div><button ng-disabled="!vm.isLoaded" ng-click="vm.create()" class="pull-right m-t btn btn--blue">Create</button></div></div></div></div>'),
a.put("app/admin/admin-product-edit.html",'<div class="row"><div class="col-sm-12"><button ui-sref="app.admin.products" class="m-b btn--blue">Back</button><div class="panel" ng-if="vm.isLoaded"><div class="panel-body clearfix"><form name="productEdit" novalidate ng-submit="productEdit.$valid && vm.save()"><div class="row b-b">\x3c!-- START: ProductID --\x3e<div class="col-sm-6"><h3 class="text-lg no-margin m-b p-v font-thin ng-binding" aria-hidden="false">{{ vm.productId }}</h3></div>\x3c!-- END: ProductID --\x3e\x3c!-- START: Active Toggle --\x3e<div class="col-sm-1"><div class="checkbox"><label><input type="checkbox" checked ng-disabled="!vm.isLoaded" ng-model="vm.product.isActive" ng-click="vm.validateProduct()"> Active</label></div></div>\x3c!-- END: Active Toggle --\x3e\x3c!-- START: Visible Toggle --\x3e<div class="col-sm-1"><div class="checkbox"><label><input type="checkbox" checked ng-disabled="!vm.isLoaded" ng-model="vm.product.isVisible" ng-click="vm.validateProduct()"> Visible</label></div></div>\x3c!-- END: Visible Toggle --\x3e\x3c!-- START: Featured Toggle --\x3e<div class="col-sm-1"><div class="checkbox"><label><input type="checkbox" checked ng-disabled="!vm.isLoaded" ng-model="vm.product.isFeatured"> Featured</label></div></div>\x3c!-- END: Featured Toggle --\x3e<div class="col-sm-3">\x3c!-- START: Members Only Toggle --\x3e<div class="btn-group" uib-dropdown dropdown-append-to-body><button id="btn-append-to-body" type="button" class="btn btn-primary" ng-disabled="!vm.isLoaded" uib-dropdown-toggle>Access level: {{vm.getAccessibleLabel()}} <span class="caret"></span></button><ul class="dropdown-menu select-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-click="vm.changeProductAccess(vm.accessLevels.ALL)"><i class="fa fa-check" ng-if="!vm.product.isMembersOnly && !vm.product.isOrganisationOnly"></i> <span class="select-menu-item-heading">All Users</span> <span class="description">All customers will be able to see and take this course regardless of membership status.</span></li><li role="menuitem" ng-click="vm.changeProductAccess(vm.accessLevels.MEMBER_ONLY)"><i class="fa fa-check" ng-if="vm.product.isMembersOnly"></i> <span class="select-menu-item-heading">All Members</span> <span class="description">Any customer with an active membership (B2C or B2B) will be able to take this course. All users can SEE this course.</span></li><li role="menuitem" ng-click="vm.changeProductAccess(vm.accessLevels.ORGANISATION_ONLY)"><i class="fa fa-check" ng-if="vm.product.isOrganisationOnly"></i> <span class="select-menu-item-heading">Organizations Only (B2B)</span> <span class="description">Only organization members can see and take this course. It is hidden from all other user types.</span></li></ul></div></div>\x3c!-- END: Members Only Toggle --\x3e<div class="col-sm-4" ng-show="vm.invalidState"><div class="help-block">The product cannot be inactive and visible.</div></div></div><div class="row"><div class="col-sm-12"><div class="well"><h4>Product State</h4><p ng-if="!vm.product.isActive">Product cannot be seen or taken by anyone</p><p ng-if="vm.product.isActive && !vm.product.isVisible"><span ng-if="!vm.product.isMembersOnly">Requires a <a ui-sref="course({courseUrl: vm.product.url})">link</a> or a corresponding promo code to be seen</span> <span ng-if="vm.product.isMembersOnly">Can be access with a <a ui-sref="course({courseUrl: vm.product.url})">link</a></span></p><p ng-if="vm.product.isActive && vm.product.isVisible && !vm.product.isOrganisationOnly">This product will be <span ng-if="!vm.product.isMembersOnly">shown in the <strong>checkout dropdown</strong> and will be</span> shown on the <strong>courses page</strong></p><p ng-if="vm.product.isActive && vm.product.isVisible && vm.product.isOrganisationOnly">This product will be shown only shown to <strong>B2B customers.</strong></p></div></div></div><div class="row"><div class="col-sm-12"><div class="form-group"><label class="control-label">Brand</label><input type="text" disabled ng-model="vm.product.brand" required placeholder="Please ask devs to set a brand."></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label class="control-label">Title</label><input ng-disabled="!vm.isLoaded" class="form-control" ng-model="vm.product.title" required></div></div><div class="col-sm-6 form-group"><label class="control-label">Product Type</label><select class="form-control" ng-disabled="true" ng-model="vm.product.type"><option value="course">Course</option><option value="bundle">Bundle</option></select></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label class="control-label">SKU</label><input type="number" disabled class="form-control" ng-model="vm.product.sku" required></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label class="control-label">Invoice Description</label><input disabled class="form-control" ng-model="vm.product.invoiceDescription" required></div></div><div class="col-sm-6"><div class="form-group"><label class="control-label">Statement Descriptor</label><input disabled class="form-control" ng-model="vm.product.statementDescriptor" required></div></div></div><div class="row"><div class="col-sm-6"><div class="checkbox"><label><input type="checkbox" ng-model="vm.product.includesQuizzes"> Includes Quizzes</label></div></div><div class="col-sm-6"><div class="checkbox"><label><input type="checkbox" ng-model="vm.product.includesPracticeExams"> Includes Practice Exams</label></div></div></div>\x3c!-- START: Courses & Currency --\x3e<div class="row">\x3c!-- START: Courses --\x3e<div class="col-sm-5"><h4>Courses</h4><ul class="list-group md-whiteframe-z0 m-t"><li ui-sref="course({courseUrl: course.url})" class="list-group-item clickable" ng-repeat="course in vm.courses"><a href="" class="pull-left w-24 m-r"><img ng-src="{{course.technologyLogoImage}}" style="height: 27.3px" class="img-responsive w-24"></a><div class="clear"><a href="" class="font-bold block">{{course.title}}</a>{{course.summary}}</div></li></ul></div>\x3c!-- END: Courses --\x3e\x3c!-- START: Currency --\x3e<div ng-if="!vm.product.isMembersOnly && !vm.product.isOrganisationOnly" class="col-sm-6 col-sm-offset-1"><h4>Base Product Pricing</h4>\x3c!-- START: Currency Repeater --\x3e<div ng-repeat="currencyPrice in vm.supportedCurrencies track by $index"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit[currencyPrice].$invalid}"><label for="{{currencyPrice}}" class="control-label">{{ currencyPrice.toUpperCase() }} Price</label><input type="number" class="form-control" ng-disabled="!vm.isLoaded" id="{{currencyPrice}}" name="{{currencyPrice}}" ng-model="vm.product.prices[$index].price" required><div ng-messages="productEdit[currencyPrice].$error" ng-show="productEdit.$submitted && productEdit[currencyPrice].$invalid"><div class="help-block" ng-message="required">You must provide an currency for {{ currencyPrice }}</div></div></div></div>\x3c!-- END: Currency Repeater --\x3e</div>\x3c!-- END: Currency --\x3e</div>\x3c!-- END: COurses --\x3e\x3c!-- START: Other Information --\x3e<div><div class="row"><div class="col-sm-6"><h4>Other Information</h4></div></div><div class="row" style="margin-bottom: 44px"><div class="col-sm-6 form-group"><div class="checkbox"><label><input type="checkbox" ng-model="vm.product.includesQuizzes"> Includes Quizzes</label></div></div><div class="col-sm-6 form-group"><div class="checkbox"><label class="control-label"><input type="checkbox" ng-model="vm.product.includesPracticeExams"> Includes Practice Exams</label></div></div></div><div class="row"><div class="col-sm-4"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.duration.$invalid}"><label for="duration" class="control-label">Duration</label><input type="number" class="form-control" id="duration" name="duration" ng-disabled="!vm.isLoaded" ng-model="vm.product.duration" required><div ng-messages="productEdit.duration.$error" ng-show="productEdit.$submitted && productEdit.duration.$invalid"><div class="help-block" ng-message="required">You must provide a duration</div></div></div></div><div class="col-sm-4"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.artworkKey.$invalid}"><label for="artworkKey" class="control-label">ArtWork Key</label><input class="form-control" ng-disabled="!vm.isLoaded" id="artworkKey" name="artworkKey" ng-model="vm.product.artworkKey"><div ng-messages="productEdit.artworkKey.$error" ng-show="productEdit.$submitted && productEdit.artworkKey.$invalid"><div class="help-block" ng-message="required">You must provide an Artwork Key</div></div></div></div><div class="col-sm-4"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.url.$invalid}"><label for="url" class="control-label">Product URL</label><input type="text" class="form-control" id="url" name="url" ng-disabled="true" ng-model="vm.product.url" required><div ng-messages="productEdit.url.$error" ng-show="productEdit.$submitted && productEdit.url.$invalid"><div class="help-block" ng-message="required">No URL</div></div></div></div></div></div>\x3c!-- END: Other Information --\x3e\x3c!-- START: Course Specific Properties --\x3e<div ng-if="vm.product.type === \'course\'"><div class="row"><div class="col-sm-6"><h4>Course Specific Information</h4></div></div><div class="row"><div class="col-sm-6"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.previewVideoUrl.$invalid}"><label for="previewVideoUrl" class="control-label">Preview Video Url</label><input class="form-control" ng-disabled="!vm.isLoaded" id="previewVideoUrl" name="previewVideoUrl" ng-model="vm.product.previewVideoUrl" required><div ng-messages="productEdit.previewVideoUrl.$error" ng-show="productEdit.$submitted && productEdit.previewVideoUrl.$invalid"><div class="help-block" ng-message="required">You must provide Preview Video Url</div></div></div></div><div class="col-sm-6"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.previewVideoPosterUrl.$invalid}"><label for="previewVideoPosterUrl" class="control-label">Preview Video Poster Url</label><input class="form-control" ng-disabled="!vm.isLoaded" id="previewVideoPosterUrl" name="previewVideoPosterUrl" ng-model="vm.product.previewVideoPosterUrl"></div></div></div><div class="row"><div class="col-sm-12"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.bundleCourseDescription.$invalid}"><label for="bundleCourseDescription" class="control-label">Bundle Course Description</label><input class="form-control" ng-disabled="!vm.isLoaded" id="bundleCourseDescription" name="bundleCourseDescription" ng-model="vm.product.bundleCourseDescription" required><div ng-messages="productEdit.bundleCourseDescription.$error" ng-show="productEdit.$submitted && productEdit.bundleCourseDescription.$invalid"><div class="help-block" ng-message="required">You must provide Bundle Course Description</div></div></div></div></div></div>\x3c!-- END: Course Specific Properties --\x3e\x3c!-- START: Product Descriptions --\x3e<div><div class="row"><div class="col-sm-6"><h4>Product Descriptions</h4></div></div>\x3c!-- START: CTA Title --\x3e<div class="row"><div class="col-sm-12"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.ctaTitle.$invalid}"><label for="ctaTitle" class="control-label">CTA Title</label><textarea class="form-control" ng-disabled="!vm.isLoaded" id="ctaTitle" name="ctaTitle" ng-model="vm.product.ctaTitle" required></textarea><div ng-messages="productEdit.ctaTitle.$error" ng-show="productEdit.$submitted && productEdit.ctaTitle.$invalid"><div class="help-block" ng-message="required">You must provide an CTA Title</div></div></div></div></div>\x3c!-- START: CTA Title --\x3e\x3c!-- START: CTA Footer --\x3e<div class="row"><div class="col-sm-12"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.ctaFooter.$invalid}"><label for="ctaFooter" class="control-label">CTA Footer</label><textarea class="form-control" ng-disabled="!vm.isLoaded" id="ctaFooter" name="ctaFooter" ng-model="vm.product.ctaFooter" required></textarea><div ng-messages="productEdit.ctaFooter.$error" ng-show="productEdit.$submitted && productEdit.ctaFooter.$invalid"><div class="help-block" ng-message="required">You must provide an CTA Footer</div></div></div></div></div>\x3c!-- END: CTA Footer --\x3e\x3c!-- START: Description --\x3e<div class="row"><div class="col-sm-12"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.description.$invalid}"><label for="description" class="control-label">Description</label><textarea style="height: 400px" class="form-control" ng-disabled="!vm.isLoaded" id="description" name="description" ng-model="vm.product.description" required></textarea><div ng-messages="productEdit.description.$error" ng-show="productEdit.$submitted && productEdit.description.$invalid"><div class="help-block" ng-message="required">You must provide an Description</div></div></div></div></div>\x3c!-- END: Description --\x3e\x3c!-- START: Short Summary --\x3e<div class="row"><div class="col-sm-12"><div class="form-group" ng-class="{\'has-error\': productEdit.$submitted && productEdit.shortSummary.$invalid}"><label for="shortSummary" class="control-label">Short Summary</label><textarea class="form-control" ng-disabled="!vm.isLoaded" id="shortSummary" name="shortSummary" ng-model="vm.product.shortSummary" required></textarea><div ng-messages="productEdit.shortSummary.$error" ng-show="productEdit.$submitted && productEdit.shortSummary.$invalid"><div class="help-block" ng-message="required">You must provide an Short Summary</div></div></div></div></div>\x3c!-- END: Short Summary --\x3e\x3c!-- START: Prerequisites --\x3e<div class="row"><div class="col-sm-12"><h4>Prerequisites</h4><div class="list-group list-group-md no-border"><div class="list-viewer"><ul dnd-list="vm.product.prerequisites"><li ng-repeat="item in vm.product.prerequisites" dnd-draggable="item" dnd-moved="vm.move(vm.product.prerequisites, $index)" dnd-effect-allowed="move" dnd-selected="vm.selected = item" ng-class="{\'selected\': vm.selected === item}"><dnd-nodrag><div class="item"><div class="gu-list-editor"><a class="gu-button-remove" ng-click="vm.remove(vm.product.prerequisites, $index)"></a><div class="edit-grouping"><input type="text" class="md-input placeholder" ng-disabled="!vm.isLoaded" ng-model="item.body"></div></div></div></dnd-nodrag></li><a class="gu-button-add" ng-click="vm.add(vm.product.prerequisites)"></a></ul></div></div></div></div>\x3c!-- END: Prerequisites --\x3e\x3c!-- START: Audience --\x3e<div class="row"><div class="col-sm-12"><h4>Audience</h4><div class="list-group list-group-md no-border"><div class="list-viewer"><ul dnd-list="vm.product.audience"><li ng-repeat="item in vm.product.audience" dnd-draggable="item" dnd-moved="vm.move(vm.product.audience, $index)" dnd-effect-allowed="move" dnd-selected="vm.selected = item" ng-class="{\'selected\': vm.selected === item}"><dnd-nodrag><div class="item"><div class="gu-list-editor"><a class="gu-button-remove" ng-click="vm.remove(vm.product.audience, $index)"></a><div class="edit-grouping"><input type="text" class="md-input placeholder" ng-disabled="!vm.isLoaded" ng-model="item.body"></div></div></div></dnd-nodrag></li><a class="gu-button-add" ng-click="vm.add(vm.product.audience)"></a></ul></div></div></div></div>\x3c!-- END: Audience --\x3e\x3c!-- START: Requirements --\x3e<div class="row"><div class="col-sm-12"><h4>Requirements</h4><div class="list-group list-group-md no-border"><div class="list-viewer"><ul dnd-list="vm.product.requirements"><li ng-repeat="item in vm.product.requirements" dnd-draggable="item" dnd-moved="vm.move(vm.product.requirements, $index)" dnd-effect-allowed="move" dnd-selected="vm.selected = item" ng-class="{\'selected\': vm.selected === item}"><dnd-nodrag><div class="item"><div class="gu-list-editor"><a class="gu-button-remove" ng-click="vm.remove(vm.product.requirements, $index)"></a><div class="edit-grouping"><input type="text" class="md-input placeholder" ng-disabled="!vm.isLoaded" ng-model="item.body"></div></div></div></dnd-nodrag></li><a class="gu-button-add" ng-click="vm.add(vm.product.requirements)"></a></ul></div></div></div></div>\x3c!-- END: Requirements --\x3e\x3c!-- START: Outcomes --\x3e<div class="row"><div class="col-sm-12"><h4>Outcomes</h4><div class="list-group list-group-md no-border"><div class="list-viewer"><ul dnd-list="vm.product.outcomes"><li ng-repeat="item in vm.product.outcomes" dnd-draggable="item" dnd-moved="vm.move(vm.product.outcomes, $index)" dnd-effect-allowed="move" dnd-selected="vm.selected = item" ng-class="{\'selected\': vm.selected === item}"><dnd-nodrag><div class="item"><div class="gu-list-editor"><a class="gu-button-remove" ng-click="vm.remove(vm.product.outcomes, $index)"></a><div class="edit-grouping"><input type="text" class="md-input placeholder" ng-model="item.body"></div></div></div></dnd-nodrag></li><a class="gu-button-add" ng-click="vm.add(vm.product.outcomes)"></a></ul></div></div></div></div>\x3c!-- END: Outcomes --\x3e</div>\x3c!-- END: Product Description --\x3e\x3c!-- START: Product Filters --\x3e<div class="row"><div class="col-sm-6"><h4>Product Filters</h4>\x3c!-- START: Vendors --\x3e<div class="form-group"><label class="control-label">Vendor</label><ui-select id="selectProducts" style="background: #fff" class="form-control w-full" multiple ng-model="vm.product.vendors" theme="bootstrap"><ui-select-match placeholder="">{{ vm.vendorsById[$item.id].name }}</ui-select-match><ui-select-choices repeat="vendor.id as vendor in vm.vendors | orderBy:\'toString()\' | filter:$select.search">{{ vm.vendorsById[vendor.id].name }}</ui-select-choices></ui-select></div>\x3c!-- END: Vendors --\x3e\x3c!-- START: Topics --\x3e<label class="control-label">Primary Topic</label><ui-select id="selectProducts" style="background: #fff" class="w-full" ng-model="vm.product.primaryTopic" theme="bootstrap"><ui-select-match allow-clear="true" placeholder="">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="vendor.id as vendor in vm.topics | orderBy:\'toString()\' | filter:$select.search">{{ vm.topicsById[vendor.id].name }}</ui-select-choices></ui-select>\x3c!-- END: Topics --\x3e\x3c!-- START: Topics --\x3e<div class="form-group"><label class="control-label">Secondary Topics</label><ui-select id="selectProducts" style="background: #fff" class="form-control w-full" multiple ng-model="vm.product.topics" theme="bootstrap"><ui-select-match placeholder="">{{ vm.topicsById[$item.id].name }}</ui-select-match><ui-select-choices repeat="vendor.id as vendor in vm.topics | orderBy:\'toString()\' | filter:$select.search">{{ vm.topicsById[vendor.id].name }}</ui-select-choices></ui-select></div>\x3c!-- END: Topics --\x3e\x3c!-- START: Roles --\x3e<div class="form-group"><label class="control-label">Roles</label><ui-select id="selectProducts" style="background: #fff" class="form-control w-full" multiple ng-model="vm.product.roles" theme="bootstrap"><ui-select-match placeholder="">{{ vm.rolesById[$item.id].name }}</ui-select-match><ui-select-choices repeat="vendor.id as vendor in vm.roles | orderBy:\'toString()\' | filter:$select.search">{{ vm.rolesById[vendor.id].name }}</ui-select-choices></ui-select></div>\x3c!-- END: Roles --\x3e\x3c!-- START: Skill Levels --\x3e<div class="form-group"><label class="control-label">Skill Levels</label><ui-select id="selectProducts" style="background: #fff" class="form-control w-full" multiple ng-model="vm.product.skillLevels" theme="bootstrap"><ui-select-match placeholder="">{{ vm.skillLevelsById[$item.id].name }}</ui-select-match><ui-select-choices repeat="vendor.id as vendor in vm.skillLevels | orderBy:\'toString()\' | filter:$select.search">{{ vm.skillLevelsById[vendor.id].name }}</ui-select-choices></ui-select></div>\x3c!-- END: Skill Levels --\x3e\x3c!-- START: Services --\x3e<div class="md-form-group"><label class="control-label">Services</label><ui-select id="selectProducts" style="background: #fff" class="form-control w-full" multiple ng-model="vm.product.services" theme="bootstrap"><ui-select-match placeholder="">{{ vm.servicesById[$item.id].name }}</ui-select-match><ui-select-choices repeat="vendor.id as vendor in vm.services | orderBy:\'toString()\' | filter:$select.search">{{ vm.servicesById[vendor.id].name }}</ui-select-choices></ui-select></div>\x3c!-- END: Services --\x3e\x3c!-- START: Instructors --\x3e<div class="form-group"><label class="control-label">Instructors</label><ui-select id="selectProducts" style="background: #fff" class="form-control w-full" multiple ng-model="vm.product.authors" theme="bootstrap"><ui-select-match placeholder="">{{ vm.authorsById[$item.id].name }}</ui-select-match><ui-select-choices repeat="vendor.id as vendor in vm.authors | orderBy:\'toString()\' | filter:$select.search">{{ vm.authorsById[vendor.id].name }}</ui-select-choices></ui-select></div>\x3c!-- END: Instructors --\x3e</div></div>\x3c!-- END: Product Filters --\x3e\x3c!-- START: Upsell --\x3e<div class="row"><div class="col-sm-6"><h4>Upsell Products</h4><div><ui-select ng-disabled="!vm.isLoaded" id="upsellProducts" style="background: #fff" class="w-full" ng-model="vm.product.upsellBundleId" theme="bootstrap"><ui-select-match allow-clear="true" placeholder="">{{$select.selected.title}}</ui-select-match><ui-select-choices repeat="product.id as product in vm.allProducts | orderBy:\'title\' | filter:{title: $select.search}">{{product.title}}</ui-select-choices></ui-select><label class="control-label">First Upsell Product</label></div><div><ui-select ng-disabled="!vm.isLoaded" id="upsellProducts2" style="background: #fff" class="w-full" ng-model="vm.product.upsellBundleId2" theme="bootstrap"><ui-select-match allow-clear="true" placeholder="">{{$select.selected.title}}</ui-select-match><ui-select-choices repeat="product.id as product in vm.allProducts | orderBy:\'title\' | filter:{title: $select.search}">{{product.title}}</ui-select-choices></ui-select><label class="control-label">Second Upsell Product</label></div></div></div>\x3c!-- ENd: Upsell --\x3e<button ng-disabled="!vm.isLoaded" ng-click="vm.save()" class="pull-right m-t btn btn--blue">Save</button></form></div></div></div></div>'),a.put("app/admin/admin-product-weights.html",'<div class="panel"><div ng-repeat="productType in vm.productTypes"><div class="panel-heading">{{ productType.toUpperCase() }}</div><div class="panel-body"><div class="text-md text-muted text-center" ng-show="!vm.isLoaded"><i class="fa fa-refresh fa-spin"></i></div><ul ng-if="vm.isLoaded" dnd-list="vm.products[productType]" class="list-group"><li ng-repeat="product in vm.products[productType]" dnd-effect-allowed="move" dnd-draggable="product" dnd-moved="vm.move(vm.products[productType], $index)" dnd-selected="vm.selected = product" class="list-group-item" ng-class="{\'selected\': vm.selected === product}"><dnd-nodrag><a ui-sref="app.admin.product-edit({ productId: product.id })" class="text-info"><span>{{ product.title}}</span><div class="pull-right" style="display: inline-block"><span ng-if="!product.isActive" class="label bg-info label-sm pos-rlt m-l-xs m-r-xs">In Active</span> <span ng-if="product.isFeatured" class="label label-success label-sm pos-rlt m-l-xs m-r-xs">Featured</span></div></a></dnd-nodrag></li></ul></div></div><div class="row"><div class="col-sm-12"><button class="m-t btn btn--blue pull-right" ng-click="vm.save()">Save</button></div></div></div>'),a.put("app/admin/admin-products.html",'<div class="panel"><div class="panel-heading"><button ui-sref="app.admin.product-create" class="pull-right btn btn--blue"><i class="fa fa-plus i-24"></i> Add</button> <input type="text" class="pull-right m-r form-control" style="width: 300px" placeholder="Search for a product" ng-model="vm.searchQuery"><h5 class="Admin--Title">Products</h5></div><div class="panel-body"><table class="table table-striped"><thead><tr><th>Product</th><th>Active Status</th><th>Visible Status</th><th>Access Level</th></tr></thead><tbody><tr ng-repeat="product in vm.products | filter: {\'title\': vm.searchQuery} | orderBy:\'title.toLowerCase()\'"><td><a ui-sref="app.admin.product-edit({ productId: product.id })" class="text-info">{{product.title}}</a></td><td><span ng-if="product.isActive" class="label-md label label-info m-r-xs">Active</span></td><td><span ng-if="product.isVisible" class="label-md label label-info m-r-xs">Visible</span></td><td><span ng-if="product.isMembersOnly" class="label-md label label-info m-r-xs">All Members</span> <span ng-if="product.isOrganisationOnly" class="label-md label label-info m-r-xs">Organizations Only</span> <span ng-if="!product.isOrganisationOnly && !product.isMembersOnly" class="label-md label label-info m-r-xs">All Users</span></td></tr></tbody></table></div><div class="text-md text-muted text-center" ng-show="!vm.isLoaded"><i class="fa fa-refresh fa-spin"></i></div></div>'),
a.put("app/admin/admin-promocodes.html",'<div ng-if="!vm.selectedPromoObj"><div class="panel clearfix"><div class="panel-heading"><button class="pull-right btn btn--blue" ng-click="vm.addCode()"><i class="fa fa-plus i-24"></i> Add</button> <input type="text" class="pull-right m-r form-control" style="width: 300px" placeholder="Search for a promo code" ng-model="vm.searchQuery"><h5 class="Admin--Title">Promo Codes</h5></div><div class="panel-body"><table class="table table-striped promocodes__table"><thead><tr><th>Code</th><th>Description</th><th># Remaining</th><th>Price</th></tr></thead><tbody><tr class="table__narrow" ng-repeat="promoObj in vm.promoCodes | filter: {\'$id\': vm.searchQuery} | orderBy:\'$id.toLowerCase()\' "><td><a href class="text-info" ng-click="vm.selectCode(promoObj.$id, promoObj)">{{promoObj.$id}}</a></td><td>{{promoObj.description}}</td><td>{{promoObj.remainingQuantity}}</td><td><span class="label-md label label-info m-r-xs">${{promoObj.prices.usd.price}}</span></td></tr></tbody></table><div class="text-md text-muted text-center" ng-show="!vm.isLoaded"><i class="fa fa-refresh fa-spin"></i></div></div></div></div><div ng-if="vm.selectedPromoObj"><button ng-click="vm.goBack()" class="m-b btn btn--blue">Back</button><div class="panel"><div class="panel-body"><h3 class="text-lg no-margin m-b b-b p-v font-thin" ng-show="!vm.code.isNew">{{vm.code.selectedCode}}</h3><div class="form-group" ng-show="vm.code.isNew" ng-class="{\'has-error\': vm.errors.promoCode}"><label class="control-label">Promo Code</label><input class="form-control" class="text-lg" type="text" ng-model="vm.code.selectedCode" required><div class="help-block" ng-show="vm.errors.promoCode">{{vm.errors.promoCode}}</div></div><div class="row"><div class="col-sm-7"><div class="text-md text-danger m-t m-b" ng-show="isError">There\'s an error in the data below. Check that the numbers are valid and try saving again.</div><div class="form-group"><label class="control-label">Description (Not visible to user)</label><input class="form-control" type="text" ng-model="vm.selectedPromoObj.description" required></div><div class="form-group"><label class="control-label">Public Title (visible to user)</label><input class="form-control" type="text" ng-model="vm.selectedPromoObj.publicTitle" required></div><div class="form-group"><label class="control-label">Public Subtitle (visible to user)</label><input class="form-control" type="text" ng-model="vm.selectedPromoObj.publicSubtitle" required></div><div class="form-group"><label class="control-label">Eligible Products</label><ui-select id="selectProducts" style="background: #fff" class="w-full" multiple ng-model="vm.fakeObj.selectedProducts" theme="bootstrap"><ui-select-match placeholder="">{{$item}}</ui-select-match><ui-select-choices group-by="vm.findProductGroup" repeat="product in vm.products | orderBy:\'toString()\' | filter:$select.search"><span ng-class="{ \'text-warning\': vm.productObjects[product].isVisible === false, \'text-danger\': vm.productObjects[product].isActive === false }">{{product}}</span></ui-select-choices></ui-select></div><div class="row"><div class="col col-sm-12"><div class="form-group" ng-class="{\'has-error\': vm.errors.originalQuantity}"><label class="control-label">Original Quantity</label><input class="form-control" type="number" ng-model="vm.selectedPromoObj.originalQuantity" required><div class="help-block" ng-show="vm.errors.originalQuantity">{{vm.errors.originalQuantity}}</div></div></div><div class="col col-sm-12"><div class="form-group" ng-class="{\'has-error\': vm.errors.remainingQuantity}"><label class="control-label">Remaining Quantity</label><input class="form-control" type="number" ng-model="vm.selectedPromoObj.remainingQuantity" required><div class="help-block" ng-show="vm.errors.remainingQuantity">{{vm.errors.remainingQuantity}}</div></div></div></div></div><div class="col-sm-3"><div class="form-group" ng-repeat="currency in vm.supportedCurrencies" ng-show="!vm.selectedPromoObj.usePoints"><label class="control-label">{{currency}} Price ({{vm.currencySymbols[currency]}})</label><input class="form-control" type="number" ng-model="vm.selectedPromoObj.prices[currency.toLowerCase()].price" required></div><div class="has-error" ng-show="vm.errors.price"><div class="help-block">{{vm.errors.price}}</div></div><div ng-show="vm.selectedPromoObj.usePoints"><label class="control-label">Points</label><input class="form-control" type="number" ng-model="vm.selectedPromoObj.prices[vm.ptsCurrency].price" required></div></div></div><button ng-click="vm.save()" class="pull-right m-t btn btn--blue">Save</button></div><hr><div class="row"><div class="col-sm-4"><div class="panel panel-default"><div class="panel-body"><h4>Direct Checkout Links</h4><p class="help-block">Following one of these links will add the product direct to the user\'s checkout, and <strong><u>remember the promo code</u></strong> in the browser until they remove it from their cart.</p><ul><li ng-repeat="(key, value) in vm.richProductList"><a ui-sref="public.checkout.index({ productIdQS: key, promoCodeQS: vm.code.selectedCode })">https://acloud.guru{{ vm.purchaseUrlFor(key, vm.code.selectedCode) }}</a><label class="label label-danger" ng-if="!value.isActive">Inactive Product</label></li></ul></div></div></div><div class="col-sm-4"><div class="panel panel-default"><div class="panel-body"><h4>"Join" Promo Code Link</h4><p class="help-block">This link will present all the products as cards in a screen. They will <strong><u>not remember</u></strong> any codes unless clicked, and are subsequently added to the checkout. Promo codes lost if you navigate away from this page.</p><a class="block" ui-sref="public.join({promoCode: vm.code.selectedCode})">https://acloud.guru{{ vm.promoCodeUrlFor(vm.code.selectedCode) }}</a></div></div></div><div class="col-sm-4"><div class="panel panel-default"><div class="panel-body"><h4>Non-Checkout Direct Links</h4><p class="text-danger"><strong>Warning:</strong> These links are rarely used. They will only work if the product is still active/available.</p><p class="help-block">These links take you to the course preview screen only, and because they\'re not added to the checkout yet, the <strong><u>promo codes will be lost if you navigate away</u></strong> from this page.</p><ul><li ng-repeat="(key, value) in vm.richProductList"><a ng-if="value.type === \'bundle\'" ui-sref="public.bundle({ bundleUrl: key, promoCode: vm.code.selectedCode })">https://acloud.guru{{ vm.bundlePreviewUrlFor(key, vm.code.selectedCode) }}</a> <a ng-if="value.type === \'course\'" ui-sref="course({ courseUrl: key, promoCode: vm.code.selectedCode })">https://acloud.guru{{ vm.coursePreviewUrlFor(key, vm.code.selectedCode) }}</a><label class="label label-danger" ng-if="!value.isActive">Inactive Product</label></li></ul></div></div></div></div></div></div>'),a.put("app/admin/admin-promotions.html",'<div ng-if="!vm.selectedPromotionObj"><div class="panel"><div class="panel-heading"><button class="pull-right btn--blue" ng-click="vm.addCode()"><i class="fa fa-plus i-24"></i> Add</button> <input type="text" class="pull-right m-r form-control" style="width: 300px" placeholder="Search for a pricing set" ng-model="vm.searchQuery"><h5 class="Admin--Title">Pricing Sets</h5></div><div class="panel-body"><table class="table table-striped"><thead><tr><th>Code</th><th>Description</th><th>Status</th></tr></thead><tbody><tr ng-repeat="promotionObj in vm.promotions | filter: {\'$id\': vm.searchQuery}"><td><a href class="text-info" ng-click="vm.selectCode(promotionObj.$id, promotionObj)">{{promotionObj.$id}}</a></td><td>{{promotionObj.description}}</td><td><span class="label-md label m-r-xs" ng-class="promotionObj.active ? \'label-info\' : \'\'">{{promotionObj.active ? \'Active\' : \'Disabled\'}}</span></td></tr></tbody></table></div><div class="text-md text-muted text-center" ng-show="!vm.isLoaded"><i class="fa fa-refresh fa-spin"></i></div></div></div><div ng-if="vm.selectedPromotionObj"><div class="col-sm-12"><button ng-click="vm.goBack()" class="m-b btn--blue">Back</button> <button ng-click="vm.duplicate()" class="m-b btn--blue pull-right">Duplicate</button><div class="panel"><div class="panel-body clearfix"><div class="pull-right" ng-if="!vm.code.isNew"><div class="checkbox"><label><input type="checkbox" checked ng-model="vm.selectedPromotionObj.active"> Active</label></div></div><h3 class="text-lg no-margin m-b b-b p-v" ng-show="!vm.code.isNew">{{vm.code.selectedCode}}</h3><div ng-show="vm.code.isNew" class="form-group"><label class="control-label">Promotion Code</label><input class="form-control" type="text" ng-model="vm.code.selectedCode" required placeholder="eg. twitterPromoSale2015"></div><div class="text-md text-danger m-t m-b" ng-show="isError">There\'s an error in the data below.</div><div class="row"><div class="col col-sm-12"><div class="form-group"><label class="control-label">Description</label><input ng-model="vm.selectedPromotionObj.description" class="form-control" type="text" required placeholder="eg. Twitter friends sale!"></div></div></div>\x3c!-- Make this a data table --\x3e<h5 class="font-bold m-t-lg">Product Pricing</h5><span class="small">Pricing from the following promo codes will be automatically applied to users who have access to this pricing set.</span><table class="table table-striped m-t-md b-t b-b b-l b-r"><thead><tr><th>Course</th><th>Applicable Promo Code</th></tr></thead><tbody><tr ng-repeat="product in vm.products"><td>{{product}}</td><td><ui-select id="selectCourse" style="background: #fff" class="w-full" ng-model="vm.selectedPromotionObj.products[product]" theme="bootstrap"><ui-select-match allow-clear="true" placeholder="Select a relevant course">{{$select.selected}} - ${{vm.promoCodeObjs[$select.selected].prices.usd.price}}</ui-select-match><ui-select-choices repeat="promoCode in vm.productPromoCodes[product] | orderBy:\'promoCode\' | filter:$select.search">{{promoCode}} - ${{vm.promoCodeObjs[promoCode].prices.usd.price}}</ui-select-choices></ui-select></td></tr></tbody></table><button ng-click="vm.save()" class="pull-right m-t btn--blue">Save</button></div><div class="panel-body bg-dark"><h5 class="font-thin text-lg m-b">Direct Purchase Links</h5><a class="block m-b" ng-href="https://acloud.guru?promotion={{vm.code.selectedCode}}">https://acloud.guru?promotion={{vm.code.selectedCode}}</a></div></div></div></div>'),a.put("app/admin/admin-series-create.html",'<div class="admin-courses-crud panel clearfix"><form novalidate ng-submit="vm.createWebseries(seriesForm)" name="seriesForm"><div class="panel-heading"><div class="col-heading-text"><h5 class="text-capitalize">Create Series</h5></div></div><div class="panel-body"><div class="row m-b-md"><div class="col-md-12"><h3>Web Series Meta Properties</h3><small>These are hard or cannot be changed later, so please get them right</small></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.seriesUrl.$invalid}"><label class="control-label" for="seriesUrl">Web Series URL</label><input class="form-control" name="seriesUrl" type="text" ng-model="vm.seriesUpdateModel.seriesUrl" ng-pattern="/^[a-zA-Z0-9-]+$/" ng-required="true"><div ng-if="seriesForm.$submitted && seriesForm.seriesUrl.$invalid" ng-messages="seriesForm.seriesUrl.$error"><div class="help-block" ng-message="required">This is required</div><div class="help-block" ng-message="pattern">Urls can only contain alphanumberic and hyphens characters</div></div></div></div></div><hr><div class="panel-body"><div class="row m-b-md"><div class="col-md-12"><h3>Web Series Information</h3><small>You can easily change these later</small></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.title.$invalid}"><label class="control-label" for="title">Title</label><input class="form-control" type="text" name="title" ng-model="vm.seriesUpdateModel.title" ng-required="true"><div ng-if="seriesForm.$submitted && seriesForm.title.$invalid" ng-messages="seriesForm.title.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.description.$invalid}"><label class="control-label" for="description">Description</label><textarea rows="5" type="text" class="form-control" name="description" ng-model="vm.seriesUpdateModel.description" ng-required="true"></textarea><div ng-if="seriesForm.$submitted && seriesForm.description.$invalid" ng-messages="seriesForm.description.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div><div class="row" style="margin-top: 20px"><div class="admin--form-submit col-md-12"><input type="submit" ng-disabled="seriesForm.$submitted && seriesForm.$invalid" class="pull-right btn btn--blue" value="Create"> <span class="text-danger" ng-show="seriesForm.$submitted && seriesForm.$invalid">Please review & fix errors above</span></div></div></div></form></div>'),a.put("app/admin/admin-series-update.html",'<div class="admin-courses-crud panel clearfix"><form novalidate ng-submit="vm.updateWebseries(seriesForm)" name="seriesForm"><div class="panel-heading"><div class="col-heading-text"><h5 class="text-capitalize">Update Series</h5></div><div class="col-public-btn"><label><input type="checkbox" ng-model="vm.seriesUpdateModel.isPublic"> Public</label><i></i><label class="m-l-md"><input type="checkbox" ng-model="vm.seriesUpdateModel.isProtected"> Protected</label><i></i></div></div><div class="panel-body"><div class="row m-b-md"><div class="col-md-12"><h3>Web Series Meta Properties</h3></div></div><div class="row"><div class="form-group col-md-12"><label class="control-label" for="uniqueid">Web Series Id</label><input class="form-control" ng-disabled="true" type="text" ng-model="vm.seriesUpdateModel.seriesId"></div></div><div class="row"><div class="form-group col-md-12"><label class="control-label" for="uniqueid">Web Series URL</label><input class="form-control" ng-disabled="true" type="text" ng-model="vm.seriesUpdateModel.seriesUrl"></div></div></div><hr><div class="panel-body"><div class="row m-b-md"><div class="col-md-12"><h3>Web Series Information</h3></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.title.$invalid}"><label class="control-label" for="title">Title</label><input class="form-control" type="text" name="title" ng-model="vm.seriesUpdateModel.title" ng-required="true"><div ng-if="seriesForm.$submitted && seriesForm.title.$invalid" ng-messages="seriesForm.title.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.description.$invalid}"><label class="control-label" for="description">Description</label><textarea rows="5" type="text" class="form-control" name="description" ng-model="vm.seriesUpdateModel.description" ng-required="true"></textarea><div ng-if="seriesForm.$submitted && seriesForm.description.$invalid" ng-messages="seriesForm.description.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.forumRoomId.$invalid}"><label class="control-label" for="forumRoomId">Forum Room Id</label><input class="form-control" type="text" name="forumRoomId" ng-model="vm.seriesUpdateModel.forumRoomId"><div ng-if="seriesForm.$submitted && seriesForm.forumRoomId.$invalid" ng-messages="seriesForm.forumRoomId.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.artworkKey.$invalid}"><label class="control-label" for="artworkKey">Artwork Key</label><input class="form-control" type="text" name="artworkKey" ng-model="vm.seriesUpdateModel.artworkKey" ng-required="true"><div ng-if="seriesForm.$submitted && seriesForm.artworkKey.$invalid" ng-messages="seriesForm.artworkKey.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div></div><hr><div class="panel-body"><div class="row m-b-md"><div class="col-md-12"><button style="float: right; margin-top: 20px" type="button" ng-click="vm.toggleHubspot()" class="btn btn-primary">{{ vm.includeHubspot ? "Disable" : "Enable" }}</button><h3>HubSpot</h3></div></div><div ng-if="vm.includeHubspot"><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.hubspotSubscribeFormId.$invalid}"><label class="control-label" for="hubspotSubscribeFormId">Hubspot Subscribe Form Id</label><input class="form-control" type="text" name="hubspotSubscribeFormId" ng-model="vm.seriesUpdateModel.hubspot.hubspotSubscribeFormId" ng-required="true"><div ng-if="seriesForm.$submitted && seriesForm.hubspotSubscribeFormId.$invalid" ng-messages="seriesForm.hubspotSubscribeFormId.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.hubspotFormTitle.$invalid}"><label class="control-label" for="hubspotFormTitle">Title</label><input class="form-control" type="text" name="hubspotFormTitle" ng-model="vm.seriesUpdateModel.hubspot.title" ng-required="true"><div ng-if="seriesForm.$submitted && seriesForm.hubspotFormTitle.$invalid" ng-messages="seriesForm.hubspotFormTitle.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div><div class="row"><div class="form-group col-md-12" ng-class="{\'has-error\': seriesForm.$submitted && seriesForm.hubspotFormDescription.$invalid}"><label class="control-label" for="hubspotFormDescription">Description</label><textarea rows="2" type="text" class="form-control" type="text" name="hubspotFormDescription" ng-model="vm.seriesUpdateModel.hubspot.description" ng-required="true"></textarea><div ng-if="seriesForm.$submitted && seriesForm.hubspotFormDescription.$invalid" ng-messages="seriesForm.hubspotFormDescription.$error"><div class="help-block" ng-message="required">This is required</div></div></div></div></div></div><hr><div class="panel-body"><div class="row m-b-md" style="margin-top: 20px"><div class="admin--form-submit col-md-12"><input type="submit" ng-disabled="seriesForm.$submitted && seriesForm.$invalid" class="pull-right btn btn--blue" value="Save"> <span class="text-danger" ng-show="seriesForm.$submitted && seriesForm.$invalid">Please review & fix errors above</span></div></div></div></form></div>'),a.put("app/admin/admin-series.html",'<div class="panel"><div class="panel-heading"><button ui-sref="app.admin.series-create" class="pull-right btn btn--blue"><i class="fa fa-plus i-24"></i> Add</button> <input type="text" class="pull-right m-r form-control" style="width: 300px" placeholder="Search for a series" ng-model="vm.searchQuery"><h5 class="Admin--Title">Series</h5></div><div class="panel-body"><table class="table table-striped"><thead><tr><th>Series</th><th>Visible To Users</th><th>Restricted To Members</th></tr></thead><tbody><tr ng-repeat="series in vm.series | filter: {\'title\': vm.searchQuery} | orderBy:\'title.toLowerCase()\'"><td><a ui-sref="app.admin.series-update({ seriesUrl: series.seriesUrl })" class="text-info">{{series.title}}</a></td><td><span ng-if="series.isPublic" class="label-md label label-info m-r-xs">Visible</span></td><td><span ng-if="series.isProtected" class="label-md label label-info m-r-xs">Members-Only</span></td></tr></tbody></table></div></div>'),a.put("app/admin/admin-user-promotion.html",'<div class="panel"><div class="panel-heading"><button class="pull-right btn btn--blue" ng-click="vm.getUserById()">Search</button> <input type="text" class="pull-right m-r form-control" style="width: 300px" placeholder="Search for user by Id" ng-model="vm.userId"><h5 class="Admin--Title">User Promotion</h5></div><div ng-if="vm.errorMessage" class="alert alert-danger"><h4 class="alert--heading">An error occurred</h4>{{vm.errorMessage}}</div><div class="m-l-md m-r-md" ng-if="vm.user"><div class="m-b-md"><h3>Viewing promotions for user: <strong>{{ vm.user.displayname }}</strong></h3></div><div ng-if="vm.currentUserPromotion"><h4>Current User Promotion</h4><p><strong>Current Promotion Id:</strong> {{vm.currentUserPromotion.promotionId}}</p><p><strong>Current Duration:</strong> {{vm.currentUserPromotion.trial.duration}}</p><p><strong>Current Unit:</strong> {{vm.currentUserPromotion.trial.unit}}</p><button ng-click="vm.deletePromotion()" class="btn btn-danger">Delete User Promotion</button></div><div ng-if="!vm.currentUserPromotion" class="form-group"><h4>Add Promotion To User</h4><div><label class="control-label">Promotion Amount</label><input class="form-control" type="text" ng-model="vm.promotionDays"></div><div class="m-t-md"><label class="control-label">Promotion Unit</label><select class="form-control" ng-model="vm.unitSelect"><option value="day">Day</option><option value="month">Month</option></select></div><div class="m-t-md"><button ng-click="vm.addPromotion(vm.unitSelect, vm.promotionDays)" class="btn btn-success">Add User Promotion</button></div></div></div><div class="panel-body" ng-if="vm.accessibleCourses.length > 0"><div class="text-md text-muted text-center" ng-show="!vm.isLoaded"><i class="fa fa-refresh fa-spin"></i></div></div></div>'),a.put("app/admin/admin-users.html",'<div class="panel"><div class="panel-heading"><h5>Users</h5></div><div class="panel-body"><h4>Migrate Course Access</h4><div class="row"><div class="col col-sm-4"><div><label class="control-label">From User ID</label><input class="form-control" ng-model="vm.fromUserId" required></div><gu-short-user-profile user-id="vm.fromUserId"></gu-short-user-profile><ul class="list-group m-t"><li class="list-group-item" ng-repeat="course in vm.fromCourses"><a href="" class="pull-left w-24 m-r"><img ng-src="{{course.technologyLogoImage}}" style="height: 27.3px" class="img-responsive w-24"></a><div class="clear"><a href="" class="font-bold block">{{course.title}}</a> {{course.summary}}</div></li></ul></div><div class="col col-sm-4"><div><label class="control-label">To User ID</label><input class="form-control" ng-model="vm.toUserId" required></div><gu-short-user-profile user-id="vm.toUserId"></gu-short-user-profile><ul class="list-group m-t"><li class="list-group-item" ng-repeat="course in vm.toCourses"><a href="" class="pull-left w-24 m-r"><img ng-src="{{course.technologyLogoImage}}" style="height: 27.3px" class="img-responsive w-24"></a><div class="clear"><a href="" class="font-bold block">{{course.title}}</a> {{course.summary}}</div></li></ul></div><div class="col-col-sm-4"><button ng-click="vm.migrateCourses()" class="btn btn--blue"><i class="fa fa-plus i-24"></i> Migrate</button></div></div></div></div>'),a.put("app/admin/components/gu-date-picker.html",'<div class="input-group"><input class="form-control" type="text" name="{{vm.inputName}}" icon-prefix="fa" uib-datepicker-popup="dd MMMM yyyy" e-init-date="false" ng-model="vm.date" is-open="vm.popupOpen" datepicker-options="vm.dateOptions" ng-required="vm.required" close-text="Close" alt-input-formats="altInputFormats"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="vm.open()"><i class="fa fa-calendar"></i></button></span></div>'),a.put("app/admin/layout.html",'<section class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0"><gu-nav-shell></gu-nav-shell><div class="container"><h1>Administration</h1><p>{{vmAdmin.selectedAdminEntry.title}}</p></div></section><section class="floatedLayout--section dashboardLayout"><div class="container"><div class="row"><div class="col-md-2 dashboardLayout--nav"><ul class="nav nav-pills nav-stacked"><li ng-repeat="entry in vmAdmin.adminEntries | orderBy: \'title\' "><a ui-sref="{{entry.route}}" class="list-group-item" ng-class="$state.current.name == entry.route ? \'bg-info\' : \'\'">{{entry.title}}</a></li></ul></div>\x3c!--/.col--\x3e<div class="col-md-10 dashboardLayout--main"><div ui-view="adminViewPane"></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.row--\x3e</section>'),
a.put("app/admin/ui-kit.html",'<div class="UiKit container" style="width: 100%"><h2>Button Styles</h2><div class="UiKit--ButtonDemo"><div class="row"><div class="col col-sm-4"><h3>Vanilla Bootstrap Buttons (Avoid)</h3><code>.btn.btn-{primary/danger}</code><br><button class="btn btn-default">Button Default</button><br><button class="btn btn-primary">Button Primary</button><br><button class="btn btn-success">Button Success</button><br><button class="btn btn-info">Button Info</button><br><button class="btn btn-danger">Button Danger</button><br><button class="btn btn-warning">Button Warning</button></div>\x3c!--/.col--\x3e<div class="col col-sm-4"><h3>Block Buttons</h3><code>.btn.btn-block</code> <button class="btn btn-block btn-default">Button Default</button> <button class="btn btn-block btn-primary">Button Primary</button> <button class="btn btn-block btn-success">Button Success</button> <button class="btn btn-block btn-info">Button Info</button> <button class="btn btn-block btn-danger">Button Danger</button> <button class="btn btn-block btn-warning">Button Warning</button></div>\x3c!--/.col--\x3e<div class="col col-sm-4"><h3>Outline Buttons</h3><code>.btn.btn-outline</code><br><button class="btn btn-outline btn-default">Button Default</button><br><button class="btn btn-outline btn-primary">Button Primary</button><br><button class="btn btn-outline btn-success">Button Success</button><br><button class="btn btn-outline btn-info">Button Info</button><br><button class="btn btn-outline btn-danger">Button Danger</button><br><button class="btn btn-outline btn-warning">Button Warning</button></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e<div class="row"><div class="col col-sm-4"><h3>Squared Off (Small Radius)</h3><code>.btn.btn__RadiusSm</code><br><button class="btn btn-default btn__RadiusSm">Button Default</button><br><button class="btn btn-primary btn__RadiusSm">Button Primary</button><br><button class="btn btn-success btn__RadiusSm">Button Success</button><br><button class="btn btn-info btn__RadiusSm">Button Info</button><br><button class="btn btn-danger btn__RadiusSm">Button Danger</button><br><button class="btn btn-warning btn__RadiusSm">Button Warning</button></div>\x3c!--/.col--\x3e<div class="col col-sm-4"><h3>Normal Radius</h3><code>.btn.btn__Radius</code><br><button class="btn btn-default btn__Radius">Button Default</button><br><button class="btn btn-primary btn__Radius">Button Primary</button><br><button class="btn btn-success btn__Radius">Button Success</button><br><button class="btn btn-info btn__Radius">Button Info</button><br><button class="btn btn-danger btn__Radius">Button Danger</button><br><button class="btn btn-warning btn__Radius">Button Warning</button></div>\x3c!--/.col--\x3e<div class="col col-sm-4"><h3>Rounded Override</h3><code>.btn.btn__Rounded</code><br><button class="btn btn-default btn__Rounded">Button Default</button><br><button class="btn btn-primary btn__Rounded">Button Primary</button><br><button class="btn btn-success btn__Rounded">Button Success</button><br><button class="btn btn-info btn__Rounded">Button Info</button><br><button class="btn btn-danger btn__Rounded">Button Danger</button><br><button class="btn btn-warning btn__Rounded">Button Warning</button></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e<div class="row"><div class="col col-sm-4"><h3>Custom Colours</h3><code>.btn--{colour}</code><br><button class="btn--blue">btn--blue</button><br><button class="btn--red">btn--red</button><br><button class="btn--green">btn--green</button><br><button class="btn--orange">btn--orange</button><br><button class="btn--purple">btn--purple</button><br><button class="btn--teal">btn--teal</button><br></div>\x3c!--/.col--\x3e<div class="col col-sm-8"><h3>Big CTAs</h3><code>.btn__OrangeCTA</code><br><button class="btn__OrangeCTA">Big Button No Arrow</button><br><button class="btn__OrangeCTA">With Arrow &amp; Hover <span class="fa fa-arrow-circle-right"></span></button><br></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.UiKit--ButtonDemo--\x3e<hr class="m-y-xxl"><h2>Corner Ribbon</h2><div class="row"><div class="col col-sm-4"><div class="panel pos-rel"><div class="panel-body"><div class="cornerRibbon cornerRibbon__topRight"><span>Something!</span></div><h4>Corner Ribbon</h4><p>I am a corner ribbon, locked to the <strong>top right</strong>.</p><p>I come in many colours and positions.</p></div></div></div>\x3c!--/.col--\x3e<div class="col col-sm-4"><div class="panel pos-rel"><div class="panel-body"><div class="cornerRibbon cornerRibbon__topRight cornerRibbon__red"><span>Hot Deal!</span></div><h4>Red Corner Ribbon</h4><p>I am a corner ribbon, locked to the <strong>top right</strong>.</p><p>I come in many colours and positions <strong>such as red!</strong></p></div></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e<hr class="m-y-xxl"><h2>Typography Helpers</h2><div class="panel"><div class="panel-body p-a-lg"><code>.text-trim</code><p class="text-trim">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p><hr class="m-y-lg"><code>h5.preface</code><h5 class="preface">01 &mdash; Section Title</h5><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p><hr class="m-y-lg"><code>.label__uppercase</code><br><label class="label__uppercase">Label Message</label><p class="m-b-lg">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p><code>.label__tiny</code><br><label class="label__tiny">Label Message</label><p class="m-b-lg">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p><code>.t__sparseLabel</code><br><label class="t__sparseLabel">Label Message</label><p class="m-b-lg">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p><hr class="m-y-lg"><code>.t__blur</code><br><p class="t__blur">Blurred Text.</p><code>.t__blurStrong</code><br><p class="t__blurStrong">Blurred Text.</p><hr class="m-y-lg"><code>h2</code><h2>Normal Weight</h2><code>h2.t__heavy</code><h2 class="t__heavy">"Heavy" Modifier</h2><hr class="m-y-lg"><code>p</code><p>Normal Text</p><code>p.t__strong</code><p class="t__strong">"Strong" Text</p></div></div><hr class="m-y-xxl"><h2>Alerts</h2><div class="alert alert-success">Alert message goes here.</div><div class="alert alert-danger">Alert message goes here.</div><div class="alert alert-warning">Alert message goes here.</div><div class="alert alert-info">Alert message goes here.</div><hr><div class="alert alert-success"><h4 class="alert--heading">Nice Work!</h4>Alert message goes here.</div><div class="alert alert-danger"><h4 class="alert--heading">Uhoh! Something went wrong...</h4>Alert message goes here.</div><div class="alert alert-warning"><h4 class="alert--heading">Warning:</h4>Alert message goes here.</div><div class="alert alert-info"><h4 class="alert--heading">Please note</h4>Alert message goes here.</div><hr><code>.alert.alert-success.alert__withIcon</code><div class="alert alert-success alert__withIcon"><un-svg svg-src="images/svg-icons/check-bubble.svg"></un-svg><div class="alert--indent"><h4 class="alert--heading">Nice Work!</h4>Alert message goes here.</div></div><hr><code>.alert.alert-success.alert__withIcon.alert__withColouredIcon</code><div class="alert alert-success alert__withIcon alert__withColouredIcon"><un-svg svg-src="images/svg-icons/check-bubble.svg"></un-svg><div class="alert--indent"><h4 class="alert--heading">Nice Work!</h4>Alert message goes here.</div></div><code>.alert.alert-info.alert__withIcon.alert__withColouredIcon</code><div class="alert alert-info alert__withIcon alert__withColouredIcon"><un-svg svg-src="images/svg-icons/paperclip.svg"></un-svg><div class="alert--indent"><h4 class="alert--heading">Attach Files</h4>Remember to attach your Form 29 Subsection 3, Appendix ii</div></div><hr class="m-y-xxl"><h2>Toasts</h2><p>User notifications are created by <code>ngToast</code> as demonstrated below. They use the default <code>alert</code> classes as demonstrated above.</p><button class="btn btn-primary" ng-click="vm.createToast(\'success\', \'Hooray! Nice work!\')">Create Success Toast</button> <button class="btn btn-primary" ng-click="vm.createToast(\'danger\', \'Uhoh, something bad happened.\')">Create Error Toast</button> <button class="btn btn-primary" ng-click="vm.createToast(\'warning\', \'Hmmmmmm\')">Create Warning Toast</button> <button class="btn btn-primary" ng-click="vm.createToast(\'info\', \'Who ever uses an info toast?\')">Create Info Toast</button><hr class="m-y-xxl"></div>\x3c!--/.container--\x3e')}]),function(){"use strict";function a(a,b){function c(a,c){b.create({className:a,content:c})}this.createToast=c}a.$inject=["lodash","ngToast"],angular.module("app.admin").controller("UIKitController",a)}(),function(){"use strict";angular.module("app.course",["app.core","app.core.brand","com.2fdevs.videogular","com.2fdevs.videogular.plugins.controls","com.2fdevs.videogular.plugins.overlayplay","com.2fdevs.videogular.plugins.dash","com.2fdevs.videogular.plugins.buffering","com.2fdevs.videogular.plugins.poster","th.co.softever.videogular.plugins.quality","ui.select","ngFileUpload","dndLists","ngDialog"])}(),function(){"use strict";function a(a){var b=this;!function(){b.artwork=a.getSquareUrl(b.course.artworkKey)}()}a.$inject=["artworkService"],angular.module("app.course").component("courseSidebarBlockComponent",{controller:a,controllerAs:"vm",templateUrl:"app/course/components/course-sidebar-block.component.html",bindings:{course:"<"}})}(),function(){"use strict";function a(a,b,c){function d(b,d,e){b.$watch("guComponentHref",function(e){a.getComponentUrl(b.guComponentHrefCourseUrl,e).then(function(a){function e(d){d.preventDefault(),b.$apply(function(){c.path(a)})}d.is("a")?d.attr("href",a):(d.off("click",e),a&&d.on("click",e))})})}return d.$inject=["$scope","element","attrs"],{scope:{guComponentHref:"=",guComponentHrefCourseUrl:"="},link:d}}a.$inject=["courseComponentService","currentCourseService","$location"],angular.module("app.course").directive("guComponentHref",a)}(),function(){"use strict";function a(){return{scope:{course:"=",section:"=?",component:"=?",isActiveComponent:"=?",isCompleted:"=",onSelected:"=?"},replace:!0,controllerAs:"vm",controller:b,templateUrl:"app/course/components/gu-course-component.html",bindToController:!0}}function b(a,b,c,d,e,f){function g(){n&&n()}function h(){m.component&&m.onSelected&&m.onSelected(m.component)}function i(a){m.isExpanded=!m.isExpanded,a.stopPropagation()}function j(){m.quizAttempts=o.attempts||0,m.bestQuizScore=o.bestScore||0}function k(){var a=m.component&&m.component.content&&m.component.content.videosources&&b.values(m.component.content.videosources)[0];return a&&a.duration||0}function l(a){m.isLoaded=!1,m.resources=[],a&&(m.isQuiz=a.content&&"quiz"===a.content.type,m.isQuiz&&(n&&n(),f.isAuthenticated()&&c.getQuizScoreRecord(m.course.uniqueid,a.content.quizName).$loaded().then(function(a){o=a,n=a.$watch(j),j()})),e.initializeResourcesForComponent(a).then(function(a){m.resources=a}),m.isLoaded=!0,m.component.componentIdentifier)}var m=this,n=null,o=null;m.isLoaded=!1,m.quizAttempts=0,m.isQuiz=!1,m.bestQuizScore=null,m.bestQuizScoreStylingClass=null,m.isExpanded=!1,m.selectComponent=h,m.toggleResources=i,m.componentDuration=k,a.$watch("vm.component",l),a.$on("$destroy",g)}b.$inject=["$scope","lodash","courseActivityService","courseService","resourceService","authService"],angular.module("app.course").directive("guCourseComponent",a)}(),function(){"use strict";function a(a){this.terms=a}a.$inject=["courseTermsService"],angular.module("app.course").component("guCoursePreview",{templateUrl:"app/course/components/gu-course-preview.component.html",controller:a,controllerAs:"vm",bindings:{courseUrl:"<",purchaseId:"<",duration:"<",quizCount:"<",quizzesAvailable:"<",hasPracticeExams:"<",lectureCount:"<",courseType:"<"}})}(),function(){"use strict";function a(a){var b=this;!function(){a.getTotalCourseCompletion(b.courseId).then(function(a){b.completionPercentage=a.percentage})}()}a.$inject=["courseActivityService"],angular.module("app.course").component("guCourseProgress",{templateUrl:"app/course/components/gu-course-progress.component.html",controller:a,controllerAs:"vm",bindings:{courseId:"<"}})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(){var a=e.assignIn({},g,{rating:m.rating},l());f.track("rating",a),d.create(i||"Thanks for your rating!"),c.close()}function k(){f.track("rating-skipped"),c.dismiss()}function l(){if(m.rating<4&&m.ratingReason)return{ratingReason:m.ratingReason}}var m=this;m.rating=0,m.modalTitle=h,m.ratingReason="",m.sendRating=j,m.skipRating=k,function(){a.$on("modal.closing",function(a,b){"backdrop click"!==b&&"escape key press"!==b||(a.preventDefault(),m.rating>0?j():k())})}()}a.$inject=["$scope","$http","$uibModalInstance","ngToast","lodash","analyticsService","trackingProperties","modalTitle","ratingConfirmation"],angular.module("app.dashboard").controller("GuRatingModalController",a)}(),function(){"use strict";angular.module("app.course").filter("removeEnhanced",function(){return function(a,b){var c={};return angular.forEach(a,function(a,d){a.enhancedSyllabus&&!b||(c[d]=a)}),c}})}(),function(){"use strict";function a(a){return function(b){return a.sumBy(a.toArray(b),function(b){var c=b.content&&b.content.videosources&&a.values(b.content.videosources)[0];return c&&c.duration||0})}}a.$inject=["lodash"],angular.module("app.course").filter("sectionDuration",a)}(),function(){"use strict";function a(){return{scope:!0,require:"^videogular",templateUrl:"app/course/components/vg-buttons/skip-buttons.html",link:function(a,b,c,d){a.skipAmount=parseInt(c.skip),a.skipTime=function(a){d.seekTime(Math.floor(d.currentTime/1e3)+a)}}}}angular.module("app.course").directive("skipButtons",a)}(),function(){"use strict";function a(a,b){this.url=b.trustAsResourceUrl(a.src)}a.$inject=["$scope","$sce"],angular.module("app.course").directive("whitepaper",function(){return{restrict:"E",controllerAs:"vm",controller:a,templateUrl:"app/course/components/whitepaper.html",scope:{src:"="}}})}(),function(){"use strict";function a(){var a={course:{course:"Course",component:"Lesson",action:"Take"},event:{course:"Event",component:"Talk",action:"Watch"}};return{get:function(b){return b&&a[b]?a[b]:a.course}}}angular.module("app.course").factory("courseTermsService",a)}(),function(){"use strict";function a(a,b){b.$on("$stateChangeSuccess",function(b,c,d,e,f){a.setCurrentCourse(d.courseUrl)})}a.$inject=["currentCourseService","$rootScope"],angular.module("app.course").run(a)}(),function(){"use strict";function a(a,b,c,d){var e=this;e.current=c,e.courseMetadata=d}a.$inject=["$scope","$state","currentCourseService","courseMetadata"],angular.module("app.course").controller("CourseController",a)}(),function(){"use strict";function a(a,c,d,e,f,g){function h(a,b,c){b.data&&b.data.mustPurchase&&g.isAuthenticated()&&d.checkAccessStartCourse(c.courseUrl).then(function(b){b.hasAccess||(e.go("public.checkout.index",{productIdQS:b.productId},{location:"replace"}),a.preventDefault())})}c.configureStates(b(a,c.load)),f.$on("$stateChangeStart",h)}function b(a,b){return[{state:"course",config:{url:"/learn/{courseUrl}?{promoCode}&{campaign}",data:{showViewer:!1,showNavBar:!1,tab:"course-overview"},templateUrl:"app/course/overview.html",controller:"CourseOverviewController"}},{state:"app.course",config:{url:"/course/{courseUrl}",abstract:!0,data:{showNavBar:!1,logoutState:"courses",loginCategory:"course",mustLogin:!0,mustPurchase:!0},templateUrl:"app/course/course.html",controller:"CourseController as courseVm",resolve:{courseMetadata:c()}}},{state:"app.course.dashboard",config:{url:"/dashboard",data:{showViewer:!1,tab:"course",cssClass:"page__dark"},templateUrl:"app/course/dashboard.html",controller:"CourseDashboardController"}},{state:"app.course.watch",config:{url:"/learn/{sectionUrl}/{componentUrl}/watch?{backUrl}&{edit}",data:{showViewer:!0,tab:"course",cssClass:"page__dark",showNavBar:!0},resolve:{protectEdit:d()},templateUrl:"app/course/viewer/viewer.html",controller:"CourseViewerController"}},{state:"app.course.discussion.friendly",config:{url:"/{friendlyUrl}?answer",data:{mustLogin:!1,mustPurchase:!1},controller:["$stateParams","$state",function(a,b){b.go("forum.room.discussion",{questionId:a.questionId,roomUrl:a.courseUrl,friendlyUrl:a.friendlyUrl,answer:a.answer||null})}]}},{state:"app.course.discussion",config:{url:"/discuss/{questionId}",data:{mustLogin:!1,mustPurchase:!1},controller:["$stateParams","$state",function(a,b){b.go("forum.room.discussion",{questionId:a.questionId,roomUrl:a.courseUrl})}]}}]}function c(){return["$q","$stateParams","courseMetadataService",function(a,b,c){return c.getCourseByUrl(b.courseUrl).then(function(c){return c||a.reject(new Error("Url: "+b.courseUrl+" does not match any courses"))})}]}function d(){return["$q","$state","$stateParams","courseService","lodash",function(a,b,c,d,e){var f=this;if(c.edit)return d.getCourse(c.courseUrl).then(function(g){if(!d.isUserAuthorOfCourse(g))return b.go(f.name,e.omit(c,"edit")),a.reject()})}]}a.$inject=["appConfig","routerHelper","currentUserAccessService","$state","$rootScope","authService"],angular.module("app.course").run(a)}(),function(){"use strict";function a(){return{scope:{course:"=",component:"=",section:"="},restrict:"AE",controllerAs:"vm",templateUrl:"app/course/creator/add-lecture.html",bindToController:!0,controller:b}}function b(a,b){function c(){var c=angular.copy(f.section.components);c||(c={});var g=0;f.component&&(g=f.component.sequence+1),c=b.reSequence(c,"add",g);var h="Section "+(f.section.sequence+1)+" Lecture "+(g+1),i=b.makeGuid(),j=d(),k=e(h,j,i,g);c[i]=k,a.saveComponents(f.course,f.section,c)}function d(){return{processing:!1,type:"video",videoposter:"",videosources:{source:!0}}}function e(a,b,c,d){return{title:a,url:c,description:"New Lecture Description",content:b,tags:[],notes:[],componentIdentifier:c,sequence:d}}var f=this;f.add=c}b.$inject=["coursePublishService","utilsService"],angular.module("app.course").directive("addLecture",a)}(),function(){"use strict";function a(){return{scope:{course:"="},restrict:"AE",transclude:!0,controllerAs:"vm",templateUrl:"app/course/creator/add-section.html",bindToController:!0,controller:b}}function b(a,b,c,d,e){function f(){var a={};angular.isUndefined(h.course.sections)||(a=angular.copy(h.course.sections));var b=e.keys(a).length,f=c.makeGuid(),i=g(f,b);a[f]=i,d.saveSections(h.course,a)}function g(a,b){return{description:"Sample Section Description",sectionIdentifier:a,sequence:b,title:"Section "+(b+1),url:a,components:{}}}var h=this;h.add=f}b.$inject=["$scope","$rootScope","utilsService","coursePublishService","lodash"],angular.module("app.course").directive("addSection",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){x=a}function k(b,c,d,e,f,g,h,i,j,k,l,m){var n=a(y.child("courses").child("draft").child(b.uniqueid));return n.$loaded().then(function(a){return a.description=c,a.outcomes=d,a.audience=e,a.requirements=f,a.testimonials=g,a.type=h?h.toLowerCase():"course",a.title=i,a.shortSummary=j,a.enableThumbnails=k,a.duration=m,a.isPublic=l,a.isDirty=!0,n.$save().then(function(a){return a},function(a){return console.log("Saving Brochure",a),a})},function(a){return console.log("Loading Brochure",a),a})}function l(a){var b={courseId:a.uniqueid};return i.sendQuery("mutation courseBrochurePublishMutation($courseId: String!) { courseBrochurePublish(courseId: $courseId) { title, uniqueid } }",b,!1).then(function(a){return a.data})}function m(b,c,d){var e=a(y.child("courses").child("draft").child(b.uniqueid).child("sections").child(c.sectionIdentifier)),f=a(y.child("courses").child("data").child(b.uniqueid).child("sections").child(c.sectionIdentifier)),g=h(angular.copy(d)).each(function(a){a.content&&a.content.trustedvideosources&&delete a.content.trustedvideosources});e.$loaded().then(function(a){a.components=g,e.$save()}),f.$loaded().then(function(a){a.components=g,f.$save()})}function n(b,c){var d=a(y.child("courses").child("draft").child(b.uniqueid)),e=a(y.child("courses").child("data").child(b.uniqueid));d.$loaded().then(function(a){a.sections=c,d.$save()}),e.$loaded().then(function(a){a.sections=c,e.$save()})}function o(a,b){angular.isDefined(b)&&null!==b?z[a.componentIdentifier]=b:z[a.componentIdentifier]=!0,x(a.componentIdentifier,z[a.componentIdentifier])}function p(a){return z[a.componentIdentifier]}function q(c,d,e){var f=p(e);if(!angular.isDefined(f)||!1===f)return b.when("Already saved");var g=h(e.notes).map(function(a){return h.omit(a,"$$hashKey","secureUrl","status")}).value(),i=(h(e.tags).filter(function(a){return a.title&&a.title.length>0}).map(function(a){return h.omit(a,"$$hashKey")}).value(),a(y.child("courses").child("draft").child(c.uniqueid).child("sections").child(d.sectionIdentifier).child("components").child(e.componentIdentifier)));return i.$loaded().then(function(a){return angular.isUndefined(e.title)||(a.title=e.title),angular.isUndefined(e.description)||(a.description=e.description),angular.isUndefined(e.content.videoposter)||(a.content.videoposter=e.content.videoposter),angular.isUndefined(e.tags)?a.tags=null:a.tags=e.tags,angular.isUndefined(g)||(a.notes=g),a.isDirty=!0,i.$save().then(function(a){return o(e,!1),"Saved draft"},function(a){return console.log("Could not save draft",a),a})})}function r(c,d,e,f){var h=angular.isDefined(f)&&!0===f;if(p(e)&&!h)return b.reject("The component needs to be saved first. You should not be in this state");var i=a(y.child("courses").child("draft").child(c.uniqueid).child("sections").child(d.sectionIdentifier).child("components").child(e.componentIdentifier)),j=a(y.child("courses").child("data").child(c.uniqueid).child("sections").child(d.sectionIdentifier).child("components").child(e.componentIdentifier));return b.all([i.$loaded(),j.$loaded()]).then(function(a){var d=a[0],f=a[1];return h?s(f,d):s(d,f),o(e,!1),b.all([i.$save(),j.$save()]).then(function(){return console.log("Successfully updated production"),g.run("componentPublish",{courseId:c.uniqueid})}).then(function(){return"Successfully updated production"}).catch(function(a){return console.log("Publish Error",a),a})},function(a){return a})}function s(a,b){b.content.type=a.content.type,"video"===b.content.type&&(b.content.videosources=a.content.videosources,angular.isUndefined(a.content.videoposter)||(b.content.videoposter=a.content.videoposter)),b.url=a.url,angular.isUndefined(a.title)||(b.title=a.title),angular.isUndefined(a.description)||(b.description=a.description),angular.isUndefined(a.relevantQuestionTags)||(b.relevantQuestionTags=a.relevantQuestionTags),angular.isUndefined(a.tags)||(b.tags=a.tags),angular.isUndefined(a.notes)||(b.notes=a.notes),b.isDirty=!1,a.isDirty=!1}function t(a){function b(a){return h.assign(h.omit(a,["componentIdentifier"]),{id:a.componentIdentifier})}function c(a){return h.assign(h.omit(a,["sectionIdentifier"]),{id:a.sectionIdentifier},{components:h.map(a.components,b)})}return h.assign({},a,{sections:h.map(a.sections,c)})}function u(a){var b=["query getDraftCourses($courseIds: [String!]!) {","getDraftCourses(courseIds: $courseIds) {","isDirty","promoVideoUrl {","processing","}","sections {","sectionIdentifier","title","url","description","components {","componentIdentifier","title","url","description","enhancedSyllabus","isDirty","content {","type","... on VideoContent {","duration","processing","videoposter","posters {","url","}","videosources {","type","bucket","key","description","filesize","duration","}","}","... on QuizContent {","duration","quizName","isPracticeExam","questionCount","}","... on LabContent {","quickLabsId","labImage","description","}","... on WhitepaperContent {","url","}","... on TextContent {","textsources {","bucket","key","}","}","}","}","}","}","}"].join("\n"),c={courseIds:[a]};return i.sendQuery(b,c,!1).then(function(a){return a&&a.data&&t(a.data.getDraftCourses[0])})}function v(a){var b=["mutation updateCourseOutlineLive($courseId: String!) {","updateCourseOutlineLive(courseId: $courseId) {","isDirty","promoVideoUrl {","processing","}","sections {","sectionIdentifier","title","url","description","components {","componentIdentifier","title","url","description","enhancedSyllabus","isDirty","content {","type","... on VideoContent {","duration","processing","videoposter","posters {","url","}","videosources {","type","bucket","key","description","filesize","duration","}","}","... on QuizContent {","duration","quizName","isPracticeExam","questionCount","}","... on LabContent {","quickLabsId","labImage","description","}","... on WhitepaperContent {","url","}","... on TextContent {","textsources {","bucket","key","}","}","}","}","}","}","}"].join("\n"),c={courseId:a};return i.sendQuery(b,c,!1).then(function(a){return a&&a.data&&t(a.data.updateCourseOutlineLive)})}function w(a,b){var c=h.map(b,function(a){var b=h.map(a.components,function(a){return _.assign(h.pick(a,["id","url","title","description","content"]),{content:h.pick(a.content,["type"])})});return h.assign(h.pick(a,["id","url","title","description"]),{components:b})}),d=["mutation updateCourseOutlineDraft($courseId: String!, $courseSectionUpdateModel: [CourseSectionUpdateModelInput!]!) {","updateCourseOutlineDraft(courseId: $courseId, courseSectionUpdateModel: $courseSectionUpdateModel) {","isDirty","promoVideoUrl {","processing","}","sections {","sectionIdentifier","title","url","description","components {","componentIdentifier","title","url","description","enhancedSyllabus","isDirty","content {","type","... on VideoContent {","duration","processing","videoposter","posters {","url","}","videosources {","type","bucket","key","description","filesize","duration","}","}","... on QuizContent {","duration","quizName","isPracticeExam","questionCount","}","... on LabContent {","quickLabsId","labImage","description","}","... on WhitepaperContent {","url","}","... on TextContent {","textsources {","bucket","key","}","}","}","}","}","}","}"].join("\n"),e={courseId:a,courseSectionUpdateModel:c};return i.sendQuery(d,e,!1).then(function(a){return a&&a.data&&t(a.data.updateCourseOutlineDraft)})}var x,y=new Firebase(d.firebase_url),z=[];return{registerComponentChangedCallback:j,saveComponents:m,saveSections:n,setIsUnsaved:o,getIsUnsaved:p,saveDraftComponent:q,updateVersion:r,saveBrochure:k,publishBrochure:l,updateCourseOutlineDraft:w,updateCourseOutlineLive:v,getDraftCourseStructure:u}}a.$inject=["$firebaseObject","$q","$rootScope","appConfig","courseService","firebaseAuthService","lambdaService","lodash","graphqlService"],angular.module("app.core").factory("coursePublishService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(a,b,c,d){r[a]||(r[a]=[]),r[a][b]||(r[a][b]=[]),i.includes(r[a][b],c)||r[a][b].push({callback:c,file:d})}function l(a,b,c){for(var d=0;d<r[a][b].length;d++){r[a][b][d].callback(i.merge(c,{sectionIdentifier:a,componentIdentifier:b}))}c.isCompleted&&(r[a][b]=[])}function m(a,b,c){for(var d="promo"===b?"promo":b.sectionIdentifier,e="promo"===c?"promo":c.componentIdentifier,f=r[d][e],g=0;g<f.length;g++)f[g].file&&f[g].file.abort();l(d,e,{isCompleted:!0,status:"error",error:"Aborted Upload"})}function n(a,b,d,e,f,g){if(null===f)return void e({isCompleted:!0,status:"error",error:"Could not find file"});if(!d)return void e({isCompleted:!0,status:"error",error:"Could not find component for the video upload"});angular.isUndefined(g),c.$emit("stop-video-playback");var h="promo"===b?"promo":b.sectionIdentifier,i="promo"===d?"promo":d.componentIdentifier;p(a.uniqueid,b,d,f.name,g).then(function(a){var b=j.upload({url:a.data.requestFileUpload.uploadUri,method:"POST",data:{key:a.data.requestFileUpload.fileName,AWSAccessKeyId:a.data.requestFileUpload.AWSAccessKey,acl:"private",policy:a.data.requestFileUpload.policy,signature:a.data.requestFileUpload.signature,"Content-Type":""!=f.type?f.type:"application/octet-stream",file:f}});k(h,i,e,b),o(b,h,i,a)},function(a){l(h,i,{isCompleted:!0,status:"error",progress:a})})}function o(a,b,c,d){a.then(function(a){l(b,c,{isCompleted:!0,status:"finished",key:d.data.requestFileUpload.fileName,bucket:d.data.requestFileUpload.bucket})},function(a){l(b,c,{isCompleted:!0,status:"error",error:a})},function(a){var d=parseInt(100*a.loaded/a.total);l(b,c,{isCompleted:!1,status:"uploading",progress:d})})}function p(a,b,c,d,e){angular.isDefined(e)&&null!==e||(e="video");var f="promo";"promo"!==b&&"promo"!==c&&(f=b.sectionIdentifier+"_"+c.componentIdentifier);var g={courseId:a,fileName:d,componentIdentifier:f,type:e};return h.sendQuery("query requestFileUpload($courseId: String!, $fileName: String!, $type: String!, $componentIdentifier: String!) {requestFileUpload(courseId: $courseId, fileName: $fileName, type: $type, componentIdentifier: $componentIdentifier) { signature, policy, AWSAccessKey, fileName, uploadUri, bucket } }",g)}var q=(new Firebase(d.firebase_url),{uploadFile:n,registerUploadCompleteCallback:k,cancelUpload:m}),r=[];return q}a.$inject=["$firebaseObject","$q","$rootScope","appConfig","courseService","coursePublishService","lambdaService","graphqlService","lodash","Upload"],angular.module("app.core").factory("fileUploadService",a)}(),function(){"use strict";function a(){return{scope:{component:"=",placeholder:"@?"},restrict:"AE",controllerAs:"vm",templateUrl:"app/course/creator/gu-plaintext-editor.html",bindToController:!0,controller:b}}function b(a,b){function c(){g.title=g.component.title||""}function d(){g.title!==g.component.title&&(g.component.title=g.title,b.setIsUnsaved(g.component))}function e(a,b){f(a)||a&&c()}function f(a){return null!==h&&angular.isDefined(a)&&null!==a&&!0===b.getIsUnsaved(g.component)&&a.componentIdentifier===h?(g.component.title=g.title,!0):(angular.isDefined(a)&&null!==a&&(h=a.componentIdentifier),!1)}var g=this,h=null;a.$watch("vm.component",e),a.$watch("vm.title",d),function(){c()}()}b.$inject=["$scope","coursePublishService"],angular.module("app.course").directive("guPlaintextEditor",a)}(),function(){"use strict";function a(){return{scope:{
course:"=",component:"=",section:"="},restrict:"AE",controllerAs:"vm",transclude:!0,templateUrl:"app/course/creator/lecture-description-editor.html",bindToController:!0,controller:b}}function b(a,b){function c(a,b){e(a)||(angular.isUndefined(f.component.description)&&(f.component.description=""),f.description.input=f.description.output=f.component.description||"")}function d(){angular.isUndefined(f.component.description)&&(f.component.description=""),null===f.description.output&&(f.description.output=""),f.description.output!==f.component.description&&(f.component.description=f.description.output,b.setIsUnsaved(f.component))}function e(a){return null!==g&&angular.isDefined(a)&&null!==a&&!0===b.getIsUnsaved(f.component)&&a.componentIdentifier===g?(f.component.description=f.description.output,!0):(angular.isDefined(a)&&null!==a&&(g=a.componentIdentifier),!1)}var f=this,g=null;f.description={input:"",output:""},f.editorControl={},a.$watch("vm.component",c),a.$watch("vm.description",d,!0)}b.$inject=["$scope","coursePublishService"],angular.module("app.course").directive("lectureDescriptionEditor",a)}(),function(){"use strict";function a(){return{scope:{course:"=",component:"=",section:"="},restrict:"AE",controllerAs:"vm",transclude:!0,templateUrl:"app/course/creator/lecture-resource-editor.html",bindToController:!0,controller:["$scope","resourceService","coursePublishService","fileUploadService","lodash",function(a,b,c,d,e){function f(a,b){m(a)||a&&g(!0)}function g(a){b.initializeResourcesForComponent(n.component,a).then(function(a){n.resources=angular.copy(a)},function(a){console.log(a)})}function h(a){switch(n.resources||(n.resources=[]),a){case"Link":n.resources.push({title:"",url:"",status:"ready"});break;case"File":n.resources.push({title:"",status:"ready"})}n.component.notes=n.resources,c.setIsUnsaved(n.component)}function i(a){n.resources.splice(a,1),n.component.notes=n.resources,c.setIsUnsaved(n.component)}function j(){n.component.notes=n.resources,c.setIsUnsaved(n.component)}function k(a){n.resources.splice(a,1),n.component.notes=n.resources,c.setIsUnsaved(n.component)}function l(a,e){var f=function(d){d.sectionIdentifier===n.section.sectionIdentifier&&d.componentIdentifier===n.component.componentIdentifier&&(d.isCompleted?(a.status="ready",d.bucket&&d.key&&(b.setSignedUrl(a,d.bucket,d.key),c.setIsUnsaved(n.component)),d.error&&console.log(d.error)):(a.status="uploading",n.progress=d.progress))};a.status="uploading",d.uploadFile(n.course,n.section,n.component,f,e,"resource"),n.progress=0}function m(a){return null!==o&&angular.isDefined(a)&&null!==a&&!0===c.getIsUnsaved(n.component)&&a.componentIdentifier===o?(angular.isDefined(n.resources)&&(n.component.notes=angular.copy(n.resources)),!0):(angular.isDefined(a)&&null!==a&&(o=a.componentIdentifier),!1)}var n=this,o=null;n.resources=[],n.selected=null,n.add=h,n.remove=i,n.upload=l,n.change=j,n.move=k,a.$watch("vm.component",f)}]}}angular.module("app.course").directive("lectureResourceEditor",a)}(),function(){"use strict";function a(){return{scope:{course:"=",component:"=",section:"="},restrict:"AE",controllerAs:"vm",transclude:!0,templateUrl:"app/course/creator/lecture-select-poster.html",bindToController:!0,controller:b}}function b(a,b,c){function d(a,b){j.component.content&&!0===j.component.content.processing?j.isProcessing=!0:j.isProcessing=!1}function e(a,b){h(a)||a&&f()}function f(){g(),j.component.content&&j.component.content.posters?j.posters=c(j.component.content.posters).map(function(a){return a.title=c.last(a.url.split("-")),a}).sortBy("title").value():j.posters=[]}function g(){j.component.content&&j.component.content.videoposter?j.current=j.component.content.videoposter:j.current=null}function h(a){return!(null===k||!angular.isDefined(a)||null===a||!0!==b.getIsUnsaved(j.component)||a.componentIdentifier!==k)||(angular.isDefined(a)&&null!==a&&(k=a.componentIdentifier),!1)}function i(a){j.component.content.videoposter=a.url,b.setIsUnsaved(j.component),g()}var j=this,k=null;j.set=i,j.posters=[],j.isProcessing=!1,a.$watch("vm.component",e),a.$watch("vm.component.content.processing",d,!0)}b.$inject=["$scope","coursePublishService","lodash"],angular.module("app.course").directive("lectureSelectPoster",a)}(),function(){"use strict";function a(){return{scope:{course:"=",component:"=",section:"="},restrict:"AE",controllerAs:"vm",transclude:!0,templateUrl:"app/course/creator/lecture-tag-editor.html",bindToController:!0,controller:["$scope","$rootScope","$q","coursePublishService","tagService","lodash",function(a,b,c,d,e,f){function g(){l.selectTags=[],l.component.tags&&f.keys(l.component.tags).forEach(function(a){return n.then(function(){f.find(l.tagsReference,function(b){b.objectID===a&&l.selectTags.push(b)})})})}function h(a,b){k(a)||g()}function i(a){l.component.tags||(l.component.tags={}),l.component.tags[a.objectID]=!0,d.setIsUnsaved(l.component)}function j(a){delete l.component.tags[a.objectID],0===f.keys(l.component.tags).length&&delete l.component.tags,d.setIsUnsaved(l.component)}function k(a){return null!==m&&angular.isDefined(a)&&null!==a&&!0===d.getIsUnsaved(l.component)&&a.componentIdentifier===m?(angular.isDefined(l.tags)&&(l.component.tags=angular.copy(l.tags)),!0):(angular.isDefined(a)&&null!==a&&(m=a.componentIdentifier),!1)}var l=this,m=null,n=null;l.selectTags=[],l.selected=null,l.placeholder="Your Tag",l.add=i,l.remove=j,l.existingTagsLoaded=!1,a.$watch("vm.component",h),function(){n=e.getActiveTagSelectArray().then(function(a){l.tagsReference=a})}()}]}}angular.module("app.course").directive("lectureTagEditor",a)}(),function(){"use strict";function a(){return{scope:{course:"=",section:"=",component:"="},transclude:!0,controllerAs:"vm",templateUrl:"app/course/creator/media-upload.html",bindToController:!0,controller:b}}function b(a,b,c,d,e){function f(a,b){h()}function g(a,b){h()}function h(){l.component&&l.component.content&&!0===l.component.content.processing?l.status="processing":l.status="publish"}function i(){e.cancelUpload(l.course,l.section,l.component)}function j(a){a.sectionIdentifier===l.section.sectionIdentifier&&a.componentIdentifier===l.component.componentIdentifier&&(a.isCompleted?(l.status="publish",a.error&&console.log(a.error)):(l.status="uploading",l.progress=a.progress))}function k(a){e.uploadFile(l.course,l.section,l.component,j,a),l.progress=0}var l=this;l.status="waiting",l.upload=k,l.cancelUpload=i,a.$watch("vm.component.componentIdentifier",g),a.$watch("vm.component.content.processing",f,!0)}b.$inject=["$scope","$rootScope","$q","lambdaService","fileUploadService"],angular.module("app.course").directive("mediaUpload",a)}(),function(){"use strict";function a(){return{scope:{course:"=",section:"=",component:"="},transclude:!0,controllerAs:"vm",templateUrl:"app/course/creator/publish-component.html",bindToController:!0,controller:b}}function b(a,b,c,d,e,f,g,h,i){function j(a,b){m(),!1===a&&!0===b&&l()}function k(a,b){a&&(h.registerUploadCompleteCallback(s.section.sectionIdentifier,s.component.componentIdentifier,n),e.registerComponentChangedCallback(o)),m(),a!==b&&l()}function l(){if(s.component&&s.component.content&&("Save"===s.status||"Publish"===s.status)){angular.isDefined(s.component.content.trustedvideosources)||(s.component.content.trustedvideosources=[]);0===s.component.content.trustedvideosources.length&&r(s.component)}}function m(a){if(s.component&&s.component.content&&!0===s.component.content.processing)s.status="Processing";else{if(e.getIsUnsaved(s.component))return void(s.status="Save");if(angular.isDefined(s.component.isDirty)&&s.component.isDirty)return void(s.status="Publish");s.status="Published"}}function n(a){a.sectionIdentifier===s.section.sectionIdentifier&&a.componentIdentifier===s.component.componentIdentifier&&(a.isCompleted?m():s.status="Processing")}function o(a,b){if(a===s.component.componentIdentifier){if("Processing"===s.status)return;s.status=b?"Save":"Publish"}}function p(){if(e.getIsUnsaved(s.component))e.saveDraftComponent(s.course,s.section,s.component).then(function(a){console.log(a)},function(a){console.log(a)});else{i.open({template:"app/course/creator/confirm-publish-component.html",className:"ngdialog-theme-default",closeByEscape:!0}).closePromise.then(function(a){angular.isDefined(a)&&!0===a.value&&e.updateVersion(s.course,s.section,s.component).then(function(){s.status="Published"},function(a){console.log(a)})})}}function q(){e.updateVersion(s.course,s.section,s.component,!0).then(function(){r(s.component)},function(a){console.log(a)})}function r(a){for(var b=g.filter(g.values(a.content.videosources),{type:"video/mp4"}),c=[],e=[],h=0;h<b.length;h++)c.push(b[h].bucket),e.push(b[h].key);s.status="Processing",f.getSignedUrls(c,e).then(function(b){for(var f=[],g=0;g<e.length;g++){var h=e[g],i=b[g],i=(c[g],d.trustAsResourceUrl(i)),j={src:i,type:"video/mp4"};h.indexOf("720p")>-1?f.splice(0,0,j):f.push(j)}a.content.trustedvideosources=f,m()})}var s=this;a.$watch("vm.component.componentIdentifier",k),a.$watch("vm.component.content.processing",j,!0),s.savePublish=p,s.revert=q}b.$inject=["$scope","$rootScope","$q","$sce","coursePublishService","awsAccessService","lodash","fileUploadService","ngDialog"],angular.module("app.course").directive("publishComponent",a)}(),function(){"use strict";function a(){return{scope:{course:"=",component:"=",section:"="},restrict:"AE",controllerAs:"vm",transclude:!0,templateUrl:"app/course/creator/remove-lecture.html",bindToController:!0,controller:b}}function b(a,b,c){function d(){event.stopPropagation(),a.open({template:"app/course/creator/remove-popup.html",className:"ngdialog-theme-default",closeByEscape:!0,data:{type:"lecture"}}).closePromise.then(function(a){angular.isDefined(a)&&!0===a.value&&e()})}function e(){var a=angular.copy(f.section.components);delete a[f.component.componentIdentifier],a=c.reSequence(a,"remove"),b.saveComponents(f.course,f.section,a)}var f=this;f.remove=d}b.$inject=["ngDialog","coursePublishService","utilsService"],angular.module("app.course").directive("removeLecture",a)}(),function(){"use strict";function a(){return{scope:{course:"=",section:"="},restrict:"AE",controllerAs:"vm",templateUrl:"app/course/creator/remove-section.html",bindToController:!0,controller:b}}function b(a,b,c){function d(){a.open({template:"app/course/creator/remove-popup.html",className:"ngdialog-theme-default",closeByEscape:!0,data:{type:"section"}}).closePromise.then(function(a){angular.isDefined(a)&&!0===a.value&&e()})}function e(){var a=angular.copy(f.course.sections);delete a[f.section.sectionIdentifier],a=c.reSequence(a,"remove"),b.saveSections(f.course,a)}var f=this;f.remove=d}b.$inject=["ngDialog","coursePublishService","utilsService"],angular.module("app.course").directive("removeSection",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){function y(){n.cancelOnReady(z)}function z(){C().then(function(a){K.hasEnhancedSyllabus=a}),E(L)}function A(a){l.getComponentUrl(K.courseMetadata.url,a).then(function(a){d.path(a)})}function B(a){var b=r.getQuizzesForCourse(a);return K.quizzes=f.filter(b,function(a){return!a.content.duration}),K.practiceExams=f.filter(b,function(a){return a.content&&a.content.duration>0}),K.practiceExamQuiz=f.find(b,function(a){return a.content&&a.content.isPracticeExam}),a}function C(){return h.hasLoaded.promise.then(q.getUserOrganisationMemberships).then(function(a){return f.some(a,"enhancedSyllabus")})}function D(a){F(a).then(function(a){var b=f.get(a,"components",[]);K.nextUpComponents=f.map(b,function(a){var b=f.get(a,"content",{});return{componentIdentifier:a.componentId,sectionIdentifier:a.sectionId,section:a.sectionSequence,sequence:a.componentSequence,title:a.title,url:a.url,duration:b.duration,content:{type:b.type,videoposter:b.videoposter}}})})}function E(b,c){var d=p.forCourse(b).then(function(a){K.courseActivity=a}),e=p.getLessonCompletetion(b,c).then(function(a){K.lessonCompletionCount=a.completedCount,K.lessonCompletionTotal=a.totalCount,K.lessonCompletionPercentage=a.percentage}),f=p.getQuizCompletetion(b,c).then(function(a){K.quizCompletionCount=a.completedCount,K.quizCompletionTotal=a.totalCount,K.quizCompletionPercentage=a.percentage}),g=p.getTotalCourseCompletion(b,c).then(function(a){K.totalCourseCompletion=a.percentage});a.all([d,e,f,g]).finally(function(){K.courseActivityLoaded=!0})}function F(a){var b={courseId:a,take:3};return o.sendQuery("query getNextCourseComponents($courseId: String!, $take: Int) {                    getNextCourseComponents(courseId: $courseId, take: $take) {                        action, courseId, courseUrl, courseTitle,                         components {                            title, url, componentId, sectionId, sectionSequence, componentSequence,                             content {                                 type                                 ... on UserVideoContent { duration, videoposter }                                 ... on UserQuizContent { duration }                             }                        }                    }                }",b).then(function(a){return f.get(a,"data.getNextCourseComponents")})}function G(a){u.isSupportedCourse(a).then(function(a){K.examSimulatorEnabled=a})}function H(){v.isMember().then(function(a){K.isMember=a})}function I(){g.open({template:"app/course/dashboard-reset-dialog.html",className:"ngdialog-theme-default",closeByEscape:!0,data:{}}).closePromise.then(function(a){if(angular.isDefined(a)&&!0===a.value)return t.run("clearUserActivity",{courseId:L}).then(function(){return E(L)})})}function J(){w.storeExamSimulatorVisit()}var K=this,L=k.uniqueid;K.courseMetadata=k,K.current=i,K.terms=s,K.practiceExams=null,K.quizzes=null,K.practiceExamQuiz=null,K.examSimulatorEnabled=null,K.fbCourse=null,K.nextUpComponents=null,K.hasEnhancedSyllabus=!1,K.isMember=null,K.courseActivityLoaded=!1,K.goToComponent=A,K.resetProgress=I,K.recordExamSimulatorInterest=J,K.showWhyJoinModal=x.showWhyJoinModal,b.$on("$destroy",y),function(){m.track("Opened Course Dashboard",{courseId:L});var a=j.getCourseById(L);a.then(B),a.then(function(a){K.fbCourse=a}),G(L),D(L),H(),n.onReady(z)}()}a.$inject=["$q","$scope","$state","$location","$uibModal","lodash","ngDialog","profileService","currentCourseService","courseService","courseMetadata","courseComponentService","analyticsService","guruAuthService","graphqlService","courseActivityService","organisationService","quizService","courseTermsService","lambdaService","examSimulatorService","roleService","recommendationStorageService","whyJoinService"],angular.module("app.course").controller("CourseDashboardController",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(a){g(j.courseId)}function g(a){if(j.courseId=a,!a)return void(j.course=null);b.getCourseById(j.courseId).then(function(a){j.course=a,j.artwork=c.getSquareUrl(j.course.artworkKey),h(),i()})}function h(){d.getCourseAccessById(j.course.objectID).then(function(a){j.userHasAccess=a,j.accessLoaded=!0}).catch(function(){j.userHasAccess=!1,j.accessLoaded=!0})}function i(){e.getRoomByCourseId(j.course.objectID).then(function(a){j.roomUrl=a&&a.url||null})}var j=this;j.course=j.course||null,j.onCourseDashboard=a.is("app.course.dashboard"),j.accessLoaded=!1,j.$onChanges=f}a.$inject=["$state","courseMetadataService","artworkService","currentCourseService","roomService"],angular.module("app.course").component("courseHeroComponent",{templateUrl:"app/course/hero/course-hero.component.html",controller:a,controllerAs:"vm",bindings:{courseId:"<",fullWidth:"<"}})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){a.courseId&&(q.courseId=a.courseId.currentValue,l())}function k(){b.onAuthStateChange(l)}function l(){if(q.courseLoaded=!1,!q.courseId)return q.course=null,void(q.isUserAuthorOfCourse=!1);i.getRoomByCourseId(q.courseId).then(function(a){q.room=a,o(q.course)}),e.getCourseById(q.courseId).then(function(a){return q.courseLoaded=!0,q.isUserAuthorOfCourse=g.isUserAuthorOfCourse(a),q.course=a,a}).then(n)}function m(){b.cancelOnAuthStateChange(l)}function n(b){if(!b)return q.userHasAccess=!1,void o();a.getCourseAccessById(q.courseId).then(function(a){q.userHasAccess=a,o(b)}).catch(function(){q.userHasAccess=!1,o(b)})}function o(a){if(q.room&&a){var b={id:"course-overview",heading:"Overview",route:"course({courseUrl: '"+a.url+"'})",active:!1},c={id:"discuss",heading:"Discussions",route:"forum.room({roomUrl: '"+q.room.url+"'})",active:!1};if(q.userHasAccess){var d={id:"course",heading:h.get(a.type).course,route:"app.course.dashboard({courseUrl: '"+a.url+"'})",active:!1},e=[];q.isUserAuthorOfCourse&&e.push(b),e.push(d),e.push(c),q.tabs=e}else q.tabs=[b,c];p()}}function p(){c.current&&c.current.data&&c.current.data.tab&&d.forEach(q.tabs,function(a){a.active=a.id===c.current.data.tab})}var q=this;q.tabs=[],q.isUserAuthorOfCourse=!1,q.userHasAccess=!1,q.$onInit=k,q.$onDestroy=m,q.$onChanges=j}a.$inject=["currentCourseService","guruAuthService","$state","lodash","courseMetadataService","authService","courseService","courseTermsService","roomService"],angular.module("app.course").component("courseNavigationComponent",{templateUrl:"app/course/hero/course-navigation.component.html",controller:a,controllerAs:"vm",bindings:{courseId:"<"}})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D){function E(){V.isLoggedIn=!0,Y=G().then(function(a){return a.isOrganisationOnly&&u.getUserHasOrganisationMembership().then(function(a){a||i.go("_404"),V.isOrganisationOnly=!0}),H(),a})}function F(){V.isLoggedIn=!1,Y=G().then(function(a){return H(),a})}function G(){var a={url:W};return V.isLoggedIn||e.assign(a,{isOrganisationOnly:"-true"}),x.getProducts({isActive:!0,filters:a}).then(function(a){var b=e.head(a.hits);return b||(i.go("_404"),c.reject("Not found"))})}function H(){V.current=k;var a=r.getCourseByUrl(W).then(function(a){return a||c.reject("Not found")}),b=a.then(function(a){return t.getRoomByCourseId(a.objectID)}).then(function(a){if(a&&a.url)return s.fetchThreads({room:a.url,rank:"recent",type:"question"})}).then(function(a){a&&(V.recentThreads=a.hits,V.discussionCount=a.nbHits)}),d=Y.then(function(a){return _(a.authors).keyBy().mapValues(y.getProfileObjectFor).value()}).then(c.all).then(function(a){var b=e.pick(e.keyBy(z.getProfiles(),"userId"),e.keys(a)),c=e.merge({},a,e.mapValues(b,function(a){return e.pick(a,["bio"])}));V.authorProfiles=c});a.then(function(a){V.courseInfo=a,V.previewVideoSources=[{src:n.trustAsResourceUrl(a.previewVideoUrl),type:"video/mp4"}],C.storeCourseVisit(V.courseInfo.objectID)}),Y.then(function(a){V.videoPosterImage=v.getOptimisedUrl(w.getVideoPosterUrl(a.artworkKey),{imageWidth:600,imageHeight:338}),V.bannerImage=w.getBannerUrl(a.artworkKey),V.courseProductInfo=a}),c.all([Y,a,b,d]).finally(function(){I(),T(V.courseInfo,V.courseProductInfo),V.isCourseLoaded=!0})}function I(){j.onReady(K),K(),j.onReady(N),N(),j.onReady(L),L(),j.onReady(M),M(),j.onReady(R),R()}function J(){j.cancelOnReady(K),j.cancelOnReady(L),j.cancelOnReady(M),j.cancelOnReady(N),j.cancelOnReady(R),j.cancelOnReady(E),j.cancelOnNotReady(F)}function K(){c.all([k.getCourseAccess(),k.getCourse()]).then(e.spread(function(a){V.hasAccess=a}))}function L(){x.getProductByUrl(W).then(function(a){if(a)return g.getUserProductPriceWithCartPromoCodes(a.objectID,{userPromoCodeIds:X?[X]:[]})}).then(function(a){a?(f.trackViewedProduct(a),V.userProductPrice=a):V.userProductPrice={courseIds:V.courseProductInfo?Object.values(V.courseProductInfo.courses):[]}})}function M(){return A.getLocationInfo().then(function(a){return B.getPricingObject(a.currencyCode).then(function(a){V.membershipPricing=a})})}function N(){h.hasLoaded.promise.then(u.getUserOrganisationMemberships).then(function(a){var b=e.head(a);b&&b.enhancedSyllabus&&(V.hasEnhancedSyllabus=!0)})}function O(){b.scrollTo(0,0)}function P(){var a={};return V.bannerImage&&(a={backgroundImage:"url("+V.bannerImage+")",backgroundColor:V.bannerColor}),a}function Q(a){q.getComponentUrl(V.current.course.url,a).then(function(a){d.path(a)})}function R(){D.isMember().then(function(a){V.isMember=a})}function S(){V.videoIsLoaded=!0}function T(a,b){if(a){if(a.title&&(m.setTitle(b.title),m.setTag("og:title","Online Course: "+b.title)),a.shortSummary&&(m.setTag("description",b.shortSummary),m.setTag("og:description",b.shortSummary)),a.previewVideoUrl&&m.setTag("og:video",a.previewVideoUrl),a.ogImage){var c=v.getOptimisedUrl(w.getSquareUrl(b.artworkKey),{imageWidth:400,imageHeight:400});m.setTag("og:image",c)}a.tags&&m.setTag("keywords",a.tags.join(" "))}}function U(a){var b=a&&a.content&&a.content.videosources&&e.values(a.content.videosources)[0];return b&&b.duration||0}var V=this,W=l.courseUrl,X=l.promoCode;V.isAwsNonProfit="aws-non-profit"===l.campaign,V.current=null,V.type="course",V.terms=p,V.courseInfo=null,V.courseProductInfo=null,V.userProductPrice=null,V.recentThreads=null,V.discussionCount=null,V.videoPosterImage=null,V.hasEnhancedSyllabus=null,V.previewVideoSources=null,V.videoIsLoaded=!1,V.authorProfiles=null,V.isCourseLoaded=!1,V.hasAccess=!1,V.isLoggedIn=!1,V.getJumbotronStyles=P,V.goToComponent=Q,V.scrollToTop=O,V.componentDuration=U,V.videoIsLoaded=!1,V.onPreviewPlayerReady=S,a.$on("$destroy",J);var Y=c.when();j.onReady(E),j.onNotReady(F),j.isNotReady()&&F()}a.$inject=["$scope","$window","$q","$location","lodash","analyticsService","productService","profileService","$state","guruAuthService","currentCourseService","$stateParams","ngMeta","$sce","courseService","courseTermsService","courseComponentService","courseMetadataService","forumService","roomService","organisationService","optimiseImageService","artworkService","productMetaDataService","publicProfileService","guruProfileService","locationDetectionService","membershipPricingService","recommendationStorageService","roleService"],angular.module("app.course").controller("CourseOverviewController",a)}(),angular.module("app.course").run(["$templateCache",function(a){"use strict";a.put("app/course/components/course-sidebar-block.component.html",'<a ui-sref="course({courseUrl: vm.course.url })" class="list-item list-item__empaneled list-item__has-media"><img ng-optimise-image="vm.artwork" ng-optimise-image-square="100" alt="{{vm.course.title}} course artwork" class="course-artwork"><div class="list-item--indent"><h4 class="list-item--heading text-trim">{{vm.course.title}}</h4><div class="list-item--by-line text-trim"><p>{{vm.course.description | strip }}</p></div></div></a>'),a.put("app/course/components/gu-course-component.html",'<div ng-click="vm.selectComponent()" ng-class="{\'b-success\': (vm.isCompleted && !vm.isActiveComponent), \'curriculum--item-row__active\' : vm.isActiveComponent, \'curriculum--item-row__expanded\': vm.isExpanded, \'lab-component\': vm.component.content.type === \'lab\'}"><span class="component-row--icon" guru-scroll scroll-container="\'.course-viewer--sidebar-scroll-inner\'" scroll-target="vm.isActiveComponent ? (\'#\' + vm.component.componentIdentifier.replace(\':\', \'c\')) : \'\'" scroll-offset="30" scroll-delay="450" scroll-duration="0">\x3c!-- TODO lab and whitepaper icons --\x3e<span ng-if="vm.isCompleted"><un-svg svg-src="images/svg-icons/check.svg" class="component-row--completed-icon"></un-svg></span> <span ng-if="!vm.isCompleted"><un-svg svg-src="images/svg-icons/play-circle.svg"></un-svg></span></span> <span ng-if="vm.course.enableThumbnails" class="curriculum-preview-image" ng-optimise-image="vm.component.content.videoposter" ng-optimise-image-width="60" ng-optimise-as-style-background="true"></span> <span class="duration" ng-if="vm.component.content.type === \'video\' && vm.componentDuration()">{{ vm.componentDuration() | secondsToTime }}</span> <span class="resources-toggle" ng-click="vm.toggleResources($event)" ng-if="vm.resources.length"><un-svg svg-src="images/svg-icons/paperclip.svg"></un-svg></span><gu-progress-bar value="vm.bestQuizScore" class="curriculum-quiz active" title="Your best score was {{vm.bestQuizScore}}% from {{vm.quizAttempts}} attempts." ng-if="vm.component.content.type === \'quiz\' && vm.quizAttempts && vm.quizAttempts >= 0"></gu-progress-bar><div class="curriculum--metadata"><span class="curriculum--metadata-title">{{::vm.component.title}}</span><ul class="resources" ng-if="vm.resources.length"><li ng-repeat="resource in vm.resources" ng-click="$event.stopPropagation();"><a ng-href="{{resource.url || resource.secureUrl.source}}" target="_blank"><un-svg svg-src="images/svg-icons/paperclip.svg"></un-svg>{{resource.title}}</a></li></ul></div></div>'),a.put("app/course/components/gu-course-preview.component.html",'<div class="clearfix"><ul class="courseHero--features"><li>\x3c!-- TODO: Components --\x3e{{vm.lectureCount}} {{vm.terms.get(vm.course.type).component + \'s\'}} over {{vm.duration}} hours</li><li ng-if="vm.quizzesAvailable">{{vm.quizCount}} Quizzes{{vm.hasPracticeExams ? \' & Practice Exam\' : \'\'}}</li><li ng-if="!vm.quizzesAvailable && vm.hasPracticeExams">Includes Practice Exam!</li></ul><meta ng-schema schema-product-sku="vm.product.sku"></div>'),a.put("app/course/components/gu-course-progress.component.html",'<div class="courseHero--summaryPanel"><div class="progress-arc--container pull-right"><span class="progress-arc--value">{{vm.completionPercentage + \'%\'}} <small>Complete</small></span><progress-arc size="80" stroke="#FFFFFF" complete="vm.completionPercentage / 100" background="rgba(255,255,255,0.1)" stroke-width="3"></progress-arc></div><div class="progress-bar--container"><div class="progress progress__lightOnDark" ng-if="vm.completionPercentage > 0"><div class="progress-bar" style="min-width: 2em" ng-style="{\'width\': vm.completionPercentage + \'%\' }">{{vm.completionPercentage + \'%\'}}</div></div></div></div>'),a.put("app/course/components/gu-rating-modal.html",'<div class="modal-body"><h1 class="modal-title">{{vm.modalTitle}}</h1><p>Help us in our goal of delivering the best cloud training content.</p><div class="GuRatingModal--Widget"><div class="modal-section"><span uib-rating ng-model="vm.rating" max="5" state-on="\'GuStar GuStar__on fa fa-star\'" state-off="\'GuStar GuStar__off fa fa-star\'" aria-labelledby="custom-icons-1"></span></div><div ng-if="vm.rating < 4 && vm.rating !== 0" class="modal-section"><label>Let us know why! <small>(optional)</small></label><input type="text" ng-model="vm.ratingReason" class="form-control"></div><div class="modal-section"><button ng-click="vm.sendRating()" ng-disabled="vm.rating === 0" class="btn btn--green">Submit</button></div></div><span class="link__grey" ng-click="vm.skipRating()">Skip this time</span></div>'),a.put("app/course/components/vg-buttons/skip-buttons.html",'<div class="btn-group btn__skip-group"><button type="button" class="btn btn--transparent" ng-click="skipTime(skipAmount * -1)"><i class="fa fa-chevron-left m-t-sm"></i><span>{{skipAmount}}</span></button> <button type="button" class="btn btn--transparent" ng-click="skipTime(skipAmount)"><span>{{skipAmount}}</span><i class="fa fa-chevron-right"></i></button></div>'),a.put("app/course/components/whitepaper.html",'<object class="pdf-object" type="application/pdf" data="{{vm.url}}"><div class="browser-support-pdf"><p>Your browser does not support viewing PDF files, click the button below to download the PDF instead.</p><p><a href="{{vm.url}}"><button class="btn btn-info btn-rounded">Download PDF</button></a></p><hr><h3>Firefox users</h3><p>You may need to enable in-browser PDF preview as shown in the screenshot below. After enabling in-browser previewing you can refresh this page to view the PDF.</p><p><img src="https://s3.amazonaws.com/acloud-content-public/assets/firefox-pdf-fix.png"></p></div></object>'),a.put("app/course/course.html",'<main><section id="course-hero" class="p-y-0" ng-show="!$state.current.data.showViewer"><gu-nav-shell></gu-nav-shell><div class="jumbotron course-masthead"><div class="container"><course-hero-component course-id="courseVm.courseMetadata.uniqueid" ng-show="!$state.current.data.showViewer"></course-hero-component></div>\x3c!--/.container--\x3e</div>\x3c!--/.jumbotron--\x3e</section><div ui-view class="ignoreStickyFooter"></div></main>\x3c!-- Start: Footer Section --\x3e<brand-partial src="footer" ng-show="!$state.current.data.showViewer"></brand-partial>\x3c!-- End: Footer Section --\x3e'),a.put("app/course/creator/add-lecture.html",'<a class="gu-button-add" ng-click="vm.add()"></a>'),a.put("app/course/creator/add-section.html",'<a class="gu-button-add" ng-click="vm.add()"></a>'),a.put("app/course/creator/confirm-publish-component.html",'<div class="ngdialog-message"><h2>Are you sure about this?</h2><ul class="mt"><li>This will publish your lecture!</li></ul></div><div class="ngdialog-buttons mt"><button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="closeThisDialog(true)">Yes, Do It Now!</button> <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(false)">Cancel</button></div>'),a.put("app/course/creator/gu-plaintext-editor.html",'<div class="course-viewer--text-editor" ng-class="{\'has-error\': !vm.title}"><input class="form-control form-control__borderless" type="text" id="title" placeholder="{{vm.placeholder}}" ng-model="vm.title"></div>'),a.put("app/course/creator/lecture-description-editor.html",'<div class="lecture-description-editor" ng-class="{\'lecture-description-editor-dirty\': vm.isDirty}"><gu-editor placeholder="\'Lecture Description\'" markdown-model="vm.description" edit-mode="true" control="vm.editorControl" informational-message="true"></gu-editor></div>'),a.put("app/course/creator/lecture-resource-editor.html",'<div class="course-viewer--resource-editor"><ul class="course-viewer--resource-editor-list" dnd-list="vm.resources"><li class="course-viewer--resource-editor-list-item" ng-repeat="item in vm.resources" dnd-draggable="item" dnd-moved="vm.move($index)" dnd-effect-allowed="move" dnd-selected="vm.selected = item" ng-class="{\'selected\': vm.selected === item}"><dnd-nodrag><div class="item"><div><input type="text" class="form-control placeholder" id="tag" placeholder="Title" ng-change="vm.change()" ng-model="item.title"><div ng-if="item.url != undefined"><input type="text" class="form-control placeholder" id="tag" placeholder="URL" ng-change="vm.change()" ng-model="item.url"></div></div><div class="text-center" ng-if="item.url == undefined"><span class="btn btn-sm btn-primary" ng-if="item.status === \'uploading\'"><i class="fa fa-spinner fa-spin"></i></span> <a class="btn btn-sm btn-primary" ng-if="item.status === \'ready\'" ngf-select="vm.upload(item, $file)">Upload</a> <a class="btn btn-sm btn-primary" ng-if="item.status === \'ready\' && item.secureUrl" ng-href="{{item.secureUrl}}" target="_blank">Download</a></div><div class="text-right"><a class="btn btn-sm btn-danger" ng-click="vm.remove($index)" ng-if="item.status === \'ready\'">Remove</a></div></div></dnd-nodrag></li></ul><div class="course-viewer--resource-editor-add"><gu-dropdown items="[\'Link\', \'File\']" callback="vm.add">Add Resource</gu-dropdown></div></div>'),a.put("app/course/creator/lecture-select-poster.html",'<h5>Thumbnail</h5><span ng-if="vm.isProcessing || (vm.posters.length === 0 && !vm.current)">No thumbnails available.</span><gu-dropdown ng-if="!vm.isProcessing && (vm.posters.length > 0 || vm.current)" show-image="true" label="vm.current" items="vm.posters" callback="vm.set"><i class="fa fa-plus"></i></gu-dropdown>'),
a.put("app/course/creator/lecture-tag-editor.html",'<div class="course-viewer--tags-editor"><h5>Lesson Tags</h5><div class="course-viewer--tags-editor-form"><ui-select ng-if="vm.tagsReference" ng-model="vm.selectTags" on-remove="vm.remove($item)" on-select="vm.add($item)" id="selectTopic" style="background: #fff" class="w-full" multiple theme="bootstrap"><ui-select-match placeholder="Start typing to see more topics">{{$item.tag}}</ui-select-match><ui-select-choices repeat="tag in vm.tagsReference | orderBy:tag.usageCount | filter:$select.search | limitTo:10">{{tag.tag}}</ui-select-choices></ui-select></div></div>'),a.put("app/course/creator/media-upload.html",'<div ng-switch="vm.status"><div ng-switch-when="publish"><a class="btn btn-block btn-primary" ng-click="vm.stopVideo()" ngf-select="vm.upload($file)">Upload Video</a></div><div ng-switch-when="uploading"><span class="btn btn-block btn-primary" disabled><i class="fa fa-spinner fa-spin"></i> Uploading... {{vm.progress}}%</span> <span class="btn btn-block btn-danger"><a ng-click="vm.cancelUpload()">Cancel Upload</a></span></div><div class="btn btn-block btn-primary btn-disabled" ng-switch-when="waiting"><i class="fa fa-spinner fa-spin"></i> Processing...</div><div class="btn btn-block btn-primary btn-disabled" ng-switch-when="processing"><i class="fa fa-spinner fa-spin"></i> Processing...</div><div class="btn btn-block btn-primary btn-disabled" ng-switch-when="cancelled">Upload Cancelled.</div><div class="btn btn-block btn-primary btn-disabled" ng-switch-when="finished">File Uploaded Successfully.</div></div>'),a.put("app/course/creator/publish-component.html",'<div class="course-viewer--editor-publish"><a class="btn btn-block btn-danger" ng-click="vm.revert()">Revert Changes</a> <a class="btn btn-block btn-primary" ng-click="vm.savePublish()" ng-class="{\'button-disabled\': (vm.status != \'Publish\' && vm.status != \'Saved\' && vm.status != \'Save\')}">{{vm.status}}</a></div>'),a.put("app/course/creator/remove-lecture.html",'<a class="gu-button-remove" ng-click="vm.remove()"></a>'),a.put("app/course/creator/remove-popup.html",'<div class="ngdialog-message"><h2>Are you sure about this?</h2><ul class="mt"><li>This will remove your <code>{{ngDialogData.type}}</code></li><li>If you proceed you will lose your work</li><li>It will be an unrecoverable action</li></ul></div><div class="ngdialog-buttons mt"><button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="closeThisDialog(true)">Yes, Delete!</button> <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(false)">Cancel</button></div>'),a.put("app/course/creator/remove-section.html",'<a class="gu-button-remove" ng-click="vm.remove()"></a>'),a.put("app/course/dashboard-reset-dialog.html",'<div class="ngdialog-message"><h3>Are you sure you want to reset your course progress?</h3><p class="p-y-md">This will clear all of your current course progress, including both lesson completion and quiz scores. Your progress will return to 0%.</p></div><div class="ngdialog-buttons mt"><button type="button" class="m-x-xs ngdialog-button ngdialog-button-primary" ng-click="closeThisDialog(true)">Yes, Clear My Progress!</button> <button type="button" class="m-x-xs ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(false)">Cancel</button></div>'),a.put("app/course/dashboard.html",'<section class="coming-up--section"><div class="container"><h2 class="coming-up--heading" ng-if="vm.nextUpComponents && vm.nextUpComponents.length > 0">Coming Up Next</h2><h2 class="coming-up--heading" ng-if="vm.nextUpComponents && vm.nextUpComponents.length === 0">You have finished this course!</h2><div class="row"><div class="col coming-up--repeater" ng-repeat="component in vm.nextUpComponents track by $index" ng-click="vm.goToComponent(component)" ng-class="{\n                             \'col-md-8 coming-up__featured\': ($index == 0),\n                             \'col-md-2 coming-up__notFeatured\': ($index != 0),\n                             \'coming-up__nonVideo\': (component.content.type != \'video\')\n                          }" ng-if="component"><div class="coming-up--imageWrapper"><img src="/images/ui-video-play.png" class="ui--playIcon" alt=""> <img class="backgroundFill" alt="" ng-optimise-image="component.content.videoposter" ng-optimise-image-width="400" ng-optimise-image-fallback="/images/ui-missing-16-9-dark.png"></div><div class="coming-up--info"><label class="label label-success" ng-if="$index == 0">Next Up</label><h2>{{component.title}}</h2><p ng-if="$index == 0">Chapter {{component.section + 1}}.{{component.sequence + 1}}</p><small ng-if="component.content.type == \'video\' && component.duration">{{component.duration | secondsToTime}}</small> <small ng-if="component.content.type != \'video\' && $index != 0">{{component.content.type}}</small></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div></section>\x3c!-- Start: The course info section --\x3e<div class="course-section container" ng-class="{\'loaded\': vm.courseActivityLoaded }"><div class="row"><div class="col col-sm-8 col-md-9"><div class="panel panel-dark"><div class="panel-heading"><h2>{{ vm.terms.get(vm.courseMetadata.type).course }} Outline</h2></div><div class="panel-body"><gu-course-curriculum has-enhanced-syllabus="vm.hasEnhancedSyllabus" course="vm.fbCourse" on-component-selected="vm.goToComponent" course-activity="vm.courseActivity"></gu-course-curriculum></div>\x3c!--/.panel-body--\x3e</div>\x3c!--/.panel--\x3e</div><div class="col col-sm-4 col-md-3"><div class="panel panel-dark"><div class="panel-heading"><h3>Your Progress</h3></div><div class="panel-body"><div id="totalCourseCompletionLabel" class="dashboard-course-summary-item-description">Total {{ vm.terms.get(vm.courseMetadata.type).course }} Completion</div><div class="dashboard-course-summary-item-metric">{{vm.totalCourseCompletion || 0}}%</div><gu-progress-bar value="vm.totalCourseCompletion" class="active" size="xxs" show-label="false"></gu-progress-bar><div id="totalComponentCompletionLabel" class="dashboard-course-summary-item-description">{{ vm.terms.get(vm.courseMetadata.type).component }} Completion</div><div class="dashboard-course-summary-item-metric">{{vm.lessonCompletionCount || 0}} of {{vm.lessonCompletionTotal || 0}}</div><gu-progress-bar value="vm.lessonCompletionPercentage" class="active" size="xxs" show-label="false"></gu-progress-bar><div ng-show="vm.quizzes && vm.quizzes.length > 0"><div class="dashboard-course-summary-item-description">Quiz Completion</div><div class="dashboard-course-summary-item-metric">{{vm.quizCompletionCount || 0}} of {{vm.quizCompletionTotal || 0}}</div><gu-progress-bar value="vm.quizCompletionPercentage" class="active" size="xxs" show-label="false"></gu-progress-bar></div><div class="dashboard-course-summary-item-link"><a ng-click="vm.resetProgress()">Reset Course Progress</a></div></div>\x3c!--/.panel-body--\x3e</div>\x3c!--/.panel--\x3e\x3c!-- Exam Simulator --\x3e<div ng-if="vm.examSimulatorEnabled && vm.isMember !== null" class="ExamSimulatorCTA">\x3c!-- If already a member --\x3e<a ui-sref="examSimulator.start({courseId: vm.courseMetadata.uniqueid})" ng-if="vm.isMember"><span class="ExamSimulatorCTA--Title">Exam Simulator</span> <span class="ExamSimulatorCTA--ByLine">Hone your skills by practicing under real exam conditions</span> <span class="btn">Open Simulator</span></a>\x3c!-- If not a member --\x3e <a ng-if="!vm.isMember" ng-click="vm.showWhyJoinModal($event, \'annual\')" ng-mousedown="vm.recordExamSimulatorInterest()"><img src="/images/memberships/members-only-ribbon.png" alt="" class="ExamSimulatorCTA--Ribbon"> <span class="ExamSimulatorCTA--Title">Exam Simulator</span> <span class="ExamSimulatorCTA--ByLine">Hone your skills by practicing under real exam conditions</span> <span class="btn">Become a member</span></a></div><div class="panel panel-dark" ng-show="vm.practiceExams && vm.practiceExams.length > 0"><div class="panel-heading"><h3>Prepare For Your Exam</h3></div><div class="panel-body"><p>Get ready for your exam by practising under timed conditions. You can select specific topics of interest to drill into.</p><div class="dashboard-course-summary-item-score" ng-repeat="quiz in vm.practiceExams | orderBy:\'sectionSeq\'" gu-component-href="quiz" gu-component-href-course-url="vm.courseMetadata.url"><div class="dashboard-course-summary-item-score-value">{{vm.courseActivity.quizScores[quiz.content.quizName].bestScore ? vm.courseActivity.quizScores[quiz.content.quizName].bestScore + \'%\' : \'\'}}</div><div class="dashboard-course-summary-item-score-quiz">{{quiz.title}}</div><gu-progress-bar value="vm.courseActivity.quizScores[quiz.content.quizName].bestScore || 0" class="active" size="xs" show-label="false"></gu-progress-bar></div><button class="btn btn-primary btn-block" gu-component-href="vm.practiceExamQuiz" gu-component-href-course-url="vm.courseMetadata.url">Take Practice Exam</button></div>\x3c!--/.panel-body--\x3e</div>\x3c!--/.panel--\x3e<div class="panel panel-dark" ng-show="vm.quizzes && vm.quizzes.length > 0"><div class="panel-heading"><h3>Section Quizzes</h3></div><div class="panel-body"><div class="dashboard-course-summary-item-score" ng-repeat="quiz in vm.quizzes | orderBy:\'sectionSeq\'" gu-component-href="quiz" gu-component-href-course-url="vm.courseMetadata.url"><div class="dashboard-course-summary-item-score-value">{{vm.courseActivity.quizScores[quiz.content.quizName].bestScore ? vm.courseActivity.quizScores[quiz.content.quizName].bestScore + \'%\' : \'\'}}</div><div class="dashboard-course-summary-item-score-quiz">{{quiz.title}}</div><gu-progress-bar value="vm.courseActivity.quizScores[quiz.content.quizName].bestScore || 0" class="active" size="xs" show-label="false"></gu-progress-bar></div></div>\x3c!--/.panel-body--\x3e</div>\x3c!--/.panel--\x3e</div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>'),a.put("app/course/hero/course-hero.component.html",'<div class="course-masthead course-masthead--container"><div class="row"><div class="col col-lg-9 col-sm-8 clearfix"><div class="course-masthead--artwork"><img ng-optimise-image="vm.artwork" ng-optimise-image-square="100" alt="{{vm.course.title}} course artwork" class="course-artwork"></div><div class="course-masthead--indent"><h1>{{vm.course.title}}</h1><p class="hidden-xs">{{vm.course.shortSummary}}</p><div class="btn-group" ng-if="vm.accessLoaded && vm.roomUrl"><a ui-sref="course({ courseUrl: vm.course.url })" ui-sref-active="btn-default" class="btn">Overview</a> <a ui-sref="app.course.dashboard({ courseUrl: vm.course.url })" ui-sref-active="btn-default" ng-if="vm.userHasAccess" class="btn">Course</a> <a ui-sref="forum.room({ roomUrl: vm.roomUrl })" ui-sref-active="btn-default" class="btn">Discussions</a></div></div></div>\x3c!--/.col--\x3e<div class="col col-lg-3 col-sm-4"><div class="course-masthead--progress">\x3c!-- Progress Circle --\x3e<gu-course-progress ng-if="vm.accessLoaded && vm.userHasAccess" course-id="vm.courseId"></gu-course-progress>\x3c!-- eCommerce Preview --\x3e<gu-course-preview ng-if="vm.accessLoaded && !vm.userHasAccess" course-url="vm.course.url" purchase-id="vm.course.purchaseProductId" duration="vm.course.duration" quiz-count="vm.course.quizCount" quizzes-available="vm.course.quizzesAvailable" has-practice-exams="vm.course.hasPracticeExams" course-type="vm.course.type" lecture-count="vm.course.lectureCount"></gu-course-preview></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>'),a.put("app/course/hero/course-navigation.component.html",'\x3c!-- Start: Hero Transition Buttons --\x3e<uib-tabset class="b-info course-tab"><uib-tab ng-repeat="t in vm.tabs" heading="{{t.heading}}" ui-sref="{{t.route}}" active="t.active"></uib-tab></uib-tabset>\x3c!--<a ng-repeat="t in vm.tabs"\n                type="button"\n                class="btn btn-accent "\n                ng-class="{\'active\': t.active}"\n                ng-href="{{$state.href(t.route, { courseUrl: vm.course.url })}}">{{t.heading}}</a>--\x3e\x3c!-- End: Hero Transition Buttons --\x3e'),a.put("app/course/overview.html",'\x3c!-- Start: Product Listing Information for RichSnippets --\x3e<main ng-schema schema-product>\x3c!-- Start: Top Hero Container --\x3e<section id="course-hero" class="course-preview--hero" ng-class="{\'loaded\': vm.isCourseLoaded}" ng-style="vm.getJumbotronStyles()"><gu-nav-shell></gu-nav-shell>\x3c!-- Nav: Floating on scroll --\x3e<nav class="navbar navbar-sm navbar-default navbar-static-top navbar__ecommerce" bs-affix data-offset-top="60" data-offset-bottom="200"><div class="container"><ul class="nav navbar-nav hidden-xs"><li><a class="navbar-brand" ui-sref="home"><img src="/images/logo-small-optimised.png" alt="ACG Logo Cloud"></a></li><li><a class="navbar__toplink" ng-click="vm.scrollToTop()">Back to top</a></li></ul><ul class="nav navbar-nav navbar-right navbar__payment"><li><shopping-cart></shopping-cart></li><li class="p-l-xs"><gu-take-course-button class="TakeCourse__darkText" free-funnel="vm.isAwsNonProfit" individual-pricing="vm.userProductPrice.price" membership-pricing="vm.membershipPricing" product-id="vm.userProductPrice.id" course-id="vm.userProductPrice.courseIds[0]" button-color="\'green\'" promo-codes="vm.userProductPrice.availablePromoCodes" has-access="vm.hasAccess" is-member="vm.isMember" is-organisation-only="vm.isOrganisationOnly" is-logged-in="vm.isLoggedIn" is-members-only="vm.userProductPrice.isMembersOnly"></gu-take-course-button></li></ul></div></nav><div class="jumbotron course-preview--jumbotron"><div class="container"><div class="row"><div class="col-md-6 course-preview--jumbotron-info"><h1>{{vm.courseProductInfo.title}}</h1><h2>{{vm.courseProductInfo.shortSummary}}</h2><gu-take-course-button free-funnel="vm.isAwsNonProfit" individual-pricing="vm.userProductPrice.price" membership-pricing="vm.membershipPricing" product-id="vm.userProductPrice.id" course-id="vm.userProductPrice.courseIds[0]" promo-codes="vm.userProductPrice.availablePromoCodes" has-access="vm.hasAccess" is-member="vm.isMember" is-organisation-only="vm.isOrganisationOnly" is-logged-in="vm.isLoggedIn" is-members-only="vm.userProductPrice.isMembersOnly"></gu-take-course-button></div>\x3c!--/.col--\x3e<div class="col-md-6 course-preview--jumbotron-video"><videogular class="videogular videogular__16-9 videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}"><vg-media vg-src="vm.previewVideoSources" vg-preload="\'none\'"></vg-media><vg-controls><vg-play-pause-button></vg-play-pause-button><vg-time-display>{{ currentTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display><vg-scrub-bar><vg-scrub-bar-current-time></vg-scrub-bar-current-time></vg-scrub-bar><vg-volume><vg-mute-button></vg-mute-button><vg-volume-bar></vg-volume-bar></vg-volume><vg-fullscreen-button></vg-fullscreen-button></vg-controls><vg-overlay-play></vg-overlay-play><vg-poster vg-url="vm.videoPosterImage"></vg-poster></videogular></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e<div class="course-preview--info-row"><div class="container"><div class="row"><div class="col-md-push-8 col-md-4 course-preview--info-col"><div class="info-blurb info-blurb__stacked"><span class="info-blurb--big">{{vm.courseInfo.lectureCount}}</span> <span class="info-blurb--small">Total {{ vm.terms.get(vm.type).component }}s</span></div><div class="info-blurb info-blurb__stacked"><span class="info-blurb--big">{{vm.courseProductInfo.duration}}</span> <span class="info-blurb--small">{{vm.courseProductInfo.duration === 1 ? \'Hour\' : \'Hours\'}} of Video</span></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div></div></div>\x3c!--/.container--\x3e</div>\x3c!--/.jumbotron--\x3e</section>\x3c!-- End: Top Hero Container --\x3e\x3c!-- Start: Course Description Container --\x3e<section class="course-preview--body"><div class="container"><div class="row"><div class="col-sm-12 col-md-8 course-preview--body-main"><div class="fill-left"></div><div class="fill-content">\x3c!-- SECTION 001 --\x3e<h5 class="preface" id="courseAboutTitleLabel">01 &mdash; About The {{vm.terms.get(vm.type).course}}</h5><div class="course-preview--body-description" btf-markdown="vm.courseProductInfo.description"></div><div class="text-center p-y"><hr><div class="p-y"><h4 class="text-center m-b-xs">What are you waiting for?</h4><p class="m-b">Get started now!</p><gu-take-course-button free-funnel="vm.isAwsNonProfit" individual-pricing="vm.userProductPrice.price" membership-pricing="vm.membershipPricing" product-id="vm.userProductPrice.id" course-id="vm.userProductPrice.courseIds[0]" button-color="\'green\'" promo-codes="vm.userProductPrice.availablePromoCodes" has-access="vm.hasAccess" is-member="vm.isMember" is-organisation-only="vm.isOrganisationOnly" is-logged-in="vm.isLoggedIn" is-members-only="vm.userProductPrice.isMembersOnly"></gu-take-course-button></div><hr></div>\x3c!-- SECTION 002 --\x3e<h5 class="preface m-t-xxl" id="courseAboutTitleLabel">02 &mdash; {{vm.terms.get(vm.type).course}} Outline</h5><div class="curriculum"><div class="curriculum-section" ng-repeat="(sectionId, section) in vm.current.course.sections | toArray | orderBy:\'sequence\'"><h2 class="curriculum--heading"><small>Chapter {{$index+1}}</small> {{section.title}} <span class="curriculum--chapterDuration">{{section.components | removeEnhanced: vm.hasEnhancedSyllabus | sectionDuration | secondsToTime}}</span></h2><div ng-repeat="(componentId, component) in section.components | removeEnhanced: vm.hasEnhancedSyllabus | toArray | orderBy:\'sequence\'" ng-click="vm.goToComponent(component)" class="curriculum--item-row" ng-class="{\'lab-component\': component.content.type === \'lab\'}"><span class="component-row--icon"><un-svg svg-src="images/svg-icons/play-circle.svg"></un-svg></span> <span class="duration" ng-if="component.content.type === \'video\' && vm.componentDuration(component)">{{ vm.componentDuration(component) | secondsToTime }}</span><div class="curriculum--metadata"><span class="curriculum--metadata-title">{{component.title}}</span></div></div></div>\x3c!--/.curriculum-section--\x3e</div>\x3c!--/.curriculum--\x3e</div></div>\x3c!--/.col--\x3e<div class="col-sm-12 col-md-4 course-preview--body-aside"><div class="course-preview--author" ng-repeat="author in vm.authorProfiles" ng-show="vm.type === \'course\'"><a href=""><img ng-optimise-image="author.picture" ng-optimise-image-square="64" class="w-full img-circle"></a><h2>{{author.displayname}}</h2><h4>{{author.jobtitle}}</h4><p>{{author.bio | strip}}</p></div><hr><h5 class="preface" id="courseAboutTitleLabel">03 &mdash; What\'s Included</h5><ul class="Checklist Checklist__green"><li ng-if="vm.courseInfo.hasPracticeExams && vm.courseInfo.questionCount > 0">80 Minute Practice Exam</li><li ng-if="vm.courseInfo.hasPracticeExams && vm.courseInfo.questionCount > 0">15 Minute Mini Exam</li><li ng-if="vm.courseInfo.quizCount > 0">{{vm.courseInfo.quizCount}} Topic Quizzes</li><li>Access to the course</li><li>Access to the course discussion forums</li></ul><h5 class="preface" id="courseAboutTitleLabel">04 &mdash; What people say</h5><blockquote><div ng-schema schema-review-review-body="vm.courseInfo.featureTestimonial.quote">{{vm.courseInfo.featureTestimonial.quote}}</div><small ng-schema schema-review-author>{{vm.courseInfo.featureTestimonial.name}}</small></blockquote><hr><div ng-if="vm.courseProductInfo.outcomes.length > 0"><h5 class="preface" id="courseAboutTitleLabel">05 &mdash; Expected Outcomes</h5><ul class="Checklist Checklist__green"><li ng-repeat="outcome in vm.courseProductInfo.outcomes">{{outcome}}</li></ul><hr></div><div ng-if="vm.courseProductInfo.audience.length > 0"><h5 class="preface" id="courseAboutTitleLabel">06 &mdash; Intended Audience</h5><ul class="Checklist Checklist__blue"><li ng-repeat="audience in vm.courseProductInfo.audience">{{audience}}</li></ul><hr></div><div ng-if="vm.courseProductInfo.requirements.length > 0"><h5 class="preface" id="courseAboutTitleLabel">07 &mdash; Prerequisites</h5><ul class="Checklist Checklist__orange"><li ng-repeat="prerequisite in vm.courseProductInfo.requirements">{{prerequisite}}</li></ul></div><h5 class="preface" id="courseAboutTitleLabel">08 &mdash; Popular Discussions</h5><thread-pretty-list threads="vm.recentThreads" ng-if="vm.recentThreads.length > 0"></thread-pretty-list><p class="p-x-md" ng-if="vm.recentThreads.length == 0">No threads about this course</p></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.container--\x3e</section>\x3c!-- End: Course Description Container --\x3e<div class="course-preview--footerCTA"><div class="container"><div class="row"><div class="col col-md-6 text-xs-center text-sm-left"><h2>{{vm.courseProductInfo.ctaTitle}}</h2><p class="blurb">{{vm.courseProductInfo.ctaFooter}}</p></div><div class="col col-md-6 text-xs-center text-sm-left text-md-right"><gu-take-course-button class="TakeCourse__darkText" free-funnel="vm.isAwsNonProfit" individual-pricing="vm.userProductPrice.price" membership-pricing="vm.membershipPricing" product-id="vm.userProductPrice.id" course-id="vm.userProductPrice.courseIds[0]" button-color="\'green\'" promo-codes="vm.userProductPrice.availablePromoCodes" has-access="vm.hasAccess" is-member="vm.isMember" is-organisation-only="vm.isOrganisationOnly" is-logged-in="vm.isLoggedIn" is-members-only="vm.userProductPrice.isMembersOnly"></gu-take-course-button></div></div></div></div></main>\x3c!-- End: Product Listing Information for RichSnippets --\x3e\x3c!-- Start: Footer Section --\x3e<brand-partial src="footer" ng-show="!$state.current.data.showViewer"></brand-partial>\x3c!-- End: Footer Section --\x3e'),a.put("app/course/viewer/gu-course-curriculum.html",'<div class="curriculum"><div class="curriculum-section" ng-repeat="(sectionId, section) in vm.course.sections | toArray | orderBy:\'sequence\'"><h2 class="curriculum--heading"><small>Chapter {{$index+1}}</small> {{::section.title}} <span class="curriculum--chapterDuration">{{section.components | removeEnhanced:vm.hasEnhancedSyllabus | sectionDuration | secondsToTime}}</span></h2><gu-course-component ng-repeat="(componentId, component) in section.components | removeEnhanced:vm.hasEnhancedSyllabus | toArray | orderBy:\'sequence\'" id="{{component.componentIdentifier.replace(\':\', \'c\')}}" course="vm.course" section="section" component="component" is-completed="vm.isComponentCompleted(component.componentIdentifier)" is-active-component="vm.activeComponent === component.componentIdentifier" on-selected="vm.onComponentSelected" class="curriculum--item-row"></gu-course-component></div>\x3c!--/.curriculum-section--\x3e</div>\x3c!--/.curriculum--\x3e'),a.put("app/course/viewer/gu-course-viewer-lab.html",'<div ng-show="!vm.isLabLoaded"><h2 class="text-md m-b-lg text-center"><i class="fa fa-refresh fa-spin text-md"></i></h2></div><div ng-show="vm.isLabLoaded" class="animate-show course-viewer--content-pane-lab-area"><span class="t__sparseLabel t__orangeB">About this Lab</span><div id="lab-viewer" btf-markdown="vm.component.content.description"></div><div id="lab-link" class="m-t-lg"><a class="btn btn-primary btn-lg" ng-href="https://qwiklabs.com/focuses/{{vm.component.content.quickLabsId}}" target="_blank" uib-tooltip="Launches in a new tab"><i class="fa fa-fw fa-play"></i> Launch Lab</a></div></div>'),a.put("app/course/viewer/gu-course-viewer-quiz-engine.html",'<div class="quiz-engine placeholder"><div class="quiz-engine--header">\x3c!-- ng-class="vm.getClassForScore(\'bg-\', vm.currentScore) --\x3e<div class="progress-arc--container quiz-engine--score"><span class="progress-arc--value">{{vm.currentScore + \'%\'}} <small>Score</small></span><progress-arc size="80" stroke="#08C472" complete="vm.currentScore / 100" background="rgba(255,255,255,0.1)" stroke-width="3"></progress-arc></div><div class="progress-arc--container quiz-engine--time-remaining" ng-show="vm.isTimed" tooltips tooltip-placement="bottom" uib-tooltip="{{vm.timerHours}}:{{vm.timerMinutes}}:{{vm.timerSeconds}} / {{vm.totalHours}}:{{vm.totalMinutes}}:{{vm.totalSeconds}}"><span class="progress-arc--value">{{vm.timerRemainingHours + \':\' + vm.timerRemainingMinutes + \':\' + vm.timerRemainingSeconds}} <small>Remaining</small></span><progress-arc size="80" stroke="#8126de" complete="1-(vm.timePercentageCompletion / 100)" background="rgba(255,255,255,0.1)" stroke-width="3"></progress-arc></div></div>\x3c!--/.quiz-engine--header--\x3e<div class="quiz-engine--question-count"><div class="quiz-engine--question-count__interactive"><a ng-class="{\'disabled\': vm.currentQuestionIndex <= 0}" ng-click="vm.goPreviousQuestion()" class="quiz-engine--header-button pull-left"><un-svg svg-src="images/svg-icons/double-arrow-left.svg"></un-svg></a> <a ng-class="{\'disabled\': vm.currentQuestionIndex >= vm.questions.length - 1}" ng-click="vm.goNextQuestion()" class="quiz-engine--header-button pull-right"><un-svg svg-src="images/svg-icons/double-arrow-right.svg"></un-svg></a><h5>Question {{vm.currentQuestionIndex+1}} of {{vm.questions.length}}</h5></div><div class="progress"><div class="progress-bar" style="width: {{(vm.currentQuestionIndex+1)/vm.questions.length*100}}%"></div></div></div>\x3c!--/.quiz-engine--question-count--\x3e<p ng-show="vm.unansweredQuestionCount" class="quiz-engine--unanswered-count">{{vm.unansweredQuestionCount}} Question{{ vm.unansweredQuestionCount == 1 ? \'\' : \'s\' }} Left Unanswered</p><div class="quiz-engine--question">{{vm.currentQuestion.question}} <span ng-if="vm.currentQuestion.correctAnswers > 1">(Choose {{ vm.currentQuestion.correctAnswers }})</span></div><div ng-if="vm.currentQuestion.questionCode" class="quiz-engine--code-block"><pre><code>{{ vm.currentQuestion.questionCode }}</code></pre></div><div class="quiz-engine--answers">\x3c!--            ng-class="{ \'b-l-success\': (vm.hasUserAnswered(vm.currentQuestionIndex) && vm.isAnswerCorrect($index)),\n                      \'b-l-danger\': (vm.hasUserAnswered(vm.currentQuestionIndex) && vm.isUserAnswer($index) && !vm.isAnswerCorrect($index)) }"\n            ng-click="vm.attemptAnswer($index)"\n\n\n\n            <span class="pull-right text-success" ng-show="vm.hasUserAnswered(vm.currentQuestionIndex) && vm.isAnswerCorrect($index)"><i class="fa fa-check text-md"></i></span>\n            <span class="pull-right text-danger" ng-show="vm.hasUserAnswered(vm.currentQuestionIndex) && vm.isUserAnswer($index) && !vm.isAnswerCorrect($index)"><i class="fa fa-remove text-md"></i></span>\n\n--\x3e<a class="quiz-engine--answers-answer" ng-class="{\'is-correct\': answer.correct && vm.currentQuestionUserAnswers[$index] === true,\n                       \'is-incorrect\': !answer.correct  && vm.currentQuestionUserAnswers[$index] === true,\n                       \'is-missing\': answer.correct && !vm.currentQuestionUserAnswers[$index],\n                       \'is-answered\': vm.isCurrentQuestionAnswered}" ng-repeat="answer in vm.currentQuestion.answers track by $index" ng-if="answer && (answer.text !== null || answer.text !== undefined)" ng-click="vm.toggleAnswer($index)"><p><input type="radio" ng-checked="vm.currentQuestionUserAnswers[$index] === true" ng-if="vm.currentQuestion.correctAnswers === 1" ng-disbled="vm.isCurrentQuestionAnswered"> <input type="checkbox" ng-checked="vm.currentQuestionUserAnswers[$index] === true" ng-if="vm.currentQuestion.correctAnswers > 1" ng-disbled="vm.isCurrentQuestionAnswered"> <span>{{answer.text === true ? \'True\' : (answer.text === false ? \'False\' : answer.text) }}</span></p></a></div><div class="quiz-engine--summary" ng-if="vm.isCurrentQuestionAnswered"><h5 class="quiz-engine--summary-result quiz-engine--summary-result-correct" ng-show="vm.isCurrentQuestionAnswered && vm.isCurrentAnswerSetCorrect">Good Work!</h5><h5 class="quiz-engine--summary-result quiz-engine--summary-result-incorrect" ng-show="vm.isCurrentQuestionAnswered && !vm.isCurrentAnswerSetCorrect">Sorry!</h5><p class="quiz-engine--summary-description" ng-show="vm.isCurrentQuestionAnswered">{{ vm.currentQuestion.explanation }} <span class="quiz-engine--summary-link" ng-show="vm.currentQuestion.links.length > 0">Further information: <a class="text-trim" ng-repeat="link in vm.currentQuestion.links" ng-href="{{ link }}" target="_blank">{{link}}</a></span></p></div><div class="quiz-engine--controls"><div class="warning-box" ng-if="vm.isIncorrectNumberOfAnswers"><p><span class="fa fa-warning"></span>Please select {{ vm.currentQuestion.correctAnswers }} answers</p></div><button class="btn btn-block btn-lg btn-success" ng-click="vm.submitAnswer()" ng-disabled="!vm.userHasEnteredAnAnswer || vm.isIncorrectNumberOfAnswers" ng-show="!vm.isCurrentQuestionAnswered">Submit Answer</button> <button class="btn btn-block btn-lg btn-success" ng-click="vm.finishQuiz()" ng-show="vm.canFinishQuiz && !vm.isQuizCompleted">Complete Quiz</button> <button class="btn btn-block btn-lg btn-primary" ng-click="vm.goNextQuestion()" ng-show="!vm.canFinishQuiz && vm.isCurrentQuestionAnswered && !vm.isQuizCompleted && vm.currentQuestionIndex != vm.questions.length - 1">Go To Next Question</button> <button class="btn btn-block btn-link" ng-click="vm.requestResetQuiz()">Start Over</button></div></div>'),a.put("app/course/viewer/gu-course-viewer-quiz-results.html",'<div class="course-viewer--exam-page exam-page--complete"><div class="panel panel-dark m-t-xl"><div class="panel-heading"><h2>{{vm.component.title}} Complete!</h2></div><div class="panel-body"><p>You have completed the {{ vm.isTimed ? \'practice exam\' : \'quiz\'}}.</p><p ng-if="vm.isTimed">You completed the exam in {{vm.timerHours}}:{{vm.timerMinutes}}:{{vm.timerSeconds}}</p><p>You scored {{vm.currentScore}}%.</p><div class="progress-arc--container quiz-engine--score"><span class="progress-arc--value">{{vm.currentScore + \'%\'}} <small>Score</small></span><progress-arc size="80" stroke="#08C472" complete="vm.currentScore / 100" background="rgba(255,255,255,0.1)" stroke-width="3"></progress-arc></div><button class="btn btn-primary btn-block btn-lg" ng-click="vm.reviewResults()">Review Results</button> <button class="btn btn-link btn-block" ng-click="vm.resetQuiz()">Start Over</button></div></div><button class="btn btn-link btn-block" ng-click="vm.completeQuiz()" ng-show="vm.isNextComponent">Go To Next Lesson</button></div>'),a.put("app/course/viewer/gu-course-viewer-quiz-topic-selector.html",'<div class="course-viewer--exam-page exam-page--landing"><h2>{{vm.component.title}}</h2><p ng-show="vm.isTimed">This is a timed practice exam. You will be asked {{vm.component.content.questionCount}} questions over {{vm.component.content.duration}} minutes.</p><p>Please select the topics that you would like to cover in this quiz.</p><hr class="micro"><div class="course-viewer-quiz-topics-selector"><div class="exam-topic-selector--all"><label class="md-check"><input type="checkbox" ng-model="vm.allTopics"> <i class="bg-info"></i> All Topics</label></div><div class="exam-topic-selector--topic" ng-repeat="topic in vm.component.content.topics | orderBy: \'title\'"><label class="md-check"><input type="checkbox" ng-model="vm.quizTopics[topic.tag]"> <i class="bg-info"></i> {{topic.title}}</label></div></div><small>{{ (!vm.allTopics && vm.someTopicsSelected) ? \'Your score will not be recorded. To record a high score you must select all topics.\' : \'\' }}</small> <button class="btn btn-success btn-lg btn-block" ng-click="vm.loadTopicsAndStartQuiz()" ng-disabled="!vm.allTopics && !vm.someTopicsSelected">Start Practice Exam</button></div>'),
a.put("app/course/viewer/gu-course-viewer-quiz.html",'<div class="course-viewer-quiz-container" ng-class="{\'loaded\': vm.isQuizLoaded}">\x3c!-- Start: The quiz topic selector --\x3e<ng-include ng-if="vm.component.content.topics && !vm.isInProgress && !vm.isReviewMode && !vm.isQuizCompleted" src="\'app/course/viewer/gu-course-viewer-quiz-topic-selector.html\'" ng-class="{\'loaded\': vm.isTopicsLoaded}"></ng-include>\x3c!-- End: The quiz topic selector --\x3e\x3c!-- Start: The quiz results page --\x3e<ng-include ng-if="vm.isQuizCompleted && !vm.isReviewMode" src="\'app/course/viewer/gu-course-viewer-quiz-results.html\'"></ng-include>\x3c!-- End: The quiz results page --\x3e\x3c!-- Start: The quiz viewer --\x3e<ng-include ng-if="(!vm.component.content.topics && !vm.isQuizCompleted) || vm.isInProgress || vm.isReviewMode" src="\'app/course/viewer/gu-course-viewer-quiz-engine.html\'"></ng-include>\x3c!-- End: The quiz viewer --\x3e</div>'),a.put("app/course/viewer/gu-course-viewer-resource.html",'<div class="empty-state" ng-show="vm.resourcesLoaded && (!vm.notes || vm.notes.length === 0)">This lesson has no resources.</div><div class="loading-state" ng-show="!vm.resourcesLoaded">Loading...</div><div class="course-viewer--resource-list"><div ng-if="!vm.isAuthor" ng-repeat="note in vm.notes"><a ng-href="{{note.url || note.secureUrl.source}}" target="_blank"><un-svg svg-src="images/svg-icons/paperclip.svg"></un-svg>{{note.title}}</a></div></div><lecture-resource-editor ng-if="vm.isAuthor" course="vm.course" section="vm.section" component="vm.component"></lecture-resource-editor>'),a.put("app/course/viewer/gu-course-viewer-text.html",'<div ng-show="!vm.isTextSourcesLoaded"><h2 class="text-md m-b-lg text-center"><i class="fa fa-refresh fa-spin text-md"></i></h2></div><div ng-show="vm.isTextSourcesLoaded" class="animate-show course-viewer--content-pane-text-area"><div id="text-viewer" btf-markdown="vm.component.content.text"></div></div><div class="course-viewer-content-pane-text-buttons"><a ng-click="vm.markComplete()" class="md-btn md-fab" ng-class="{\'bg-info\': !vm.isCompleted, \'bg-success\': vm.isCompleted}" uib-tooltip="Mark this lesson as complete and move to the next one"><i class="mdi-action-done i-24"></i></a></div>'),a.put("app/course/viewer/gu-course-viewer-video.html",'<div class="animate-show course-viewer--content-pane-video-area"><videogular class="w-full" vg-change-source="vm.onChangeSource($source)" vg-player-ready="vm.onPlayerReady($API)" vg-update-playback="vm.updatePlaybackRate($playBack)" vg-complete="vm.videoCompleted()" vg-can-play="vm.canPlay()" vg-update-time="vm.updateVideoTime($currentTime, $duration)" ng-class="{\'video-loaded\': vm.videoLoaded}"><vg-media vg-src="vm.component.content.defaultQuality.sources"></vg-media><vg-buffering></vg-buffering><vg-controls><vg-play-pause-button></vg-play-pause-button><skip-buttons skip="15" class="hidden-xs"></skip-buttons><vg-playback-button vg-speeds="vm.playbackSpeeds"></vg-playback-button><vg-time-display>{{ currentTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display><vg-scrub-bar class="hidden-xs"><vg-scrub-bar-current-time></vg-scrub-bar-current-time></vg-scrub-bar><vg-time-display class="hidden-xs">{{ timeLeft || totalTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display><vg-quality ng-if="vm.component.content.trustedvideosources.length > 1" quality-sources="vm.component.content.trustedvideosources" default-quality="vm.component.content.defaultQuality"></vg-quality><vg-volume><vg-mute-button></vg-mute-button><vg-volume-bar></vg-volume-bar></vg-volume><vg-fullscreen-button></vg-fullscreen-button><div ng-if="vm.canDownload && vm.course.allowDownload" class="videogular-custom-button" ng-click="vm.markVideoComplete()"><a class="btn btn--transparent" download title="Download Video For Offline Viewing" ng-href="{{vm.component.content.defaultQuality.sources[0].src}}"><i class="fa fa-cloud-download"></i></a></div></vg-controls><vg-overlay-play></vg-overlay-play>\x3c!-- Seek buttons --\x3e<div class="mobileSeekButton--container visible-xs" ng-class="{ \'mobileSeekButton--container__fade\': vm.videogularApi.currentState == \'play\'}"><div class="mobileSeekButton--left" ng-click="vm.seekVideoBackwards()"><span class="mobileSeekButton--vertCenter"><i class="fa fa-chevron-left m-t-sm"></i> <span>{{vm.amountOfSeekSeconds}}</span></span></div><div class="mobileSeekButton--right" ng-click="vm.seekVideoForwards()"><span class="mobileSeekButton--vertCenter"><span>{{vm.amountOfSeekSeconds}}</span> <i class="fa fa-chevron-right m-t-sm"></i></span></div></div></videogular></div>'),a.put("app/course/viewer/gu-course-viewer-whitepaper.html",'<div ng-show="!vm.isWhitepaperLoaded"><h2 class="text-md m-b-lg text-center"><i class="fa fa-refresh fa-spin text-md"></i></h2></div><div ng-show="vm.isWhitepaperLoaded" class="animate-show course-viewer--content-pane-whitepaper-area"><whitepaper src="vm.component.content.url"></whitepaper></div>'),a.put("app/course/viewer/viewer.html",'<div class="course-viewer-container" ng-class="{\'browse-mode\': vm.browseMode, \'collapse-mode\': vm.collapseMode, \'edit-mode\' : vm.editMode, \'show-banner\': (vm.showBanner)}">\x3c!-- Start: Side Pane For Collapsed Mode --\x3e<div class="course-viewer--toolbar"><a class="course-viewer--toolbar-button-close" ng-href="{{ vm.exitUrl() }}" tooltip-placement="right" uib-tooltip="Exit the {{ vm.terms.get(vm.course.type).course.toLowerCase() }}"><un-svg svg-src="images/svg-icons/remove.svg"></un-svg></a> <a class="course-viewer--toolbar-button-expand" ng-click="vm.toggleCollapsedMode()" tooltip-placement="right" uib-tooltip="Expand the navigation pane"><un-svg svg-src="images/svg-icons/expand-horizontally.svg"></un-svg></a> <a class="course-viewer--toolbar-button-progress" ng-click="vm.toggleCollapsedMode()" tooltip-placement="right" uib-tooltip="You have completed {{vm.completionPercentage}}% of the {{vm.terms.get(vm.course.type).course.toLowerCase()}}. Click to open the {{ vm.terms.get(vm.course.type).course.toLowerCase() }} outline."><div class="course-viewer--toolbar-button-progress-block" ng-style="{\'width\': vm.completionPercentage + \'%\'}" ng-class="{\'color-danger\':    vm.completionPercentage < 10,\n                    \'color-warning\':   vm.completionPercentage >= 10 && vm.completionPercentage < 30,\n                    \'color-primary\':   vm.completionPercentage >= 30 && vm.completionPercentage < 60,\n                    \'color-info\':      vm.completionPercentage >= 60 && vm.completionPercentage < 90,\n                    \'color-success\':   vm.completionPercentage >= 90}"></div>{{vm.completionLoaded ? vm.completionPercentage + \'%\' : \'...\'}}</a> <a class="course-viewer--toolbar-button-previous" ng-click="vm.goToComponent(vm.previousComponent)" ng-class="{\'not-allowed\': !vm.previousComponent}" tooltip-placement="right" uib-tooltip="Go Back: {{vm.previousComponent.title}}"><un-svg svg-src="images/svg-icons/lesson-back.svg"></un-svg></a> <a class="course-viewer--toolbar-button-next" ng-click="vm.goToComponent(vm.nextComponent)" ng-class="{\'not-allowed\': !vm.nextComponent}" tooltip-placement="right" uib-tooltip="Up Next: {{vm.nextComponent.title}}"><un-svg svg-src="images/svg-icons/lesson-next.svg"></un-svg></a>\x3c!-- Start: Course completion button --\x3e <a ng-click="vm.markComponentComplete(true, true)" class="course-viewer--toolbar-button-complete animate-show" ng-show="vm.courseActivityLoaded" tooltip-placement="right" uib-tooltip="{{vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'quiz\' ? (vm.isCompleted ? \'This quiz has been completed.\' : \'This quiz has not yet been completed.\') : ((vm.isCompleted ? \'Unmark\' : \'Mark\') + \' this \' + vm.terms.get(vm.course.type).component.toLowerCase() + \' as completed.\')}}"><span ng-if="vm.isCompleted" class="no-animate"><un-svg svg-src="images/svg-icons/circle-check-filled.svg"></un-svg></span> <span ng-if="!vm.isCompleted" class="no-animate"><un-svg svg-src="images/svg-icons/circle-check.svg"></un-svg></span></a>\x3c!-- End: Course completion button --\x3e <a class="course-viewer--toolbar-button-resources course-viewer--toolbar-button__multiline" ng-class="{\'has-entries\': vm.resourceCount > 0}" ng-click="vm.openResources(); vm.toggleCollapsedMode()" tooltip-placement="right" uib-tooltip="{{vm.resourceCount > 0 ? \'View \' + vm.resourceCount + \' resource\' + (vm.resourceCount > 1 ? \'s\' : \'\') + \' for this \' + vm.terms.get(vm.course.type).component.toLowerCase() + \'.\' : \'There are no resources for this \' + vm.terms.get(vm.course.type).component.toLowerCase() + \'.\'}}"><un-svg svg-src="images/svg-icons/paperclip.svg"></un-svg><small>{{vm.resourceCount === null ? \'..\' : vm.resourceCount}}</small></a> <a class="course-viewer--toolbar-button-discussions course-viewer--toolbar-button__multiline" ng-class="{\'has-entries\': vm.totalDiscussions > 0}" ng-click="vm.openDiscussions(); vm.toggleCollapsedMode();" tooltip-placement="right" uib-tooltip="{{vm.totalDiscussions > 0 ? \'View \' + vm.totalDiscussions + \' question\' + (vm.totalDiscussions > 1 ? \'s\' : \'\') + \' about this \' + vm.terms.get(vm.course.type).component.toLowerCase() + \'.\' : \'There are no questions about this \' + vm.terms.get(vm.course.type).component.toLowerCase() + \'.\'}}"><un-svg svg-src="images/svg-icons/chat-bubble-square.svg"></un-svg><small>{{vm.totalDiscussions === null ? \'..\' : vm.totalDiscussions}}</small></a></div>\x3c!--/.course-viewer--toolbar--\x3e\x3c!-- End: Side Pane For Collapsed Mode --\x3e<div class="course-viewer--sidebar" ng-class="{\'course-viewer--sidebar-edit-mode\': vm.editMode && !!vm.course }"><div class="course-viewer--sidebar-buttons"><a ng-click="vm.toggleCollapsedMode()" tooltip-placement="bottom-right" uib-tooltip="Collapse the navigation pane"><un-svg svg-src="images/svg-icons/shrink-horizontally.svg"></un-svg></a> <a class="course-viewer-toolbar-buttons-close" href="{{vm.exitUrl()}}" tooltip-placement="bottom-right" uib-tooltip="Exit the course"><un-svg svg-src="images/svg-icons/remove.svg"></un-svg></a></div>\x3c!-- Start: Progress Overview --\x3e<div class="course-viewer--sidebar-course"><img ng-optimise-image="vm.artwork" ng-optimise-image-square="300" alt="{{vm.course.title}} course artwork" class="course-artwork"><div class="label__tiny">Now Viewing</div><h3 ng-if="!vm.editMode && !!vm.course">{{vm.course.sections[vm.component.sec].components[vm.component.com].title}}</h3><div class="course-viewer--title-editor" ng-if="vm.editMode && !!vm.course"><gu-plaintext-editor placeholder="Enter {{vm.terms.get(vm.course.type).component}} Heading" component="vm.course.sections[vm.component.sec].components[vm.component.com]"></gu-plaintext-editor><media-upload ng-if="vm.editMode && !!vm.course" course="vm.course" section="vm.course.sections[vm.component.sec]" component="vm.course.sections[vm.component.sec].components[vm.component.com]"></media-upload></div></div>\x3c!-- End: Progress Overview --\x3e\x3c!-- Start: Course Navigation --\x3e<div class="course-viewer--sidebar-navigation"><div class="course-viewer--sidebar-navigation-controls"><a class="course-viewer-controls course-viewer-controls-previous" ng-click="vm.goToPreviousComponent()" ng-class="{\'not-allowed\': !vm.loadingPreviousNextComponents && !vm.previousComponent }" tooltip-placement="top" uib-tooltip="{{ vm.goPreviousTooltip(vm.previousComponent) }}"><un-svg svg-src="images/svg-icons/lesson-back.svg"></un-svg></a>\x3c!-- Start: Course completion button --\x3e <a ng-if="!vm.editMode && vm.courseActivityLoaded" ng-click="vm.markComponentComplete(true, true)" class="course-viewer--complete-button" ng-class="{\'course-viewer--complete-button__completed\': vm.isCompleted}" tooltip-placement="top" uib-tooltip="{{vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'quiz\' ? (vm.isCompleted ? \'This quiz has been completed.\' : \'This quiz has not yet been completed.\') : ((vm.isCompleted ? \'Unmark\' : \'Mark\') + \' this \' + vm.terms.get(vm.course.type).component.toLowerCase() + \' as completed.\')}}"><span ng-if="vm.isCompleted" class="no-animate"><un-svg svg-src="images/svg-icons/circle-check-filled.svg"></un-svg></span> <span ng-if="!vm.isCompleted" class="no-animate"><un-svg svg-src="images/svg-icons/circle-check.svg"></un-svg></span></a>\x3c!-- End: Course completion button --\x3e <a class="course-viewer-controls course-viewer-controls-previous" ng-click="vm.goToNextComponent(true)" ng-class="{\'not-allowed\': !vm.loadingPreviousNextComponents && !vm.nextComponent }" tooltip-placement="top" uib-tooltip="{{ vm.goNextTooltip(vm.nextComponent) }}"><un-svg svg-src="images/svg-icons/lesson-next.svg"></un-svg></a></div>\x3c!-- TABS --\x3e<div class="tabs--mini"><a ng-class="{\'tabs--mini__selected\': vm.browseMode}" ng-click="vm.showCourseBrowser()">All {{vm.terms.get(vm.course.type).component ? vm.terms.get(vm.course.type).component + \'s\' : \'\'}}</a> <a ng-class="{\'tabs--mini__selected\': !vm.browseMode}" ng-click="vm.goToComponent(vm.course.sections[vm.component.sec].components[vm.component.com])">Current Lesson</a></div></div>\x3c!-- End: Course Navigation --\x3e<div class="course-viewer--sidebar-scroll"><div class="course-viewer--sidebar-scroll-inner">\x3c!-- Start: Current Component Info --\x3e<div class="course-viewer-component-pane" ng-class="\'entries-\' + (vm.editMode ? \'0\' : vm.discussionCountdiscussionCount)"><div class="course-viewer-component-pane-info" ng-show="!vm.browseMode">\x3c!--Start: Quiz score record --\x3e<div class="course-viewer--quizScore" ng-if="vm.courseActivityLoaded && vm.component.type === \'quiz\'"><h5>Your Best Score: <small class="pull-right"><ng-pluralize count="vm.quizAttempts" when="{\'0\': \'Not attempted yet\',\n                                   \'one\': \'1 attempt\',\n                                   \'other\': \'{} attempts\'}"></ng-pluralize></small></h5><gu-progress-bar value="vm.quizBestScore"></gu-progress-bar></div>\x3c!--End: Quiz score record --\x3e\x3c!-- Start: Resources --\x3e<div class="course-viewer--resource-list-wrapper"><h5>Resources</h5><gu-course-viewer-resource is-author="vm.editMode && !!vm.course" course="vm.course" section="vm.course.sections[vm.component.sec]" component="vm.course.sections[vm.component.sec].components[vm.component.com]" resource-count="vm.resourceCount"></gu-course-viewer-resource></div>\x3c!-- End: Resources --\x3e<div class="course-viewer--discussionList"><h5>Discussions</h5><thread-snippet-list-component link-target="\'_blank\'" ng-show="vm.relatedQuestions" threads="vm.relatedQuestions" display-settings="{ \'darkBg\': true, \'empaneled\': true }"></thread-snippet-list-component><div class="empty-state" ng-show="vm.relatedQuestions && vm.relatedQuestions.length === 0">There are no discussions for this lesson yet.</div><div class="loading-state" ng-show="vm.relatedQuestions === null">Loading...</div><a class="course-viewer-component-pane-info-tabs-content-more" ng-show="vm.relatedQuestions !== null && vm.remainingDiscussions > 0" ui-sref="forum.room.filter({filter: \'top\', type: \'question\', componentId: vm.course.sections[vm.component.sec].components[vm.component.com].componentIdentifier, roomUrl: vm.roomForCourse.url })" target="_blank">View {{vm.remainingDiscussions}} more discussions</a> <span class="course-viewer--discussionQuestionLabel text-uppercase">Got a question?</span> <a class="btn btn-success btn-block" ng-click="vm.askQuestion()">Find An Answer</a></div>\x3c!-- Start: thumbnail selector --\x3e<lecture-select-poster ng-if="vm.editMode && !!vm.course" course="vm.course" section="vm.course.sections[vm.component.sec]" component="vm.course.sections[vm.component.sec].components[vm.component.com]"></lecture-select-poster>\x3c!-- End: thumbnail selector --\x3e\x3c!-- Start: tag selector --\x3e<lecture-tag-editor ng-if="vm.editMode && !!vm.course" course="vm.course" section="vm.course.sections[vm.component.sec]" component="vm.course.sections[vm.component.sec].components[vm.component.com]"></lecture-tag-editor>\x3c!-- Start: tag selector --\x3e</div>\x3c!-- Start: Publishing Controls --\x3e<div class="course-viewer-component-pane-discussions" ng-if="vm.editMode"><publish-component ng-if="vm.editMode && !!vm.course" course="vm.course" section="vm.course.sections[vm.component.sec]" component="vm.course.sections[vm.component.sec].components[vm.component.com]"></publish-component></div>\x3c!-- End: Publishing Controls --\x3e</div>\x3c!-- End: Current Component Info --\x3e\x3c!-- Start: Course Curriculum --\x3e<div class="course-viewer--curriculum loaded" ng-if="vm.browseMode"><gu-course-curriculum course="vm.course" active-component="vm.course.sections[vm.component.sec].components[vm.component.com].componentIdentifier" on-component-selected="vm.goToComponent" course-activity="vm.courseActivity" has-enhanced-syllabus="vm.hasEnhancedSyllabus"></gu-course-curriculum></div>\x3c!-- End: Course Curriculum --\x3e</div></div>\x3c!--/.course-viewer--sidebar-scroll-inner--\x3e</div>\x3c!--/.course-viewer--sidebar-scroll--\x3e<div class="course-viewer--content-pane course-viewer--content-pane-{{vm.course.sections[vm.component.sec].components[vm.component.com].content.type}}"><div class="course-viewer-content-pane-expand-button" ng-click="vm.toggleCollapsedMode(true)"><div>Expand <i class="mdi-navigation-unfold-more"></i> {{vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'text\' ? \'Text\' : \'\'}} {{vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'video\' ? \'Video\' : \'\'}} {{vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'quiz\' ? \'Quiz\' : \'\'}}</div></div><gu-course-viewer-video component="vm.course.sections[vm.component.sec].components[vm.component.com]" ng-if="vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'video\'" mark-completed="vm.markComponentComplete()" is-completed="vm.isCompleted" course="vm.course" go-next-component="vm.goToNextComponent()" can-download="vm.legacyVideoDownload" section-identifier="vm.component.sec" has-enhanced-syllabus="vm.hasEnhancedSyllabus"></gu-course-viewer-video><gu-course-viewer-text component="vm.course.sections[vm.component.sec].components[vm.component.com]" ng-if="vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'text\'" mark-completed="vm.markComponentComplete()" is-completed="vm.isCompleted" go-next-component="vm.goToNextComponent()"></gu-course-viewer-text><gu-course-viewer-quiz component="vm.course.sections[vm.component.sec].components[vm.component.com]" ng-if="vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'quiz\'" mark-completed="vm.markComponentComplete()" is-in-progress="vm.isQuizInProgress" course="vm.course" is-next-component="!!vm.nextComponent" go-next-component="vm.goToNextComponent()"></gu-course-viewer-quiz><gu-course-viewer-lab component="vm.course.sections[vm.component.sec].components[vm.component.com]" ng-if="vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'lab\'" mark-completed="vm.markComponentComplete()" course="vm.course" go-next-component="vm.goToNextComponent()"></gu-course-viewer-lab><gu-course-viewer-whitepaper component="vm.course.sections[vm.component.sec].components[vm.component.com]" ng-if="vm.course.sections[vm.component.sec].components[vm.component.com].content.type === \'whitepaper\'" mark-completed="vm.markComponentComplete()" course="vm.course" go-next-component="vm.goToNextComponent()"></gu-course-viewer-whitepaper></div></div>')}]),function(){"use strict";function a(a,b){function c(b){return!!d.courseActivity&&a.keys(d.courseActivity.completedComponents).indexOf(b)>=0}var d=this;d.isComponentCompleted=c}a.$inject=["lodash","courseService"],angular.module("app.course").component("guCourseCurriculum",{controllerAs:"vm",controller:a,templateUrl:"app/course/viewer/gu-course-curriculum.html",bindings:{course:"<",activeComponent:"<",onComponentSelected:"<",hasEnhancedSyllabus:"<",courseActivity:"<"}})}(),function(){"use strict";function a(a,b){function c(){f(g.component)}function d(a){a.component&&f(a.component.currentValue)}function e(){g.markCompleted&&g.markCompleted(),g.goNextComponent&&g.goNextComponent()}function f(c){c&&c.content.description&&c.content.quickLabsId&&c.content.labImage&&(g.isLabLoaded=!0,b.getCourse().then(function(b){a.track("Viewed Lab",{courseId:b.uniqueid,componentId:c.componentIdentifier})}))}var g=this;g.$onInit=c,g.$onChanges=d,g.isLabLoaded=!1,g.markComplete=e}a.$inject=["analyticsService","currentCourseService"],angular.module("app.course").component("guCourseViewerLab",{templateUrl:"app/course/viewer/gu-course-viewer-lab.html",controller:a,controllerAs:"vm",bindings:{component:"<",markCompleted:"&?",goNextComponent:"&?"}})}(),function(){"use strict";function a(){return{scope:{course:"=",component:"=",markCompleted:"&?",goNextComponent:"&?",isInProgress:"=?",isNextComponent:"=?"},controllerAs:"vm",controller:b,templateUrl:"app/course/viewer/gu-course-viewer-quiz.html",bindToController:!0}}function b(a,b,c,d,e,f,g,h,i){function j(){H()}function k(){$("#scrollable-area").animate({scrollTop:0},500)}function l(a){K.userHasEnteredAnAnswer=!1,!K.questions||a>=K.questions.length||a<0?(K.currentQuestion=null,K.isCurrentQuestionAnswered=!1,K.currentQuestionUserAnswers=[]):(K.currentQuestion=K.questions[a],K.isCurrentQuestionAnswered=!!K.userAnswers[a],K.isCurrentQuestionAnswered?K.currentQuestionUserAnswers=K.userAnswers[a]:K.currentQuestionUserAnswers=h.fill(new Array(K.currentQuestion.answers.length),!1),K.isCurrentAnswerSetCorrect=s(K.currentQuestion))}function m(){L=K.component,e.track("Viewed Quiz Lesson",{courseId:f.courseId,quizId:L.content.quizName}),o()}function n(){if(!confirm("This will reset all of your progress so far and take you back to the start of the quiz. You'll lose your current answers and start again. Are you sure you want to start over?"))return!1;o()}function o(){H(),K.totalHours="00",K.totalMinutes="00",K.totalSeconds="00",K.isTimedOut=!1,K.questions=[],K.currentQuestionIndex=0,K.currentScore=0,K.isQuizCompleted=!1,K.isQuizLoaded=!1,K.userAnswers=[],K.isInProgress=!1,K.isTimed=!!K.component.content.duration,K.quizTopics={},K.allTopics=!0,K.isReviewMode=!1,K.canFinishQuiz=!1,K.unansweredQuestionCount=0,K.component.content.topics?K.isTopicsLoaded=!0:p().then(G)}function p(a){var b=d.getQuizQuestions(K.course.uniqueid,K.component.content.quizName,K.component.content.mergeQuizQuestions,a,K.component.content.questionCount||null).then(function(a){K.questions=h.map(a,function(a){return h.assign({},a,{correctAnswers:h.filter(a.answers,"correct").length,answers:h.shuffle(a.answers)},{questionCode:a.questionCode?atob(a.questionCode):null})}),l(K.currentQuestionIndex),K.isQuizLoaded=!0});return b.finally(q),b}function q(){b(function(){a.hljs.initHighlighting()})}function r(a){if(!K.isCurrentQuestionAnswered&&!K.isTimedOut){K.isIncorrectNumberOfAnswers=!1;1===K.currentQuestion.correctAnswers&&(K.currentQuestionUserAnswers=K.currentQuestionUserAnswers.map(function(){return!1})),K.currentQuestionUserAnswers[a]=!(!0===K.currentQuestionUserAnswers[a]),K.userHasEnteredAnAnswer=h.filter(K.currentQuestionUserAnswers,function(a){return!!a}).length>0}}function s(a){if(!a)return!1;var b=K.questions.indexOf(a);return!h.some(a.answers,function(a,c){var d=K.userAnswers&&K.userAnswers[b]?K.userAnswers[b][c]:null;return!0!==d&&a&&!0===a.correct||(!a||!a.correct)&&!0===d})}function t(){if(!K.isCurrentQuestionAnswered&&!K.isTimedOut){if(!(1===K.currentQuestion.correctAnswers)){if(K.currentQuestion.correctAnswers!==h.filter(K.currentQuestionUserAnswers).length)return void(K.isIncorrectNumberOfAnswers=!0);K.isIncorrectNumberOfAnswers=!1}K.isCurrentQuestionAnswered=!0,K.isInProgress=!0,K.userAnswers[K.currentQuestionIndex]=K.currentQuestionUserAnswers,K.isCurrentAnswerSetCorrect=s(K.currentQuestion),v()}}function u(){K.isInProgress=!1,H(),K.currentScore=E(!0),C(K.currentScore),K.markCompleted(),K.isQuizCompleted=!0}function v(){if(!K.userAnswers||0===h.keys(K.userAnswers).length)return void(K.currentScore=0);K.currentScore=E(),K.canFinishQuiz=h.filter(K.userAnswers,function(a){return!!a}).length===K.questions.length}function w(){K.unansweredQuestionCount=h.filter(K.userAnswers,function(a){return!a}).length}function x(){K.allTopics=h.values(K.quizTopics).indexOf(!0)<0,K.someTopicsSelected=!0}function y(){K.allTopics?K.quizTopics={}:K.someTopicsSelected=h.values(K.quizTopics).indexOf(!0)>=0}function z(){K.currentQuestionIndex<K.questions.length-1&&K.currentQuestionIndex++}function A(){K.currentQuestionIndex>0&&K.currentQuestionIndex--}function B(){K.goNextComponent&&K.goNextComponent()}function C(a){if(K.savedScore=!0,K.allTopics){var b=K.component.content.quizName;b&&(g.saveQuizScore(f.courseId,b,a),e.track("Completed Quiz",{courseId:f.courseId,quizId:b,score:a}))}}function D(){K.isReviewMode=!0}function E(a){if(!K.userAnswers||0===K.userAnswers.length)return 0;var b=h.sum(h.map(K.userAnswers,function(a,b){return s(K.questions[b])?1:0})),c=a?K.questions.length:h.filter(K.userAnswers,function(a){return!!a}).length;return Math.round(100*b/c)}function F(){p(h.keys(h.pickBy(K.quizTopics,function(a){return!!a}))).then(function(){K.isInProgress=!0}).then(G)}function G(){e.track("Started Quiz",{courseId:f.courseId,quizId:L.content.quizName}),K.isTimed&&J()}function H(){null!==K.clockTickInterval&&(i.cancel(K.clockTickInterval),K.clockTickInterval=null)}function I(a,b){var c=Math.floor(a/1e3/60/60);a-=1e3*c*60*60;var d=Math.floor(a/1e3/60);a-=1e3*d*60,b(c,d,Math.floor(a/1e3))}function J(){if(K.isTimed){var a=60*K.component.content.duration*1e3,b=new Date;I(a,function(a,b,c){K.totalHours=("0"+a).slice(-2),K.totalMinutes=("0"+b).slice(-2),K.totalSeconds=("0"+c).slice(-2)}),K.clockTickInterval=i(function(){var c=new Date,d=c-b,g=b.getTime()+a-c.getTime();K.timePercentageCompletion=100*d/a,d>a&&(H(),K.isTimedOut=!0,v(),u(),e.track("Quiz Timed Out",{courseId:f.courseId,quizId:L.content.quizName,duration:a})),I(d,function(a,b,c){K.timerHours=("0"+a).slice(-2),K.timerMinutes=("0"+b).slice(-2),K.timerSeconds=("0"+c).slice(-2)}),I(g,function(a,b,c){K.timerRemainingHours=("0"+a).slice(-2),K.timerRemainingMinutes=("0"+b).slice(-2),K.timerRemainingSeconds=("0"+c).slice(-2)})},500)}}var K=this,L=null;K.questions=null,K.currentQuestion=null,K.currentQuestionIndex=0,K.isQuizLoaded=!1,K.currentScore=0,K.userAnswers=[],K.isQuizCompleted=!1,K.viewer=K.viewer||{},K.isInProgress=!1,K.isIncorrectNumberOfAnswers=!1,K.quizTopics={},K.allTopics=!0,K.someTopicsSelected=!0,K.isTopicsLoaded=!1,K.timerHours="00",K.timerMinutes="00",K.timerSeconds="00",K.totalHours="00",K.totalMinutes="00",K.totalSeconds="00",K.isTimed=!1,K.isTimedOut=!1,K.timePercentageCompletion=0,K.clockTickInterval=null,K.canFinishQuiz=!1,K.isCurrentQuestionAnswered=!1,K.currentQuestionAnswers=[],K.userHasEnteredAnAnswer=!1,K.unansweredQuestionCount=0,K.goNextQuestion=z,K.goPreviousQuestion=A,K.completeQuiz=B,K.saveScore=C,K.loadTopicsAndStartQuiz=F,K.reviewResults=D,K.requestResetQuiz=n,K.resetQuiz=o,K.submitAnswer=t,K.toggleAnswer=r,K.finishQuiz=u,c.$watchCollection("vm.userAnswers",w),c.$watch("vm.component.componentIdentifier",m),c.$watch("vm.currentQuestionIndex",l),c.$on("$destroy",j),c.$watch("vm.quizTopics",x,!0),c.$watch("vm.allTopics",y),function(){k()}()}b.$inject=["$window","$timeout","$scope","quizService","analyticsService","currentCourseService","courseActivityService","lodash","$interval"],angular.module("app.course").directive("guCourseViewerQuiz",a)}(),function(){"use strict";function a(){return{scope:{course:"=",section:"=",component:"=",isAuthor:"=",resourceCount:"=?"},restrict:"AE",controllerAs:"vm",transclude:!0,templateUrl:"app/course/viewer/gu-course-viewer-resource.html",bindToController:!0,controller:["$scope","courseService","resourceService","lodash",function(a,b,c,d){function e(a,b){a&&f()}function f(){g.resourceCount=null,g.resourcesLoaded=!1,c.initializeResourcesForComponent(g.component).then(function(a){g.notes=angular.copy(a),g.resourceCount=(g.notes?g.notes.length:0)||0,g.resourcesLoaded=!0},function(a){console.log(a)})}var g=this;g.notes=[],g.resourcesLoaded=!1,a.$watch("vm.component.componentIdentifier",e)}]}}angular.module("app.course").directive("guCourseViewerResource",a)}(),function(){"use strict";function a(){return{scope:{component:"=",markCompleted:"&?",goNextComponent:"&?",isCompleted:"=?"},controllerAs:"vm",controller:b,templateUrl:"app/course/viewer/gu-course-viewer-text.html",bindToController:!0}}function b(a,b,c,d,e,f,g){function h(){j.markCompleted&&j.markCompleted(),j.goNextComponent&&j.goNextComponent()}function i(a){a&&((g.isNull(a.content.text)||g.isUndefined(a.content.text))&&(a.content.text=""),f.getCourse().then(function(f){if(d.track("Viewed Text Lesson",{courseId:f.uniqueid,componentId:a.componentIdentifier}),a.content&&"text"===a.content.type)if(a.content.trustedtextsources)j.isTextSourcesLoaded=!0;else{a.content.trustedtextsources=[];var h=[],i=[];a.content.textsources.map(function(a){var b=e.getCourseTrustedVideos(f.uniqueid,"text");b.then(function(b){b[a.bucket]&&b[a.bucket][a.key]&&i.push({src:b[a.bucket][a.key],type:a.type})}),h.push(b)}),c.all(h).then(function(c){g.forEach(i,function(c){var d=c.src.source.valueOf();b.get(d).then(function(b){a.content.text+=b.data})}),j.isTextSourcesLoaded=!0})}}))}var j=this;j.isTextSourcesLoaded=!1,j.markComplete=h,a.$watch("vm.component",i)}b.$inject=["$scope","$http","$q","analyticsService","trustedVideoSourceService","currentCourseService","lodash"],angular.module("app.course").directive("guCourseViewerText",a)}(),function(){"use strict";function a(){return{scope:{component:"=",course:"=",markCompleted:"&?",goNextComponent:"&?",isCompleted:"=?",disableAutoPlay:"=",canDownload:"="},controllerAs:"vm",controller:b,templateUrl:"app/course/viewer/gu-course-viewer-video.html",bindToController:!0}}function b(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){}function p(a,b){!1===a&&!0===b&&C===B.component.componentIdentifier&&q()}function q(a,b){var d=B.component;if(d&&(C=d.componentIdentifier,h.track("Viewed Video Lesson",{courseId:k.courseId,componentId:d.componentIdentifier}),d.content&&"video"===d.content.type)){if(f.isUserAuthorOfCourse(B.current.course)&&d.content.processing)return;n.getUserId();d.content.trustedvideosources=[];var g=[],l=[],m=[];d.content.videosources instanceof Array?m=d.content.videosources:(m=e.filter(e.values(d.content.videosources),{type:"video/mp4"}),e.remove(m,{description:"web-preset"})),m.map(function(a){var b=i.getCourseTrustedVideos(k.courseId,"video");b.then(function(b){if(b[a.bucket]&&b[a.bucket][a.key]){var c={quality:b[a.bucket][a.key].description,src:b[a.bucket][a.key].source,type:a.type},d={name:null,sources:[]};d.name=c.quality,d.sources.push(c),l.push(d)}var f=angular.copy(l),g={"1080p":0,"720p":1,"480p":2,"web-preset":3};l=e.sortBy(f,function(a){return g[a.name]})}),g.push(b)}),c.all(g).then(function(){d.content.trustedvideosources=l;var a=j.getVideoQuality();d.content.defaultQuality=e.find(d.content.trustedvideosources,function(b){return b.name===a}),d.content.defaultQuality||(d.content.defaultQuality=d.content.trustedvideosources[0]||null),B.isVideoSourcesLoaded=!0,D&&t()})}}function r(){y(),B.videoLoaded=!0,B.shouldAutoPlay&&B.videogularApi.play()}function s(a,b){!B.isCompleted&&b>0&&a/b>=.3&&B.markCompleted&&B.markCompleted()}function t(){B.videogularApi&&B.videogularApi.pause()}function u(){B.videogularApi&&B.videogularApi.stop()}function v(){B.markCompleted&&B.markCompleted(),B.goNextComponent&&B.goNextComponent()}function w(a){B.videogularApi=a}function x(a){j.setPlaybackRate(a)}function y(){B.videogularApi.setPlayback(j.getPlaybackRate())}function z(){
B.videogularApi.seekTime(Math.floor(B.videogularApi.currentTime/1e3)-B.amountOfSeekSeconds)}function A(){B.videogularApi.seekTime(Math.floor(B.videogularApi.currentTime/1e3)+B.amountOfSeekSeconds)}var B=this,C=null,D=!1;B.videogularApi=null,B.shouldAutoPlay=!(a.isMobile||B.disableAutoPlay),B.isVideoSourcesLoaded=!1,B.amountOfSeekSeconds=15,B.current=k,B.videoLoaded=!1,B.playbackSpeeds=["0.8","1","1.2","1.3","1.5","1.75","2.0"],B.updateVideoTime=s,B.canPlay=r,B.stopVideo=u,B.videoCompleted=v,B.onPlayerReady=w,B.updatePlaybackRate=x,B.loadUserPlaybackRate=y,B.seekVideoBackwards=z,B.seekVideoForwards=A,a.$watch("vm.component.componentIdentifier",q),a.$watch("vm.component.content.processing",p),a.$watch("$destroy",o),function(){b.$on("stop-video-playback",function(a,b){B.videogularApi&&"play"===B.videogularApi.currentState&&t()}),b.$on("VIDEO_QUALITY_CHANGED",function(a,b){b.name&&j.setVideoQuality(b.name)}),D=f.isUserAuthorOfCourse(B.course)}()}b.$inject=["$scope","$rootScope","$q","$sce","lodash","courseService","awsAccessService","analyticsService","trustedVideoSourceService","userPreferenceService","currentCourseService","courseActivityService","roleService","authService"],angular.module("app.course").directive("guCourseViewerVideo",a)}(),function(){"use strict";function a(a,b,c){function d(){g(h.component),h.componentInitialised=!0}function e(b){b.component&&(h.componentInitialised&&b.component.currentValue.content&&"whitepaper"===b.component.currentValue.content.type&&a.reload(),g(b.component.currentValue))}function f(){h.markCompleted&&h.markCompleted(),h.goNextComponent&&h.goNextComponent()}function g(a){a&&a.content.url&&(h.isWhitepaperLoaded=!0,c.getCourse().then(function(c){b.track("Viewed Lab",{courseId:c.uniqueid,componentId:a.componentIdentifier})}))}var h=this;h.$onInit=d,h.$onChanges=e,h.isWhitepaperLoaded=!1,h.markComplete=f}a.$inject=["$state","analyticsService","currentCourseService"],angular.module("app.course").component("guCourseViewerWhitepaper",{templateUrl:"app/course/viewer/gu-course-viewer-whitepaper.html",controller:a,controllerAs:"vm",bindings:{component:"<",markCompleted:"&?",goNextComponent:"&?"}})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(){p.cancelOnReady(R),p.cancelOnReady(P)}function w(){return t.hasLoaded.promise.then(n.getUserOrganisationMemberships).then(function(a){return angular.forEach(a,function(a){a.enhancedSyllabus&&($.hasEnhancedSyllabus=!0)}),$.hasEnhancedSyllabus})}function x(){return t.getProfile().then(function(a){a&&($.legacyVideoDownload=!!a.legacyVideoDownload)})}function y(a){$.selectedSidebarTab=o.setSelectedSidebarTab(a)}function z(){y("resources")}function A(){y("discussions")}function B(a){$.collapseMode=!1===a||!0===a?a:!$.collapseMode,o.setViewerSize(!$.collapseMode)}function C(a,b,c,d,e){D()||a.preventDefault()}function D(){if(!$.course)return!0;var a=$.course.sections[$.component.sec].components[$.component.com];return!(a&&"quiz"===a.content.type&&$.isQuizInProgress&&!confirm("Any progress will not be saved until you complete the quiz. Are you sure you want to leave?"))}function E(a){var b=d.when(),c=e.random(1,3);a||1!==c||(b=H()),b.finally(function(){$.nextComponent&&I($.nextComponent)})}function F(){$.previousComponent&&I($.previousComponent)}function G(){return g.open({templateUrl:"/app/course/components/gu-rating-modal.html",size:"md",controller:"GuRatingModalController",controllerAs:"vm",windowClass:"GuRatingModal",resolve:{modalTitle:function(){return"What did you think of this chapter?"},ratingConfirmation:function(){return"Thanks for rating!"},trackingProperties:function(){return{type:"section",courseId:$.course.uniqueid,sectionId:$.component.sec}}}}).result}function H(){var a=$.course.sections[$.component.sec].components[$.component.com],b=$.component.sec;return h.getNextComponentFor($.course.uniqueid,a.componentIdentifier,!1).then(function(a){var c=!a,d=a&&a.sectionId!==b;if(c||d)return G()})}function I(a){a&&D()&&($.editMode||J(a))}function J(a){var c=a.componentId||a.componentIdentifier;h.getComponentLookupInfoById($.course.url,c).then(function(a){b.go("app.course.watch",{sectionUrl:a.sectionUrl,componentUrl:a.componentUrl},{notify:!1}),$.browseMode=!1,N($.course,a)})}function K(){$.browseMode=!0}function L(a,b){var a=a||c.sectionUrl,b=b||c.componentUrl;d.all([m.getCourse(),h.getComponentLookupInfoByUrl(m.courseUrl,a,b),w(),x()]).then(e.spread(N))}function M(a,b,c,d,e){c.sectionUrl&&c.componentUrl&&L(c.sectionUrl,c.componentUrl)}function N(a,b){$.course=a,$.artwork=u.getSquareUrl($.course.artworkKey),$.component=b;var c=$.course.sections[$.component.sec].components[$.component.com];"string"==typeof c.description?$.description={input:c.description,output:c.description}:$.description=c.description,V($.course,c),$.previousComponent=null,$.nextComponent=null,$.loadingPreviousNextComponents=!0;var e=h.getNextComponentFor($.course.uniqueid,c.componentIdentifier,!1).then(function(a){$.nextComponent=a}),f=h.getNextComponentFor($.course.uniqueid,c.componentIdentifier,!0).then(function(a){$.previousComponent=a});d.all([f,e]).finally(function(){$.loadingPreviousNextComponents=!1}),j.getRoomByCourseId($.course.$id).then(function(a){return $.roomForCourse=a,O($.component.com)}),U(),T(),P()}function O(a){if($.relatedQuestions=null,$.showDiscussionCount=5,$.roomForCourse){var b=new Date;b.setDate(b.getDate()-60);var c=b.getTime();return s.fetchThreads({room:$.roomForCourse.url,rank:"top",type:"question",hitsPerPage:$.showDiscussionCount,answered:null,componentId:a,afterTimestamp:c}).then(function(a){$.relatedQuestions=a.hits,$.totalDiscussions=a.nbHits,$.remainingDiscussions=(a.nbHits||0)-$.showDiscussionCount})}}function P(){p.isReady()&&$.course&&$.component&&$.course.sections[$.component.sec].components[$.component.com]&&l.rememberLastVisitedComponent($.course.uniqueid,$.course.sections[$.component.sec].components[$.component.com].componentIdentifier)}function Q(a,b){if(!_){var c=$.course.sections[$.component.sec].components[$.component.com];if(!b||"quiz"!==c.content.type){var d=!0;if(a&&(d=!$.isCompleted),$.isCompleted!==d&&!_){_=!0;var e=$.course.uniqueid,f=$.course.url,g=$.course.sections[$.component.sec].components[$.component.com].componentIdentifier;l.markCompleted(e,g,d,f).then(function(){return R()}).finally(function(){setTimeout(function(){_=!1},2e3)})}}}}function R(){return m.getCourse().then(function(a){if(a)return l.forCourse(a.uniqueid).then(function(a){a&&($.courseActivity=a,$.courseActivityLoaded=!0,S())})})}function S(){if($.courseActivity){var a=$.courseActivity?$.courseActivity.lastComponentIdentifier:null;$.haveStartedCourse=!!a,$.completionLoaded=!0,m.getCourse().then(function(a){return l.getTotalCourseCompletion(a.uniqueid)}).then(function(a){$.completionPercentage=a.percentage}),U(),T()}}function T(){if($.component&&$.courseActivity&&$.course&&$.course.sections[$.component.sec].components[$.component.com]){var a=$.course.sections[$.component.sec].components[$.component.com];if("quiz"===a.content.type){var b=a.content.quizName,c=$.courseActivity.quizScores?$.courseActivity.quizScores[b]:null,d=0,e=0;c&&(d=c.bestScore||0,e=c.attempts||0),$.quizBestScore=d,$.quizAttempts=e}}}function U(){if($.course&&$.component&&$.courseActivity&&$.course.sections[$.component.sec].components[$.component.com]){var a=$.course.sections[$.component.sec].components[$.component.com];$.isCompleted=$.courseActivity&&a&&a.componentIdentifier&&$.courseActivity.completedComponents&&!!$.courseActivity.completedComponents[a.componentIdentifier],_=!1}}function V(a,b){if(b){if(b.title){var c=a?" - "+a.title:"";f.setTitle(b.title+c),f.setTag("og:title",b.title+c)}if(a&&a.technologyLogoImage&&f.setTag("og:image",b.content&&b.content.videoposter?b.content.videoposter:"/"+a.technologyLogoImage),b.tags){var g=[],h=[];e.keys(b.tags).forEach(function(a){h.push(k.getActiveTagById(a).then(function(a){g.push(a)}))}),d.all(h).then(function(){f.setTag("keywords",g.join(" "))})}}}function W(a,b){return $.loadingPreviousNextComponents?" ":a?"Up Next: "+a.title:"This is the last lecture"}function X(a,b){return $.loadingPreviousNextComponents?" ":a?"Up Next: "+a.title:"This is the first lecture"}function Y(){var a=$.course.sections[$.component.sec].components[$.component.com].tags,c=[];e.keys(a).forEach(function(a){c.push(a)});var d=b.href("forum.find-answer",{roomUrl:$.roomForCourse.url,tags:c,component:$.component.com});window.open(d,"_blank")}function Z(){return c.backUrl||b.href("app.course.dashboard")}var $=this,_=!1;$.editMode=c.edit||!1,$.courseActivity=null,$.courseActivityLoaded=!1,$.roomForCourse=null,$.showDiscussionCount=3,$.totalDiscussions=0,$.course=null,$.component={},$.browseMode=!1,$.nextComponent=null,$.previousComponent=null,$.discussionCount=null,$.resourceCount=null,$.getSelectedSidebarTab=o.getSelectedSidebarTab,$.collapseMode=!o.isLargeViewerSize,$.haveStartedCourse=!1,$.completionPercentage=0,$.completionLoaded=!1,$.isQuizInProgress=!1,$.isUserAuthorOfCourse=!1,$.description={input:null,output:null},$.terms=r,$.showBanner=!1,$.relatedQuestions=null,$.loadingPreviousNextComponents=!1,$.askQuestion=Y,$.goToComponent=I,$.goToNextComponent=E,$.goToPreviousComponent=F,$.showCourseBrowser=K,$.toggleCollapsedMode=B,$.markComponentComplete=Q,$.openResources=z,$.openDiscussions=A,$.exitUrl=Z,$.goNextTooltip=W,$.goPreviousTooltip=X,$.userPreferences=o,a.$on("$stateChangeSuccess",M),a.$on("$destroy",v),a.$on("$stateChangeStart",C),function(){p.onReady(R),p.onReady(P),$.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),$.isMobile&&($.collapseMode=!1)}()}a.$inject=["$scope","$state","$stateParams","$q","lodash","ngMeta","$uibModal","courseComponentService","courseService","roomService","tagService","courseActivityService","currentCourseService","organisationService","userPreferenceService","guruAuthService","coursePublishService","courseTermsService","forumService","profileService","artworkService"],angular.module("app.course").controller("CourseViewerController",a)}(),function(){"use strict";angular.module("app.forum",["app.course","app.core","ui.select"])}(),function(){"use strict";angular.module("app.forum").filter("notDeleted",function(){return function(a){var b={};return angular.forEach(a,function(a,c){!0!==a.isDeleted&&(b[c]=a)}),b}})}(),function(){"use strict";function a(){function a(){c(f.nbPages)}function b(){c(f.nbPages)}function c(a){if(0===a)return f.canGoNext=!1,void(f.canGoPrevious=!1);f.page==a-1?f.canGoNext=!1:f.canGoNext=!0,0==f.page?f.canGoPrevious=!1:f.canGoPrevious=!0}function d(){f.changePage({page:f.page+1})}function e(){f.changePage({page:f.page-1})}var f=this;f.goNextPage=d,f.goPreviousPage=e,f.$onInit=a,f.$onChanges=b}angular.module("app.forum").component("paginationComponent",{templateUrl:"app/forum/components/pagination.component.html",controller:a,controllerAs:"vm",bindings:{page:"<",nbPages:"<",changePage:"&"}})}(),function(){"use strict";function a(){}angular.module("app.forum").component("searchComponent",{templateUrl:"app/forum/components/search.component.html",controller:a,controllerAs:"vm",bindings:{searchQuery:"<",search:"&"}})}(),function(){"use strict";function a(a){function b(){g.filterType=f(),d()}function c(){g.filterType=f(),d()}function d(){var b=a.findIndex(g.tabs,{filterType:g.filter});g.tabs[b].active=!0}function e(a){if(!h)return void(h=!0);a.filterType!==g.filter&&g.changeFilter({filter:a.filterType})}function f(){return i[g.filter]}var g=this,h=!1,i=function(){return{top:{title:"Top Discussions",subtitle:"Find out what everybody's talking about"},recent:{title:"Recent Discussions",subtitle:"Keep up with what's hapenning right now"},newest:{title:"Newest Discussions",subtitle:"Help answer your fellow guru's questions"}}}();g.$onInit=b,g.$onChanges=c,g.select=e,g.tabs=[{heading:"Recent",filterType:"recent"},{heading:"Popular",filterType:"top"},{heading:"New",filterType:"newest"},{heading:"Unsolved",filterType:"unsolved"}]}a.$inject=["lodash"],angular.module("app.forum").component("threadFilterComponent",{templateUrl:"app/forum/components/thread-filter.component.html",controller:a,controllerAs:"vm",bindings:{filter:"<",changeFilter:"&"}})}(),function(){"use strict";angular.module("app.forum").filter("threadOrder",["lodash",function(a){return function(b){if(0!==a.keys(b[0]).length)return b.sort(function(a,b){return angular.isDefined(a.voteSum)||(a.voteSum=0),angular.isDefined(b.voteSum)||(b.voteSum=0),a.isAnswer?-1:a.voteSum>b.voteSum?-1:a.voteSum<b.voteSum?1:a.createdTimestamp<b.createdTimestamp?-1:a.createdTimestamp>b.createdTimestamp?1:0}),b}}])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(a,b){var c="",e="",g=d.protocol()+"://"+d.host()+":"+d.port()+"/images/home/ogimage-icon-graph-white.png";switch(q.filter){case"top":c="Top ";break;case"recent":c="Recent ";break;case"newest":c="Newest ";break;case"unsolved":c="Unsolved "}c+="Find answers relating to "+a.name,e=a.description,b&&(g=k.getOGUrl(b.artworkKey)),f.setTag("og:image",g),f.setTag("og:title",c),f.setTag("description",e),f.setTag("og:description",e)}function m(a){a.linkedToCourse?j.getCourseById(a.linkedCourseId).then(function(b){q.relatedCourse=b,l(a,b)}):(q.relatedCourse=null,l(a,null))}function n(a){return q.roomUrl&&"all"!==q.roomUrl?h.getRoomByUrl(a):e.when(null)}function o(){a.go("forum.find-answer",{roomUrl:q.roomUrl,tags:q.tags,backUrl:q.backUrl,query:q.searchQuery},{notify:!1,location:"replace"}),p()}function p(){g.fetchThreads({room:q.roomUrl,page:0,hitsPerPage:4,rank:"top",query:q.searchQuery,type:"question",distinct:!1,author:null,answered:null,componentId:null,tagId:null,afterTimestamp:null,isDeleted:!1,settings:{ignorePlurals:!0,removeStopWords:!0}}).then(function(a){q.threads=a.hits})}var q=this;q.roomUrl=c.roomUrl,q.tags=c.tags,q.searchQuery=c.query,q.tag=null,q.componentId=c.component,q.restrictWriteAccess=!1,q.room=null,q.heroTitle=null,q.heroDescription=null,q.relatedCourse=null,q.roomNoLongerExists=!1,q.runSearch=o,function(){i.userForumIsRestricted().then(function(a){q.restrictWriteAccess=a}),p(),n(q.roomUrl).then(function(a){q.room=a,q.heroTitle=q.room.name,q.heroDescription=q.room.description,m(a)})}()}a.$inject=["$state","$scope","$stateParams","$location","$q","ngMeta","forumService","roomService","organisationService","courseMetadataService","artworkService"],angular.module("app.forum").controller("forumFindAnswerController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){function A(a,b){var c="",e="",f=d.protocol()+"://"+d.host()+":"+d.port()+"/images/home/ogimage-icon-graph-white.png";switch(K.filter){case"top":c="Top ";break;case"recent":c="Recent ";break;case"newest":c="Newest ";break;case"unsolved":c="Unsolved "}c+=" discussions relating to ",a?(c+=a.name,e=a.description,b&&(f=p.getOGUrl(b.artworkKey))):K.searchQuery&&(c+=K.searchQuery,e="Search results showing forum discussions matching the query: "+K.searchQuery),g.setTag("og:image",f),g.setTag("og:title",c),g.setTag("description",e),g.setTag("og:description",e)}function B(a){a.linkedToCourse?m.getCourseById(a.linkedCourseId).then(function(b){K.relatedCourse=b,A(a,b),K.componentId?n.getComponent(b.url,K.componentId).then(function(a){return K.linkedComponent=a,n.getComponentUrl(b.url,a).then(function(a){K.linkedComponentUrl=a,K.linkedComponentLoaded=!0})}):(K.linkedComponentLoaded=!0,K.linkedComponent=null)}):(K.linkedComponentLoaded=!0,K.linkedComponent=null,K.relatedCourse=null,A(a,null))}function C(a){return K.roomUrl&&"all"!==K.roomUrl?j.getRoomByUrl(a):e.when(null)}function D(){H(),G()}function E(a){a!==K.filter&&(K.filter=a,K.page=1,H(),G())}function F(a){K.searchQuery=a,H(),G()}function G(){A(K.room,K.relatedCourse),null!==K.searchQuery?a.go(a.current.name,{filter:K.filter,p:K.page,query:K.searchQuery},{notify:!1}):a.go(a.current.name,{filter:K.filter,p:K.page},{notify:!1})}function H(){var a=K.threadType?K.threadType:K.searchQuery?null:"question",b=K.filter,c=null;"unsolved"===b&&(c=!1,b="top");var d=null;if("top"===b){var e=new Date;e.setDate(e.getDate()-60),d=e.getTime()}o.getTagByValue(K.tag).then(function(e){h.fetchThreads({room:K.roomUrl,page:K.page-1,rank:b,query:K.searchQuery,type:a,distinct:!1,author:K.author,answered:c,componentId:K.componentId,tagId:e?e.objectID:null,afterTimestamp:d,isDeleted:!1}).then(function(a){0===a.hits?(K.noHits=!0,K.nbHits=0):a.nbPages>=1&&a.nbPages<K.page&&(K.page=a.nbPages,H()),K.nbHits=a.nbHits,K.threads=a.hits,K.nbPages=a.nbPages})})}function I(a){return a?j.findRelatedRooms(a,5).then(function(a){return K.relatedRooms=a,a}):e.when([])}function J(a){q.storeForumVisit(a)}var K=this,L=f.once(J);K.roomUrl=null,K.filter=null,K.searchQuery=null,K.tag=null,K.page=0,K.nbHits=0,K.selectedThreadId=null,K.room=null,K.heroTitle="Search Results",K.heroDescription="We've searched across our entire forum to find you the best results.",K.author=null,K.threadType=null,K.authorMode=null,K.userProfileObject=null,K.changePage=D,K.changeFilter=E,K.search=F,function(a,b,c,d,e,f,g,h){K.roomUrl=a,K.filter=b,K.searchQuery=c,K.author=e,K.componentId=g,K.tag=h,K.author&&(K.authorMode=!0,k.getProfileObjectFor(K.author).then(function(a){if(K.userProfileObject=a,K.authorMode&&K.threadType)switch(K.threadType){case"question":K.heroTitle="Discussions for "+K.userProfileObject.displayname,K.heroDescription="Here are all the discussions we could find that "+K.userProfileObject.displayname+" started";break;case"answer":K.heroTitle="Answers by "+K.userProfileObject.displayname,K.heroDescription="Here are all the answers submitted by "+K.userProfileObject.displayname}})),l.userForumIsRestricted().then(function(a){K.restrictWriteAccess=a}),K.threadType=f,K.page=parseInt(d)||1,K.threads=null,(!K.page||K.page<1)&&(K.page=1),H(),K.isScopedToRoom="all"!==K.roomUrl,K.isScopedToRoom?C(K.roomUrl).then(function(a){return K.room=a,K.heroTitle=K.room.name,K.heroDescription=K.room.description,K.room.linkedCourseId&&L(K.room.linkedCourseId),B(a),I(a)}):A(null,null)}(s,t,u,z,w,v,x,y)}a.$inject=["$state","$scope","$stateParams","$location","$q","lodash","ngMeta","forumService","searchService","roomService","publicProfileService","organisationService","courseMetadataService","courseComponentService","tagService","artworkService","recommendationStorageService","appConfig","roomUrl","filter","searchQuery","type","author","componentId","tag","page"],angular.module("app.forum").controller("forumController",a)}(),function(){"use strict";function a(a,c,d,e,f,g){function h(a,b,c,d,e,g){switch(b.name){case"forum":g.location=!0,f.go("forum.room.filter",{roomId:"all",filter:"recent"},g),a.preventDefault();break;case"forum.room":g.location=!0,f.go("forum.room.filter",{roomUrl:c.roomUrl,filter:"recent"},g),a.preventDefault();break;case"forum.room.filter":g.location=!0,c.roomUrl&&""!==c.roomUrl||(c.roomUrl="all"),c.filter&&""!==c.filter||(c.filter="recent");break;case"forum.room.thread":c.threadId&&""!==c.threadId||(g.location=!0,f.go("forum.room.filter",{roomId:c.roomId,filter:"recent"},g),a.preventDefault());break;case"forum.room.discussion":c.fromParams=e,c.fromState=d}}d.configureStates(b(a,c,d.load)),e.$on("$stateChangeStart",h)}function b(a,b){return[{state:"forum",config:{url:"/forums",templateUrl:"app/forum/layout.html"}},{state:"forum.rooms",config:{url:"/rooms?query&p",templateUrl:"app/forum/rooms/rooms.html",controllerAs:"vm",controller:"roomsController",resolve:{searchQuery:["$stateParams",function(a){return a.query}],page:["$stateParams","$state",function(a,b){return isNaN(a.p)?a.p=1:a.p<1&&(a.p=1),a.p}]},meta:{title:"Discussion Forum Rooms",keywords:"aws, certifications, certified, cloud, amazon, solution architect, developer, sysops, administrator, lambda, ec2, s3, vpc, iam",description:"Find a room and join the community of "+b.marketing.schoolNumbers+" students who have taken our online AWS certification preparation courses and passed the exams. Learn about S3, EC2, VPC, IAM, CloudWatch, EBS, Lambda and much more!","og:description":"Find a room and join the community of "+b.marketing.schoolNumbers+" students who have taken our online AWS certification preparation courses and passed the exams. Learn about S3, EC2, VPC, IAM, CloudWatch, EBS, Lambda and much more!"}}},{state:"forum.landing",config:{url:"/home",templateUrl:"app/forum/landing.html",controllerAs:"vm",controller:"forumLandingController",meta:{title:"Discussion Forums - Discuss AWS Certification and Training for the Amazon Cloud",keywords:"aws, certifications, certified, cloud, amazon, solution architect, developer, sysops, administrator, lambda, ec2, s3, vpc, iam",description:"Join the community of "+b.marketing.schoolNumbers+" students who have taken our online AWS certification preparation courses and passed the exams. Learn about S3, EC2, VPC, IAM, CloudWatch, EBS, Lambda and much more!","og:description":"Join the community of "+b.marketing.schoolNumbers+" students who have taken our online AWS certification preparation courses and passed the exams. Learn about S3, EC2, VPC, IAM, CloudWatch, EBS, Lambda and much more!"}}},{state:"forum.new-discussion",config:{url:"/new-discussion/{roomUrl}?tags&component&backUrl&question",data:{tab:"discuss",editMode:!1,createMode:!0,logoutState:"forum.landing",loginCategory:"question",mustPurchase:!1,mustLogin:!0},resolve:{access:["$location","$state","$stateParams","organisationService",function(a,b,c,d){return d.userForumIsRestricted().then(function(d){if(d){if(c.backUrl)return Array.isArray(c)?a.url(c.backUrl):a.url(c.backUrl[0]);b.go("forum.landing")}})}]},templateUrl:"app/forum/thread/thread.html",controller:"forumThreadController",controllerAs:"vm"}},{state:"forum.find-answer",config:{url:"/find-answer/{roomUrl}?tags&component&backUrl&query",data:{tab:"discuss",editMode:!1,createMode:!0,logoutState:"forum.landing",loginCategory:"question",mustPurchase:!1,mustLogin:!0},resolve:{roomUrl:["$stateParams",function(a){return a.roomUrl}]},templateUrl:"app/forum/find-answer.html",controller:"forumFindAnswerController",controllerAs:"vm"}},{state:"forum.room",config:{url:"/{roomUrl}",template:'<ui-view autoscroll="true"/>',resolve:{roomUrl:["$stateParams",function(a){return a.roomUrl}]}}},{state:"forum.room.filter",config:{url:"/{filter}?p&query&author&type&componentId&tag",templateUrl:"app/forum/forum.html",controllerAs:"vm",controller:"forumController",params:{filter:"recent",query:null,p:null,author:null,type:null},data:{tab:"discuss"},resolve:{filter:["$stateParams",function(a){return"top"!==a.filter&&"unsolved"!==a.filter&&"recent"!==a.filter&&"newest"!==a.filter?"recent":a.filter}],searchQuery:["$stateParams",function(a){return a.query}],author:["$stateParams",function(a){return a.author}],type:["$stateParams",function(a){return a.type}],componentId:["$stateParams",function(a){return a.componentId}],tag:["$stateParams",function(a){return"top"!==a.filter&&"unsolved"!==a.filter&&"recent"!==a.filter&&"newest"!==a.filter?a.filter:a.tag}],page:["$stateParams","$state",function(a,b){return isNaN(a.p)?a.p=1:a.p<1&&(a.p=1),a.p}]}}},{state:"forum.room.discussion",config:{url:"/discussion/{questionId}/{friendlyUrl}?answer",data:{tab:"discuss",showViewer:!1,editMode:!1,logoutState:null,mustLogin:!1,mustPurchase:!1},templateUrl:"app/forum/thread/thread.html",controller:"forumThreadController",controllerAs:"vm"}},{state:"forum.room.discussion.edit",config:{url:"/edit",data:{tab:"discuss",editMode:!0,logoutState:"forum.room.discussion",loginCategory:"question",mustLogin:!0},templateUrl:"app/forum/thread/thread.html",controller:"ThreadController"}}]}a.$inject=["appConfig","featuresConfig","routerHelper","$rootScope","$state","authService"],angular.module("app.forum").run(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){f.cancelOnAuthStateChange(m)}function i(){a.go("forum.new-discussion")}function j(){a.go("forum.room.filter",{query:n.searchQuery,roomUrl:"all",filter:"top"})}function k(){c.searchRooms("recent","",!0,3).then(function(a){n.courseRelatedRooms=a.hits}),c.searchRooms("recent","",!1,3).then(function(a){n.generalDiscussionRooms=a.hits})}function l(){d.fetchThreads({rank:"recent",hitsPerPage:"3"}).then(function(a){n.recentThreads=a.hits}),d.fetchThreads({rank:"newest",type:"question",answered:!1,hitsPerPage:"3"}).then(function(a){n.unansweredQuestions=a.hits})}function m(){n.isLoggedIn=e.isAuthenticated(),n.isLoggedIn&&d.fetchThreads({rank:"recent",hitsPerPage:"3",author:e.getUserId()}).then(function(a){n.yourPosts=a.hits})}var n=this;n.searchQuery=null,n.isLoggedIn=!1,n.courseRelatedRooms=[{},{},{}],n.generalDiscussionRooms=[{},{},{}],n.recentThreads=[{},{},{}],n.unansweredQuestions=[{},{},{}],n.askQuestion=i,n.performSearch=j,b.$on("$destroy",h),function(){k(),l(),g.userForumIsRestricted().then(function(a){n.restrictWriteAccess=a}),f.onAuthStateChange(m)}()}a.$inject=["$state","$scope","roomService","forumService","authService","guruAuthService","organisationService"],angular.module("app.forum").controller("forumLandingController",a)}(),function(){"use strict";function a(){function a(a){if(!a||a<=0)return d[0];for(var b=d.length,c=b-1;c>=0;c--){var e=d[c];if(e.gte&&a>=e.gte)return e}}function b(a){return d[a+1]||null}function c(){return d}var d=[{levelAsNumber:0,gte:0,levelAsString:"Quartz"},{levelAsNumber:1,gte:1,levelAsString:"Citrine"},{levelAsNumber:2,gte:10,levelAsString:"Sapphire"},{levelAsNumber:3,gte:25,levelAsString:"Amethyst"},{levelAsNumber:4,gte:50,levelAsString:"Opal"},{levelAsNumber:5,gte:100,levelAsString:"Emerald"},{levelAsNumber:6,gte:500,levelAsString:"Ruby"},{levelAsNumber:7,gte:9999,levelAsString:"Unobtanium"}];return{getLevel:a,getNextLevel:b,getAll:c}}angular.module("app.forum").factory("reputationService",a)}(),function(){"use strict";function a(a,b,c){function d(){e.showViewMoreButton=!1!==e.showViewMoreButton}var e=this;e.$onInit=d}a.$inject=["forumService","lodash","brandService"],angular.module("app.forum").component("roomListComponent",{templateUrl:"app/forum/rooms/room-list.component.html",controller:a,controllerAs:"vm",bindings:{rooms:"<",viewMoreState:"<",viewMoreText:"<",showViewMoreButton:"<",title:"<",borderedList:"<"}})}(),function(){"use strict";function a(a,b,c,d){function e(){i.active=!1,i.friendlyUrl="/forums/"+i.room.url+"/recent"}function f(a){if(a.room){i.isRoomLoaded=!1;var b=a.room.currentValue;i.room=b,i.description=i.room._snippetResult&&i.room._snippetResult.description&&i.room._snippetResult.description.value?i.room._snippetResult.description.value:i.room.description,g(b),b.url&&(i.isRoomLoaded=!0,h())}}function g(a){a&&a.linkedToCourse&&a.artworkKey&&(i.roomIcon=d.getSquareUrl(a.artworkKey))}function h(){if(!i.room||!i.room.mostRecentPosters)return a.when(null);var d=b.filter(i.room.mostRecentPosters,function(a){return!!a});return a.all(b.map(d,function(a){return c.getProfileObjectFor(a)})).then(function(a){i.userImages=b.map(a,"picture")})}var i=this;i.isRoomLoaded=!1,i.discussionCount=null,i.roomIcon=null,i.userImages=[],i.latestUpdateTimestamp=null,i.description=null,i.$onInit=e,i.$onChanges=f}a.$inject=["$q","lodash","publicProfileService","artworkService"],angular.module("app.forum").component("roomComponent",{templateUrl:"app/forum/rooms/room/room.component.html",controller:a,controllerAs:"vm",bindings:{room:"<"},require:{roomListCtrl:"^roomListComponent"}})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){l.previousPageLoaded!==l.page&&j(!1)}function j(a){d.go("forum.rooms",{query:l.searchQuery,p:l.page},{location:!a||"replace",notify:!1,reload:!1}),k()}function k(){l.searchQuery?l.pageTitle="Search Results":l.pageTitle="All Rooms",c.searchRooms("name",l.searchQuery,null,l.pageSize,l.page-1).then(function(a){if(a.nbPages>=1&&a.nbPages<l.page)return l.page=a.nbPages,void j();l.previousPageLoaded=l.page,l.nbHits=a.nbHits<=1e3?a.nbHits:1e3,l.rooms=a.hits,l.nbPages=a.nbPages})}var l=this;l.rooms=null,l.page=parseInt(f)||1,l.pageTitle="",l.nbHits=0,l.pageSize=30,l.previousPageLoaded=l.page,l.searchQuery=e||null,l.search=j,l.changePage=i,function(){h.userForumIsRestricted().then(function(a){l.restrictWriteAccess=a}),k()}(),g.$watch("vm.page",i)}a.$inject=["lodash","searchService","roomService","$state","searchQuery","page","$scope","organisationService"],angular.module("app.forum").controller("roomsController",a)}(),angular.module("app.forum").run(["$templateCache",function(a){"use strict";a.put("app/forum/components/pagination.component.html",'<ul class="pagination"><li class="paginate_button previous" ng-class="vm.canGoPrevious ? \'\' : \'disabled\'"><a href ng-click="vm.canGoPrevious && vm.goPreviousPage()" rel="nofollow">Previous</a></li><li class="paginate_button next" ng-class="vm.canGoNext ? \'\' : \'disabled\'"><a href ng-click="vm.canGoNext && vm.goNextPage()" rel="nofollow">Next</a></li></ul>'),a.put("app/forum/components/search.component.html",'<div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span> <input type="text" class="form-control rounded" placeholder="Quick Search" ng-model="vm.searchQuery" ng-class="{ \'ng-dirty\': vm.searchQuery }" ng-change="vm.search({searchQuery: vm.searchQuery})" ng-model-options="{ debounce: 300 }"></div>'),a.put("app/forum/components/thread-filter.component.html",'<uib-tabset class="threadFilter"><uib-tab ng-repeat="t in vm.tabs" heading="{{t.heading}}" select="vm.select(t)" active="t.active"></uib-tab></uib-tabset>'),a.put("app/forum/components/user-popover.template.html",'<div class="UserPopover--TitleRow"><span class="MemberOuterRing" ng-class="{\'MemberOuterRing__isMember\': vm.userProfile.isMember}"><img ng-optimise-image="vm.userProfile.picture" ng-optimise-image-square="40" ng-optimise-image-crop="thumb" alt="..." class="w-full img-circle"></span><div class="UserPopover--TitleRowIndent"><h3 class="UserPopover--Heading">{{vm.userProfile.displayname || vm.userProfile.handle || \'(unknown)\'}}</h3><h4 class="UserPopover--SubHeading" ng-if="vm.userProfile.jobtitle || vm.userProfile.employer">{{vm.userProfile.jobtitle}} <span ng-if="vm.userProfile.jobtitle && vm.userProfile.employer">@</span> {{vm.userProfile.employer}}</h4><h4 class="UserPopover--SubHeading" ng-if="!vm.userProfile.jobtitle && !vm.userProfile.employer">N/A</h4><p class="UserPopover--MemberSince" ng-if="vm.userProfile.isMember"><span ng-if="!vm.userProfile.membershipStartDate">ACG Member</span> <span ng-if="vm.userProfile.membershipStartDate">Member since {{ vm.userProfile.membershipStartDate | date:"MMM yyyy" }}</span></p>\x3c!-- Cert Repeater --\x3e<div class="UserPopover--CertRepeater overlay-spinner overlay-spinner__container" ng-class="{ \'UserPopover--CertRepeater__loaded\': !vm.isLoadingCerts && vm.certifications.length }" ng-if="vm.certifications.length"><div class="custom-spinner custom-spinner__absoluteMiddle custom-spinner__normal"></div><div class="UserPopover--CertRepeaterItem" ng-repeat="cert in vm.certifications track by $index"><un-svg svg-src="/images/svg-icons/circle-check-green.svg"></un-svg>{{cert.provider}} {{cert.title}}</div></div></div></div><div class="UserPopover--Footer"><div class="pull-left UserPopover--CertIcon"><img src="/images/ui-medal-disabled.png" alt="" ng-if="!vm.certificationCount"> <img src="/images/ui-medal.png" alt="" ng-if="vm.certificationCount"> <span><strong>{{vm.certificationCount || 0}}</strong> Certifications</span></div><div class="pull-right"><guru-reputation-label score="vm.userProfile.voteSum"></guru-reputation-label>Reputation</div></div>'),
a.put("app/forum/find-answer.html",'\x3c!-- Start: Top Hero Container --\x3e<section id="course-hero" class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0"><gu-nav-shell></gu-nav-shell><div class="jumbotron">\x3c!-- Start: Course Hero Container --\x3e<div class="container forum-hero" ng-class="{ \'forum-hero-course-mode\': (vm.room === null || vm.room.linkedToCourse) }">\x3c!-- JUMBOTRON: Linked to a course --\x3e<course-hero-component ng-if="vm.room && vm.room.linkedToCourse" full-width="false" course-id="vm.room.linkedCourseId"></course-hero-component>\x3c!-- JUMBOTRON: Standalone room --\x3e<div ng-if="vm.room && !vm.room.linkedToCourse" class="unlinkedRoom--header" ng-class="{\'loaded\': vm.room !== null }"><div><div class="unlinkedRoom--image"><img src="/images/home/icon-graph-white.png"></div><div class="unlinkedRoom--indent"><h1>We\'re here to help.</h1><h2>There\'s a whole lot of AWS engineers here to help!</h2></div></div></div></div>\x3c!--/.container--\x3e</div>\x3c!--/.jumbotron--\x3e\x3c!-- End: Course Hero Container --\x3e</section>\x3c!-- End: Top Hero Container --\x3e<section class="floatedLayout--section"><div class="container discussion-page-container"><div class="row"><div class="col floatedLayout--colLeft disussion-page-left-col">\x3c!-- This empty element forms the negatively positioned background --\x3e<div class="floatedLayout--fillBackground"></div><div class="floatedLayout--fillContent"><div class="overlay-spinner" ng-if="!vm.roomNoLongerExists" ng-class="{\'hide-spinner\': !!vm.room}"><span class="custom-spinner custom-spinner__large"></span></div><div class="woops-message" ng-if="vm.roomNoLongerExists"><p class="flippy-tables">┻━┻ ︵\ufeff ¯\\(ツ)/¯ ︵ ┻━┻</p><br><p>Woops!! We\'re incredibly sorry, it looks like someone deleted this room.</p><p><a rel="nofollow" ng-click="vm.goBack()">Click here to go back.</a></p></div><div class="row m-b-lg"><div class="col-sm-offset-1 col-xs-12 col-sm-11"><a rel="nofollow" ui-sref="forum.room.filter({roomUrl: vm.roomUrl})" class="forum--backLink m-b-0"><i class="fa fa-long-arrow-left"></i> View all {{vm.room.name}} discussions</a></div></div><div class="row" ng-if="!vm.roomNoLongerExists"><div class="col-xs-12 col-sm-11 col-sm-offset-1"><div class="discussionThread--title"><h1>Got a question?</h1>\x3c!-- TITLE: Edit mode --\x3e<div class="form-group"><label class="control-label discussion-find--label">Type your question below and we\'ll search our community forums for an answer.</label><input type="text" class="form-control" id="title" placeholder="Enter your question in one line here" ng-model="vm.searchQuery" ng-model-options="{ debounce: 400 }" ng-change="vm.runSearch()"></div></div></div></div>\x3c!--/.panel--\x3e<div class="row"><div class="col-sm-11 col-xs-12 col-sm-offset-1"><div ng-if="vm.searchQuery"><span class="discussion-find--results" ng-if="vm.searchQuery && vm.threads.length > 0">Here are some forum questions that may help:</span><thread-list-component threads="vm.threads"></thread-list-component><div class="discussion-find--nextStepWell"><h3 ng-if="vm.searchQuery && vm.threads.length == 0">We couldn\'t find any existing discussions related to your question.</h3><h3 ng-if="vm.searchQuery && vm.threads.length > 0">Couldn\'t find what you were looking for?</h3><button ng-if="vm.searchQuery" class="btn btn-primary m-y-md" ui-sref="forum.new-discussion({roomUrl: vm.roomUrl, tags: vm.tags, component: vm.componentId, question: vm.searchQuery})" ng-disabled="vm.restrictWriteAccess">Ask The Community</button></div></div></div></div></div>\x3c!--/.fillContent--\x3e</div>\x3c!--/.col--\x3e<div ng-if="!vm.roomNoLongerExists" class="col floatedLayout--colRight forum-sidebar" ng-show="!vm.createMode && !vm.editMode"><span>Couldn\'t find what you were looking for?</span> <a class="btn btn-primary btn-block m-y-md" ui-sref="forum.new-discussion({roomUrl: vm.roomUrl, tags: vm.tags, component: vm.componentId, question: vm.searchQuery})" ng-disabled="vm.restrictWriteAccess">Ask The Community</a></div>\x3c!--/.col--\x3e</div></div></section>'),a.put("app/forum/forum.html",'\x3c!-- Start: Top Hero Container --\x3e<section id="course-hero" class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0"><gu-nav-shell></gu-nav-shell><div class="jumbotron">\x3c!-- Start: Course Hero Container --\x3e<div class="hero-container container forum-hero" ng-class="{ \'forum-hero-course-mode\': (vm.isScopedToRoom && (vm.room === null || vm.room.linkedToCourse)) }">\x3c!-- JUMBOTRON: Linked to a course --\x3e<course-hero-component ng-if="vm.room && vm.room.linkedToCourse" full-width="false" course-id="vm.room.linkedCourseId"></course-hero-component>\x3c!-- JUMBOTRON: Standalone room --\x3e<div ng-if="!vm.isScopedToRoom || (vm.room && !vm.room.linkedToCourse)" class="unlinkedRoom--header no-clear general-room-hero" ng-class="{\'loaded\': !vm.isScopedToRoom || (vm.room !== null) }"><div><div class="unlinkedRoom--image"><img ng-if="vm.authorMode && vm.userProfileObject.picture" ng-optimise-image="vm.userProfileObject.picture" ng-optimise-image-square="64" class="w-64 img-circle"> <img ng-if="!vm.userProfileObject.picture" src="/images/home/icon-graph-white.png"></div><div class="unlinkedRoom--indent"><h1>{{vm.heroTitle}}</h1><h2>{{vm.heroDescription}}</h2></div></div></div>\x3c!-- End: Hero copy --\x3e</div>\x3c!--/.container--\x3e</div>\x3c!--/.jumbotron--\x3e</section><section class="floatedLayout--section"><div class="container forum-room-container"><div class="row"><div class="col floatedLayout--colLeft forum-room-thread-list">\x3c!-- This empty element forms the negatively positioned background --\x3e<div class="floatedLayout--fillBackground"></div><div class="floatedLayout--fillContent"><div ng-if="vm.restrictWriteAccess" class="alert alert-warning">Users in your organisation only have read access to the forums</div><a class="forum--backLink" ui-sref="forum.rooms"><i class="fa fa-long-arrow-left"></i> All Discussion Rooms</a><thread-filter-component change-filter="vm.changeFilter(filter)" filter="vm.filter"></thread-filter-component><thread-linked-component show-thumbnails="!!vm.relatedCourse.enableThumbnails" component="vm.linkedComponent" component-loaded="vm.linkedComponentLoaded" component-url="vm.linkedComponentUrl" label="\'These questions relate to the lesson:\'" ng-show="vm.componentId"></thread-linked-component><div ng-if="vm.threads && vm.threads.length === 0" class="empty-state">No matching discussions found.</div><div ng-if="!vm.threads" class="forum-room-thread-list-text">Searching...</div><thread-list-component threads="vm.threads"></thread-list-component><div class="search-pagination-results text-center"><ul uib-pagination ng-if="vm.nbHits > 0" boundary-links="true" max-size="5" total-items="vm.nbHits <= 1000 ? vm.nbHits : 1000" ng-change="vm.changePage()" ng-model="vm.page"></ul><div ng-if="vm.nbHits > 0">{{ vm.nbHits }} results.</div></div></div>\x3c!--/.fillContent--\x3e</div>\x3c!--/.col--\x3e<div class="col floatedLayout--colRight forum-room-sidebar forum-sidebar"><search-component search-query="vm.searchQuery" search="vm.search(searchQuery)"></search-component><a class="btn btn-primary btn-block m-y-md" ui-sref="forum.find-answer({roomUrl: vm.roomUrl})" ng-disabled="vm.restrictWriteAccess">Ask The Community</a><div ng-if="vm.isScopedToRoom && vm.relatedRooms && vm.relatedRooms.length > 0"><h3>Related Rooms</h3>\x3c!-- Wrap at this level instead of inside component --\x3e<div class="list-item__panelHover"><room-list-component show-search-bar="false" show-view-more-button="true" rooms="vm.relatedRooms"></room-list-component></div></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.container--\x3e</section>'),a.put("app/forum/landing.html",'\x3c!-- Start: Top Hero Container --\x3e<section id="landing-hero" class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0"><gu-nav-shell></gu-nav-shell><div class="jumbotron">\x3c!-- Start: Course Hero Container --\x3e<div class="container"><div class="row"><div class="col col-sm-12">\x3c!-- Start: Hero copy --\x3e<div class="hero-copy no-clear"><h1>Let\'s talk Cloud</h1><h2>Our forums are a hive of activity, full of engineers helping each other learn Cloud and prepare for exams.</h2></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.container--\x3e</div>\x3c!--/.jumbotron--\x3e</section>\x3c!-- End: Top Hero Container --\x3e<section class="floatedLayout--section"><div class="container landing-browse-container"><div class="row"><div class="col floatedLayout--colLeft">\x3c!-- This empty element forms the negatively positioned background --\x3e<div class="floatedLayout--fillBackground"></div><div class="floatedLayout--fillContent"><div ng-if="vm.restrictWriteAccess" class="alert alert-warning">Users in your organisation only have read access to the forums</div><div class="search-box"><form ng-submit="vm.performSearch()"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span> <input type="text" class="form-control rounded" placeholder="Quick Search" ng-model="vm.searchQuery"></div></form></div><div class="m-y-xl"><h2 class="h3 t__heavy">Popular course related rooms</h2><room-list-component bordered-list="true" rooms="vm.courseRelatedRooms"></room-list-component></div><div class="m-y-xl"><h2 class="h3 t__heavy">Popular general discussion rooms</h2><room-list-component bordered-list="true" rooms="vm.generalDiscussionRooms"></room-list-component></div></div>\x3c!--/.fillContent--\x3e</div>\x3c!--/.col--\x3e<div class="col floatedLayout--colRight"><h3>Recent Activity</h3>\x3c!-- Wrap at this level instead of inside component --\x3e<div class="list-item__panelHover m-b-xxl"><thread-snippet-list-component display-settings="{ \'empaneled\': true }" threads="vm.recentThreads"></thread-snippet-list-component></div><h3>Unsolved Questions</h3>\x3c!-- Wrap at this level instead of inside component --\x3e<div class="list-item__panelHover m-b-xxl"><thread-snippet-list-component display-settings="{ \'empaneled\': true }" threads="vm.unansweredQuestions"></thread-snippet-list-component></div><div ng-if="vm.isLoggedIn"><h3>Your Posts</h3>\x3c!-- Wrap at this level instead of inside component --\x3e<div class="list-item__panelHover"><thread-snippet-list-component display-settings="{ \'empaneled\': true }" threads="vm.yourPosts"></thread-snippet-list-component></div></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.container--\x3e</section>'),a.put("app/forum/layout.html",'<main><div ng-class="{\'container\': vm.isDashboardScopedToCourse}"><ui-view></ui-view></div></main>\x3c!-- Start: Footer Section --\x3e<brand-partial src="footer" ng-if="!vm.isDashboardScopedToCourse">\x3c!-- End: Footer Section --\x3e</brand-partial>'),a.put("app/forum/rooms/room-list.component.html",'<div class="room-list"><h3 ng-show="vm.title">{{vm.title}}</h3><div ng-class="{ \'list-item--wrapper\': vm.borderedList }"><room-component ng-repeat="room in vm.rooms track by $index" id="room.$id" room="room"></room-component></div><div class="text-center m-t-lg" ng-if="vm.showViewMoreButton"><button class="btn btn-outline btn-info" ui-sref="{{vm.viewMoreState || \'forum.rooms\'}}">{{ vm.viewMoreText || \'More Rooms\' }}</button></div></div>'),a.put("app/forum/rooms/room/room.component.html",'<div class="list-item list-item__empaneled list-item__interactive list-item__has-media" ng-class="{\'loaded\': vm.isRoomLoaded }" ui-sref="forum.room({ roomUrl: vm.room.url })"><div class=""><img ng-if="vm.roomIcon" class="course-artwork" ng-optimise-image="vm.roomIcon" ng-optimise-image-square="50"> <img ng-if="!vm.roomIcon" class="course-artwork" src="/images/home/icon-graph.png"></div><div class="list-item--indent"><h4 class="list-item--heading text-trim">{{vm.room.name}}</h4><div class="list-item--by-line text-trim"><span ng-bind-html="vm.description | strip"></span></div></div></div>'),a.put("app/forum/rooms/rooms.html",'\x3c!-- Start: Top Hero Container --\x3e<section id="course-hero" class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0"><gu-nav-shell></gu-nav-shell><div class="jumbotron">\x3c!-- Start: Course Hero Container --\x3e<div class="container"><div class="row"><div class="col col-sm-12">\x3c!-- Start: Hero copy --\x3e<div class="hero-copy no-clear"><h1>Discussion Rooms</h1><h2>We have a room for almost everything Cloud-related!</h2></div>\x3c!-- End: Hero copy --\x3e</div></div>\x3c!--/.row--\x3e</div>\x3c!--/.container--\x3e</div></section>\x3c!-- End: Top Hero Container --\x3e<section class="floatedLayout--section"><div class="container landing-browse-container"><div class="row landing-search-row"><div class="col col-sm-12">\x3c!-- This empty element forms the negatively positioned background --\x3e<div class="floatedLayout--fillBackground"></div><div class="floatedLayout--fillContent"><div ng-if="vm.restrictWriteAccess" class="alert alert-warning">Users in your organisation only have read access to the forums</div><a class="forum--backLink" ui-sref="forum.landing"><i class="fa fa-fw fa-long-arrow-left"></i> Discussions Home</a><div><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span> <input type="text" class="form-control rounded" placeholder="Find A Room" ng-model="vm.searchQuery" ng-change="vm.search(true)" ng-model-options="{ debounce: 400 }"></div></div><div><h3>{{vm.pageTitle}}</h3><room-list-component rooms="vm.rooms" bordered-list="true" show-view-more-button="false"></room-list-component><div ng-if="vm.rooms && vm.rooms.length === 0" class="landing-search-results-none">No matching rooms found.</div><div ng-if="!vm.rooms" class="landing-search-results-none">Searching...</div><div class="search-pagination-results text-center"><ul uib-pagination ng-if="vm.nbHits" boundary-links="true" max-size="5" items-per-page="vm.pageSize" total-items="vm.nbHits" ng-model="vm.page"></ul><div ng-if="vm.nbHits > 0">{{ vm.nbHits }} results.</div></div></div></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.container--\x3e</section>'),a.put("app/forum/tags/tag-list.component.html",""),a.put("app/forum/tags/tag/tag.component.html",""),a.put("app/forum/thread/thread-answer-delete-modal.html",'<div class="modal-header"><h3 class="modal-title">Delete Answer</h3></div><div class="modal-body overlay-spinner__container"><p class="t__lg">Are you sure you want to delete this answer?<br>Once completed, this action cannot be undone.</p><div class="overlay-spinner overlay-spinner__originZero" ng-if="vm.isPosting"><span class="custom-spinner custom-spinner__large custom-spinner__absoluteMiddle"></span></div></div><div class="modal-footer"><button class="btn btn-link" type="button" ng-click="vm.cancel()" ng-disabled="vm.isPosting">Cancel</button> <button class="btn btn-danger btn__roundRect" type="button" ng-click="vm.deleteAnswer()" ng-disabled="vm.isPosting">Delete Answer</button></div>'),a.put("app/forum/thread/thread-answer.html",'<div class="thread-answer--container discussion-card answer-card animate-enter-fade" id="{{vm.answerId}}" guru-scroll scroll-target="vm.scrollTo ? (\'#\' + vm.answerId) : \'\'" scroll-offset="30"><div class="row"><div class="col-xs-2 col-sm-1 thread-view--controls">\x3c!-- Start: Vote Controls --\x3e<thread-vote-controls restrict-write="vm.restrictWrite" is-answer="true" answer-id="vm.answerId" question-id="vm.questionId" vote-sum="vm.answer.voteSum" class="thread-view--controls-vote"></thread-vote-controls>\x3c!-- End: Vote Controls --\x3e\x3c!-- Start: Mark Answer Area --\x3e<div class="thread-view--controls-mark-answer m-t-lg"><button uib-tooltip="Mark/unmark this as the correct answer." tooltip-placement="right" ng-class="vm.isMarkedAnswer ? \'btn-success\' : \'btn-default\'" ng-click="vm.markAnswer()" ng-disabled="vm.saveInProgress" class="btn btn-sm" ng-show="vm.canMarkAnswer"><i class="fa fa-check"></i></button> <button uib-tooltip="This has been marked as the correct answer by the question\'s author." tooltip-placement="right" class="btn btn-success btn-sm" ng-show="!vm.canMarkAnswer && vm.isMarkedAnswer"><i class="fa fa-check"></i></button></div></div><div class="col-xs-10 col-sm-11" ng-class="{\'loaded\': vm.isLoaded }"><gu-short-user-profile user-cert-dict="vm.userCertDict" user-id="vm.answer.author">Answered <span am-time-ago="vm.answer.updatedTimestamp"></span></gu-short-user-profile><div class="discussion-card--actions" ng-if="vm.canEditAnswer && vm.isLoaded && !vm.editMode" uib-dropdown dropdown-append-to-body="true"><a uib-dropdown-toggle><un-svg svg-src="images/svg-icons/ellipsis.svg"></un-svg></a><ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="btn-append-to"><li role="menuitem"><a ng-click="vm.editAnswer(answer)">Edit Answer</a></li><li class="divider"></li><li role="menuitem"><a ng-click="vm.showDeleteModal()" class="text-danger">Delete Answer</a></li></ul></div><div class="shareButton discussion-card--shareButton"><gu-social-share share-message="\'A Cloud Guru Forums:\'" title="vm.question.title" url="vm.answerUrl"></gu-social-share></div>\x3c!-- Start: Answer Text Area --\x3e<gu-editor id="answerDetailArea" class="discussion-card-text-area" placeholder="\'Enter an answer to this question...\'" markdown-model="vm.userAnswerMarkdownModel" edit-mode="vm.editMode" informational-message="true"></gu-editor>\x3c!-- End: Answer Text Area --\x3e<div class="discussion-card-footer m-t" ng-if="vm.editMode"><div class="text-right"><a ng-click="vm.stopEditingAnswer()" ng-disabled="!vm.isLoaded || vm.saveInProgress" class="btn btn-link">Cancel</a> <button class="btn btn-primary" ng-disabled="!vm.isLoaded || vm.saveInProgress" ng-click="vm.saveAnswer()">Save Changes</button></div>\x3c!--/.pull-right--\x3e</div>\x3c!--/.discussion-card-footer--\x3e<div class="m-t-lg" ng-class="{\'loaded\': vm.isLoaded }"><thread-comments ng-if="!vm.restrictWrite" room-id="vm.roomId" user-cert-dict="vm.userCertDict" answer-id="vm.answerId" comments="vm.answer.comments" class="discussion-card-comments"></thread-comments></div></div></div></div>'),a.put("app/forum/thread/thread-comments.html",'<div ng-if="!vm.createMode" class="thread-comments m-t-xs">\x3c!-- Start: Comment --\x3e<div class="thread-comments-item text-xs animate-show" ng-repeat="(key,comment) in vm.comments | notDeleted" ng-show="vm.comments"><gu-short-user-profile inline-mode="true" user-cert-dict="vm.userCertDict" user-id="comment.author"><span class="m-r-md" am-time-ago="comment.createdTimestamp"></span></gu-short-user-profile><span ng-if="(vm.userCanEditComments || vm.canEditComment(comment)) && !comment.promptDelete" ng-click="comment.promptDelete = true" class="thread-comments--removeTrigger"><un-svg svg-src="images/svg-icons/remove.svg"></un-svg></span><div>{{comment.text}}</div><div ng-show="comment.promptDelete" class="thread-comments-delete-prompt"><hr><strong>Are you sure you want to delete this comment?</strong><br><span class="thread-comments-delete-prompt-option" ng-click="vm.deleteComment(key, comment)"><strong>Yes</strong></span> / <span class="thread-comments-delete-prompt-option" ng-click="comment.promptDelete = false">No</span></div></div>\x3c!--End: Comment --\x3e\x3c!-- Start: Comment Buttons --\x3e<a rel="nofollow" class="thread-comments--login-to-add" ng-if="!vm.userCanAddComment" ng-click="vm.login()">Login To Add A Comment</a>\x3c!-- End: Comment Buttons --\x3e\x3c!--Start: New Comment Editor --\x3e<div class="thread-comments--inline-add" ng-if="vm.userCanAddComment"><span class="MemberOuterRing" ng-class="{ MemberOuterRing__isMember: vm.isMember }"><img src ng-optimise-image="vm.userAvatar" ng-optimise-image-square="40" ng-optimise-image-crop="thumb" alt="..." class="w-full img-circle"></span><div class="indent"><input guru-enter="vm.postComment()" class="form-control" placeholder="Add a Comment" ng-model="vm.newCommentText"></div></div>\x3c!--End: New Comment Editor --\x3e</div>'),a.put("app/forum/thread/thread-delete-modal.html",'<div class="modal-header"><h3 class="modal-title">Delete Thread?</h3></div><div class="modal-body overlay-spinner__container"><p class="t__lg">Are you sure you want to delete this thread, and all answers within it?<br>Once completed, this action cannot be undone.</p><div class="overlay-spinner overlay-spinner__originZero" ng-if="vm.isPosting"><span class="custom-spinner custom-spinner__large custom-spinner__absoluteMiddle"></span></div></div><div class="modal-footer"><button class="btn btn-link" type="button" ng-click="vm.cancel()" ng-disabled="vm.isPosting">Cancel</button> <button class="btn btn-danger btn__roundRect" type="button" ng-click="vm.deleteThread()" ng-disabled="vm.isPosting">Delete Thread</button></div>'),a.put("app/forum/thread/thread-linked-component.component.html",'<div ng-click="vm.goToComponent()" class="discussionThread--linked-component" ng-show="vm.componentLoaded"><label>Related Lesson</label><a rel="nofollow" ng-click="$event.stopPropagation()" ng-href="{{vm.componentUrl}}">{{vm.component.title}}</a></div>'),a.put("app/forum/thread/thread-vote-controls.html",'<div><button tooltip-placement="top-left" uib-tooltip="{{ vm.userVoteLoaded ? (\'Like this \' + vm.entityName + \'? Vote it up!\') : (\'Login to vote on this \' + vm.entityName) }}" ng-click="vm.submitVote(1)" class="vote-button--up btn" ng-disabled="vm.restrictWrite || vm.userVoteInProgress || !vm.userCanVoteUp"><i class="fa fa-chevron-up"></i></button><div title="Total votes for this {{vm.entityName}}" class="vote-value">{{vm.voteSum ? vm.voteSum : 0}}</div><button tooltip-placement="bottom-left" uib-tooltip="{{ vm.userVoteLoaded ? (\'Not useful? Vote this \' + vm.entityName + \' down.\') : (\'Login to vote on this \' + vm.entityName) }}" ng-click="vm.submitVote(-1)" ng-disabled="vm.restrictWrite || vm.userVoteInProgress || !vm.userCanVoteDown" class="vote-button--down btn"><i class="fa fa-chevron-down"></i></button></div>'),
a.put("app/forum/thread/thread.html",'\x3c!-- Start: Top Hero Container --\x3e<section id="course-hero" class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0"><gu-nav-shell></gu-nav-shell><div class="jumbotron">\x3c!-- Start: Course Hero Container --\x3e<div class="container forum-hero" ng-class="{ \'forum-hero-course-mode\': (vm.isScopedToRoom && (vm.room === null || vm.room.linkedToCourse)) }">\x3c!-- JUMBOTRON: Linked to a course --\x3e<course-hero-component ng-if="vm.room && vm.room.linkedToCourse" full-width="false" course-id="vm.room.linkedCourseId"></course-hero-component>\x3c!-- JUMBOTRON: Standalone room --\x3e<div ng-if="!vm.isScopedToRoom || (vm.room && !vm.room.linkedToCourse)" class="unlinkedRoom--header" ng-class="{\'loaded\': !vm.isScopedToRoom || (vm.room !== null) }"><div><div class="unlinkedRoom--image"><img src="/images/home/icon-graph-white.png"></div><div class="unlinkedRoom--indent"><h1>We\'re here to help.</h1><h2>There\'s a whole lot of AWS engineers here to help!</h2></div></div></div></div>\x3c!--/.container--\x3e</div>\x3c!--/.jumbotron--\x3e\x3c!-- End: Course Hero Container --\x3e</section>\x3c!-- End: Top Hero Container --\x3e<section class="floatedLayout--section"><div class="container discussion-page-container"><div class="row"><div class="col floatedLayout--colLeft disussion-page-left-col">\x3c!-- This empty element forms the negatively positioned background --\x3e<div class="floatedLayout--fillBackground"></div><div class="floatedLayout--fillContent"><div ng-if="vm.restrictWriteAccess" class="alert alert-warning">Users in your organisation only have read access to the forums</div><div class="overlay-spinner" ng-if="!vm.questionNoLongerExists" ng-class="{\'hide-spinner\': vm.answersLoaded}"><span class="custom-spinner custom-spinner__large"></span></div><div class="woops-message" ng-if="vm.questionNoLongerExists"><p class="flippy-tables">┻━┻ ︵\ufeff ¯\\(ツ)/¯ ︵ ┻━┻</p><br><p>Woops!! We\'re incredibly sorry, it looks like someone deleted this discussion.</p><p><a rel="nofollow" ng-click="vm.goBack()">Click here to go back.</a></p></div><div class="row m-b-lg" ng-if="!vm.questionNoLongerExists && vm.pageIsScopedToRoom"><div class="col-sm-offset-1 col-xs-12 col-sm-11"><a rel="nofollow" ui-sref="forum.room.filter({roomUrl: vm.roomUrl})" class="forum--backLink m-b-0"><i class="fa fa-long-arrow-left"></i> View all {{vm.room.name}} discussions</a></div></div><div class="row" ng-if="!vm.questionNoLongerExists"><div class="col-xs-2 col-sm-1 thread-view--controls" ng-if="!vm.createMode"><thread-vote-controls id="questionVoteControls" restrict-write="vm.restrictWriteAccess" question-id="vm.questionId" vote-sum="vm.question.voteSum" class="thread-view--controls-vote"></thread-vote-controls></div><div class="col-xs-10 col-sm-11" ng-class="vm.createMode ? \'col-sm-offset-1\' : \'\'"><div ng-if="!vm.linkedComponentLoaded || !!vm.linkedComponent"><thread-linked-component show-thumbnails="!!vm.relatedCourse.enableThumbnails" component="vm.linkedComponent" component-loaded="vm.linkedComponentLoaded" component-url="vm.linkedComponentUrl"></thread-linked-component></div><div class="discussionThread--title" ng-class="{\'loaded\': vm.questionLoaded, \'col-sm-offset-1\': vm.createMode }">\x3c!-- TITLE: Display mode --\x3e<h2 class="m-t-xxs" ng-show="!vm.editMode">{{vm.question.title}}</h2>\x3c!-- TITLE: Edit mode --\x3e<div class="form-group" ng-if="vm.editMode"><label class="control-label">Title</label><input type="text" class="form-control" id="title" placeholder="Ask your question in one line here..." ng-disabled="vm.saveInProgress" ng-model="vm.question.title" ng-class="{\'text-danger\': vm.isTitleMissingError}"> <small id="titleMissingErrorLabel" class="pull-right text-danger" ng-show="vm.isTitleMissingError">A question title is required.</small></div></div><div class="discussionThread--body" ng-class="{\'loaded\': vm.questionLoaded, \'col-sm-offset-1\': vm.createMode }"><div class="discussion-card--actions" ng-if="vm.userCanEditQuestion && vm.questionLoaded && !vm.editMode" uib-dropdown dropdown-append-to-body="true"><a uib-dropdown-toggle><un-svg svg-src="images/svg-icons/ellipsis.svg"></un-svg></a><ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="btn-append-to"><li role="menuitem"><a ng-click="vm.goToEditState()">Edit Thread</a></li><li class="divider"></li><li role="menuitem"><a ng-click="vm.showDeleteModal()" class="text-danger">Delete Thread</a></li></ul></div><div class="discussionThread--authorRow" ng-if="!vm.editMode"><gu-short-user-profile user-id="vm.question.author" user-cert-dict="vm.userCertDict" ng-show="!vm.createMode"><span ng-show="!vm.createMode">Asked</span> <span am-time-ago="vm.question.createdTimestamp"></span></gu-short-user-profile></div><div class="form-group"><label ng-if="vm.editMode" class="control-label">Question</label><div>\x3c!-- this div is a hack that fixes some display weirdness in the "create question" mode--\x3e<gu-editor class="discussion-card-text-area" id="questionDetailArea" placeholder="\'Then follow up here with further detail & code.\'" markdown-model="vm.questionMarkdownModel" text-model="vm.questionTextModel" edit-mode="vm.editMode" informational-message="true"></gu-editor></div><small id="desscriptionMissingErrorLabel" class="block text-right text-danger m-sm" ng-show="vm.isDescriptionMissingError">You must enter some descriptive information for your question.</small></div></div><div class="discussionThread--courseSelector" ng-if="vm.createMode && !vm.pageIsScopedToRoom" ng-class="{\'loaded\': vm.questionLoaded}"><div class="form-group"><label for="selectRoom" class="col-sm-1" ng-class="{ \'text-danger\' : vm.isRoomRequiredError, \'text-muted\' : !vm.isRoomRequiredError }">Room:</label><div class="col-sm-11"><ui-select on-select="vm.roomSelected($item, $model)" ng-if="vm.questionLoaded && vm.roomListLoaded" ng-model="vm.question.roomId" ng-show="vm.editMode" id="selectRoom" style="background: #fff" class="w-full" theme="bootstrap" ng-disabled="vm.saveInProgress"><ui-select-match placeholder="Choose the course that this question relates to">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="guruRoom.objectID as guruRoom in vm.rooms | filter:$select.search">{{guruRoom.name}}</ui-select-choices></ui-select><small id="courseMissingErrorLabel" class="pull-right text-danger m-sm" ng-show="vm.isRoomRequiredError">A room is required.</small></div>\x3c!--/.col--\x3e</div>\x3c!--/.form-group--\x3e</div><div class="discussionThread--topicSelector animate-show" ng-class="{\'loaded\': vm.questionLoaded, \'col-sm-offset-1\': vm.createMode }" ng-if="vm.question.roomId && ((vm.editMode && vm.tags.length > 0) || (!vm.editMode && vm.fakeObj.newTags.length > 0))"><div class="form-group"><label ng-if="vm.editMode" class="control-label">Topics</label><ui-select ng-if="vm.questionLoaded && vm.roomLoaded && vm.editMode" ng-model="vm.fakeObj.newTags" ng-disabled="vm.saveInProgress" id="selectTopic" style="background: #fff" class="form-control" multiple theme="bootstrap"><ui-select-match placeholder="Start typing to see more topics">{{$item.tag}}</ui-select-match><ui-select-choices repeat="tag in vm.tags | orderBy:tag.usageCount | filter:$select.search | limitTo:10">{{tag.tag}}</ui-select-choices></ui-select><div ng-if="!vm.editMode" class="discussionThread--tagList"><label class="label label-default m-r-xxs" ng-repeat="tag in vm.fakeObj.newTags">{{tag.tag}}</label></div></div>\x3c!--/.form-group--\x3e</div><div class="discussionThread--footer"><div class="row" ng-if="!vm.editMode"><div class="col col-xs-12 m-b-lg"><button class="btn btn-success m-r-xs" ng-click="vm.scrollToReplyField()" ng-disabled="vm.restrictWriteAccess"><i class="fa fa-pencil"></i> Answer</button><gu-social-share ng-if="!vm.createMode" share-message="\'A Cloud Guru Forums:\'" title="vm.question.title"></gu-social-share></div></div><div class="row"><div class="col-xs-12 text-right m-b-lg"><a rel="nofollow" ui-sref="{{ vm.createMode ? (!vm.pageIsScopedToRoom ? \'forum.landing\' : (\'forum.room.filter({roomUrl: \\\'\' + vm.roomUrl + \'\\\'})\')) : \'forum.room.discussion\'}}" class="btn btn-link" ng-show="vm.editMode && !vm.saveInProgress">Cancel</a> <button id="submitQuestionButton" class="btn btn-success btn__roundRect" ng-disabled="!vm.questionLoaded || vm.saveInProgress" ng-click="vm.saveQuestion()" ng-show="vm.editMode">{{ vm.createMode ? \'Post Question\' : \'Save Changes\'}}</button></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.discussionThread--footer--\x3e<div ng-class="{\'loaded\': vm.questionLoaded}" ng-if="!vm.createMode"><thread-comments ng-if="!vm.restrictWriteAccess" room-id="vm.room.objectID" question-id="vm.questionId" comments="vm.question.comments" user-cert-dict="vm.userCertDict" class="discussion-card-comments"></thread-comments></div></div></div>\x3c!--/.panel--\x3e\x3c!-- Start: Answers Section --\x3e<div class="m-t-xl" ng-hide="vm.createMode || vm.questionNoLongerExists"><div><h3 class="thread-answers-title" ng-show="!vm.answersLoaded">Answers</h3><h3 class="thread-answers-title" ng-show="(vm.answersLoaded && vm.answers && vm.answers.length > 0)">{{ vm.answerCount }} Answer{{vm.answerCount !== 1 ? \'s\' : \'\'}}</h3>\x3c!-- No answer block --\x3e<div class="row"><div class="threadNoAnswer col-xs-offset-2 col-sm-offset-1 col-xs-10 col-sm-11" ng-if="vm.answersLoaded && (!vm.answers || vm.answers.length === 0)"><h3>Waiting for someone to answer this question?</h3><h4>Share this question online to increase its audience.</h4><div><gu-social-share ng-hide="vm.createMode || vm.editMode" share-message="\'A Cloud Guru Forums:\'" title="vm.question.title"></gu-social-share></div></div></div>\x3c!-- Show Answers --\x3e<thread-answer ng-repeat="(key, answer) in vm.answers | notDeleted" room-id="vm.room.objectID" answer-id="answer.$id" question-id="vm.questionId" restrict-write="vm.restrictWriteAccess" is-marked-answer="vm.answerMarkings[answer.$id]" callback-user-participated="vm.onUserParticipationFound" callback-answer-loaded="vm.onAnswerLoaded" user-cert-dict="vm.userCertDict" vote-sum="vm.answerVoteSums[answer.$id]" scroll-to="vm.scrollToAnswer === answer.$id"></thread-answer>\x3c!-- Start: Submit New Answer --\x3e<div ng-if="!vm.restrictWriteAccess" id="submit-answer-container" class="row" ng-show="vm.questionLoaded && !vm.createMode"><div class="submit-answer col-sm-offset-1 col-xs-12 col-sm-11"><div class="submit-answer--body"><h3>Answer this Question</h3><p class="text-muted-lt" ng-show="!vm.userCanWriteAnswer">You must be logged in to answer a question</p><div class="form-group" ng-if="vm.userCanWriteAnswer"><gu-editor id="answerRichText" placeholder="\'Type an answer to this question here...\'" markdown-model="vm.userAnswerMarkdownModel" edit-mode="true" informational-message="true"></gu-editor><small class="pull-right text-danger ng-hide" ng-show="vm.isUserAnswerMissingError" aria-hidden="true">An answer is required.</small></div></div><div class="submit-answer--footer"><button id="submitAnswerButton" class="btn btn-success btn__roundRect" ng-disabled="!vm.userCanWriteAnswer || vm.answerPostInProgress" ng-click="vm.postAnswer()">Answer Question</button></div></div></div>\x3c!-- End: Submit New Answer --\x3e</div></div>\x3c!-- End: Answers Section --\x3e</div>\x3c!--/.fillContent--\x3e</div>\x3c!--/.col--\x3e<div ng-if="!vm.questionNoLongerExists" class="col floatedLayout--colRight forum-sidebar" ng-show="!vm.createMode && !vm.editMode"><div><h3>Related Courses</h3>\x3c!-- Wrap at this level instead of inside component --\x3e<div class="list-item__panelHover m-b-xxl"><div class="list-group"><course-sidebar-block-component ng-repeat="course in vm.relatedCourses" course="course"></course-sidebar-block-component></div></div></div><div><h3>Related Questions</h3>\x3c!-- Wrap at this level instead of inside component --\x3e<div class="list-item__panelHover"><thread-snippet-list-component threads="vm.relatedQuestions"></thread-snippet-list-component></div></div></div>\x3c!--/.col--\x3e</div></div></section>'),a.put("app/forum/threads/thread-list-item.component.html",'<div class="thread-list-item" ui-sref="forum.room.discussion({roomUrl: vm.thread.roomUrl, questionId: vm.thread.objectID, friendlyUrl: vm.titleForUrl})" ng-if="vm.isQuestion"><div class="thread-list-item__answered" ng-show="vm.thread.answerId"><i class="mdi-navigation-check"></i></div><div class="thread-list-item--title"><a rel="nofollow" title="{{vm.entry.title}}" ng-click="$event.stopPropagation();" ui-sref="forum.room.discussion({roomUrl: vm.thread.roomUrl, questionId: vm.thread.objectID, friendlyUrl: vm.titleForUrl})" ng-bind-html="vm.entry.title | strip"></a></div><div class="thread-list-item--description" ng-show="vm.entry.description"><p ng-bind-html="vm.entry.description | strip"></p></div><div class="thread-list-item--metadata"><span class="label label-default"><ng-pluralize count="vm.thread.answerCount" when="{\'0\': \'0 Answers\',\n                \'one\': \'1 Answer\',\n                \'other\': \'{} Answers\'}"></ng-pluralize></span> <span class="label label-default" ng-if="vm.thread.voteSum"><ng-pluralize count="vm.thread.voteSum" when="{\'0\': \'0 Votes\',\n                \'one\': \'1 Vote\',\n                \'other\': \'{} Votes\'}"></ng-pluralize></span> <span ng-if="vm.thread.answerId" class="label label-success p-x-xs"><i class="fa fa-check"></i> 1 Accepted Answer</span> <small>Last post <span am-time-ago="vm.thread.updatedTimestamp"></span></small></div></div>\x3c!--/.thread-list-item--\x3e<div class="thread-list-item" ui-sref="forum.room.discussion({roomUrl: vm.thread.roomUrl, questionId: vm.thread.question, friendlyUrl: vm.titleForUrl, answer: vm.thread.objectID })" ng-if="vm.isAnswer"><div class="thread-list-item--description"><p ng-bind-html="vm.entry.text | strip"></p></div><div class="thread-list-item--link">In answer to question: <a rel="nofollow" ng-click="$event.stopPropagation();" ui-sref="forum.room.discussion({roomUrl: vm.thread.roomUrl, questionId: vm.thread.question, friendlyUrl: vm.titleForUrl, answer: vm.thread.objectID })">{{ vm.thread.questionTitle }}</a></div><div class="thread-list-item--metadata"><div class="row"><div class="col-sm-6">{{vm.thread.voteSum ? vm.thread.voteSum + \' vote\' + (vm.thread.voteSum !== 1 ? \'s\' : \'\') : \'\'}}</div><div class="col-sm-6 text-right"><small>Posted <span am-time-ago="vm.thread.updatedTimestamp"></span></small></div></div></div></div>\x3c!--/.thread-list-item--\x3e'),a.put("app/forum/threads/thread-list.component.html",'<thread-list-item-component ng-repeat="thread in vm.threads track by $index" id="thread.$id" thread="thread"></thread-list-item-component>'),a.put("app/forum/threads/thread-pretty-list.component.html",'<a class="list-item list-item__has-media" target="{{vm.linkTarget}}" ng-repeat="(key, thread) in vm.threads | notDeleted" id="thread.$id" ui-sref="forum.room.discussion({roomUrl: thread.roomUrl, questionId: thread.objectID, friendlyUrl: thread.title })"><img class="img-circle" ng-optimise-image="thread.authorObject.photo" ng-optimise-image-square="42"> <span class="list-item--indent"><h4 class="list-item--heading text-trim">{{thread.title}}</h4><span class="list-item--by-line"><span>{{thread.authorObject.name}}</span><label class="label label-default"><ng-pluralize count="thread.answerCount" when="{\'0\': \'0 Answers\',\n'+"                            'one': '1 Answer',\n                            'other': '{} Answers'}\"></ng-pluralize></label><label class=\"label label-default\"><ng-pluralize count=\"thread.voteSum\" when=\"{'0': '0 Votes',\n                            'one': '1 Vote',\n                            'other': '{} Votes'}\"></ng-pluralize></label></span></span></a>"),a.put("app/forum/threads/thread-snippet-list-item.component.html",'<div class="list-item list-item__panelHover" ng-class="{ \'loaded\': vm.isLoaded, \'list-item__empaneled\': vm.displaySettings.empaneled }" target="{{vm.linkTarget}}" ui-sref="forum.room.discussion({roomUrl: vm.thread.roomUrl, questionId: vm.thread.objectID, friendlyUrl: vm.titleForUrl })" ng-if="!vm.isLoaded || vm.isQuestion"><div class="thread-snippet-list-item-answered" ng-show="vm.thread.answerId"><i class="mdi-navigation-check"></i></div><div class="threadSnippet--threadTitle" ng-class="{\'threadSnippet--threadTitle__darkBg\': vm.displaySettings.darkBg }"><a rel="nofollow" ng-click="$event.stopPropagation()" title="{{vm.entry.title}}" target="{{vm.linkTarget}}" ui-sref="forum.room.discussion({roomUrl: vm.thread.roomUrl, questionId: vm.thread.objectID, friendlyUrl: vm.titleForUrl })" ng-bind-html="vm.entry.title | strip"></a></div><div class="threadSnippet--threadMetadata"><div class="threadSnippet--threadMetadata-profile"><img class="img-circle" ng-show="vm.userProfile.picture" ng-optimise-image="vm.userProfile.picture" ng-optimise-image-square="16"> {{vm.userProfile.displayname}} - <span am-time-ago="vm.thread.updatedTimestamp"></span></div><div class="threadSnippet--threadMetadata-labels"><span class="label label-default">{{vm.thread.answerCount}} answers</span> <span class="label label-default">{{vm.thread.voteSum}} votes</span></div></div></div>\x3c!--/.list-item--\x3e<div class="list-item list-item__panelHover" ng-class="{\'list-item__empaneled\': vm.displaySettings.empaneled }" target="{{vm.linkTarget}}" ui-sref="forum.room.discussion({roomUrl: vm.thread.roomUrl, questionId: vm.thread.question, friendlyUrl: vm.titleForUrl, answer: vm.thread.objectID })" ng-if="vm.isAnswer"><div class="threadSnippet--inAnswerTo">In answer to: <a rel="nofollow" ng-click="$event.stopPropagation()" target="{{vm.linkTarget}}" ui-sref="forum.room.discussion({roomUrl: vm.thread.roomUrl, questionId: vm.thread.question, friendlyUrl: vm.titleForUrl, answer: vm.thread.objectID })" ng-click="$event.stopPropagation()">{{vm.thread.questionTitle}}</a></div><div class="threadSnippet--postContent" ng-class="{\'threadSnippet--postContent__darkBg\': vm.displaySettings.darkBg }">&quot;<span ng-bind-html="vm.entry.text | strip"></span>&quot;</div><div class="threadSnippet--author"><img class="img-circle" ng-show="vm.userProfile.picture" ng-optimise-image="vm.userProfile.picture" ng-optimise-image-square="16"> {{vm.userProfile.displayname}} <span class="threadSnippet--authorAgo" am-time-ago="vm.thread.updatedTimestamp"></span></div></div>'),a.put("app/forum/threads/thread-snippet-list.component.html",'<div class="list-group"><thread-snippet-list-item-component ng-repeat="(key, thread) in vm.threads | notDeleted" id="thread.$id" thread="thread" link-target="vm.linkTarget" display-settings="vm.displaySettings"></thread-snippet-list-item-component></div>'),a.put("app/forum/threads/thread/thread-card.component.html","Thread card"),a.put("app/forum/threads/thread/thread-comment.component.html","Thread comment"),a.put("app/forum/threads/thread/thread.component.html",'<div class="m-t" ng-show="vm.createMode"></div><div class="container">\x3c!--ng-class="{\'container\': !vm.pageIsScopedToCourse}"--\x3e<div class="row"><div ng-class="vm.createMode ? \'col-sm-12 col-md-8 col-md-offset-2\' : \'col-md-8 col-sm-12\'"><a rel="nofollow" ui-sref="app.course.discuss({courseUrl: vm.courseInUrl.url})" ng-if="vm.pageIsScopedToCourse && vm.courseInUrl" class="navigate-back-link"><i class="fa fa-chevron-left"></i> View all {{vm.courseInUrl.title}} discussions</a><div class="card discussion-card"><div class="discussionThread--title" ng-class="{\'loaded\': vm.questionLoaded }"><h2 ng-show="!vm.editMode">{{vm.question.title}}</h2><input type="text" class="form-control" id="title" placeholder="Ask your question in one line here..." ng-disabled="vm.saveInProgress" ng-model="vm.question.title" ng-show="vm.editMode" ng-class="{\'text-danger\': vm.isTitleMissingError}"> <small id="titleMissingErrorLabel" class="pull-right text-danger" ng-show="vm.isTitleMissingError">A question title is required.</small></div><div class="discussionThread--body" ng-class="{\'loaded\': vm.questionLoaded }"><div>\x3c!-- this div is a hack that fixes some display weirdness in the "create question" mode--\x3e<gu-discussion-item-vote-controls id="questionVoteControls" ng-if="!vm.createMode" thread-id="vm.threadId" vote-sum="vm.question.voteSum"></gu-discussion-item-vote-controls><gu-editor class="discussion-card-text-area" id="questionDetailArea" placeholder="\'Then follow up here with further detail.\'" markdown-model="vm.questionMarkdownModel" text-model="vm.questionTextModel" edit-mode="vm.editMode" informational-message="true"></gu-editor></div></div><div class="discussionThread--courseSelector" ng-show="vm.createMode && !vm.pageIsScopedToCourse" ng-class="{\'loaded\': vm.questionLoaded }"><div class="row"><label for="selectCourse" class="col-sm-1" ng-class="{ \'text-danger\' : vm.isCourseRequiredError, \'text-muted\' : !vm.isCourseRequiredError }">Course:</label><div class="col-sm-11"><ui-select on-select="vm.courseSelected($item, $model)" ng-if="vm.questionLoaded && vm.courseListLoaded" ng-model="vm.question.courseId" ng-show="vm.editMode" id="selectCourse" style="background: #fff" class="w-full" theme="bootstrap" ng-disabled="vm.saveInProgress"><ui-select-match placeholder="Choose the course that this question relates to">{{$select.selected.title}}</ui-select-match><ui-select-choices repeat="guruCourse.uniqueid as guruCourse in vm.courses | orderBy:\'title\' | filter:$select.search">{{guruCourse.title}}</ui-select-choices></ui-select><small id="courseMissingErrorLabel" class="pull-right text-danger m-sm" ng-show="vm.isCourseRequiredError">A course is required.</small></div></div></div><div class="discussionThread--topicSelector animate-show" ng-class="{\'loaded\': vm.questionLoaded }" ng-if="vm.question.courseId"><div class="row"><label for="selectTopic" class="col-sm-1" ng-class="{ \'text-danger\' : vm.isTopicRequiredError, \'text-muted\' : !vm.isTopicRequiredError }">Topics:</label><div class="col-sm-11"><ui-select ng-if="vm.questionLoaded && vm.courseLoaded" ng-model="vm.fakeObj.newTags" ng-disabled="!vm.editMode || vm.saveInProgress" id="selectTopic" style="background: #fff" class="w-full" multiple theme="bootstrap"><ui-select-match placeholder="Choose some relevant topics">{{$item}}</ui-select-match><ui-select-choices repeat="tag in vm.relatedCourse.tags | orderBy:\'toString()\' | filter:$select.search">{{tag}}</ui-select-choices></ui-select><small id="topicMissingErrorLabel" class="pull-right text-danger m-sm" ng-show="vm.isTopicRequiredError">At least one topic is required.</small></div></div></div><div class="discussionThread--footer"><gu-short-user-profile user-id="vm.question.author"><span ng-show="!vm.createMode">asked</span> <span am-time-ago="vm.question.createdTimestamp"></span></gu-short-user-profile><div class="pull-right"><gu-social-share ng-if="!vm.createMode && !vm.editMode" share-message="\'A Cloud Guru Forums:\'" title="vm.question.title"></gu-social-share><a rel="nofollow" ui-sref="{{ vm.createMode ? (!vm.pageIsScopedToCourse ? \'discuss\' : \'app.course.discuss\') : \'forum.room.discussion\'}}" class="text-md text-muted m-r-md hidden-xs" style="display: inline-block" ng-show="vm.editMode && !vm.saveInProgress" style="margin-top: 4px">Cancel</a> <button id="submitQuestionButton" class="btn btn-success btn__roundRect" ng-disabled="!vm.questionLoaded || vm.saveInProgress" ng-click="vm.saveQuestion()" ng-show="vm.editMode">{{ vm.createMode ? \'Post Question\' : \'Save Changes\'}}</button> <button class="btn btn-primary btn__roundRect" ng-disabled="!vm.questionLoaded" ng-show="vm.userCanEditQuestion && !vm.editMode" ng-click="vm.goToEditState()">Edit Question</button><br class="hidden-sm hidden-md hidden-lg hidden-xl"><a rel="nofollow" ui-sref="{{ vm.createMode ? (!vm.pageIsScopedToCourse ? \'discuss\' : \'app.course.discuss\') : \'forum.room.discussion\'}}" class="m-t-sm text-md text-muted m-r-md hidden-sm hidden-md hidden-lg hidden-xl" style="display: inline-block" ng-show="vm.editMode && !vm.saveInProgress" style="margin-top: 4px">Cancel</a></div>\x3c!--/.pull-right--\x3e</div>\x3c!--/.discussion-card-footer--\x3e<div ng-class="{\'loaded\': vm.questionLoaded }" ng-if="!vm.createMode"><gu-discussion-item-comments thread-id="vm.threadId" comments="vm.question.comments" class="discussion-card-comments"></gu-discussion-item-comments></div></div>\x3c!-- Start: Code of Conduct Notice --\x3e<div class="text-right text-sm m-r-md m-b-md" ng-show="vm.editMode">By posting, you are agreeing to our <a rel="nofollow" ui-sref="public.codeofconduct">code of conduct.</a></div>\x3c!-- End: Code of Conduct Notice --\x3e\x3c!-- Start: Answers Section --\x3e<div class="m-t-xl" ng-hide="vm.createMode"><h4 class="m-t-lg m-b-lg" ng-show="!vm.answersLoaded || (vm.answersLoaded && vm.answers && vm.answers.length > 0)">Answers</h4>\x3c!-- No answer block --\x3e<div class="threadNoAnswer"><h3 ng-show="vm.answersLoaded && (!vm.answers || vm.answers.length === 0)">Waiting for someone to answer this question?</h3><h4 ng-show="vm.answersLoaded && (!vm.answers || vm.answers.length === 0)">Share this question online to increase its audience.</h4><div ng-show="vm.answersLoaded && (!vm.answers || vm.answers.length === 0)"><gu-social-share ng-hide="vm.createMode || vm.editMode" share-message="\'A Cloud Guru Forums:\'" title="vm.question.title"></gu-social-share></div></div>\x3c!-- Show Answers --\x3e<gu-discussion-item-answer ng-repeat="answer in vm.answers | orderBy:[vm.orderAnswerByMarking, vm.orderAnswerByVoteSum, vm.orderAnswerByDate]" answer-id="answer.$id" thread-id="vm.threadId" is-marked-answer="vm.answerMarkings[answer.$id]" vote-sum="vm.answerVoteSums[answer.$id]" scroll-to="vm.scrollToAnswer === answer.$id"></gu-discussion-item-answer>\x3c!-- Start: Submit New Answer --\x3e<div class="card discussion-answer-card" ng-show="vm.questionLoaded && !vm.createMode"><div class="discussion-answer-card-body"><p class="text-muted-lt" ng-show="!vm.userCanWriteAnswer">You must be logged in to answer a question</p><gu-editor id="answerRichText" ng-if="vm.userCanWriteAnswer" placeholder="\'Type an answer to this question here...\'" markdown-model="vm.userAnswerMarkdownModel" edit-mode="true" informational-message="true"></gu-editor><small class="pull-right text-danger ng-hide" ng-show="vm.isUserAnswerMissingError" aria-hidden="true">An answer is required.</small></div><div class="discussion-answer-card-footer"><button id="submitAnswerButton" class="btn btn-success" ng-disabled="!vm.userCanWriteAnswer || vm.answerPostInProgress" ng-click="vm.postAnswer()">Answer Question</button></div></div>\x3c!-- End: Submit New Answer --\x3e</div></div>\x3c!-- End: Answers Section --\x3e\x3c!-- Start: Related Videos & Quizzes Column --\x3e<div class="col-md-4 col-sm-12" ng-show="!vm.createMode"><h4 class="m-b-md" ng-show="relatedVideos.length > 0" style="height: 18px">Related Lessons</h4><div class="card" ng-repeat="component in relatedVideos = (vm.relatedComponents | filter: { content: {type: \'video\'}} | limitTo:3 ) track by $index"><div class="card-heading b-b p-md">{{component.title}}</div><div class="card-body p-md table-display"><button class="animate-show md-btn md-fab md-raised bg-info m-r table-align-v pull-left" ng-click="$event.stopPropagation()" gu-component-href="component"><i class="mdi-av-play-arrow i-24"></i></button><p class="table-align-v">{{component.description}}</p></div></div><h4 class="m-t-md m-b-md" ng-show="relatedQuizzes.length > 0">Related Quizzes</h4><div class="card" ng-repeat="component in relatedQuizzes = ( vm.relatedComponents | filter: { content: {type: \'quiz\'}} | limitTo:3 ) track by $index"><div class="card-heading b-b p-md">{{component.title}}</div><div class="card-body p-md table-display"><button class="animate-show md-btn md-fab md-raised bg-info m-r table-align-v pull-left" ng-click="$event.stopPropagation()" gu-component-href="component"><i class="mdi-av-play-arrow i-24"></i></button><p class="table-align-v">{{component.description}}</p></div></div></div>\x3c!-- End: Related Videos & Quizzes Column --\x3e</div></div>')}]),function(){"use strict";function a(a,b,c){function d(){a.dismiss("cancel")}function e(){f.isPosting=!0,b.deleteAnswer(f.answerId).then(function(b){if(!b||!b.data||b.data.errorMessage)return a.dismiss(b&&b.data?b.data.errorMessage:null);a.close("success")}).catch(function(b){return a.dismiss(b)})}var f=this;f.isPosting=!1,f.cancel=d,f.deleteAnswer=e,function(){f.answerId=c}()}a.$inject=["$uibModalInstance","forumService","answerId"],angular.module("app.forum").controller("ThreadAnswerDeleteModalController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){q()}function o(a){a.answerId&&q()}function p(){I&&I(),J&&J(),h.cancelOnAuthStateChange(z)}function q(){G.answerId&&(H=b.all([s(),r()]).then(t),z(),h.cancelOnAuthStateChange(z),h.onAuthStateChange(z))}function r(){return G.answerId?f.getAnswer(G.answerId).$loaded(function(a){G.answer=a;var b=m.extractUserIds(a);return G.callbackUserParticipated(b),v(),J=a.$watch(v),a}):b.when({})}function s(){return G.questionId?e.getQuestion(G.questionId).$loaded(function(a){return G.question=a,I=a.$watch(u),a}).then(function(a){return l.getRoomById(a.roomId).then(function(b){b&&(G.answerUrl=e.getFriendlyQuestionUrl(b.url,a,G.answerId,!0))}),a}):b.when({})}function t(){G.answer&&(G.userAnswerMarkdownModel.input=G.answer.text,u(),G.isLoaded=!0,G.callbackAnswerLoaded())}function u(){G.isMarkedAnswer=G.question.answerId===G.answerId}function v(){G.voteSum=G.answer.voteSum}function w(a){return!!h.isReady&&(a.author===g.getUserId()?(G.canMarkAnswer=!0,b.when(!0)):l.hasModeratorRoleInRoom(G.question.roomId,g.getUserId()).then(function(a){return G.canMarkAnswer=a,a}))}function x(a){return!!h.isReady&&(a.author===g.getUserId()?(G.canEditAnswer=!0,b.when(!0)):l.hasModeratorRoleInRoom(G.question.roomId,g.getUserId()).then(function(a){return G.canEditAnswer=a,a}))}function y(){G.answer&&(G.canEditAnswer=x(G.answer),G.canMarkAnswer=w(G.question),G.editMode=G.canEditAnswer&&G.userHasRequestedEditMode)}function z(){H.then(y)}function A(){G.userHasRequestedEditMode=!0,z()}function B(){var a=c.open({templateUrl:"/app/forum/thread/thread-answer-delete-modal.html",controller:"ThreadAnswerDeleteModalController",controllerAs:"vm",resolve:{answerId:function(){return G.answerId}}});a.result.then(function(){d.create("Answer has been deleted")}),a.result.catch(function(){d.create({className:"danger",content:"Sorry, this answer could not be deleted"})})}function C(){G.deleteAnswerPrompt=!1,G.deletingAnswer=!0,m.deleteAnswer(G.answerId).then(function(a){if(!a||!a.data||a.data.errorMessage)return G.deletingAnswer=!1,G.failedToDelete=!0,G.deleteAnswerPrompt=!1,b.reject(a&&a.data?a.data.errorMessage:null);G.deleteAnswerPrompt=!1}).catch(function(a){return G.deletingAnswer=!1,G.deleteAnswerPrompt=!1,b.reject(a)})}function D(){G.userHasRequestedEditMode=!1,z()}function E(){G.canMarkAnswer&&(G.isMarkedAnswer?e.unmarkAnswerToQuestion(G.questionId):e.markAnswerToQuestion(G.questionId,G.answerId))}function F(){G.saveInProgress=!0,f.saveAnswer(G.questionId,G.question,G.answerId,G.answer.author,G.userAnswerMarkdownModel.output).then(function(){G.userAnswerMarkdownModel.input=G.userAnswerMarkdownModel.output,G.stopEditingAnswer(),j.track("Updated Answer",{answerId:G.answerId,questionId:G.questionId}),G.saveInProgress=!1}).catch(function(){G.saveInProgress=!1})}var G=this,H=null,I=null,J=null;G.isLoaded=!1,G.canEditAnswer=!1,G.editMode=!1,G.isMarkedAnswer=!1,G.voteSum=0,G.canMarkAnswer=!1,G.userAnswerMarkdownModel={input:null,output:null},G.saveInProgress=!1,G.userHasRequestedEditMode=!1,G.answerUrl=null,G.saveAnswer=F,G.editAnswer=A,G.deleteAnswer=C,G.markAnswer=E,G.stopEditingAnswer=D,G.showDeleteModal=B,G.question=null,G.answer=null,G.deletingAnswer=null,G.$onInit=n,G.$onChanges=o,G.$onDestroy=p}
a.$inject=["$scope","$q","$uibModal","ngToast","questionService","answerService","authService","guruAuthService","profileService","analyticsService","courseService","roomService","forumService"],angular.module("app.forum").component("threadAnswer",{bindings:{callbackUserParticipated:"=",callbackAnswerLoaded:"=",roomId:"<",answerId:"<",questionId:"<",voteSum:"<",scrollTo:"<",restrictWrite:"<",userCertDict:"<"},controller:a,controllerAs:"vm",templateUrl:"app/forum/thread/thread-answer.html"})}(),function(){"use strict";function a(){return{scope:{comments:"=",roomId:"=",questionId:"=",answerId:"=",userCertDict:"<"},controller:b,controllerAs:"vm",templateUrl:"app/forum/thread/thread-comments.html",bindToController:!0}}function b(a,b,c,d,e,f,g,h){function i(){c.cancelOnAuthStateChange(k)}function j(){h.hasLoaded.promise.then(function(a){h.data.public&&(r.userAvatar=h.data.public.picture)})}function k(){r.userCanAddComment=c.isReady(),j(),m(),l()}function l(){e.isMember().then(function(a){r.isMember=a})}function m(){o().then(function(a){r.userCanEditComments=a})}function n(){var a={text:r.newCommentText,author:d.getUserId()};r.questionId?f.addCommentToQuestion(r.questionId,a):r.answerId&&g.addCommentToAnswer(r.answerId,a),r.newCommentText=null}function o(){var a=d.getUserId();return r.roomId&&a?e.isModeratorForRoom(a,r.roomId).then(function(b){return!!b||e.isModerator(a)}):b.when(!1)}function p(a){var b=d.getUserId();return a.author===b}function q(a,b){if(!b.author===d.getUserId()&&!r.userCanEditComments)return console.error("The current user does not have permission to delete this comment");r.questionId?f.deleteCommentToQuestion(r.questionId,a):r.answerId&&g.deleteCommentToAnswer(r.answerId,a)}var r=this;r.userCanAddComment=!1,r.userCanEditComments=!1,r.newCommentText=null,r.isMember=null,r.postComment=n,r.deleteComment=q,r.canEditComment=p,r.login=d.signIn,a.$on("$destroy",i),function(){k(),c.onAuthStateChange(k)}(),a.$watch(function(){return r.roomId},m)}b.$inject=["$scope","$q","guruAuthService","authService","roleService","questionService","answerService","profileService"],angular.module("app.forum").directive("threadComments",a)}(),function(){"use strict";function a(a,b,c){function d(){a.dismiss("cancel")}function e(){f.isPosting=!0,b.deleteThread(f.questionId).then(function(b){if(!b||!b.data||b.data.errorMessage)return a.dismiss(b&&b.data?b.data.errorMessage:null);a.close("success")}).catch(function(b){return a.dismiss(b)})}var f=this;f.isPosting=!1,f.cancel=d,f.deleteThread=e,function(){f.questionId=c}()}a.$inject=["$uibModalInstance","forumService","questionId"],angular.module("app.forum").controller("ThreadDeleteModalController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){}function i(){}function j(){c.path(k.componentUrl)}var k=this;k.terms=g,k.goToComponent=j,k.$onInit=i,k.$onChanges=h}a.$inject=["$scope","$window","$location","publicProfileService","forumService","tagService","courseTermsService"],angular.module("app.forum").component("threadLinkedComponent",{templateUrl:"app/forum/thread/thread-linked-component.component.html",controller:a,controllerAs:"vm",bindings:{showThumbnails:"<",componentLoaded:"<",component:"<",componentUrl:"<",label:"<"}})}(),function(){"use strict";function a(a,b,c,d,e){function f(){i(),b.onAuthStateChange(i)}function g(){k()}function h(){b.cancelOnAuthStateChange(i),n&&n()}function i(){m.userVoteLoaded=!1,m.userCanVoteDown=!1,m.userCanVoteUp=!1,b.isReady()&&k()}function j(a){return a.$value||0}function k(){if(b.isReady()&&(m.questionId||m.answerId)){var a=null;m.isAnswer?m.answerId&&(a=e.getUserVotesForAnswer(c.getUserId(),m.answerId)):a=d.getUserVotesForQuestion(c.getUserId(),m.questionId),a&&(n=a.$watch(function(){m.userCanVoteUp=j(a)<1,m.userCanVoteDown=j(a)>-1}),a.$loaded(function(){m.userVoteLoaded=!0}))}}function l(a){!m.userVoteLoaded||m.userVoteInProgress||1===a&&!m.userCanVoteUp||-1===a&&!m.userCanVoteDown||(m.userVoteInProgress=!0,m.answerId?e.voteForAnswer(m.questionId,m.answerId,a,function(){m.userVoteInProgress=!1,k()}):d.voteForQuestion(m.questionId,a,function(){m.userVoteInProgress=!1,k()}))}var m=this,n=null;m.userVoteLoaded=!1,m.userCanVoteDown=!1,m.userCanVoteUp=!1,m.userVoteInProgress=!1,m.entityName=m.answerId?"answer":m.questionId?"question":null,m.submitVote=l,m.$onInit=f,m.$onChanges=g,m.$onDestroy=h}a.$inject=["$scope","guruAuthService","authService","questionService","answerService"],angular.module("app.forum").component("threadVoteControls",{bindings:{voteSum:"<",questionId:"<",answerId:"<",isAnswer:"<",restrictWrite:"<"},controller:a,controllerAs:"vm",templateUrl:"app/forum/thread/thread-vote-controls.html"})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F){function G(){return na.isScopedToRoom=!!na.roomUrl&&"all"!==na.roomUrl,na.isScopedToRoom?y.getRoomByUrl(na.roomUrl).then(function(a){na.room=a,na.roomLoaded=!0,na.room.linkedCourseId&&ra(na.room.linkedCourseId)}):(na.room=null,f.when(null))}function H(){return z.getActiveTagSelectArray().then(function(a){na.tags=a}).catch(function(a){console.log("Error fetching tags",a)})}function I(){n.cancelOnAuthStateChange(P)}function J(){pa=G().then(Y).then(aa).then(Z),pa.then(ga).then(ha)}function K(a){var b="",c="",d=na.courseForRoom,e=d?" - AWS Course: "+d.title:D.meta.titleSuffix;if(na.createMode?(b="Get expert advice on our AWS discussion forums"+(d?" about "+d.title:""),c="Our forums are a hive of AWS activity, full of engineers helping each other learn AWS and prepare for certification exams."):(na.editMode&&(b+="Editing: "),b+=a.title?a.title:"",na.scrollToAnswerEntity?c=v.stripHtml(x.makeHtml(na.scrollToAnswerEntity.text)):a.description&&(c=v.stripHtml(x.makeHtml(a.description)))),d){var f=C.getOGUrl(d.artworkKey);i.setTag("og:image",f)}i.setTitle(b,e),i.setTag("og:title",b),i.setTag("description",c),i.setTag("og:description",c)}function L(){if(c.tags){(c.tags instanceof Array?c.tags:[c.tags]).forEach(function(a){z.getActiveTagById(a).then(function(a){oa[a.objectID]=!0})})}}function M(){c.backUrl?e.path(decodeURIComponent(c.backUrl)):window.history.back()}function N(a){return!!a&&(!!n.isReady&&(!!na.createMode||(a.author===o.getUserId()?(na.userCanEditQuestion=!0,f.when(!0)):y.hasModeratorRoleInRoom(na.question.roomId,o.getUserId()).then(function(a){return na.userCanEditQuestion=a,a}))))}function O(a){return N(a),na.editMode=na.createMode||na.userCanEditQuestion&&b.current.data.editMode,na.userCanWriteAnswer=n.isReady(),a}function P(){pa.then(O).then(Q).then(K)}function Q(a){return na.scrollToAnswer?s.getAnswer(na.scrollToAnswer).$loaded().then(function(b){return na.scrollToAnswerEntity=b,a}):a}function R(){na.isTitleMissingError=!1,na.isDescriptionMissingError=!1,na.isRoomRequiredError=!1;var a=!1;if(na.question.title||(na.isTitleMissingError=!0,a=!0),na.questionMarkdownModel.output||(na.isDescriptionMissingError=!0,a=!0),na.question.roomId||(na.isRoomRequiredError=!0,a=!0),!a){na.component=c.component,na.saveInProgress=!0,na.pageIsScopedToRoom||V(),na.question.description=na.questionMarkdownModel.output;var b=na.question;y.getRoomById(b.roomId).then(function(a){r.saveQuestion(b,na.oldTags).then(function(c){return U(b.tags),T(na.question.tags).then(function(d){return w.track("Saved Question",{roomId:b.roomId,questionId:na.question.$id,tags:d.join()}),J(),na.saveInProgress=!1,S(a,c.questionId)})}).catch(function(){na.saveInProgress=!1})})}}function S(a,c){a.url?b.go("forum.room.discussion",{questionId:c,roomUrl:a.url},{location:"replace"}):console.log("Not implemented")}function T(a){var b=[];return qa.then(function(){for(var c in a)j.find(na.tags,function(a){if(a.objectID===c)return b.push(a),!0});return b})}function U(a){a||(a={}),na.oldTags=v.clone(a.$value?a.$value:a),T(a.$value?a.$value:a).then(function(a){na.fakeObj.newTags=a})}function V(){if(na.questionLoaded){na.question.tags={};for(var a=0;a<na.fakeObj.newTags.length;a++)na.question.tags[na.fakeObj.newTags[a].objectID]=!0}}function W(a){p.getCourseById(a.linkedCourseId).then(function(a){na.relatedCourse=a}),na.roomLoaded=!0}function X(){y.getRooms().then(function(a){na.rooms=a,na.roomListLoaded=!0})}function Y(){return na.room&&na.room.linkedCourseId?A.getCourseById(na.room.linkedCourseId).then(function(a){return null===a?na.pageIsScopedToRoom=!1:na.courseForRoom=a,a}):(na.courseForRoom=null,f.when(null))}function Z(a){if(na.questionNoLongerExists=!!a.isDeleted,!na.questionNoLongerExists){if(a.$id){var b=s.getAnswersFor(a.$id);b.$loaded(function(){na.answers=b,na.answersLoaded=!0,na.answerCount=0,angular.forEach(b,function(c,d){a.answerId===c.$id&&(b[d].isAnswer=!0),!0!==c.isDeleted&&na.answerCount++})})}else na.answers=[],na.answersLoaded=!0,a.componentId=c.component;U(a.tags),a.tags||(a.tags=[]),na.author=m.getProfileObjectFor(a.author),na.questionMarkdownModel.input=a.description,na.question=a,na.questionLoaded=!0;var d=B.extractUserIds(a);return na.onUserParticipationFound(d),a.componentId?q.getComponent(na.relatedCourse.url,a.componentId).then(function(a){return na.linkedComponent=a,a?q.getComponentUrl(na.relatedCourse.url,a).then(function(a){na.linkedComponentUrl=a,na.linkedComponentLoaded=!0}):(na.linkedComponentLoaded=!0,na.linkedComponentUrl=null,f.when(null))}):(na.linkedComponentLoaded=!0,na.linkedComponent=null,na.linkedComponentUrl=null),f.when(a)}}function $(a){return{title:c.question,author:o.getUserId(),answers:[],tags:oa,selectedAnswer:null,roomId:a?a.objectID:null}}function _(){var a=l.open({templateUrl:"/app/forum/thread/thread-delete-modal.html",controller:"ThreadDeleteModalController",controllerAs:"vm",resolve:{questionId:function(){return na.questionId}}});a.result.then(function(){k.create("Thread has been deleted"),c.fromState.abstract?b.go("forum.room",{roomUrl:na.roomUrl},{location:"replace",reload:!0}):b.go(c.fromState,c.fromParams,{location:"replace",reload:!0})}),a.result.catch(function(){k.create({className:"danger",content:"Sorry, this thread could not be deleted"})})}function aa(){return na.relatedCourse=na.courseForRoom,na.createMode?f.when($(na.room)):r.getQuestion(na.questionId).$loaded(function(a){return a})}function ba(){b.go("forum.room.discussion.edit",null,{location:"replace"})}function ca(a){return!na.answerMarkings[a.$id]}function da(a){return void 0!==na.answerVoteSums[a.$id]?0-na.answerVoteSums[a.$id]:0}function ea(a){return 0-a.updatedTimestamp}function fa(){if(na.questionLoaded){if(null===na.userAnswerMarkdownModel.output||""===na.userAnswerMarkdownModel.output)return void(na.isUserAnswerMissingError=!0);na.isUserAnswerMissingError=!1,na.answerPostInProgress=!0,s.saveAnswer(na.questionId,na.question,null,o.getUserId(),na.userAnswerMarkdownModel.output).then(function(){return na.userAnswerMarkdownModel.input="",na.answerPostInProgress=!1,T(na.question.tags).then(function(a){w.track("Submitted Answer",{questionId:na.questionId,tags:a.join()})})}).catch(function(){na.answerPostInProgress=!1})}}function ga(a){return a?r.findRelatedQuestions(a,5).then(function(a){return na.relatedQuestions=a,a}):f.when([])}function ha(){return y.findRelatedRooms(na.room,3,!0).then(function(a){na.relatedCourses=[],a.forEach(function(a){A.getCourseById(a.linkedCourseId).then(function(a){na.relatedCourses.push(a)})})})}function ia(){var a=angular.element(document.getElementById("submit-answer-container"));g.scrollToElement(a,0,300),h(function(){a.find(".gu-editor-textarea").focus()},350)}function ja(a){j.forEach(a,function(a,b){na.participatingUsers[a]=!0}),ka()}function ka(){if(na.questionLoaded&&na.answers.length===na.answerLoadedCount){var a=j.keys(na.participatingUsers);u.updateDictionaryForIds(a).then(function(a){na.userCertDict=a})}}function la(){na.answerLoadedCount++,ka()}function ma(a){F.storeForumVisit(a)}var na=this,oa=[],pa=null,qa=null,ra=j.once(ma);na.roomUrl=c.roomUrl,na.isScopedToRoom=!1,na.questionId=c.questionId,na.pageIsScopedToRoom=!!na.roomUrl&&"all"!==na.roomUrl,na.questionLoaded=!1,na.answersLoaded=!1,na.answerLoadedCount=0,na.author=null,na.question=null,na.answers=[],na.createMode=!!b.current.data.createMode,na.editMode=!1,na.userCanEditQuestion=!1,na.userCanWriteAnswer=!1,na.relatedComponents=[],na.isTitleMissingError=!1,na.isDescriptionMissingError=!1,na.isRoomRequiredError=!1,na.roomLoaded=!1,na.roomListLoaded=!1,na.isUserAnswerMissingError=!1,na.userAnswerMarkdownModel={input:null,output:null},na.canGoBack=!!c.backUrl||history.length>1,na.questionMarkdownModel={input:null,output:null},na.scrollToReplyField=ia,na.scrollToAnswer=c.answer,na.scrollToAnswerEntity=null,na.saveInProgress=!1,na.answerPostInProgress=!1,na.linkedComponent=null,na.linkedComponentLoaded=!1,na.linkedComponentUrl=null,na.relatedCourse=null,na.userCertDict=null,na.questionEditText="",na.answerMarkings={},na.fakeObj={newTags:[]},na.participatingUsers={},na.goBack=M,na.roomSelected=W,na.saveTags=U,na.saveQuestion=R,na.goToEditState=ba,na.orderAnswerByMarking=ca,na.orderAnswerByVoteSum=da,na.orderAnswerByDate=ea,na.postAnswer=fa,na.showDeleteModal=_,na.onUserParticipationFound=ja,na.onAnswerLoaded=la,a.$watchCollection("vm.fakeObj.newTags",V,!0),a.$on("$destroy",I),a.$on("$stateChangeSuccess",P),function(){qa=H(),L(),X(),J(),E.userForumIsRestricted().then(function(a){na.restrictWriteAccess=a}),P(),n.onAuthStateChange(P)}()}a.$inject=["$scope","$state","$stateParams","$window","$location","$q","$document","$timeout","ngMeta","lodash","ngToast","$uibModal","publicProfileService","guruAuthService","authService","courseService","courseComponentService","questionService","answerService","certificationService","certificationUserDictionaryService","utilsService","analyticsService","markdownConverter","roomService","tagService","courseMetadataService","forumService","artworkService","appConfig","organisationService","recommendationStorageService"],angular.module("app.forum").controller("forumThreadController",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){l.isQuestion="question"===l.thread.type,l.isAnswer="answer"===l.thread.type,l.isLoaded=!!l.thread.objectID,l.titleForUrl=l.thread.title?e.makeUrlHumanReadable(l.thread.title):"",i(),j(l.thread.author)}function h(){l.entry={},l.isQuestion="question"===l.thread.type,l.target=null,l.thread.voteSum>0&&(l.showVotes=!0),l.thread.tags&&(l.showTags=!0),i(),j(l.thread.author)}function i(){l.entry={},l.thread._snippetResult?(l.thread._snippetResult.title&&(l.entry.title=l.thread._snippetResult.title.value),l.thread._snippetResult.description&&(l.entry.description=l.thread._snippetResult.description.value),l.thread._snippetResult.text&&(l.entry.text=l.thread._snippetResult.text.value)):(l.entry.title=l.thread.title,l.entry.text=l.thread.text,l.entry.description=l.thread.description)}function j(a){return l.loadingUserProfile=!0,d.getProfileObjectFor(a).then(function(a){l.userProfile=a,l.loadingUserProfile=!1}).catch(function(){l.userProfile=null})}function k(a){a&&a.preventDefault(),l.target?b.open(l.friendlyUrl,l.target):c.url(l.friendlyUrl)}var l=this;l.isQuestion=!1,l.isAnswer=!1,l.isLoaded=!1,l.$onInit=h,l.$onChanges=g,l.getTag=f.getActiveTagById,l.goToQuestion=k}a.$inject=["$scope","$window","$location","publicProfileService","forumService","tagService"],angular.module("app.forum").component("threadListItemComponent",{templateUrl:"app/forum/threads/thread-list-item.component.html",controller:a,controllerAs:"vm",bindings:{thread:"<",linkTarget:"<"}}).component("threadSnippetListItemComponent",{templateUrl:"app/forum/threads/thread-snippet-list-item.component.html",controller:a,controllerAs:"vm",bindings:{thread:"<",linkTarget:"<",displaySettings:"<"}})}(),function(){"use strict";function a(a){function b(){c()}function c(){a.getActiveTags().then(function(a){d.tagsReference=a})}var d=this;d.$onInit=b}a.$inject=["tagService"],angular.module("app.forum").component("threadListComponent",{templateUrl:"app/forum/threads/thread-list.component.html",controller:a,controllerAs:"vm",bindings:{threads:"<",linkTarget:"<"}}).component("threadSnippetListComponent",{templateUrl:"app/forum/threads/thread-snippet-list.component.html",controller:a,controllerAs:"vm",bindings:{threads:"<",linkTarget:"<",displaySettings:"<"}})}(),function(){"use strict";function a(a,b,c){function d(){angular.forEach(e.threads,function(a,b){c.getProfileObjectFor(a.author).then(function(a){e.threads[b].authorObject={name:a.displayname,photo:a.picture}})})}var e=this;!function(){d()}()}a.$inject=["$scope","$q","publicProfileService"],angular.module("app.forum").component("threadPrettyList",{templateUrl:"app/forum/threads/thread-pretty-list.component.html",controller:a,controllerAs:"vm",bindings:{threads:"<",linkTarget:"<"}})}(),function(){"use strict";function a(){function a(){console.log("Thread Card Component")}this.$onInit=a}angular.module("app.forum").component("threadCardComponent",{templateUrl:"app/forum/threads/thread/thread-card.component.html",controller:a,controllerAs:"vm",bindings:{isQuestion:"<",entity:"<"}})}(),function(){"use strict";function a(a){function b(){console.log("threadCommentComponent")}this.$onInit=b}a.$inject=["forumService"],angular.module("app.forum").component("threadCommentComponent",{templateUrl:"app/forum/threads/thread/thread-comment.component.html",controller:a,controllerAs:"vm",bindings:{comment:"<"}})}(),function(){"use strict";function a(a){function b(){console.log(g.roomId),c(),d()}function c(){a.fetchThreadQuestion(g.roomId,g.threadId,e)}function d(){a.fetchAndWatchThreadAnswers(g.threadId,f)}function e(a){g.question=a,g.questionLoaded=!0}function f(a){g.answers=a,g.answersLoaded=!0}var g=this;g.$onInit=b,g.question={}}a.$inject=["forumService"],angular.module("app.forum").component("threadComponent",{templateUrl:"app/forum/threads/thread/thread.component.html",controller:a,controllerAs:"vm",bindings:{roomId:"<",threadId:"<",answerId:"<"}})}(),function(){"use strict";angular.module("app.migrate",["app.core","app.core.brand"])}(),function(){"use strict";function a(a){this.successUrl=a.successUrl}a.$inject=["$stateParams"],angular.module("app.migrate").controller("ConvertPlatformIntroductionController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(){p.tabGroups=[{id:"email",title:"Udemy Order Confirmation Email",verificationFailed:!1,verificationProcessing:!1,purchaseDetails:{name:null,price:null}},{id:"website",title:"Udemy Purchase History",verificationFailed:!1,verificationProcessing:!1,purchaseDetails:{name:null,price:null}},{id:"support",title:"Support"}],p.tabGroupsById=_.keyBy(p.tabGroups,"id"),p.activeTab=p.tabGroupsById[q]}function l(){k(),p.courseToMigrate=null,p.verificationSuccess=!1}function m(a,c){if(!c.verificationProcessing&&a){c.verificationProcessing=!0;var e=p.courseToMigrate.acgCourseId,f=c.purchaseDetails.name,h=parseFloat(c.purchaseDetails.price),i={name:f,courseId:e,price:h};return g.sendQuery("query VerifyPurchase($name: String!, $price: Float!, $courseId: String!) {   verifyExternalPurchase(name: $name, price: $price, courseId: $courseId) {       isVerified   }}",i).then(function(a){var c=a.data.verifyExternalPurchase;if(!c||!c.isVerified)return b.reject();d.track("verified-external-purchase",{course:e,price:h,name:f}),d.track("verified-external-purchase-"+e,{price:h,name:f}),j.clearCache(),p.verificationSuccess=!0}).catch(function(){c.verificationFailed=!0,d.track("failed-external-purchase-verification",{course:e,price:h,name:f}),o()}).finally(function(){c.verificationProcessing=!1})}}function n(){f.successUrl?$location.url(f.successUrl):e.go("dashboard")}function o(){$("html, body").animate({scrollTop:$(document).height()},1e3)}var p=this,q=f.receiptType;p.verificationSuccess=!1,p.isLoaded=!1,p.coursesAvailableForMigration=[],p.courseToMigrate=null,p.tabGroups=null,p.tabGroupsById=null,p.verifyPurchase=m,p.finishMigration=n,p.verifyAnother=l,function(){k(),d.track("convert-platform-offer"),i.getCoursesForMigration().then(function(a){p.coursesAvailableForMigration=a,p.isLoaded=!0})}()}a.$inject=["$scope","$q","courseService","analyticsService","$state","$stateParams","graphqlService","appConfig","udemyMigrationService","currentUserAccessService"],angular.module("app.migrate").controller("ConvertPlatformVerifyController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){d.getAccessibleCourseIds().then(function(b){if(f.filter(b,function(a){return 0!==a.indexOf("$")}).length>0)return void k();a.isAccessLoading=!1})}function j(){h.cancelOnReady(i)}function k(){c.track("registration-complete"),b.go("courses")}a.isAccessLoading=!0,a.noMigration=k,a.directLoadFromMenu=!!g.direct,a.$on("$destroy",j),function(){if(a.directLoadFromMenu)return void(a.isAccessLoading=!1);h.onReady(i)}()}a.$inject=["$scope","$state","analyticsService","currentUserAccessService","authService","lodash","$stateParams","guruAuthService"],angular.module("app.migrate").controller("ConvertPlatformController",a)}(),function(){"use strict";function a(a,c){c.configureStates(b(a,c.load))}function b(a,b){return[{state:"public.migrate",config:{url:"/migrate?successUrl&direct",templateUrl:"app/migrate/convert-platform.html",data:{logoutState:"home",loginCategory:"convert",mustLogin:!0},meta:{title:"Recognise External Purchases","og:title":"Recognise External Purchases"},controller:"ConvertPlatformController"}},{state:"public.migrate-introduction",config:{url:"/migrate/introduction?successUrl",templateUrl:"app/migrate/convert-platform-introduction.html",data:{logoutState:"home",loginCategory:"convert",mustLogin:!0},meta:{title:"Recognise External Purchases","og:title":"Recognise External Purchases"},controller:"ConvertPlatformIntroductionController",controllerAs:"vm"}},{state:"public.migrate-start",config:{url:"/migrate/verify?{receiptType}&{successUrl}",templateUrl:"app/migrate/convert-platform-start.html",data:{logoutState:"home",loginCategory:"convert",mustLogin:!0},meta:{title:"Recognise External Purchases","og:title":"Recognise External Purchases"},controller:"ConvertPlatformVerifyController",controllerAs:"vm"}}]}a.$inject=["appConfig","routerHelper"],angular.module("app.migrate").run(a)}(),angular.module("app.migrate").run(["$templateCache",function(a){"use strict";a.put("app/migrate/convert-platform-introduction.html",'<div class="udemy-migrate-introduction container"><div class="simplePage--header"><a href="/"><img src="/images/logo-orange-and-white.png" alt="A Cloud Guru Logo (small)"></a></div><div class="row"><div class="col col-sm-10 col-sm-push-1"><div class="panel panel-default m-t-lg p-a-lg"><div class="row"><div class="col-sm-8 col-sm-push-2"><div class="card-heading text-center"><h1 class="text-lg">We are going to need the following information from your Udemy purchase</h1></div><div class="card-heading text-center"><h4>Course, Purchaser Name and Price Paid</h4></div><hr class="micro micro__center"><div class="info-area m-t-lg m-b-lg"><h2 class="list-group-item-heading text-center m-b-md text-md">How do I find this information?</h2><div class="list-group"><a ui-sref="public.migrate-start({receiptType: \'email\', successUrl: vm.successUrl})" class="list-group-item"><div class="row"><div class="col-sm-2 information-icon"><un-svg svg-src="images/svg-icons/global-email.svg"></un-svg></div><div class="col-sm-8"><h4 class="list-group-item-heading">Udemy Order Confirmation Email</h4><p class="list-group-item-text">You can find your order confirmation by searching your emails for <strong>@email.udemy.com</strong></p></div><div class="col-sm-2"><div class="center-arrow"><i class="fa fa-angle-right" aria-hidden="true"></i></div></div></div></a> <a ui-sref="public.migrate-start({receiptType: \'website\', successUrl: vm.successUrl})" class="list-group-item"><div class="row"><div class="col-sm-2 information-icon"><un-svg svg-src="images/svg-icons/global-dollar.svg"></un-svg></div><div class="col-sm-8"><h4 class="list-group-item-heading">Udemy Website\'s Purchase History</h4><p class="list-group-item-text">Cannot find the email? You can also get these details on the purchase history page on Udemy\'s website</p></div><div class="col-sm-2"><div class="center-arrow"><i class="fa fa-angle-right" aria-hidden="true"></i></div></div></div></a> <a ui-sref="public.migrate-start({receiptType: \'support\', successUrl: vm.successUrl})" class="list-group-item"><div class="row"><div class="col-sm-2 information-icon"><un-svg svg-src="images/svg-icons/user-bubble.svg"></un-svg></div><div class="col-sm-8"><h4 class="list-group-item-heading">Support</h4><p class="list-group-item-text">Not working? Cannot find your reciept or access your account? Support might be able to help</p></div><div class="col-sm-2"><div class="center-arrow"><i class="fa fa-angle-right" aria-hidden="true"></i></div></div></div></a></div></div></div></div></div></div></div></div>'),
a.put("app/migrate/convert-platform-start.html",'<div class="udemy-migration container"><div class="simplePage--header"><a href="/"><img src="/images/logo-orange-and-white.png" alt="A Cloud Guru Logo (small)"></a></div><div class="row"><div class="col col-md-10 col-md-push-1"><div ng-if="vm.verificationSuccess" class="panel panel-default m-t-lg p-a-lg"><div class="panel-heading"><h1>We have verified your purchase!</h1><h3>You can now access this course.</h3></div><div class="panel-body"><div>Some of our courses are available on other learning platforms. If you have purchased elsewhere, we\'ll recognise that purchase and give you access to same course here for no additional charge.</div><div class="m-t-lg text-center"><button class="btn btn-link btn-lg" ng-click="vm.verifyAnother()">Verify Another Purchase</button> <button class="btn btn-success btn__roundRect btn-lg" ng-click="vm.finishMigration()">Continue</button></div><div class="text-center m-t-lg"></div></div></div><div ng-show="!vm.verificationSuccess" class="p-t-lg"><div class="text-white m-b-lg text-center"><h2 class="t__on-dark">OK, we just need some details.</h2></div><div class="panel panel-default m-t-lg p-a-lg"><div class="row"><div class="col-sm-10"><ul class="nav nav-tabs"><li ng-repeat="tab in vm.tabGroups track by $index" role="presentation" ng-class="{ active: vm.tabGroups[$index] === vm.activeTab }" ng-click="vm.activeTab = vm.tabGroups[$index]"><a href="#">{{ tab.title }}</a></li></ul></div></div><div class="receipt row" id="scrollable-area"><div class="col-xs-12">\x3c!-- Start: Email Order Confirmation --\x3e<form ng-submit="vm.verifyPurchase(vm.courseToMigrate, vm.activeTab)" name="emailConfirmation" class="receipt-udemy" ng-if="vm.activeTab.id === \'email\'">\x3c!-- Start: Instructions --\x3e<div class="row m-t-md m-b-md"><div class="col-xs-12"><h1 class="m-b-md">Instructions</h1><p class="m-b-lg">You can find your order confirmation by searching for emails ending in <strong>@email.udemy.com</strong></p><p class="m-b-lg">When you purchased the course from Udemy you would have recieved <strong>two emails</strong>. Use the email that looks most similar to the one below to fill out the missing information. Once completed, you can then click the verify button.</p><div class="row"><div class="instructions col-sm-10 col-sm-push-1"><div class="instructions-row"><div class="instructions-col instructions-col-number"><div class="number-circle number-circle__todo">1</div></div><div class="instructions-col instructions-col-information"><p>Select the course you wish to migrate, if you have multiple courses you wish to migrate you can complete this process again. If it is not included in the dropdown list then we do not support migrating this course</p></div></div><div class="instructions-row"><div class="instructions-col instructions-col-number"><div class="number-circle number-circle__todo">2</div></div><div class="instructions-col instructions-col-information"><p>Enter the <strong>EXACT</strong> amount as shown on the receipt, you do not need to include the currency symbol</p></div></div><div class="instructions-row"><div class="instructions-col instructions-col-number"><div class="number-circle number-circle__todo">3</div></div><div class="instructions-col instructions-col-information"><p>Enter the <strong>EXACT</strong> name that as shown on the receipt</p></div></div></div></div></div></div>\x3c!-- End: Instructions --\x3e<div class="m-t-lg"><hr class="micro micro__center"></div>\x3c!-- START: Order Confirmation Form --\x3e<div class="row"><div class="col-md-12"><h1 class="udemy-green udemy-header">udemy</h1></div></div><div class="order-confirmation row"><div class="col-md-12"><span>Order Confirmation</span></div></div><div class="order-content row"><div class="col-md-12"><div class="product-card"><div class="image"></div><div class="description"><div class="course-title-row"><div class="form-group m-b-0 pos-rel" ng-required="true"><ui-select style="background: #fff" name="courseToMigrate" ng-model="vm.courseToMigrate" theme="bootstrap"><ui-select-match placeholder="Course to Migrate">{{ $select.selected.udemyCourseTitle }}</ui-select-match><ui-select-choices repeat="course in vm.coursesAvailableForMigration | orderBy:\'udemyCourseTitle\' | filter:$select.search">{{ course.udemyCourseTitle }}</ui-select-choices></ui-select><div class="number-circle number-circle__abs" ng-class="{\'number-circle__todo\': !vm.courseToMigrate, \'number-circle__tick\': vm.courseToMigrate}"><span ng-if="!vm.courseToMigrate">1</span> <i class="fa fa-check" ng-if="vm.courseToMigrate"></i></div></div></div><div class="course-data-row"><div class="flex-row rating"><i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <span class="placeholder-text">10000</span></div><div class="flex-row students"><i class="fa fa-user" aria-hidden="true"></i> <span class="placeholder-text m-l">150000</span></div><div class="flex-row price"><div class="input-group m-b-0"><span class="input-group-addon">$/£/€</span> <input name="price" placeholder="Paid Amount" type="number" min="0" step="0.01" class="form-control" ng-model="vm.activeTab.purchaseDetails.price" required><div class="number-circle number-circle__abs" ng-class="{\'number-circle__todo\': !vm.activeTab.purchaseDetails.price, \'number-circle__tick\': vm.activeTab.purchaseDetails.price}"><span ng-if="!vm.activeTab.purchaseDetails.price">2</span> <i class="fa fa-check" ng-if="vm.activeTab.purchaseDetails.price"></i></div></div></div></div><div class="author-start-row"><div class="flex-row author-start-row-col"><p class="placeholder-text">Ryan Kroonenburg</p></div><div class="flex-row author-start-row-col"><p class="placeholder-text">Start Course</p></div></div></div></div><div class="purchase-details"><div class="row"><div class="purchased-by col-md-5 m-t-lg"><p class=""><strong>Purchased By:</strong></p><div class="input-group"><span class="input-group-addon">Name:</span> <input name="name" placeholder="Name on Receipt" type="text" class="form-control" ng-model="vm.activeTab.purchaseDetails.name" required><div class="number-circle number-circle__abs" ng-class="{\'number-circle__todo\': !vm.activeTab.purchaseDetails.name, \'number-circle__tick\': vm.activeTab.purchaseDetails.name}"><span ng-if="!vm.activeTab.purchaseDetails.name">3</span> <i class="fa fa-check" ng-if="vm.activeTab.purchaseDetails.name"></i></div></div><p class="m-t-xs"><strong>Email:</strong> <span class="placeholder-text">sample-email@acloud.guru</span></p><p><strong>Purchase Date:</strong> <span class="placeholder-text">2017-07-30 02:32:43.0</span></p></div><div class="col-md-5 col-md-push-1 m-t-lg"><p><strong>Sold By:</strong></p><p><strong class="placeholder-text">Udemy, Inc.</strong></p><p class="placeholder-text">600 Harrison Street, 3rd Floor</p><p class="placeholder-text">San Francisco, CA 94107 USA</p></div></div></div></div></div>\x3c!-- END: Confirmation Form --\x3e<div class="m-t-lg"><hr class="micro micro__center"></div><div class="row"><div class="col-xs-12"><div class="verification-information" ng-show="vm.activeTab.verificationFailed"><h4>We were unable to verify your purchase with this information.</h4><p>You must enter <strong>EXACTLY</strong> the same values as on your receipt. If you are sure that they are correct, you can try and verify your details with the <strong>Udemy Purchase History</strong> method Please note, our systems can take up to an hour after purchase on Udemy before being able to verify your purchase on our platform. If possible, please try again later.</p></div><div class="action-area m-t-lg text-center"><button type="submit" ng-class="{\'btn-success\': !vm.activeTab.verificationFailed, \'btn-warning\': vm.activeTab.verificationFailed }" class="btn btn__roundRect btn-xl"><span ng-if="!vm.activeTab.verificationProcessing">{{ !vm.activeTab.verificationFailed ? \'Verify Purchase\' : \'Try Verify Again\' }}</span> <span ng-if="vm.activeTab.verificationProcessing"><i class="fa fa-refresh fa-spin"></i> Verifying</span></button> <span ng-if="vm.activeTab.verificationFailed"><span class="m-l-md m-r-md">or try a different method</span> <button ng-click="vm.activeTab = vm.tabGroupsById.website" class="btn btn-primary btn__roundRect btn-xl">Udemy Purchase History <i class="fa fa-angle-right"></i></button></span></div></div></div></form>\x3c!-- End: Email Order Confirmation --\x3e\x3c!-- Start: Udemy Website --\x3e<form ng-submit="vm.verifyPurchase(vm.courseToMigrate, vm.activeTab)" class="receipt-website" name="websiteReceipt" ng-if="vm.activeTab.id === \'website\'">\x3c!-- Start: Instructions --\x3e<div class="row m-t-md m-b-md"><div class="col-xs-12"><h1 class="m-b-md">Instructions</h1><div class="row m-b-md"><div class="col-xs-1"><div class="number-circle number-circle__todo">1</div></div><div class="col-xs-11"><p>Go to <a target="_blank" href="https://www.udemy.com/dashboard/purchase-history/">your purchase history</a> on Udemy</p></div></div><div class="row m-b-lg"><div class="col-xs-1"><div class="number-circle number-circle__todo">2</div></div><div class="col-xs-11"><p>Find the item in your history that matches the course that you wish to migrate and click the <button class="btn btn-xs receipt-button">Receipt</button> button</p></div></div><div class="row"><div class="col-xs-12"><h4 class="m-b-lg text-center">Use the following page receipt to fill out the missing information in the form below</h4><img src="/images/udemy-product-images/udemy-website.png" alt=""></div></div></div></div>\x3c!-- End: Instructions --\x3e<div class="row m-b-md"><div class="col-xs-1"><div class="number-circle" ng-class="{\'number-circle__todo\': !vm.courseToMigrate, \'number-circle__tick\': vm.courseToMigrate}"><span ng-if="!vm.courseToMigrate">3</span> <i class="fa fa-check" ng-if="vm.courseToMigrate"></i></div></div><div class="col-xs-11"><div class="input-group"><span class="input-group-addon">Course Migrated:</span><ui-select style="background: #fff" reset-search-input="false" ng-model="vm.courseToMigrate" theme="bootstrap"><ui-select-match placeholder="The course that is being migrated">{{ $select.selected.udemyCourseTitle }}</ui-select-match><ui-select-choices repeat="course in vm.coursesAvailableForMigration | orderBy:\'udemyCourseTitle\' | filter:$select.search">{{ course.udemyCourseTitle }}</ui-select-choices></ui-select></div></div></div><div class="row m-b-md"><div class="col-xs-1"><div class="number-circle" ng-class="{\'number-circle__todo\': !vm.activeTab.purchaseDetails.name, \'number-circle__tick\': vm.activeTab.purchaseDetails.name}"><span ng-if="!vm.activeTab.purchaseDetails.name">4</span> <i class="fa fa-check" ng-if="vm.activeTab.purchaseDetails.name"></i></div></div><div class="col-xs-11"><div class="input-group"><span class="input-group-addon">Billed To:</span> <input placeholder="Name on the receipt" type="text" class="form-control" ng-model="vm.activeTab.purchaseDetails.name" required></div></div></div><div class="row m-b-lg"><div class="col-xs-1"><div class="number-circle" ng-class="{\'number-circle__todo\': !vm.activeTab.purchaseDetails.price, \'number-circle__tick\': vm.activeTab.purchaseDetails.price}"><span ng-if="!vm.activeTab.purchaseDetails.price">5</span> <i class="fa fa-check" ng-if="vm.activeTab.purchaseDetails.price"></i></div></div><div class="col-xs-11"><div class="input-group"><span class="input-group-addon">Course Price:</span> <input placeholder="Amount paid" type="number" class="form-control" min="0" step="0.01" ng-model="vm.activeTab.purchaseDetails.price" required></div><span class="help-block m-b-none">Enter the <strong>number only</strong>, not the currency symbol.</span></div></div><div class="row"><div class="col-12-sm"><div class="verification-information" ng-show="vm.activeTab.verificationFailed"><h4>We were unable to verify your purchase with this information.</h4><p>You must enter <strong>EXACTLY</strong> the same values as on your receipt. If you are sure that they are correct, you can try again or contact support for manual verification Please note, our systems can take up to an hour after purchase on Udemy before being able to verify your purchase on our platform. If possible, please try again later.</p></div><div class="action-area m-t-lg text-center"><button type="submit" ng-class="{\'btn-success\': !vm.activeTab.verificationFailed, \'btn-warning\': vm.activeTab.verificationFailed }" class="btn btn__roundRect btn-xl"><span ng-if="!vm.activeTab.verificationProcessing">{{ !vm.activeTab.verificationFailed ? \'Verify Purchase\' : \'Try Verify Again\' }}</span> <span ng-if="vm.activeTab.verificationProcessing"><i class="fa fa-refresh fa-spin"></i> Verifying</span></button> <span ng-if="vm.activeTab.verificationFailed"><span class="m-l-md m-r-md">or</span> <button ng-click="vm.activeTab = vm.tabGroupsById.support" class="btn btn-primary btn__roundRect btn-xl">Contact support <i class="fa fa-angle-right"></i></button></span></div></div></div></form>\x3c!-- End: Udemy Website --\x3e\x3c!-- Start: Contact Support --\x3e<div class="receipt-support" ng-if="vm.activeTab.id === \'support\'"><div class="instructions row m-t-md m-b-md"><div class="col-sm-12"><h1 class="m-b-md">Contact Support</h1><p>If you cannot automatically verify your purchase using the <strong>Udemy Order Confirmation Email</strong> or the <strong>Udemy Purchase History</strong> methods, then you can contact support for a manual confirmation.</p><p>Please note, our systems can take up to an hour after purchase on Udemy before being able to verify your purchase on our platform. If possible, please try again later.</p></div></div><div class="row"><div class="col-sm-6 p-md"><h3>Support Form</h3><p>Please send us your proof of purchase using our <a href="https://help.acloud.guru/hc/en-us/requests/new?">Support Form</a></p></div></div><div class="action-area m-t-lg text-center"><button type="submit" ui-sref="dashboard" class="btn btn-success btn__roundRect btn-xl"><span>Back to Website</span></button></div></div>\x3c!-- End: Contact Support --\x3e</div></div></div></div></div></div></div>'),a.put("app/migrate/convert-platform.html",'<div class="container"><div class="simplePage--header"><a href="/"><img src="/images/logo-orange-and-white.png" alt="A Cloud Guru Logo (small)"></a></div><div class="row"><div class="col col-sm-6 col-sm-push-3"><div class="panel panel-default m-t-lg p-a-lg"><div ng-show="isAccessLoading" class="m-t text-center text-white text-md"><i class="fa fa-refresh fa-spin"></i></div><div ng-show="!isAccessLoading" class="text-center"><div><div class="card-heading"><h1 class="text-lg">Have You Purchased Our Courses Elsewhere?</h1></div><div class="panel-body">Some of our courses are available on other learning platforms. If you have purchased elsewhere, we\'ll recognise that purchase and give you access to same course here for no additional charge.</div><div class="card-divider m-b-lg"></div><button class="m-l m-b btn btn-outline btn-info btn__roundRect" ng-click="noMigration()">No</button> <button class="btn btn-success m-b btn__roundRect" ui-sref="public.migrate-introduction({successUrl: $stateParams.successUrl})">Yes</button></div></div></div></div></div></div>')}]),function(){"use strict";angular.module("app.members",["app.core"])}(),function(){"use strict";function a(a){!function(){a.refreshToken()}()}a.$inject=["refreshTokenService"],angular.module("app.members").controller("MembersAlreadyMemberController",a)}(),function(){"use strict";function a(a,b,c,d){function e(a){a.$valid&&(i.sending=!0,h(f(),g(),i.extraComments,i.otherReason).then(function(a){i.feedbackProvided=!0,d.refreshToken()}).finally(function(){i.sending=!1}))}function f(){return i.cancelReasons.reduce(function(a,b){return b.selected&&a.push(b.code),a},[])}function g(){return i.showCompetitors?i.competitors.reduce(function(a,b){return b.selected&&a.push(b.value),a},[]):[]}function h(a,b,d,e){return c.sendQuery("mutation($subscriptionId: String!, $reasonsForLeaving: [String!]!, $competitors: [String!], $extraComments: String, $otherReason: String) {   updateUnsubscribeReason(subscriptionId: $subscriptionId, reasonsForLeaving: $reasonsForLeaving, competitors: $competitors, extraComments: $extraComments, otherReason: $otherReason) {       success   }}",{subscriptionId:i.subscriptionId,reasonsForLeaving:a,competitors:b,extraComments:d,otherReason:e})}var i=this;i.subscriptionId=b.subscriptionId,i.feedbackProvided=!1,i.reasonList=[],i.extraComments="",i.showOtherReason=!1,i.otherReason="",i.cancelReasons=[{code:"completed_courses",text:"I finished all the courses I wanted to complete",selected:!1},{code:"completed_certifications",text:"I got certified and no longer need this",selected:!1},{code:"price_sensitive",text:"The cost is too high at the moment",selected:!1},{code:"chose_competitor",text:"I found an alternative I like better",selected:!1},{code:"quality_content",text:"The content quality was less than expected",selected:!1},{code:"quality_ux",text:"The ease of use was less than expected",selected:!1},{code:"quality_support",text:"The customer service was less than expected",selected:!1},{code:"no_time_join_later",text:"I don't have time right now and will join again later",selected:!1},{code:"other",text:"Other",selected:!1}],i.showCompetitors=!1,i.competitors=[{text:"CBTNuggets",value:"cbtnuggets",selected:!1},{text:"CloudAcademy",value:"cloud_academy",selected:!1},{text:"LinuxAcademy",value:"linux_academy",selected:!1},{text:"Pluralsight",value:"pluralsight",selected:!1},{text:"Qwiklabs",value:"qwiklabs",selected:!1},{text:"Udemy",value:"udemy",selected:!1},{text:"Other",value:"other",selected:!1}],i.formSubmit=e,function(){a.$watch("vm.cancelReasons",function(){i.showCompetitors=-1!==f().indexOf("chose_competitor"),i.showOtherReason=-1!==f().indexOf("other")},!0)}()}a.$inject=["$scope","$stateParams","graphqlService","refreshTokenService"],angular.module("app.members").controller("MembersCancelSuccessController",a)}(),function(){"use strict";function a(a,b,c,d){function e(){console.log("form submitted"),f().then(function(b){c.refreshToken(),b.success?a.go("members.cancelled",{subscriptionId:b.subscriptionId}):g.cancelError=!0}).catch(function(){g.cancelError=!0})}function f(){return b.sendQuery("mutation {   unsubscribeUser {      success, subscriptionId   }}",{}).then(function(a){return a.data.unsubscribeUser?a.data.unsubscribeUser:{success:!1}})}var g=this;g.cancelError=!1,g.formSubmit=e}a.$inject=["$state","graphqlService","refreshTokenService","$http"],angular.module("app.members").controller("MembersCancelController",a)}(),function(){"use strict";function a(a,b,c,d){function e(){c.cancelOnReady(f),c.cancelOnNotReady(g)}function f(){return d.sendQuery("                query getUserSubscriptionHistory {                    getUserSubscriptionHistory {                        status,                     }                }            ").then(function(a){var c=a.data.getUserSubscriptionHistory||[],d=b.find(c,function(a){var b=a.status.toLowerCase();return"active"===b||"past due"===b||"pending"===b});h.showBanner=d&&"past due"===d.status.toLowerCase()})}function g(){h.showBanner=!1}var h=this;h.showBanner=!1,a.$on("$destroy",e),function(){c.onReady(f),c.onNotReady(g)}()}a.$inject=["$scope","lodash","guruAuthService","graphqlService"],angular.module("app.members").component("guBannerPaymentOverdue",{controller:a,controllerAs:"vm",templateUrl:"app/members/components/gu-banner-payment-overdue.component.html",bindings:{}})}(),function(){"use strict";function a(a){function b(){a.close("success")}var c=this;c.close=b,c.videoSrc="https://public.acloud.guru/marketing/founders-welcome-2-720p.mp4",c.videoPosterImage="/images/checkout/video-poster.jpg"}a.$inject=["$uibModalInstance"],angular.module("app.members").controller("FoundersWelcomeModalController",a)}(),function(){"use strict";function a(a,b){function c(){g.addressSet=e(g.buyerAddress)}function d(){g.editing=!0}function e(b){return a.reduce(b,function(a,b){return a||!!b},!1)}var f,g=this;g.editing=!1,g.editDetails=d,g.$onChanges=c,function(){f=b.find("input"),f.bind("focus blur change paste",function(){g.onDetailsChanged({buyer:g.buyer,buyerAddress:g.buyerAddress})}),g.addressSet=e(g.buyerAddress)}()}a.$inject=["lodash","$element"],angular.module("app.members").component("guMembershipBillingDetails",{controller:a,controllerAs:"vm",templateUrl:"app/members/components/gu-membership-billing-details.component.html",bindings:{buyer:"<",buyerAddress:"<",onDetailsChanged:"&"}})}(),function(){"use strict";function a(a,b,c,d){function e(){m(),f()}function f(){!o.vatApplicable||o.isValidatingVat||o.vatFocused||!o.vatNumber?(o.showVatValidMessage=!1,o.showVatErrorMessage=!1,o.errors.vat=!1):(o.showVatValidMessage=!!o.isValidVat,o.showVatErrorMessage=!o.isValidVat,o.errors.vat=o.showVatErrorMessage)}function g(){o.currency=o.selectedCountry?o.selectedCountry.currency[0]:null}function h(a){m(),o.vatNumber?d.validateVATNumber(o.vatNumber,o.selectedCountry.code).then(function(b){b.data.validateVATNumber.valid?(o.errors.vat=!1,i(a)):o.errors.vat=!0}):i(a)}function i(a){c.setNonce(a.nonce),o.callback(a)}function j(){o.vatFocused=!0}function k(){o.vatFocused=!1,o.callbackVat(o.vatNumber)}function l(){m(),g(),o.callbackCountry(o.selectedCountry)}function m(){o.selectedCountry&&(o.showSelfDeclaration=o.detectedCountry.countryCode!==o.selectedCountry.code)}function n(a){o.errors.paymentMethod=a}var o=this;o.vatSelfDeclaration=!1,o.errors={vat:!1,paymentMethod:!1},o.$onChanges=e,o.choosePaymentMethod=h,o.onCountryChange=l,o.onVatNumberBlur=k,o.onVatNumberFocus=j,o.onPaymentMethodCallback=n,function(){m(),g()}()}a.$inject=["$state","$q","braintreeNonceService","taxService"],angular.module("app.members").component("guMembershipPaymentDetails",{controller:a,controllerAs:"vm",templateUrl:"app/members/components/gu-membership-payment-details.component.html",bindings:{callbackCountry:"=",callbackVat:"=",callback:"=",countries:"<",vatApplicable:"<",vatNumber:"<",selectedCountry:"=",detectedCountry:"<",isValidatingVat:"<",isValidVat:"<",cta:"<"}})}(),function(){"use strict";function a(a){function b(){c.callbackPlan(c.selectedPlan),a.go(".",{paymentType:c.selectedPlan},{notify:!1})}var c=this;c.valueChanged=b}a.$inject=["$state"],angular.module("app.members").component("guMembershipPlanSelector",{controller:a,controllerAs:"vm",templateUrl:"app/members/components/gu-membership-plan-selector.component.html",bindings:{callbackPlan:"=",selectedPlan:"<",pricingData:"<",currencySymbol:"<",currencyCode:"<"}})}(),function(){"use strict";function a(a){}a.$inject=["$state"],angular.module("app.members").component("guMembershipPriceSummary",{controller:a,controllerAs:"vm",templateUrl:"app/members/components/gu-membership-price-summary.component.html",bindings:{selectedPlan:"<",selectedPlanData:"<",totalPrice:"<",vatDiscount:"<",isCalculating:"<",currencyCode:"<",currencySymbol:"<"}})}(),function(){"use strict";function a(a){function b(){a.dismiss("cancel")}function c(){a.close("success")}var d=this;d.cancel=b,d.confirm=c}a.$inject=["$uibModalInstance"],angular.module("app.members").controller("MembershipSignoutModalController",a)}(),function(){"use strict";function a(a,b,c){function d(){c.set("memberSignin",!0),b.signIn(!1)}function e(){a.open({templateUrl:"/app/members/components/gu-membership-signout-modal.html",controller:"MembershipSignoutModalController",controllerAs:"vm"}).result.then(function(){b.signOut()})}function f(){b.signIn(!0)}var g=this;g.login=d,g.logout=e,g.signUp=f}a.$inject=["$uibModal","authService","localStorageService"],angular.module("app.members").component("guMembershipUserSelector",{controller:a,controllerAs:"vm",templateUrl:"app/members/components/gu-membership-user-selector.component.html",bindings:{user:"<"}})}(),function(){"use strict";function a(){}angular.module("app.members").component("guTrialPeriodText",{controller:a,controllerAs:"vm",templateUrl:"app/members/components/gu-trial-period-text.component.html",bindings:{unit:"<",duration:"<",period:"<"}})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(){return b.isAuthenticated()?c.getProfile().then(function(a){return n.user=a,n.userProfileError=!1,a}).catch(function(){n.userProfileError=!0}).then(k).finally(function(){n.profileLoaded=!0}):(n.user=null,void(n.profileLoaded=!0))}function k(){return d.isMember().then(function(a){return n.isMember=a,a})}function l(){e.getLocationInfo().then(function(a){return a}).then(function(a){return f.getPricingObject(a.currencyCode,n.promotionId,n.token)}).then(function(a){n.membershipPricing=a})}function m(){a.close()}var n=this;n.dismissModalCallback=m,function(){n.paymentType=g,n.promotionId=h,n.token=i,j(),l()}()}a.$inject=["$uibModalInstance","authService","profileService","roleService","locationDetectionService","membershipPricingService","paymentType","promotionId","token"],angular.module("app.members").controller("GuWhyJoinModalController",a)}(),function(){"use strict";function a(a,b){function c(){var c={route:"members.join.signup",params:a};b.signIn(!0,c)}function d(){var c={route:"members.join.signup",params:a};b.signIn(!1,c)}var e=this;e.signUp=c,e.login=d}a.$inject=["$stateParams","authService"],angular.module("app.members").component("guWhyJoinUser",{controller:a,controllerAs:"vm",templateUrl:"app/members/components/gu-why-join-user.component.html",bindings:{user:"=",paymentType:"=",promotionId:"=",token:"=",membershipPricing:"<",dismissModal:"<"}})}(),function(){"use strict";function a(){}angular.module("app.members").component("subscriptionPlanCard",{controller:a,controllerAs:"vm",templateUrl:"app/subscriptions/components/plan-card.html",bindings:{selected:"<",currencySymbol:"<",valueProp:"@",price:"<",name:"<",savings:"<",cta:"@"}})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(a){switch(a){case"monthly":return"monthly";case"annual":return"annually";default:return a}}function m(){var a=o.details.plan.pricing,b=a.price;a.promotion&&"discount"===a.promotion.type&&(b-=a.promotion.amount),o.totalPriceWithDiscount=b,o.details.vat.applicable&&o.details.vat.valid&&(b-=o.details.vat.discount),o.totalPrice=b}function n(){var b=h.getNonce();if(b){var f={planType:o.details.plan.type,currency:o.details.country.currencyCode,price:o.totalPrice,promotionId:o.details.promotionId,promotionToken:o.details.promotionToken,nonce:b,country:o.details.country.countryCode,selfDeclared:null,vatNumber:o.details.vat.number,billingContact:o.details.billingContact,trial:o.details.trial};o.subscribing=!0,i.sendQuery("mutation subscribeUser($subscription: SubscriptionInput!) {subscribeUser(subscription: $subscription) {result, subscriptionId,friendlyError,code}}",{subscription:f}).then(function(b){var f=b.data.subscribeUser;if("success"===f.result){if(j.clear(),f.subscriptionId){var g=c.getObject("utm_data"),h={subscriptionId:f.subscriptionId,user_id:e.getUserId()};g&&(h.utm_source=g.utm_source||null,h.utm_medium=g.utm_medium||null,h.utm_campaign=g.utm_campaign||null,h.utm_term=g.utm_term||null,h.utm_content=g.utm_content||null),k.track("Membership started",h)}a.go("members.success")}else{if(!f.friendlyError)return d.reject("Expected friendly error");o.errorMessage=f.friendlyError,o.errorCode=f.code,o.emailSubject="[Checkout Error]",o.emailBody="ADD ADDITIONAL COMMENTS OR INFORMATION ON THIS LINE\n\nDO NOT CHANGE ANY OF THE INFORMATION BELOW THIS LINE\nError: "+o.friendlyError+"\n",o.errorCode&&(o.emailSubject+="["+o.errorCode+"]",o.emailBody+="Code: "+o.errorCode)}o.subscribing=!1}).catch(function(a){a.errors&&a.errors[0]?o.errorMessage=a.errors[0].message:o.errorMessage="There was an error creating your subscription",o.subscribing=!1}).finally(function(){h.removeNonce(),o.subscribing=!1})}}var o=this;o.subscribe=n,o.subscribing=!1,o.errorMessage=null,o.errorCode=null,function(){b.id&&(o.details=g.readCheckoutState(b.id),o.friendlyPlanType=l(o.details.plan.type),o.user=f.getStoredProfile(),o.backLink=a.href("members.join.signup",{id:b.id}),o.trialDetails=o.details.trial?g.getTrialDisplayDetails(o.details.trial):null,o.cta=o.details.promotionId?"Confirm":"Become a Member",m())}()}a.$inject=["$state","$stateParams","$cookies","$q","authService","auth0ProfileService","membershipPricingService","braintreeNonceService","graphqlService","cartService","analyticsService"],angular.module("app.members").controller("MembersJoinConfirmationController",a)}(),function(){"use strict";function a(a,b){function c(b){var c=e.indexOf(b),d=e.indexOf(a.current.name.replace("members.join.",""));return c===d?"current":c<d?"completed":null}var d=this,e=["signup","payment","confirmation"];d.isLoggedIn=!1,d.getWizardClass=c}a.$inject=["$state","authService"],angular.module("app.members").controller("MembersJoinLayoutController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l){function m(){h.cancelOnReady(n),h.cancelOnNotReady(o)}function n(){r(),q()}function o(){r(),q()}function p(){return E.isRestoredCheckoutState=!1,t(E.detectedCountry.countryCode),E.selectedPlan=c.paymentType||"annual",d.when()}function q(){if(E.isPricingLoaded=!1,!E.selectedCountry||!g.isAuthenticated()||!E.selectedCountry.currency)return E.isPricingLoaded=!0,E.membershipPricing=null,void s();var a=l.getSupportedCurrency(E.selectedCountry.currency[0]);k.getPricingObject(a,E.promotionId,E.promotionToken).then(function(a){E.membershipPricing=a,E.trialDetails=a.trial?k.getTrialDisplayDetails(a.trial):null,s(),x(),v()}).finally(function(){E.isPricingLoaded=!0})}function r(){return E.isUserProfileLoaded=!1,E.user=null,g.isAuthenticated()?i.getProfile().then(function(a){E.user=a,E.isRestoredCheckoutState||(E.buyer={name:a.name,email:a.email}),E.isUserProfileLoaded=!0}):(E.isUserProfileLoaded=!0,E.buyer={},d.resolve())}function s(){if(!E.membershipPricing)return E.checkoutCta="Review Membership",void(E.showFoundersMessage=!1);var a=E.membershipPricing.promotionId;E.checkoutCta=a?"Redeem Offer":"Review Membership",E.showFoundersMessage="membership-beta-promotion"===a||"black-friday"===a}function t(a){E.selectedCountry=e.find(E.countries,{code:a}),y(E.selectedCountry)}function u(a){var b=k.readCheckoutState(a);return b?(E.isRestoredCheckoutState=!0,E.promotionId=b.promotionId,E.promotionToken=b.promotionToken,E.selectedPlan=b.plan.type,E.selectedCountry={countryCode:b.country.countryCode,currencyCode:b.country.currencyCode},E.vatNumber=b.vat.applicable?b.vat.number:null,E.buyer={name:b.billingContact.name,email:b.billingContact.email},E.buyerAddress={street:b.billingContact.street,city:b.billingContact.city,region:b.billingContact.region,postCode:b.billingContact.postCode},E.userInputBuyer=e.clone(E.buyer),E.userInputBuyerAddress=e.clone(E.buyerAddress),t(E.selectedCountry.countryCode),E.vatNumber?w():d.when()):p()}function v(){var a=l.getSupportedCurrency(E.selectedCountry.currency[0]);return j.calculateTax(a,E.selectedCountry.code,E.totalPriceWithDiscount,E.vatNumber).then(function(a){var b=a.data.calculateTax;E.vatDiscount=b.taxDeductedAmount,E.totalPrice=b.total,E.isCalculating=!1})}function w(){var a=d.defer();return E.isValidatingVat=!0,E.vatNumber?j.validateVATNumber(E.vatNumber,E.selectedCountry.code).then(function(b){E.isValidVat=b.data.validateVATNumber.valid,E.isValidatingVat=!1,a.resolve()}).catch(function(){E.isValidVat=!1,E.isValidatingVat=!1,a.resolve()}):(E.isValidatingVat=!1,a.resolve()),a.promise}function x(){var a=E.membershipPricing[E.selectedPlan],b=a.price;a.promotion&&"discount"===a.promotion.type&&(b-=a.promotion.amount),E.totalPriceWithDiscount=b}function y(a){a&&a.tax_region&&"EU"===a.tax_region?E.vatApplicable=!0:E.vatApplicable=!1}function z(a){
var c=E.userInputBuyer.name||E.buyer.name,d=E.userInputBuyer.email||E.buyer.email,e={promotionId:E.membershipPricing.promotionId,promotionToken:E.promotionToken,plan:{type:E.selectedPlan,pricing:E.membershipPricing[E.selectedPlan]},trial:E.membershipPricing.trial,billingContact:{name:c,email:d,street:E.userInputBuyerAddress.street,city:E.userInputBuyerAddress.city,region:E.userInputBuyerAddress.region,postCode:E.userInputBuyerAddress.postCode},payment:{type:a.type,none:a.nonce,details:a.details},country:{name:E.selectedCountry.name,countryCode:E.selectedCountry.cca2,currencyCode:E.membershipPricing.currencyCode,currencySymbol:E.membershipPricing.currencySymbol},vat:{applicable:E.vatApplicable,valid:E.isValidVat,discount:E.vatDiscount,number:E.vatNumber}};e.vat.applicable||delete e.vat.number;var f=k.storeCheckoutState(e);b.go("members.join.confirmation",{id:f})}function A(a){E.isCalculating=!0,E.selectedPlan=a,x(),v()}function B(a){E.isCalculating=!0,y(a),E.selectedCountry=a,E.vatApplicable&&E.vatNumber?w().then(q):(E.vatNumber=null,q())}function C(a){E.isCalculating=!0,E.vatNumber=a,w().then(v)}function D(a,b){E.userInputBuyer=e.assign({},a),E.userInputBuyerAddress=e.assign({},b)}var E=this;E.user=null,E.isPricingLoaded=!1,E.isUserProfileLoaded=!1,E.countries=[],E.countryCode="",E.selectedCountry={},E.detectedCountry={},E.vatNumber=null,E.vatApplicable=null,E.isRestoredCheckoutState=!1,E.promotionId=c.promotionId||null,E.promotionToken=c.token||null,E.membershipPricing=null,E.buyer={},E.buyerAddress={},E.userInputBuyer={},E.userInputBuyerAddress={},E.selfDeclaration={},E.navigateToConfirm=z,E.onPlanChange=A,E.onCountryChange=B,E.onVatChange=C,E.onBillingDetailsChanged=D,a.$on("$destroy",m),function(){d.all([j.getCountries(),l.getLocationInfo()]).then(function(a){E.countries=a[0],E.detectedCountry.loaded=!0,E.detectedCountry.countryCode=a[1].userCountryCode,E.detectedCountry.currencyCode=a[1].currencyCode,E.detectedCountry.currencySymbol=a[1].currencySymbol,(c.id?u(c.id):p()).then(q)}),h.onReady(n),h.onNotReady(o),h.isNotReady()&&o()}()}a.$inject=["$scope","$state","$stateParams","$q","lodash","moment","authService","guruAuthService","profileService","taxService","membershipPricingService","locationDetectionService"],angular.module("app.members").controller("MembersJoinSignUpController",a)}(),function(){"use strict";function a(){}angular.module("app.members").controller("MembersLayoutController",a)}(),function(){"use strict";function a(a,c){a.configureStates(b(c,a.load))}function b(a,b){return[{state:"members",config:{url:"/members",templateUrl:"app/members/layout.html",controller:"MembersLayoutController",controllerAs:"vm",abstract:!0,data:{logoutState:"home",cssClass:"page__membershipCheckout"}}},{state:"members.cancel",config:{url:"/leave",templateUrl:"app/members/cancel.html",controller:"MembersCancelController",meta:{title:"Cancel your Membership",description:"We're sorry to see you go",mustLogin:!0}}},{state:"members.cancelled",config:{url:"/left?subscriptionId",templateUrl:"app/members/cancel-success.html",controller:"MembersCancelSuccessController",meta:{title:"Cancelled Membership",description:"We're sorry to see you go",mustLogin:!0}}},{state:"members.join",config:{url:"/join",templateUrl:"app/members/join/layout.html",controller:"MembersJoinLayoutController",controllerAs:"vm",abstract:!0,data:{loginCategory:"membership-signup"},meta:{title:"Join the A Cloud Guru family",description:""}}},{state:"members.join.signup",config:{url:"/signup?planId&paymentType&id&promotionId&token",templateUrl:"app/members/join/signup.html",controller:"MembersJoinSignUpController",meta:{title:"Become a Cloud Pro",description:"Master the Cloud by going Pro"},resolve:{isMember:c()}}},{state:"members.join.confirmation",config:{url:"/confirm?id",templateUrl:"app/members/join/confirmation.html",controller:"MembersJoinConfirmationController",meta:{title:"Become a Cloud Pro",description:"Master the Cloud by going Pro"},resolve:{isMember:c(),isAuthenticated:d("members.join.signup")}}},{state:"members.success",config:{url:"/success",templateUrl:"app/members/success.html",controller:"MembersSuccessController",controllerAs:"vm",data:{loginCategory:"membership-signup"},meta:{title:"Become a Cloud Pro",description:"Master the Cloud by going Pro"},resolve:{isAuthenticated:d("become-a-member-standard")}}},{state:"members.already-member",config:{url:"/get-started",templateUrl:"app/members/already-member.html",controller:"MembersAlreadyMemberController",controllerAs:"vm",data:{loginCategory:"membership-signup"},meta:{title:"You're Already a Member!",description:"You're Already a Member!"},resolve:{isAuthenticated:d("become-a-member-standard")}}},{state:"why-join",config:{url:"/why-join?paymentType&promotionId&token",redirectTo:"become-a-member-standard"}}]}function c(){return["$timeout","$state","roleService",function(a,b,c){return c.isMember().then(function(c){return c&&a(function(){b.go("members.already-member",null,{location:"replace"})}),c})}]}function d(a){return["$timeout","$state","authService",function(b,c,d){var e=d.isAuthenticated();return e||b(function(){c.go(a,null,{location:"replace"})}),e}]}a.$inject=["routerHelper","appConfig"],angular.module("app.members").run(a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){n={}}function h(b,c,e,f){var g={currency:b,promotionId:c,token:e},h=l(g);return n[h]&&!f?a.when(n[h]):d.sendQuery("query GetAvailablePlans($currency: String!, $promotionId: String, $token: String) {                    getAvailablePlans(currency: $currency, promotionId: $promotionId, token: $token) {                        currencyCode,                        currencySymbol,                        promotionId,                        promotionExpiry                        trial { duration, unit }                        annual {                            name, price,                            discount { amount, billingCycles }                        },                        monthly {                            name, price,                            discount { amount, billingCycles }                        }                    }                }",g,!0).then(function(a){var b=a.data.getAvailablePlans,c=b.annual.discount,d=c?c.amount:0,e=b.monthly.discount,f=e?e.amount:0,g=b.annual.price-d,i=b.monthly.price-f,j=12*b.monthly.price,k=Math.floor(100*(1-g/j)),l=Math.floor(100*(1-i/b.monthly.price)),m={currencySymbol:b.currencySymbol,currencyCode:b.currencyCode,promotionId:b.promotionId,promotionExpiry:b.promotionExpiry,trial:b.trial,annual:{discounted:!!c,discount:c,discountPercent:k,regularPrice:b.annual.price,price:g},monthly:{discounted:!!e,discount:e,discountPercent:l,regularPrice:b.monthly.price,price:i}};return n[h]=m,m})}function i(a){var c=b.makeGuid();return f.setWithExpiry(m+c,a,1,null),c}function j(a){return f.getWithoutExpiry(m+a)}function k(a){var b=moment(),c="";switch(a.unit){case"day":c="days",b.add(a.duration,"days");break;case"month":c="months",b.add(a.duration,"months")}return{duration:a.duration,unit:a.unit,period:a.duration+" "+c,paymentDue:b.valueOf()}}function l(a){return b.convertToHash(JSON.stringify(a))}var m="membershipCheckout.state.",n={},o={getPricingObject:h,storeCheckoutState:i,readCheckoutState:j,getTrialDisplayDetails:k};return function(){c.onReady(g),c.onNotReady(g)}(),o}a.$inject=["$q","utilsService","guruAuthService","graphqlService","localStorageService","localStorageServiceExtensions"],angular.module("app.members").factory("membershipPricingService",a)}(),function(){"use strict";function a(a){!function(){a.refreshToken()}()}a.$inject=["refreshTokenService"],angular.module("app.members").controller("MembersSuccessController",a)}(),function(){"use strict";angular.module("app.public",["app.core","app.core.brand"])}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){j.cancelOnAuthStateChange(o)}function o(){v.roleLoaded=!1,h.isMember().then(function(a){v.roleLoaded=!0,v.isMember=a})}function p(){angular.forEach(v.featuredCourseList,function(a){i.getCourseById(a).then(function(b){var c={};c[a]=b,v.featuredCourseData=f.assign({},v.featuredCourseData,c)})})}function q(){var a=d.open({templateUrl:"/app/members/components/gu-founders-welcome-modal.html",controller:"FoundersWelcomeModalController",controllerAs:"vm",windowClass:"FoundersWelcomeModal"});a.result.then(r),a.result.catch(r)}function r(){b.transitionTo(b.current.name,null,{notify:!1})}function s(){e.scrollTo(0,0)}function t(a){"play"===a&&w()}function u(){l.storeExamSimulatorVisit()}var v=this,w=f.once(u);v.userLocation=g.pricingInfo.userLocation,v.membershipPricing=g.pricingInfo.membershipPricing,v.roleLoaded=!1,v.featuredCourseList=["aws-csa","aws-cda","aws-csysops","aws-introduction","aws-csa-pro","intro-cloud-computing","intro-alexa-free","aws-devops-pro","aws-certification-preparation","aws-certified-big-data-specialty","aws-lambda-rb","aws-certified-security-specialty","aws-certified-adv-networking-specialty","aws-cloudformation","aws-dynamodb","intro-alexa","docker-devops","aws-ecs","aws-serverless-for-beginners","aws-advanced-cloudformation","aws-serverless-chatbot","lpic-1","github-devops","aws-s3-masterclass","aws-codedeploy","application-loadbalancer","serverless-portfolio-with-react","aws-cost-control","aws-serverless-with-graphql","aws-advanced-alexa-skills-kit","aws-advanced-alexa-skills-kit-free","aws-windows-admin","docker-fundamentals","aws-csa-spanish","sf-certified-administrator-2017","sf-developer-console-2017"],v.testimonials=[{id:"juliet",quote:"Certifications are becoming more important nowadays because the market is much more competitive than it used to be. I prefer the ACG approach because you can study in your own free time, anytime of day & whatever platform you happen to be on. Like most things, this industry is a question of evolve or die so that's what I am trying to do.",name:"Juliet McMullen",imageSrc:"/images/testimonials/juliet-mcmullen.jpg",videoSrc:"https://public.acloud.guru/marketing/testimonials/juliet-mcmullen-3-720p.mp4",role:"Storage Consultant at Hitachi Data Systems"},{id:"diana",quote:"When I first started with AWS, I was looking into certifications and I had no idea where to start learning. I love the content at A Cloud Guru because I get a good basis of knowledge that I can build on.",name:"Diana Ionita",imageSrc:"/images/testimonials/diana-ionita.jpg",videoSrc:"https://public.acloud.guru/marketing/testimonials/diana-ionita-2-720p.mp4",role:"Serverless Consultant at LifeWorks"},{id:"ryan",quote:"Time commitment was a real challenge for me. The ACG courses enabled me to learn on my timescale. It was clear that the courses were actually going to have real examples in, which was really important to me because I actually wanted to use this. It wasn't about getting a certificate, I actually wanted to leverage the value of the cloud.",name:"Ryan Sheldrake",imageSrc:"/images/testimonials/ryan-sheldrake.jpg",videoSrc:"https://public.acloud.guru/marketing/testimonials/ryan-sheldrake-2-720p.mp4",role:"Solutions Architect at Sonatype"}],v.featuredCourseData={},v.userLocation=null,v.promotionId=c.promotionId||null,v.promotionToken=c.token||null,v.copy={enableVideo:g.viewConfig.enableVideo,header:g.viewConfig.header||{},pricing:g.viewConfig.pricing||{}},v.showWelcomeModal=q,v.scrollToTop=s,v.signup=k.signUp,v.login=k.signIn,v.onExamSimVideoUpdateState=t,v.showWhyJoinModal=m.showWhyJoinModal,function(){p(),v.copy.enableVideo&&c.showVideo&&q(),o(),j.onAuthStateChange(o)}(),a.$on("$destroy",n)}a.$inject=["$scope","$state","$stateParams","$uibModal","$window","lodash","viewProps","roleService","courseMetadataService","guruAuthService","authService","recommendationStorageService","whyJoinService"],angular.module("app.public").controller("BecomeAMemberController",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(){return c.get(g,{json:!0})}var g="https://api.lever.co/v0/postings/acloudguru?mode=json";return{getJobsList:f}}a.$inject=["appConfig","coreConstants","$http","authTokenService","lodash"],angular.module("app.public").factory("leverService",a)}(),function(){function a(a,b){var c=this;!function(){c.loading=!0,a.getJobsList().then(function(a){c.teams=b.groupBy(a.data,function(a){return a.categories.team})}).finally(function(){c.loading=!1})}()}a.$inject=["leverService","lodash"],angular.module("app.public").controller("CareersOpenPositionsController",a)}(),function(){"use strict";function a(){return{link:b,template:"",restrict:"E"}}function b(a,b,c){b.html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 32"><path d="M39.69,26.43a7.34,7.34,0,0,1-.8,1.74A7.78,7.78,0,0,1,36,30.85a8.26,8.26,0,0,1-4,1l-.51,0-.5,0c-.17,0-.33,0-.49-.07L30,31.6a13.28,13.28,0,0,1-1.84-.51,17.09,17.09,0,0,1-1.7-.7c-.55-.26-1.07-.53-1.58-.82s-1-.59-1.48-.91-.94-.64-1.39-1c-.9-.66-1.74-1.34-2.55-2l-.37-.33,0,0,0,0-.07-.07L18.79,25l-.65-.56c-.44-.37-.91-.73-1.38-1.07a26.23,26.23,0,0,0-2.94-1.89,15.57,15.57,0,0,0-3.11-1.32,9.21,9.21,0,0,0-1.54-.31l-.37,0H8.43a4.65,4.65,0,0,0-.68.05A4.73,4.73,0,0,0,5.35,21,4.29,4.29,0,0,0,4,23.15a4.66,4.66,0,0,0-.11.62,4.93,4.93,0,0,0,0,.63,4.14,4.14,0,0,0,.24,1.22,4.46,4.46,0,0,0,1.47,2c0,.06-.23,0-.34.06s-.1,0-.1.07,0,.12.15.23a7.22,7.22,0,0,0,1.2.88L6.7,29l.19.11.16.1.13.08a.67.67,0,0,1,.26.27.38.38,0,0,1,0,.22s-.15,0-.35,0l-.33-.07-.17,0-.17-.06-.52-.19c-.1,0-.11,0,0,.09a6.56,6.56,0,0,1-1.6-1,7,7,0,0,1-.67-.63,7.29,7.29,0,0,1-.5-.62c-.27-.38-.43-.67-.49-.72s0,0,0,.11a1.61,1.61,0,0,0,.08.21l.06.15.09.18a3,3,0,0,0,.5.8,5.78,5.78,0,0,0,1,1,7.51,7.51,0,0,0,1.21.75l.28.14.25.12.37.19c.37.21.15.27-.1.32a.77.77,0,0,0-.29.09s0,.12.19.23a7.53,7.53,0,0,0,1.81.26h.51l.48,0L9.57,31l.37-.06c.44,0,.25.13,0,.26a2.1,2.1,0,0,0-.23.15s0,0,0,0a.89.89,0,0,0,.23,0,10.66,10.66,0,0,0,2.13-.52l.54-.2.54-.24c.18-.08.36-.17.54-.26L14,30l.27-.15a23.37,23.37,0,0,0,4-2.85s.23,0,.26,0,0,.06-.12.17a7.87,7.87,0,0,1-.61.58,23.23,23.23,0,0,1-2.24,1.67,19.06,19.06,0,0,1-2.53,1.4c-.22.11-.45.2-.69.29s-.47.18-.71.26-.49.16-.74.23-.51.13-.76.18-.52.09-.79.13a8.06,8.06,0,0,1-.81.07H7.55l-.21,0-.21,0-.21,0a8.42,8.42,0,0,1-3.2-1.18,8.08,8.08,0,0,1-2.42-2.34,7.55,7.55,0,0,1-1-6.4A7.82,7.82,0,0,1,2,19.06,8.46,8.46,0,0,1,4.72,17a8.73,8.73,0,0,1,3.42-.8,11.43,11.43,0,0,1,3.29.41,16.53,16.53,0,0,1,2.89,1.09,23.15,23.15,0,0,1,2.57,1.45c.82.53,1.59,1.09,2.34,1.68s1.46,1.2,2.17,1.88l.47.46.45.42c.31.28.63.55,1,.82.65.54,1.32,1,2,1.52a21.46,21.46,0,0,0,2.12,1.29,14.21,14.21,0,0,0,2.19,1c.18.06.37.12.55.17l.27.07.27.06.14,0,.14,0,.27,0,.27,0,.26,0a5.1,5.1,0,0,0,1,0,4.82,4.82,0,0,0,1-.22,4.88,4.88,0,0,0,1.67-1,4.49,4.49,0,0,0,1.12-1.54A4.36,4.36,0,0,0,36.89,24a4.32,4.32,0,0,0-.45-1.84,4.7,4.7,0,0,0-1.21-1.53,5,5,0,0,0-1.77-.94,5.17,5.17,0,0,0-1-.19,4,4,0,0,0-.53,0h-.55A9.75,9.75,0,0,0,29.1,20a16.17,16.17,0,0,0-2.26,1,23.08,23.08,0,0,0-2.17,1.28c-.65.42-1,.67-1.18.75s-.12.05-.11,0a.72.72,0,0,1,.15-.18,17.79,17.79,0,0,1,2.2-1.77c-.64.45-.73.32-1.36.8,0,0,0-.12.16-.27l.27-.26.4-.34c.16-.12.33-.26.54-.4l.32-.22.36-.23a12.89,12.89,0,0,1,1.86-1,17.47,17.47,0,0,0-2.17,1c-.73.35-.09-.14-.15-.23l.52-.29.46-.24c.27-.14.45-.23.44-.26l-.1-.2c-.19.09-.42.19-.67.33l-.39.2-.4.22-.4.23-.37.23a4.11,4.11,0,0,0,.74-.5l-.12-.19a14.45,14.45,0,0,1,2.66-1.26,14.16,14.16,0,0,1,2.93-.71l0-.18-.34,0-.18,0-.18,0-.37.07-.19,0-.19,0c-.25.06-.51.13-.77.21l-.39.12-.38.14a19,19,0,0,0-2.67,1.3l.4-.28.2-.16c.08-.08.06-.12,0-.17a13.87,13.87,0,0,1,3.66-1.4l.5-.1.25,0,.26,0,.51-.06.52,0a9.59,9.59,0,0,1,2.13.13,8,8,0,0,0-1.42-.2H31.9l-.35,0h-.17l-.17,0,.18,0,.2,0,.44-.06.25,0h.26c.18,0,.37,0,.56,0a7.25,7.25,0,0,1,2.48.67,7.66,7.66,0,0,1,2.21,1.57,8.19,8.19,0,0,1,1.41,2,6.88,6.88,0,0,1,.62,1.66,7,7,0,0,1-.13,3.64ZM25,20.22h0Zm-8.27-6.31A1.21,1.21,0,0,1,17,14l.28.1a.87.87,0,0,0,.44.08,9,9,0,0,0,3.14.47,8.19,8.19,0,0,0,3.11-.7,1.69,1.69,0,0,1-1,.47c-.32.06-.61,0-.9.12a7.41,7.41,0,0,1-2.41.25,7.67,7.67,0,0,1-.93-.12,6.12,6.12,0,0,1-.85-.22A6,6,0,0,1,16.77,13.91Zm2,.74h0l.06,0Zm7.51-1.52a1.82,1.82,0,0,1-.39.28.75.75,0,0,1-.34.1c-.07,0-.09-.06,0-.18a1.46,1.46,0,0,1,.16-.22l.3-.35a10.13,10.13,0,0,0,1-1.5,8.78,8.78,0,0,0,.48-1,7.32,7.32,0,0,1-1,1.72l.24-.35c.08-.12.15-.23.23-.33a9.71,9.71,0,0,1-.65.77,9.46,9.46,0,0,1-.72.68,8.14,8.14,0,0,1-1.65,1.09A9.19,9.19,0,0,0,26,12a7.62,7.62,0,0,0,1.35-2.43,6.74,6.74,0,0,0,.32-2.73,6.16,6.16,0,0,0-.82-2.56l.1.28,0,.08,0-.08c.14.4.31.82.43,1.25a3,3,0,0,1,.11,1.5,6.85,6.85,0,0,0-.4-2.18v0L27,4.87a1,1,0,0,0-.22-.35,7.55,7.55,0,0,0-1.81-2.31l-.06-.05.19.21c.13.14.27.29.4.45a6.36,6.36,0,0,1,1,1.27,5.2,5.2,0,0,0-1.66-1.66,8,8,0,0,1,1.08,1.23,6.11,6.11,0,0,1,.75,1.42A6.14,6.14,0,0,1,27,6.49,5.82,5.82,0,0,1,27.1,8,5.58,5.58,0,0,1,26.51,10a1.32,1.32,0,0,1,.19-.24l0,.12,0,.12a4,4,0,0,0,.58-1.11,7.23,7.23,0,0,1-.5,1.21,8,8,0,0,1-.86,1.27,7.77,7.77,0,0,1-1.12,1.1,7.07,7.07,0,0,0,1.7-1.8,8.41,8.41,0,0,1-.91,1.23,4.24,4.24,0,0,1-1.22.95l.24-.23a7.74,7.74,0,0,1-1.23.74,7.58,7.58,0,0,1-1.59.55,7.39,7.39,0,0,1-3.33,0,8.18,8.18,0,0,1-1.71-.57c-.27-.12-.53-.27-.78-.41a8.45,8.45,0,0,1-.72-.49,8,8,0,0,1-.66-.56,7.94,7.94,0,0,1-.58-.62l0-.06.06.14c.1.2.21.39.31.58-.15-.27-.32-.52-.45-.81A7.25,7.25,0,0,1,13,9.89a4.57,4.57,0,0,1-.29-.9,6.6,6.6,0,0,1-.14-1.16,7.47,7.47,0,0,1,.08-1.88,8.08,8.08,0,0,1,.55-1.83,6.94,6.94,0,0,1,2.8-3A8.5,8.5,0,0,1,20.22,0a2.31,2.31,0,0,1,.45,0l.12,0H21c.31,0,.62,0,.93,0A8.9,8.9,0,0,1,23.77.4a4.76,4.76,0,0,1,.95.47,7.21,7.21,0,0,1,1,.79,8.79,8.79,0,0,1,1.47,1.47A9.55,9.55,0,0,1,28.31,4.9a6.43,6.43,0,0,1,.34,1.05,6.89,6.89,0,0,1-.06,3.27A8.42,8.42,0,0,1,26.29,13.13ZM24.17,4.7c-.07-.1-.13-.2-.21-.29a.55.55,0,0,1,0-.19l-.22-.11A4.39,4.39,0,0,0,23,3.47a3.69,3.69,0,0,0-.42-.37s0,.07,0,.09a5,5,0,0,0-.57-.25,5.14,5.14,0,0,0-.6-.17l-.23-.11-.21-.13a1.24,1.24,0,0,1-.27.07.48.48,0,0,0,.17,0,.24.24,0,0,0,0,.12l-.23,0-.23,0-.5,0a4.28,4.28,0,0,0-1.2.21h0a5.22,5.22,0,0,0-1,.43h-.2c-.06.08-.13.14-.16.18-.26.14-.5.26-.73.39,0,0,0,.17-.08.24a2.76,2.76,0,0,0-.2.21l-.17.22a5.62,5.62,0,0,0-.39.52,5.28,5.28,0,0,0-.8,2,5.18,5.18,0,0,0,0,.94c0-.09,0-.19,0-.28s0-.2,0-.29a.69.69,0,0,0-.07-.24v0h0v0a.58.58,0,0,1,0,.17.54.54,0,0,0,0,.19l0,0a4.6,4.6,0,0,0,.08,1,4.09,4.09,0,0,0,.08.58s0,0,.06,0a4.81,4.81,0,0,0,.25.61,5,5,0,0,0,.33.57l.11.24.09.23.23.17-.13-.12a.13.13,0,0,0,0-.08l.15.19.16.19.41.35a4.92,4.92,0,0,0,1.11.71h0a5.76,5.76,0,0,0,1.14.41l.18.1h.27c.32.07.6.13.88.17a1,1,0,0,1,.26-.08l.32,0,.31,0a6.68,6.68,0,0,0,.72-.13,6.13,6.13,0,0,0,2.22-1,.15.15,0,0,1,.08,0,1,1,0,0,1,.15-.16.84.84,0,0,0,.14-.15s0,0,0,0l.15-.18.13-.12a2.72,2.72,0,0,0,.28-.26c0-.06.06-.13.1-.2l.07-.09a2.25,2.25,0,0,0,.64-1,5.47,5.47,0,0,0,.43-1.16v0a1.14,1.14,0,0,0-.28-1s-.09,0-.15.14-.14.23-.22.34l-.12.15-.11.1c-.07,0-.11,0-.12,0a6,6,0,0,0-.16-1.38c0-.08,0-.16,0-.25s0-.17-.06-.25,0,0-.08-.09A6.63,6.63,0,0,0,24.17,4.7Zm3.29,3.52c.07-.28.13-.56.19-.77C27.6,7.7,27.52,8,27.46,8.22Zm-.17.59-.05.12c.08-.24.16-.48.22-.72C27.41,8.42,27.36,8.61,27.29,8.81Z"/></svg>')}angular.module("app.layout").directive("acgLogo",a)}(),function(){"use strict";function a(a,b){function c(){e()}function d(){if(f.showDiscountIndication){var a;a=0===f.price.standardPrice?"FREE":f.price.currencySymbol+f.price.standardPrice,f.discountTooltip="Promo code discount, normally "+a}else f.discountTooltip=""}function e(){f.showDiscountIndication=f.price&&f.price.isDiscount&&"USER_PROMO_CODE"===f.price.discountedBy,d()}var f=this;f.$onChanges=c,f.showDiscountIndication=!1,f.discountTooltip="",function(){f.urlOverride?f.bundleUrl=f.urlOverride:f.bundleUrl=f.url?"/bundle/"+f.url:null,f.artwork=b.getWidescreenUrl(f.artworkKey),f.courseCount=Object.keys(f.courses).length}()}a.$inject=["$location","artworkService"],angular.module("app.public").component("bundleCard",{templateUrl:"app/public/components/bundle-card.html",bindings:{bundleTitle:"<",summary:"<",img:"<",price:"<",url:"<",productId:"<",artworkKey:"<",courses:"<",owned:"<",skillLevels:"<",urlOverride:"<"},controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(a,b){function c(){f(),g.price&&e()}function d(){if(!g.showDiscountIndication)return g.discountTooltip="";var a;a=0===g.price.standardPrice?"FREE":"PTS"==g.price.currencySymbol?g.price.standardPrice+"pts":g.price.currencySymbol+g.price.standardPrice,g.discountTooltip="Promo code discount, normally "+a}function e(){g.showDiscountIndication=g.price&&g.price.isDiscount&&"USER_PROMO_CODE"===g.price.discountedBy,d()}function f(){if(g.urlOverride)return void(g.courseUrl=g.urlOverride);g.courseUrl=g.url?g.owned?"/course/"+g.url+"/dashboard":"/learn/"+g.url:null}var g=this;g.$onChanges=c,g.completionPercentageLoaded=!1,g.showDiscountIndication=!1,g.discountTooltip="",function(){f(),g.artwork=b.getSquareUrl(g.artworkKey)}()}a.$inject=["$location","artworkService"],angular.module("app.public").component("courseCard",{templateUrl:"app/public/components/course-card.html",bindings:{courseTitle:"<",summary:"<",price:"<",url:"<",owned:"<",productId:"<",artworkKey:"<",duration:"<",skillLevels:"<",courseId:"<",urlOverride:"<"},controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(){return{scope:{courseUrl:"=",componentId:"="},controllerAs:"vm",controller:b,templateUrl:"app/public/components/gu-component-card.html",bindToController:!0}}function b(a,b){function c(){d.courseUrl&&d.componentId&&(d.lastCourseUrl!==d.courseUrl||d.lastComponentId!==d.componentId)&&(d.lastComponentId=d.componentId,d.lastCourseUrl=d.courseUrl,b.getComponent(d.courseUrl,d.componentId).then(function(a){return b.getComponentUrl(d.courseUrl,a).then(function(b){return d.componentUrl=b,a})}).then(function(a){d.component=a,d.isLoaded=!0}))}var d=this;d.isLoaded=!1,d.component=null,d.lastCourseUrl=null,d.lastComponentId=null,a.$watch("vm.courseUrl",c),a.$watch("vm.componentId",c)}b.$inject=["$scope","courseComponentService"],angular.module("app.public").directive("guComponentCard",a)}(),function(){"use strict";function a(a,b,c,d){function e(a){i.loadedKeyCount=c.keys(i.courseData).length,i.loadedKeyCount===i.courseList.length&&(i.loaded=!0)}function f(a){return d.getSquareUrl(a)}function g(){i.slickConfig.method.slickPrev()}function h(){i.slickConfig.method.slickNext()}var i=this,j=null;i.currentCourse=null,i.currentIndex=null,i.loadedKeyCount=null,i.loaded=!1,i.$onChanges=e,i.getImageSrc=f,i.prevClick=g,i.nextClick=h,function(){j=b.find(".GuCourseCarousel"),i.slickConfig={enabled:!0,autoplay:!1,draggable:!1,centerMode:!0,slidesToShow:3,slidesToScroll:1,infinite:!0,variableWidth:!0,method:{},responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]}}()}a.$inject=["$timeout","$element","lodash","artworkService"],angular.module("app.public").component("guCourseCarouselStandalone",{templateUrl:"app/public/components/gu-course-carousel-standalone.component.html",bindings:{courseList:"<",courseData:"<"},controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(a,b,c,d,e){function f(){i(),l.repLevels=e.getAll(),d.getProfileObjectFor(m).then(function(a){l.fbProfile=a||{},l.fbProfile.voteSum||(l.fbProfile.voteSum=0),g(),l.profileLoaded=!0})}function g(){var a=l.fbProfile.voteSum;l.reputationLevel=e.getLevel(a),l.reputationClass="reputationLevel__"+l.reputationLevel.levelAsNumber,l.nextLevel=e.getNextLevel(l.reputationLevel.levelAsNumber),l.nextLevelComplete=a/l.nextLevel.gte*100}function h(){k=a.open({templateUrl:"/app/dashboard/components/gu-reputation-modal.html",controller:"ReputationModalController",controllerAs:"vm",windowClass:"reputationModal"})}function i(){b.getCurrentUsersActiveCertifications().then(function(a){l.userCertifications=j(a)})}function j(a){var b=+new Date,c=a;return angular.forEach(c,function(a){new Date(a.expiryDate).valueOf()-b<7884e6&&(a.expiringSoon=!0)}),c}var k,l=this,m=c.getUserId();l.profileLoaded=!1,l.showReputationModal=h,function(){f()}()}a.$inject=["$uibModal","certificationService","authService","publicProfileService","reputationService"],angular.module("app.public").component("guDashboardScorecard",{templateUrl:"app/public/components/gu-dashboard-scorecard.component.html",bindings:{something:"<"},controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(a,b,c){function d(){e.preloadedImages=!0,e.slickConfig={enabled:!0,autoplay:!1,centerMode:!1,slidesToShow:3,slidesToScroll:1,infinite:!1,variableWidth:!1,method:{},responsive:[{breakpoint:1100,settings:{slidesToShow:2,slidesToScroll:1,centerMode:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!1}}]}}var e=this,f=null;e.preloadedImages=!1,e.tiles=[{id:"awsTile",imageSrc:"/images/featured-tiles/aws-vendor-tile.jpg",alt:"Amazing AWS certification courses and content with Ryan Kroonenburg & Faye Ellis",sref:"courses({vendors: 'aws'})"},{id:"azureTile",imageSrc:"/images/featured-tiles/azure-vendor-tile.jpg",alt:"Great Azure content with Dean Bryen & Scott Duffy",sref:"courses({vendors: 'azure'})"},{id:"futureOfTechTile",imageSrc:"/images/featured-tiles/the-future-of-tech-tile.jpg",alt:"The Future of Tech with Lars Klint",sref:"series.playlist({seriesUrl: 'future-of-tech'})"}],function(){f=c.find(".FeaturedBrowseTiles--Row");var g=a.map(e.tiles,function(a){return a.imageSrc});b.preloadImages(g).then(d)}()}a.$inject=["lodash","preloader","$element"],angular.module("app.public").component("guFeaturedBrowseTiles",{templateUrl:"app/public/components/gu-featured-browse-tiles.component.html",bindings:{},controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){e.cancelOnReady(i),e.cancelOnReady(j),e.cancelOnNotReady(j),e.cancelOnReadying(j)}function i(){return g.getUserOrganisationAdminMemberships().then(function(a){p.adminOrganisations=a})}function j(){p.isAuthenticated=d.isAuthenticated(),p.userId=d.getUserId()}function k(){c[0].body.style.overflowY="hidden",p.showMobileNav=!0}function l(){c[0].body.style.overflowY="auto",p.showMobileNav=!1,n()}function m(){p.expandUserLinks=!0}function n(){p.expandUserLinks=!1}function o(){p.expandUserLinks?n():m()}var p=this;p.isAuthenticated=!1,p.expandUserLinks=!1,p.toggleUserLinks=o,p.closeNav=l,p.profileService=f,p.signup=d.signUp,p.login=d.signIn,p.logout=d.signOut,b.$on("$destroy",h),function(){e.onReady(i),e.onReady(j),e.onNotReady(j),e.onReadying(j)}(),a.$on("openMobileNav",function(a,b){k()}),a.$on("closeMobileNav",function(a,b){l()})}a.$inject=["$rootScope","$scope","$document","authService","guruAuthService","profileService","organisationService"],angular.module("app.public").component("guMobileNavOverlay",{controller:a,controllerAs:"vm",templateUrl:"app/public/components/gu-mobile-nav-overlay.component.html"})}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){d.cancelOnReady(i),d.cancelOnReady(h),d.cancelOnNotReady(h),d.cancelOnReadying(h)}function h(){j.isAuthenticated=b.isAuthenticated()}function i(){return j.profile=null,j.profileLoaded=!1,e.getProfileAndHandle().then(function(a){j.profile=a,j.profileLoaded=!0}).then(function(){return f.getUserOrganisationAdminMemberships()}).then(function(a){j.adminOrganisations=a})}var j=this;j.profile=null,j.profileLoaded=!1,a.$on("$destroy",g),function(){j.isAuthenticated=!!c.getAccessToken(),d.onReady(i),d.onReady(h),d.onNotReady(h),d.onReadying(h)}()}a.$inject=["$scope","authService","authTokenService","guruAuthService","profileService","organisationService"],angular.module("app.public").component("guNavShell",{templateUrl:"app/public/components/gu-nav-shell.component.html",controller:a,controllerAs:"vm",bindings:{fullWidth:"<"}})}(),function(){"use strict";function a(){}angular.module("app.public").component("guNavSite",{templateUrl:"app/public/components/gu-nav-site.component.html",controller:a,controllerAs:"vm",bindings:{fullWidth:"<",isAuthenticated:"<",profile:"<",profileLoaded:"<"}})}(),function(){"use strict";function a(a,b,c){function d(){c.open()}var e=this;e.openMobileNav=d,e.signup=a.signUp,e.login=a.signIn,e.logout=a.signOut,e.templateUrl="/app/public/components/gu-nav-user-dropdown.template.html",e.profileService=b}a.$inject=["authService","profileService","mobileNavContextService"],angular.module("app.public").component("guNavUser",{templateUrl:"app/public/components/gu-nav-user.component.html",controller:a,controllerAs:"vm",bindings:{fullWidth:"<",isAuthenticated:"<",profile:"<",profileLoaded:"<",adminOrganisations:"<"}})}(),function(){"use strict";function a(){return{scope:{after:"@"},template:" {{vm.schoolNumbers}}{{vm.after}}",controller:b,controllerAs:"vm",bindToController:!0}}function b(a,b,c){var d=this;d.after||(d.after=""),d.schoolNumbers=(c&&c.marketing?c.marketing.schoolNumbers:0)||0}b.$inject=["$scope","appConfig","featuresConfig"],angular.module("app.public").directive("guSchoolNumbers",a)}(),function(){"use strict";function a(a){var b=this;!function(){"course"===b.itemType?b.url=a.href("course",{courseUrl:b.itemCourseUrl}):"episode"===b.itemType&&(b.url=a.href("series.view",{seriesUrl:b.itemSeriesUrl,episodeUrl:b.itemEpisodeUrl}))}()}a.$inject=["$state"],angular.module("app.public").component("guSearchTile",{templateUrl:"app/public/components/gu-search-tile.component.html",controller:a,controllerAs:"vm",bindings:{itemType:"<",itemArtwork:"<",itemTitle:"<",itemText:"<",itemImageUrl:"<",itemCourseId:"<",itemCourseUrl:"<",itemSeriesId:"<",itemSeriesUrl:"<",itemSeriesTitle:"<",itemEpisodeUrl:"<",score:"<"}})}(),function(){"use strict";function a(a){function b(){a.getLocationInfo().then(function(a){"EUR"!==a.currencyCode&&"GBP"!==a.currencyCode||(console.log("Show serverless banner"),c.showServerlessBanner=!0)})}var c=this;c.$onInit=b,c.showServerlessBanner=!1}a.$inject=["locationDetectionService"],angular.module("app.public").component("guServerlessBanner",{controllerAs:"vm",controller:a,templateUrl:"app/public/components/gu-serverless-banner.html"})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(a){a.hasAccess&&a.hasAccess.currentValue?(w.loaded=!0,w.hasAccess=a.hasAccess.currentValue):m()}function l(){w.buttonColor&&("dark"===w.buttonColor?w.buttonClass+=" btn--takeCourse__dark":"green"===w.buttonColor&&(w.buttonClass+=" btn--takeCourse__green"))}function m(){if(w.loaded=!1,w.displayFree=v(),w.hasAccess)return void(w.loaded=!0);if((!0===w.isMembersOnly||!0===w.isOrganisationOnly||w.individualPricing)&&w.membershipPricing){if(!0===w.isMembersOnly||!0===w.isOrganisationOnly)return void(w.loaded=!0);w.isProductInCart=e.isInCart(w.productId),w.isSubscription=!1===w.individualPricing.showPrice,w.hasPromotion=!w.isSubscription&&null!==w.promoCodes.promotion,w.hasCouponCode=!w.isSubscription&&null!==w.promoCodes.userPromoCode,w.isCouponExpired=w.hasCouponCode&&w.promoCodes.userPromoCode.promoCodeObj.hasExpired,w.discountTotal=w.individualPricing.standardPrice-w.individualPricing.price,w.discountPromotion=n(),w.discountCoupon=o(),w.displayPrice=!w.isSubscription&&!w.displayFree&&"pts"!==w.individualPricing.currency,w.displayPoints=!w.isSubscription&&!w.displayFree&&"pts"===w.individualPricing.currency,w.loaded=!0}}function n(){return w.hasPromotion?w.individualPricing.standardPrice-w.promoCodes.promotion.promoCodeObj.prices.price:0}function o(){return w.hasCouponCode&&!w.isCouponExpired?w.discountTotal-w.discountPromotion:0}function p(c){if(c&&(c.preventDefault(),c.stopPropagation()),v())return w.isLoggedIn?s().then(function(){return u()}):a.go("public.login",{successUrl:b.url()})}function q(c){return c&&(c.preventDefault(),c.stopPropagation()),f.isMember().then(function(c){if(c)return t().then(function(){return u()});if(w.isProductInCart)return a.go("public.checkout.index",{backUrl:b.path()});var d=w.displayFree||i.getIsUpsellDismissed()?"public.checkout.index":"checkout-offers";return a.go(d,{productIdQS:w.productId,promoCodeQS:w.individualPricing.discountPromoCodeId,backUrl:b.path()})})}function r(b){return b&&(b.preventDefault(),b.stopPropagation()),f.isMember().then(function(b){if(b||v())return h.getCourseById(w.courseId).then(function(b){return a.go("app.course.dashboard",{courseUrl:b.url})})})}function s(){
return g.startCampaignCourse(w.courseId)}function t(){return g.startMemberCourse(w.courseId)}function u(){return h.getCourseById(w.courseId).then(function(b){return a.go("app.course.dashboard",{courseUrl:b.url})})}function v(){return["aws-introduction"].indexOf(w.courseId)>-1&&w.freeFunnel}var w=this;w.buttonClass="",w.goToCheckout=q,w.startFreeCourse=p,w.goToDashboard=r,w.hasAccess=!1,w.showWhyJoinModal=j.showWhyJoinModal,w.$onChanges=k,function(){l(),m()}()}a.$inject=["$state","$location","$uibModal","lodash","cartService","roleService","currentUserAccessService","courseMetadataService","checkoutOffersService","whyJoinService"],angular.module("app.public").component("guTakeCourseButton",{templateUrl:"app/public/components/gu-take-course-button.component.html",controller:a,controllerAs:"vm",bindings:{freeFunnel:"<",individualPricing:"<",membershipPricing:"<",productId:"<",courseId:"<",promoCodes:"<",buttonColor:"<",hasAccess:"<",isMembersOnly:"<",isMember:"<",isLoggedIn:"<",isOrganisationOnly:"<"}})}(),function(){"use strict";function a(){return{scope:{testimonial:"="},controllerAs:"vm",controller:b,templateUrl:"app/public/components/gu-testimonial-card.html"}}function b(a,b){function c(a){d.testimonial.userId||a.preventDefault()}var d=this;d.testimonial=a.testimonial,d.stopLinkIfRequired=c}b.$inject=["$scope","$rootScope"],angular.module("app.public").directive("guTestimonialCard",a)}(),function(){"use strict";function a(a,b,c){function d(a,b){if(b!==i.currentSlideIndex){h(i.testimonials[i.currentSlideIndex]),i.currentSlideIndex=b,f(b)}}function e(a,b){i.videoObjects[a]=b}function f(b){j||(j=a.find(".GuTestimonialCarousel--Slide")),j[b].parentNode.style.transform="translateX("+g(b)+"px)"}function g(a){for(var b=0,c=0;c<j.length;c++){if(c===a){b-=l/2;break}b=b-k-l}return b}function h(a){i.videoObjects[a.id].pause()}var i=this,j=null,k=500,l=66;i.currentSlideIndex=null,i.videoObjects={},i.slideClick=d,i.onPlayerReady=e,function(){i.randomTestimonial=c.sample(i.testimonials),b(function(){i.currentSlideIndex=1,f(i.currentSlideIndex)},500)}()}a.$inject=["$element","$timeout","lodash"],angular.module("app.public").component("guTestimonialCarousel",{templateUrl:"app/public/components/gu-testimonial-carousel.component.html",bindings:{testimonials:"<"},controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(){return{scope:{},controllerAs:"vm",controller:c,templateUrl:"app/public/components/gu-testimonial-feature.html",bindToController:!0}}function b(a){switch(a){case"acloud-guru":return[{userId:"auth0|5602a6b5499bf27827c0ac60",fullName:"Brian Jensen",quote:'A Cloud Guru has been instrumental for me to pass the Solutions Architect exam and the Developer Associate exam. I’m now studying for the SysOps Administrator exam. Having passed two exams I’m confident A Cloud Guru will help me pass the third. Thank you for A Cloud Guru. It’s greatly appreciated!"',location:"California, USA",profile:null},{userId:"google-oauth2|105777063154887183880",fullName:"Jeremiah Owen",quote:"Thanks a million! I just passed the CSA - Professional exam (scored 81%) and your training was the crucial key to passing!",location:"California, USA",profile:null},{userId:"auth0|5665e1db2ac7572c2a2cd95e",fullName:"Vamsi Kandala",quote:"I just completed your course on AWS Certified Solutions Architect - Associate and the course was one of the best ones I came across for a long time. All the videos and quizzes were presented in a clear and precise manner. The price was very well worth.",location:"Maryland, USA",profile:null},{userId:"facebook|10207864256673221",fullName:"Scott Haley",quote:"After I obtained the associate cert, I received a promotion and **significant** salary increase. I used your course for the bulk of my preparation, so it was absolutely worth the time, effort, and money.",location:"Tennessee, USA",profile:null},{userId:"google-oauth2|100185785957193962227",fullName:"Debadipta Basu",quote:"Thanks a lot Ryan!!! Your courses are superb and I really like them. It gives a newbie to AWS like me a great introduction and a definite roadmap.",location:"New Jersey, USA",profile:null},{userId:"linkedin|hnoHll9RkL",fullName:"Dave Crouse",quote:"I think that your real world experience in AWS is a MUCH better source of information than some of the other places I've seen. I actually have a place that calls us all the time to offer a ONE day class for this same thing... at $700 US. INSANE.",location:"Iowa, USA",profile:null}];default:return[]}}function c(a,c,d,e,f,g){var h=this,i=c.getBrand();h.testimonials=b(i),h.showTestimonials=h.testimonials&&h.testimonials.length,h.interval=1e4,h.noWrapSlides=!1,h.active=0,h.templateUrl="template/carousel/carousel.html",e.forEach(h.testimonials,function(a){var b=g&&g.testimonial&&g.testimonial.profileUserOverride,c=b?g.testimonial.profileUserOverride:a.userId;e.isString(c)&&d.getProfileObjectFor(c).then(function(b){a.profile=b})})}c.$inject=["$scope","brandService","publicProfileService","lodash","appConfig","featuresConfig"],angular.module("app.public").directive("guTestimonialFeature",a)}(),function(){"use strict";function a(a,b,c){function d(){i.popoverTemplateUrl="/app/dashboard/components/gu-tile-popover-owned-course.html"}function e(){i.tileUrl=i.urlFragment?i.owned?"/course/"+i.urlFragment+"/dashboard":"/learn/"+i.urlFragment:null}function f(a){a&&c.getTotalCourseCompletion(i.courseId).then(function(a){i.completionPercentage=a.percentage})}function g(a){i.popoverIsOpen=!0}function h(a){i.popoverIsOpen=!1}var i=this;i.completionPercentageLoaded=!1,i.popoverTemplateUrl=null,i.mouseEnterPopover=g,i.mouseLeavePopover=h,function(){i.artwork=b.getSquareUrl(i.artworkKey),i.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),f(i.courseId),d(),e()}()}a.$inject=["$state","artworkService","courseActivityService"],angular.module("app.public").component("guTileCourse",{templateUrl:"app/public/components/gu-tile-course.component.html",bindings:{courseTitle:"<",summary:"<",urlFragment:"<",owned:"<",artworkKey:"<",duration:"<",lessonCount:"<",vendors:"<",courseId:"<",skillLevels:"<"},controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(a,b,c){function d(){i.imageUrl=i.episode.thumbnailUrl}function e(){var b=null;b=h()?a.href("series.playlist",{seriesUrl:i.series.seriesUrl}):a.href("series.view",{seriesUrl:i.series.seriesUrl,episodeUrl:i.episode.episodeUrl}),i.tileUrl=b}function f(a){i.popoverIsOpen=!0}function g(a){i.popoverIsOpen=!1}function h(){return!i.isMember&&i.series.isProtected}var i=this;i.popoverTemplateUrl="/app/dashboard/components/gu-tile-popover-series.html",i.mouseEnterPopover=f,i.mouseLeavePopover=g,i.protectContent=h,function(){i.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),d(),e()}()}a.$inject=["$state","artworkService","courseActivityService"],angular.module("app.public").component("guTileSeries",{templateUrl:"app/public/components/gu-tile-series.component.html",bindings:{episode:"<",series:"<",alternativeTitles:"<",isMember:"<"},controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(){}angular.module("app.public").component("guTrustedBy",{controller:a,controllerAs:"vm",templateUrl:"app/public/components/gu-trusted-by.component.html",bindings:{showButton:"<"}})}(),function(){"use strict";function a(){function a(a){angular.element(a.currentTarget).siblings().addClass("hoverException")}function b(a){angular.element(a.currentTarget).siblings().removeClass("hoverException")}var c=this;c.mouseOverVendorTile=a,c.mouseOutVendorTile=b}angular.module("app.public").component("guVendorBrowseTiles",{templateUrl:"app/public/components/gu-vendor-browse-tiles.component.html",bindings:{},controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(a){function b(){a.$broadcast("openMobileNav")}function c(){a.$broadcast("closeMobileNav")}return{open:b,close:c}}a.$inject=["$rootScope"],angular.module("app.public").factory("mobileNavContextService",a)}(),function(){"use strict";function a(a){return function(b,c){if(b){var d=a.find(c,{id:b});return a.isUndefined(d)?"":d.name}return"All"}}a.$inject=["lodash"],angular.module("app.public").filter("searchFilterLabel",a)}(),function(){"use strict";angular.module("app.public").value("acloudguruCourses",[{title:"AWS Associate Certifications",showLinkAtTop:!0,id:"aws-associate",linkTitle:"AWS Certifications",entries:[{bundleId:"bundle-associate"},{courseId:"aws-csa",languages:[{courseId:"aws-csa-spanish",courseUrl:"aws-certified-solutions-architect-associate-espanol",title:"Español",image:"/images/languages/espanol.png"}]},{courseId:"aws-csysops"},{courseId:"aws-cda"}]},{title:"AWS Specialty Certifications",entries:[{bundleId:"bundle-aws-specialty-certification-bundle"},{courseId:"aws-certified-security-specialty"},{courseId:"aws-certified-big-data-specialty"},{courseId:"aws-certified-adv-networking-specialty"}]},{title:"AWS Professional Certifications",entries:[{bundleId:"bundle-professional"},{courseId:"aws-csa-pro"},{courseId:"aws-devops-pro"}]},{title:"AWS Security",showLinkAtTop:!0,id:"aws-security",linkTitle:"AWS Security",entries:[{bundleId:"bundle-security-master-class"},{courseId:"aws-security"},{courseId:"event-driven-security"}]},{title:"Amazon Alexa",showLinkAtTop:!0,id:"amazon-alexa",linkTitle:"Amazon Alexa",entries:[{bundleId:"bundle-amazon-alexa"},{courseId:"intro-alexa"},{courseId:"aws-advanced-alexa-skills-kit"}]},{title:"AWS Services",showLinkAtTop:!0,id:"aws-services",linkTitle:"AWS Services",entries:[{bundleId:"bundle-aws-services-0417"},{courseId:"aws-cloudformation"},{courseId:"aws-advanced-cloudformation"},{courseId:"aws-lambda-rb"},{courseId:"aws-s3-masterclass"},{courseId:"aws-dynamodb"},{courseId:"application-loadbalancer"},{courseId:"aws-codedeploy"},{courseId:"aws-lambda",isRetired:!0,isHidden:!0}]},{title:"Serverless",showLinkAtTop:!0,id:"aws-serverless",linkTitle:"Serverless",entries:[{bundleId:"bundle-start-serverless-052217"},{courseId:"aws-serverless-for-beginners"},{courseId:"aws-serverless-chatbot"},{courseId:"aws-serverless-with-graphql"}]},{title:"Docker On AWS",entries:[{bundleId:"bundle-docker-master"},{courseId:"docker-devops"},{courseId:"aws-ecs"}]},{title:"Other AWS Courses",entries:[{courseId:"aws-cost-control"},{courseId:"aws-windows-admin"},{courseId:"github-devops"},{courseId:"aws-csa-spanish"},{courseId:"aws-sql-rds",isRetired:!0,isHidden:!0},{courseId:"ios-on-aws",isRetired:!0,isHidden:!0},{courseId:"complete-ios10",isRetired:!0,isHidden:!0}]},{title:"AWS Certification Bundles",showLinkAtTop:!0,id:"bundles",linkTitle:"Certification Bundles",entries:[{bundleId:"bundle-all-8-certification"},{bundleId:"bundle-all-5-certification"},{bundleId:"bundle-solutions-architect"},{bundleId:"bundle-devops-engineer"}]},{title:"Linux Certification Courses",showLinkAtTop:!0,id:"linux",linkTitle:"Linux Certifications",entries:[{courseId:"lpic-1"}]},{title:"Salesforce Courses",entries:[{courseId:"sf-certified-administrator-2017"},{courseId:"sf-developer-console-2017"},{courseId:"sf-londons-calling-2017-sessions"}]},{title:"Free Courses",entries:[{courseId:"aws-introduction"},{courseId:"intro-cloud-computing"},{courseId:"intro-alexa-free"},{courseId:"aws-advanced-alexa-skills-kit",isRetired:!0,isHidden:!0}]}])}(),function(){"use strict";angular.module("app.public").value("allCourses",{entries:[{courseId:"aws-csa",languages:[{courseId:"aws-csa-spanish",courseUrl:"aws-certified-solutions-architect-associate-espanol",title:"Español",image:"/images/languages/espanol.png"}]},{courseId:"aws-csysops"},{courseId:"aws-cda"},{courseId:"aws-certified-security-specialty"},{courseId:"aws-certified-big-data-specialty"},{courseId:"aws-certified-adv-networking-specialty"},{courseId:"aws-csa-pro"},{courseId:"aws-devops-pro"},{courseId:"aws-security"},{courseId:"event-driven-security"},{courseId:"intro-alexa"},{courseId:"aws-advanced-alexa-skills-kit"},{courseId:"aws-cloudformation"},{courseId:"aws-advanced-cloudformation"},{courseId:"aws-lambda-rb"},{courseId:"aws-s3-masterclass"},{courseId:"aws-dynamodb"},{courseId:"application-loadbalancer"},{courseId:"aws-codedeploy"},{courseId:"aws-lambda",isRetired:!0,isHidden:!0},{courseId:"aws-serverless-for-beginners"},{courseId:"aws-serverless-chatbot"},{courseId:"docker-devops"},{courseId:"aws-ecs"},{courseId:"aws-cost-control"},{courseId:"aws-windows-admin"},{courseId:"github-devops"},{courseId:"aws-csa-spanish"},{courseId:"aws-sql-rds",isRetired:!0,isHidden:!0},{courseId:"ios-on-aws",isRetired:!0,isHidden:!0},{courseId:"complete-ios10",isRetired:!0,isHidden:!0},{courseId:"lpic-1"},{courseId:"aws-introduction"},{courseId:"intro-cloud-computing"},{courseId:"intro-alexa-free"},{courseId:"aws-advanced-alexa-skills-kit",isRetired:!0,isHidden:!0}]})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){function y(){da.topics=g.filter(r.topics,D),da.roles=g.filter(r.roles,D),da.authors=g.filter(r.authors,D),da.vendors=r.vendors,da.skillLevels=r.skillLevels,da.services=r.services,da.rows=r.rows,da.seriesRows=r.series,da.contentTypes=r.type}function z(){j.cancelOnReady(A),j.cancelOnNotReady(B)}function A(){da.loggedIn=!0,T().then(S),k.getUserHasOrganisationMembership().then(function(a){ea=a,a&&(y(),I())})}function B(){da.loggedIn=!1,T().then(S)}function C(a,b){var c=da.filters.vendors&&1===da.filterCount&&"series"===a.type&&a.vendors&&g.includes(a.vendors,da.filters.vendors);return!!D(a)&&(!!c||!(!da.productsLoaded||da.filterCount>0)&&(!("series"===a.type&&!da.showSeries)&&(!("course"===a.type&&!da.showCourses)&&("series-component"===a.type||"exam-simulator"===a.type||(da.coursesByRow[b]&&da.coursesByRow[b].length>0||da.seriesEpisodes[a.series]&&da.seriesEpisodes[a.series].activeEpisodes.length>0)))))}function D(a){return!a.hasOwnProperty(w.ORGANISATION_ONLY)||!a.organisationOnly||ea}function E(){return g.filter(da.courses,function(a){return!g.reduce(da.coursesByRow,function(b,c){return b||-1!==g.map(c,"objectID").indexOf(a.objectID)},!1)})}function F(a){return"course"!==a.type?[]:g.filter(da.courses,function(b){var c=g.intersection(b.skillLevels,a.level).length>0,d=a.topic===b.primaryTopic;return a.topic&&a.level?c&&d:a.topic?d:!!a.level&&c})}function G(a){if(!a.length)return M();if(da.isSearchMode=!0,b.transitionTo("courses",{keywords:a},{notify:!1,reload:!1}),a.length){da.isSearching=!0;var c={};ea||g.assignIn(c,{isOrganisationOnly:"-true"}),v.search(a,c).then(function(a){da.searchResultsType=a.type,da.searchResults=a.hits}).finally(function(){da.isSearching=!1})}}function H(a){var b=g.filter(da.seriesRows,function(b){var c=g.keys(a);if(g.difference(c,["vendors","type"]).length)return!1;if("courses"===a.type)return!1;var d="series"===a.type&&1===c.length,e=a.vendors&&b.vendors&&b.vendors.indexOf(a.vendors)>=0;return d||e}),c=g.map(b,"series");return s.courseBrowseGetWebSeriesByUrls(c).then(function(a){return g.zipObject(c,a)})}function I(){var a=e.search();g.keys(a).length>1&&a.keywords&&(a=g.assign({},{keywords:a.keywords})),da.filters=a,da.filterCount=g.keys(da.filters).length,da.filterCollapse=g.reduce(da.filters,function(a,b,c){return a[c]=!!b,a},{}),g.size(da.filters)||(da.filterCollapse.vendors=!0,da.filterCollapse.topics=!0),a.keywords?(da.searchText=a.keywords,G(da.searchText)):J()}function J(){da.displayMode=da.filters.type||"all",O(da.displayMode)}function K(a,b){da.filters[a]===b?(L(a),da.filterCollapse[a]=!1):(da.filters[a]=b,da.filterCollapse[a]=!0),J(),Q()}function L(a){delete da.filters[a],J(),Q()}function M(){da.filters={},da.searchText="",da.searchResults=[],da.isSearchMode=!1,J(),Q()}function N(a){da.showSidebar=a}function O(a){switch(a){case"series":da.showCourses=!1,da.showSeries=!0,da.showAllMode=!1;break;case"bundles":da.showCourses=!1,da.showSeries=!1,da.showAllMode=!1;break;case"courses":da.showCourses=!0,da.showSeries=!1,da.showAllMode=!1;break;default:a="all",da.showCourses=!0,da.showSeries=!0,da.showAllMode=!0}da.displayMode=a,Q()}function P(){var a={};da.displayMode&&"all"!=da.displayMode&&(a.type=da.displayMode);var b=angular.extend({},da.filters,a);e.search(b)}function Q(){da.productsLoaded=!1,da.searchError=!1,da.filterCount=g.keys(da.filters).length,da.courses=[],P();var a=g.clone(da.filters);delete a.type,ea||g.assignIn(a,{isOrganisationOnly:"-true"}),d.all([R(da.filters,a),H(da.filters)]).then(g.spread(function(a,b){da.courses=g.filter(a.hits,{type:"course"}),da.seriesEpisodes=b,da.seriesMatchCount=g.keys(b).length,T().then(S).then(function(){da.productsLoaded=!0})})).catch(function(){da.searchError=!0,da.productsLoaded=!0})}function R(a,b){return"series"===a.type?d.when({hits:[]}):p.searchProducts({query:null,hitsPerPage:100,isActive:!0,isVisible:!0,types:{courses:!0},filters:b})}function S(){da.coursesByRow=g.map(da.rows,F),da.rows.push({title:"Other Goodies",type:"course"}),da.coursesByRow.push(E())}function T(){return t.isMember().then(function(a){da.isMember=a}),i.getAccessibleCourseIds().then(function(a){a&&(g.forEach(da.courses,function(b){b.userHasAccess=0===g.difference(g.values(b.courses),a).length,b.isRetired&&b.userHasAccess&&(b.isHidden=!1)}),da.userHasAtLeastOneCourse=g.some(da.courses,{userHasAccessToACourse:!0}))})}function U(a){if(a){var b=a.activeEpisodes.length;return"Showing "+g.min([b,da.EPISODE_LIMIT])+" of "+b+" "+(1===b?"video":"videos")}}function V(a){da.filterCollapse[a]=!da.filterCollapse[a]}function W(a,b){return g.find(r[a],function(a){return a.id===b})}function X(a){angular.element(a.currentTarget).siblings().addClass("hoverException")}function Y(a){angular.element(a.currentTarget).siblings().removeClass("hoverException")}function Z(a){return q.getSquareUrl(a)}function $(){u.storeExamSimulatorVisit()}function _(){M()}function aa(){return!da.isSearchMode&&!da.productsLoaded||da.isSearchMode&&da.isSearching}function ba(){return!da.isSearchMode&&da.productsLoaded&&0===da.courses.length&&0===da.seriesMatchCount}function ca(){return da.isSearchMode&&!da.isSearching&&!da.searchResults.length}var da=this,ea=!1;da.searchText="",da.productSearchResult=[],da.episodeSearchResult=[],da.filters={},da.productsLoaded=!1,da.searchError=!1,da.courses=[],da.currentVendor=null,da.currentTopic=null,da.updateFilter=K,da.removeFilter=L,da.resetFilters=M,da.toggleMobileSidebar=N,da.showSidebar=!1,da.showModeButtons=!1,da.userHasAtLeastOneCourse=!1,da.loggedIn=!1,da.seriesEpisodes={},da.coursesByRow=[],da.showCourses=!1,da.showSeries=!1,da.displayMode="all",da.EPISODE_LIMIT=4,da.isSearchMode=!1,da.isMember=!1,da.showTileRow=C,da.toggleFilter=V,da.getFilter=W,da.setDisplayMode=O,da.mouseOverSeriesPoster=X,da.mouseOutSeriesPoster=Y,da.getSeriesArtwork=Z,da.getShowingSeriesCountMessage=U,da.recordExamSimulatorInterest=$,da.performSearch=G,da.clearTextSearch=_,da.showSpinner=aa,da.showEmptyStateForBrowse=ba,da.showEmptyStateForSearch=ca,da.showWhyJoinModal=x.showWhyJoinModal,function(){y(),j.onReady(A),j.onNotReady(B),j.isNotReady()&&B(),h.track("Viewed Course List"),I()}(),a.$on("$destroy",z)}a.$inject=["$scope","$state","$stateParams","$q","$location","$uibModal","lodash","analyticsService","currentUserAccessService","guruAuthService","organisationService","acloudguruCourses","courseMetadataService","brandService","allCourses","productMetaDataService","artworkService","searchConstants","webseriesService","roleService","recommendationStorageService","browseSearchService","accessLevelConstants","whyJoinService"],angular.module("app.public").controller("CourseBrowserController",a)}(),function(){"use strict";function a(a,b){var c=this;!function(){c.scrollToGuruUrl=b.guruUrl,c.gurus=a.getProfiles(),c.guestGurus=a.getGuestInstructors()}()}a.$inject=["guruProfileService","$stateParams"],angular.module("app.public").controller("GurusPageController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){i.cancelOnReadying(w),i.cancelOnAuthStateChange(r),i.cancelOnAuthStateChange(s)}function r(){z.roleLoaded=!1,m.isMember().then(function(a){z.roleLoaded=!0,z.isMember=a})}function s(){return n.getLocationInfo().then(function(a){return o.getPricingObject(a.currencyCode).then(function(a){z.membershipPricing=a})})}function t(){var a=j.getProfiles();z.guruProfiles=d.take(d.filter(a,function(a){return a.featured}),4)}function u(){var a=new Date;a.setDate(a.getDate()-60);var b=a.getTime();f.fetchThreads({rank:"top",type:"question",hitsPerPage:8,afterTimestamp:b}).then(function(a){var b=a.hits;z.popularThreads=d.chunk(b,4)})}function v(){var a=h.getProducts({page:0,hitsPerPage:10,isFeatured:!0,isVisible:!0,types:{bundles:!1,courses:!0}}).then(d.property("hits"));a.then(function(a){return d.groupBy(a,"type")}).then(function(a){z.courses=a.course}),a.then(function(a){return d.map(a,"objectID")}).then(function(a){return g.getUserProductPricesWithCartPromoCodes({selectProducts:a})}).then(function(a){z.userProductPrices=a}),h.getProducts({page:0,hitsPerPage:10,isVisible:!0,types:{bundles:!1,courses:!0},filters:{skillLevels:"intro"}}).then(d.property("hits")).then(function(a){var b=["aws-introduction","gcp-101","intro-to-azure"];z.starterCourses=d(a).filter(function(a){return d.includes(b,a.objectID)}).value()})}function w(){var a=e.getProfile();a&&a.email?z.emailAddress=a.email:z.emailAddress=null}function x(){z.videoIsLoaded=!0}function y(a){return l.getSquareUrl(a)}var z=this;z.animateLogos=!1,z.emailAddress=null,z.videoIsLoaded=!1,z.roleLoaded=!1,z.testimonials=[{id:"juliet",quote:"Certifications are becoming more important nowadays because the market is much more competitive than it used to be. I prefer the ACG approach because you can study in your own free time, anytime of day & whatever platform you happen to be on. Like most things, this industry is a question of evolve or die so that's what I am trying to do.",name:"Juliet McMullen",imageSrc:"/images/testimonials/juliet-mcmullen.jpg",videoSrc:"https://public.acloud.guru/marketing/testimonials/juliet-mcmullen-3-720p.mp4",role:"Storage Consultant at Hitachi Data Systems"},{id:"diana",quote:"When I first started with AWS, I was looking into certifications and I had no idea where to start learning. I love the content at A Cloud Guru because I get a good basis of knowledge that I can build on.",name:"Diana Ionita",imageSrc:"/images/testimonials/diana-ionita.jpg",videoSrc:"https://public.acloud.guru/marketing/testimonials/diana-ionita-2-720p.mp4",role:"Serverless Consultant at LifeWorks"},{id:"ryan",quote:"Time commitment was a real challenge for me. The ACG courses enabled me to learn on my timescale. It was clear that the courses were actually going to have real examples in, which was really important to me because I actually wanted to use this. It wasn't about getting a certificate, I actually wanted to leverage the value of the cloud.",name:"Ryan Sheldrake",imageSrc:"/images/testimonials/ryan-sheldrake.jpg",videoSrc:"https://public.acloud.guru/marketing/testimonials/ryan-sheldrake-2-720p.mp4",role:"Solutions Architect at Sonatype"}],z.onPreviewPlayerReady=x,z.getArtwork=y,z.showWhyJoinModal=p.showWhyJoinModal,function(){t(),u(),v(),r(),s(),i.onAuthStateChange(r),i.onAuthStateChange(s),i.onReady(w)}(),a.$on("$destroy",q)}a.$inject=["$scope","$q","$uibModal","lodash","authService","forumService","productService","productMetaDataService","guruAuthService","guruProfileService","publicProfileService","artworkService","roleService","locationDetectionService","membershipPricingService","whyJoinService"],angular.module("app.public").controller("HomeController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(a){f.getUserProductPrices({userPromoCodeIds:[a]}).then(function(a){o.productPrices=a})}function j(){o.codeExists=!1,o.title="Sorry we cannot find that code",o.subtitle="Please check that url you have entered is correct",o.isPromoLoaded=!0,o.isProductsLoaded=!0,o.courseProducts=null,o.bundleProducts=null}function k(a){f.getPromoCode(a).then(function(a){if(!a)return void j();o.codeExists=!0,o.title=a.publicTitle||"Welcome to A Cloud Guru",o.subtitle=a.publicSubtitle||"Checkout these great deals below",o.isPromoLoaded=!0,l(h.reduce(a.products,function(a,b,c){return b&&a.push(c),a},[]))}).catch(j)}function l(a){g.searchProducts({hitsPerPage:100,isActive:!0,types:{courses:!0,bundles:!0}}).then(function(b){var c=h.reduce(b.hits,function(b,c){return h.includes(a,c.objectID)&&b.push(c),b},[]);o.courseProducts=h.filter(c,{type:"course"}),o.bundleProducts=h.filter(c,{type:"bundle"}),o.hasCourses=o.courseProducts.length,o.hasBundles=o.bundleProducts.length,o.isProductsLoaded=!0})}function m(a,c){return a&&(a.preventDefault(),a.stopPropagation()),d.go("public.checkout.index",{productIdQS:c,promoCodeQS:e.promoCode,backUrl:b.path()})}function n(a){return d.href("public.checkout.index",{productIdQS:a,promoCodeQS:e.promoCode,backUrl:b.path()})}var o=this;o.isPromoLoaded=!1,o.isProductsLoaded=!1,o.courseProducts=null,o.bundleProducts=null,o.productPrices=null,o.goToCheckout=m,o.getCheckoutUrl=n,function(){k(e.promoCode),i(e.promoCode)}()}a.$inject=["$scope","$location","$q","$state","$stateParams","productService","productMetaDataService","lodash"],angular.module("app.public").controller("JoinController",a)}(),function(){function a(a,b,c,d,e,f,g){function h(a){var b=d.getProfile();b&&b.email&&(k.emailAddress=b.email)}function i(){if(k.emailAddress){var a={email:k.emailAddress};f.submitWebseriesForm(j,a).then(function(){k.showSubscribed=!0})}}var j=c.hubspot.awsThisWeekFormId,k=this;k.emailAddress=null,k.subscribeUser=i,function(){e.onReady(h),k.showSubscribed=!!a.subscribed}()}a.$inject=["$stateParams","locationDetectionService","appConfig","authService","guruAuthService","hubspot","lodash"],angular.module("app.public").controller("AwsThisWeekController",a)}(),function(){function a(){}angular.module("app.public").controller("CloudcastController",a)}(),function(a,b){"use strict";a.module("vg-bkg-size",[]).directive("vgBkgSize",["$window",function(b){return{restrict:"A",require:"^videogular",link:function(c,d,e,f){var g,h,i=!1,j="contain"===e.vgBkgSize?"contain":"cover",k=!1!==e.center;f.vgBkgSize=f.vgBkgSize||{},f.vgBkgSize.update=function(){if(i){var a=f.videoElement[0];g=a.videoHeight,h=a.videoWidth,f.vgBkgSize.layout()}},f.vgBkgSize.layout=function(){if(i){var a,b,c=d[0].offsetHeight,e=d[0].offsetWidth,l=h/g;"contain"===j?c/e>g/h?(a=e,b=e/l):(a=c*l,b=c):"cover"===j&&(c/e>g/h?(l=h/g,c*l<e?(a=e,b=e/l):(a=c*l,b=c)):e/l<c?(a=c*l,b=c):(a=e,b=e/l)),f.videoElement.css({width:a+2,height:b+2,"max-height":"none","max-width":"none"}),k?f.videoElement.css({"margin-top":(c-(b+2))/2,"margin-left":(e-(a+2))/2}):f.videoElement.css({"margin-top":"","margin-left":""})}},e.$observe("vgBkgSize",function(a,b){a!==b&&(j="contain"===a?"contain":"cover",f.vgBkgSize.layout())}),e.$observe("center",function(a,b){a!==b&&(k=!1!==c.$eval(a),f.vgBkgSize.layout())}),c.$watch(function(){return f.isPlayerReady()},function(a,b){a!==b&&(!0===a?(i=!0,f.vgBkgSize.update()):i=!1)}),c.$on("$vgBkgSizeUpdate",f.vgBkgSize.update),c.$on("$vgBkgSizeLayout",f.vgBkgSize.layout),a.element(b).on("resize",f.vgBkgSize.layout)}}}])}(window.angular),function(){function a(a){this.marketingConfig=a.marketing}a.$inject=["featuresConfig"],angular.module("app.public").controller("OurStoryController",a)}(),function(){"use strict";function a(a,b){return{home:{title:"A Cloud Guru - Cloud computing certification training for the Amazon Cloud",titleSuffix:"",keywords:"aws, certifications, certified, cloud, amazon, solution architect, developer, sysops, administrator, lambda, ec2, s3, vpc, iam",description:"A Cloud Guru leads the world in cloud computing training with Amazon, Google, and Azure.","og:description":"A Cloud Guru leads the world in cloud computing training with Amazon, Google, and Azure."},membership:{title:"A Cloud Guru - Memberships",titleSuffix:"",keywords:"aws, certifications, certified, cloud, amazon, solution architect, developer, sysops, administrator, lambda, ec2, s3, vpc, iam",description:"Cloud computing can change your life. Become a member today to unlock unlimited access to courses and exclusive members-only content.","og:description":"Cloud computing can change your life. Become a member today to unlock unlimited access to courses and exclusive members-only content."},courses:{title:"Browse Content","og:title":"Learn AWS, Azure, Google Cloud, Linux & Salesforce with our online courses & series",description:"Browse our online courses and series that have helped "+b.marketing.schoolNumbers+"+ engineers get certified and level up in AWS, Azure, Google Cloud, Linux & Salesforce.","og:description":"Browse our online courses and series that have helped "+b.marketing.schoolNumbers+"+ engineers get certified and level up in AWS, Azure, Google Cloud, Linux & Salesforce."},serverless:{title:"A Cloud Guru Events - Serverlessconf Austin, London, New York, Tokyo","og:title":"A Cloud Guru Events - Serverlessconf Austin, London, New York, Tokyo",description:"Browse our serverless cloud related talks, presentations and online courses.","og:description":"Browse our serverless cloud related talks, presentations and online courses."},gurus:{title:" Our Gurus","og:title":" Our Gurus",description:"Meet the team that took 2 brothers from their garage in the Australian countryside to training a quarter million people on cloud computing.","og:description":"Meet the team that took 2 brothers from their garage in the Australian countryside to training a quarter million people on cloud computing."},"public.our-story":{title:"Our Story / About Us","og:title":"Our Story / About Us",description:"Our story is proof that anyone can become a cloud guru.","og:description":"Our story is proof that anyone can become a cloud guru."},"public.careers":{title:"Careers at A Cloud Guru","og:title":"Careers at A Cloud Guru",description:"Join the amazing team behind A Cloud Guru.","og:description":"Join the amazing team behind A Cloud Guru."},"public.aws-this-week":{title:"Top Stories From AWS This Week","og:title":"Top Stories From AWS This Week",description:"Sign up for exclusive access to all AWS This Week videos, delivered to your inbox. It's FREE.","og:description":"Sign up for exclusive access to all AWS This Week videos, delivered to your inbox. It's FREE.","og:image":"https://acloud.guru/images/webcast-preview.png"},"public.cloudcast":{title:"The Cloudcast, presented by A Cloud Guru","og:title":"The Cloudcast, presented by A Cloud Guru",description:"An award winning podcast on cloud computing, presented by A Cloud Guru.","og:description":"An award winning podcast on cloud computing, presented by A Cloud Guru.","og:image":"https://acloud.guru/images/cloudcast/social-share.jpg"},"public.terms":{title:"Terms Of Use","og:title":"Terms Of Use - A Cloud Guru"},"public.codeofconduct":{title:"Code Of Conduct","og:title":"Code Of Conduct - A Cloud Guru"},"public.privacy":{title:"Privacy Policy","og:title":"Privacy Policy - A Cloud Guru"},"public.termsofsale":{title:"Terms Of Sale","og:title":"Terms Of Sale - A Cloud Guru"}}}a.$inject=["appConfig","featuresConfig"],angular.module("app.public").factory("acloudguruMeta",a)}(),function(){"use strict";function a(a,b,c){b.configureStates(d(c))}function b(){var a={seriesUrls:["aws-this-week","maker-labs","release-review"]};return["graphqlService","lodash",function(b,c){
return b.sendQuery("query dashboard($seriesUrls: [String!]!) {                    getActiveSeriesByUrls(seriesUrls: $seriesUrls) {                        isProtected                        seriesId                        seriesUrl                        title                        description                        artworkKey                        activeEpisodes(limit: 4) {                            episodeId                            episodeUrl                            title                            shortSummary                            description                            publishedDateKey                            thumbnailUrl                            userProgress {                                status                                secondsWatched                                percentComplete                            }                        }                    }                    getNextCourseComponents(take: 1) {                        action                        courseId                        courseUrl                        courseTitle                        components {                            title                            url                            componentId                            sectionId                            sectionSequence                            componentSequence                        }                    }                }",a,!1,!0).then(function(a){var b=a.data;return{series:b.getActiveSeriesByUrls||[],nextCourseComponent:b.getNextCourseComponents||[]}})}]}function c(a,b){var c=(b||{}).pagePromotionId;return["$state","$stateParams","locationDetectionService","membershipPricingService",function(b,d,e,f){var g=c||d.promotionId,h=d.token||null;return e.getLocationInfo().then(function(d){return f.getPricingObject(d.currencyCode,g,h).then(function(e){return c&&e.promotionId!==c?void b.go("become-a-member-standard"):a({pricingInfo:{userLocation:d,membershipPricing:e}})})})}]}function d(a){return[{state:"home",config:{url:"/",templateUrl:"app/public/home.html",data:{cssClass:"page__homepage page__dark"},meta:a.home,controller:"HomeController",controllerAs:"vm"}},{state:"dashboard",config:{url:"/dashboard",templateUrl:"app/public/user-dashboard.html",data:{title:"Dashboard",navTab:"dashboard",mustLogin:!0,cssClass:"page__dark page__subtleNav userDashboard"},meta:a.courses,controller:"UserDashboardController",controllerAs:"vm",resolve:{dashboardData:b()}}},{state:"courses",config:{url:"/courses?vendors&topics&roles&skillLevels&services&authors&type&keywords",templateUrl:"app/public/course-browser.html",data:{title:"Browse Courses",navTab:"courses",cssClass:"page__dark"},meta:a.courses,controller:"CourseBrowserController",controllerAs:"vm",reloadOnSearch:!1,resolve:{}}},{state:"courses-yours",config:{url:"/courses/yours",redirectTo:"dashboard"}},{state:"public",config:{abstract:!0,url:"",data:{showAsModal:!0},views:{"":{templateUrl:"app/public/layout.html"}}}},{state:"public.bundle",config:{url:"/bundle/{bundleUrl}?{promoCode}",templateUrl:"app/public/bundle.html",controller:"BundleController",controllerAs:"vm",data:{showAsModal:!1}}},{state:"public.terms",config:{url:"/terms-of-use",templateUrl:"app/public/legals/terms-of-use.html",meta:a["public.terms"],data:{loginCategory:"legal",cssClass:"page__WhiteBackground"}}},{state:"public.codeofconduct",config:{url:"/code-of-conduct",templateUrl:"app/public/legals/code-of-conduct.html",meta:a["public.codeofconduct"],data:{loginCategory:"legal",cssClass:"page__WhiteBackground"}}},{state:"public.privacy",config:{url:"/privacy",templateUrl:"app/public/legals/privacy-policy.html",meta:a["public.privacy"],data:{loginCategory:"legal",cssClass:"page__WhiteBackground"}}},{state:"public.termsofsale",config:{url:"/terms-of-sale",templateUrl:"app/public/legals/terms-of-sale.html",meta:a["public.termsofsale"],data:{loginCategory:"legal",cssClass:"page__WhiteBackground"}}},{state:"public.us-terms",config:{url:"/legals/us/terms-of-use",templateUrl:"app/public/legals/us/terms-of-use.html",meta:a["public.terms"],data:{loginCategory:"legal",cssClass:"page__WhiteBackground"}}},{state:"public.us-privacy",config:{url:"/legals/us/privacy-policy",templateUrl:"app/public/legals/us/privacy-policy.html",meta:a["public.privacy"],data:{loginCategory:"legal",cssClass:"page__WhiteBackground"}}},{state:"public.join",config:{url:"/join/{promoCode}",templateUrl:"app/public/join.html",controller:"JoinController",controllerAs:"vm",data:{showAsModal:!1}}},{state:"gurus",config:{url:"/gurus/:guruUrl",templateUrl:"app/public/gurus.html",data:{title:"Meet the Gurus",navTab:"gurus"},meta:a.gurus,controller:"GurusPageController",controllerAs:"vm"}},{state:"public.teams",config:{url:"/teams",redirectToExternalUrl:"https://info.acloud.guru/a-cloud-guru-teams"}},{state:"public.our-story",config:{url:"/our-story",templateUrl:"app/public/our-story.html",controller:"OurStoryController",controllerAs:"vm",meta:a["public.our-story"],data:{showAsModal:!1}}},{state:"public.careers",config:{url:"/careers",templateUrl:"app/public/careers/open-positions.html",controller:"CareersOpenPositionsController",controllerAs:"vm",meta:a["public.careers"],data:{showAsModal:!1}}},{state:"public.slack",config:{url:"/slack?installed&error",templateUrl:"app/public/slack.html",controller:"SlackController",controllerAs:"vm",data:{showAsModal:!1}}},{state:"public.aws-this-week",config:{url:"/aws-this-week?subscribed",templateUrl:"app/public/landing-pages/aws-this-week/aws-this-week.html",controller:"AwsThisWeekController",controllerAs:"vm",meta:a["public.aws-this-week"],data:{showAsModal:!1,navTab:"aws-this-week"}}},{state:"public.cloudcast",config:{url:"/cloudcast",templateUrl:"app/public/landing-pages/cloudcast/cloudcast.html",controller:"CloudcastController",controllerAs:"vm",meta:a["public.cloudcast"],data:{showAsModal:!1,navTab:"cloudcast"}}},{state:"serverless",config:{url:"/serverless",templateUrl:"app/public/serverless.html",data:{title:"Browse Serverless Talks",navTab:"serverless"},meta:a.serverless,controller:"ServerlessController",controllerAs:"vm"}},{state:"become-a-member-standard",config:{url:"/membership?promotionId&token",templateUrl:"app/public/become-a-member.html",data:{title:"Become a Member",navTab:"membership",cssClass:"BecomeMember--Page"},resolve:{viewProps:c(function(a){var b=a.pricingInfo,c=b.membershipPricing,d=c.trial?"START A FREE TRIAL":"BECOME A MEMBER";return{pricingInfo:b,viewConfig:{header:{title:"Cloud computing can change your life",subtitle:"BECOME A MEMBER",cta:d,ctaSubtitle:"",showOfferSummary:!1,showExistingCustomerAccessMessage:!0},pricing:{cta:d,subtitle:"Stay up to date",notChargedMsg:c.trial?"You won’t be charged anything during your free trial.":null,offerNavBarText:""}}}})},meta:a.membership,controller:"BecomeAMemberController",controllerAs:"vm"}},{state:"become-a-member-isc-2018",config:{url:"/isc2?promotionId&token",templateUrl:"app/public/become-a-member.html",data:{title:"Become a Member -  (ISC)² Members Exclusive Offer",navTab:"membership",cssClass:"BecomeMember--Page"},resolve:{viewProps:c(function(a){return{pricingInfo:a.pricingInfo,viewConfig:{enableVideo:!1,header:{title:"Secure your cloud skills with A Cloud Guru",subtitle:"Exclusive offer for (ISC)² members",cta:"REDEEM YOUR FIRST MONTH FREE",ctaSubtitle:"(ISC)² members enjoy access to the industry's leading cloud certification training.",showOfferSummary:!1,showExistingCustomerAccessMessage:!1},pricing:{cta:"REDEEM FIRST MONTH FREE",subtitle:"Exclusive (ISC)² member offer",offerNavBarText:"Exclusive for (ISC)² members only"}}}})},meta:a.membership,controller:"BecomeAMemberController",controllerAs:"vm"}},{state:"become-a-member-beta",config:{url:"/become-a-beta-member",redirectTo:"become-a-member-standard"}},{state:"become-a-member-black-friday",config:{url:"/become-a-member-exclusive-offer",redirectTo:"become-a-member-standard"}},{state:"become-a-member-reinvent-2017",config:{url:"/reinvent-2017",redirectTo:"become-a-member-standard"}},{state:"become-a-member-amazon",config:{url:"/amazon-employees",templateUrl:"app/public/become-a-member.html",data:{title:"Amazon Employee Offer",navTab:"membership",cssClass:"BecomeMember--Page"},resolve:{viewProps:c(function(a){return{pricingInfo:a.pricingInfo,viewConfig:{enableVideo:!1,header:{title:"100% free for all Amazon employees",subtitle:"ACG Memberships are now...",cta:"SIGN IN WITH YOUR AMAZON EMAIL",ctaSubtitle:"It's our way of saying THANKS for building such awesome cloud products!",showOfferSummary:!1,amazonOnboardingMode:!0,showExistingCustomerAccessMessage:!1}}}})},meta:a.membership,controller:"BecomeAMemberController",controllerAs:"vm"}}]}a.$inject=["appConfig","routerHelper","acloudguruMeta"],angular.module("app.public").run(a)}(),function(){"use strict";function a(a,b,c){function d(){f.featureComponents.length<4&&c.getComponents(f.featureCourseId).then(function(a){f.featureComponents=b.map(a.slice(0,4),function(a){return console.log(a),a.componentIdentifier})})}function e(){}var f=this;f.featureCourseUrl="serverlessconf-nyc-2016",f.featureComponents=["62ff1861-e1a3-df00-af08-c3223d29ad20","466725ab-9ce7-e2eb-4841-66b2ce46d9d6","8479c0f3-8434-85b2-9911-c51be2bf0131","41a35d14-4eeb-23fc-ee88-40d66d829def"],function(){d()}(),a.$on("$destroy",e)}a.$inject=["$scope","lodash","courseComponentService"],angular.module("app.public").controller("ServerlessController",a)}(),function(){function a(a,b){var c=this;c.usageImage=b.location.origin+"/images/slack/usage.jpg",function(){c.installedToSlack=!!a.installed,c.errorInstalling=!!a.error}()}a.$inject=["$stateParams","$window"],angular.module("app.public").controller("SlackController",a)}(),angular.module("app.public").run(["$templateCache",function(a){"use strict"
;a.put("app/public/become-a-member.html",'<div class="BecomeMember--Masthead">\n\n    <gu-nav-shell></gu-nav-shell>\n\n    <nav class="navbar navbar-sm navbar-static-top navbar__membership" bs-affix data-offset-top="800">\n        <div class="container">\n            <ul class="nav navbar-nav hidden-xs">\n                <li>\n                    <a class="navbar-brand" ui-sref="home">\n                        <img src="/images/logo-small-optimised.png" alt="ACG Logo Cloud">\n                    </a>\n                </li>\n                <li>\n                    <a class="navbar__toplink" ng-click="vm.scrollToTop()">Back to top</a>\n                </li>\n            </ul>\n            <ul class="nav navbar-nav navbar-right navbar__payment">\n                <li>\n                   <shopping-cart></shopping-cart>\n                </li>\n                <li class="p-l-xs" ng-if="!vm.copy.header.amazonOnboardingMode">\n                    <small class="navbar__paymentOffer" ng-if="vm.roleLoaded && !vm.isMember">\n                        <span class="navbar__paymentOfferDiscount" ng-if="vm.membershipPricing.annual.discounted">Save {{ vm.membershipPricing.currencySymbol}}{{vm.membershipPricing.annual.discount.amount}} on annual. {{vm.copy.pricing.offerNavBarText}}</span>\n                        <span class="navbar__paymentOfferDiscount" ng-if="!vm.membershipPricing.annual.discounted">{{vm.copy.pricing.offerNavBarText}}</span>\n                    </small>\n                    \x3c!--\n                    Note:   The ng-click will determine whether or not\n                            to show the modal, or follow the ui-sref\n                    --\x3e\n                    <a class="btn btn--joinCta" ng-click="vm.showWhyJoinModal($event, \'annual\', true)" ng-if="vm.roleLoaded && !vm.isMember" ui-sref="members.join.signup({paymentType: vm.paymentType, token: vm.promotionToken, promotionId: vm.promotionId })">\n                            {{vm.copy.header.cta}}\n                            <i class="fa fa-arrow-circle-right"></i>\n                    </a>\n                    <span class="btn btn--joinCta btn__noInteraction" ng-if="vm.roleLoaded && vm.isMember">\n                        <i class="fa fa-check"></i>\n                        You\'re already a member!\n                    </span>\n                </li>\n                <li class="p-l-xs" ng-if="vm.copy.header.amazonOnboardingMode">\n                    <small class="navbar__paymentOffer" ng-if="vm.roleLoaded && !vm.isMember">\n                        Simply sign in or <a ng-click="vm.signup();" style="text-decoration: underline">sign up</a> with your Amazon email\n                    </small>\n                    <a class="btn btn--joinCta" ng-click="vm.login();" ng-if="vm.roleLoaded && !vm.isMember">\n                        Sign in with your Amazon email\n                        <i class="fa fa-arrow-circle-right"></i>\n                    </a>\n                    <span class="btn btn--joinCta btn__noInteraction" ng-if="vm.roleLoaded && vm.isMember">\n                        <i class="fa fa-check"></i>\n                        You\'re already a member!\n                    </span>\n                </li>\n            </ul>\n        </div>\n    </nav>\n\n    <div class="BecomeMember--MastheadContent">\n        <div class="BecomeMember--MastheadContentInner">\n            <div ng-if="!vm.copy.header.amazonOnboardingMode">\n                <h5 class="copyStatement--meta"><un-svg ng-if="vm.membershipPricing.promotionExpiry" svg-src="images/svg-icons/alarm-bell.svg"></un-svg> {{vm.copy.header.subtitle}}</h5>\n                <h1>{{vm.copy.header.title}}</h1>\n\n                \x3c!--\n                Note:   The ng-click will determine whether or not\n                        to show the modal, or follow the ui-sref\n                --\x3e\n                <a ng-click="vm.showWhyJoinModal($event, \'annual\', true)" class="btn btn--orange no-animate" ng-if="vm.roleLoaded && !vm.isMember" ui-sref="members.join.signup({paymentType: vm.paymentType, token: vm.promotionToken, promotionId: vm.promotionId })">\n                        {{vm.copy.header.cta}}\n                        <i class="fa fa-arrow-circle-right"></i>\n                </a>\n                <span class="btn btn--green btn__noInteraction no-animate" ng-if="vm.roleLoaded && vm.isMember">\n                    <i class="fa fa-check"></i>\n                    You\'re already a member!\n                </span>\n                <div class="BecomeMember--MastheadHurry" ng-if="vm.copy.header.ctaSubtitle">\n                    {{vm.copy.header.ctaSubtitle}}\n                    <div ng-if="vm.copy.header.showOfferSummary">One year of A Cloud Guru for just {{ vm.membershipPricing.currencySymbol}}{{ vm.membershipPricing.annual.price }}</div>\n                </div>\n            </div>\n            <div ng-if="vm.copy.header.amazonOnboardingMode">\n                <h5 class="copyStatement--meta">{{vm.copy.header.subtitle}}</h5>\n                <h1>{{vm.copy.header.title}}</h1>\n                <div class="BecomeMember--MastheadAmazon">\n                    <span class="BecomeMember--MastheadAmazonSubtitle">{{vm.copy.header.ctaSubtitle}}</span>\n\n                    <div class="BecomeMember--UserOnboardSection" ng-if="vm.roleLoaded && !vm.isMember">\n                        <a ng-click="vm.login();" class="btn btn--orange">\n                            Sign in with your Amazon email address\n                            <i class="fa fa-arrow-circle-right"></i>\n                        </a>\n                        <span class="BecomeMember--UserOnboardSectionButtonHeader">Existing Users</span>\n                        <span class="BecomeMember--UserOnboardSectionButtonText">You already have access because you signed up with your Amazon email address.</span>\n                    </div>\n\n                    <div class="BecomeMember--UserOnboardSection" ng-if="vm.roleLoaded && !vm.isMember">\n                        <a ng-click="vm.signup();" class="btn btn--orange">\n                                Sign up with your Amazon email address\n                                <i class="fa fa-arrow-circle-right"></i>\n                        </a>\n                        <span class="BecomeMember--UserOnboardSectionButtonHeader">New Users</span>\n                        <span class="BecomeMember--UserOnboardSectionButtonText">Simply sign-up using your Amazon email address &amp; follow the instruction to verify your email.</span>\n                    </div>\n                    <span class="btn btn--green btn__noInteraction no-animate" ng-if="vm.roleLoaded && vm.isMember">\n                        <i class="fa fa-check"></i>\n                        You\'re already a member!\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="BecomeMember--MastheadFounders" ng-if="vm.copy.enableVideo">\n        <div class="BecomeMember--MastheadFoundersInner">\n            <div ng-click="vm.showWelcomeModal()">\n                <img src="/images/checkout/video-poster-small.jpg" alt="">\n                <div class="BecomeMember--MastheadFoundersIndent">\n                    <h2>Play the special message from the founders</h2>\n                    <p>We want to say thanks to our most passionate users.</p>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="BecomeMember--FeatureRow">\n        <div class="container">\n\n            <h5 class="copyStatement--meta">What you get with your</h5>\n            <h1 class="copyStatement--heading">ACG Membership</h1>\n\n            <div class="BecomeMember--FeatureRowItem">\n                <div class="BecomeMember--FeatureRowIcon">\n                    <img src="/images/memberships/features/courses.png" alt="" aria-hidden="true">\n                </div>\n                <h3>Take Any<br> Course</h3>\n            </div>\n\n            <div class="BecomeMember--FeatureRowItem">\n                <div class="BecomeMember--FeatureRowIcon">\n                    <img src="/images/memberships/features/mobile.png" alt="" aria-hidden="true">\n                </div>\n                <h3>Watch<br> Offline</h3>\n            </div>\n\n            <div class="BecomeMember--FeatureRowItem">\n                <div class="BecomeMember--FeatureRowIcon">\n                    <img src="/images/memberships/features/series.png" alt="" aria-hidden="true">\n                </div>\n                <h3>Members-only<br> Series</h3>\n            </div>\n\n            <div class="BecomeMember--FeatureRowItem" ng-if="!vm.copy.header.amazonOnboardingMode">\n                <div class="BecomeMember--FeatureRowIcon">\n                    <img src="/images/memberships/features/swag.png" alt="" aria-hidden="true">\n                </div>\n                <h3>Exclusive<br> Swag</h3>\n            </div>\n\n            <div class="BecomeMember--FeatureRowItem">\n                <div class="BecomeMember--FeatureRowIcon">\n                    <img src="/images/memberships/features/exam-simulator.png" alt="" aria-hidden="true">\n                </div>\n                <h3>Exam<br> Simulator</h3>\n            </div>\n\n        </div>\x3c!--/.container--\x3e\n    </div>\x3c!--/FeatureRow--\x3e\n\n</div>\x3c!--/Masthead--\x3e\n\n\n\n<div class="container BecomeMember--CourseCatalogue">\n\n    <h5 class="copyStatement--meta">Unlimited Course Access</h5>\n    <h1 class="copyStatement--heading">The Courses You Want</h1>\n    <p class="copyStatement--blurb">\n        Get unlimited access to our entire course catalog.\n    </p>\n\n</div>\x3c!--/.container--\x3e\n\n<gu-course-carousel-standalone class="pos-rel" course-data="vm.featuredCourseData" course-list="vm.featuredCourseList">\n</gu-course-carousel-standalone>\n\n\n<div class="BecomeMember--OnlyACG">\n    <div class="container">\n        <div class="BecomeMember--OnlyACGPanel">\n\n            <div class="p-t-xl p-b-sm">\n\n                <h1 class="copyStatement--heading">Only on <span class="t__orangeB">ACG</span></h1>\n                <p class="copyStatement--blurb">\n                    We release new episodes weekly for our all-new original series\n                </p>\n\n            </div>\n\n\n            <div class="row BecomeMember--OnlyACGRow">\n                <div class="col col-sm-6 BecomeMember--Collage BecomeMember--Collage__makersLab">\n                    <div>\n                        <img src="/images/memberships/ml-1.jpg" alt="">\n                        <img src="/images/memberships/ml-2.jpg" alt="">\n                        <img src="/images/memberships/ml-3.jpg" alt="">\n                        <img src="/images/memberships/ml-4.jpg" alt="">\n                        <img src="/images/memberships/ml-5.jpg" alt="">\n                    </div>\n                </div>\x3c!--/.col--\x3e\n                <div class="col col-sm-6">\n                    <div class="BecomeMember--OnlyACGContent">\n                        <h2>Maker Labs</h2>\n                        <p>\n                            Build something awesome. Sharpen your skills and walk away with a working the 45-minute Maker Labs. Each lab is unique, and selected to cover topics that are relevant to your career. Maker Labs are the fastest way to keep your skills up-to-date in evolving cloud computing areas like Serverless, Voice, and Security.\n                        </p>\n                        <span class="BecomeMember--OnlyACGNumber">01</span>\n                    </div>\n                </div>\x3c!--/.col--\x3e\n            </div>\x3c!--/.row--\x3e\n\n\n            <div class="row BecomeMember--OnlyACGRow">\n                <div class="col col-sm-6 col-sm-push-6 BecomeMember--Collage__releaseReview BecomeMember--Collage">\n                    <div>\n                        <img src="/images/memberships/rr-1.jpg" alt="">\n                        <img src="/images/memberships/rr-2.jpg" alt="">\n                        <img src="/images/memberships/rr-3.jpg" alt="">\n                    </div>\n                </div>\x3c!--/.col--\x3e\n                <div class="col col-sm-6 col-sm-pull-6">\n                    <div class="BecomeMember--OnlyACGContent">\n                        <h2>Release Review</h2>\n                        <p>\n                            The first place to learn about new services as they are released by Amazon Web Services. We tell you what the service does &amp; why you would use it... then we jump straight into a demo and get our hands dirty in the AWS console! <br><br>The series is honest - we cover both the good and the bad and then deliver our verdict... should you use this service now, or hold off? Save your time and sanity by not having to sift through blogs and documentation. Watch ACGcourse Release Review during your commute to stay up-to-date with cloud computing.\n                        </p>\n                        <span class="BecomeMember--OnlyACGNumber">02</span>\n                    </div>\n                </div>\x3c!--/.col--\x3e\n            </div>\x3c!--/.row--\x3e\n\n            <div class="BecomeMember--SeriesList">\n                <h5 class="copyStatement--meta">Plus other great</h5>\n                <h1 class="copyStatement--heading">New Original Series</h1>\n                <div>\n                    <img src="/images/memberships/tile-bios.jpg" alt="ACG Biographies - An ACG Original Series">\n                    <img src="/images/memberships/tile-aws.jpg" alt="AWS This Week - An ACG Original Series">\n                    <img src="/images/memberships/tile-azure.jpg" alt="Azure This Month - An ACG Original Series">\n                </div>\n                <h5 class="BecomeMember--SeriesListMore">With more coming soon</h5>\n            </div>\n\n\n            <div class="row BecomeMember--OnlyACGRow">\n                <div class="col col-sm-6 BecomeMember--Collage BecomeMember--Collage__examSimulator">\n                    <div>\n                         <videogular class="videogular videogular__16-9 videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" vg-update-state="vm.onExamSimVideoUpdateState($state)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n                                <vg-media vg-src="\'https://public.acloud.guru/marketing/exam-simulator-2-720p.mp4\'" vg-preload="\'none\'">\n                                </vg-media>\n\n                                <vg-controls>\n                                    <vg-play-pause-button></vg-play-pause-button>\n                                    <vg-time-display>\n                                        {{ currentTime | date:\'mm:ss\':\'UTC\' }}\n                                    </vg-time-display>\n                                    <vg-scrub-bar>\n                                        <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                                    </vg-scrub-bar>\n                                    <vg-volume>\n                                        <vg-mute-button></vg-mute-button>\n                                        <vg-volume-bar></vg-volume-bar>\n                                    </vg-volume>\n                                    <vg-fullscreen-button></vg-fullscreen-button>\n                                </vg-controls>\n\n                                <vg-overlay-play></vg-overlay-play>\n\n                                <vg-poster vg-url="\'/images/memberships/es-poster.jpg\'"></vg-poster>\n\n                        </videogular>\n                    </div>\n                </div>\x3c!--/.col--\x3e\n                <div class="col col-sm-6">\n                    <div class="BecomeMember--OnlyACGContent">\n                        <h2>Exam Simulator</h2>\n                        <h3>A new test every time</h3>\n                        <p>\n                            Prepare yourself to confidently face the pressures of the real AWS exams. Answer 60 scenario based, multiple-choice and multiple-select questions in an 80 minute simulation. All tests are mapped to the exact domains in the AWS exam blueprint, and questions are selected from a pool of hundreds of exam questions, so each test is unique.\n                        </p>\n                        <p>\n                            Review your Exam Simulator Report to know how you scored on each domain. Your report includes personalized recommendations on how to increase your score.\n                        </p>\n                        <small>* Only available via the website for AWS Associate courses, Pro courses integrated soon</small>\n                        <span class="BecomeMember--OnlyACGNumber">03</span>\n                    </div>\n                </div>\x3c!--/.col--\x3e\n            </div>\x3c!--/.row--\x3e\n\n\n\n        </div>\n    </div>\x3c!--/.container--\x3e\n</div>\n\n<div class="BecomeMember--LongGradient">\n\n    <div class="BecomeMember--MobileApp">\n\n        <div class="container">\n            <div class="BecomeMember--MobileAppText js--parallax" data-rellax-speed="-1" data-rellax-percentage=".5">\n                    <h1>Watch<br> Anywhere</h1>\n                    <p>\n                        Learn on-the-go with A Cloud Guru Offline Mode* for iPhone and Android.\n                    </p>\n\n                    <div class="BecomeMember--MobileAppButtons">\n                        <a class="BecomeMember--MobileAppApple" href="https://itunes.apple.com/us/app/a-cloud-guru/id1286720016?ls=1&mt=8" target="_blank">\n                            <img alt="Get it on Apple iTunes" src="/images/mobile/apple-app-download.png">\n                        </a>\n                        <a class="BecomeMember--MobileAppAndroid" href="https://play.google.com/store/apps/details?id=com.acloudguru&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1" target="_blank">\n                            <img alt="Get it on Google Play" src="/images/mobile/android-app-download.png">\n                        </a>\n                    </div>\n            </div>\n            <div class="BecomeMember--MobileAppImageCol">\n                <img src="/images/memberships/mobile-app.png" class="js--parallax" data-rellax-speed="-2" data-rellax-percentage="0.5" alt="A Cloud Guru mobile app for offline viewing">\n            </div>\n        </div>\x3c!--/.container--\x3e\n\n    </div>\x3c!--/MobileApp--\x3e\n\n    <div class="BecomeMember--CircleBg">\n\n        <div class="container BecomeMember--Circles">\n            <div class="GreatBigCircle1"></div>\n            <div class="GreatBigCircle2"></div>\n        </div>\n\n        <div class="container BecomeMember--Testimonials">\n            <h1 class="copyStatement--heading">A few of our students</h1>\n\n            \x3c!-- Carousel component contains its own responsive mode switching logic --\x3e\n            <gu-testimonial-carousel testimonials="vm.testimonials"></gu-testimonial-carousel>\n\n        </div>\x3c!--/.container--\x3e\n\n        <div class="container BecomeMember--Swag" ng-if="!vm.copy.header.amazonOnboardingMode">\n            <h1 class="copyStatement--heading m-b-0">Exclusive shirt and sticker pack</h1>\n            <h5 class="copyStatement--meta m-b-xl">For annual subscribers only</h5>\n            <img src="/images/memberships/yolo-swag.jpg" alt="Exclusive swag pack for annual members">\n        </div>\n\n\n    </div>\n\n</div>\x3c!--/LongGradient--\x3e\n\n\n<div class="BecomeMember--PricingSection" ng-if="!vm.copy.header.amazonOnboardingMode">\n\n    <div class="container">\n\n        <h5 class="copyStatement--meta">\n            <un-svg ng-if="vm.membershipPricing.promotionExpiry " svg-src="images/svg-icons/alarm-bell.svg"></un-svg>\n            {{vm.copy.pricing.subtitle}}\n        </h5>\n\n        <h1 class="copyStatement--heading">Join A Cloud Guru</h1>\n        <p class="copyStatement--blurb">\n            Get access to private Members-Only content, features and events.\n        </p>\n\n        <div class="BecomeMember--CallOutMessage" ng-if="vm.copy.pricing.notChargedMsg">\n            <div>\n                <un-svg svg-src="images/svg-icons/check-bubble.svg"></un-svg>\n                {{vm.copy.pricing.notChargedMsg}}\n            </div>\n        </div>\n\n        <div class="BecomeMember--PricingTable">\n            <a class="BecomeMember--PricingPanel BecomeMember--PricingPanel__Annual" ng-click="vm.showWhyJoinModal($event, \'annual\', true)" ui-sref="members.join.signup({ paymentType: \'annual\', promotionId: vm.promotionId, token: vm.promotionToken })">\n                <span class="BecomeMember--PricingPanelInner">\n                    <div class="cornerRibbon cornerRibbon__topRight cornerRibbon__red" ng-if="vm.membershipPricing.annual.discounted">\n                        <span>SAVE {{vm.membershipPricing.annual.discountPercent}}%</span>\n                    </div>\n                    <h2>Annual Member</h2>\n                    <span class="BecomeMember--PriceBlock BecomeMember--PriceBlock__Loaded">\n                            <span class="custom-spinner custom-spinner__absoluteMiddle"></span>\n                            <span class="PriceValue">\n                                <span class="PriceValue--Symbol">\n                                    {{vm.membershipPricing.currencySymbol}}\n                                </span>\n                                <span class="PriceValue--Value">{{vm.membershipPricing.annual.price / 12 | number:2}}</span>\n                                <span class="PriceValue--Currency">\n                                    /mo\n                                </span>\n                            </span>\n                            <span class="BecomeMember--PricingPanelDisclaimer" ng-if="!vm.membershipPricing.annual.discounted">\n                                Billed annually as {{vm.membershipPricing.currencySymbol}}{{vm.membershipPricing.annual.price}}\n                                <span ng-if="vm.membershipPricing.currencyCode === \'USD\'">USD</span>\n                            </span>\n                            <span class="BecomeMember--PricingPanelDisclaimer" ng-if="vm.membershipPricing.annual.discounted">\n                                <ng-pluralize count="vm.membershipPricing.annual.discount.billingCycles" when="{\'0\': \'Billed annually as\',\n                                        \'one\': \'First year billed at \',\n                                        \'other\': \'First {} years billed at\'}">\n                                </ng-pluralize>\n                                {{vm.membershipPricing.currencySymbol}}{{vm.membershipPricing.annual.price}}\n                                <span ng-if="vm.membershipPricing.currencyCode === \'USD\'">USD</span>\n                            </span>\n\n                            <span class="BecomeMember--PricingPanelDiscount" ng-if="vm.membershipPricing.annual.discounted">\n                                Usually <span class="BecomeMember--PricingPanelRegularPrice">{{vm.membershipPricing.currencySymbol}}{{vm.membershipPricing.annual.regularPrice}}</span>\n                            </span>\n\n                    </span>\n                    <ul class="BecomeMember--PricingFeatureList">\n                        <li ng-if="vm.membershipPricing.trial">\n                            <i class="fa fa-check"></i> {{vm.membershipPricing.trial.duration}} {{vm.membershipPricing.trial.unit}} free trial\n                        </li>\n                        <li>\n                            <i class="fa fa-check"></i> Unlimited course access\n                        </li>\n                        <li>\n                            <i class="fa fa-check"></i> Members-only tools and content\n                        </li>\n                        <li>\n                            <i class="fa fa-check"></i> Serverlessconf discounts\n                        </li>\n                        <li>\n                            <i class="fa fa-check"></i> Exclusive swag pack\n                        </li>\n                    </ul>\n                    <button class="btn btn--green" ng-if="vm.roleLoaded && !vm.isMember">{{vm.copy.pricing.cta}}</button>\n                    <button class="btn btn--green btn__noInteraction" ng-if="vm.roleLoaded && vm.isMember">\n                        <i class="fa fa-check"></i> Already a member\n                    </button>\n                </span>\n            </a>\n            <a class="BecomeMember--PricingPanel BecomeMember--PricingPanel__Monthly" ng-click="vm.showWhyJoinModal($event, \'monthly\', true)" ui-sref="members.join.signup({ paymentType: \'monthly\', promotionId: vm.membershipPricing.promotionId, token: vm.promotionToken })">\n                <span class="BecomeMember--PricingPanelInner">\n                    <div class="cornerRibbon cornerRibbon__topLeft cornerRibbon__red" ng-if="vm.membershipPricing.monthly.discounted">\n                        <span>SAVE {{vm.membershipPricing.monthly.discountPercent}}%</span>\n                    </div>\n                    <h2>Monthly Member</h2>\n                    <span class="BecomeMember--PriceBlock BecomeMember--PriceBlock__Loaded">\n\n                            <span class="custom-spinner custom-spinner__absoluteMiddle"></span>\n                            <span class="PriceValue">\n                                <span class="PriceValue--Symbol">{{vm.membershipPricing.currencySymbol}}</span>\n                                <span class="PriceValue--Value">{{vm.membershipPricing.monthly.price}}</span>\n                                <span class="PriceValue--Currency">\n                                    /mo\n                                </span>\n                            </span>\n                            <span class="BecomeMember--PricingPanelDisclaimer" ng-if="!vm.membershipPricing.monthly.discounted">\n                                Prices displayed in {{vm.membershipPricing.currencyCode}}\n                            </span>\n                            <span class="BecomeMember--PricingPanelDisclaimer" ng-if="vm.membershipPricing.monthly.discounted">\n                                <ng-pluralize count="vm.membershipPricing.annual.discount.billingCycles" when="{\'0\': \'Billed monthly as\',\n                                        \'one\': \'First month billed at \',\n                                        \'other\': \'First {} months billed at\'}">\n                                </ng-pluralize>\n                                {{vm.membershipPricing.currencySymbol}}{{vm.membershipPricing.annual.price}}\n                                <span ng-if="vm.membershipPricing.currencyCode === \'USD\'">USD</span>\n                            </span>\n\n                            <span class="BecomeMember--PricingPanelDiscount" ng-if="vm.membershipPricing.monthly.discounted">\n                                Usually <span class="BecomeMember--PricingPanelRegularPrice">\n                                    {{vm.membershipPricing.currencySymbol}}{{vm.membershipPricing.monthly.regularPrice}}\n                                </span>\n                            </span>\n                    </span>\n                    <ul class="BecomeMember--PricingFeatureList">\n                        <li ng-if="vm.membershipPricing.trial">\n                            <i class="fa fa-check"></i> {{vm.membershipPricing.trial.duration}} {{vm.membershipPricing.trial.unit}} free trial\n                        </li>\n                        <li>\n                            <i class="fa fa-check"></i> Unlimited course access\n                        </li>\n                        <li>\n                            <i class="fa fa-check"></i> Members-only tools and content\n                        </li>\n                        <li class="BecomeMember--PricingFeatureListItem__disabled">\n                            <i class="fa fa-check"></i> Serverlessconf discounts\n                        </li>\n                        <li class="BecomeMember--PricingFeatureListItem__disabled">\n                            <i class="fa fa-check"></i> Exclusive swag pack\n                        </li>\n                    </ul>\n                    <button class="btn btn-outline btn-success" ng-if="vm.roleLoaded && !vm.isMember">{{vm.copy.pricing.cta}}</button>\n                    <button class="btn btn--green btn__noInteraction" ng-if="vm.roleLoaded && vm.isMember">\n                        <i class="fa fa-check"></i> Already a member\n                    </button>\n                </span>\n            </a>\n        </div>\n\n        <div class="BecomeMember--NoLoseAccess BecomeMember--CallOutMessage" ng-if="vm.copy.header.showExistingCustomerAccessMessage">\n                <div>\n                    <un-svg svg-src="images/svg-icons/check-bubble.svg"></un-svg>\n                    Existing customers: You won\'t lose access to previous course purchases if you cancel your membership.\n                </div>\n            </div>\n\n    </div>\x3c!--/.container--\x3e\n\n</div>\x3c!--/Pricing--\x3e\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),
a.put("app/public/careers/open-positions.html",'<main>\n\n    <section class="careers--masthead p-y-0">\n\n        <gu-nav-shell></gu-nav-shell>\n\n        <div class="container careers--mastheadContainer">\n\n            <span class="careers--mastheadPrefix">\n                Careers at A Cloud Guru\n            </span>\n            <h1>\n                Join A Cloud Guru and help teach the world to cloud.\n            </h1>\n            <p class="careers--mastheadSuffix careers--mastheadSuffix__headingTripleLine">\n                We look for humble people that are really good at what they do.\n                We give them the space to do things differently than the way they\'ve always been done.\n            </p>\n            <videogular class="videogular videogular__16-9 videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n\n                <vg-media vg-src="\'https://public.acloud.guru/marketing/mission-statement-720p-11-09-2017.mp4\'" vg-preload="\'none\'"></vg-media>\n\n                <vg-controls>\n                    <vg-play-pause-button></vg-play-pause-button>\n                    <vg-time-display>{{ currentTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display>\n                    <vg-scrub-bar>\n                        <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                    </vg-scrub-bar>\n\n                    <vg-volume>\n                        <vg-mute-button></vg-mute-button>\n                        <vg-volume-bar></vg-volume-bar>\n                    </vg-volume>\n                    <vg-fullscreen-button></vg-fullscreen-button>\n                </vg-controls>\n                <vg-overlay-play></vg-overlay-play>\n                <vg-poster vg-url="\'/images/careers/video-poster.jpg\'"></vg-poster>\n            </videogular>\n\n        </div>\x3c!--/.container--\x3e\n\n    </section>\n\n\n    <section class="white careers--section p-t-xxxl">\n        <div class="container">\n            <div class="row">\n                <div class="col col-sm-6">\n                    <img src="/images/careers/collage-people.jpg" alt="">\n                </div>\n                <div class="col col-sm-6 careers--textColumn">\n                    <h2>Help us teach the world to cloud</h2>\n                    <p class="careers--p">\n                        A Cloud Guru is changing the careers and lives of people around the world. Our online training courses have helped students upskill and change their trajectory of their careers.\n                    </p>\n                    <blockquote class="blockquote__purple">\n                        If you want to make an impact, join our team and help us change the lives of people on a global scale.\n                    </blockquote>\n                </div>\n            </div>\n        </div>\n    </section>\n\n\n\n    <section class="white careers--section">\n        <div class="container">\n            <div class="row">\n                <div class="col col-sm-6 col-sm-push-6">\n                    <img src="/images/careers/collage-us.jpg" alt="">\n                </div>\n                <div class="col col-sm-6 col-sm-pull-6 careers--textColumn">\n                    <h2>Become A Cloud Guru</h2>\n                    <p class="careers--p">\n                        Being a cloud guru means living and breathing the behaviours and values that we hold dear. These are the behaviours that we pride ourselves on, and that enabled us all to build the company we enjoy working at today.\n                    </p>\n                    <blockquote class="blockquote__purple m-b-xs">\n                        <strong>We care</strong> about each other, and our customers<br>\n                    </blockquote>\n                    <blockquote class="blockquote__purple m-b-xs">\n                        <strong>We thrive</strong> in a fast paced environment\n                    </blockquote>\n                    <blockquote class="blockquote__purple m-b-xs">\n                        <strong>We are determined</strong> to succeed<br>\n                    </blockquote>\n                </div>\n            </div>\n        </div>\n    </section>\n\n\n\n    <section class="white careers--section">\n        <div class="container">\n            <div class="row">\n                <div class="col col-sm-6">\n                    <img src="/images/careers/collage-balanced.jpg" alt="">\n                </div>\n                <div class="col col-sm-6 careers--textColumn">\n                    <h2>Find your balance</h2>\n                    <p class="careers--p">\n                        Our people matter to us. Finding time in life for friends, family, learning and development, is important.\n                    </p>\n                    <p class="careers--p">\n                        We understand that well-rested and well-rounded people are happier at work and at home. That’s the reason our employees receive additional leave each year.\n                    </p>\n                </div>\n            </div>\n        </div>\n    </section>\n\n\n\n\n    <section class="white careers--section">\n        <div class="container">\n            <div class="row">\n                <div class="col col-sm-6 col-sm-push-6">\n                    <img src="/images/careers/office-melb.jpg" alt="" class="m-b-md">\n                    <img src="/images/careers/office-london.jpg" alt="">\n                </div>\n                <div class="col col-sm-6 col-sm-pull-6 careers--textColumn">\n                    <h2>A global company <br>with global impact</h2>\n                    <p class="careers--p">\n                        We strive to create enjoyable working environments for our staff, all over the world.\n                    </p>\n                    <p class="careers--p careers--p__small">\n                        Whether it\'s geeking out in our <strong>Melbourne</strong> office, with barista-style coffee machine &amp; a fierce table tennis tournament, or the roll-up-your-sleeves startup vibe of our <strong>UK</strong> office nestled within a house on a 50 acre country estate... complete with running fireplace &amp; self-playing piano, or the fun startup space that we work from at the Impact Hub in <strong>Austin, TX</strong> with it\'s outdoors-indoors feeling &amp; funky event space.\n                    </p>\n                </div>\n            </div>\n        </div>\n    </section>\n\n\n\n\n    <section class="white careers--section careers--positionsBlock">\n        <div class="container">\n\n            <span class="careers--sectionPrefix">\n                Work With Us\n            </span>\n            <h2 class="text-center">\n                Open Positions\n            </h2>\n            <p>\n                The Guru team is expanding, and we\'re looking for talented people who share our passion for teaching the world to cloud.\n            </p>\n            <div class="careers--team" ng-repeat="(team, positions) in vm.teams">\n                <h3>{{team}}</h3>\n                <div class="openPositions">\n                    <div class="openPositions--item" ng-repeat="position in positions | orderBy:\'text\'">\n                        <a class="clearfix" href="{{position.hostedUrl}}">\n                            <span class="openPositions--learn">\n                                Learn More\n                                <i class="fa fa-long-arrow-right"></i>\n                            </span>\n                            <h5 class="openPositions--title">{{position.text}}</h5>\n                            <span class="openPositions--location">\n                                {{position.categories.location}} &mdash; {{position.categories.commitment}}\n                            </span>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n    <section class="careers--section careers--locationsBlock">\n        <div class="container">\n            <h2 class="text-center">\n                Locations\n            </h2>\n            <div class="row careers--locations">\n                <div class="col-md-4 careers--location">\n                    <img src="/images/careers/aus.png">\n                    <div class="careers--address">\n                        <h4>Melbourne</h4>\n                        <span>Australia</span>\n                        <address>\n                            Level 4\n                            93-95 Queen Street\n                            Melbourne VIC 3000\n                        </address>\n                    </div>\n                </div>\n                <div class="col-md-4 careers--location">\n                    <img src="/images/careers/uk.png">\n                    <div class="careers--address">\n                        <h4>London</h4>\n                        <span>United Kingdom</span>\n                        <address>\n                            Salwey House\n                            Runnymede Park Tite Hill\n                            Egham Surrey TW20 0NB\n                        </address>\n                    </div>\n                </div>\n                <div class="col-md-4 careers--location">\n                    <img src="/images/careers/texas.png">\n                    <div class="careers--address">\n                        <h4>Austin, TX</h4>\n                        <span>United States</span>\n                        <address>\n                            Impact Hub\n                            411 West Monroe St\n                            Austin, TX 78704\n                        </address>\n                    </div>\n                </div>\n            </div>\n        </div>\x3c!--/.container--\x3e\n    </section>\n</main>\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),a.put("app/public/components/bundle-card.html",'<div class="panel panel-default browse-card--panel">\n    <a href="{{vm.bundleUrl}}">\n        <img ng-optimise-image="vm.artwork" ng-optimise-image-width="600" alt="{{vm.bundleTitle}} bundle artwork">\n        <div class="panel-body">\n            <h2>{{vm.bundleTitle}}</h2>\n            <div class="browse-card--footer">\n                <p ng-if="vm.owned" class="pretty-price" tooltip-placement="top-right" uib-tooltip="You own this bundle!">\n                        <un-svg svg-src="images/svg-icons/circle-check.svg"></un-svg>\n                </p>\n                <p class="pretty-price" ng-show="!vm.owned && vm.price.showPrice" tooltip-placement="top-right" uib-tooltip="{{vm.discountTooltip}}">\n                        <span class="pretty-price__discounted" ng-if="vm.showDiscountIndication">*</span>\n                        <span class="pretty-price--value" ng-if="vm.price.price !== 0">\n                            <sup>{{vm.price.currencySymbol}}</sup>\n                            <span>{{vm.price.price}}</span>\n                        </span>\n                        <span ng-if="vm.price.price === 0">\n                            FREE\n                        </span>\n                </p>\n                <span class="browse-card--duration">\n                    {{vm.courseCount}} Courses\n                </span>\n                <span class="browse-card--difficulty">\n                    {{vm.skillLevels.join(\', \')}}\n                </span>\n            </div>\n        </div>\n    </a>\n</div>'),a.put("app/public/components/course-card.html",'<div class="panel panel-default browse-card--panel">\n    <a ng-href="{{vm.courseUrl}}">\n        <div class="browse-card--imagery">\n            <img ng-optimise-image="vm.artwork" ng-optimise-image-square="300" alt="{{vm.courseTitle}} course artwork">\n        </div>\n\n        <div class="panel-body">\n            <h2>{{vm.courseTitle}}</h2>\n            <div class="browse-card--footer">\n\n                <span class="btn btn-outline btn-success" ng-if="vm.owned">\n                    Open\n                </span>\n\n                <span class="btn btn-outline btn-success" ng-if="!vm.owned && !vm.price.showPrice">\n                    Get\n                </span>\n\n                <p class="pretty-price" ng-show="!vm.owned && vm.price.showPrice" tooltip-placement="top-right" uib-tooltip="{{vm.discountTooltip}}">\n                        <span class="pretty-price__discounted" ng-if="vm.showDiscountIndication">*</span>\n                        <span class="pretty-price--value" ng-if="vm.price.price !== 0 && vm.price.currencySymbol !== \'PTS\'">\n                            <sup>{{vm.price.currencySymbol}}</sup>\n                            <span>{{vm.price.price}}</span>\n                        </span>\n                        <span class="pretty-price--value" ng-if="vm.price.currencySymbol == \'PTS\' && vm.price.price != 0">\n                            <span>{{vm.price.price}}</span>\n                            <sup>{{vm.price.currencySymbol}}</sup>\n                        </span>\n                        <span ng-if="vm.price.price === 0">\n                            FREE\n                        </span>\n                </p>\n                <span class="browse-card--duration">\n                    {{vm.duration}} hours\n                </span>\n                <span class="browse-card--difficulty">\n                    {{vm.skillLevels.join(\', \')}}\n                </span>\n            </div>\n        </div>\x3c!--/.panel-body--\x3e\n    </a>\n</div>\x3c!--/.panel--\x3e'),a.put("app/public/components/gu-component-card.html",'<div class="card component-card" ng-class="{\'loaded\': vm.isLoaded }">\n     <div class="card-content">\n        <a class="component-card-banner placeholder" ng-href="{{vm.componentUrl}}" ng-optimise-image="vm.component.content.videoposter" ng-optimise-image-width="400" ng-optimise-as-style-background="true">\n             <div class="component-card-banner-play"></div>\n        </a>\n        <h2><a ng-href="{{vm.componentUrl}}" class="placeholder" title="{{vm.component.title}}">{{vm.component.title}}</a></h2>\n      </div>\n</div>'),a.put("app/public/components/gu-course-carousel-standalone.component.html",'<div class="GuCourseCarousel--Controls">\n    <div class="GuCourseCarousel--ControlsPrev" ng-click="vm.prevClick()">\n        <i class="fa fa-angle-left"></i>\n    </div>\n    <div class="GuCourseCarousel--ControlsNext" ng-click="vm.nextClick()">\n        <i class="fa fa-angle-right"></i>\n    </div>\n</div>\n\n<div class="GuCourseCarousel--Wrapper">\n\n    <div class="GuCourseCarousel--BackgroundWrapper">\n        <div class="GuCourseCarousel--BackgroundRow"></div>\n        <div class="GuCourseCarousel--BackgroundRow"></div>\n        <div class="GuCourseCarousel--BackgroundRow"></div>\n    </div>\n\n\n    <slick settings="vm.slickConfig" ng-if="vm.loaded">\n\n        <div class="GuCourseCarousel" ng-repeat="course in vm.courseList">\n            <div class="GuCourseCarousel--Image">\n\n                <img ng-optimise-image="vm.getImageSrc(vm.courseData[course].artworkKey)" ng-optimise-image-square="400" alt="{{vm.courseData[course].title}} course artwork">\n\n            </div>\n            <div class="GuCourseCarousel--Panel">\n                <h2>{{vm.courseData[course].title}}</h2>\n                <p>\n                    {{vm.courseData[course].shortSummary}}\n                </p>\n            </div>\n        </div>\n\n    </slick>\n\n\n</div>'),a.put("app/public/components/gu-dashboard-scorecard.component.html",'<div class="guDashboardScorecard">\n\n    <div class="panel panel-default">\n        <div class="panel-body">\n\n            <h2 class="t__heavy">Your Scorecard</h2>\n\n            <hr>\n\n            <div ng-if="!vm.profileLoaded" class="custom-spinner custom-spinner__large custom-spinner__absoluteMiddle">\n            </div>\n\n            <div ng-if="vm.profileLoaded">\n\n\n\n                \x3c!-- Gem/Reputation --\x3e\n                <div class="guDashboardScorecard--iconLeft {{vm.reputationClass}}">\n                    <un-svg svg-src="images/svg-icons/gem2.svg"></un-svg>\n                </div>\n                <div class="guDashboardScorecard--iconIndent {{vm.reputationClass}}">\n                    <h4 class="t__heavy">\n                        <ng-pluralize count="vm.fbProfile.voteSum" when="{\'0\': \'{} Points\',\n                                   \'one\': \'1 Point\',\n                                   \'other\': \'{} Points\'}">\n                        </ng-pluralize>\n                        <i class="fa fa-fw fa-info-circle" ng-click="vm.showReputationModal()"></i>\n                    </h4>\n                    <div class="clearfix">\n                        <p class="help-block pull-left">Level {{vm.reputationLevel.levelAsNumber}}: {{vm.reputationLevel.levelAsString}}</p>\n                        <p class="help-block pull-right">Next up: {{vm.nextLevel.levelAsString}}</p>\n                    </div>\n                    <gu-progress-bar value="vm.nextLevelComplete" size="xxs" show-label="false">\n                    </gu-progress-bar>\n                </div>\n\n\n                <hr>\n\n\n                \x3c!-- Certifications --\x3e\n                <div class="guDashboardScorecard--iconLeft">\n                    <img src="/images/ui-medal.png" ng-if="vm.userCertifications.length === 1" alt="">\n                    <span class="certCount" ng-if="vm.userCertifications.length > 1">\n                        <span>{{vm.userCertifications.length}}</span>\n                        <img src="/images/ui-medal-blank.png" alt="">\n                    </span>\n                    <img src="/images/ui-medal-disabled.png" ng-if="vm.userCertifications.length === 0" alt="">\n                </div>\n                <div class="guDashboardScorecard--iconIndent">\n                    <h4 class="t__heavy">\n                        Your Certifications\n                    </h4>\n                    <div ng-if="vm.userCertifications.length > 0">\n                        <ul class="list-unstyled">\n                            <li ng-repeat="cert in vm.userCertifications | limitTo:2">\n                                <small ng-if="cert.expiringSoon" class="text-danger" uib-tooltip="Expires {{cert.expiryDate | amDateFormat:\'DD MMMM YYYY\'}}">EXP SOON</small>\n                                <small ng-if="!cert.expiringSoon" uib-tooltip="Expires {{cert.expiryDate | amDateFormat:\'DD MMMM YYYY\'}}">EXP {{cert.expiryDate | amDateFormat:\'MM/YYYY\'}}</small>\n                                <span>{{cert.provider}} {{cert.title}}</span>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="guDashboardScorecard--emptyCertsMessage" ng-if="vm.userCertifications.length === 0">\n                         None added\n                    </div>\n                    <a ui-sref="certifications.step0" ng-if="vm.userCertifications.length < 3">\n                        Upload a Certification <i class="fa fa-angle-right"></i>\n                    </a>\n                    <a ui-sref="app.public-profile({displayName: vm.fbProfile.handle})" ng-if="vm.userCertifications.length >= 3">\n                        View Your Certifications <i class="fa fa-angle-right"></i>\n                    </a>\n                </div>\n\n                <a ui-sref="certifications.step0" class="btn guDashboardScorecard--cta">Upload a Certification</a>\n\n\n\n\n            </div>\n\n        </div>\n    </div>\n\n</div>'),a.put("app/public/components/gu-featured-browse-tiles.component.html",'<section class="FeaturedBrowseTiles--Section">\n    <div class="container">\n\n        <slick settings="vm.slickConfig" ng-if="vm.preloadedImages">\n\n            <div ng-repeat="tile in vm.tiles" class="FeaturedBrowseTiles--Tile">\n                <a ui-sref="{{tile.sref}}" ui-sref-opts="{reload:true}">\n                    <img ng-src="{{tile.imageSrc}}" alt="{{tile.alt}}">\n                </a>\n            </div>\n\n        </slick>\n\n    </div>\n</section>'),a.put("app/public/components/gu-mobile-nav-overlay.component.html",'<div class="mobileNav" ng-class="{ \'mobileNav__open\': vm.showMobileNav }">\n\n    <div class="mobileNav--header">\n\n        <a ui-sref="home" ng-click="vm.closeNav()" class="mobileNav--logo">\n            <img src="/images/logo-small-optimised-with-text.png" alt="ACG Logo Cloud">\n        </a>\n\n        <a class="mobileNav--closeLink" ng-click="vm.closeNav()">\n            <un-svg svg-src="images/svg-icons/remove.svg"></un-svg>\n        </a>\n\n        <a class="mobileNav--shoppingCart" ng-click="vm.closeNav()">\n           <shopping-cart></shopping-cart>\n        </a>\n\n    </div>\n\n    <div class="mobileNav--userBlock">\n\n        \x3c!-- Not signed in --\x3e\n        <div ng-if="!vm.isAuthenticated" class="text-center">\n            <button id="tst-mobileSignUpButton" class="btn btn-link" ng-click="vm.signup()">\n                Sign Up\n            </button>\n            <button id="tst-mobileLoginButton" ng-click="vm.login()" class="btn btn-default">\n                Login\n            </button>\n        </div>\n\n        \x3c!-- Signed in --\x3e\n        <div ng-if="vm.isAuthenticated" ng-class="{ \'mobileNav--userLinks__expanded\': vm.expandUserLinks }">\n\n            \x3c!-- Default State --\x3e\n            <div ng-if="vm.profileService.isLoaded" ng-click="vm.toggleUserLinks()">\n                <img class="img-circle" ng-optimise-image="vm.profileService.data.public.picture" ng-optimise-image-square="32">\n                <span class="text-trim">{{vm.profileService.data.public.displayname}}</span>\n                <span class="pull-right">\n                    <i class="fa fa-angle-down"></i>\n                </span>\n            </div>\n\n            \x3c!-- Expanded State --\x3e\n            <div class="mobileNav--userLinks">\n                <ul class="list-unstyled">\n                    <li>\n                        <a ui-sref="app.profile" ng-if="!vm.profileService.data.public.handle" ng-click="vm.closeNav()" class="finish-your-profile">\n                                Finish your Profile\n                        </a>\n                        <a ui-sref="app.public-profile({ displayName: vm.profileService.data.public.handle })" ng-if="vm.profileService.data.public.handle" ng-click="vm.closeNav()">\n                                Your Profile\n                        </a>\n                    </li>\n                    <li>\n                        <a ui-sref="app.purchases" ng-click="vm.closeNav()">\n                            Your Purchases\n                        </a>\n                    </li>\n                    <li>\n                        <a ui-sref="public.migrate({direct: true})" ng-click="vm.closeNav()">\n                            Migrate\n                        </a>\n                    </li>\n                    \x3c!-- Role Based \'Admin\' Link --\x3e\n                    <li ng-if="vm.profileService.roles.admin" ng-click="vm.closeNav()">\n                        <a ui-sref="app.admin.course-access">\n                            Administration\n                        </a>\n                    </li>\n                    \x3c!-- Role Based \'Teach\' Link --\x3e\n                    <li ng-if="vm.profileService.roles.instructor || vm.profileService.roles.editor" ng-click="vm.closeNav()">\n                        <a ui-sref="teach.dashboard">\n                            Teach\n                        </a>\n                    </li>\n                    <li>\n                        <a ui-sref="app.settings.account" ng-click="vm.closeNav()">\n                            Account Settings\n                        </a>\n                    </li>\n                    <li>\n                        <a ng-click="vm.logout()">\n                            Logout\n                        </a>\n                    </li>\n                </ul>\n            </div>\n\n        </div>\n\n    </div>\n\n    <ul class="mobileNav--linkList list-unstyled">\n        <li>\n            <a ui-sref="home" ng-click="vm.closeNav()">\n                <un-svg svg-src="images/svg-icons/m-nav-home.svg"></un-svg>\n                Home\n            </a>\n        </li>\n        <li ng-if="vm.isAuthenticated">\n            <a ui-sref="dashboard" ng-click="vm.closeNav()">\n                <un-svg svg-src="images/svg-icons/m-nav-dashboard.svg"></un-svg>\n                Dashboard\n            </a>\n        </li>\n        <li>\n            <a ui-sref="courses" ng-click="vm.closeNav()">\n                <un-svg svg-src="images/svg-icons/m-nav-courses.svg"></un-svg>\n                Browse Courses\n            </a>\n        </li>\n        <li>\n            <a ui-sref="forum.landing" ng-click="vm.closeNav()">\n                <un-svg svg-src="images/svg-icons/m-nav-discussions.svg"></un-svg>\n                Discussions\n            </a>\n        </li>\n        <li>\n            <a href="https://info.acloud.guru/a-cloud-guru-teams" ng-click="vm.closeNav()">\n                <un-svg svg-src="images/svg-icons/m-nav-business.svg"></un-svg>\n                For Business\n            </a>\n        </li>\n        <li>\n            <a ui-sref="public.our-story" ng-click="vm.closeNav()">\n                <un-svg svg-src="images/svg-icons/m-nav-story.svg"></un-svg>\n                Our Story\n            </a>\n        </li>\n        <li>\n            <a ui-sref="gurus" ng-click="vm.closeNav()">\n                <un-svg svg-src="images/svg-icons/m-nav-gurus.svg"></un-svg>\n                Our Gurus\n            </a>\n        </li>\n        <li>\n            <a ui-sref="serverless" ng-click="vm.closeNav()">\n                <un-svg svg-src="images/svg-icons/m-nav-serverlessconf.svg"></un-svg>\n                Serverlessconf\n            </a>\n        </li>\n        <li>\n            <a href="https://read.acloud.guru/" target="_blank" ng-click="vm.closeNav()">\n                <un-svg svg-src="images/svg-icons/m-nav-blog.svg"></un-svg>\n                Blog\n            </a>\n        </li>\n    </ul>\n\n</div>'),a.put("app/public/components/gu-nav-shell.component.html",'<gu-nav-user class="GuNavUser" full-width="vm.fullWidth" profile="vm.profile" profile-loaded="vm.profileLoaded" admin-organisations="vm.adminOrganisations" is-authenticated="vm.isAuthenticated">\n</gu-nav-user>\n<gu-nav-site class="GuNavSite" full-width="vm.fullWidth" profile="vm.profile" profile-loaded="vm.profileLoaded" is-authenticated="vm.isAuthenticated">\n</gu-nav-site>'),a.put("app/public/components/gu-nav-site.component.html",'<nav class="navbar navbar-sm navbar-default navbar-static-top" ng-class="vm.className">\n    <div ng-class="{\'container-fluid\': vm.fullWidth, \'container\': !vm.fullWidth}">\n        <a class="navbar-brand" ui-sref="home">\n            <img src="/images/logo-orange-and-white.png" alt="ACG Logo Cloud">\n        </a>\n        <ul class="nav navbar-nav navbar-right navbar--linkList hidden-xs">\n            <li ng-if="vm.isAuthenticated" class="navbar--dashboardLink" ui-sref-active="active">\n                    <a ui-sref="dashboard">\n                            Dashboard\n                    </a>\n            </li>\n            <li ui-sref-active="active">\n                <a ui-sref="courses">Browse Courses</a>\n            </li>\n            <li ui-sref-active="active">\n                    <a ui-sref="become-a-member-standard">Membership</a>\n                </li>\n            <li ui-sref-active="active">\n                <a ui-sref="forum.landing">Discussions</a>\n            </li>\n            <li ui-sref-active="active">\n                <a href="https://info.acloud.guru/a-cloud-guru-teams">For Business</a>\n            </li>\n            <li class="dropdown" uib-dropdown>\n                <a uib-dropdown-toggle class="cursor-pointer">\n                    About Us\n                    <i class="fa fa-caret-down"></i>\n                </a>\n                <ul uib-dropdown-menu class="dropdown-menu">\n                    <li ui-sref-active="active">\n                        <a ui-sref="public.our-story">Our Story</a>\n                    </li>\n                    <li ui-sref-active="active">\n                        <a ui-sref="gurus">Our Gurus</a>\n                    </li>\n                    <li ui-sref-active="active">\n                        <a ui-sref="public.careers">Careers</a>\n                    </li>\n                    <li ui-sref-active="active">\n                        <a ui-sref="serverless">Serverlessconf</a>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n    </div>\n</nav>'),a.put("app/public/components/gu-nav-user-dropdown.template.html",'<ul class="dropdown-menu">\n    <li class="dropdown--signedInAs">\n        <a ui-sref="app.profile" ng-if="!vm.profile.handle" class="finish-your-profile">\n            <span>You\'re almost there...</span>\n            <strong>Finish your Profile</strong>\n        </a>\n        <a ui-sref="app.public-profile({ displayName: vm.profile.handle })" ng-if="vm.profile.handle">\n            <span>Signed in as</span>\n            <strong>{{vm.profile.displayname}}</strong>\n            <div class="dropdown--memberStatus" ng-if="vm.profile.isMember">\n                <un-svg svg-src="/images/svg-icons/member-circle.svg"></un-svg>\n                Member\n            </div>\n        </a>\n    </li>\n    <li class="divider"></li>\n    <li>\n        <a ui-sref="dashboard">Dashboard</a>\n    </li>\n    <li ng-if="vm.profile.handle">\n        <a ui-sref="app.public-profile({ displayName: vm.profile.handle })">\n            User Profile\n        </a>\n    </li>\n    <li class="divider"></li>\n    <li ng-if="!vm.profile.isMember">\n        <a ui-sref="public.migrate({direct: true})">Migrate Purchases</a>\n    </li>\n    <li ng-if="vm.profileService.roles.admin">\n        <a ui-sref="app.admin.course-access">Administration</a>\n    </li>\n\n    <li ng-if="vm.profileService.roles.instructor || vm.profileService.roles.editor">\n        <a ui-sref="teach.dashboard">\n            Teach\n        </a>\n    </li>\n\n    <li>\n        <a ui-sref="app.settings.account">Account Settings</a>\n    </li>\n    <li class="divider" ng-show="vm.adminOrganisations.length > 0"></li>\n    <li ng-repeat="organisation in vm.adminOrganisations">\n        <a ui-sref="organisation-dashboard.members({organisationId: organisation.$id})">\n            {{organisation.name}}\n        </a>\n    </li>\n    <li class="divider"></li>\n    <li>\n        <a id="tst-navLogoutButton" ng-click="vm.logout()">Log Out</a>\n    </li>\n</ul>'),
a.put("app/public/components/gu-nav-user.component.html",'<div ng-class="{\'container-fluid\': vm.fullWidth, \'container\': !vm.fullWidth}">\n\n    <div class="GuNavUser--Inner">\n\n        <a ng-click="vm.openMobileNav()" class="mobileNav--trigger hidden">\n            <i class="fa fa-bars"></i> Menu\n        </a>\n\n        <a href="https://help.acloud.guru/" class="GuNavUser--Link">Support</a>\n\n        <shopping-cart></shopping-cart>\n\n        <span ng-if="!vm.isAuthenticated">\n            <span class="GuNavUser--Link" ng-click="vm.signup()">Sign Up</span>\n            <span class="divider">|</span>\n            <span id="tst-navLoginButton" class="GuNavUser--Link" ng-click="vm.login()">Log In</span>\n        </span>\n\n        <span class="GuNavUser--User" ng-if="vm.isAuthenticated" uib-dropdown>\n                <a uib-dropdown-toggle data-toggle="dropdown" id="tst-navUserDisplayname">\n                        <span class="GuNavUser--UserImg m-r-xs">\n                            <img class="w-full img-circle" id="navbar-profile-pic" alt="..." ng-optimise-image="vm.profile.picture" ng-optimise-image-square="24">\n                        </span>\n                        {{vm.profile.displayname}}\n                        <i class="fa fa-caret-down"></i>\n                </a>\n                <ul uib-dropdown-menu template-url="{{vm.templateUrl}}">\n                </ul>\n        </span>\n\n    </div>\n\n</div>'),a.put("app/public/components/gu-search-tile.component.html",'<div class="GuSearchTile">\n    <a ng-href="{{vm.url}}" class="GuSearchTile--ImageLink">\n        <img ng-optimise-image="vm.itemImageUrl" ng-optimise-image-width="200" alt="" class="course-artwork">\n    </a>\n    <a ng-href="{{vm.url}}" class="btn btn-outline">\n        Open\n    </a>\n    <div class="GuSearchTile--Indent">\n        <a ng-href="{{vm.url}}" class="a__noUnderline">\n            <span class="GuSearchTile--Prefix">\n                <span ng-if="vm.itemType === \'course\'">Course</span>\n                <span ng-if="vm.itemType === \'episode\'">{{vm.itemSeriesTitle}} Episode</span>\n            </span>\n            <h2 ng-bind-html="vm.itemTitle"></h2>\n            <p ng-bind-html="vm.itemText"></p>\n        </a>\n    </div>\n</div>'),a.put("app/public/components/gu-serverless-banner.html",'<a ng-show="vm.showServerlessBanner" href="http://london.serverlessconf.io" target="_blank" class="serverless-banner">\n  Meet us in person @ Serverlessconf London - our own conference on serverless cloud technologies! 26-28th October.\n</a>'),a.put("app/public/components/gu-take-course-button.component.html",'\x3c!-- Button: Loading state --\x3e\n<button class="btn btn--takeCourse no-animate" ng-if="!vm.loaded" ng-class="vm.buttonClass">\n<i class="fa fa-fw fa-circle-o-notch fa-spin"></i>\nLoading\n</button>\n\n\x3c!-- Button: Free mode --\x3e\n<button class="btn btn--takeCourse {{vm.buttonClass}} no-animate" ng-if="vm.loaded && !vm.isMember && vm.displayFree && !vm.hasAccess" ng-click="vm.startFreeCourse($event)">\nStart this Course\n<i class="fa fa-fw fa-arrow-right"></i>\n</button>\n\n\x3c!-- Button: Normal price mode --\x3e\n<button class="btn btn--takeCourse btn--takeCourse__withPrice {{vm.buttonClass}} no-animate" ng-if="!vm.isProductInCart && vm.loaded && !vm.isSubscription && vm.displayPoints" ng-click="vm.goToCheckout($event)">\nTake this Course\n\n<span class="price">\n        <span class="pretty-price pretty-price--value">\n            <span>{{vm.individualPricing.price}}</span>\n            <sup>{{vm.individualPricing.currencySymbol}}</sup>\n        </span>\n    </span>\n</button>\n\n\x3c!-- Button: Not owned by a member/B2B --\x3e\n<button class="btn btn--takeCourse {{vm.buttonClass}} no-animate" ng-if="vm.loaded && (vm.isSubscription || vm.isMember) && !vm.hasAccess" ng-click="vm.goToCheckout($event)">\n    Start this Course\n    <i class="fa fa-fw fa-arrow-right"></i>\n</button>\n\n\x3c!-- Button: Price --\x3e\n<span ng-if="vm.loaded && !vm.isMember && !vm.isSubscription && !vm.displayPoints && !vm.displayFree && !vm.hasAccess">\n    <span ng-if="vm.membershipPricing">\n        <a class="btn btn--takeCourse {{vm.buttonClass}}" ng-click="vm.showWhyJoinModal($event, \'annual\', false)" ui-sref="become-a-member-standard">\n            <span ng-if="vm.membershipPricing.trial">Start your free trial</span>\n            <span ng-if="!vm.membershipPricing.trial">Become a member</span>\n            <i class="fa fa-fw fa-arrow-right"></i>\n        </a>\n    </span>\n</span>\n\n\x3c!-- Button: You already own this --\x3e\n<button class="btn btn--takeCourse {{vm.buttonClass}} no-animate" ng-click="vm.goToDashboard($event)" ng-if="vm.loaded && vm.hasAccess">\n    Continue this Course\n    <i class="fa fa-fw fa-arrow-right"></i>\n</button>\n\n\n<p class="TakeCourse--Message" ng-if="!vm.isMember && vm.displayFree">\n    Watch this course now for free\n</p>\n<p class="TakeCourse--Message" ng-if="vm.displayPrice">\n    Free for ACG members, or\n    <a ng-click="vm.goToCheckout($event)">buy this course</a>\n    for {{vm.individualPricing.currencySymbol}}{{vm.individualPricing.price}}\n</p>\n<p class="TakeCourse--Message" ng-if="vm.isMembersOnly && !vm.displayFree && !vm.isMember">\n    ACG members-only course, <a ng-click="vm.showWhyJoinModal($event, \'annual\', false)" ui-sref="become-a-member-standard">join today</a>\n</p>'),a.put("app/public/components/gu-testimonial-card.html",'<blockquote class="testimonialCarousel--quote">\n\n    <div class="testimonialCarousel--quoteContent" btf-markdown="vm.testimonial.quote"></div>\n\n    <a ui-sref="app.public-profile({displayName: vm.testimonial.profile.displayname})" ng-class="{\'no-link\': !vm.testimonial.userId}" ng-click="vm.stopLinkIfRequired($event)">\n        <img class="img-circle testimonial__user-photo" ng-optimise-image="vm.testimonial.profile.picture" ng-optimise-image-square="48">\n        <footer>\n            <cite class="text-accent">\n                <div class="testimonialCarousel--quoteAuthor">{{vm.testimonial.fullName}}</div>\n                <div class="testimonialCarousel--quoteLocation">{{vm.testimonial.location}}</div>\n            </cite>\n        </footer>\n    </a>\n</blockquote>'),a.put("app/public/components/gu-testimonial-carousel.component.html",'\x3c!-- Tablet and up, use the full carousel --\x3e\n<div class="GuTestimonialCarousel hidden-xs">\n    <div class="GuTestimonialCarousel--InnerWrapper">\n\n        <div class="GuTestimonialCarousel--Slide" ng-repeat="testimonial in vm.testimonials track by $index" ng-class="{ \'GuTestimonialCarousel--Slide__active\': vm.currentSlideIndex === $index }" ng-click="vm.slideClick($event, $index)">\n\n            <videogular class="videogular videogular__16-9 videogular__subtle" vg-player-ready="vm.onPlayerReady(testimonial.id, $API)" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n                    <vg-media vg-src="testimonial.videoSrc" vg-preload="\'none\'">\n                    </vg-media>\n\n                    <vg-controls>\n                        <vg-play-pause-button></vg-play-pause-button>\n                        <vg-time-display>\n                            {{ currentTime | date:\'mm:ss\':\'UTC\' }}\n                        </vg-time-display>\n                        <vg-scrub-bar>\n                            <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                        </vg-scrub-bar>\n                        <vg-volume>\n                            <vg-mute-button></vg-mute-button>\n                            <vg-volume-bar></vg-volume-bar>\n                        </vg-volume>\n                        <vg-fullscreen-button></vg-fullscreen-button>\n                    </vg-controls>\n\n                    <vg-overlay-play></vg-overlay-play>\n\n                    <vg-poster vg-url="testimonial.imageSrc"></vg-poster>\n\n            </videogular>\n\n            <blockquote>\n                &ldquo;{{testimonial.quote}}&rdquo;\n                <small>\n                    {{testimonial.name}}\n                    <span>{{testimonial.role}}</span>\n                </small>\n            </blockquote>\n        </div>\n\n    </div>\n</div>\n\n\x3c!-- Mobile use single random testimonial --\x3e\n<div class="BecomeMember--TestimonialSingle visible-xs">\n\n    <videogular class="videogular videogular__16-9 videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n            <vg-media vg-src="vm.randomTestimonial.videoSrc" vg-preload="\'none\'">\n            </vg-media>\n\n            <vg-controls>\n                <vg-play-pause-button></vg-play-pause-button>\n                <vg-time-display>\n                    {{ currentTime | date:\'mm:ss\':\'UTC\' }}\n                </vg-time-display>\n                <vg-scrub-bar>\n                    <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                </vg-scrub-bar>\n                <vg-volume>\n                    <vg-mute-button></vg-mute-button>\n                    <vg-volume-bar></vg-volume-bar>\n                </vg-volume>\n                <vg-fullscreen-button></vg-fullscreen-button>\n            </vg-controls>\n\n            <vg-overlay-play></vg-overlay-play>\n\n            <vg-poster vg-url="vm.randomTestimonial.imageSrc"></vg-poster>\n\n    </videogular>\n\n    <blockquote>\n        &ldquo;{{vm.randomTestimonial.quote}}&rdquo;\n        <small>\n            {{vm.randomTestimonial.name}}\n            <span>{{vm.randomTestimonial.role}}</span>\n        </small>\n    </blockquote>\n</div>'),a.put("app/public/components/gu-testimonial-feature.html",'<div class="testimonialCarousel--container container">\n\n    <span class="testimonialCarousel--quoteSymbol">\n        <i class="fa fa-quote-left"></i>\n    </span>\n\n    <h5 class="t__sparseLabel">What customers have to say</h5>\n\n    <div uib-carousel active="vm.active" interval="vm.interval" no-wrap="vm.noWrapSlides">\n        <div uib-slide ng-repeat="testimonial in vm.testimonials track by $index" index="$index">\n            <gu-testimonial-card testimonial="testimonial" class="testimonial-sm"></gu-testimonial-card>\n        </div>\n    </div>\n</div>\n\n<script id="template/carousel/carousel.html" type="text/ng-template">\n    <div>\n        <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n            <span class="carouselButton carouselButton__left" aria-hidden="true">\n                <i class="fa fa-fw fa-angle-left"></i>\n            </span>\n            <span class="sr-only">previous</span>\n        </a>\n        <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n            <span class="carouselButton carouselButton__right" aria-hidden="true">\n                <i class="fa fa-fw fa-angle-right"></i>\n            </span>\n            <span class="sr-only">next</span>\n        </a>\n        <div class="carousel-inner" ng-transclude></div>\n        <ol class="carousel-indicators" ng-show="slides.length > 1">\n            <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n                <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n            </li>\n        </ol>\n    </div>\n<\/script>'),a.put("app/public/components/gu-tile-course.component.html",'<a class="GuTile--link" ng-href="{{vm.tileUrl}}" ng-class="{ \'GuTile__open\': vm.popoverIsOpen, \'GuTile__notOwned\': !vm.owned }" uib-popover uib-popover-template="vm.popoverTemplateUrl" popover-enable="!vm.isMobile" popover-class="popover__tileDark" popover-placement="auto right" popover-append-to-body="true" popover-animation="false" popover-is-open="vm.popoverIsOpen" popover-trigger="\'mouseenter\'">\n\n        <gu-progress-bar value="vm.completionPercentage" size="xxs" ng-if="vm.owned && vm.completionPercentage" class="active">\n        </gu-progress-bar>\n\n        <img ng-optimise-image="vm.artwork" ng-optimise-image-square="300" alt="{{vm.courseTitle}} course artwork">\n</a>\n<div class="GuTile--TitleRow">\n    <div class="GuTile--TitleRowMetadata">\n        <span class="t__orangeB" ng-if="vm.vendors">{{vm.vendors | vendorNames}}</span>\n    </div>\n    <h2 class="GuTile--TitleRowTitle" data-ng-bind="vm.courseTitle" data-ellipsis></h2>\n</div>'),a.put("app/public/components/gu-tile-series.component.html",'<a class="GuTile--link" ng-href="{{vm.tileUrl}}" ng-class="{ \'GuTile__open\': vm.popoverIsOpen, \'GuTile__seriesProtected\': vm.protectContent() }" uib-popover uib-popover-template="vm.popoverTemplateUrl" popover-enable="!vm.isMobile" popover-class="popover__tileDark" popover-placement="auto right" popover-append-to-body="true" popover-is-open="vm.popoverIsOpen" popover-trigger="\'mouseenter mouseleave\'">\n\n    <span ng-style="{\'width\': ((vm.episode.userProgress.percentComplete * 100) || 0) + \'%\' }" class="progress-video progress-video__medium">\n    </span>\n\n    <span class="MembersOnlyOverlay" ng-if="vm.protectContent()">\n        <i class="fa fa-lock"></i>\n        <span>Members Only</span>\n    </span>\n\n    <img ng-optimise-image="vm.imageUrl" ng-optimise-image-width="300" ng-optimise-image-crop="fill" ng-optimise-image-gravity="face" ng-optimise-image-overrides="co_rgb:2A2A54,e_colorize:30" alt="">\n\n</a>\n\n\x3c!--Titles for Dashboard only --\x3e\n<div class="GuTile--TitleRow" ng-if="vm.alternativeTitles">\n    <div class="GuTile--TitleRowMetadata">\n        <span class="t__orangeB">{{vm.episode.publicSeries.title}}</span>\n        <span>• {{ vm.episode.publishedDateKey | amDateFormat:\'DD MMM YYYY\' }}</span>\n    </div>\n    <h2 class="GuTile--TitleRowTitle" data-ng-bind="vm.episode.title" data-ellipsis></h2>\n</div>\n\n\x3c!--Titles everywhere else --\x3e\n<div class="GuTile--TitleRow" ng-if="!vm.alternativeTitles">\n    <div class="GuTile--TitleRowMetadata">\n        <span class="t__orangeB">{{vm.episode.title}}</span>\n        <span>• {{ vm.episode.publishedDateKey | amDateFormat:\'DD MMM YYYY\' }}</span>\n    </div>\n    <h2 class="GuTile--TitleRowTitle" data-ng-bind="vm.episode.shortSummary" data-ellipsis></h2>\n</div>'),a.put("app/public/components/gu-trusted-by.component.html",'<div class="logoOrb logoOrb--container">\n    <div class="logoOrb--orb logoOrb__capital-one">\n        <img src="/images/logos/capital-one.jpg">\n    </div>\n    <div class="logoOrb--orb logoOrb__expedia">\n        <img src="/images/logos/expedia.jpg">\n    </div>\n    <div class="logoOrb--orb logoOrb__motley">\n        <img src="/images/logos/cloud-health.jpg">\n    </div>\n    <div class="logoOrb--orb logoOrb__xe">\n        <img src="/images/logos/xe.jpg">\n    </div>\n    <div class="logoOrb--orb logoOrb__ctp">\n        <img src="/images/logos/ctp.jpg">\n    </div>\n    <div class="logoOrb--orb logoOrb__xero">\n        <img src="/images/logos/xero.jpg">\n    </div>\n    <div class="logoOrb--orb logoOrb__women-who-code">\n        <img src="/images/logos/women-who-code.png">\n    </div>\n</div>'),a.put("app/public/components/gu-vendor-browse-tiles.component.html",'<section class="VendorBrowseTiles--Section">\n    <div class="container">\n\n        <h1 class="CourseRow--Heading hidden-xs">\n            Browse Content by Platform\n        </h1>\n\n        <h1 class="CourseRow--Heading visible-xs">\n            Browse by Platform\n        </h1>\n\n        <div class="VendorBrowseTiles--Row">\n\n            <div class="VendorBrowseTiles--Column" ng-mouseover="vm.mouseOverVendorTile($event)" ng-mouseout="vm.mouseOutVendorTile($event)">\n                    <a class="VendorBrowseTiles--Vendor" ui-sref="courses({ vendors: \'aws\' })" ui-sref-opts="{reload:true}">\n                        <span class="VendorBrowseTiles--VendorImage">\n                            <img src="/images/logos/vendor-tile-aws.jpg" alt="">\n                        </span>\n                        <span class="VendorBrowseTiles--Indent">\n                            <h5>\n                                Amazon Web Services\n                            </h5>\n                            <span>\n                                Courses &amp; Series\n                            </span>\n                        </span>\n                    </a>\n            </div>\n\n            <div class="VendorBrowseTiles--Column" ng-mouseover="vm.mouseOverVendorTile($event)" ng-mouseout="vm.mouseOutVendorTile($event)">\n                    <a class="VendorBrowseTiles--Vendor" ui-sref="courses({ vendors: \'azure\' })" ui-sref-opts="{reload:true}">\n                        <span class="VendorBrowseTiles--VendorImage">\n                            <img src="/images/logos/vendor-tile-azure.jpg" alt="">\n                        </span>\n                        <span class="VendorBrowseTiles--Indent">\n                            <h5>\n                                Microsoft Azure\n                            </h5>\n                            <span>\n                                Courses &amp; Series\n                            </span>\n                        </span>\n                    </a>\n            </div>\n\n            <div class="VendorBrowseTiles--Column" ng-mouseover="vm.mouseOverVendorTile($event)" ng-mouseout="vm.mouseOutVendorTile($event)">\n                    <a class="VendorBrowseTiles--Vendor" ui-sref="courses({ vendors: \'gcp\' })" ui-sref-opts="{reload:true}">\n                        <span class="VendorBrowseTiles--VendorImage">\n                            <img src="/images/logos/vendor-tile-gcp.jpg" alt="">\n                        </span>\n                        <span class="VendorBrowseTiles--Indent">\n                            <h5>\n                                Google Cloud Platform\n                            </h5>\n                            <span>\n                                Courses\n                            </span>\n                        </span>\n                    </a>\n            </div>\n\n            <div class="VendorBrowseTiles--Column" ng-mouseover="vm.mouseOverVendorTile($event)" ng-mouseout="vm.mouseOutVendorTile($event)">\n                    <a class="VendorBrowseTiles--Vendor" ui-sref="courses({ vendors: \'linux\' })" ui-sref-opts="{reload:true}">\n                        <span class="VendorBrowseTiles--VendorImage">\n                            <img src="/images/logos/vendor-tile-linux.jpg" alt="">\n                        </span>\n                        <span class="VendorBrowseTiles--Indent">\n                            <h5>\n                                Linux\n                            </h5>\n                            <span>\n                                Courses\n                            </span>\n                        </span>\n                    </a>\n            </div>\n\n            <div class="VendorBrowseTiles--Column" ng-mouseover="vm.mouseOverVendorTile($event)" ng-mouseout="vm.mouseOutVendorTile($event)">\n                    <a class="VendorBrowseTiles--Vendor" ui-sref="courses({ vendors: \'salesforce\' })" ui-sref-opts="{reload:true}">\n                        <span class="VendorBrowseTiles--VendorImage">\n                            <img src="/images/logos/vendor-tile-salesforce.jpg" alt="">\n                        </span>\n                        <span class="VendorBrowseTiles--Indent">\n                            <h5>\n                                Salesforce\n                            </h5>\n                            <span>\n                                Courses\n                            </span>\n                        </span>\n                    </a>\n            </div>\n\n        </div>\x3c!--/.row--\x3e\n\n    </div>\x3c!--/.container--\x3e\n</section>'),
a.put("app/public/course-browser.html",'<main>\n\n    \x3c!-- Start: Top Hero Container --\x3e\n    <section id="courses-hero" class="BrowseContent" ng-class="{\'showing-course-mode-buttons\' : vm.showModeButtons}">\n\n        <gu-nav-shell></gu-nav-shell>\n\n    </section>\n    \x3c!-- End: Top Hero Container --\x3e\n    <section class="p-y-0">\n        <div class="container">\n\n            <div class="clearfix">\n\n                \x3c!-- Responsive search/filter trigger --\x3e\n                <div id="tst-mobileFilterCourses" class="GuBrowse--MobileFilterTrigger" ng-if="!vm.isSearchMode">\n                    <a ng-click="vm.toggleMobileSidebar(true)" class="btn btn-default">\n                        <i class="fa fa-filter"></i> Filters\n                    </a>\n                </div>\n\n                \x3c!-- Title area --\x3e\n                <h1 ng-if="!vm.filterCount && !vm.isSearchMode" class="GuBrowse--Title">Browse Content</h1>\n\n                <h1 ng-if="vm.filterCount && !vm.isSearchMode" class="GuBrowse--Title">\n                    Search Results\n                    <a class="GuBrowse--ClearSearch hidden-xs" ng-if="vm.filterCount" ng-click="vm.resetFilters()">\n                        <i class="fa fa-times t__red"></i> Clear Search\n                    </a>\n                </h1>\n\n                <h1 ng-if="vm.searchText" class="GuBrowse--Title">\n                    Search results for "{{vm.searchText}}"\n                </h1>\n\n\n                <div class="GuBrowseSearch">\n\n                    <input ng-change="vm.performSearch(vm.searchText)" ng-model="vm.searchText" ng-model-options="{ debounce: 1000 }" placeholder="Search Content" class="GuBrowseSearch--Input" type="text">\n\n                    <i class="fa fa-search"></i>\n\n                    <i class="fa fa-times" ng-if="vm.searchText" ng-click="vm.clearTextSearch()"></i>\n\n                </div>\n\n            </div>\x3c!--/.clearfix--\x3e\n\n            <div class="SearchFilter--Row hidden-xs" ng-if="!vm.isSearchMode">\n\n                <div class="SearchFilter__inline" ng-class="{ \'SearchFilter__active\': !!vm.filters.vendors}">\n                    <label for="vendor-dropdown-button">Vendor</label>\n                    <div class="btn-group" uib-dropdown>\n                        <button id="vendor-dropdown-button" type="button" class="SearchFilterButton btn btn-link" uib-dropdown-toggle>\n                                {{vm.filters.vendors | searchFilterLabel:vm.vendors}} <span class="caret"></span>\n                        </button>\n                        <ul uib-dropdown-menu role="menu" aria-labelledby="vendor-dropdown-button">\n                            <li role="menuitem" ng-click="vm.removeFilter(\'vendors\')">\n                                <a href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li role="menuitem" data-title="{{vendor.name}}" ng-repeat="vendor in vm.vendors track by $index" ng-click="vm.updateFilter(\'vendors\', vendor.id)">\n                                    <a href="#">{{vendor.name}}</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n\n                <div class="SearchFilter__inline" ng-class="{ \'SearchFilter__active\': !!vm.filters.topics}">\n                    <label for="topic-dropdown-button">Topics</label>\n                    <div class="btn-group" uib-dropdown>\n                        <button id="topic-dropdown-button" type="button" class="SearchFilterButton btn btn-link" uib-dropdown-toggle>\n                                {{vm.filters.topics | searchFilterLabel:vm.topics}} <span class="caret"></span>\n                        </button>\n                        <ul uib-dropdown-menu role="menu" aria-labelledby="topic-dropdown-button">\n                            <li role="menuitem" ng-click="vm.removeFilter(\'topics\')">\n                                <a href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li role="menuitem" data-title="{{topic.name}}" ng-repeat="topic in vm.topics track by $index" ng-click="vm.updateFilter(\'topics\', topic.id)">\n                                    <a href="#">{{topic.name}}</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n\n                <div class="SearchFilter__inline" ng-class="{ \'SearchFilter__active\': !!vm.filters.skillLevels}">\n                    <label for="skill-dropdown-button">Level</label>\n                    <div class="btn-group" uib-dropdown>\n                        <button id="skill-dropdown-button" type="button" class="SearchFilterButton btn btn-link" uib-dropdown-toggle>\n                                {{vm.filters.skillLevels | searchFilterLabel:vm.skillLevels}} <span class="caret"></span>\n                        </button>\n                        <ul uib-dropdown-menu role="menu" aria-labelledby="skill-dropdown-button">\n                            <li role="menuitem" ng-click="vm.removeFilter(\'skillLevels\')">\n                                <a href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li role="menuitem" data-title="{{skillLevel.name}}" ng-repeat="skillLevel in vm.skillLevels track by $index" ng-click="vm.updateFilter(\'skillLevels\', skillLevel.id)">\n                                    <a href="#">{{skillLevel.name}}</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n\n                <div class="SearchFilter__inline" ng-class="{ \'SearchFilter__active\': !!vm.filters.services}">\n                    <label for="service-dropdown-button">Service</label>\n                    <div class="btn-group" uib-dropdown>\n                        <button id="service-dropdown-button" type="button" class="SearchFilterButton btn btn-link" uib-dropdown-toggle>\n                                {{vm.filters.services | searchFilterLabel:vm.services}} <span class="caret"></span>\n                        </button>\n                        <ul uib-dropdown-menu role="menu" aria-labelledby="service-dropdown-button">\n                            <li role="menuitem" ng-click="vm.removeFilter(\'services\')">\n                                <a href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li role="menuitem" data-title="{{service.name}}" ng-repeat="service in vm.services track by $index" ng-click="vm.updateFilter(\'services\', service.id)">\n                                    <a href="#">{{service.name}}</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n\n                <div class="SearchFilter__inline" ng-class="{ \'SearchFilter__active\': !!vm.filters.roles}">\n                    <label for="role-dropdown-button">Role</label>\n                    <div class="btn-group" uib-dropdown>\n                        <button id="role-dropdown-button" type="button" class="SearchFilterButton btn btn-link" uib-dropdown-toggle>\n                                {{vm.filters.roles | searchFilterLabel:vm.roles}} <span class="caret"></span>\n                        </button>\n                        <ul uib-dropdown-menu role="menu" aria-labelledby="role-dropdown-button">\n                            <li role="menuitem" ng-click="vm.removeFilter(\'roles\')">\n                                <a href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li role="menuitem" data-title="{{role.name}}" ng-repeat="role in vm.roles track by $index" ng-click="vm.updateFilter(\'roles\', role.id)">\n                                    <a href="#">{{role.name}}</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n\n                <div class="SearchFilter__inline" ng-class="{ \'SearchFilter__active\': !!vm.filters.authors}">\n                    <label for="instructor-dropdown-button">Instructor</label>\n                    <div class="btn-group" uib-dropdown>\n                        <button id="instructor-dropdown-button" type="button" class="SearchFilterButton btn btn-link" uib-dropdown-toggle>\n                                {{vm.filters.authors | searchFilterLabel:vm.authors}} <span class="caret"></span>\n                        </button>\n                        <ul uib-dropdown-menu role="menu" aria-labelledby="instructor-dropdown-button">\n                            <li role="menuitem" ng-click="vm.removeFilter(\'authors\')">\n                                <a href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li role="menuitem" data-title="{{instructor.name}}" ng-repeat="instructor in vm.authors track by $index" ng-click="vm.updateFilter(\'authors\', instructor.id)">\n                                    <a href="#">{{instructor.name}}</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n\n                <div class="SearchFilter__inline" ng-class="{ \'SearchFilter__active\': !!vm.filters.type}">\n                    <label for="type-dropdown-button">Type</label>\n                    <div class="btn-group" uib-dropdown>\n                        <button id="type-dropdown-button" type="button" class="SearchFilterButton btn btn-link" uib-dropdown-toggle>\n                                {{vm.filters.type | searchFilterLabel:vm.contentTypes}} <span class="caret"></span>\n                        </button>\n                        <ul uib-dropdown-menu role="menu" aria-labelledby="type-dropdown-button">\n                            <li role="menuitem" ng-click="vm.removeFilter(\'type\')">\n                                <a href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li role="menuitem" data-title="{{type.name}}" ng-repeat="type in vm.contentTypes track by $index" ng-click="vm.updateFilter(\'type\', type.id)">\n                                    <a href="#">{{type.name}}</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n            </div>\n\n            <hr>\n\n            \x3c!-- Start: Filters --\x3e\n            <div>\n                <div class="course-browser__navBackground" ng-class="{ \'open\': vm.showSidebar }" ng-click="vm.toggleMobileSidebar(false)">\n                </div>\n\n                <div class="course-browser__nav" ng-class="{ \'open\': vm.showSidebar }">\n\n                    <div class="course-browser__navActions">\n                        <div class="clearfix">\n                            <span>Filter Results</span>\n                            <div class="pull-right">\n                                \x3c!--TODO: vm.filters.vm ???? --\x3e\n                                <button class="SearchFilterButton btn btn-link" ng-class="{ \'SearchFilterButton__active\': !!vm.filters.vm}" ng-if="vm.filterCount > 0" ng-click="vm.resetFilters()">\n                                    Reset\n                                </button>\n                                <button class="SearchFilterButton btn btn-link btn--close-link" ng-click="vm.toggleMobileSidebar(false)">\n                                    <i class="fa fa-fw fa-times"></i>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="course-browser__navOverflow">\n\n                        <p class="label__uppercase course-browser__filterLabel" ng-class="{\'active\': vm.filterCollapse.vendors }" ng-click="vm.toggleFilter(\'vendors\')">\n                            Vendors\n                            <i class="fa fa-chevron-right" aria-hidden="true"></i>\n                        </p>\n                        <ul class="searchFilterList" ng-class="{ \'searchFilterList__active\': !!vm.filterCollapse.vendors }">\n                            <li ng-click="vm.removeFilter(\'vendors\')" ng-class="{\'active\': vm.filters.vendors == undefined}">\n                                <a ng-href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li data-title="{{vendor.name}}" ng-click="vm.updateFilter(\'vendors\', vendor.id)" ng-repeat="vendor in vm.vendors track by $index" ng-class="{\'active\': vm.filters.vendors == vendor.id}">\n                                <a ng-href="#">\n                                    {{vendor.name}}\n                                </a>\n                            </li>\n                        </ul>\n\n                        <p class="label__uppercase course-browser__filterLabel" ng-class="{\'active\': vm.filterCollapse.topics }" ng-click="vm.toggleFilter(\'topics\')">\n                            Topics\n                            <i class="fa fa-chevron-right" aria-hidden="true"></i>\n                        </p>\n                        <ul class="searchFilterList" ng-class="{ \'searchFilterList__active\': !!vm.filterCollapse.topics }">\n                            <li ng-click="vm.removeFilter(\'topics\')" ng-class="{\'active\': vm.filters.topics == undefined}">\n                                <a ng-href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li data-title="{{topic.name}}" ng-click="vm.updateFilter(\'topics\', topic.id)" ng-repeat="topic in vm.topics track by $index" ng-class="{\'active\':  vm.filters.topics == topic.id}">\n                                <a ng-href="#">\n                                    {{topic.name}}\n                                </a>\n                            </li>\n                        </ul>\n\n                        <p class="label__uppercase course-browser__filterLabel" ng-class="{\'active\': vm.filterCollapse.skillLevels }" ng-click="vm.toggleFilter(\'skillLevels\')">\n                            Level\n                            <i class="fa fa-chevron-right" aria-hidden="true"></i>\n                        </p>\n                        <ul class="searchFilterList" ng-class="{ \'searchFilterList__active\': !!vm.filterCollapse.skillLevels }">\n                            <li ng-click="vm.removeFilter(\'skillLevels\')" ng-class="{\'active\': vm.filters.skillLevels == undefined}">\n                                <a ng-href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li data-title="{{skillLevel.name}}" ng-click="vm.updateFilter(\'skillLevels\', skillLevel.id)" ng-repeat="skillLevel in vm.skillLevels track by $index" ng-class="{\'active\':  vm.filters.skillLevels == skillLevel.id}">\n                                <a ng-href="#">\n                                    {{skillLevel.name}}\n                                </a>\n                            </li>\n                        </ul>\n\n                        <p class="label__uppercase course-browser__filterLabel" ng-class="{\'active\': vm.filterCollapse.services }" ng-click="vm.toggleFilter(\'services\')">\n                            Services\n                            <i class="fa fa-chevron-right" aria-hidden="true"></i>\n                        </p>\n                        <ul class="searchFilterList" ng-class="{ \'searchFilterList__active\': !!vm.filterCollapse.services }">\n                            <li ng-click="vm.removeFilter(\'services\')" ng-class="{\'active\': vm.filters.services == undefined}">\n                                <a ng-href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li data-title="{{service.name}}" ng-click="vm.updateFilter(\'services\', service.id)" ng-repeat="service in vm.services track by $index" ng-class="{\'active\':  vm.filters.services == service.id}">\n                                <a ng-href="#">\n                                    {{service.name}}\n                                </a>\n                            </li>\n                        </ul>\n\n                        <p class="label__uppercase course-browser__filterLabel" ng-class="{\'active\': vm.filterCollapse.roles }" ng-click="vm.toggleFilter(\'roles\')">\n                            Role\n                            <i class="fa fa-chevron-right" aria-hidden="true"></i>\n                        </p>\n                        <ul class="searchFilterList" ng-class="{ \'searchFilterList__active\': !!vm.filterCollapse.roles }">\n                            <li ng-click="vm.removeFilter(\'roles\')" ng-class="{\'active\': vm.filters.roles == undefined}">\n                                <a ng-href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li data-title="{{role.name}}" ng-click="vm.updateFilter(\'roles\', role.id)" ng-repeat="role in vm.roles track by $index" ng-class="{\'active\':  vm.filters.roles == role.id}">\n                                <a ng-href="#">\n                                    {{role.name}}\n                                </a>\n                            </li>\n                        </ul>\n\n                        <p class="label__uppercase course-browser__filterLabel" ng-class="{\'active\': vm.filterCollapse.instructors }" ng-click="vm.toggleFilter(\'instructors\')">\n                            Instructors\n                            <i class="fa fa-chevron-right" aria-hidden="true"></i>\n                        </p>\n                        <ul class="searchFilterList" ng-class="{ \'searchFilterList__active\': !!vm.filterCollapse.instructors }">\n                            <li ng-click="vm.removeFilter(\'authors\')" ng-class="{\'active\': vm.filters.authors == undefined}">\n                                <a ng-href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li data-title="{{instructor.name}}" ng-click="vm.updateFilter(\'authors\', instructor.id)" ng-repeat="instructor in vm.authors track by $index" ng-class="{\'active\': vm.filters.authors == instructor.id}">\n                                <a ng-href="#">\n                                    {{instructor.name}}\n                                </a>\n                            </li>\n                        </ul>\n\n                        <p class="label__uppercase course-browser__filterLabel" ng-class="{\'active\': vm.filterCollapse.type }" ng-click="vm.toggleFilter(\'type\')">\n                            Type\n                            <i class="fa fa-chevron-right" aria-hidden="true"></i>\n                        </p>\n                        <ul class="searchFilterList" ng-class="{ \'searchFilterList__active\': !!vm.filterCollapse.type }">\n                            <li ng-click="vm.removeFilter(\'type\')" ng-class="{\'active\': vm.filters.type == undefined}">\n                                <a ng-href="#">\n                                    All\n                                </a>\n                            </li>\n                            <li data-title="{{type.name}}" ng-click="vm.updateFilter(\'type\', type.id)" ng-repeat="type in vm.contentTypes track by $index" ng-class="{\'active\': vm.filters.type == type.id}">\n                                <a ng-href="#">\n                                    {{type.name}}\n                                </a>\n                            </li>\n                        </ul>\n\n                    </div>\x3c!--/.__navOverflow--\x3e\n\n                </div>\x3c!--course-browser__nav--\x3e\n            </div>\n            \x3c!-- End: Filters --\x3e\n\n            \x3c!-- Start: Current filter information --\x3e\n            <div id="tst-courseSearchingTitle" ng-if="vm.filterCount && !vm.isSearchMode" class="visible-xs">\n                <div class="m-t">\n                    Showing results for {{vm.filterCount}} filter(s)\n                    <a ng-click="vm.resetFilters()" class="searchFilterReset">\n                        <i class="fa fa-times t__red"></i>\n                        Reset Filters\n                    </a>\n                </div>\n                <div>\n                    <ul class="searchFilterPills">\n                        <li ng-repeat="(key, value) in vm.filters">\n                            {{vm.getFilter(key, value).name}}\n                            <i class="fa fa-times" aria-hidden="true" ng-click="vm.removeFilter(key)"></i>\n                        </li>\n                    </ul>\n                </div>\n                <hr>\n            </div>\n            \x3c!-- End: Current filter information --\x3e\n        </div>\n    </section>\n\n    \x3c!-- Start: Loader --\x3e\n    <div class="GuBrowse--Spinner" ng-class="{\'GuBrowse--Spinner__hide\': !vm.showSpinner() }">\n        <div class="custom-spinner custom-spinner__white custom-spinner__large"></div>\n    </div>\n    \x3c!-- End: Loader --\x3e\n\n    <div class="GuBrowse--MainArea pos-rel" ng-class="{\'GuBrowse--MainArea__loading\': vm.showSpinner() }">\n\n        \x3c!-- Start: No results view --\x3e\n        <section class="course-browser--empty-state empty-state" ng-if="vm.showEmptyStateForBrowse() || vm.showEmptyStateForSearch()">\n            <div class="container">\n                <h4 id="tst-noResultMessage">\n                    No results found\n                </h4>\n                <p>\n                   Perhaps you should <a class="cursor-pointer" ng-click="vm.resetFilters()">clear your search</a> and start again.\n                </p>\n            </div>\n        </section>\n        \x3c!-- End: No results view --\x3e\n\n        \x3c!-- Start: No results view --\x3e\n        <section class="course-browser--error-state error-state" ng-if="vm.productsLoaded && vm.searchError">\n            <div class="container">\n                <h4 class="error-state--title">Oops, something went wrong!</h4>\n                <p>Sorry about that. The error has been logged and our team has been notified.</p>\n            </div>\n        </section>\n        \x3c!-- End: No results view --\x3e\n\n        \x3c!-- Start: product search results from the input query --\x3e\n        <section ng-if="vm.searchText" class="userDashboard--rowGroup">\n            <div class="container">\n\n                <h3 ng-if="vm.searchResultsType === \'examSimulatorSearch\'">\n                    Showing courses that support the exam simulator:\n                </h3>\n\n                <div class="GuSearchTile--Wrapper">\n                    <gu-search-tile ng-repeat="item in vm.searchResults" score="item.score" item-type="item.type" item-title="item.title" item-image-url="item.imageUrl" item-course-id="item.courseId" item-course-url="item.courseUrl" item-series-id="item.seriesId" item-series-url="item.seriesUrl" item-series-title="item.seriesTitle" item-episode-url="item.episodeUrl" item-text="item.text">\n                    </gu-search-tile>\n                </div>\n            </div>\n        </section>\n        \x3c!-- End: Filtered search results --\x3e\n\n        <gu-featured-browse-tiles ng-if="!vm.searchText && vm.productsLoaded && vm.filterCount === 0">\n        </gu-featured-browse-tiles>\n\n        <gu-vendor-browse-tiles ng-if="!vm.searchText && vm.productsLoaded && vm.filterCount === 0">\n        </gu-vendor-browse-tiles>\n\n        \x3c!-- Start: Filtered search results --\x3e\n        <section ng-if="vm.showCourses && vm.filterCount > 0" class="userDashboard--rowGroup">\n            <div class="container">\n                <div class="GuTileRow__unwrap">\n\n                    <gu-tile-course ng-repeat="course in vm.courses track by $index" course-title="course.title" summary="course.shortSummary" price="vm.productPrices[course.objectID].price" url-fragment="course.url" duration="course.duration" product-id="course.purchaseProductId" owned="course.userHasAccess" artwork-key="course.artworkKey" vendors="course.vendors" skill-levels="course.skillLevels" course-id="course.courses.c1">\n                    </gu-tile-course>\n\n                </div>\n            </div>\n        </section>\n        \x3c!-- End: Filtered search results --\x3e\n\n         \x3c!-- Start: Rows for courses, series --\x3e\n         <section class="userDashboard--rowGroup" ng-repeat="row in vm.rows track by $index" ng-if="!vm.searchText && vm.showTileRow(row, $index) && vm.productsLoaded">\n\n            <div class="container">\n\n                <h1 class="CourseRow--Heading">{{row.title}}</h1>\n\n                <div class="GuTileRow__unwrap">\n\n                    <gu-tile-course ng-repeat="course in vm.coursesByRow[$index] track by $index" ng-if="row.type === \'course\'" course-title="course.title" summary="course.shortSummary" price="vm.productPrices[course.objectID].price" url-fragment="course.url" duration="course.duration" product-id="course.purchaseProductId" owned="course.userHasAccess" artwork-key="course.artworkKey" vendors="course.vendors" skill-levels="course.skillLevels" course-id="course.courses.c1">\n                    </gu-tile-course>\n\n                </div>\n\n\n                <div class="SeriesPoster--Row" ng-if="row.type === \'series-component\' && vm.showAllMode">\n                    <a class="SeriesPoster--Item" ui-sref="series.playlist({seriesUrl: \'aws-this-week\'})" ng-mouseover="vm.mouseOverSeriesPoster($event)" ng-mouseout="vm.mouseOutSeriesPoster($event)">\n                            <span class="SeriesPoster--WideImage">\n                                <img src="/images/artwork/aws-this-week-1/poster-wide-background.jpg" alt="">\n                            </span>\n                            <img class="SeriesPoster--HostImage" src="/images/artwork/aws-this-week-1/series-host.png" alt="">\n                            <un-svg svg-src="images/svg-icons/title-aws-this-week.svg" class="SeriesPoster--SeriesTitle"></un-svg>\n                    </a>\n                    <a class="SeriesPoster--Item" ui-sref="series.playlist({seriesUrl: \'azure-this-week\'})" ng-mouseover="vm.mouseOverSeriesPoster($event)" ng-mouseout="vm.mouseOutSeriesPoster($event)">\n                            <span class="SeriesPoster--WideImage">\n                                <img src="/images/artwork/azure-this-week/poster-wide-background.jpg" alt="">\n                            </span>\n                            <img class="SeriesPoster--HostImage" src="/images/artwork/azure-this-week/series-host.png" alt="">\n                            <un-svg svg-src="images/svg-icons/title-azure-this-week.svg" class="SeriesPoster--SeriesTitle"></un-svg>\n                    </a>\n                    <a class="SeriesPoster--Item" ui-sref="series.playlist({seriesUrl: \'release-review\'})" ng-mouseover="vm.mouseOverSeriesPoster($event)" ng-mouseout="vm.mouseOutSeriesPoster($event)">\n                            <span class="SeriesPoster--WideImage">\n                                <img src="/images/artwork/release-review/poster-wide-background.jpg" alt="">\n                            </span>\n                            <img class="SeriesPoster--HostImage" src="/images/artwork/release-review/series-host.png" alt="">\n                            <un-svg svg-src="images/svg-icons/title-release-review.svg" class="SeriesPoster--SeriesTitle"></un-svg>\n                    </a>\n                    <a class="SeriesPoster--Item" ui-sref="series.playlist({seriesUrl: \'maker-labs\'})" ng-mouseover="vm.mouseOverSeriesPoster($event)" ng-mouseout="vm.mouseOutSeriesPoster($event)">\n                            <span class="SeriesPoster--WideImage">\n                                <img src="/images/artwork/maker-labs-1/poster-wide-background.jpg" alt="">\n                            </span>\n                            <img class="SeriesPoster--HostImage" src="/images/artwork/maker-labs-1/series-host.png" alt="">\n                            <un-svg svg-src="images/svg-icons/title-maker-labs.svg" class="SeriesPoster--SeriesTitle"></un-svg>\n                    </a>\n                    <a class="SeriesPoster--Item" ui-sref="series.playlist({seriesUrl: \'future-of-tech\'})" ng-mouseover="vm.mouseOverSeriesPoster($event)" ng-mouseout="vm.mouseOutSeriesPoster($event)">\n                            <span class="SeriesPoster--WideImage">\n                                <img src="/images/artwork/future-of-tech/poster-wide-background.jpg" alt="">\n                            </span>\n                            <img class="SeriesPoster--HostImage" src="/images/artwork/future-of-tech/series-host.png" alt="">\n                            <un-svg svg-src="images/svg-icons/title-future-of-tech.svg" class="SeriesPoster--SeriesTitle" style="height: 65px"></un-svg>\n                    </a>\n                    <a class="SeriesPoster--Item" ui-sref="series.playlist({seriesUrl: \'biographies\'})" ng-mouseover="vm.mouseOverSeriesPoster($event)" ng-mouseout="vm.mouseOutSeriesPoster($event)">\n                            <span class="SeriesPoster--WideImage">\n                                <img src="/images/artwork/biographies-1/poster-wide-background.jpg" alt="">\n                            </span>\n                            <img class="SeriesPoster--HostImage" src="/images/artwork/biographies-1/series-host.png" alt="">\n                            <un-svg svg-src="images/svg-icons/title-biographies.svg" class="SeriesPoster--SeriesTitle"></un-svg>\n                    </a>\n                </div>\n\n\n            </div>\x3c!--/.container--\x3e\n\n            \x3c!-- Exam Simulator Marketing Row--\x3e\n            <div class="ExamSimulatorSearchRow" ng-if="row.type === \'exam-simulator\' && vm.showAllMode">\n                <div class="container">\n                    <img src="/images/exam-simulator/preview-device.png" class="ExamSimulatorSearchRow--DeviceImage" alt="">\n                    <div class="ExamSimulatorSearchRow--Indent">\n                        <label class="label__uppercase">Exam Simulator</label>\n                        <h2>Practice under real <br>exam situations</h2>\n                        <a class="btn btn__OrangeCTA" ng-if="vm.isMember" ui-sref="examSimulator.choose">\n                            Choose an Exam\n                            <span class="fa fa-arrow-circle-right"></span>\n                        </a>\n                        <a class="btn btn__OrangeCTA" ui-sref="become-a-member-standard" ng-if="!vm.isMember" ng-click="vm.showWhyJoinModal($event, \'annual\', false)" ng-mousedown="vm.recordExamSimulatorInterest()">\n                                Become a Member\n                                <span class="fa fa-arrow-circle-right"></span>\n                        </a>\n                    </div>\n                </div>\n            </div>\n\n        </section>\n        \x3c!-- End: Rows for courses, series --\x3e\n\n\n\n        \x3c!--  Show the exam simulator CTA when user has searched for\n        a string containing the fragment \'simulator\' --\x3e\n        <div class="ExamSimulatorSearchRow" ng-if="vm.isSearchMode && vm.searchResultsType === \'examSimulatorSearch\'">\n            <div class="container">\n                <img src="/images/exam-simulator/preview-device.png" class="ExamSimulatorSearchRow--DeviceImage" alt="">\n                <div class="ExamSimulatorSearchRow--Indent">\n                    <label class="label__uppercase">Exam Simulator</label>\n                    <h2>Practice under real <br>exam situations</h2>\n                    <a class="btn btn__OrangeCTA" ng-if="vm.isMember" ui-sref="examSimulator.choose">\n                            Choose an Exam\n                            <span class="fa fa-arrow-circle-right"></span>\n                    </a>\n                    <a class="btn btn__OrangeCTA" ui-sref="become-a-member-standard" ng-if="!vm.isMember" ng-click="vm.showWhyJoinModal($event, \'annual\', false)" ng-mousedown="vm.recordExamSimulatorInterest()">\n                            Become a Member\n                            <span class="fa fa-arrow-circle-right"></span>\n                    </a>\n                </div>\n            </div>\n        </div>\n\n\n\n\n        \x3c!-- Start: Series content --\x3e\n        <section class="p-y-0" ng-if="!vm.isSearchMode && (vm.filterCount && vm.productsLoaded && vm.showSeries)">\n            <div class="container">\n\n                <div class="GuSeriesRow" ng-repeat="seriesRow in vm.seriesRows" ng-if="vm.seriesEpisodes[seriesRow.series].activeEpisodes.length">\n                \x3c!-- <div class="GuSeriesRow" ng-repeat="seriesRow in vm.seriesRows"> --\x3e\n\n                    <a class="GuSeriesRow--TitleArea" ui-sref="series.playlist({seriesUrl: seriesRow.series})">\n\n                        <img ng-optimise-image="vm.getSeriesArtwork(seriesRow.artworkKey)" ng-optimise-image-square="50" alt="">\n\n                        <div class="GuSeriesRow--TitleIndent">\n                            <h2>{{seriesRow.title}}</h2>\n                            <p>\n                                <span ng-bind="vm.getShowingSeriesCountMessage(vm.seriesEpisodes[seriesRow.series])"></span>\n                                \x3c!-- Showing {{vm.seriesEpisodes[seriesRow.series].activeEpisodes}} of {{vm.seriesEpisodes[seriesRow.series].activeEpisodes.length}} videos. --\x3e\n                                <u>View all episodes</u>\n                            </p>\n                        </div>\n\n                    </a>\n                    <div class="GuTileRow__unwrap">\n                        <gu-tile-series ng-repeat="episode in vm.seriesEpisodes[seriesRow.series].activeEpisodes | limitTo: vm.EPISODE_LIMIT" episode="episode" is-member="vm.isMember" series="vm.seriesEpisodes[seriesRow.series]">\n                        </gu-tile-series>\n                    </div>\n                </div>\n\n            </div>\x3c!--/.container--\x3e\n        </section>\n        \x3c!-- End: Series content --\x3e\n\n\n        \x3c!-- Exam Simulator Marketing Row--\x3e\n        <div class="ExamSimulatorSearchRow ExamSimulatorSearchRow__footerVersion" ng-if="vm.filterCount > 0 && vm.productsLoaded">\n            <div class="container">\n                <img src="/images/exam-simulator/preview-device.png" class="ExamSimulatorSearchRow--DeviceImage" alt="">\n                <div class="ExamSimulatorSearchRow--Indent">\n                    <label class="label__uppercase">Exam Simulator</label>\n                    <h2>Practice under real <br>exam situations</h2>\n                    <a class="btn btn__OrangeCTA" ng-if="vm.isMember" ui-sref="examSimulator.choose">\n                        Choose an Exam\n                        <span class="fa fa-arrow-circle-right"></span>\n                    </a>\n                    <a class="btn btn__OrangeCTA" ui-sref="become-a-member-standard" ng-if="!vm.isMember" ng-click="vm.showWhyJoinModal($event, \'annual\', false)">\n                            Become a Member\n                            <span class="fa fa-arrow-circle-right"></span>\n                    </a>\n                </div>\n            </div>\n        </div>\n\n    </div>\x3c!--/.GuBrowseMainArea--\x3e\n\n\n</main>\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),
a.put("app/public/gurus.html",'<main>\n\n    <section class="guruPage guruPage--root p-t-0">\n        <div class="guruPage--backgroundWrapper">\n\n            <gu-nav-shell></gu-nav-shell>\n\n            <div class="container">\n\n                <div class="guruPage--masthead">\n                    <h1>Meet the Gurus</h1>\n                    <p class="blurb">\n                        We look for humble people that are really good at what they do.\n                        And we give them the space to do things differently than the way they\'ve always been done.\n                    </p>\n\n                    \x3c!-- Start: Become a Guru --\x3e\n                    <div class="panel panel-default guruPage--instructorMessage">\n                        <div class="panel-body">\n                            <a href="https://info.acloud.guru/instructor-applications?__hstc=181257784.5bdac2539e18f10fd6bf342ad32a09f2.1502867555118.1516067033725.1516074638125.334&__hssc=181257784.7.1516074638125&__hsfp=737930780" class="btn btn-primary btn__Branded btn__RadiusSm hidden-xs">\n                                    Learn More\n                            </a>\n                            <div class="guruPage--indent">\n                                <h4>We’re looking for more gurus!</h4>\n                                <p>Are you a guru in a particular technology? Why not become an instructor!</p>\n                            </div>\n                            <a href="https://info.acloud.guru/instructor-applications?__hstc=181257784.5bdac2539e18f10fd6bf342ad32a09f2.1502867555118.1516067033725.1516074638125.334&__hssc=181257784.7.1516074638125&__hsfp=737930780" class="btn btn-primary btn__Branded btn__RadiusSm visible-xs">\n                                    Learn More\n                            </a>\n                        </div>\n                    </div>\n                    \x3c!-- End: Become a Guru --\x3e\n\n                </div>\n\n                \x3c!-- Main Guru Video Repeater --\x3e\n                <div class="row guruPage--row m-b-xl" ng-repeat="guru in vm.gurus | filter:{showOnGuruPage: true}">\n\n                    <div class="guruPage--colVideo">\n\n                        <videogular class="videogular videogular__16-9 videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n\n                            <vg-media vg-src="guru.videoUrl" vg-preload="\'none\'"></vg-media>\n\n                            <vg-controls>\n                                <vg-play-pause-button></vg-play-pause-button>\n                                <vg-time-display>{{ currentTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display>\n                                <vg-scrub-bar>\n                                    <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                                </vg-scrub-bar>\n\n                                <vg-volume>\n                                    <vg-mute-button></vg-mute-button>\n                                    <vg-volume-bar></vg-volume-bar>\n                                </vg-volume>\n                                <vg-fullscreen-button></vg-fullscreen-button>\n                            </vg-controls>\n\n                            <vg-overlay-play></vg-overlay-play>\n\n                            <vg-poster vg-url="guru.videoPosterUrl"></vg-poster>\n\n                        </videogular>\n\n                    </div>\n\n                    <div class="guruPage--colInfo" id="{{guru.url}}" guru-scroll scroll-target="vm.scrollToGuruUrl === guru.url ? (\'#\' + vm.scrollToGuruUrl) : \'\'" scroll-offset="30">\n                        <h2>{{guru.name}}</h2>\n                        <h3>{{guru.title}}</h3>\n                        <div class="guruPage--bio">\n                            <div class="guruPage--bioLinks">\n                                <a ng-href="https://twitter.com/{{guru.twitter}}" target="_blank" ng-if="guru.twitter">\n                                    <i class="fa fa-fw fa-twitter"></i>\n                                </a>\n                                <a ng-href="https://linkedin.com/in/{{guru.linkedIn}}" target="_blank" ng-if="guru.linkedIn">\n                                    <i class="fa fa-fw fa-linkedin"></i>\n                                </a>\n                            </div>\n                            <p>\n                                {{guru.bio}}\n                            </p>\n                            <p>\n                                <a ui-sref="courses({authors: guru.userId})" class="btn btn-outline btn__roundRect" ng-if="guru.hasCourses">\n                                    Browse my Courses\n                                </a>\n                                <span class="guruPage--comingSoon" ng-if="!guru.hasCourses">\n                                    Courses coming soon!\n                                </span>\n                            </p>\n                        </div>\n                    </div>\n\n                </div>\x3c!--/.row--\x3e\n\n\n                \x3c!-- Guest Guru Repeater --\x3e\n                <div class="guestGurus--wrapper">\n                    <h2>Guest Instructors</h2>\n                    <hr class="micro micro__center">\n                    <div class="row">\n                        <div class="col col-md-push-2 col-md-8">\n                            <div class="row">\n                                <div class="col col-xs-6 col-sm-4 p-y-xs" ng-repeat="guestGuru in vm.guestGurus">\n                                    {{guestGuru.name}}\n                                </div>\x3c!--/.col--\x3e\n                            </div>\x3c!--/.row--\x3e\n                        </div>\x3c!--/.col--\x3e\n                    </div>\x3c!--/.row--\x3e\n                </div>\n\n                \x3c!-- Start: Become a Guru --\x3e\n                <div class="panel panel-default guruPage--instructorMessage">\n                    <div class="panel-body">\n                        <a href="https://info.acloud.guru/instructor-applications?__hstc=181257784.5bdac2539e18f10fd6bf342ad32a09f2.1502867555118.1516067033725.1516074638125.334&__hssc=181257784.7.1516074638125&__hsfp=737930780" class="btn btn-primary btn__Branded btn__RadiusSm hidden-xs">\n                                Learn More\n                        </a>\n                        <div class="guruPage--indent">\n                            <h4>We’re looking for more gurus!</h4>\n                            <p>Are you a guru in a particular technology? Why not become an instructor!</p>\n                        </div>\n                        <a href="https://info.acloud.guru/instructor-applications?__hstc=181257784.5bdac2539e18f10fd6bf342ad32a09f2.1502867555118.1516067033725.1516074638125.334&__hssc=181257784.7.1516074638125&__hsfp=737930780" class="btn btn-primary btn__Branded btn__RadiusSm visible-xs">\n                                Learn More\n                        </a>\n                    </div>\n                </div>\n                \x3c!-- End: Become a Guru --\x3e\n\n\n            </div>\x3c!--/.container--\x3e\n\n        </div>\x3c!--/.backgroundWrapper--\x3e\n    </section>\n\n</main>\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),a.put("app/public/home.html",'<main>\n\n    <section class="p-t-0 siteHero--background" id="home-hero">\n\n        <gu-nav-shell></gu-nav-shell>\n\n        <div class="container">\n\n            <div class="siteHero--explainer">\n\n                <div class="HomepageMosaic hidden-xs hidden-sm">\n                    <div class="HomepageMosaic--Inner">\n                        <img src="/images/home/mosaic-cost-control.jpg" alt="" aria-hidden="true">\n                        <img src="/images/home/mosaic-intro-cloud-computing.jpg" alt="" aria-hidden="true">\n                        <img src="/images/home/mosaic-serverless.jpg" alt="" aria-hidden="true">\n                        <img src="/images/home/mosaic-docker.jpg" alt="" aria-hidden="true">\n                        <img src="/images/home/mosaic-chatbot.jpg" alt="" aria-hidden="true">\n                    </div>\n                </div>\n\n                <div class="siteHero--Inner">\n                    <h1>Teaching the <br>World to Cloud</h1>\n\n                    <p class="siteHero--byLine">\n                        Join the <gu-school-numbers after="+"></gu-school-numbers> engineers that have taken courses with A Cloud Guru.\n                    </p>\n\n                    <a ui-sref="become-a-member-standard" ng-click="vm.showWhyJoinModal($event, \'annual\', false)" class="btn btn__OrangeCTA no-animate" ng-if="vm.roleLoaded && !vm.isMember && vm.membershipPricing">\n                            <span ng-if="vm.membershipPricing.trial">Start a Free Trial</span>\n                            <span ng-if="!vm.membershipPricing.trial">Become a member</span>\n                            <i class="fa fa-fw fa-arrow-circle-right"></i>\n                    </a>\n\n                    <a ui-sref="courses" class="btn btn__OrangeCTA no-animate" ng-if="vm.roleLoaded && vm.isMember">\n                        Browse Content\n                        <i class="fa fa-fw fa-arrow-circle-right"></i>\n                    </a>\n                </div>\n\n            </div>\n\n        </div>\n\n        <section class="LogoList home--platformList">\n            <div class="container">\n                <a ui-sref="courses({ vendors: \'aws\' })"><img src="/images/logos/aws-white.png" alt="Amazon Web Services Courses"></a>\n                <a ui-sref="courses({ vendors: \'gcp\' })"><img src="/images/logos/gcp-white.png" alt="Google Cloud Platform Courses"></a>\n                <a ui-sref="courses({ vendors: \'salesforce\' })"><img src="/images/logos/sf-white.png" alt="Salesforce Courses"></a>\n                <a ui-sref="courses({ vendors: \'azure\' })"><img src="/images/logos/azure-white.png" alt="Microsoft Azure Courses"></a>\n                <a ui-sref="courses({ vendors: \'linux\' })"><img src="/images/logos/linux-white.png" alt="Linux Courses"></a>\n            </div>\n        </section>\n\n    </section>\n\n\n    <section class="FeaturedItems FeaturedItems--Section">\n        <div class="container">\n\n\n\n            \x3c!-- Featured COURSES Repeater --\x3e\n            <div class="FeaturedItems--Message">\n                <h1 class="homepage--header">Learn the cloud</h1>\n                <p class="home--blurb">\n                    With cloud skills in high demand, there\'s never been a better time to learn cloud computing. Our courses cut through the fluff and help you build exciting skills for your career.\n                </p>\n            </div>\n\n            <div class="FeaturedItems--Grid">\n                <h3>Starter Courses</h3>\n                <div class="FeaturedItems--GridItem" ng-repeat="course in vm.starterCourses | limitTo: 3">\n                    <a ui-sref="course({courseUrl: course.url})">\n                        <img class="course-artwork" alt="" ng-optimise-image="vm.getArtwork(course.artworkKey)" ng-optimise-image-square="360">\n                        <h4>{{course.title}}</h4>\n                        <p>{{course.shortSummary}}</p>\n                    </a>\n                </div>\n                </div>\n\n            <div class="FeaturedItems--Grid m-b-xl m-t-xl">\n                <h3>Popular Courses</h3>\n                <div class="FeaturedItems--GridItem" ng-repeat="course in vm.courses | limitTo: 3">\n                    <a ui-sref="course({courseUrl: course.url})">\n                        <img class="course-artwork" alt="" ng-optimise-image="vm.getArtwork(course.artworkKey)" ng-optimise-image-square="360">\n                        <h4 class="FeatureItems--GridItemDescription__small">{{course.title}}</h4>\n                        <p>{{course.shortSummary}}</p>\n                    </a>\n                </div>\n            </div>\n\n            <div class="text-center m-b-xl">\n                <a ui-sref="courses" class="btn btn__OrangeCTA">\n                    Browse Our Content Library\n                </a>\n            </div>\n\n\n            \x3c!-- Featured SERIES Repeater --\x3e\n            <div class="FeaturedItems--Message">\n                <h1 class="homepage--header">Stay up to date</h1>\n                <p class="home--blurb">\n                        With new episodes each week, there’s always something new to learn.\n                        Learn about new services and get experience working in technologies before they become main-stream.\n                </p>\n            </div>\n\n            <div class="FeaturedItems--Grid">\n                <div class="FeaturedItems--GridItem">\n                    <a ui-sref="series.playlist({ seriesUrl: \'aws-this-week\' })">\n                        <img class="course-artwork" alt="AWS This Week" ng-optimise-image="vm.getArtwork(\'aws-this-week-1\')" ng-optimise-image-square="360">\n                        <h4>AWS This Week</h4>\n                        <p>The most important AWS updates and announcements in 5 minutes or less</p>\n                    </a>\n                </div>\n                <div class="FeaturedItems--GridItem">\n                    <a ui-sref="series.playlist({ seriesUrl: \'release-review\' })">\n                        <img class="course-artwork" alt="Release Review" ng-optimise-image="vm.getArtwork(\'release-review\')" ng-optimise-image-square="360">\n                        <h4>Release Review</h4>\n                        <p>The first place to learn about new services as they are released by AWS.</p>\n                    </a>\n                </div>\n                <div class="FeaturedItems--GridItem">\n                    <a ui-sref="series.playlist({ seriesUrl: \'maker-labs\' })">\n                        <img class="course-artwork" alt="Maker Labs" ng-optimise-image="vm.getArtwork(\'maker-labs-1\')" ng-optimise-image-square="360">\n                        <h4>Maker Labs</h4>\n                        <p>Sharpen your skills and experiment with cutting-edge technologies in our labs.</p>\n                    </a>\n                </div>\n            </div>\n\n\n\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n    <section class="teamBanner teamBanner--section teamBanner__pastel section__homepageIndent">\n        <div class="container">\n            <div class="row">\n                <div class="col-md-6 teamBanner--info">\n                    <p class="teamBanner--lead">Trusted by Serious Tech Companies</p>\n                    <h1>Level Up Your Team</h1>\n                    <p class="teamBanner--byLine">\n                        Empower your teams with the skills needed for your cloud adoption journey using our all-access business plans.\n                    </p>\n                    <a href="https://info.acloud.guru/a-cloud-guru-teams" class="btn btn--purple btn-lg btn__Rounded btn__Branded btn__Shadow">\n                        Learn More\n                    </a>\n                </div>\n                <div class="col-md-6 teamBanner--logoColumn">\n                    <gu-trusted-by></gu-trusted-by>\n                </div>\x3c!--/.col--\x3e\n            </div>\x3c!--/.row--\x3e\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n\n    <section class="white LogoList section__homepageIndent AsSeenIn">\n        <h2>As Seen In</h2>\n        <div class="container">\n            <span>\n                <img src="/images/logos/apn-grey.png" alt="AWS Partner Network logo">\n            </span>\n            <span>\n                <img src="/images/logos/product-hunt-grey.png" alt="Product Hunt logo">\n            </span>\n            <span>\n                <img src="/images/logos/business-week-grey.png" alt="BusinessWeek logo">\n            </span>\n            <span>\n                <img src="/images/logos/startup-daily-grey.png" alt="Startup Daily logo">\n            </span>\n            <span>\n                <img src="/images/logos/uktn-grey.png" alt="UKTN logo">\n            </span>\n        </div>\n    </section>\n\n\n    <section class="aboutHero aboutHero--section">\n        <div class="container">\n\n            <div class="BecomeMember--Testimonials">\n                <h5 class="copyStatement--meta">Testimonials</h5>\n                <h1 class="copyStatement--heading">A few of our students</h1>\n\n                \x3c!-- Carousel component contains its own responsive mode switching logic --\x3e\n                <gu-testimonial-carousel testimonials="vm.testimonials"></gu-testimonial-carousel>\n\n            </div>\n\n            <div class="aboutHero--expertsRow">\n                <div class="row">\n\n                    <div class="col-md-4 aboutHero--expertsRowInfo">\n                        <div>\n                            <p class="aboutHero--meta">Our Team</p>\n                            <h2>We’re industry experts, not just career trainers</h2>\n                        </div>\n                    </div>\x3c!--/.col--\x3e\n\n                    <div class="col-md-8 aboutHero--missionStatement">\n\n                        <div class="aboutHero--rotatedMessage hidden-xs">\n                            <span>Mission Statement</span>\n                        </div>\n\n                        <videogular class="videogular videogular__16-9 videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n\n                            <vg-media vg-src="\'https://public.acloud.guru/marketing/mission-statement-720p-11-09-2017.mp4\'" vg-preload="\'none\'"></vg-media>\n\n                            <vg-controls>\n                                <vg-play-pause-button></vg-play-pause-button>\n                                <vg-time-display>{{ currentTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display>\n                                <vg-scrub-bar>\n                                    <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                                </vg-scrub-bar>\n\n                                <vg-volume>\n                                    <vg-mute-button></vg-mute-button>\n                                    <vg-volume-bar></vg-volume-bar>\n                                </vg-volume>\n                                <vg-fullscreen-button></vg-fullscreen-button>\n                            </vg-controls>\n\n                            <vg-overlay-play></vg-overlay-play>\n\n                            <vg-poster vg-url="\'/images/mission-statement-poster.jpg\'"></vg-poster>\n\n                        </videogular>\n\n                    </div>\x3c!--/.col--\x3e\n                </div>\x3c!--/.row--\x3e\n            </div>\x3c!--/.expertsRow--\x3e\n\n            <div class="row aboutHero--gurus">\n                <div ng-repeat="profile in vm.guruProfiles track by profile.userId">\n                    <div class="col col-sm-6 col-md-3 aboutHero--guruColumn">\n                        <a ui-sref="gurus({guruUrl: profile.url})">\n                          <img ng-optimise-image="profile.picture" ng-optimise-image-square="96" class="w-full img-circle">\n                        </a>\n                        <h2>{{profile.name}}</h2>\n                        <h4>{{profile.title}}</h4>\n                        <p>{{profile.description}}</p>\n                    </div>\n                </div>\n            </div>\n\n\n        </div>\n\n    </section>\n\n</main>\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),a.put("app/public/join.html",'<main>\n\n    <section class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0">\n\n        <gu-nav-shell></gu-nav-shell>\n\n        <div class="jumbotron">\n            <div class="container">\n                <h1>{{vm.title}}</h1>\n                <p>{{vm.subtitle}}</p>\n            </div>\n        </div>\n\n    </section>\n    \x3c!-- End: Top Hero Container --\x3e\n\n\n    <section class="floatedLayout--section">\n        <div class="container">\n            <div class="row">\n                <div class="col floatedLayout--colLeft">\n\n                    \x3c!-- This empty element forms the negatively positioned background --\x3e\n                    <div class="floatedLayout--fillBackground"></div>\n\n                    <div class="floatedLayout--fillContent">\n                        <div ng-if="vm.isPromoLoaded && !vm.codeExists">\n                            <h2>Why not check out our extensive list of courses?</h2>\n                            <div class="row">\n                                <div class="col col-sm-12">\n                                    <a class="md-btn md-raised btn-fw bg-accent" ui-sref="courses">View Courses</a>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="vm.isProductsLoaded">\n                            <h2>Select the course or bundle you want</h2>\n                            <div class="row" ng-if="vm.isProductsLoaded && !vm.hasCourses && !vm.hasBundles">\n                                <div class="col col-sm-12">\n                                    <p>There are not courses available for this promo code</p>\n                                </div>\n                            </div>\n\n                            <div class="courses--container" ng-if="vm.hasCourses || vm.hasBundles">\n                                <div class="course-row card-row">\n                                    <div class="browse-grid">\n                                        <div class="bundle-card browse-card bundle-card--repeater" ng-repeat="product in vm.bundleProducts track by $index">\n\n                                            <bundle-card url-override="vm.getCheckoutUrl(product.objectID)" bundle-title="product.title" summary="product.headline" price="vm.productPrices[product.objectID].price" product-id="product.objectID" url="product.url" courses="product.courses" owned="product.owned" skill-levels="product.skillLevels" artwork-key="product.artworkKey">\n                                            </bundle-card>\n\n                                        </div>\x3c!--/.bundle-card--repeater--\x3e\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class="courses--container" ng-if="vm.hasCourses || vm.hasBundles">\n                                <div class="course-row card-row">\n                                    <div class="browse-grid">\n                                        <div class="course-card browse-card course-card--repeater" ng-repeat="product in vm.courseProducts track by $index">\n                                            <course-card url-override="vm.getCheckoutUrl(product.objectID)" course-title="product.title" summary="product.shortSummary" price="vm.productPrices[product.objectID].price" product-id="product.objectID" url="product.url" duration="product.duration" skill-levels="product.skillLevels" owned="false" artwork-key="product.artworkKey">\n                                            </course-card>\n                                        </div>\n                                        \x3c!-- End: Course row --\x3e\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n\n</main>\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),a.put("app/public/landing-pages/aws-this-week/aws-this-week.html",'<main>\n\n    \x3c!-- Start: Top Hero Container --\x3e\n    <section id="webcast-hero" class="webcastLanding--section p-t-0">\n\n        <gu-nav-shell></gu-nav-shell>\n\n        <div class="container">\n            <div class="row">\n                <div class="col col-sm-12 text-center">\n                    \x3c!-- Start: Hero copy --\x3e\n                    <div class="webcastLanding--hero no-clear">\n                        <h1 class="webcastLanding--header">Top Stories From AWS This Week</h1>\n                        <h2 class="webcastLanding--subHeader">Delivered to your inbox weekly, so that you don\'t have to search.</h2>\n                    </div>\n                    \x3c!-- End: Hero copy --\x3e\n                </div>\n            </div>\n            <div class="row">\n                <div class="col col-md-8">\n                    <div class="webcastLanding--videoFlourish">\n                        <div class="webcastLanding--videoWrapper">\n                            <iframe src="https://www.youtube.com/embed/videoseries?list=PLI1_CQcV71RmeydXo-5K7DAxLsUX6SVhL" frameborder="0" allowfullscreen></iframe>\n                        </div>\n\n                        <p class="webcastLanding--footerLink">\n                            <a href="/series/aws-this-week/view/latest" target="_blank">\n                                View All Episodes\n                            </a>\n                        </p>\n                    </div>\n                </div>\n                <div class="col col-md-4 webcastLanding--signUpColumn">\n\n                    <div>\n\n                        <h3>Want more AWS This Week?</h3>\n                        <p>Sign up for exclusive access to all AWS This Week videos, delivered to your inbox. It\'s FREE.</p>\n\n\n                        <div class="form-group">\n                            <div class="row">\n                                <div class="col col-xs-8 col-left">\n                                    <input type="email" class="form-control" ng-model="vm.emailAddress" placeholder="Email address">\n                                </div>\n                                <div class="col col-xs-4 col-right">\n                                    <button class="btn btn-success btn-block" ng-click="vm.subscribeUser()">Subscribe</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div ng-if="vm.showSubscribed" class="webcastLanding--subscribed">\n                            <p>\n                                <i class="fa fa-fw fa-check"></i>\n                                <strong>Thanks!</strong>\n                                You\'re subscribed!\n                            </p>\n                        </div>\n\n                    </div>\n\n                    <hr>\n\n                    <div class="webcastLanding--share">\n                        <h3>Share the knowledge</h3>\n                        <p class="hidden-md">Share with your friends using the link below.</p>\n                        <gu-social-share url="\'https://acloud.guru/aws-this-week\'"></gu-social-share>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </section>\n    \x3c!-- End: Top Hero Container --\x3e\n\n    <section>\n        <div class="container">\n            <div class="row">\n                <div class="col col-md-8 webcastLanding--quotes">\n                    <h3>What are people saying about AWS This Week?</h3>\n                    <hr class="micro">\n                    <blockquote>\n                        <span class="blockquote--symbol"></span>\n                        Love the format and the way you cut to the chase. Topic by topic: what\'s new, a little background, why we should care, then move to next topic.\n                        <span class="blockquote--symbol"></span>\n                    </blockquote>\n                    <blockquote>\n                        <span class="blockquote--symbol"></span>\n                        I like the concept. News short and sweet. Without any bombast like the regular blogs/media :)\n                        <span class="blockquote--symbol"></span>\n                    </blockquote>\n                    <blockquote>\n                        <span class="blockquote--symbol"></span>\n                        Whoa. I really like this format of information delivery.\ufeff\n                        <span class="blockquote--symbol"></span>\n                    </blockquote>\n                    <blockquote>\n                        <span class="blockquote--symbol"></span>\n                        These weekly updates are super useful, thank you!\ufeff\n                        <span class="blockquote--symbol"></span>\n                    </blockquote>\n                    <blockquote>\n                        <span class="blockquote--symbol"></span>\n                        I love your AWS this week. Keep rocking Ryan :)\ufeff\n                        <span class="blockquote--symbol"></span>\n                    </blockquote>\n                </div>\n                <div class="col col-md-4">\n                    <h3>What is AWS This Week?</h3>\n                    <hr class="micro">\n                    <p class="webcastLanding--description">\n                        Amazon Web Services launches new updates daily. It’s hard to find the time to keep up. Spend nothing to keep your knowledge current. <b>AWS This Week</b> is quick online coverage of breaking news and current headlines from Amazon Web Services and competitors. Prepare for your next job interview. Stay up to date after certification. Learn more about Amazon Web Services and cloud computing. <b>Sign up today.</b>\n                    </p>\n                </div>\n            </div>\n        </div>\n    </section>\n\n</main>\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),
a.put("app/public/landing-pages/cloudcast/cloudcast.html",'<main>\n\n    \x3c!-- Start: Top Hero Container --\x3e\n    <section id="cloudcast-hero" class="cloudcastLanding--section p-t-0">\n\n        <gu-nav-shell></gu-nav-shell>\n\n        <div class="container">\n            <div class="row">\n                <div class="col col-sm-12 text-center">\n                    \x3c!-- Start: Hero copy --\x3e\n                    <div class="cloudcastLanding--hero no-clear">\n                        <h1 class="cloudcastLanding--header"><span class="invisible" style="position: absolute">The Cloudcast</span><img alt="The Cloudcast Logo" src="/images/cloudcast/cloudcast-logomark.png"></h1>\n                        <h2 class="cloudcastLanding--subHeader">An award winning podcast on cloud computing, presented by A Cloud Guru.</h2>\n                    </div>\n                    \x3c!-- End: Hero copy --\x3e\n                </div>\n            </div>\n            <div class="row">\n                <div class="col col-md-8">\n                    <div class="cloudcastLanding--videoFlourish">\n                        <div class="cloudcastLanding--videoWrapper">\n                            <iframe id="player_iframe" scrolling="no" src="https://www.buzzsprout.com/3195?client_source=large_player&amp;amp;iframe=true&amp;amp;referrer=https://acloud.guru/cloudcast" width="100%" frameborder="0"></iframe>\n                        </div>\n\n                    </div>\n                </div>\n                <div class="col col-md-4 cloudcastLanding--aside">\n\n                    <div>\n                        <img src="/images/cloudcast/alexa.png" class="cloudcastLanding--alexalogo">\n                        <div class="cloudcastLanding--alexaDescription">\n                            <h3>&ldquo;Alexa, open the Cloudcast.&rdquo;</h3>\n                            <p>We\'ve developed an awesome Alexa skill so you can listen to the Cloudcast hands-free, from your echo devices!</p>\n                            <a target="_blank" href="https://www.amazon.com/dp/B073BB34BH" class="btn btn-info btn-block">Get Our Alexa Skill</a>\n                        </div>\n                    </div>\n\n                    <hr>\n\n                    <div class="cloudcastLanding--share">\n                        <h3>Share this episode</h3>\n                        <p class="hidden-md">Share with your friends using the link below:</p>\n                        <gu-social-share url="\'https://acloud.guru/cloudcast\'"></gu-social-share>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </section>\n    \x3c!-- End: Top Hero Container --\x3e\n\n</main>\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),a.put("app/public/layout.html","<div ui-view></div>"),a.put("app/public/legals/code-of-conduct.html",'<div class="container legals-container">\n\n    <div class="simplePage--header">\n        <a href="/">\n            <img src="/images/logo-small-optimised-with-text.png" alt="A Cloud Guru Logo (small)">\n        </a>\n    </div>\n\n  <div class="card legals">\n    <div class="card-body p-lg" btf-markdown>\n## Code of Conduct\n\nThis code of conduct outlines our expectations for participants within the ACLOUD.GURU community, as well as steps to reporting unacceptable behavior. We are committed to providing a welcoming and inspiring community for all and expect our code of conduct to be honored.\n\nAnyone who violates this code of conduct may be banned from the community.\n\nOur online community strives to:\n\n - Be friendly and patient.\n\n - Be welcoming: We strive to be a community that welcomes and supports people of all backgrounds and identities. This includes, but is not limited to members of any race, ethnicity, culture, national origin, colour, immigration status, social and economic class, educational level, sex, sexual orientation, gender identity and expression, age, size, family status, political belief, religion, and mental and physical ability.\n\n - Be considerate: Your work will be used by other people, and you in turn will depend on the work of others. Any decision you take will affect users and colleagues, and you should take those consequences into account when making decisions. Remember that we’re a world­wide community, so you might not be communicating in someone else’s primary language.\n\n - Be respectful: Not all of us will agree all the time, but disagreement is no excuse for poor behavior and poor manners. We might all experience some frustration now and then, but we cannot allow that frustration to turn into a personal attack. It’s important to remember that a community where people feel uncomfortable or threatened is not a productive one.\n\n - Be careful in the words that we choose: we are a community of professionals, and we conduct ourselves professionally. Be kind to others. Do not insult or put down other participants. Harassment and other exclusionary behavior aren’t acceptable.\n\n - Try to understand why we disagree: Disagreements, both social and technical, happen all the time. It is important that we resolve disagreements and differing views constructively. Remember that we’re different. The strength of our community comes from its diversity, people from a wide range of backgrounds. Different people have different perspectives on issues. Being unable to understand why someone holds a viewpoint doesn’t mean that they’re wrong. Don’t forget that it is human to err and blaming each other doesn’t get us anywhere. Instead, focus on helping to resolve issues and learning from mistakes.\n\n---\n\n### Definitions\n\nHarassment includes, but is not limited to:\n\n - Offensive comments related to gender, gender identity and expression, sexual orientation, disability, mental illness, neuro(a)typicality, physical appearance, body size, race, age, regional discrimination, political or religious affiliation\n\n - Unwelcome comments regarding a person’s lifestyle choices and practices, including those related to food, health, parenting, drugs, and employment\n\n - Deliberate misgendering. This includes deadnaming or persistently using a pronoun that does not correctly reflect a person’s gender identity. You must address people by the name they give you when not addressing them by their username or handle\n\n - Physical contact and simulated physical contact (eg, textual descriptions like “hug” or “backrub”) without consent or after a request to stop\n\n - Threats of violence, both physical and psychological\n\n - Incitement of violence towards any individual, including encouraging a person to commit suicide or to engage in self­harm\n\n - Deliberate intimidation\n\n - Stalking or following\n\n - Harassing photography or recording, including logging online activity for harassment purposes\n\n - Sustained disruption of discussion\n\n - Unwelcome sexual attention, including gratuitous or off­topic sexual images or behaviour\n\n - Pattern of inappropriate social contact, such as requesting/assuming inappropriate levels of intimacy with others\n\n - Continued one­on­one communication after requests to cease\n\n - Deliberate “outing” of any aspect of a person’s identity without their consent except as necessary to protect others from intentional abuse\n\n - Publication of non­harassing private communication\n\nOur open source community prioritizes marginalized people’s safety over privileged people’s comfort. We will not act on complaints regarding:\n\n - ‘Reverse’ ­isms, including ‘reverse racism,’ ‘reverse sexism,’ and ‘cisphobia’\n\n - Reasonable communication of boundaries, such as “leave me alone,” “go away,” or “I’m not discussing this with you”\n\n - Refusal to explain or debate social justice concepts\n\n - Communicating in a ‘tone’ you don’t find congenial\n\n - Criticizing racist, sexist, cissexist, or otherwise oppressive behavior or assumptions\n\n---\n\n### Diversity Statement\n\nWe encourage everyone to participate and are committed to building a community for all.\n\nAlthough we will fail at times, we seek to treat everyone both as fairly and equally as possible.\n\nWhenever a participant has made a mistake, we expect them to take responsibility for it. If someone has been harmed or offended, it is our responsibility to listen carefully and respectfully, and do our best to right the wrong.\n\nAlthough this list cannot be exhaustive, we explicitly honor diversity in age, gender, gender identity or expression, culture, ethnicity, language, national origin, political beliefs, profession, race, religion, sexual orientation, socioeconomic status, and technical ability. We will not tolerate discrimination based on any of the protected characteristics above, including participants with disabilities.\n\n---\n\n### Reporting Issues\n\nIf you experience or witness unacceptable behavior—or have any other concerns—please report it by contacting us via abuse@acloud.guru. All reports will be handled with discretion. In your report please include:\n\n - Your contact information.\n\n - Names (real, nicknames, or pseudonyms) of any individuals involved. If there are additional witnesses, please include them as well. Your account of what occurred, and if you believe the incident is ongoing. If there is a publicly available record (e.g. a mailing list archive or a public IRC logger), please include a link.\n\n - Any additional information that may be helpful.\n\nAfter filing a report, a representative will contact you personally, review the incident, follow up with any additional questions, and make a decision as to how to respond. If the person who is harassing you is part of the response team, they will recuse themselves from handling your incident. If the complaint originates from a member of the response team, it will be handled by a different member of the response team. We will respect confidentiality requests for the purpose of protecting victims of abuse.\n    </div>\n  </div>\n\n  <div class="m-t-lg text-center">\n    <a ui-sref="home" class="md-btn md-flat m-b m-t btn-fw text-white">Go Back</a>\n  </div>\n</div>'),a.put("app/public/legals/privacy-policy.html",'<div class="container legals-container">\n\n    <div class="simplePage--header">\n        <a href="/">\n            <img src="/images/logo-small-optimised-with-text.png" alt="A Cloud Guru Logo (small)">\n        </a>\n    </div>\n\n  <div class="card">\n    <div class="card-body p-lg legals" btf-markdown>\n## A Cloud Guru – Website Privacy Policy\n\n**Last updated: 25 May 2018**\n\nA Cloud Guru Ltd (&quot; **A Cloud Guru**&quot;, &quot; **we**&quot;, &quot; **our**&quot;, &quot; **us**&quot;) are committed to protecting and respecting your privacy. We are a limited company established in the U.K. with a registered office at Salwey House Runnymede Park Tite Hill, Egham, Surrey TW20 0NB.\n\nThis Privacy Policy sets out how we collect, use, disclose, transfer and store your information at A Cloud Guru in connection with your use of our website at https://acloud.guru/ (the &quot; **Website**&quot;), our mobile app, A Cloud Guru (the &quot; **App**&quot;) and your use of our training courses, certifications and related services and content (&quot; **Cloud Guru Content**&quot;) (collectively &quot; **the Services**&quot;).\n\n**Individual Customers:** If you are using our Services for your own personal purposes as opposed to in connection with your employment, your data controller for the purpose of the EU General Data Protection Regulation (the &quot; **GDPR**&quot;) is A Cloud Guru Ltd.\n\n**Corporate Customers** : If you are using our Services in connection with your employment, your employer is your data controller for the purposes of the GDPR, and we are data processor collecting and use that data only to provide the services to your employer. Your employer may have their own privacy notices that will apply to your use of our Services.  Your employer will have access to your usage information, such as courses taken and results.\n\nPlease read this Privacy Policy carefully so that you understand how we process your personal information and what your rights are in relation to your personal information. If you do not agree with this Privacy Policy in general or any part of it, you should not access our Website or Services.\n\n### 1. COLLECTION AND USE OF INFORMATION\n\nWe collect certain information or data about you when you use our Services:\n\nThis includes:\n\n- when you create an account with us, or submit questions, queries or feedback via ur Website, App, email or social media, including your email address if you send an email to us, as it is in our legitimate interests to provide our Services, communicate with you and provide customer support per your request;\n- your country and IP address, as it is necessary for our compliance with legal obligations to identify where our users are located in connection with EU tax laws;\n- where you have provided your consent, you email address so you can receive our newsletters;\n- where you post information on our Website chat forum, as it is in our legitimate interests to provide our Services;\n- when you provide evidence of purchases of &quot;Cloud Guru&quot; courses on third-party platforms via our Website, as it is in our legitimate interest to provide our Services and validate your purchase per your request;\n- when you upload a professional certification via our Website, as it is in our legitimate interest to provide our Services and validate the authenticity of your certificate;\n- when you inquire about our product via our Website, App, email or social media, including your email address if you send an email to us, as it is in our legitimate interests to provide our services, communicate with you and contact you about our product as per our request;\n\ninformation we automatically collect from your computer, mobile phone, or other access device on how you use the Website,  including your IP address; device information including, but not limited to, identifier, name, and type of operating system; and standard web information, such as your browser type and the pages you access on our Website (&quot; **Technical Usage Information**&quot;).\n\nWe collect Technical Usage Information as it is in our legitimate interests to provide effective services and useful content to you, in order to:\n\n- personalise our Website to ensure content from the Website is presented in the most effective manner for you and your device;\n- monitor and analyse trends, usage and activity in connection with our Website and Services to improve the Website;\n- administer the Website, and for internal operations, in order to conduct troubleshooting, data analysis, testing, research, statistical and survey analysis;\n- keep the Website safe and secure; and\n- measure and understand the effectiveness of the content we serve to you and others.\n\n### 2. Cookies\n\nWe use cookies, pixel tags, web beacons and similar files or technologies to collect and store the information we automatically collect about your computer, mobile device, and use of the Website. Cookies are files containing small amounts of information which that are downloaded to your computer or mobile device when you visit a certain webpage. Cookies are then sent back to the originating webpage on each subsequent visit, or to another webpage that recognises that cookie. Cookies are used in order to make our Website work, or to work more efficiently, and to improve your experience of our Website.\n\nIn addition to cookies that are strictly necessary to operate the Website, we use the following cookies:\n\n- **Functional cookies** , which are set by us and the following third parties including: Cloudinary and Braintree, to enhance your experience on our Website.\n- **Performance Cookies** provided by the following third parties including: Intercom, Hubspot and Google Analytics, which enable us to provide a better user experience based on how our you use our Website.\n- **Targeting or Advertising Cookies** , which are set by us and the following third parties, including: Google AdWords, Bing Ads, DoubleClick and LinkedIn, and tell us and those third parties about your browsing habits, so you can be provided with advertising that is more relevant to you.\n- **Social Media Cookies** , which are set by the following third parties including: Facebook, Twitter, Google+ and LinkedIn, and allow you to share what you&#39;ve been doing on the Website on social media.\n\nIf you do not accept the use of these cookies, please disable them by changing your browser settings so that cookies from the Website cannot be placed on your computer or mobile device. These browser settings will typically be found in the &quot;options&quot; or &quot;preferences&quot; menu of your browser; otherwise you should use the &quot;Help&quot; option in your browser for more details. If you only want to limit third party advertising cookies, you can turn such cookies off by visiting the following links:\n\n- Your Online Choices ( [http://www.youronlinechoices.com/uk/](http://www.youronlinechoices.com/uk/))\n- Network Advertising Initiative ( [http://www.networkadvertising.org/](http://www.networkadvertising.org/))\n- Digital Advertising Alliance ( [http://www.aboutads.info/consumers](http://www.aboutads.info/consumers))\n\n### 3. Disclosure to Third Parties\n\nWe share your information with a number of third parties described underneath that process and store data on how you interact with the Website. Use of those services is governed by their respective terms of use and privacy policies as detailed below.\n\nWe will not submit your data to any third parties except as described in this Privacy Policy. We use:\n\n- cloud storage providers including AWS located in the United States to store the personal data you provide and for disaster recovery services, as well as for the performance of any contract we enter into with you;\n- service providers foranalytics services to help understand your usage of our Services. In particular, we use Intercom, Inc. (&quot; **Intercom**&quot;) and provide a limited amount of your information (such as your email address and signup date) to Intercom and utilize Intercom to collect data for analytics purposes when you visit our Website or use our Cloud Guru Content product. Intercom analyzes your use of our Services website and/or product and tracks our relationship so that we can improve our service to you. We may also use Intercom as a medium for communications, either through email, or through messages within our Services.\n- service providers for authentication services to authenticate, identify and grant access to our Services; and\n- service providers for payment services including Braintree to handle receipt of payment for products and services at our Website.\n\nWe will pass on your personal information if we have a legal obligation to do so; if we have to enforce or apply our terms of use and other agreements; to detect, prevent or otherwise address security, fraud or technical issues; or to protect the rights, property or safety of us, our users, a third party or the public as required or permitted by law (exchanging information with other companies and organisations for the purposes of fraud protection and credit risk reduction).\n\nWe will also disclose your information to third parties:\n\n- if you are an employee of one of our corporate customers, we will share data generated from your use of the Services with your employer;\n- in the event that we sell any business or assets, in which case we will disclose your data to the prospective  buyer of such business or assets; and\n- if we or substantially all of our assets are acquired by a third party, in which case information held by us about our users will be one of the transferred assets.\n\n### 4. CHILDREN\n\nWe do not knowingly collect personal information from children under age 16 for any purpose. If we learn that we have collected personal information of a child under age 16, we will attempt to delete that personal information as soon as possible and take any other measures required under applicable law.\n\n### 5. Keeping your data secure\n\nTransmitting information over the internet is generally not completely secure, and we can&#39;t guarantee the security of your data.\n\nAny data you transmit is at your own risk.\n\nWe have procedures and security features in place to try and keep your data secure once we receive it.\n\nWe won&#39;t share your information with any other organisations for marketing or market research, and we don&#39;t pass on your details to other websites.\n\nPayment transactions are always encrypted.\n\n### 6. Your rights\n\nWhere you sign up for our Services as an individual, you have certain rights including to find out what information we hold about you and review, update, and correct the personal information you provide us by logging into your account.\n\n**Corporate Customers:** If you are an employee of one of our corporate customers, please contact your employer to exercise your rights.\n\n**Individual Customers** : You  have certain rights in regard to your personal information. You have the right to ask us to access the personal information we hold about you and be provided with certain information about how we use your information and who we share it with. You also have the right to ask us to correct your personal data where it is inaccurate or incomplete and we will endeavour to do so without undue delay.\n\nIn certain circumstances, you have the right to ask us to delete the personal information we hold about you:\n\n- where you believe that it is no longer necessary for us to hold your personal information;\n- where we are processing your personal information on the basis of legitimate interests and you object to such processing  and we cannot demonstrate an overriding legitimate ground for the processing;\n- where you have provided your personal information to us with your consent and you wish to withdraw your consent and there is no other ground under which we can process your personal data; or\n- where you believe the personal information we hold about you is being unlawfully processed by us.\n\nIn certain circumstances, you have the right to ask us to restrict (stop any active) processing of your personal information:\n\n- where you believe the personal information we hold about you is inaccurate and while we verify accuracy;\n- where we want to erase your personal information as the processing is unlawful but you want us to continue to store it;\n- where we no longer need your personal information for the purposes of our processing but you require us to retain the data for the establishment, exercise or defence of legal claims; or\n- where you have objected to us processing your personal information based on our legitimate interests and we are considering your objection.\n\nIn addition, you can object to our processing of your personal information based on our legitimate interests and we will no longer process your personal data unless we can demonstrate an overriding legitimate ground.\n\nAt any time you have the right to object to our processing of information about you in order to send you marketing, including where we build profiles for such purposes, and we will stop processing the data for that purpose.\n\nTo exercise any of these rights above, please use the form available on the Website at <a href="https://help.acloud.guru/hc/en-us/requests/new">https://help.acloud.guru/hc/en-us/requests/new</a>, or contact privacy@acloud.guru. In addition, you have the right to complain to the Information Commissioner&#39;s Office or other applicable data protection supervisory authority.\n\nPlease note that these rights above are limited, for example, where fulfilling your request would adversely affect other individuals, our trade secrets or intellectual property, where there are overriding public interest reasons, or where we are required by law to retain your personal data.\n\n### 7. International transfers\n\nIf you are located in the EU, your personal information will be transferred to and processed by:\n\n- A Cloud Guru personnel located in the United States and Australia under the terms of the EU Commission&#39;s model contracts for the transfer of personal data to third countries (i.e., the standard contractual clauses), pursuant to Decision 2010/87/EU. Please contact privacy@acloud.guru, if you would like to see a copy of the model contracts; and\n\n- our third party suppliers (as described above) located outside the EEA where such transfers will either be: (i) to a recipient certified to the US Department of Commerce&#39;s EU-US Privacy Shield; or (ii) subject to the European Commission&#39;s model contracts for the transfer of personal data to third countries (i.e., the standard contractual clauses). For more information about the EU-US Privacy Shield Framework, visit the U.S. Department of Commerce&#39;s Privacy Shield website. Please contact privacy@acloud.guru, if you would like to see a copy of the model contracts.\n\n### 8. Changes\n\nAny changes we will make to this Privacy Policy in the future will be posted on this page. Please check back frequently for any updates or changes.\n\n### 9. Contact\n\nQuestions, comments and requests regarding this Privacy Policy are welcomed and should be addressed to privacy@acloud.guru.\n    </div>\n  </div>\n\n  <div class="m-t-lg text-center">\n    <a ui-sref="home" class="md-btn md-flat m-b m-t btn-fw text-white">Go Back</a>\n  </div>\n</div>'),
a.put("app/public/legals/terms-of-sale.html",'<div class="container legals-container">\n\n    <div class="simplePage--header">\n        <a href="/">\n            <img src="/images/logo-small-optimised-with-text.png" alt="A Cloud Guru Logo (small)">\n        </a>\n    </div>\n\n    <div class="card">\n        <div class="card-body p-lg legals">\n            <h1>Terms of Sale</h1>\n            <p>\n                These Terms of Sale, together with any and all other documents referred to herein, set out the terms under which Paid Content, accessed Subscriptions,\n                is sold by Us to consumers through this website, <a href="https://acloud.guru/">https://acloud.guru/</a> (&quot;Our Site&quot;).\n                Please read these Terms of Sale carefully and ensure that you understand them before purchasing a Subscription.\n                You will be required to read and accept these Terms of Sale when ordering a Subscription.\n                If you do not agree to comply with and be bound by these Terms of Sale, you will not be able to purchase a Subscription and access Paid Content through Our Site.\n                These Terms of Sale, as well as any and all Contracts are in the English language only.\n            </p>\n\n            <p>\n                These Terms of Sale are also subject to our Privacy Policy which covers how we collect, use, share, and store your personal information.\n            </p>\n            <p>\n                We may modify these Terms of Sale, our Privacy Policy and our Cookies Policies from time to time.\n                If we make material changes to it, we will provide you notice to provide you the opportunity to review the changes before they become effective.\n            </p>\n            <p>\n                Continuing to pay for and receive Paid Content after we have published or sent a notice about our changes to these terms means that you are consenting to the updated terms.\n            </p>\n            <ol>\n                <li>\n                    <p><strong>Definitions and Interpretation</strong></p>\n                    <ol>\n                        <li>\n                            <p>In these Terms of Sale, unless the context otherwise requires, the following expressions have the following meanings:</p>\n                            <p>\n                                <ul>\n                                    <li><strong>&quot;Contract&quot;</strong> means a contract for the purchase of a Subscription to access Paid Content, as explained in Clause 6;</li>\n                                    <li><strong>&quot;Paid Content&quot;</strong> means the digital content sold by Us through Our Site;</li>\n                                    <li><strong>&quot;Subscription&quot;</strong> means a subscription to Our Site providing access to Paid Content;</li>\n                                    <li><strong>&quot;Subscription Confirmation&quot;</strong> means our acceptance and confirmation of your purchase of a Subscription;</li>\n                                    <li><strong>&quot;Subscription ID&quot;</strong> means the reference number for your Subscription; and</li>\n                                    <li><strong>&quot;We/Us/Our&quot;</strong> means A Cloud Guru Ltd, a company registered in England under 09602737 whose registered address is  Carnac Place, Cams Hall Estate, Fareham, Hampshire, United Kingdom, PO16 8UY.</li>\n                                </ul>\n                            </p>\n                        </li>\n                    </ol>\n                </li>\n                <li>\n                    <p><strong>Information About Us</strong></p>\n                    <p>Our Site, <a href="https://acloud.guru/">https://acloud.guru/</a> is owned and operated by us.</p>\n                </li>\n                <li>\n                    <p><strong>Business Customers</strong></p>\n                    <p>These Terms of Sale do not apply to customers purchasing Subscriptions and accessing Paid Content in the course of business.</p>\n                </li>\n                <li>\n                    <p><strong>Availability</strong></p>\n                    <ol>\n                        <li>We make all reasonable efforts to ensure that all descriptions of Subscriptions and Paid Content available from Us correspond to the actual Subscription and Paid Content that you will receive.</li>\n                        <li>Where any updates are made to Paid Content, that Paid Content will continue to match Our description of it as provided to you before you purchased your Subscription to access the Paid Content.  Please note that this does not prevent Us from enhancing the Paid Content, thereby going beyond the original description.</li>\n                        <li>You recognize that the traffic of data through the Internet may cause delays during the download of information from Our Site and accordingly, you shall not hold Us liable for delays that are ordinary in the course of Internet use. You further acknowledge and accept that Our Site will not be available on a continual twenty-four hour basis due to such delays, or delays caused by Our upgrading, modification, or standard maintenance of our Site.</li>\n                        <li>\n                            We will use commercially reasonable efforts to enable the Paid Content to be accessible, except for scheduled maintenance and required repairs,\n                            and except for any interruption due to causes beyond the reasonable control of, or not reasonably foreseeable by Us, including, but not limited to,\n                            any Force Majeure Event (as defined below). The foregoing undertaking shall not apply to the extent of any non-conformance caused by use of Our Site\n                            or the Paid Content contrary to Our instructions, or modification or alteration of the Paid Content by any party other than Us.\n                            If the Paid Content is in non-conformance with the foregoing undertaking, We will, at our expense, use all reasonable commercial\n                            endeavors to correct any such non-conformance promptly, or provide you with an alternative means of accomplishing the desired performance.\n                        </li>\n                        <li>\n                            <p>\n                                In some limited circumstances, We may need to suspend the provision of Paid Content (in full or in part) for one or more of the following reasons:\n                            </p>\n                            <ul>\n                                <li>To fix technical problems or to make necessary minor technical changes;</li>\n                                <li>To update the Paid Content to comply with relevant changes in the law or other regulatory requirements.</li>\n                            </ul>\n                            <p>\n                                If We need to suspend availability of the Paid Content for any of the reasons set out in this clause, We will inform you in advance of the\n                                suspension and explain why it is necessary (unless We need to suspend availability for urgent or emergency reasons such as a dangerous problem\n                                with the Paid Content, in which case We will inform you as soon as reasonably possible after suspension).  You will not be charged while\n                                availability of Our Site is suspended and your Subscription will be extended by a period equivalent to the length of the suspension\n                                (unless the period of suspension is less than three days).\n                            </p>\n                        </li>\n                    </ol>\n                </li>\n                <li>\n                    <p><strong>Fees and renewals</strong></p>\n                    <ol>\n                        <li>We offer a No Fee Trial Subscription. You may cancel a No Fee Trial at any time before it expires by following the relevant instructions.</li>\n                        <li>Continuance of the Subscription beyond the expiration of the No Fee Trial will incur the relevant fee.</li>\n                        <li>Payment for Subscriptions must always be made in advance, by debit/credit card or PayPal.  Your chosen payment method will be charged when we process your order and send you a Subscription Confirmation (this usually occurs immediately and you will be shown a message confirming your payment).</li>\n                        <li>Paid Content appropriate to your Subscription will be available to you n a recurring basis (monthly or annually) immediately from the date we send you a Subscription Confirmation.</li>\n                        <li>You agree to pay the appropriate fee corresponding to the particular Subscription that you wish to access for the applicable duration.You understand that there may be fees and taxes that are added to our prices.</li>\n                        <li>You can get a copy of your invoice through your account settings under <a ui-sref="app.settings.purchases">Purchases</a>.</li>\n                        <li>\n                            <p>Recurring charges are billed in advance of access to Paid Content. You agree to provide Us with valid, up-to-date and complete debit/credit card, contact and billing details. You will further authorize Us to bill such debit/credit card including on renewal dates, if appropriate for the Subscription fee due for the initial term and any renewal term. On each renewal date renewal we will make three attempts to bill your debit/credit card as follows:</p>\n                            <ol>\n                                <li>first attempt: on renewal date</li>\n                                <li>second attempt: five days from billing date</li>\n                                <li>third attempt: ten days from billing date</li>\n                            </ol>\n                            <p>Failed email notifications will be sent after each failed attempt and your Subscription will be cancelled immediately after the third failed attempt.</p>\n                        </li>\n                        <li>We may charge a fee for reinstatement of suspended or terminated accounts. You agree that until your Subscription is properly terminated, you will continue to accrue charges for which you remain responsible, even if you do not use the Paid Content. In the event legal action is necessary to collect on balances due, you agree to reimburse Us for all expenses incurred to recover sums due, including attorney fees and other legal expenses.</li>\n                        <li>We may from time to time change Our prices.  Changes in price will not affect any Subscription that you have already purchased but will apply to any subsequent renewal or new Subscription.</li>\n                    </ol>\n                </li>\n                <li>\n                    <p><strong>How Contracts Are Formed</strong></p>\n                    <ol>\n                        <li>Our Site will guide you through the process of purchasing a Subscription.  Before completing your purchase, you will be given the opportunity to review your order and amend it.  Please ensure that you have checked your order carefully before submitting it.</li>\n                        <li>If, during the order process, you provide Us with incorrect or incomplete information, please contact Us as soon as possible.  If We are unable to process your order due to incorrect or incomplete information, We will contact you to ask to correct it.  If you do not give us the accurate or complete information within a reasonable time of Our request, We will cancel your order and treat Contract will immediately end. We will not be responsible for any delay in the availability of Paid Content that results from you providing incorrect or incomplete information.</li>\n                        <li>No part of Our Site constitutes a contractual offer capable of acceptance.  Your order to purchase a Subscription constitutes a contractual offer that We may, at Our sole discretion, accept.  Our acknowledgement of receipt of your order does not mean that we have accepted it.  Our acceptance is indicated by Us sending you a Subscription Confirmation by email.  Only once We have sent you a Subscription Confirmation will there be a legally binding Contract between Us and you.</li>\n                        <li>In the unlikely event that We do not accept or cannot fulfil your order for any reason, We will explain why in writing.  No payment will be taken under normal circumstances.  If We have taken payment any such sums will be refunded to you as soon as possible and in any event within 14 days.</li>\n                    </ol>\n                </li>\n                <li>\n                    <p><strong>Refund policy</strong></p>\n                    <p>\n                        If you are a consumer in the European Union you have a statutory right to cancel your Subscription and claim a refund at any time before the earlier of:\n                    </p>\n                    <ul>\n                        <li>14 calendar days after the date of Our Subscription Confirmation, or</li>\n                        <li>the time when you download or stream Paid Content.</li>\n                    </ul>\n                    <p>\n                        To request a refund, please contact us at\n                        <a href="mailto:support@acloud.guru">support@acloud.guru</a>.\n                        In this case, your membership will come to an end on the date of cancellation.\n                    </p>\n                </li>\n                <li>\n                    <p><strong>Cancelling Your Subscription <a ui-sref="members.cancel">link to cancellation</a></strong></p>\n                    <ol>\n                        <li>You may cancel your Subscription at any time, however subject to sub-Clause 7  We cannot offer any refunds and you will continue to have access to the Paid Content for the remainder of your current Subscription (up until the renewal or expiry date, as applicable), whereupon the Contract will end.</li>\n                        <li>If you fail to provide a full Subscription payment on time, we will make two further  attemptsto bill your debit/credit card. Failed email notifications will be sent after each failed attempt and your Subscription will be cancelled immediately  after the third failed payment attempt.</li>\n                        <li>We may from time to time change Our prices.  Changes in price will not affect any Subscription that you have already purchased but will apply to any subsequent renewal or new Subscription.  We will inform you of any change in price at least 30  before the change is due to take effect.  If you do not agree to such a change, you may cancel the Contract.</li>\n                        <li>We reserve the right to cancel your Subscription or suspend access to all or   any portion of the Paid Content for violation or suspected violation of these Terms of Sale.</li>\n                    </ol>\n\n                </li>\n                <li>\n                    <p><strong>Intellectual Property Rights</strong></p>\n                    <p>For the purposes of these Terms, &quot;Intellectual Property Rights&quot; means any and all intellectual property rights, whether registered or unregistered, including but not limited to any patents, trademarks, domain names, URLs, design rights, copyright, software rights, database rights, rights in and to business names, product names and logos, processes, trade secrets, confidential information and any similar right in any jurisdiction.</p>\n                    <ol>\n                        <li>We reserve all of our Intellectual Property Rights in the Paid Content. Purchasing a Subscription to access Paid Content does not give you any ownership in Paid Content. Trademarks and logos used in connection with Subscriptions are the trademarks of their respective owners.</li>\n                        <li>When you purchase a Subscription to access Paid Content, We will grant you a limited, non-exclusive, non-transferable, non-sublicensable permission to access and use the relevant Paid Content for personal, non-commercial purposes.</li>\n                        <li>The permission granted to you under sub-Clause 9.2 does not give you any rights in Our Paid Content (including any material that We may licence from third parties).</li>\n                    </ol>\n\n                </li>\n                <li>\n                    <p><strong>Liability</strong></p>\n                    <ol>\n                        <li>\n                            <p>TO THE EXTENT ALLOWED UNDER LAW, WE AND OUR AFFILIATES (AND THOSE THAT WE WORK WITH TO PROVIDE THE PAID CONTENT) (A) DISCLAIM ALL IMPLIED WARRANTIES AND REPRESENTATIONS (E.G. WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, ACCURACY OF DATA, AND NONINFRINGEMENT); (B) DO NOT GUARANTEE THAT PAID CONTENT WILL FUNCTION WITHOUT INTERRUPTION OR ERRORS, AND (C) PROVIDE THE PAID CONTENT AND OUR SITE  (INCLUDING ALL CONTENT AND INFORMATION) ON AN &quot;AS IS&quot; AND &quot;AS AVAILABLE&quot; BASIS.</p>\n                            <p>SOME LAWS DO NOT ALLOW CERTAIN DISCLAIMERS, SO SOME OR ALL OF THESE DISCLAIMERS MAY NOT APPLY TO YOU. NOTHING IN THESE TERMS OF SALE SEEKS TO EXCLUDE OR LIMIT YOUR LEGAL RIGHTS AS A CONSUMER APPLICABLE TO YOUR COUNTRY OF RESIDENCE.</p>\n                        </li>\n                        <li>\n                            <p>TO THE EXTENT PERMITTED UNDER LAW AND EXCEPT AS OTHERWISE POVIDED IN THESE TERMS OF SALE  WE AND OUR AFFILIATES (AND THOSE THAT WE WORK WITH TO PROVIDE THE PAID CONTENT) SHALL NOT BE LIABLE TO YOU OR OTHERS FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR PUNITIVE DAMAGES, OR ANY LOSS OF DATA, OPPORTUNITIES, REPUTATION, PROFITS OR REVENUES, RELATED TO THE PAID CONTENT (E.G. OFFENSIVE OR DEFAMATORY STATEMENTS, DOWN TIME OR LOSS, USE OF, OR CHANGES TO, YOUR INFORMATION OR CONTENT).</p>\n                        </li>\n                        <li>\n                            <p>OUR LIABILITY TO YOU FOR ANY LOSS OR DAMAGE IS LIMITED TO DAMAGES OF AN AMOUNT EQUAL TO THE SUBSCRIPTION FEE RECEIVED BY US FOR THE TWELVE MONTH SUBSCRIPTION PERIOD PRIOR TO THE DATE ON WHICH THE LIABILITY AROSE.</p>\n                        </li>\n                        <li>\n                            <p>SOME LAWS DO NOT ALLOW THE LIMITATION OR EXCLUSION OF LIABILITY, SO THESE LIMITS MAY NOT APPLY TO YOU. NOTHING IN THESE TERMS OF SALE SEEKS TO EXCLUDE OR LIMIT YOUR LEGAL RIGHTS AS A CONSUMER APPLICABLE TO YOUR COUNTRY OF RESIDENCE.</p>\n                        </li>\n                    </ol>\n                </li>\n                <li>\n                    <p><strong>Contacting Us</strong></p>\n                    <ol>\n                        <li>If you wish to contact Us with general questions or complaints, you may contact Us by email at <a href="mailto:support@acloud.guru">support@acloud.guru</a></li>\n                        <li>For matters relating the Paid Content or your Subscription, please contact Us  by email at <a href="mailto:support@acloud.guru">support@acloud.guru</a></li>\n                        <li>For matters relating to cancellations, please contact Us by email at <a href="mailto:support@acloud.guru">support@acloud.guru</a></li>\n                    </ol>\n                </li>\n                <li>\n                    <p><strong>Complaints and Feedback</strong></p>\n                    <p>\n                        We always welcome feedback from Our customers and, whilst We always use all reasonable endeavours to\n                        ensure that your experience as a customer of Ours is a positive one,\n                        We nevertheless want to hear from you if you have any cause for complaint.\n                    </p>\n                </li>\n                <li>\n                    <p><strong>How We Use Your Personal Information (Data Protection)</strong></p>\n                    <ol>\n                        <li>All personal information that We may collect (including, but not limited to, your name, address and telephone number) will be collected, used and held in accordance with the provisions of the Data Protection Act 1998 and your rights under that Act.</li>\n                        <li>\n                            <p>We may use your personal information to:</p>\n                            <ol>\n                                <li>Provide Subscriptions and Paid Content to you;</li>\n                                <li>Process your payment; and</li>\n                                <li>Inform you of new products and/or services available from Us (if you opt or have previously opted to receive it).  You may request that We stop sending you this information at any time.</li>\n                            </ol>\n                        </li>\n                        <li>We will not pass on your personal information to any third parties without first obtaining your express permission orunless the law requires it.</li>\n                    </ol>\n                </li>\n                <li>\n                    <p><strong>Other Important Terms</strong></p>\n                    <ol>\n                        <li>We may transfer (assign) Our obligations and rights under these Terms of Sale (and under the Contract, as applicable) to a third party (this may happen, for example, if We sell Our business).  If this occurs, you will be informed by Us in writing.  Your rights under these Terms of Sale (and the Contract) will not be affected and Our obligations under these Terms of Sale (and the Contract) will be transferred to the third party who will remain bound by them.</li>\n                        <li>You may not transfer (assign) your obligations and rights under these Terms of Sale (and under the Contract) without Our express written permission.</li>\n                        <li>The Contract is between you and Us.  It is not intended to benefit any other person or third party in any way and no such person or party will be entitled to enforce any provision of these Terms of Sale.</li>\n                        <li>If any of the provisions of these Terms of Sale are found to be unlawful, invalid or otherwise unenforceable by any court or other authority, that/those provision(s) shall be deemed severed from the remainder of these Terms of Sale.  The remainder of these Terms of Sale shall be valid and enforceable.</li>\n                        <li>No failure or delay by Us in exercising any of Our rights under these Terms of Sale means that We have waived that right, and no waiver by Us of a breach of any provision of these Terms of Sale means that We will waive any subsequent breach of the same or any other provision.</li>\n                        <li>We may revise these Terms of Sale from time to time in response to changes in relevant laws and other regulatory requirements.  If We change these Terms of Sale as they relate to your Subscription, We will give you reasonable advance notice of the changes and provide details of how to cancel if you are not happy with them.</li>\n                        <li>We will not be liable or responsible for any failure to perform, or delay in performance of, any of Our obligations that is caused by events outside our reasonable control (&quot;Force Majeure Event&quot;). A Force Majeure Event includes any act, event, non-happening, omission or accident beyond Our reasonable control including, but not limited to, restrictions of law, regulations, orders, or other governmental directives, labor disputes, acts of God, third party mechanical or other equipment breakdowns, terrorist attacks, fire, explosions, fiber optic cable cuts, interruption or failure of telecommunications or digital transmission links, Internet failures or delays, storms or other similar events.</li>\n                    </ol>\n                </li>\n                <li>\n                    <p><strong>Law and Jurisdiction</strong></p>\n                    <ol>\n                        <li>These Terms of Sale shall be governed by and interpreted in accordance with the laws of England and Wales. To the maximum extent permitted by law, you hereby consent to the jurisdiction of the courts of England and Wales and waive any objections to the jurisdiction or venue of such courts.</li>\n                        <li>This choice of law does not exclude any imperative consumer protection laws applicable in the country where you have your usual place of residence.</li>\n                    </ol>\n                </li>\n                <li>\n                    <p><strong>GEOGRAPHIC RESTRICTIONS</strong></p>\n                    <p>\n                        Software, functionality, and/or features (collectively, &quot;Service Functionality&quot;), that may be available on or through Our Site from time-to-time, is subject to United States Export Controls. No Service Functionality from Our Site may be downloaded or exported (a) into (or to a resident of) Cuba, Iraq, Libya, North Korea, Iran, Syria, or any other country which the United States has embargoed goods; or (b) anyone on the United States Treasury Department&#39;s list of Specially Designated Nationals or the United States Commerce Department&#39;s Table of Deny Orders. By downloading or using any Service Functionality, you represent and warrants that you are not located in, under the control of, or a national or resident of any such country or on any such list. Although Our Site may be accessible worldwide, we make no representation that materials on Our Site are appropriate or available for use in locations outside the United States, and accessing them from territories where their contents are illegal, is prohibited. Those who choose to access Our Site from other locations do so at their own initiative and are responsible for compliance with local laws. Any offer for any product, service, and/or information made in connection with the Paid Content is void where prohibited.\n                    </p>\n                </li>\n            </ol>\n        </div>\n    </div>\n\n    <div class="m-t-lg text-center">\n        <a ui-sref="home" class="md-btn md-flat m-b m-t btn-fw text-white">Go Back</a>\n    </div>\n</div>'),
a.put("app/public/legals/terms-of-use.html",'<div class="containe legals-container">\n\n    <div class="simplePage--header">\n        <a href="/">\n            <img src="/images/logo-small-optimised-with-text.png" alt="A Cloud Guru Logo (small)">\n        </a>\n    </div>\n\n  <div class="card">\n    <div class="card-body p-lg legals" btf-markdown>\n# IMPORTANT LEGAL NOTICE\n**ATTENTION:** This legal notice applies to the entire contents of the Website under the domain name [https://acloud.guru/](https://acloud.guru/) (**Website**) and to any correspondence by e-mail between us and you.\nPlease read these terms carefully before using the Website. Using the Website indicates that you accept these terms regardless of whether or not you choose to register with us. If you do not accept these terms, do not use the Website.\nThis notice is issued by A Cloud Guru Ltd (**Company**).\n\n---\n\n1.\t**Introduction**\n    1.\tYou may access most areas of the Website without registering your details with us. Certain areas of the Website are only open to you if you register with us and or order Delivery Materials – see clause 3 below.\n\n    2.\tBy accessing any part of the Website, you shall be deemed to have accepted this legal notice in full. If you do not accept this legal notice in full, you must leave the Website immediately.\n\n    3.\tThe Company may revise this legal notice at any time by updating this posting. You should check the Website from time to time to review the then current legal notice, because it is binding on you.\n    Certain provisions of this legal notice may be superseded by expressly designated legal notices or terms located on particular pages at the Website.\n\n2.\t**Licence**\n    1.\tYou are permitted to print and download extracts from the Website for your own use on the following basis:\n        1.\tno documents or related graphics on the Website are modified in any way;\n\n        2.\tno graphics on the Website are used separately from the corresponding text; and\n\n        3.\tthe Company\'s copyright and trade mark notices and this permission notice appear in all copies.\n\n    2.\tUnless otherwise stated, the copyright and other intellectual property rights in all material on the Website (including without limitation photographs, audio and visual recordings, writing, and graphical images)\n    are owned by the Company or its licensors. For the purposes of this legal notice, any use of extracts from the Website other than in accordance with clause 2.1 for any purpose is strictly prohibited.\n\n    3.\tIf you breach any of the terms in this legal notice, your permission to use the Website automatically terminates and you must immediately destroy any downloaded or printed extracts from the Website.\n\n    4.\tSubject to clause 2.1, no part of the Website may be reproduced or stored in any other website or included in any public or private electronic retrieval system or service without the Company\'s prior written permission.\n    The Company will consider requests in this respect.\n\n    5.\tAny rights not expressly granted in these terms are reserved.\n\n3.\t**Our contract**\n    1.\tBy using the Website, you may choose to purchase certain Delivery Materials from the Company (**Delivery Materials**). The price of Delivery Materials is displayed on the Website, and may be updated by the Company at any time.\n\n    2.\tYou have the choice as to what (if any) Delivery Materials you wish to buy. Your purchase of Delivery Materials from us is subject to these Website terms and conditions. Your order to purchase Delivery Materials is an offer to the Company.\n    When you order Delivery Materials, we will notify you of the Company’s acceptance of your order in writing. Our acknowledgement to you is confirmation that we have accepted your order for Delivery Materials.\n    The Company reserves the right to refuse or delay acceptance of any order for Delivery Materials.\n\n    3.\tIf you purchase Delivery Materials, then your contract is with the Company. Your right to cancel the contract with the Company is detailed in these terms and conditions. We will provide you with an invoice for your order of Delivery Materials.\n    The invoice will show the sum(s) due to the Company for the corresponding Delivery Materials ordered. Unless otherwise confirmed by the Company in writing prior to your order of Delivery Materials, payment will be required before completing your order.\n\n4.\t**Information about you**\n    1.\tWe collect the following information from you:\n        1.\tinformation that you have provided by using and accessing the Website. You can choose not to provide certain information but then you might not be able to take advantage of our features.\n        We use the information that you provide for such purposes as responding to your requests, customising future Delivery Materials of interest, and improving services. We may ask for your date of birth, email, and address; and\n\n        2.\tinformation obtained by email communications. We will have been provided with your email address. More often than not, we communicate with you by email so the information that you provide by email is collected and retained by us.\n\n    2.\tThe information referred to at clause 4.1 is the (**Data**). The Data is held by the Company, and permitted access to the Data is only provided to the Company’s employees and or consultants helping to provide you with a service.\n    The Data may be collected and retained by other companies within the Company’s group, such companies being:\n        1.\tServerless Heroes (a company in the United States of America);\n\n        2.\tA Force Guru (an Australian subsidiary of the Company); and\n\n        3.\tEphemeral (an Australian subsidiary of the Company), the (**Group Companies**).\n\n    3.\tThe Company may transfer Data to Group Companies. The Company has in place adequate protections for the transfer of Data to Group Companies. You can request, at any time, for your Data to be deleted, and retrieved from any recipient company (whether a Group Company or otherwise).\n\n    4.\tData may also be stored on other third party service providers’ networks. Storage is required for the provision of a service to you, and such third party service provider networks include online payment systems.\n\n    5.\tYou have the right to notify us should you wish us to irretrievably delete any Data held by the Company. The Company will then put in place appropriate steps to address your Data concerns, if reasonable and where possible.\n\n5.\t**Right to cancel and refund**\n    1.\tYou can cancel an order for Delivery Materials with us without giving any reason within 14 days from the day on which you receive the Delivery Materials purchased. This will usually be 14 days from the date of your order.\n    You must inform the Company by [contacting support](https://help.acloud.guru/hc/en-us/requests/new?) of your decision to cancel your order. You cannot cancel your order after 14 days from the day on which you receive the Delivery Materials purchased.\n\n    2.\tIf you cancel your order in accordance with clause 5.1, then the Company will reimburse all payments received from you for the Delivery Materials purchased.\n    This payment to you will be processed within 14 days of the Company receiving your notification of cancellation. The reimbursement will be paid to you in the manner in which it was received. If you paid by card, then we will reimburse the payment card.\n\n6.\t**Subscriptions**\n    1.\tThe Company offers a subscription service. By this, you or your business can buy a fixed number of individual subscriptions for one user subscription for a fixed period of time.\n    This operates so that individual(s) receive a licence to use and access resources on the Website in return for the payment of fees. If you sign up for a licence of this kind, when placing your order for Delivery Materials, you will be asked to confirm:\n        1.\tthe number of individuals (or sole individual) that will use the Website to access Delivery Materials; and\n\n        2.\tthe period that for which such access is to be granted.\n\n    2.  Subject to the remainder of this clause 6.2, the Company will then grant a non-transferable, non-assignable licence to the Delivery Materials to the extent of the information set out at clauses 6.1(a) to 6.1(b) (**Subscription**). If (i) an individual’s access to the Delivery Materials is no longer required by virtue of that individual having left your organisation (on the production of such written evidence as the Company may in its absolute discretion request), and (ii) there is duration left on the Subscription to the End Date (as defined below), then the Company may (upon written request from you) permit you to transfer the Subscription to another individual.\n\n    3.  The Subscription will limit the number of individual access accounts, and will continue until the date set out in 6.1(b) (End Date). Unless you seek to renew the Subscription, the Subscription will cease with immediate effect on the End Date. On and from the End Date, each individual included in the Subscription will cease to have access to the Delivery Materials under Subscription.\n\n    4.\t1.1\tAll intellectual property rights in and to the Subscription shall belong to the Company. You shall not use any contents under Subscription other than as expressly permitted without the prior written consent of the Company. This includes permitting other individuals who are not included in the Subscription with access to the resources under Subscription.\n\n    5.\tIf you would like to discuss the terms of a Subscription, or end or extend a Subscription in place, then you should contact the Company detailing the nature of your enquiry.\n\n7.\t**Fees**\n    1.\tFor any Subscription, the Company shall issue a monthly, annual or bi-annual invoice in respect of the fees (and as agreed with you), and you shall pay to the Company the fees set out in the Company’s invoice within 30 days of the date of the invoice.\n\n    2.\tFor any other Delivery Materials, payment must be made at the time of order of the Delivery Materials.\n\n    3.\tIf you fail to make any payment due to the Company by the due date for payment, then you shall pay interest on the overdue amount at the rate of 4% per annum above Barclays Bank\'s base rate from time to time. Such interest shall accrue on a daily basis from the due date until actual payment of the overdue amount, whether before or after judgment. You shall pay the interest together with the overdue amount.\n\n8.\t**Service access**\n    1.\tWhile the Company endeavours to ensure that the Website is normally available 24 hours a day, the Company shall not be liable if for any reason the Website is unavailable at any time or for any period.\n\n    2.\tAccess to the Website may be suspended temporarily and without notice in the case of system failure, maintenance or repair or for reasons beyond the Company\'s control.\n\n9.\t**Visitor material and conduct**\n    1.\tOther than personally identifiable information, any material you transmit or post to the Website shall be considered non-confidential and non-proprietary. The Company shall have no obligations with respect to such material. The Company and its designees shall be free to copy, disclose, distribute, incorporate and otherwise use such material and all data, images, sounds, text and other things embodied therein for any and all commercial or non-commercial purposes.\n\n    2.\tYou are prohibited from posting or transmitting to or from the Website any material:\n        1.\tthat is threatening, defamatory, obscene, indecent, seditious, offensive, pornographic, abusive, liable to incite racial hatred, discriminatory, menacing, scandalous, inflammatory, blasphemous, in breach of confidence, in breach of privacy or which may cause annoyance or inconvenience; or\n\n        2.\tfor which you have not obtained all necessary licences and/or approvals; or\n\n        3.\twhich constitutes or encourages conduct that would be considered a criminal offence, give rise to civil liability, or otherwise be contrary to the law of or infringe the rights of any third party, in any country in the world; or\n\n        4.\twhich is technically harmful (including, without limitation, computer viruses, logic bombs, Trojan horses, worms, harmful components,corrupted data or other malicious software or harmful data).\n\n    3.\tThe Company shall fully co-operate with any law enforcement authorities or court order requesting or directing the Company to disclose the identity or locate anyone posting any material in breach of clause 9.2.\n\n10.\t**Links to and from other websites**\n    1.\tLinks to third party websites on the Website are provided solely for your convenience. If you use these links, you leave the Website. The Company has not reviewed all of these third party websites and does not control and is not responsible for these websites or their content or availability.\n\n    2.\tThe Company therefore does not endorse or make any representations about them, or any material found there, or any results that may be obtained from using them. If you decide to access any of the third party websites linked to the Website, you do so entirely at your own risk.\n\n11.\t**Registration**\n    1.\tSubject to clause 6 and the terms of any Subscription, each registration is for a single user only. The Company does not permit you to share your user name and password with any other person nor with multiple users on a network. If you do, then access will be suspended.\n\n    2.\tResponsibility for the security of any passwords issued rests with you.\n\n12.\t**Disclaimer**\n    1.\tWhile the Company endeavours to ensure that the information on the Website is correct, the Company does not warrant the accuracy and completeness of the material on the Website. The Company may make changes to the material on the Website, or to the Delivery Materials and prices described in it, at any time without notice. The material on the Website may be out of date, and the Company makes no commitment to update such material.\n\n    2.\tThe material on the Website is provided "as is", without any conditions, warranties or other terms of any kind. Accordingly, to the maximum extent permitted by law, the Company provides you with the Website on the basis that the Company excludes all representations, warranties, conditions and other terms (including, without limitation, the conditions implied by law of satisfactory quality, fitness for purpose and the use of reasonable care and skill) which, but for this legal notice, might have effect in relation to the Website.\n\n13.\t**Liability**\n    1.\tThe Company, any other party (whether or not involved in creating, producing, maintaining or delivering the Website), and any of the Company\'s group companies and the officers, directors, employees, shareholders or agents of any of them, exclude all liability and responsibility for any amount or kind of loss or damage that may result to you or a third party (including without limitation, any direct, indirect, punitive or consequential loss or damages, or any loss of income, profits, goodwill, data, contracts, use of money, or loss or damages arising from or connected in any way to business interruption, and whether in tort (including without limitation negligence), contract or otherwise) in connection with the Website in any way or in connection with the use, inability to use or the results of use of the Website, any websites linked to the Website or the material on such websites, including but not limited to loss or damage due to viruses that may infect your computer equipment, software, data or other property on account of your access to, use of, or browsing the Website or your downloading of any material from the Website or any websites linked to the Website.\n\n    2.\tNothing in this legal notice shall exclude or limit the Company\'s liability for:\n        1.\tdeath or personal injury; or\n        2.\tfraud; or\n        3.\tmisrepresentation as to a fundamental matter; or\n        4.\tany liability which cannot be excluded or limited under applicable law.\n\n    3.\tIf your use of material on the Website results in the need for servicing, repair or correction of equipment, software or data, you assume all costs thereof. The Company’s liability is excluded. The Company makes every effort to check and test material at all stages of production, however you must take your own precautions to ensure that the process which you employ for accessing this website does not expose you to the risk of viruses, malicious computer code or other forms of interference which may damage your own computer system.\n\n    4.\tYou are solely responsible for all service, telephony, data charges and/or other fees and costs associated with your access to and use of the Delivery Materials and for obtaining and maintaining all telephone, computer hardware, and other equipment required for such access and use.\n\n14.\t**Governing law and jurisdiction**\n    1.\tIf you are a consumer, please note that these terms of use, their subject matter and their formation, are governed by English law. You and the Company both agree that the courts of England and Wales will have exclusive jurisdiction except that if you are a resident of Northern Ireland you may also bring proceedings in Northern Ireland, and if you are resident of Scotland, you may also bring proceedings in Scotland.\n\n    2.\tIf you are a business, these terms of use, their subject matter and their formation (and any non-contractual disputes or claims) are governed by English law. You and the Company both agree to the exclusive jurisdiction of the courts of England and Wales.\n    </div>\n  </div>\n\n  <div class="m-t-lg text-center">\n    <a ui-sref="home" class="md-btn md-flat m-b m-t btn-fw text-white">Go Back</a>\n  </div>\n</div>'),
a.put("app/public/legals/us/privacy-policy.html",'<div class="container">\n\n    <div class="simplePage--header">\n        <a href="/">\n            <img src="/images/logo-small-optimised-with-text.png" alt="A Cloud Guru Logo (small)">\n        </a>\n    </div>\n\n  <div class="card">\n    <div class="card-body p-lg" btf-markdown>\n## A Cloud Guru Privacy Policy - U.S.\n\nEffective Date: April 03, 2018\n\n1.\t**BACKGROUND.**\n\n    1.\tThis Privacy Policy – U.S. (this **“Privacy Policy”**) explains how A Cloud Guru, Ltd. and its worldwide affiliated companies and subsidiaries, including Serverless Heroes, Inc., a Delaware corporation (collectively, the **“Company”**, **“we”**, **“us”**, or **“our”**) collect, use and disclose information when you access or use our website <a href="https://acloud.guru">https://acloud.guru</a> (the **“Website”**) or the mobile applications that the Company makes available from time to time (the **“Applications”**) in the United States. By accessing the Website or the Applications or using the services offered on the Website or the Applications (together, the **“Services”**), you agree to be bound by the terms of this Privacy Policy.\n    2.\tIF YOU DO NOT AGREE TO THIS PRIVACY POLICY, PLEASE DO NOT ACCESS OR USE OUR WEBSITE OR THE SERVICES.  PLEASE READ THE INFORMATION BELOW CAREFULLY TO UNDERSTAND OUR POLICIES AND PRACTICES REGARDING YOUR INFORMATION (AS DEFINED BELOW IN SECTION 2) AND HOW WE WILL TREAT IT.\n    3.\tThe Company reserves the right, at any time, to modify or replace this Privacy Policy. If we make material changes to this Privacy Policy, we will provide notification of those material changes through the Website or the Applications at least thirty (30) days prior to those material changes taking effect.  Your continued use of the Website, Applications, or Services after we make changes is deemed to be acceptance of those changes. We encourage you to review this Privacy Policy whenever you access the Website, Applications, or Services to stay informed about our information practices and the ways you can help protect your privacy.\n    4.\tThis Privacy Policy forms a part of the Company’s wider policies and terms of sale.  The policy governing the access and use of the Website and the Applications (the **“Website Terms of Use”**) can be found at <a href="https://acloud.guru/legals/us/terms-of-use">https://acloud.guru/legals/us/terms-of-use</a>.  If you are a business using the Services (a **“Business Subscriber”**) for its personnel, employees or employees of its affiliates (each, an **“Authorized End User”**) registering as a user of the Services, your, and each of your Authorized End User’s, access to and use of the Services are governed, as applicable, by either (a) a Subscription Agreement between you or your Business Subscriber and the Company (**“Subscription Agreement”**) or (b) your applicable End User License Agreement between you or your Business Subscriber and the Company (**“EULA”**).  Collectively, the Website Terms of Use, and the Subscription Agreement or EULA, as applicable, are referred to as the **“Terms.”**\n\n2.\t**INFORMATION WE COLLECT**\n\n    1.\tHow we collect and store Information depends on the Services you use.  You can access and use some of the Website and the Applications without providing any Information, although several categories of Information are automatically collected from you when you use the Services, as described below.\n    2\tInformation Collected Directly From You.  We collect and process your personal data when you (a) register to use the Services or create an account; (b) subscribe to a newsletter; (c) submit feedback, fill out a survey, or send us a communication; (d) contact customer support for assistance; or (e) otherwise provide contact information to us via email.  The personal data you provide to us may include your username, first name and last name, email address, your questions, queries or feedback you leave for us and any information you give to us as required to resolve your issues for which you have contacted customer support (**“Personal Information”**).\n    3.\tPayment Information.  When you purchase the Services, financial transaction information, which may include your credit card or other payment platform information, billing and mailing address and other payment-related information (**“Payment Information”**) may be required.  If you are a Business Subscriber that has elected to be invoiced for your Services, you may also be required to provide us with your business billing contact information, phone number and mailing address.  We describe how your credit card or other payment platform Payment Information may be collected and processed in Section 4.\n    4.\tTechnical and Usage Information.\n        1.\tWe collect your Internet Protocol (**“IP”**) address for us to diagnose problems with our servers and software and to administer the Website, Applications and Services and gather information related to your expertise and knowledge base in the subject matter of the Services.\n        2.\tWe may collect certain information that does not by itself identify a specific individual.  Such information tells us about your equipment, browsing actions, the resources that you access and use through the Website and Applications.  We use analytics and similar services, such as cookies and page tagging techniques, to help us deliver a better and more personalized service to users by enabling us to estimate usage patterns, customize our Services according to your individual preferences, and speed up your searches.  We do not release the information collected from our own cookies to any third parties, other than to our service providers who assist us in providing the Services and online/mobile analytics and only in accordance with this Privacy Policy.\n        3.\tWhen you download an Application or use the Website, we automatically collect information about the version of web browser or operating system and type of computer or device you use (**“Standard Operating Information”**).   We use this information to provide the best version of the Services to you.  We do not ask for, access, or track any location-based information from your mobile device at any time while downloading or using the Application.\n    5.\tBusiness Services Information.  We collect information under the direction of our Business Subscribers regarding its Authorized End Users.  In this respect, we may sometimes act as a data processor under applicable laws.  We will retain and use this Personal Information as necessary to comply with our legal obligations, resolve disputes, and fulfill our obligations under those Business Terms of Sale or other agreements with the Business Subscriber data controllers.  If the Personal Information of any Authorized End Users are provided to us through the related Business Subscriber, that Business Subscriber is responsible for obtaining the necessary consents to disclose the Personal Information of its Authorized End Users to us.\n    6.\tDepending upon the activity, some of the information we ask you to provide is mandatory and some is voluntary. If you do not provide the mandatory information with respect to a particular activity, you will not be able to engage in that activity.\n\n3.\t**ONLINE AND MOBILE ANALYTICS**\n\n    We may use third-party web and mobile device analytics service providers such as Intercom, Inc., HubSpot, Inc., and Zendesk, Inc.  These service providers may use commonly used information gathering tools, such as cookies and web beacons (**“Website Navigational Information”** and collectively with Personal Information, Payment Information, and Standard Operating Information, **“Information”**).  Website Navigational Information includes Standard Operating Information, your IP address, and the actions you take on the Application or the Website such as pages you have viewed and the links you have clicked.  Certain Website Navigational Information will be disclosed to, or collected directly by, these third-party service providers, who use the information to evaluate the use of the Website, Applications, and Services and allow us to analyze your usage and the Website, Application and Service performance data.\n\n4.\t**AUTHENTICATION AND SECURITY**\n\n    We use third-party authentication service providers such as Auth0, Inc.  These service providers may use Web Navigational Information to log you into the Services, to protect your security, and to help us detect and fight spam, abuse and other activities that violate the Website Terms of Use.  For example, these technologies help authenticate your access to the Services and prevent unauthorized parties from accessing your account.  We require that you provide both limited Personal Information to these service providers (such as your name and email address) and your consent to allow us to utilize these service providers to identify you when you visit the Website or use the Applications or the Services.\n\n5.\t**PAYMENT INFORMATION**\n\n    1.\tAll Business Subscribers shall be invoiced for payments due to us pursuant to your Subscription Agreement or your EULA, as applicable.\n    2.\tWhen you make a purchase of any of the Services by a method other as set forth in Section 5.1, any credit card information or other payment platform (e.g., PayPal, ACH) information you provide as a part of your Payment Information is collected and processed directly by our third-party payment processors, Stripe, Inc., through their Stripe Checkout service and Braintree, a division of PayPal, Inc.  We do not receive, nor do we store or retain, your credit card information or other payment platform information.  Stripe is compliant with the Payment Card Industry Data Security Standard (PCI-DSS) and is certified as a PCI Level 1 Service Provider.  The use of your Payment Information by Stripe, Inc. is governed by Stripe, Inc.’s privacy policy which may be viewed at <a href="https://stripe.com/us/privacy">https://stripe.com/us/privacy</a> and Stripe Inc.’s Checkout services are governed by Stripe Inc.’s terms of use which may be viewed at <a href="https://stripe.com/checkout/terms">https://stripe.com/checkout/terms</a>.  You additionally acknowledge that you have read and agree to the Payment Services Agreement, Privacy Policy and Acceptable Use Policy available at <a href="https://www.braintreepayments.com/legal/gateway-agreement">https://www.braintreepayments.com/legal/gateway-agreement</a>. By accepting this Privacy Policy, you agree: (a) that you have downloaded or printed the such agreements, and (b) that you have reviewed and agree to the such agreements and policies. If you have any questions regarding the such agreement or policies, please contact Braintree at 877.434.2894.\n\n6.\t**OTHER THIRD PARTY SERVICE PROVIDERS**\n\n    We may also use third-party service providers Intercom, Inc. and HubSpot, Inc. as mediums for communications, either through email, or through messages within the Services.\n\n7.\t**OTHER WAYS WE USE YOUR INFORMATION**\n\n    1.\tWe may use Information about you for various purposes, including to:\n        1.\tPresent content from our Services in an effective manner for you and for your computer or device;\n        2.\tMaintain and improve the Website and the Applications;\n        3.\tCarry out our obligations arising from any contracts entered into between you and us, including processing transactions and providing related transaction information, confirmations and invoices;\n        4.\tRespond to your comments, questions and requests;\n        5.\tProvide customer support;\n        6.\tProvide you with information, products or services that you request from us or that we think will be of interest to you;\n        7.\tNotify you about changes to the Website, Applications or Services;\n        8.\tMonitor and analyze trends, usage and activities in connection with the Services; and\n        9.\tFulfill any other purpose for which you knowingly provide it.\n\n8.\t**DISCLOSURE YOUR INFORMATION**\n\n    1.\tWe will share your Personal Information with third parties only in the ways that are described in this Privacy Policy.  We do not sell, trade, rent or disclose your Information to others, except as provided below:\n        1.\tWe may share your Personal Information with entities worldwide that we control, are controlled by us, or are under our common control, and their employees as required to provide the Website, Applications, and Services. Serverless Heroes, Inc. and A Cloud Guru Ltd are the entities responsible for overall management and use of such Personal Information by these affiliated parties.\n        2.\tWe may disclose your Personal Information (a) to third-party service providers through contractual arrangements in order to operate and enhance the Website, Applications and Services, including third-party web analytics service providers (see Section 2), third-party authentication service providers (see Section3), and third-party payment processors (see Section 4); (b) if it is required by law enforcement or judicial authorities, or to cooperate with a law enforcement investigation; (c) to protect our rights, reputation, property or the safety of us or others; (d) if the disclosure is required by mandatory professional standards; (f) to a third- party with your prior consent; or (g) if we are under a duty to disclose or share your Personal Information in order to enforce or apply any contracts or agreement that may exist between you and us including this Privacy Policy and the Terms (including exchanging Information with other companies and organizations for the purposes of fraud protection and credit risk reduction).\n        3.\tIn the event we decide to sell all or part of our equity or assets or enter into a merger, restructuring, reorganization or other business combination, we reserve the right to include all Personal Information held by us about our Business Subscribers and Authorized End Users among the assets transferred to the acquiring or surviving company.\n\n9.\tDATA STORAGE\n\n    By accessing or using the Website, Applications, Services or otherwise providing Information to in accordance with this Policy and the applicable Terms, you consent to the, storing, processing and transfer of Information in and to the U.S.  Our production environment hosting the Services is maintained by Amazon Web Services at AWS US-East-1 (N. Virginia).\n\n10.\t**ACCESS BY MINORS.**\n\n    **The Website, Applications and Services are not targeted at children or those under the age of 16. If you are under the age of 16 you should not access or use the Website, Applications or Services without the consent of a parent or legal guardian.**  If you are a school or similar educational organization and you are contemplating the use of the Services in the United States for children under the age of 16, you are responsible for obtaining the consent of the parents or legal guardian of each child contemplated to participate in the use of any of our Services.\n\n11.\t**UPDATING OR CORRECTING YOUR DATA**\n\n    You may change, update or correct any Personal Information about you at any time by logging into your online account on the Website or the Application. You may also access, request deletion, and correct your Personal Information by submitting a data request through <a href="https://help.acloud.guru/hc/en-us">https://help.acloud.guru/hc/en-us</a>, via email at <a href="mailto:support@acloud.guru">support@acloud.guru</a>, or by writing to us at the address at the end of this Privacy Policy.\n\n12.\tCANCELING YOUR ACCOUNT OR DELETING PERSONAL DATA\n\n    1.\tIn the event you choose to let your subscription to the Services expire, we will retain your Information for a reasonable period of time in case you choose to re-subscribe. If you are an individual user, you may request to cancel your account, in which case, we will delete your Information within 60 days of your request to cancel your account. For Information on canceling your individual account, please submit a request through <a href="https://help.acloud.guru/hc/en-us">https://help.acloud.guru/hc/en-us</a> or via email at <a href="mailto:support@acloud.guru">support@acloud.guru</a>. In the event you are an Authorized End User, your termination rights and your data retention period are governed by the Subscription Agreement or the EULA between us and your related Business Subscriber, as applicable.\n    2.\tIf you would like to access the Information we have about your use of and access to the Website, Applications, and Services, please submit a data request through <a href="https://help.acloud.guru/hc/en-us">https://help.acloud.guru/hc/en-us</a> or via email at <a href="mailto:support@acloud.guru">support@acloud.guru</a> or by writing to us at the address at the end of this Privacy Policy.\n\n13.\t**CHOICES REGARDING CONTROL OF YOUR PERSONAL DATA**\n\n    Some of the Information we have collected about you is available by logging on to your account. In your online account on the Website or the Applications, you can access Information relating to recent orders, Personal Information (such as your email address) and your communication preferences. Most web browsers are set to accept cookies by default. If you prefer, you can usually choose to set your browser to remove or reject browser cookies or other Website Navigational Information. Please note that if you choose to remove or reject cookies, this could affect the availability and functionality of the Website, Applications, and Services.\n\n14.\t**DATA SECURITY**\n\n    1.\tWe have implemented procedures and safety features designed to secure your Personal Information from accidental loss and from unauthorized access, use, alteration and disclosure once we receive it. Any payment transactions will be encrypted.\n    2.\tThe safety and security of your Information also depends on you. You are solely responsible for keeping confidential any password we have provided you (or where you have chosen) for access to certain parts of the Website and the Applications.  We recommend that you do not share your password with anyone, change your password often using a combination of letters and numbers, and always use a secure web browser or wireless network. We cannot be held accountable for any activity that arises from, or is related to, your own negligence with respect to the safe-keeping of your username and/or password.  If you share a computer with anyone, you should always log out of your account after you are finished with your session in order to prevent access to your Information from subsequent users of that computer.\n    3.\tPlease be aware that the transmission of Information via the internet or any wireless network is not completely secure. Although we do our best to protect your Personal Information, we cannot guarantee the security of your Personal Information transmitted via our Website or Applications. Any transmission of Personal Information is at your own risk.\n    4.\tYou consent to our use of email as a means of notification in the event that we deem it necessary to notify you that the security of your Personal Information in our control may have been compromised.\n\n15.\t**CHANGES TO THIS PRIVACY POLICY**\n\n    It is our policy to post any changes we make to our Privacy Policy on this page (with a notice that the Privacy Policy has been updated on the Website and Applications).  The date the Privacy Policy was last revised is identified at the top of the page. You are responsible for ensuring we have an up-to-date active and deliverable email address for you, and for periodically visiting our Website or Applications and this Privacy Policy to check for any changes.\n\n16.\t**CALIFORNIA PRIVACY RIGHTS**\n\n    We do not currently share personal information with third parties for the third parties’ direct marketing purposes. If this practice changes, we will provide details on how we will comply with California Civil Code § 1798.83 in this Privacy Policy.\n\n17.\t**APPLICABILITY**\n\n    **You acknowledge and agree that neither ACG’s Privacy Policy – Global, nor ACG’s Customer Terms of Service apply to your access and use of the Services (a) purchased on or accessed through the AWS Marketplace Site or (b) purchased by a Business Subscriber via a Subscription Agreement with us.  Any such access and use of the Services shall at all times be governed solely by this Privacy Policy and the Terms.**\n\n18.\t**CONTACT INFORMATION**\n\n    To ask questions or comment about this Privacy Policy and our privacy practices, please contact us at via email at <a href="mailto:support@acloud.guru">support@acloud.guru</a> or in writing at:\n\n    Serverless Heroes, Inc.\n    Attention:  Legal Department (Privacy Policy)\n    411 West Monroe Street\n    Austin, Texas 78704\n\n    </div>\n  </div>\n\n  <div class="m-t-lg text-center">\n    <a ui-sref="home" class="md-btn md-flat m-b m-t btn-fw text-white">Go Back</a>\n  </div>\n</div>'),
a.put("app/public/legals/us/terms-of-use.html",'<div class="container">\n\n    <div class="simplePage--header">\n        <a href="/">\n            <img src="/images/logo-small-optimised-with-text.png" alt="A Cloud Guru Logo (small)">\n        </a>\n    </div>\n\n  <div class="card">\n    <div class="card-body p-lg legals" btf-markdown>\n# A Cloud Guru Website Terms of Use - U.S.\n**ATTENTION:** These Terms of Use – U.S. (these **“Terms of Use”**) apply to the entire contents of the Website under the domain\nname <a href="https://acloud.guru/">https://acloud.guru/</a> and the mobile applications that we make available from time to time in the United States (collectively, the **“Website”**)\nand to any correspondence by e-mail between us and you. Please read these terms carefully before using the Website.\n\n---\n\n1.\t**INTRODUCTION**\n    1.\tThese Terms of Use are issued by A Cloud Guru Ltd, and its worldwide affiliated companies and subsidiaries including Serverless Heroes, Inc., a Delaware corporation (collectively, the **“Company,”** **“we”**, **“us”** or **“our”**).  When subscribing to the services offered by the Company through the Website (the **“Services”**), Users (as defined below) will be subject to additional terms applicable to such Services and our policies and practices regarding your information and how we will treat it, including (i) as applicable, either your (A) Subscription Agreement (**“Subscription Agreement”**) between us and a business using the Services (each a **“Business Subscriber”**) directly through us for its personnel, employees or employees of its affiliates which such Business Subscriber authorizes and registers as users of the Services (each, a “Authorized End User” and, together with any Business Subscriber, **“Users”**) or (B) applicable End User License Agreement between you or your Business Subscriber and the Company (“EULA”) and (ii) the Company’s Privacy Policy – U.S. available at <a href="https://acloud.guru/legals/us/privacy-policy">https://acloud.guru/legals/us/privacy-policy</a> (**“Privacy Policy”** and, together with the Subscription Agreement or the EULA, as applicable, the **“Terms”**).  The Terms are hereby incorporated into these Terms of Use.\n    2.\tBY USING THIS WEBSITE, WHETHER OR NOT YOU CHOOSE TO REGISTER WITH US, YOU INDICATE THAT YOU ARE OF LEGAL AGE TO FORM A BINDING CONTRACT WITH THE COMPANY AND YOU ACCEPT THESE TERMS OF USE IN FULL AND THAT YOU AGREE TO ABIDE BY IT.  YOUR REMEDY FOR DISSATISFACTION WITH THE WEBSITE, ITS CONTENTS OR ANY PART OF THESE TERMS OF USE IS TO STOP USING THE WEBSITE AND THE SERVICES.  ADDITIONALLY, BY USING THE WEBSITE, YOU CONSENT TO ALL ACTIONS TAKEN BY US WITH RESPECT TO YOUR INFORMATION IN COMPLIANCE WITH OUR PRIVACY POLICY.\n    3.\tThe Company may revise these Terms of Use at any time by updating this posting. You should check the Website from time to time to review the then current Terms of Use, because it is binding on you. Certain provisions of these Terms of Use may be superseded by expressly designated legal notices or terms located on particular pages at the Website.\n2.\t**INTELLECTUAL PROPERTY**\n    1.\tSubject to the terms and conditions of these Terms of Use and the Terms, the Company hereby grants you a limited, non-exclusive, non-transferable, license to access and use the Website solely on a server controlled by the Company and solely for your own individual purposes. The license granted herein is strictly conditioned on your continued compliance with the terms and conditions of this Agreement. Your use of the Website is limited to the scope of the license granted in these Terms of Use and the Terms and these Terms of Use do not permit you to use the Website other than as provided herein. You acknowledge that the Website includes valuable trade secrets and/or the confidential information of the Company or its licensors.\n    2.\tYou must not reproduce, distribute, modify, create derivative works of, publicly display, publicly perform, republish, download, store or transmit any of the material on the Website, except as follows: (i) you may store files that are automatically cached by your Web browser for display enhancement purposes; (ii) if we provide desktop, mobile or other applications for download, you may download a single copy to your computer or mobile device solely for your own personal, non-commercial use, provided you agree to be bound by an applicable end user license agreement for such applications; (iii) print and download extracts from the Website for your own personal, non-commercial use only; and (iv) if we provide social media features at any time, you may take such actions as are enabled by such features.\n    3.\tYou may not: (i) use any illustrations, photographs, video or audio sequences or any graphics separately from the accompanying text or which are modified in any way; or (ii) delete or alter any copyright, trademark or other proprietary right notices or this permission from copies of materials from the Website; (iii) reproduce or store any part of the Website in any other website or include in any public or private electronic retrieval system or service without the Company\'s prior written permission or (iv) access or use for any commercial purposes any part of the Website or any services or materials available through the Website\n    4.\tThe Website and its entire contents, features and functionality (including without limitation all information, software, text, displays, images, video and audio, and the design, selection and arrangement thereof) are (i) owned by the Company, its licensors or other providers of such material, and (ii) protected by United States and international copyright, trademark, patent, trade secret and other intellectual property or proprietary rights laws. For the purposes of these Terms of Use, any use of extracts from the Website other than in accordance with clause 2.B. for any purpose is strictly prohibited.\n    5.\tIf you breach any of these Terms of Use or the Terms, your permission to use the Website automatically terminates and you must immediately destroy any downloaded or printed extracts from the Website.\n    6.\tThe Company name, the Company logo and all related names, logos, product and service names, designs, and slogans are trademarks of the Company or its affiliates or licensors. You must not use such marks without the prior written permission of the Company. All other names, logos, product and service names, designs, and slogans on this Website are the trademarks of their respective owners.\n    7.\tNo right, title or interest in or to the Website or any content on the Website is transferred to you, and all rights not expressly granted in these Terms of Use or the Terms are reserved by the Company.\n\n3.\t**USER CONTRIBUTIONS**\n    1.\tThe Website may contain message boards, chat rooms, forums, bulletin boards and other interactive features (collectively, **“Interactive Features“**) that allow Users to post, submit, publish, display or transmit to Users or other persons content or materials (collectively, **“User Contributions”**) on or through the Website. All User Contributions must comply with the ownership and content standards set out in these Terms of Use. All User Contributions shall be considered non-confidential and non-proprietary to the extent permitted by law. By providing any User Contributions, you hereby grant the Company and its designees the perpetual, non-exclusive, fully paid, royalty-free, sublicensable, transferable, irrevocable, worldwide license to reproduce, modify, use, reproduce, perform, distribute, exploit, incorporate, display and otherwise disclose such material to third parties and all data, images, sounds, text and other things embodied therein for any and all commercial or non-commercial purposes.\n    2.\tYou acknowledge and agree that:\n        * You own or control all rights in and to your User Contributions and have the right to grant the license granted above to us and our affiliates and service providers, and each of their and our respective licensees, successors, and assigns;\n        * You will have no claim or other recourse against the Company for infringement of any proprietary right with respect to your User Contributions;\n        * You waive any moral (or similar) rights that you may have in any territory in respect of User Contributions, including but not limited to, the right to be attributed as the author of such User Contributions;\n        * If you provide a User Contribution to be transmitted to other users of the Website or any third parties, your User Contributions are posted on and transmitted to others at your own risk;\n        * We cannot control the actions of other users of the Website or any third parties with whom you may choose to share your User Contributions and as such we cannot and do not guarantee that you User Contributions will not be viewed by unauthorized persons;\n        * Your User Contributions are accurate and comply with all applicable laws in the country from which you have posted them; and\n        * You are responsible for any User Contributions you submit or contribute, and you, not the Company, have fully responsibility for such content, including its legality, reliability, accuracy and appropriateness and we are not responsible, or liable to any third party, for the content or accuracy of any User Contributions posted by you or any other user of the Website.  You will defend, indemnify and hold the Company harmless from any losses related to any third-party claims or actions arising out of User Contributions submitted by you or your Authorized End Users, as applicable.\n\n4.\t**CONTENT STANDARDS AND PROHIBITION ON INTERFERENCE WITH OPERATIONS**\n    1.\tThese content standards apply to any and all User Contributions and use of Interactive Features. User Contributions must in their entirety comply with all applicable federal, state, local, and international laws and regulations. Without limiting the foregoing, User Contributions must not contain material that:\n        * Is threatening, defamatory, obscene, indecent, seditious, offensive, pornographic, abusive, liable to incite racial hatred, discriminatory, menacing, scandalous, inflammatory, blasphemous, or which may cause annoyance, inconvenience, needless anxiety or be likely to upset, embarrass, alarm, or annoy any other person;\n        * Infringes any patent, trademark, trade secret, copyright, or other intellectual property or other rights of any other person or for which you have not obtained all necessary licenses and/or approvals;\n        * Constitutes or encourages conduct that would be considered a criminal offense or illegal activity (including rights of publicity and privacy), give rise to civil liability, or otherwise be contrary to the law of, or infringe the rights of any third party, in any country in the world;\n        * Is technically harmful (including, without limitation, computer viruses, logic bombs, Trojan horses, worms, harmful components, corrupted data or other malicious software or harmful data (collectively, **“Viruses”**));\n        * Impersonates or attempts to impersonate the Company, a Company employee, another User or any other person or entity (including, without limitation, by using email addresses or screen names associated with any of the foregoing), misrepresents your identity or is likely to deceive any person;\n        * Restricts or inhibits anyone\'s use or enjoyment of the Website, or which, as determined by us, may harm the Company or other users of the Website or expose them to liability;\n        * Involves commercial activities or sales, such as contests, sweepstakes, and other sales promotions, barter, or advertising including , including any **“junk mail,”** **“chain letter,”** **“spam”** or any other similar solicitation; or\n        * Gives the impression that they are endorsed by us or any other person or entity, if this is not the case.\n    1.\tYou agree to not interfere with the operation, functionality or proprietary features of the Website.  You will not use the Website to violate any applicable local or international law or regulation in any way.  Without limiting the foregoing, you must not:\n        * Use the Website in any manner that could disable, overburden, damage, or impair the Website to interfere with any other party\'s use of the Website, including their ability to engage in real time activities through the Website;\n        * Use any robot, spider, or other automatic device, process, or means to access the Website for any purpose, including monitoring or copying any of the material on the Website;\n        * Use any manual process to monitor or copy any of the material on the Website or for any other unauthorized purpose without our prior written consent;\n        * Use any device, software, or routine that interferes with the proper working of the Website; or\n        * Attempt to gain unauthorized access to, interfere with, damage, or disrupt any part of the Website, the server on which the Website is stored, or any server, computer, or database connected to the Website;\n        * Introduce any Viruses;\n        * Attack the Website via a denial-of-service attack or a distributed denial-of-service attack;\n        * Send, or knowingly receive, upload, download, use or re-use any material which does not comply with the content standards set forth herein; or\n        * Otherwise attempt to interfere with the proper working and proprietary nature of the Website.\n5.\t**MONITORING AND ENFORCEMENT; TERMINATION**\n    1.\tWe have the right, but not the obligation, to review, screen or edit any User Contribution. You accept that such contributions do not reflect the views of the Company and are not endorsed by the Company.\n    2.\tWe have the right to:\n        * Take any action with respect to User Contributions that we deem necessary or appropriate, in our sole discretion;\n        * Take appropriate legal action, including without limitation, referral to law enforcement, for any illegal or unauthorized use of the Website; and\n        * Terminate or suspend your access to all or part of the Website for any or no reason, including without limitation, any violation of these Terms of Use or the Terms.\n    3.\tWithout limiting the foregoing, we have the right to cooperate fully with any law enforcement authorities or court order requesting or directing us to disclose the identity or other information of anyone posting any materials on or through the Website. YOU WAIVE AND HOLD HARMLESS THE COMPANY AND ITS AFFILIATES, LICENSEES, AND SERVICE PROVIDERS FROM ANY CLAIMS RESULTING FROM ANY ACTION TAKEN BY THE COMPANY/ANY OF THE FOREGOING PARTIES DURING, OR TAKEN AS A CONSEQUENCE OF, INVESTIGATIONS BY EITHER THE COMPANY/SUCH PARTIES OR LAW ENFORCEMENT AUTHORITIES.\n    4.\tWe do not undertake to review material before it is posted on the Website, and cannot ensure prompt removal of objectionable material after it has been posted. Accordingly, we assume no liability for any action or inaction regarding transmissions, communications or content provided by any other user of the Website or third-party. We have no liability or responsibility to anyone for performance or non-performance of the activities described in this section.\n6.\t**COPYRIGHT INFRINGEMENT**\n    1.\tThe Company takes claims of copyright infringement seriously and will respond to notices of alleged copyright infringement that comply with applicable law. If you believe any materials accessible on or from this Website infringe your copyright, you may request removal of those materials (or access to those materials) from the Website by submitting written notification to our Copyright Agent designated below. In accordance with the Online Copyright Infringement Liability Limitation Act of the Digital Millennium Copyright Act (17 U.S.C. § 512) (**"DMCA"**), the written notice (the **"DMCA Notice"**) must include substantially the following:\n        * Your physical or electronic signature.\n        * Identification of the copyrighted work you believe to have been infringed or, if the claim involves multiple works on the Website, a representative list of such works.\n        * Identification of the material you believe to be infringing in a sufficiently precise manner to allow us to locate that material.\n        * Adequate information by which we can contact you (including your name, postal address, telephone number, and, if available, email address).\n        * A statement that you have a good faith belief that use of the copyrighted material is not authorized by the copyright owner, its agent, or the law.\n        * A statement that the information in the written notice is accurate.\n        * A statement, under penalty of perjury, that you are authorized to act on behalf of the copyright owner.\n    2.\tOur designated copyright agent to receive DMCA Notices is:\n\n        Serverless Heroes, Inc.\n        ATTN: Copyright Agent, Legal Department\n        411 West Monroe Street\n        Austin, Texas 78704\n        Email: support@acloud.guru\n\n    3.\tFailure to comply with all of the requirements of Section 512(c)(3) of the DMCA, may render your DMCA Notice ineffective.\n    4.\tPlease be aware that you may be liable for damages (including costs and attorneys’ fees) under Section 512(f) of the DMCA if you knowingly materially misrepresent that material or activity on the Website is infringing your copyright.\n7.\t**THIRD PARTY INTERACTION; LINKS TO AND FROM OTHER WEBSITES**\n    1.\tUsers may enter into correspondence with, purchase good and/or services from, or participate in promotions of advertisers or sponsors showing their goods or services through the Website.  Any such activity (and any terms, conditions, warranties or representations) is solely between such User and the applicable third party.  Neither we nor our licensors shall have any liability, obligation or responsibility for any such correspondence, purchase or promotion between such User and any such third party.  The Company does not endorse any third party through the Website.\n    2.\tUser recognizes that certain third-party service providers of ancillary software, hardware or services utilized by the Company in connection with the Services and the Website may require an agreement to additional or different licenses or other terms prior to a User’s use of or access to such software, hardware or services.  See the Privacy Policy – U.S. for more details <a href="https://acloud.guru/legals/us/privacy-policy">https://acloud.guru/legals/us/privacy-policy</a>.\n    3.\tLinks to third-party websites on the Website are provided solely for your convenience. If you use these links, you leave the Website. The Company has not reviewed all of these third-party websites and does not control and is not responsible for these websites or their content or availability.  The Company therefore does not endorse or make any representations about them, or any material found there, or any results that may be obtained from using them. If you decide to access any of the third-party websites linked to the Website, you do so entirely at your own risk.\n    4.\tWe allow you to create link to the Website homepage from other websites. Unless an express agreement between the Company and you states otherwise, you must comply with the following terms and all applicable laws if you provide anyone with a link to the Website:\n        * You shall not imply that the Company endorses or is affiliated with any such website that links to the Website or any products, services, or content available through that website;\n        * You shall not misrepresent your relationship with the Company;\n        * You shall not present false or misleading information about the Company or its Services;\n        * The website that links to the Website shall not contain content that could be violate the content standard or the prohibition on Interference with operations provisions set forth in the Terms of Use;\n        * You shall not co-brand, or frame the Website or hyperlink to any page other than our homepage without the express prior written permission of the Company; and\n        * The website that links to the Website shall contain only content that is appropriate for all age groups.\n8.\t**DISCLAIMER**\n\n    YOUR USE OF THE WEBSITE OR ITEMS OBTAINED THROUGH THE WEBSITE IS AT YOUR OWN RISK. THE WEBSITE IS PROVIDED ON AN **“AS IS”** AND **“AS AVAILABLE”** BASIS, WITHOUT ANY PROMISES OF ANY KIND, EITHER EXPRESS OR IMPLIED. NEITHER THE COMPANY NOR ANY PERSON ASSOCIATED WITH THE COMPANY MAKES ANY PROMISE, WARRANTY OR REPRESENTATION WITH RESPECT TO THE COMPLETENESS, SECURITY, RELIABILITY, QUALITY, ACCURACY OR AVAILABILITY OF THE WEBSITE. WITHOUT LIMITING THE FOREGOING, NEITHER THE COMPANY NOR ANYONE ASSOCIATED WITH THE COMPANY PROMISES, REPRESENTS OR WARRANTS THAT THE WEBSITE OR ITEMS OBTAINED THROUGH THE WEBSITE OR ANY PORTION THEREOF WILL BE ACCURATE, RELIABLE, ERROR-FREE OR UNINTERRUPTED, THAT DEFECTS WILL BE CORRECTED, THAT THE WEBSITE OR THE SERVER THAT MAKES THEM AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS, OR THAT THE WEBSITE OR ITEMS OBTAINED THROUGH THE WEBSITE WILL OTHERWISE MEET YOUR NEEDS OR EXPECTATIONS. THE COMPANY HEREBY DISCLAIMS ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, STATUTORY OR OTHERWISE, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, NON-INFRINGEMENT AND FITNESS FOR PARTICULAR PURPOSE.\n\n9.\t**LIMITATION ON LIABILITY**\n\n    TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL THE COMPANY, ITS LICENSORS, AFFILIATES, EMPLOYEES, AGENTS, OFFICERS OR DIRECTORS BE LIABLE TO YOU OR ANY THIRD-PARTY FOR ANY SPECIAL, PUNITIVE, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER, INCLUDING, WITHOUT LIMITATION, THOSE RESULTING FROM LOSS OF USE, LOSS OF DATA, OR LOSS OF PROFITS, WHETHER OR NOT WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, AND ON ANY THEORY OF LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OF THE WEBSITE OR OF ANY WEBSITE REFERENCED OR LINKED TO FROM OUR WEBSITE. YOU WILL BE RESPONSIBLE FOR ALL CLAIMS AND DAMAGES RESULTING FROM THE MISUSE OF THE WEBSITE BY YOU. Certain states and/or jurisdictions do not allow the exclusion of implied warranties or limitation of liability for incidental, consequential or certain other types of damages, so the exclusions set forth above may not apply to you.\n\n10.\t**CHANGES TO WEBSITE AND RELIANCE ON INFORMATION POSTED**\n    1.\tThe material presented on or through the Website is made available solely for general information purposes. We do not make any statements regarding the accuracy, completeness, currency or usefulness of this information.  Any reliance you place on such information is strictly at your own risk.  Any of the material on the Website, including the Services and the pricing, may be out of date at any given time, and we are under no obligation to update such material.\n    2.\tThe Website includes content provided by third parties, including User Contributions and third-party licensors. The content provided by such third parties are solely the opinions and the responsibility of the person or entity providing those materials and these materials do not necessarily reflect the opinion of the Company. We are not responsible, or liable to you or any third-party, for the content or accuracy of materials provided by any other user of the Website or third party.\n11.\t**GOVERNING LAW AND JURISDICTION**\n\n    These Terms of Use shall be construed and governed by the laws of the State of Texas, without regard to (i) the principles of conflict of laws thereof and (ii) the United Nations Convention on Contracts for the International Sale of Goods. You agree and accept that any legal action or proceeding shall be brought in the federal or state courts for the State of Texas, Travis County, and you expressly waive (x) any objection to personal jurisdiction, venue or forum non conveniens and (y) any right you may otherwise have to a jury trial.\n\n12.\t**WAIVER AND SEVERABILITY**\n    1.\tNo waiver by the Company of any term or condition set out in these Terms of Use shall be deemed a further or continuing waiver of such term or condition or a waiver of any other term or condition, and any failure of the Company to assert a right or provision under these Terms of Use shall not constitute a waiver of such right or provision.\n    2.\tIf any provision of these Terms of Use is held by a court or other tribunal of competent jurisdiction to be contrary to law, such provision shall be changed and interpreted so as to best accomplish the objectives of the original provision to the fullest extent allowed by law and the remaining provisions of these Terms of Use will remain in full force and effect.\n\n13.\t**COMPLETE UNDERSTANDING**\n\n    These Terms of Use and the Terms constitute the sole and entire agreement between you and the Company regarding the Website and supersede all prior and contemporaneous understandings, agreements, representations, and warranties, both written and oral, regarding the Website.\n\n14.\t**APPLICABILITY**\n\n    **You acknowledge and agree that neither ACG’s Web Terms of Use – Global, ACG’s Privacy Policy – Global, nor ACG’s Customer Terms of Service apply to your access and use of the\n    Services (a) purchased on or accessed through the AWS Marketplace Site or (b) purchased by a Business Subscriber via a Subscription Agreement directly with us.\n    Any such access and use of the Services shall at all times be governed solely by these Terms of Use and the Terms.**\n\n15.\t**GEOGRAPHIC RESTRICTIONS**\n\n    Software, functionality, and/or features (collectively, **“Service Functionality”**), that may be available on or through the Website from time-to-time, are subject to United States Export Controls. No Service Functionality from the Website may be downloaded or exported (i) into (or to a resident of) Iraq, Cuba, Libya, North Korea, Iran, Syria, or any other country which the United States has embargoed goods; or (ii) anyone on the United States Treasury Department\'s list of Specially Designated Nationals or the United States Commerce Department\'s Table of Deny Orders. By downloading or using any Service Functionality, you represent and warrant that you are not located in, under the control of, or a national or resident of any such country or on any such list. Although the Website may be accessible worldwide, we make no representation that materials on the Website are appropriate or available for use in locations outside the United States, and accessing them from territories where their contents are illegal, is prohibited. Those who choose to access the Website from other locations do so at their own initiative and are responsible for compliance with local laws. Any offer for any product, service, and/or information made in connection with the Services is void where prohibited.\n\n    </div>\n  </div>\n\n  <div class="m-t-lg text-center">\n    <a ui-sref="home" class="md-btn md-flat m-b m-t btn-fw text-white">Go Back</a>\n  </div>\n</div>'),
a.put("app/public/our-story.html",'<main>\n\n    <section class="ourStory--masthead p-y-0">\n\n        <gu-nav-shell></gu-nav-shell>\n\n        <div class="container ourStory--mastheadContainer">\n\n            <span class="ourStory--mastheadPrefix">\n                From humble beginnings\n            </span>\n            <h1>\n                Our story is proof that anyone can become a cloud guru\n            </h1>\n\n\n\n            <videogular class="videogular videogular__16-9 videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n\n                <vg-media vg-src="\'https://public.acloud.guru/marketing/mission-statement-720p-11-09-2017.mp4\'" vg-preload="\'none\'"></vg-media>\n\n                <vg-controls>\n                    <vg-play-pause-button></vg-play-pause-button>\n                    <vg-time-display>{{ currentTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display>\n                    <vg-scrub-bar>\n                        <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                    </vg-scrub-bar>\n\n                    <vg-volume>\n                        <vg-mute-button></vg-mute-button>\n                        <vg-volume-bar></vg-volume-bar>\n                    </vg-volume>\n                    <vg-fullscreen-button></vg-fullscreen-button>\n                </vg-controls>\n\n                <vg-overlay-play></vg-overlay-play>\n\n                <vg-poster vg-url="\'/images/our-story/video-poster.jpg\'"></vg-poster>\n\n            </videogular>\n\n        </div>\x3c!--/.container--\x3e\n\n    </section>\n\n    <section class="white ourStory--section ourStory--founderBlock p-y-0">\n\n        <div class="container">\n\n            <div class="row">\n\n                <div class="col col-sm-6 p-x-0">\n\n                    <img src="/images/our-story/ryan-kroonenburg.jpg">\n\n                </div>\x3c!--/.col--\x3e\n\n                <div class="col col-sm-6 ourStory--founderColumn">\n\n                    <h2 class="t__heavy">Ryan Kroonenburg</h2>\n                    <h4><span>Founder</span></h4>\n                    <p>\n                        Ryan is the first person to be recognized as both an AWS Community Hero and an Alexa Champion; and so far, over 135,000 students have taken his AWS Certified Solutions Architect Associate course. He loves being a cloud geek and enjoys sharing his knowledge with the community as an online educator. Ryan\'s courses are all cloud-based, and accommodate both absolute beginners and seasoned professionals. Feel free to connect with him on LinkedIn, where he frequently shares the latest from the Cloud.\n                    </p>\n\n                </div>\x3c!--/.col--\x3e\n\n            </div>\x3c!--/.row--\x3e\n\n            <div class="row">\n\n                <div class="col col-sm-6 col-sm-push-6 p-x-0">\n\n                    <img src="/images/our-story/sam-kroonenburg.jpg">\n\n                </div>\x3c!--/.col--\x3e\n\n                <div class="col col-sm-6 col-sm-pull-6 ourStory--founderColumn">\n\n                    <h2 class="t__heavy">Sam Kroonenburg</h2>\n                    <h4><span>Founder</span></h4>\n                    <p>\n                        Sam has extensive experience leading large software engineering teams and architecting robust systems that scale. Sam has worked for Microsoft in Seattle in the Core File Systems team of Windows - where he developed the Disk Defragmenter for Windows Vista SP1 and Windows 7. He also worked for Microsoft in Oslo, Norway where he developed query processing technology for FAST Search.\n                    </p>\n\n                </div>\x3c!--/.col--\x3e\n\n            </div>\x3c!--/.row--\x3e\n\n        </div>\x3c!--/.container--\x3e\n\n    </section>\n\n    <section class="white ourStory--section">\n\n        <div class="container">\n\n            <div class="text-center p-t-xl p-b-xxl">\n                <h5>Our Story</h5>\n                <h1>We’re 2 brothers that dared to do things differently</h1>\n            </div>\n\n            <div class="row">\n                <div class="col col-sm-6 ourJourney--column">\n\n                    <div class="ourJourney--block">\n                        <h2 class="ourJourney--heading">\n                            <span>Part I:</span>\n                            We\'re sorry to inform you...\n                        </h2>\n\n                        <p>\n                            Back in 2015, Ryan went to interview for a role at Amazon. They didn’t hire him. It turned out to be the best thing that ever happened to him.\n                        </p>\n                    </div>\n\n\n                    <div class="ourJourney--block">\n                        <h2 class="ourJourney--heading">\n                            <span>Part II:</span>\n                            From frustration comes inspiration\n                        </h2>\n\n                        <p>\n                            Preparing for the interview was difficult. The only training available at the time cost over $2,000, and the content was awfully dull. Spending an entire week back in the classroom listening to a lecturer pontificate on the differences between services triggered tiresome memories from university, so he began scouring the internet in search of a better option. Frustrated by his unsuccessful search, Ryan was inspired to create a better option.\n                        </p>\n\n                        <p>\n                            He recorded content every night for the next 6 weeks in his make-shift recording studio, which was actually the bedroom in his tiny London flat that he had taped foam to the walls to help with noise. In those early recordings, you could hear a car drive by or his kids playing in the other room, but he didn’t mind. He was an engineer, not a career trainer.\n                        </p>\n                    </div>\n\n\n                    <div class="ourJourney--block">\n                        <h2 class="ourJourney--heading">\n                            <span>Part III:</span>\n                            His phone started vibrating\n                        </h2>\n\n                        <p>\n                            After the course was complete, Ryan submitted it on a popular training site, and drove across town to take his AWS Solutions Architect - Associate exam. He thought if he earned £50 from the course it would pay back the cost of the mic, and therefore the project would be a success.\n                        </p>\n\n                        <p>\n                            Then his phone started vibrating. It literally went off 200 times during his exam. It never stopped vibrating. In a matter of weeks, his course had hit 8,000 paid users. The success ignited Ryan’s entrepreneurial spirit.\n                        </p>\n                    </div>\n\n                    <img src="/images/our-story/kroonenburg-brothers.jpg">\n\n\n                </div>\x3c!--/.col--\x3e\n                <div class="col col-sm-6 ourJourney--column">\n\n                    <img src="/images/our-story/ryan-dream.jpg" class="m-t-xs m-b-xl">\n\n                    <div class="ourJourney--block">\n                        <h2 class="ourJourney--heading">\n                            <span>Part IV:</span>\n                            An idea is sparked\n                        </h2>\n\n                        <p>\n                            Excited about his small success, but unsure of what to make of it, Ryan phoned his brother Sam, who was living 12 hours away in Melbourne, Australia. Sam was a software developer and had helped build Windows 7 at Microsoft, so Ryan knew he was the perfect person to partner with.\n                        </p>\n\n                        <p>\n                            They chatted late into the night, or early morning depending which side of the phone you were on, about how that they could help other students looking for a better way to learn the cloud. They asked themselves “Could we build the biggest cloud computing school on the planet? Could we build THE place to learn cloud?”\n                        </p>\n                    </div>\n\n                    <div class="ourJourney--block">\n                        <h2 class="ourJourney--heading">\n                            <span>Part V:</span>\n                            A Cloud Guru goes serverless\n                        </h2>\n\n                        <p>\n                            At the time, Sam was working a full-time job. He had some holiday leave available, so he hopped on a plane to Tasmania with his wife and kids. While his family enjoyed their vacation, he locked himself away in a bedroom with the mission to build a learning platform in 4 weeks. He knew that to do that, he had to come up with a new approach. He used the latest technologies from Amazon and built an entirely \'serverless\' system making A Cloud Guru the world\'s first serverless startup.\n                        </p>\n\n                        <p>\n                            Sam worked out that he would be able to launch the school to market in 4 weeks if he could leverage the work of others. With no ops team, just 2 brothers, they knew they wouldn’t be able to manage infrastructure and also scale quickly. In only 28 days, Sam built a complete learning management platform. He had discussion forums. He had payments processing. What companies spend years building using traditional server based architectures, Sam built in less than 30 days.\n                        </p>\n                    </div>\n\n                </div>\x3c!--/.col--\x3e\n            </div>\x3c!--/.row--\x3e\n\n        </div>\x3c!--/.container--\x3e\n\n    </section>\n\n    <section class="white text-center ourStory--section">\n\n        <div class="trimmedYear">\n            2015\n        </div>\n\n        <h2 class="trimmedYear--byLine">In January of 2015, two brothers from the countryside of Australia launched the very first version of A Cloud Guru, and it went crazy.</h2>\n\n        <hr class="micro micro__center">\n\n        <h3 class="ourStory--outro">And it\'s been crazy ever since.</h3>\n\n        <div class="infoPair--root">\n\n            <div class="infoPair--wrapper">\n                <div class="infoPair--value">\n                    {{vm.marketingConfig.customers}}\n                </div>\n                <div class="infoPair--label">\n                    Customers\n                </div>\n            </div>\n\n            <div class="infoPair--wrapper">\n                <div class="infoPair--value">\n                    {{vm.marketingConfig.countries}}\n                </div>\n                <div class="infoPair--label">\n                    Countries\n                </div>\n            </div>\n\n            <div class="infoPair--wrapper">\n                <div class="infoPair--value">\n                    {{vm.marketingConfig.youtube}}\n                </div>\n                <div class="infoPair--label">\n                    YouTube Followers\n                </div>\n            </div>\n\n            <div class="infoPair--wrapper">\n                <div class="infoPair--value">\n                    {{vm.marketingConfig.twitter}}\n                </div>\n                <div class="infoPair--label">\n                    Twitter Followers\n                </div>\n            </div>\n\n        </div>\n\n    </section>\n\n</main>\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),a.put("app/public/partials/brands/acloud-guru/footer.html",'<footer class="footer--homepage">\n    <div class="footer--container">\n\n        <div class="footer--logo">\n            <a href="/">\n                <img src="/images/logo-small-optimised.png" alt="ACG Logo Cloud">\n            </a>\n        </div>\n\n        <div class="footer--column footer--column__lg">\n            <h4>A Cloud Guru Ltd</h4>\n            <ul class="list-unstyled">\n                <li>\n                    London, United Kingdom\n                </li>\n                <li>\n                    Washington DC, USA\n                </li>\n                <li>\n                    Melbourne, Australia\n                </li>\n                <li>\n                    Austin, TX, USA\n                </li>\n            </ul>\n        </div>\n        <div class="footer--column footer--column__lg">\n            <h4>Training</h4>\n            <ul class="list-unstyled">\n                <li>\n                    <a href="/courses">AWS Courses Online</a>\n                </li>\n                <li>\n                    <a href="/courses?roles=solutions-architect">Cloud Training</a>\n                </li>\n                <li>\n                    <a href="/courses?vendors=aws">AWS Certifications</a>\n                </li>\n                <li>\n                    <a href="/learn/aws-certified-solutions-architect-associate">AWS Certified Solutions Architect</a>\n                </li>\n            </ul>\n        </div>\n        <div class="footer--column">\n            <h4>Resources</h4>\n            <ul class="list-unstyled">\n                <li>\n                    <a href="https://read.acloud.guru">Our Blog</a>\n                </li>\n                <li>\n                    <a href="https://help.acloud.guru/hc">Support</a>\n                </li>\n                <li>\n                    <a ui-sref="public.aws-this-week">AWS This Week</a>\n                </li>\n                <li>\n                    <a ui-sref="public.cloudcast">The Cloudcast</a>\n                </li>\n            </ul>\n        </div>\n        <div class="footer--column">\n            <h4>About Us</h4>\n            <ul class="list-unstyled">\n                <li>\n                    <a ui-sref="public.our-story">Our Story</a>\n                </li>\n                <li>\n                    <a ui-sref="gurus">Our Gurus</a>\n                </li>\n                <li>\n                    <a ui-sref="public.careers">Careers</a>\n                </li>\n                <li>\n                    <a ui-sref="serverless">Serverlessconf</a>\n                </li>\n            </ul>\n        </div>\n\n        <div class="footer--social-media">\n            <a href="https://www.facebook.com/acloudguru/" target="_blank">\n                <un-svg svg-src="images/svg-icons/facebook.svg"></un-svg>\n            </a>\n            <a href="https://www.twitter.com/acloudguru/" target="_blank">\n                <un-svg svg-src="images/svg-icons/twitter.svg"></un-svg>\n            </a>\n            <a href="https://www.linkedin.com/company/a-cloud-guru" target="_blank">\n                <un-svg svg-src="images/svg-icons/linked-in.svg"></un-svg>\n            </a>\n        </div>\n\n    </div>\x3c!--/.footer--container--\x3e\n\n    <div class="footer--container">\n\n        <div class="footer--sub-row">\n            &copy; 2018 A Cloud Guru Ltd.\n            <a ui-sref="public.codeofconduct">Code of Conduct</a>\n            <a ui-sref="public.privacy">Privacy Policy</a>\n            <a ui-sref="public.terms">Terms Of Use</a>\n        </div>\n    </div>\x3c!--/.footer--container--\x3e\n</footer>'),
a.put("app/public/serverless.html",'<link rel="StyleSheet" href="/fonts/stone-harbour/stone-harbour.css">\n\n<main>\n\n    <section id="serverless-hero" class="serverlessPage p-t-0">\n\n        <gu-nav-shell></gu-nav-shell>\n\n        <div class="container">\n\n\n            \x3c!-- Page Hero --\x3e\n            <div class="serverlessPage--featureImage">\n                <div class="serverlessPage--featureImageWrapper">\n                    <img src="/images/serverless/acg-serverless.png" class="brand" alt="">\n                    <img src="/images/banners/serverless.png" class="feature" alt="">\n                </div>\n                <h1>\n                    A Cloud Guru’s very own premier cloud-centric conferences\n                    <hr class="micro micro__center">\n                </h1>\n            </div>\n\n        </div>\n\n    </section>\n\n    <section class="justAnnounced">\n        <div class="container">\n\n            \x3c!-- Just Announced Block --\x3e\n                <div class="justAnnounced--gridContainer">\n\n                    <h2 class="justAnnounced--heading">\n                        <span>Just</span>\n                        <span>Announced</span>\n                    </h2>\n\n                    <div class="justAnnounced--gridLeft">\n                        <img src="/images/serverless/grid-image-1.jpg" alt="">\n                    </div>\n\n                    <div class="justAnnounced--gridRight">\n                        <img src="/images/serverless/grid-image-2.jpg" alt="">\n                    </div>\n\n                    <div class="justAnnounced--gridMiddle">\n\n                        <a class="justAnnounced--panelInner" href="https://sf.serverlessconf.io/" target="_blank">\n                                <h5>Just Announced</h5>\n                                <hr class="micro">\n                                <h3 class="h1">\n                                    San Francisco \'18\n                                    <div>Serverlessconf</div>\n                                </h3>\n                                <dl>\n                                    <dt>29 July</dt>\n                                    <dd>Hackathon</dd>\n                                </dl>\n                                <dl>\n                                    <dt>30 July</dt>\n                                    <dd>Workshops</dd>\n                                </dl>\n                                <dl>\n                                    <dt>31 July</dt>\n                                    <dd>Conference - Day One</dd>\n                                </dl>\n                                <dl>\n                                    <dt>1 Aug</dt>\n                                    <dd>Conference - Day Two</dd>\n                                </dl>\n                                <span class="btn btn-outline btn__roundRect btn-block">\n                                    Learn More\n                                </span>\n                        </a>\n                    </div>\n\n                </div>\x3c!--/.gridContainer--\x3e\n\n\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n    <section class="serverlessSponsors">\n\n        <div class="container">\n\n            <div class="serverlessSponsors--backgroundFill"></div>\n\n            <div class="serverlessSponsors--content">\n\n                <div class="row">\n                    <div class="col col-sm-4 col-md-5">\n\n                        <h2 class="serverlessSponsors--heading">\n                            <span>Made possible by</span>\n                            <span>Our Sponsors</span>\n                        </h2>\n\n                    </div>\x3c!--/.col--\x3e\n                    <div class="col col-sm-8 col-md-7">\n                        <img src="/images/serverless/sponsor-medley.jpg" alt="Serverlessconf Sponsors">\n                    </div>\x3c!--/.col--\x3e\n                </div>\x3c!--/.row--\x3e\n\n\n            </div>\x3c!--/.content--\x3e\n\n        </div>\x3c!--/.container--\x3e\n\n    </section>\n\n\n\n\n\n    <section class="serverlessIsLike">\n        <div class="container">\n            <div class="row">\n                <div class="col col-sm-12">\n                    <h2 class="serverlessIsLike--heading">\n                        <span>What\'s it like</span>\n                        <span>Attending Serverlessconf?</span>\n                    </h2>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col col-sm-4">\n\n                    <div class="panel panel--article">\n                        <div class="panel--article-media">\n\n                                <videogular class="videogular videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n\n                                    <vg-media vg-src="\'https://public.acloud.guru/marketing/sls-conf/sls-conf-day-1-720p-11-09-2017.mp4\'" vg-preload="\'none\'"></vg-media>\n\n                                    <vg-controls>\n                                        <vg-play-pause-button></vg-play-pause-button>\n                                        <vg-time-display>{{ currentTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display>\n                                        <vg-scrub-bar>\n                                            <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                                        </vg-scrub-bar>\n\n                                        <vg-volume>\n                                            <vg-mute-button></vg-mute-button>\n                                            <vg-volume-bar></vg-volume-bar>\n                                        </vg-volume>\n                                        <vg-fullscreen-button></vg-fullscreen-button>\n                                    </vg-controls>\n\n                                    <vg-overlay-play></vg-overlay-play>\n\n                                    <vg-poster vg-url="\'/images/serverless/poster-trailer-1.jpg\'"></vg-poster>\n\n                                </videogular>\n\n                        </div>\n                        <div class="panel-body">\n                            <h2>Trailer One</h2>\n                            <p>Austin Serverlessconf \'17</p>\n                        </div>\n                    </div>\x3c!--/.panel--\x3e\n\n                </div>\x3c!--/.col--\x3e\n                <div class="col col-sm-4">\n\n                    <div class="panel panel--article">\n                        <div class="panel--article-media">\n\n                                <videogular class="videogular videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n\n                                    <vg-media vg-src="\'https://public.acloud.guru/marketing/sls-conf/sls-conf-day-2-720p-11-09-2017.mp4\'" vg-preload="\'none\'"></vg-media>\n\n                                    <vg-controls>\n                                        <vg-play-pause-button></vg-play-pause-button>\n                                        <vg-time-display>{{ currentTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display>\n                                        <vg-scrub-bar>\n                                            <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                                        </vg-scrub-bar>\n\n                                        <vg-volume>\n                                            <vg-mute-button></vg-mute-button>\n                                            <vg-volume-bar></vg-volume-bar>\n                                        </vg-volume>\n                                        <vg-fullscreen-button></vg-fullscreen-button>\n                                    </vg-controls>\n\n                                    <vg-overlay-play></vg-overlay-play>\n\n                                    <vg-poster vg-url="\'/images/serverless/poster-trailer-2.jpg\'"></vg-poster>\n\n                                </videogular>\n\n                        </div>\n                        <div class="panel-body">\n                            <h2>Trailer Two</h2>\n                            <p>Austin Serverlessconf \'17</p>\n                        </div>\n                    </div>\x3c!--/.panel--\x3e\n\n                </div>\x3c!--/.col--\x3e\n                <div class="col col-sm-4">\n\n                    <div class="panel panel--article">\n                        <div class="panel--article-media">\n\n                                <videogular class="videogular videogular__subtle" vg-theme="\'styles/videogular/videogular.min.css\'" vg-can-play="vm.onPreviewPlayerReady($API)" ng-class="{\'video-loaded\': vm.videoIsLoaded}">\n\n                                    <vg-media vg-src="\'https://public.acloud.guru/marketing/workshop-720p-11-09-2017.mp4\'" vg-preload="\'none\'"></vg-media>\n\n                                    <vg-controls>\n                                        <vg-play-pause-button></vg-play-pause-button>\n                                        <vg-time-display>{{ currentTime | date:\'mm:ss\':\'UTC\' }}</vg-time-display>\n                                        <vg-scrub-bar>\n                                            <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\n                                        </vg-scrub-bar>\n\n                                        <vg-volume>\n                                            <vg-mute-button></vg-mute-button>\n                                            <vg-volume-bar></vg-volume-bar>\n                                        </vg-volume>\n                                        <vg-fullscreen-button></vg-fullscreen-button>\n                                    </vg-controls>\n\n                                    <vg-overlay-play></vg-overlay-play>\n\n                                    <vg-poster vg-url="\'/images/serverless/poster-workshops2.jpg\'"></vg-poster>\n\n                                </videogular>\n\n                        </div>\n                        <div class="panel-body">\n                            <h2>Workshops</h2>\n                            <p>Austin Serverlessconf \'17</p>\n                        </div>\n                    </div>\x3c!--/.panel--\x3e\n\n                </div>\x3c!--/.col--\x3e\n            </div>\x3c!--/.row--\x3e\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n    <section class="serverlessEvent serverlessEvent__dark">\n        <div class="container">\n                        <div class="row">\n                            <div class="col-sm-5 sEvent--col sEvent--col__imageLeft">\n                                <img src="/images/serverless/composition-paris.png" alt="Austin Serverlessconf 2017 attendees and speakers">\n                            </div>\n                            <div class="col-sm-7 sEvent--col sEvent--col__textRight">\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Status</span>\n                                    <span class="status-value status-value__completed">Completed</span>\n                                </h4>\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Date</span>\n                                    <span class="status-value">Feb 14-15, 2018</span>\n                                </h4>\n                                <hr class="micro">\n                                <h2 class="sEvent--heading">Paris \'18</h2>\n                                <p>\n                                    Serverlessconf made its way to Paris for 2-days packed with workshops, superb talks and an endless knowledge base. Huge thanks to all of our sponsors, speakers, attendees, the entire serverless community and D2SI for making this conference so memorable.\n                                </p>\n                                <a ui-sref="series.playlist({seriesUrl: \'serverlessconf\'})" class="btn btn--teal btn__roundRect">\n                                    Watch Videos\n                                </a>\n                                <a href="http://paris.serverlessconf.io" target="_blank" class="btn btn__roundRect btn-outline btn-default">\n                                    View Event\n                                </a>\n                            </div>\n                        </div>\x3c!--/.row--\x3e\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n    <section class="serverlessEvent">\n        <div class="container">\n                        <div class="row">\n                            <div class="col-sm-6 col-sm-push-6 sEvent--col sEvent--col__imageRight">\n                                <img src="/images/serverless/location-nyc-17.png" alt="NYC Serverlessconf 2017 attendees and speakers">\n                            </div>\n                            <div class="col-sm-6 col-sm-pull-6 sEvent--col sEvent--col__textLeft">\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Status</span>\n                                    <span class="status-value status-value__completed">Completed</span>\n                                </h4>\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Date</span>\n                                    <span class="status-value">Oct 8-11, 2017</span>\n                                </h4>\n                                <hr class="micro">\n                                <h2 class="sEvent--heading">New York \'17</h2>\n                                <p>\n                                    Serverlessconf returned to where it all began to host it\'s annual community-based conference. Attendees were treated to a 1-day hackathon, 1-day of workshops and 2-days of world class content from 45+ serverless champions. We saw some of the brightest minds in the cloud take the stage during our stay in Hell\'s Kitchen, NY.\n                                </p>\n                                <a ui-sref="series.playlist({seriesUrl: \'serverlessconf\'})" class="btn btn--teal btn__roundRect">\n                                    Watch Videos\n                                </a>\n                                <a href="http://nyc.serverlessconf.io/" target="_blank" class="btn btn__roundRect btn-outline btn-default">\n                                    View Event\n                                </a>\n                            </div>\n                        </div>\x3c!--/.row--\x3e\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n    <section class="serverlessEvent serverlessEvent__dark">\n        <div class="container">\n                        <div class="row">\n                            <div class="col-sm-5 sEvent--col sEvent--col__imageLeft">\n                                <img src="/images/serverless/composition-austin.png" alt="Austin Serverlessconf 2017 attendees and speakers">\n                            </div>\n                            <div class="col-sm-7 sEvent--col sEvent--col__textRight">\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Status</span>\n                                    <span class="status-value status-value__completed">Completed</span>\n                                </h4>\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Date</span>\n                                    <span class="status-value">Apr 26-28, 2017</span>\n                                </h4>\n                                <hr class="micro">\n                                <h2 class="sEvent--heading">Austin, Texas</h2>\n                                <p>\n                                    36 glorious talks, along with 5 unique workshops over 3 days. World class speakers, panels, lightning talks, 2 days. Serverless Apps, Data Pipelines, &amp; Configuration. Just real world experience building things without harming servers.\n                                </p>\n                                <a href="https://www.youtube.com/playlist?list=PLnwBrRU5CSTmruZzR8Z06j3pGglBZcdDr" target="_blank" class="btn btn--teal btn__roundRect">\n                                    Watch Videos\n                                </a>\n                                <a href="http://austin.serverlessconf.io" target="_blank" class="btn btn__roundRect btn-outline btn-default">\n                                    View Event\n                                </a>\n                            </div>\n                        </div>\x3c!--/.row--\x3e\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n    <section class="serverlessEvent">\n        <div class="container">\n                        <div class="row">\n                            <div class="col-sm-6 col-sm-push-6 sEvent--col sEvent--col__imageRight">\n                                <img src="/images/serverless/composition-london.png" alt="London Serverlessconf 2016 attendees and speakers">\n                            </div>\n                            <div class="col-sm-6 col-sm-pull-6 sEvent--col sEvent--col__textLeft">\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Status</span>\n                                    <span class="status-value status-value__completed">Completed</span>\n                                </h4>\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Date</span>\n                                    <span class="status-value">Oct 26-28, 2016</span>\n                                </h4>\n                                <hr class="micro">\n                                <h2 class="sEvent--heading">London</h2>\n                                <p>\n                                    Over 400 serverless practitioners, enthusiasts, experts, and fans from Europe, USA and Asia attended this conference. Be it function-as-a-service, backend-as-a-service, or related patterns &amp; architectures. We heard use case, discuss architectures, learn about new products and features, and debate whether to rename serverless to Jeff.\n                                </p>\n                                <a href="https://www.youtube.com/playlist?list=PLnwBrRU5CSTmM4OsUzDaog2pqadQSxKBv" target="_blank" class="btn btn--teal btn__roundRect">\n                                    Watch Videos\n                                </a>\n                                <a href="http://london.serverlessconf.io" target="_blank" class="btn btn__roundRect btn-outline btn-default">\n                                    View Event\n                                </a>\n                            </div>\n                        </div>\x3c!--/.row--\x3e\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n\n    <section class="serverlessEvent serverlessEvent__dark">\n        <div class="container">\n                        <div class="row">\n                            <div class="col-sm-6 sEvent--col sEvent--col__imageLeft">\n                                <img src="/images/serverless/composition-tokyo.png" alt="Tokyo Serverlessconf 2016 attendees and speakers">\n                            </div>\n                            <div class="col-sm-6 sEvent--col sEvent--col__textRight">\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Status</span>\n                                    <span class="status-value status-value__completed">Completed</span>\n                                </h4>\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Date</span>\n                                    <span class="status-value">Sep 30 - Oct 1, 2016</span>\n                                </h4>\n                                <hr class="micro">\n                                <h2 class="sEvent--heading">Tokyo</h2>\n                                <p>\n                                    Over 400 attendees were present for our Tokyo conference, absorbing a keynote from Amazon\'s Olivier Klein. Keep an eye out for our next Tokyo conference announcement coming soon.\n                                </p>\n                                <a href="http://tokyo.serverlessconf.io" target="_blank" class="btn btn__roundRect btn-outline btn-default">\n                                    View Event\n                                </a>\n                            </div>\n                        </div>\x3c!--/.row--\x3e\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n    <section class="serverlessEvent">\n        <div class="container">\n                        <div class="row">\n                            <div class="col-sm-6 col-sm-push-6 sEvent--col sEvent--col__imageRight">\n                                <img src="/images/serverless/location-nyc.jpg" alt="NYC Serverlessconf 2016 attendees and speakers">\n                            </div>\n                            <div class="col-sm-6 col-sm-pull-6 sEvent--col sEvent--col__textLeft">\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Status</span>\n                                    <span class="status-value status-value__completed">Completed</span>\n                                </h4>\n                                <h4 class="sEvent--status">\n                                    <span class="status-label">Date</span>\n                                    <span class="status-value">May 25-27, 2016</span>\n                                </h4>\n                                <hr class="micro">\n                                <h2 class="sEvent--heading">New York \'16</h2>\n                                <p>\n                                    Serverlessconf is a community led conference focused on sharing experiences building applications using serverless architectures. Serverless architectures enable developers to express their creativity and to focus on meeting user needs... freed from the burden of the usual heavy lifting required to build scalable secure applications.\n                                </p>\n                                <a ui-sref="course({courseUrl: \'serverlessconf-nyc-2016\'})" class="btn btn--teal btn__roundRect">\n                                    Watch Videos\n                                </a>\n                            </div>\n                        </div>\x3c!--/.row--\x3e\n        </div>\x3c!--/.container--\x3e\n    </section>\n\n</main>\n\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer" class="serverlessFooter"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),a.put("app/public/slack.html",'<main>\n    <section id="slack-hero" class="slackMasthead p-y-0">\n        <gu-nav-shell></gu-nav-shell>\n\n        <div class="jumbotron">\n            <div class="container text-center">\n                <div ng-if="!vm.installedToSlack && !vm.errorInstalling">\n                    <h1 class="slackMasthead--heading">Learn the Cloud as a team</h1>\n                    <p class="slackMasthead--blurb">\n                        A Cloud Guru Bot helps individuals and teams to collaboratively prepare for the AWS certification using Slack.\n                        It can be invited to a team\'s slack channel, and then any individual can easily start an AWS learning session.\n                    </p>\n                </div>\n                <div ng-if="vm.installedToSlack">\n                    <h1 class="slackMasthead--heading">Installed A Cloud Guru Bot!</h1>\n                    <p class="slackMasthead--blurb">Good luck learning AWS as a team.</p>\n                </div>\n                <div ng-if="vm.errorInstalling">\n                    <h1 class="slackMasthead--heading">There was a problem installing <br>A Cloud Guru Bot to your team</h1>\n                    <p class="slackMasthead--blurb" h3>Please contact support for for help.</p>\n                </div>\n                <div class="slackMasthead--install" ng-if="!vm.installedToSlack">\n                    <a href="https://slack.com/oauth/authorize?&client_id=5170543734.212851405684&scope=bot">\n                        <img alt="Add to Slack" height="40" width="139" src="https://platform.slack-edge.com/img/add_to_slack.png" srcset="https://platform.slack-edge.com/img/add_to_slack.png 1x, https://platform.slack-edge.com/img/add_to_slack@2x.png 2x">\n                    </a>\n                </div>\n            </div>\n        </div>\n\n    </section>\n    <section class="slackUsage p-t-0">\n        <div class="container">\n            <div class="text-center">\n                <div class="slackUsage--info">\n                    <h1 class="m-b-lg">Take AWS quizzes inside Slack.</h1>\n                    <p class="t__xl m-b-lg">\n                        To start a quiz, simply type: @acloudguru quiz me!\n                    </p>\n                    <img class="slackUsage--info-image img-rounded img-responsive" ng-optimise-image="vm.usageImage" ng-optimise-image-width="700" ng-optimise-image-height="900">\n                </div>\n            </div>\x3c!--/.row--\x3e\n        </div>\x3c!--/.container--\x3e\n    </section>\n</main>\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),a.put("app/public/user-dashboard.html",'<main ng-class="{ \'dashboard__isMobile\': vm.isMobile }">\n    \x3c!-- Continue Watching Masthead --\x3e\n    <div class="jumbotron" ng-style="vm.mastheadStyles">\n\n        <gu-nav-shell></gu-nav-shell>\n\n        <div class="container">\n\n            <div ng-if="vm.nextComponentType === \'course\'">\n                <span class="userDashboard--continueWatchingMessage">\n                    <span ng-if="vm.nextComponent.started">\n                        Continue Watching / Chapter {{vm.nextComponent.section+1}}.{{vm.nextComponent.sequence+1}} - {{vm.nextComponent.title}}\n                    </span>\n                    <span ng-if="!vm.nextComponent.started">\n                        Start Watching / Chapter {{vm.nextComponent.section+1}}.{{vm.nextComponent.sequence+1}} - {{vm.nextComponent.title}}\n                    </span>\n                </span>\n                <h1 data-ellipsis ng-bind="vm.currentCourse.title"></h1>\n                <button ng-click="vm.goToComponent(vm.nextComponent)" class="btn btn--orange btnResume">\n                    <i class="fa fa-play"></i>\n                    <span ng-if="vm.nextComponent.started">\n                        Resume\n                    </span>\n                    <span ng-if="!vm.nextComponent.started">\n                        Start\n                    </span>\n                </button>\n            </div>\n\n            <div ng-if="vm.nextComponentType === \'series\'">\n                <span class="userDashboard--continueWatchingMessage">\n                    Suggested Video / {{vm.nextUpSeriesContent.activeEpisodes[0].title}}\n                </span>\n                <h1 data-ellipsis ng-bind="vm.nextUpSeriesContent.activeEpisodes[0].shortSummary"></h1>\n                <a ui-sref="series.view({ seriesUrl: vm.nextUpSeriesContent.seriesUrl, episodeUrl: vm.nextUpSeriesContent.activeEpisodes[0].episodeUrl })" class="btn btn--orange btnResume">\n                        <i class="fa fa-play"></i>\n                        Watch Now\n                </a>\n            </div>\n\n            <gu-dashboard-scorecard></gu-dashboard-scorecard>\n\n        </div>\n    </div>\n\n    \x3c!-- Courses, Series etc. --\x3e\n    <section class="userDashboard--rowGroup">\n\n        <div class="container">\n\n            <h1 class="CourseRow--Heading">Your Courses</h1>\n\n            <div ng-if="vm.yourCourses.length === 0" class="userDashboard--emptyState panel-dark">\n                <h4>Nothing found</h4>\n                <p>\n                    Looking to get started? Why not try an\n                    <a ui-sref="courses({ skillLevels: \'intro\' })">intro course</a>.\n                </p>\n                <a ui-sref="courses" class="btn btn--green">\n                    Browse Courses\n                    <i class="fa fa-angle-double-right"></i>\n                </a>\n            </div>\n\n        </div>\x3c!--/.container--\x3e\n\n        <div ng-if="vm.yourCourses.length > 0" class="container">\n            <div class="GuTileRow__unwrap">\n\n                <gu-tile-course ng-repeat="course in vm.yourCourses track by $index" course-title="course.title" summary="course.shortSummary" url-fragment="course.url" duration="course.duration" owned="true" artwork-key="course.artworkKey" type="\'course\'" course-id="course.uniqueid">\n                </gu-tile-course>\n\n            </div>\x3c!--GuTileRow--\x3e\n        </div>\n\n    </section>\n\n\n    <section class="userDashboard--rowGroup m-b-xxl">\n\n        <div class="container">\n\n            <h1 class="CourseRow--Heading">\n                <span class="t__orangeB">ACG</span> Original Series\n            </h1>\n\n            <hr>\n\n            <div class="GuSeriesRow" ng-repeat="series in vm.seriesList">\n\n                <a class="GuSeriesRow--TitleArea" ui-sref="series.playlist({seriesUrl: series.seriesUrl})">\n                    <img ng-optimise-image="vm.getSeriesArtwork(series.artworkKey)" ng-optimise-image-square="50" alt="">\n                    <div class="GuSeriesRow--TitleIndent">\n                        <h2>{{series.title}}</h2>\n                        <p>{{series.description}}</p>\n                    </div>\n                </a>\n                <div class="GuTileRow__unwrap">\n                    <gu-tile-series ng-repeat="episode in series.activeEpisodes" episode="episode" is-member="vm.isMember" series="series">\n                    </gu-tile-series>\n                </div>\x3c!--GuTileRow--\x3e\n\n            </div>\n\n            <a ui-sref="courses({ type: \'series\' })" class="btn btn-primary btn-block btn__Branded btn__RadiusSm p-y-md">\n                Show Me More Original Series\n            </a>\n\n        </div>\x3c!--/.container--\x3e\n\n    </section>\n\n    <a ui-sref="courses" class="userDashboard--browseMore">\n        <div class="container">\n            <h2>Looking for another course?</h2>\n            <p>\n                We\'ve got hundreds of hours of great cloud content, so kick start your learning by browsing our great courses today.\n            </p>\n            <button class="btn btn--orange btn__strong">Browse Courses</button>\n        </div>\n    </a>\n\n</main>\n\n\n\x3c!-- Start: Footer Section --\x3e\n<brand-partial src="footer"></brand-partial>\n\x3c!-- End: Footer Section --\x3e'),
a.put("app/public/why-join.html",'<main class="WhyJoin">\n    <div class="container">\n    <div class="simplePage--header">\n        <a href="/">\n            <img src="/images/logo-orange-and-white.png" alt="A Cloud Guru Logo (small)">\n        </a>\n    </div>\n\n    <div class="CheckoutMemberUpsell ignoreStickyFooter">\n        <div class="CheckoutMemberUpsell--Inner">\n            <img class="CheckoutMemberUpsell--CourseTiles" src="/images/checkout/course-tiles.png">\n            <div class="panel panel-default CheckoutMemberUpsell--Panel CheckoutMemberUpsell--Panel__Member">\n                <div class="panel-body">\n                    <div ng-if="vm.membershipPricing">\n                        <div ng-if="vm.membershipPricing.trial">\n                            <h1>Start Your Free Membership Trial</h1>\n                            <p>Unlock your free {{vm.membershipPricing.trial.duration}} {{vm.membershipPricing.trial.unit}} trial and experience this awesome members only content and tools</p>\n                        </div>\n                        <div ng-if="!vm.membershipPricing.trial">\n                            <h1>Become a member</h1>\n                        </div>\n                        <hr>\n                    </div>\n                    <div class="row">\n                        <div class="col col-sm-6">\n\n                            <h3>What Members Get</h3>\n                            <ul class="Checklist Checklist__green">\n                                <li>\n                                    <strong>Unlimited access</strong> to our entire course catalogue\n                                </li>\n                                <li>\n                                    Exclusive members-only series such as\n                                    <strong>Maker Labs</strong>,\n                                    <strong>Release Review</strong> and\n                                    <strong>ACG Biographies</strong>\n\n                                </li>\n                                <li>\n                                    Watch anywhere with offline mode for our mobile apps\n                                </li>\n                                <li>\n                                    Exam Simulator for AWS Associate Courses\n                                </li>\n                                <li>\n                                    Membership swag: t-shirt and sticker pack\n                                    <span class="CheckoutMemberUpsell--AnnualOnly">&mdash; For annual members only</span>\n                                </li>\n                            </ul>\n\n                            <div ng-if="vm.membershipPricing">\n                                <h3>All This Great Value</h3>\n                                <div ng-if="vm.paymentType == \'annual\'">\n                                    <p class="pretty-price pretty-price--value">\n                                        <sup>{{vm.membershipPricing.currencySymbol}}</sup>\n                                        <span>{{vm.membershipPricing.annual.price / 12}}</span>\n                                        <sup>/mo</sup>\n                                    </p>\n                                    <p class="WhyJoin--BilledAs">\n                                        Billed annually as {{vm.membershipPricing.currencySymbol}}{{vm.membershipPricing.annual.price}} {{vm.membershipPricing.currencyCode}}\n                                    </p>\n                                    <small class="WhyJoin--BilledAsDetails">\n                                        Save {{vm.membershipPricing.annual.discountPercent}}% and get a free swag pack by paying annually.<br>\n                                        Normally {{vm.membershipPricing.currencySymbol}}{{vm.membershipPricing.monthly.price}} when paid monthly.\n                                    </small>\n                                </div>\n                                <div ng-if="vm.paymentType == \'monthly\'">\n                                    <p class="pretty-price pretty-price--value">\n                                        <sup>{{vm.membershipPricing.currencySymbol}}</sup>\n                                        <span>{{vm.membershipPricing.monthly.price}}</span>\n                                        <sup>/mo</sup>\n                                    </p>\n                                    <p class="WhyJoin--BilledAs">\n                                        Billed monthly.\n                                    </p>\n                                    <small class="WhyJoin--BilledAsDetails">\n                                        Or, you can save {{vm.membershipPricing.annual.discountPercent}}% and get a free swag pack by paying annually.<br>\n                                        Annual price is just {{vm.membershipPricing.currencySymbol}}{{vm.membershipPricing.annual.price}} {{vm.membershipPricing.currencyCode}}\n                                    </small>\n                                </div>\n                            </div>\n                        </div>\x3c!--/.col--\x3e\n                        <div class="col col-sm-6 WhyJoin--UserCol">\n\n                            <div ng-if="vm.profileLoaded && vm.isMember" class="WhyJoin--AlreadyMember">\n                                <h3>Great Work!</h3>\n                                <span class="btn btn__GreenCTA btn__noInteraction">\n                                    <i class="fa fa-check"></i>\n                                    You\'re already a member!\n                                </span>\n                                <p>\n                                    We don\'t know how you ended up here, so why not\n                                    <a ui-sref="dashboard" class="link">go back to your dashboard</a>.\n                                </p>\n                            </div>\n\n                            <gu-why-join-user ng-if="vm.profileLoaded && !vm.isMember" user="vm.user" payment-type="vm.paymentType" promotion-id="vm.promotionId" token="vm.token" membership-pricing="vm.membershipPricing">\n\n                        </div>\x3c!--/.col--\x3e\n                    </div>\x3c!--/.row--\x3e\n                </div>\x3c!--/.panel-body--\x3e\n            </div>\x3c!--/.panel--\x3e\n        </div>\n    </div>\n\n</div></main>')}]),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){e.cancelOnReady(r),e.cancelOnNotReady(z)}function r(){t(),u(),v(),s()}function s(){return j.isMember().then(function(a){B.isMember=a})}function t(){B.seriesList=p.series,B.loadedStates.series=!0,B.deferLoading.series&&x()}function u(){g.getAccessibleCourseListing().then(function(a){B.yourCourses=a,B.loadedStates.yourCourses=!0})}function v(){var a=p.nextCourseComponent,b=d.get(a,"components[0]");b?(B.nextComponentType="course",B.nextComponent={started:"CONTINUE"===a.action,componentIdentifier:b.componentId,sectionIdentifier:b.sectionId,section:b.sectionSequence,sequence:b.componentSequence,title:b.title,url:b.url},B.courseUrl=a.courseUrl,w(a.courseId)):x()}function w(a){return l.getCourseById(a).then(function(a){B.currentCourse=a,B.courseBanner=i.getBannerUrl(a.artworkKey),B.mastheadStyles={"background-image":"url("+B.courseBanner+")"}})}function x(){B.loadedStates.series?(B.deferLoading.series=!1,B.nextComponentType="series",B.nextUpSeriesContent=d.find(B.seriesList,"seriesUrl","aws-this-week")):B.deferLoading.series=!0}function y(a){m.getComponentUrl(B.courseUrl,a).then(function(a){c.path(a)})}function z(){b.go("home")}function A(a){return i.getSquareUrl(a)}a.$on("$destroy",q);var B=this;B.nextComponent=null,B.userCertifications=[],B.loadedStates={series:!1,yourCourses:!1,yourBundles:!1,yourPosts:!1,userCertifications:!1},B.deferLoading={course:!1,series:!1},B.isMember=!1,B.goToComponent=y,B.getSeriesArtwork=A,function(){B.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e.onNotReady(z),e.onReady(r)}()}a.$inject=["$scope","$state","$location","lodash","guruAuthService","authService","currentUserAccessService","courseService","artworkService","roleService","graphqlService","courseMetadataService","courseComponentService","profileService","organisationService","dashboardData"],angular.module("app.public").controller("UserDashboardController",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){return a.isAuthenticated()?c.getProfile().then(function(a){return j.user=a,j.userProfileError=!1,a}).catch(function(){j.userProfileError=!0}).then(h).finally(function(){j.profileLoaded=!0}):(j.user=null,void(j.profileLoaded=!0))}function h(){return b.isMember().then(function(a){return j.isMember=a,a})}function i(){e.getLocationInfo().then(function(a){return a}).then(function(a){return d.getPricingObject(a.currencyCode,j.promotionId,j.token)}).then(function(a){j.membershipPricing=a})}var j=this;j.profileLoaded=!1,j.paymentType=f.paymentType||"annual",j.token=f.token,j.promotionId=f.promotionId,function(){g(),i()}()}a.$inject=["authService","roleService","profileService","membershipPricingService","locationDetectionService","$stateParams"],angular.module("app.members").controller("WhyJoinController",a)}(),function(){"use strict";angular.module("app.user",["app.core","app.core.brand"])}(),function(){"use strict";function a(a,b,c,d,e){function f(){return e.go("public.register")}function g(){c.signIn(!1,null,{rememberLastLogin:!1})}var h=this;h.completeProfile=f,h.signIn=g,h.verifyingEmail=b.email,h.signedInEmail=c.getProfile()?c.getProfile().email:null,h.isSignedInAsVerifyingUser=h.verifyingEmail===h.signedInEmail,function(){h.isSignedInAsVerifyingUser||c.signOut()}()}a.$inject=["$scope","$stateParams","authService","guruAuthService","$state"],angular.module("app.public").controller("EmailVerificationSuccessController",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(){"sending"!==i.verificationEmailState&&(i.verificationEmailState="sending",e.sendVerificationEmail().then(function(){i.verificationEmailState="sent",h&&c.cancel(h),h=c(function(){i.verificationEmailState="unsent"},18e4)}).catch(function(){i.verificationEmailState="failed"}))}function g(){d.signOut(),a.go("home")}var h=null,i=this;i.emailAddress=null,i.verificationEmailState="unsent",i.sendVerificationEmail=f,i.logout=g,function(){i.emailAddress=b.emailAddress||"Unknown Email"}()}a.$inject=["$state","$stateParams","$timeout","authService","profileService"],angular.module("app.public").controller("EmailVerificationController",a)}(),function(){"use strict";function a(){return{scope:{score:"=",size:"=?"},controller:b,transclude:!0,templateUrl:"app/user/gu-reputation-label.html"}}function b(a,b){a.size||(a.size="xs"),a.$watch("score",function(c){var d=b.getLevel(c);a.reputationClass="reputationLevel__"+d.levelAsNumber})}b.$inject=["$scope","reputationService"],angular.module("app.user").directive("guruReputationLabel",a)}(),function(){"use strict";function a(a,b,c,d){function e(a){k.userId&&(l=k.userId,g(),h())}function f(){l&&k.userCertDict&&k.certificationCount&&(k.certsLoaded||j())}function g(){k.isLoaded=!1,b.getProfileObjectFor(l).then(function(a){k.userProfile=a,k.isLoaded=!0,h()})}function h(){k.userCertDict&&(k.certificationCount=k.userCertDict[l],i())}function i(){k.certificationCount?k.certifications=new Array(k.certificationCount):k.certifications=[]}function j(){k.isLoadingCerts=!0,d.getCertificationsForUser(l).then(function(a){k.certifications=a,k.isLoadingCerts=!1,k.certsLoaded=!0})}var k=this,l=null;k.isLoaded=!1,k.isLoadingCerts=!1,k.certsLoaded=!1,k.userProfile=null,k.$onChanges=e,k.mouseEnter=f}a.$inject=["$scope","publicProfileService","certificationService","certificationUserDictionaryService"],angular.module("app.user").component("guShortUserProfile",{bindings:{userId:"<",inlineMode:"<",userCertDict:"<"},controller:a,controllerAs:"vm",transclude:!0,templateUrl:"app/user/gu-short-user-profile.html"})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){d.cancelOnReady(j)}function j(){k(),e.getUserOrganisationMemberships().then(function(a){console.log("User orgs",a);var b=!a||!a.length;m.canJoinOrg=b,m.isAlreadyMember=!b&&a[0].$id===n}),c.track("Viewed Organisation Join Invitation")}function k(){try{var a=o.split(":"),b=JSON.parse(atob(a[1]));n=b.orgId,m.orgName=b.name,m.isCodeError=!1}catch(a){m.isCodeError=!0,m.orgName=null}}function l(){m.isJoined=!1,m.isJoining=!0,m.isJoinError=!1,e.joinCurrentUserToOrganisation(n,m.orgName,o).then(function(){m.isJoining=!1,m.isJoined=!0,a.clearCachedPromotion(),h.refreshToken(),c.track("Joined Organisation")}).catch(function(a){console.error(a),m.isJoinError=!0,m.isJoined=!1,m.isJoining=!1,m.joinErrorMessage="Unexpected Error",c.track("Failed Joining Organisation")})}var m=this,n=null,o=b.secretCode;m.orgName=null,m.canJoinOrg=null,m.isAlreadyMember=null,m.isCodeError=!1,m.profile=f,m.join=l,g.$on("$destroy",i),function(){d.onReady(j)}()}a.$inject=["promotionService","$stateParams","analyticsService","guruAuthService","organisationService","profileService","$scope","refreshTokenService"],angular.module("app.public").controller("JoinOrganisationController",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(a){return b.queryMemberActivity(g.organisationId,a)}var g=this;g.organisationId=c.organisationId,g.pagedTableHelper=e.init(10,"last_activity",!0,f),a.$watch("vm.pagedTableHelper.pageNumber",g.pagedTableHelper.changePageNumber),function(){d.track("Viewed Organisation Members")}()}a.$inject=["$scope","organisationAdminService","$stateParams","analyticsService","pagedTableHelperService"],angular.module("app.user").controller("OrganisationActivityController",a)}(),function(){"use strict";function a(a,b,c,d,e){var f=this;f.organisationId=c.organisationId,f.isLoaded=!1,f.isError=!1,function(){d.track("Viewed Organisation Custom Reports");var b={orgId:f.organisationId};e.sendQuery("query customReport($orgId: String!) {organisationCustomReport(orgId: $orgId) { periscopeSignedUrl }}",b).then(function(b){var c=b.data.organisationCustomReport;f.periscopeEmbedUrl=a.trustAsResourceUrl(c.periscopeSignedUrl),f.isLoaded=!0}).catch(function(a){f.isError=!0})}()}a.$inject=["$sce","$scope","$stateParams","analyticsService","graphqlService"],angular.module("app.user").controller("OrganisationCustomReportsController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){f.cancelOnReady(j)}function j(){e.all([b.getOrganisationById(m.organisationId).then(function(a){m.organisation=a,m.subscriptionStartDate=new Date(m.organisation.subscriptionStartDate),m.subscriptionEndDate=new Date(m.organisation.subscriptionEndDate)}),c.getPointsBalance(m.organisationId).then(function(a){m.pointsBalance=a}),b.getOrganisationFromGraphql().then(function(a){m.organisation=h.merge(m.organisation,a)})]).then(function(){k(),m.isLoaded=!0})}function k(){if(m.tabs=[{title:"Members",route:"organisation-dashboard.members",active:!1},{title:"Activity",route:"organisation-dashboard.activity",active:!1},{title:"Transactions",route:"organisation-dashboard.transactions",active:!1}],m.organisation){m.organisation.usePoints&&m.tabs.push({title:"Top-Ups",route:"organisation-dashboard.points-top-ups",active:!1});var a=m.organisation.reporting;a&&a.periscopeEnabled&&a.periscopeDashboardId&&m.tabs.push({title:"Custom Reports",route:"organisation-dashboard.custom-reports",active:!1})}l()}function l(){g.current&&g.current.name&&h.forEach(m.tabs,function(a){a.active=a.route===g.current.name})}var m=this;m.isLoaded=!1,m.organisationId=d.organisationId,m.organisation=null,m.pointsBalance=0,m.tabs=[],a.$on("$destroy",i),a.$on("$stateChangeSuccess",l),function(){k(),f.onReady(j)}()}a.$inject=["$scope","organisationService","organisationAdminService","$stateParams","$q","guruAuthService","$state","lodash"],angular.module("app.public").controller("OrganisationDashboardController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){h.cancelOnReady(u)}function q(a){l.go("organisation-dashboard.activity",{where:JSON.stringify({full_name:a.full_name}),sort:"overall_progress",reverse:!0,pageNumber:1})}function r(a){var b=i.get(a,"search.predicateObject.query","");z.searchParams=b,z.isLoaded=!1;var c="organisation_users_"+z.organisationId;return o.search(c,b,{attributesToRetrieve:["*"],highlightPreTag:'<span class="search-highlight">',highlightPostTag:"</span>",hitsPerPage:i.get(a,"pagination.totalItemCount"),page:i.get(a,"pagination.start")||0},!0,!0).then(function(a){return{data:i.map(a.hits,s),totalCount:a.nbHits}}).finally(function(){z.isLoaded=!0})}function s(a){return Object.assign({},a,{full_name:a.name,email:i.get(a,"_highlightResult.email.value"),name:i.get(a,"_highlightResult.name.value"),displayname:i.get(a,"_highlightResult.displayname.value")})}function t(a){return!(z.organisation&&z.organisation.roles&&z.organisation.roles.administrator&&!0===z.organisation.roles.administrator[a])}function u(){b.getOrganisationById(z.organisationId).then(function(a){z.organisation=a})}function v(a,b){if(b===j.getUserId()&&"user"===a.toLowerCase())return void alert("You cannot remove yourself as an administrator of the organisation.");"administrator"===a.toLowerCase()?c.grantRoleForUser(z.organisationId,b,"administrator"):c.revokeRoleForUser(z.organisationId,b,"administrator")}function w(a){var b={orgId:z.organisationId,userId:a};return d.sendQuery("mutation MemberQuery($orgId: String!, $userId: String!) { removeUserFromOrganisation(orgId: $orgId, userId: $userId) { userId, displayname, name, email } }",b).then(function(b){if(!b.data.removeUserFromOrganisation)return void(z.isError=!0);i.remove(z.pagedTableHelper.displayed,function(b){return a===i.get(b,"user_id")})})}function x(){var a={organisation:z.organisation,joinCodeCount:z.organisation?i.keys(z.organisation.joinCodes).length:0,orgId:z.organisationId,copyToClipboard:y};n.open({template:"app/user/organisation-dashboard/organisation-invite-members-dialog.html",className:"ngdialog-theme-default",closeByEscape:!0,data:a})}function y(a){document.querySelector("#"+a).select();try{document.execCommand("copy")}catch(a){}}var z=this;z.isLoaded=!1,z.organisationId=e.organisationId,z.organisation=null,z.pagedTableHelper=m.init(20,"name",!1,r),z.isLMSAdmin=!1,z.searchParams=null,z.isNotAdministrator=t,z.openMemberActivity=q,z.inviteMembers=x,z.changeRole=v,z.removeOrgMember=w,a.$on("$destroy",p),a.$watch("vm.pagedTableHelper.pageNumber",z.pagedTableHelper.changePageNumber),function(){g.track("Viewed Organisation Members"),h.onReady(u),h.onReady(r),k.isAdmin(j.getUserId()).then(function(a){z.isLMSAdmin=a})}()}a.$inject=["$scope","organisationService","organisationAdminService","graphqlService","$stateParams","$q","analyticsService","guruAuthService","lodash","authService","roleService","$state","pagedTableHelperService","ngDialog","searchService"],angular.module("app.public").controller("OrganisationMembersController",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(){g.totalPointsPurchased=e.sumBy(g.pointsPurchaseHistory,"amount")}var g=this;g.organisationId=c.organisationId,a.$watch("vm.pointsPurchaseHistory",f),function(){d.track("Viewed Organisation Top Ups"),b.getPointsPurchaseHistory(g.organisationId).then(function(a){g.pointsPurchaseHistory=a})}()}a.$inject=["$scope","organisationAdminService","$stateParams","analyticsService","lodash"],angular.module("app.user").controller("OrganisationPointsTopUpsController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(a){console.log(a);var c={orgId:l.organisationId,queryOpts:JSON.stringify(a)};return l.isLoaded=!1,b.sendQuery("query OrgQuery($orgId: String!, $queryOpts: String!) { purchasesOrganisationQuery(orgId: $orgId, queryOpts: $queryOpts) { totalCount, data { userId, buyerName, buyerDisplayName, purchasedTimestamp, currency, total, description } } }",c).then(function(a){var b=a.data.purchasesOrganisationQuery;return b?(l.purchases=b.data,l.isLoaded=!0,{data:b.data,totalCount:b.totalCount}):void(l.isError=!0)})}var l=this;l.isLoaded=!1,l.organisationId=c.organisationId,l.organisation=null,l.pagedTableHelper=j.init(10,"purchased",!0,k),a.$watch("vm.pagedTableHelper.pageNumber",l.pagedTableHelper.changePageNumber),function(){e.track("Viewed Organisation Transactions")}()}a.$inject=["$scope","graphqlService","$stateParams","$q","analyticsService","guruAuthService","lodash","authService","$state","pagedTableHelperService"],angular.module("app.public").controller("OrganisationTransactionsController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(){E.hasChanged=!0}function s(a){return a||""}function t(){var a=n.getProfile();if(a.identities.length>0){var b=a.identities[0].provider;if(b)return b.toLowerCase()}return null}function u(a,b){return a=(a||"").toLowerCase().replace(/[^a-z0-9]+/g,"-"),b?a.slice(0,15)+Math.floor(9999*Math.random()):a}function v(){var a=_.get(q,"data.profile.organisation");if(a){var b=_.get(a,"features");E.organisationName=a.name,E.requireEmployeeId=!0===b.requireEmployeeId,E.restrictProfileEdit=!0===b.restrictProfileEdit,E.restrictSocial=!0===b.restrictSocial}}function w(){var a=t(),b=n.getProfile();E.profileObj.email=s(b.email),E.profileObj.name=s(b.given_name&&b.family_name?b.given_name+" "+b.family_name:b.name),E.profileObj.useCustomPicture=!1,E.profileObj.picture=null,E.profileObj.currentPicture=s(b.picture),E.profileObj.originalPicture=E.profileObj.picture;var c=null,d=null,e=null,f=b.name,g=b.name.split("@"),f=0===g.length?b.name:g[0],h=u(f,E.restrictProfileEdit),i=null,j=null;"facebook"===a?(c=b.bio?b.bio:null,d=b.link,f=b.name):"twitter"===a?(c=b.description,f=b.screen_name,e="http://twitter.com/"+b.screen_name):"linkedin"===a?(c=b.summary,i=b.publicProfileUrl):"github"===a&&(j=b.html_url,f=b.nickname),E.profileObj.urlTwitter=s(e),E.profileObj.urlFacebook=s(d),E.profileObj.urlLinkedIn=s(i),E.profileObj.urlGitHub=s(j),E.profileObj.biographyMarkdownModel.input=s(c),E.profileObj.displayname=s(f),E.profileObj.handle=s(h);var k=null,l=null;"linkedin"===a?b.positions&&b.positions.values&&b.positions.values.length>0&&(b.positions.values[0].company&&(k=b.positions.values[0].company.name),l=b.positions.values[0].title):(b.work&&b.work.length>0&&b.work[0].employer&&b.work[0].employer.name&&(k=b.work[0].employer.name),b.work&&b.work.length>0&&b.work[0].position&&b.work[0].position.name&&(l=b.work[0].position.name)),E.profileObj.employer=s(k),E.profileObj.employer=null,E.profileObj.jobtitle=s(l),E.hasChanged=!1,E.isLoaded=!0}function x(a){var b=n.getProfile();E.profileObj.displayname=a.displayname,E.profileObj.email=a.email,E.profileObj.name=a.name,E.profileObj.biographyMarkdownModel.input=a.bio,E.profileObj.employeeId=a.employeeId,E.profileObj.employer=a.employer,E.profileObj.jobtitle=a.jobTitle,E.profileObj.urlTwitter=a.twitterUrl,E.profileObj.urlFacebook=a.facebookUrl,E.profileObj.urlLinkedIn=a.linkedinUrl,E.profileObj.urlGitHub=a.githubUrl,E.profileObj.picture=null,E.profileObj.currentPicture=a.picture,E.profileObj.originalPicture=a.picture,E.profileObj.useCustomPicture=a.picture!==b.picture}function y(){var a=E.invalidDisplayName||E.invalidHandle||!E.profileObj.email||!E.profileObj.name||E.requireEmployeeId&&!E.profileObj.employeeId||E.userProfile.$error.pattern;return E.isSaving||!E.hasChanged&&!E.isRegisterMode||a}function z(){E.showDisplayNameClash=!1,E.isSaving=!0;var a={displayname:E.profileObj.displayname,bio:E.profileObj.biographyMarkdownModel.output,useCustomPicture:E.profileObj.useCustomPicture,picture:E.profileObj.picture||E.profileObj.currentPicture,employeeId:E.profileObj.employeeId,employer:E.profileObj.employer,jobTitle:E.profileObj.jobtitle,twitterUrl:E.profileObj.urlTwitter,facebookUrl:E.profileObj.urlFacebook,linkedinUrl:E.profileObj.urlLinkedIn,githubUrl:E.profileObj.urlGitHub},b=null;E.isRegisterMode?(a.email=E.profileObj.email,a.name=E.profileObj.name,b=j.registerProfile(E.profileObj.handle,a,null)):b=j.updateProfile(a),b.then(function(a){E.isRegisterMode||x(a),E.isSaving=!1,E.showValidationError=!1,E.showDisplayNameClash=!1,E.hasChanged=!1,E.isLoaded=!0,h.create({className:"success",content:"Profile saved successfully!",timeout:3e3}),A()}).catch(function(a){if(E.isSaving=!1,E.showValidationError=!0,E.isLoaded=!0,"handled"===a.type){var b=g.keyBy(a.messages,"key"),c=b.handle;E.invalidHandle=!0,E.invalidHandleMessage=c?c.message:null}})}function A(){if(E.isRegisterMode)return l.track("complete-registration"),d.go("courses");l.track("Updated User Profile")}function B(){if(!E.updatingHandle){E.handleDialogData.checkHandleAndSave=function(a,b){E.handleDialogData.savingHandle=!0,E.handleDialogData.errors={};var c=j.validateHandle(a);if(c.error)return E.handleDialogData.errors.invalidHandle=!0,E.handleDialogData.errors.invalidHandleMessage=c.message,void(E.handleDialogData.savingHandle=!1);j.setHandle(a).then(function(a){if(!a)return E.handleDialogData.errors.invalidHandle=!0,E.handleDialogData.errors.invalidHandleMessage="Unable to save your handle. Please try again.",void(E.handleDialogData.savingHandle=!1);E.profileObj.handle=a.handle,E.handleDialogData.savingHandle=!1,b()}).catch(function(a){"handled"===a.type&&(E.handleDialogData.errors.invalidHandle=!0,E.handleDialogData.errors.invalidHandleMessage=a.messages[0].message,E.handleDialogData.savingHandle=!1)})},E.handleDialogData.form.handle=E.profileObj.handle,E.handleDialogData.getProfileUrl=D;i.open({template:"app/user/profile-handle-update-dialog.html",className:"ngdialog-theme-default",closeByEscape:!0,data:E.handleDialogData})}}function C(){if(E.profileObj.useCustomPicture)E.profileObj.picture=E.profileObj.originalPicture;else{var a=n.getProfile();E.profileObj.picture=a.picture}}function D(a){return d.href("app.public-profile",{displayName:a},{absolute:!0})}var E=this;E.profileObj={},E.profileObj.biographyMarkdownModel={input:null,output:null},E.hasChanged=!1,E.isLoaded=!1,E.profileNotFound=!1,E.showDisplayNameClash=!1,E.showValidationError=!1,E.isRegisterMode=d.current.data.isRegisterMode,E.isSaving=!1,E.updatingHandle=!1,E.handleDialogData={form:{},errors:{}},E.invalidHandle=!0,E.isSaveDisabled=y,E.saveProfile=z,E.toggleCustomPicture=C,E.recordChange=r,E.detectProvider=t,E.loadProfileObjectFromProvider=w,E.getProfileUrl=D,E.showHandleDialog=B,E.twitterUrlPattern="\\http(?:s)?://(?:www.)?twitter.com/(.+)/?",E.githubUrlPattern="\\http(?:s)?://(?:www.)?github.com/(.+)/?",E.facebookUrlPattern="\\http(?:s)?://(?:www.)?facebook.com/(.+)/?",E.linkedinUrlPattern="\\http(?:s)?://(?:www.)?linkedin.com/in/(.+)/?",E.photoUrlPattern="\\http(?:s)?://.*(jpeg|jpg|png)",function(){v(),E.isRegisterMode?w():j.getProfileAndHandle().then(function(a){return E.isRegisterMode&&a.isRegistered?void d.go("app.profile"):a?(E.profileObj.handle=a.handle,void x(a)):(E.isLoaded=!0,void(E.profileNotFound=!0))}).then(function(){E.hasChanged=!1,E.isLoaded=!0}),l.track("Viewed User Profile"),a.$on("$locationChangeStart",function(a){E.hasChanged&&(confirm("You haven't saved your changes. Are you sure you want to leave this page?")||a.preventDefault())}),a.$watch("vm.profileObj.displayname",function(a){return a?a.length<2||a.length>25?(E.invalidDisplayName=!0,void(E.invalidDisplayNameMessage="Your display name must be between 2 and 25 characters")):void(E.invalidDisplayName=!1):(E.invalidDisplayName=!0,void(E.invalidDisplayNameMessage="Please choose a display name"))}),a.$watch("vm.profileObj.handle",function(a){var b=j.validateHandle(a);b.error?(E.invalidHandle=!0,E.invalidHandleMessage=b.message):E.invalidHandle=!1})}()}a.$inject=["$scope","$q","$timeout","$state","$stateParams","$location","lodash","ngToast","ngDialog","profileService","organisationService","analyticsService","roleService","authService","certificationService","brandConfig","organisationDetails"],angular.module("app.public").controller("ProfileController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(a){c.all([q.getUsersActiveCertifications(a),q.getAvailableCertifications()]).then(function(a){s(a[0],a[1])})}function s(a,b){var c=d.keyBy(a,"certificationId"),e=d.map(b,function(a){return d.assign({},a,{owned:!!c[a.id]})});e=d.map(e,function(a){var b="CompTIA"===a.provider||"Linux Professional Institute"===a.provider,c=b?"Linux":a.provider;return d.assign({},a,{provider:c})}),B.userCertifications=a,B.groupedCertOptions=d.groupBy(e,"provider")}function t(a){n.fetchThreads({type:"question",rank:"top",hitsPerPage:5,distinct:!1,author:a,isDeleted:!1}).then(function(a){B.popularQuestions=a.hits,B.questionCount=a.nbHits}),n.fetchThreads({type:"answer",rank:"top",hitsPerPage:3,distinct:!1,author:a,isDeleted:!1}).then(function(a){B.popularAnswers=a.hits,B.answerCount=a.nbHits})}function u(a){o.getProfileObjectFor(a).then(function(a){B.fbProfile=a||{},B.fbProfile.voteSum||(B.fbProfile.voteSum=0);var b=d(B.fbProfile.tagVoteSums).pickBy().map(function(a){return{name:a.tagId,count:a.voteSum}}).sortBy("count").reverse().take(20).value();B.fbProfile.sortedTags=b})}function v(a){return a.voteSum?-a.voteSum:0}function w(a){B.isCurrentUser=k.isAuthenticated()&&a===k.getUserId()}function x(a){if(A(a),a.picture=i.handleProfileImage(a.picture,250),B.publicProfile=a,!a)return void(B.profileDoesNotExist=!0);B.usesSocialMedia=B.publicProfile.facebookUrl||B.publicProfile.twitterUrl||B.publicProfile.linkedinUrl||B.publicProfile.githubUrl,B.isLoaded=!0,B.userId=a.userId,r(B.userId),t(B.userId),u(B.userId)}function y(){B.failedLoading=!0}function z(){C=null,o.getProfileObjectForHandle(b.displayName).then(x).catch(y)}function A(a){if(a){if(a.displayname){var b=" - A Cloud Guru Profile";e.setTitle(a.displayname,b),e.setTag("og:title",a.displayname+b),e.setTag("profile:username",a.displayname)}if(a.jobtitle){var c="";c=a.bio?l.stripHtml(f.makeHtml(a.bio)):a.jobtitle+(a.employer?" at "+a.employer:""),e.setTag("description",c),e.setTag("og:description",c)}if(a.picture){var d=m.getOptimisedUrl(a.picture,{imageSquareSize:200});e.setTag("og:image",d)}e.setTag("og:type","profile")}}var B=this,C=null;B.publicProfile=null,B.fbProfile={},B.isLoaded=!1,B.failedLoading=!1,B.profileDoesNotExist=!1,B.popularAnswers=null,B.popularQuestions=null,B.userId=null,B.isCurrentUser=!1,B.usesSocialMedia=!1,B.voteOrder=v,a.$watch("vm.userId",w),function(){z(),j.track("Viewed Public User Profile",{displayName:b.displayName}),p.getActiveTags().then(function(a){B.tags=a})}()}a.$inject=["$scope","$stateParams","$q","lodash","ngMeta","markdownConverter","questionService","answerService","profileService","analyticsService","authService","utilsService","optimiseImageService","forumService","publicProfileService","tagService","certificationService"],angular.module("app.public").controller("PublicProfileController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){return!(!G.requireEmployeeId||G.profileObj.employeeId)||(G.isSaving||!G.hasChanged)}function q(){a.$on("$locationChangeStart",function(a){if(G.hasChanged){confirm("You haven't saved your changes. Are you sure you want to leave this page?")||a.preventDefault()}})}function r(a){switch(a){case"google-oauth2":return"google";case"windowslive":return"windows";default:return a}}function s(a){switch(a){case"google":return"#4285F4";case"windows":return"#00A1F1";case"twitter":return"#1DA1F2";case"github":return"#24292E";case"facebook":return"#3B5998";case"linkedin":return"#0077B5";default:return"#a6a6a6"}}function t(){var a=_.get(f,"data.profile.organisation");if(a){var b=_.get(a,"features");G.restrictProfileEdit=!0===b.restrictProfileEdit}}function u(a){if(-1===l.getUserId().indexOf(a.user_id)&&void 0!==a.profileData){var b=r(a.connection);return{connection:b,provider:a.provider,userId:a.user_id,email:a.profileData?a.profileData.email:null,
name:a.profileData.screen_name?a.profileData.name:null,photo:a.profileData?a.profileData.picture:null,colour:s(b)}}}function v(){var a=l.getProfile().identities||null;G.userConnections=h.map(a,function(a){return a.connection})}function w(){G.loaded=!1,i.getProfile().then(function(a){G.profileObj.name=a.name,G.profileObj.email=a.email,G.profileObj.employeeId=a.employeeId;var b=l.getProfile().identities||null;v(),G.loaded=!0,null!==b&&(G.userIdentities=h.map(b,u))}),i.hasLoaded.promise.then(function(){m.getUserOrganisationMemberships().then(function(a){G.organisations=a,G.isOrganisationsLoaded=!0,angular.forEach(a,function(a){a.requireEmployeeId&&(G.requireEmployeeId=!0)})})})}function x(){return i.updateProfile(G.profileObj).then(function(){G.isSaving=!1,G.hasChanged=!1})}function y(){e.open({templateUrl:"app/user/settings/password-reset-modal.html",controller:"PasswordResetModalController",controllerAs:"vm"})}function z(){e.open({templateUrl:"app/user/settings/email-update-modal.html",controller:"EmailUpdateModalController",controllerAs:"vm"}).result.then(function(){g.create({className:"success",content:"Email address updated!"}),G.loaded=!1,i.getProfile().then(function(a){l.signOut()})})}function A(){G.hasChanged=!0}function B(){G.emailWarning=!0}function C(){v(),l.linkPasswordAccount(G.userConnections)}function D(){v(),l.createPasswordAccount(G.userConnections)}function E(a,b,c){confirm("Are you sure you want to unlink this account?")&&l.unlinkAccount(a,b).then(function(a){a&&G.userIdentities.splice(c,1)})}function F(){var a=h.findIndex(G.userIdentities,function(a){return a&&"auth0"===a.provider});G.userIdentities[a]&&E("auth0",G.userIdentities[a].userId,a)}var G=this;G.isSaving=!1,G.profileObj={},G.emailWarning=!1,G.isEmailUser=l.isEmailUser,G.getProvider=l.getProvider,G.hasAuth0Connection=l.hasAuth0Connection,G.organisations=[],G.isOrganisationsLoaded=!1,G.isSaveDisabled=p,G.saveSettings=x,G.recordChange=A,G.changePassword=y,G.changeEmail=z,G.enableEmailNote=B,G.linkAccount=C,G.createPasswordAccount=D,G.unlinkAccount=E,G.removeEmailPass=F,function(){t(),i.data?w():k.onReady(w),q(),j.track("Viewed User Account")}()}a.$inject=["$scope","$state","$rootScope","$timeout","$uibModal","organisationDetails","ngToast","lodash","profileService","analyticsService","guruAuthService","authService","organisationService","auth0ProfileService","authTokenService"],angular.module("app.user").controller("AccountSettingsController",a)}(),function(){"use strict";function a(a,b,c,d){function e(){c.dismiss("cancel")}function f(){h.emailMismatch=h.inputModel.confirmEmailAddress!==h.inputModel.emailAddress}function g(){h.hasAttemptedSubmit=!0,h.form.emailAddress.$valid&&h.form.confirmEmailAddress.$valid&&!h.emailMismatch&&(h.serversideErrors=[],h.isPosting=!0,d.sendQuery("                 mutation UpdateUserEmail($email: String!, $emailVerified: Boolean) {                     updateUserEmail(email: $email, emailVerified: $emailVerified) {                         errors {                             messages {                                 key,                                 message                             }                         },                         user {                             userId,                             organisationId,                             displayname,                             name,                             email,                             picture,                             bio,                             employeeId,                             employer,                             jobTitle,                             twitterUrl,                             githubUrl,                             facebookUrl,                             linkedinUrl                         }                     }                 }             ",{email:h.inputModel.emailAddress,emailVerified:!1}).then(function(b){if(b.data.updateUserEmail.errors)return a.reject({errors:b.data.updateUserEmail.errors.messages});c.close("success")}).catch(function(a){h.serversideErrors=a.errors}).finally(function(){h.isPosting=!1}))}var h=this;h.isPosting=!1,h.hasAttemptedSubmit=!1,h.hasBeenModified=!1,h.emailMismatch=!1,h.inputModel={},h.close=e,h.doUpdate=g,h.onEmailChange=f}a.$inject=["$q","$scope","$uibModalInstance","graphqlService"],angular.module("app.user").controller("EmailUpdateModalController",a)}(),function(){"use strict";function a(a){function b(b){return a.current.name===b}this.isActiveRoute=b}a.$inject=["$state"],angular.module("app.user").controller("SettingsController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l){function m(){i.getProfile().then(function(a){w.organisationId=a.organisationId}),r(),k.getCountries().then(function(a){w.countries=a,l.getLocationInfo().then(function(a){w.detectedCountry.loaded=!0,w.detectedCountry.countryCode=a.userCountryCode,w.detectedCountry.currencyCode=a.currencyCode,w.detectedCountry.currencySymbol=a.currencySymbol,n()})})}function n(){w.selectedCountry=o(w.detectedCountry.countryCode),p(w.selectedCountry)}function o(a){return d.find(w.countries,{code:a})}function p(a){a&&a.tax_region&&"EU"===a.tax_region?w.vatApplicable=!0:w.vatApplicable=!1}function q(){return j.sendQuery("                query getUserSubscriptionHistory {                    getUserSubscriptionHistory {                        planType,                         planName,                         status,                         created,                         updated,                         cancelledDate,                         firstBillingDate,                         billingDayOfMonth,                         currentBillingCycle,                         daysPastDue,                         failureCount,                                                 currencySymbol,                         currencyCode,                         nextBillingDate,                         nextBillingPeriodAmount,                                                 trialDuration,                         trialDurationUnit,                         trialPeriod                     }                    getUserProfile {                         memberUntil,                     }                }            ").then(function(a){var b=a.data.getUserSubscriptionHistory,e=d.get(a,"data.getUserProfile.memberUntil")||null;w.subscriptionHistory=b||[],w.currentMembership=d.find(w.subscriptionHistory,function(a){var b=a.status.toLowerCase();return"active"===b||"past due"===b||"pending"===b}),w.currentMembership.nextBillingDateFormatted=s(w.currentMembership.nextBillingDate),w.isMemberWithoutActiveSubscription=!1,!w.currentMembership&&e&&new c<new c(e).add(1,"day")&&(w.isMemberWithoutActiveSubscription=!0),w.memberUntil=e,w.showOverdueMessage=w.currentMembership&&"past due"===w.currentMembership.status.toLowerCase()})}function r(){return j.sendQuery("                query getSubscriptionPaymentMethod {                    getSubscriptionPaymentMethod {                        ... on CreditCardPaymentMethod {                            cardType                            expirationDate                            maskedNumber                            type                        }                        ... on PaypalPaymentMethod {                            accountEmail                            type                        }                    }                }            ").then(function(a){var b=a.data.getSubscriptionPaymentMethod;w.paymentMethod=b||null})}function s(a){return c(a).format("DD-MMM-YYYY")}function t(){x=b.open({templateUrl:"/app/core/braintree/components/braintree-payment-modal.html",controller:"BraintreePaymentModalController",controllerAs:"vm",resolve:{currency:function(){return w.detectedCountry.currencyCode},checkoutCta:function(){return"Update payment method"},choosePaymentMethod:function(){return u},updatePaymentMethod:function(){return v}}})}function u(a){g.setNonce(a.nonce)}function v(b){return j.sendQuery("                mutation updateSubscriptionPaymentMethod($nonce: String!) {                    updateSubscriptionPaymentMethod(nonce: $nonce) {                        ... on CreditCardPaymentMethod {                            cardType                            expirationDate                            maskedNumber                            type                        }                        ... on PaypalPaymentMethod {                            accountEmail                            type                        }                    }                }            ",{nonce:b.nonce}).then(function(a){if(a.data){var b=a.data.updateSubscriptionPaymentMethod;w.paymentMethod=b||null,e.create({className:"success",content:"Payment details updated!"})}else e.create({className:"danger",content:"Uhoh! Something went wrong."})}).catch(function(b){var c=d.map(b.errors,function(a){return d.get(a,"details.friendlyMessage")});return c=d.compact(c),a.reject(c)})}var w=this,x=null;w.isRoleLoaded=!1,w.subscriptionHistory=null,w.paymentMethod=null,w.countries=[],w.countryCode="",w.selectedCountry={},w.detectedCountry={},w.vatNumber=null,w.vatApplicable=null,w.showOverdueMessage=!1,w.changePaymentMethod=t,w.showWhyJoinModal=f.showWhyJoinModal,function(){h.isMember().then(function(a){w.isMember=a,w.isRoleLoaded=!0,a&&m(),q()})}()}a.$inject=["$q","$uibModal","moment","lodash","ngToast","whyJoinService","braintreeNonceService","roleService","profileService","graphqlService","taxService","locationDetectionService"],angular.module("app.user").controller("AccountMembershipController",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){return l.isSaving||!l.hasChanged}function h(){a.$on("$locationChangeStart",function(a){if(l.hasChanged){confirm("You haven't saved your changes. Are you sure you want to leave this page?")||a.preventDefault()}})}function i(){l.loaded=!1,b.getProfile().then(function(a){l.updatedSettings=a.settings||{enableForumNotifications:!0},l.loaded=!0})}function j(){return b.saveSettings(l.updatedSettings).then(function(a){l.isSaving=!1,l.hasChanged=!1})}function k(){l.hasChanged=!0}var l=this;l.isSaving=!1,l.updatedSettings=null,l.isSaveDisabled=g,l.saveSettings=j,l.recordChange=k,function(){b.data?i():d.onReady(i),h(),c.track("Viewed User Account")}()}a.$inject=["$scope","profileService","analyticsService","guruAuthService","authService","organisationService"],angular.module("app.user").controller("NotificationSettingsController",a)}(),function(){"use strict";function a(a,b){function c(){e.isPosting=!0,b.changePassword(e.userEmail).then(function(b){a.close()}).catch(function(a){e.isPosting=!1})}function d(){a.dismiss("cancel")}var e=this;e.userEmail=b.getProfile().email,e.isPosting=!1,e.close=d,e.confirm=c}a.$inject=["$uibModalInstance","authService"],angular.module("app.user").controller("PasswordResetModalController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(){return f.sendQuery("                query getUserSubscriptionHistory {                    getSubscriptionPaymentsHistory {                        currency                        success                        transactionCreatedAt                        transactionAmount                        invoiceUrl                    }                                        purchasesByUser(limit: 300) {                        orderId                        purchasedTimestamp                        currency                        total                        invoiceUrl                        products {                            description                        }                    }                }            ").then(function(a){var b=a.data||{},c=(b.getSubscriptionPaymentsHistory||[]).map(function(a){return{currency:a.currency,description:"Membership payment",purchasedTimestamp:a.transactionCreatedAt,total:a.transactionAmount,status:a.success?"Paid":"Payment failed",invoiceUrl:a.invoiceUrl}}),d=(a.data.purchasesByUser||[]).map(function(a){return{currency:a.currency,products:a.products,purchasedTimestamp:a.transactionCreatedAt,total:a.total,status:"Paid",invoiceUrl:a.invoiceUrl}});m.payments=c.concat(d),m.loaded=!0}).catch(function(){m.isError=!0})}function l(a){return h.CURRENCY_SYMBOLS[a]}var m=this;m.loaded=!1,m.isError=!1,m.purchases=null,m.taxamoPublicToken=j.publicToken,m.getCurrencySymbol=l,function(){e.track("Viewed Purchases"),k()}()}a.$inject=["$uibModal","lodash","$q","$scope","analyticsService","graphqlService","productService","coreConstants","appConfig","taxamoConfig"],angular.module("app.user").controller("AccountPurchasesController",a)}(),angular.module("app.user").run(["$templateCache",function(a){"use strict";a.put("app/user/email-verification-success.html",'<main><div class="container"><div class="simplePage--header"><a href="/"><img src="/images/logo-orange-and-white.png" alt="A Cloud Guru Logo (small)"></a></div><div class="row p-t-xl"><div class="col col-sm-6 col-sm-push-3"><div ng-if="vm.isSignedInAsVerifyingUser" class="panel panel-default"><div class="panel-body p-lg text-center"><div class="AnimatedTick AnimatedTick__150 AnimatedTick__Centred"><un-svg svg-src="images/svg-icons/animated-tick.svg"></un-svg></div><h2 class="m-b-md">Your email address is verified!</h2><p class="m-b-lg">The last step is to complete your profile.</p><div class="form-group m-t-md"><button ng-click="vm.completeProfile()" class="btn btn-lg btn__roundRect btn-primary" aria-hidden="false">Complete Profile</button></div></div></div><div ng-if="!vm.isSignedInAsVerifyingUser" class="panel panel-default"><div class="panel-body p-lg text-center"><div class="AnimatedTick AnimatedTick__150 AnimatedTick__Centred"><un-svg svg-src="images/svg-icons/animated-tick.svg"></un-svg></div><h2>{{vm.verifyingEmail}}</h2><h3 class="m-t-xs m-b-md">Your email address is verified!</h3><p class="m-b-lg">You will need to log in to continue.</p><div class="form-group m-t-md"><button ng-click="vm.signIn()" class="btn btn-lg btn__roundRect btn-primary" aria-hidden="false">Login to Complete Profile</button></div></div></div></div></div></div></main>'),a.put("app/user/email-verification.html",'<main><div class="container"><div class="simplePage--header"><a href="/"><img src="/images/logo-orange-and-white.png" alt="A Cloud Guru Logo (small)"></a></div><div class="row"><div class="col col-sm-6 col-sm-push-3"><div class="panel panel-default p-a-lg m-t-lg"><div class="p-lg text-center"><h2 class="m-b-md">Thanks for signing up!</h2><p class="">You\'re almost ready to start using A Cloud Guru. We\'ve sent an activation link to the following email address:</p><div class="form-group"><input type="text" id="exampleInputFile" class="form-control text-center input-lg" readonly ng-model="vm.emailAddress"> <small class="help-block">Click the link in this email to setup your account.</small></div><hr><div ng-switch="vm.verificationEmailState"><div ng-switch-when="unsent"><button class="btn btn-success btn__roundRect btn-lg" ng-click="vm.sendVerificationEmail()">Resend Verification Email</button></div><div ng-switch-when="sending"><button class="btn" ng-disabled="true"><i class="fa fa-spinner fa-spin"></i></button></div><div ng-switch-when="sent"><p>Verification email sent</p></div><div ng-switch-when="failed"><p>There was a problem sending the verification email.</p></div></div><hr><p class="text-xs">This email can take up to <b>20 minutes</b> to arrive.<br>If you still don\'t receive it, please <a href="https://help.acloud.guru/hc/en-us/requests/new?" class="text-info">contact support</a> and we\'ll help you out!</p><hr><div class=""><button class="btn btn-link btn__roundRect" ng-click="vm.logout()">Logout</button></div></div></div></div></div></div></main>'),a.put("app/user/gu-reputation-label.html",'<span ng-class="[reputationClass, \'label-\' + size]" class="reputationLevel"><un-svg svg-src="images/svg-icons/gem2.svg"></un-svg><span class="reputationLevel--score">{{score || 0}}</span></span>'),a.put("app/user/gu-short-user-profile.html",'<div class="gu-short-user-profile" ng-class="{\'loaded\': vm.isLoaded, \'text-inline-user-profile\': vm.inlineMode}" uib-popover uib-popover-template="\'/app/forum/components/user-popover.template.html\'" popover-class="UserPopover" popover-trigger="\'mouseenter mouseleave\'" ng-mouseenter="vm.mouseEnter()"><a class="gu-short-user-profile-picture w-20 placeholder placeholder-circle MemberOuterRing" ng-class="{\'MemberOuterRing__isMember\': vm.userProfile.isMember }" ui-sref="app.public-profile({displayName: vm.userProfile.handle})"><img ng-optimise-image="vm.userProfile.picture" ng-optimise-image-square="40" ng-optimise-image-crop="thumb" alt="..." class="w-full img-circle"></a> <a ui-sref="app.public-profile({displayName: vm.userProfile.handle})" class="gu-short-user-profile-name placeholder">{{vm.userProfile.displayname || vm.userProfile.handle || \'(unknown)\'}}<guru-reputation-label class="placeholder placeholder-hidden" ng-if="vm.isLoaded" score="vm.userProfile.voteSum"></guru-reputation-label><span ng-if="vm.certificationCount" class="ShortProfile--CertCount"><img src="/images/ui-medal-small@2x.png"> <span>{{vm.certificationCount}}</span></span> <span class="gu-short-user-profile-additional-text m-l-sm" ng-transclude></span></a></div>'),a.put("app/user/join-organisation.html",'<section class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0" ng-class="{\'loaded\': vm.profile.isLoaded}"><gu-nav-shell></gu-nav-shell><div class="jumbotron"><div class="container"><div class="row"><div class="col-sm-6"><h1 ng-if="!vm.isCodeError">{{vm.profile.isLoaded ? \'Join \' + vm.orgName : \'Please wait...\'}}</h1><h2 ng-if="!vm.isCodeError" ng-show="vm.profile.isLoaded"><b>Invitation for <span class="t__thickUnderline">{{vm.profile.data.name}}</span> to join <span class="t__thickUnderline">{{vm.orgName}}</span>.</b></h2><h1 ng-if="vm.isCodeError">Invitation Error</h1><h2 ng-if="vm.isCodeError"><b>This invite code appears to be invalid.</b></h2></div></div></div></div></section><section class="floatedLayout--section"><div class="container"><div class="row"><div class="col floatedLayout--colLeft">\x3c!-- This empty element forms the negatively positioned background --\x3e<div class="floatedLayout--fillBackground"></div><div class="floatedLayout--fillContent"><div class="panel"><div class="panel-body"><div id="join-invalid-code" ng-show="vm.isCodeError"><h3>The invitation code you have been sent appears to be invalid.</h3><p>This may have occurred due to a link being copied / emailed incorrectly. Please contact your organization administrator to request the code again.</p></div><div id="join-invited" ng-show="!vm.isCodeError && !vm.isJoining && !vm.isJoined && vm.canJoinOrg && !vm.isJoinError"><h3>You have been invited to join the {{vm.orgName}} organization.</h3><p>Joining this organization will grant you access to the organization\'s courses and discounts.</p></div><div id="join-member-other" ng-show="!vm.isCodeError && vm.canJoinOrg === false && !vm.isAlreadyMember"><h3>You cannot join the {{vm.orgName}} organization.</h3><p>You are already a member of another organization, you cannot join {{vm.orgName}}</p></div><div id="join-already-member" ng-show="!vm.isCodeError && vm.canJoinOrg === false && vm.isAlreadyMember"><h3>You are already a member of the {{vm.orgName}} organization.</h3><p id="join-already-member-message">You can access the courses and discounts available to the {{vm.orgName}} organization.</p><p><button ui-sref="courses" class="btn m-t b-2x btn-rounded btn-stroke btn-info">View Courses</button></p></div><div id="join-joining" ng-show="!vm.isCodeError && vm.isJoining && !vm.isJoined"><h3 id="join-joining-title"><i class="fa fa-refresh fa-spin"></i> Joining now...</h3><p id="join-joining-text">We are in the process of joining you to the organization.</p></div><div ng-show="!vm.isCodeError && !vm.isJoining && vm.isJoined && !vm.isJoinError"><h3>Congratulations! You have been joined to the organization.</h3><p id="join-joined-message">You can now access the courses and discounts available to the {{vm.orgName}} organization.</p><p><button ui-sref="courses" class="btn m-t b-2x btn-rounded btn-stroke btn-info">View Courses</button></p></div><div ng-show="!vm.isCodeError && vm.isJoinError && !vm.isJoining"><h3>Sorry. We could not join you to the organization.</h3><p class="text-danger">Reason: {{vm.joinErrorMessage}}</p></div></div></div><div class="m-t-xl" ng-if="vm.profile.isLoaded" ng-show="!vm.isCodeError && !vm.isJoining && !vm.isJoined && vm.canJoinOrg && !vm.isJoinError"><a class="btn btn-success btn-lg" ng-click="vm.join()">Accept Invitation</a></div></div></div></div></div></section>'),a.put("app/user/organisation-dashboard/organisation-activity.html",'<div class="table-responsive"><table class="table table-striped" st-pipe="vm.pagedTableHelper.callServer" st-table="vm.pagedTableHelper.displayed"><thead><tr><th st-sort="display_name">Display Name</th><th st-sort="full_name">Full Name</th><th st-sort="course_title">Course</th><th st-sort="overall_progress">Progress</th><th st-sort="last_activity">Last Activity</th></tr><tr><th><input class="form-control" ng-model-options="{debounce: 1500}" st-search="display_name" placeholder="Search Display Name"></th><th><input class="form-control" ng-model-options="{debounce: 1500}" st-search="full_name" placeholder="Search Full Name"></th><th><input class="form-control" ng-model-options="{debounce: 1500}" st-search="course_title" placeholder="Search Course"></th><th></th><th></th></tr></thead><tbody><tr ng-show="vm.pagedTableHelper.displayed.length == 0 && !vm.pagedTableHelper.fetchingActivityData && !vm.pagedTableHelper.fetchingActivityError"><td colspan="5">No member activity is recorded.</td></tr><tr ng-show="vm.pagedTableHelper.displayed.length == 0 && vm.pagedTableHelper.fetchingActivityData"><td colspan="5"><span class="custom-spinner custom-spinner__large custom-spinner__center m-y-xxl"></span></td></tr><tr ng-show="vm.pagedTableHelper.fetchingActivityError && !vm.pagedTableHelper.fetchingActivityData"><td colspan="5" class="text-danger">Encountered an error while fetching member activity.</td></tr><tr ng-repeat="row in vm.pagedTableHelper.displayed"><td><gu-short-user-profile user-id="row.userId" class="table-text"></gu-short-user-profile></td><td><span class="table-text">{{row.fullName}}</span></td><td><span class="table-text">{{row.courseTitle}}</span></td><td><span class="table-text">{{row.overallProgress || 0}}%</span></td><td>{{row.lastActivity | amUtc | amLocal | amDateFormat:\'dddd, MMMM Do YYYY, h:mm:ss a\'}} <span class="label label-sm bg-light" am-time-ago="row.lastActivity | amUtc | amLocal " style="display: inline-block" class="m-t-xs"></span></td></tr></tbody><tfoot><tr><td colspan="5" class="text-center"><ul uib-pagination total-items="vm.pagedTableHelper.totalCount" ng-model="vm.pagedTableHelper.pageNumber" max-size="vm.pagedTableHelper.pageSize" class="pagination-sm" boundary-links="true"></ul><div ng-if="!vm.pagedTableHelper.fetchingActivityData" class="">{{vm.pagedTableHelper.totalCount}} results.</div></td></tr></tfoot></table></div>'),a.put("app/user/organisation-dashboard/organisation-custom-reports.html",'<div><div class="text-center" ng-show="vm.isError"><p>We are having problems loading this page.<br>Please contact support about this issue.</p></div><div class="text-center" ng-show="!vm.isLoaded && !vm.isError"><span><i class="fa fa-circle-o-notch fa-spin text-lg"></i></span></div><div class="organisation-custom-reports" ng-if="vm.isLoaded"><iframe class="organisation-custom-reports--embed" ng-src="{{vm.periscopeEmbedUrl}}" ng-if="vm.periscopeEmbedUrl"><div class="text-center" ng-if="!vm.periscopeEmbedUrl"><p>Your organisation does not have a custom report enabled.</p><p>If you think this is an error please contact support.</p></div></div></div>'),a.put("app/user/organisation-dashboard/organisation-dashboard.html",'<section class="floatedLayout--masthead floatedLayout--masthead__generic orgDashboard--header p-t-0" ng-class="{\'loaded\': vm.isLoaded}"><gu-nav-shell></gu-nav-shell><div class="jumbotron"><div class="container"><div class="row"><div class="col-sm-6"><div ng-if="vm.organisation"><h1>{{vm.organisation.name}}</h1><p>Organization Management Dashboard</p></div></div><div class="col col-sm-3 col-sm-offset-3"><div class="panel panel-default panel__license" ng-if="vm.organisation.usePoints"><div class="panel-body text-center"><h5>{{vm.pointsBalance}}</h5><p>Points Balance</p></div></div><div class="panel panel-default panel__license" ng-if="vm.organisation.chargeModel === \'subscription\'"><div class="panel-body text-center"><h5>{{vm.organisation.subscriptionUserLicenseCount}}</h5><p>User Subscription<br>{{vm.subscriptionStartDate | amUtc | amLocal | amDateFormat:\'MMM D YYYY\'}} - {{vm.subscriptionEndDate | amUtc | amLocal | amDateFormat:\'MMM D YYYY\'}}</p></div></div><div class="panel panel-default panel__license" ng-if="vm.organisation.marketplaceSubscription != null"><div class="panel-body text-center"><h5>{{vm.organisation.marketplaceSubscription.userLicenseCount}}</h5><p>Subscription active until<br>{{vm.organisation.marketplaceSubscription.endDate | amUtc | amLocal | amDateFormat:\'MMM D YYYY\'}}</p></div></div></div></div></div></div></section>\x3c!-- End: Top Hero Container --\x3e\x3c!-- Start: Dashboard Tabs & Content --\x3e<div id="organisation-dashboard" class="public-section organisation-dashboard" ng-class="{\'loaded\': vm.isLoaded}"><div class="container"><div class="alert alert-warning" role="alert" ng-if="vm.isLoaded && !vm.organisation.disableDataSyncWarning">Organization data can take up to <strong>30 minutes</strong> to sync.</div><div class="panel panel-default"><div class="panel-body"><ul class="nav nav-md nav-tabs nav-lines m-b-md"><li ng-class="{\'active\': tab.active }" ng-repeat="tab in vm.tabs"><a aria-expanded="{{tab.active ? \'true\' : \'false\'}}" ui-sref="{{tab.route}}">{{tab.title}}</a></li></ul><div class="tab-content m-b-md"><div class="tab-pane active" ui-view></div></div></div></div></div></div>\x3c!-- End: Dashboard Tabs & Content --\x3e'),a.put("app/user/organisation-dashboard/organisation-invite-members-dialog.html",'<div ng-show="ngDialogData.organisation.joinCodes || ngDialogData.organisation.domains"><h4>Invite New Members</h4><p ng-show="ngDialogData.organisation.domains">Users with email addresses at these domains will be automatically joined to the organisation.<div class="label-group"><span class="label-md label label-info m-r-xs" ng-repeat="domain in ngDialogData.organisation.domains">@{{domain}}</span></div></p><div class="m-t-lg" ng-show="ngDialogData.joinCodeCount > 0"><p class="m-b-sm block">To add new members to the organisation, simply share {{ngDialogData.joinCodeCount === 1 ? \'the following link\' : \'any of the following links\'}} with them:</p><div class="input-group m-b" ng-repeat="(joinCode, value) in ngDialogData.organisation.joinCodes"><input type="text" id="join-code-{{$index}}" class="form-control" value="{{ $state.href(\'join-organisation\', {orgId:\n            ngDialogData.orgId, secretCode: joinCode}, {absolute: true}) }}"> <span class="input-group-btn"><button class="btn btn-default btn-light waves-effect" type="button" ng-click="ngDialogData.copyToClipboard(\'join-code-\' + $index)">Copy to clipboard</button></span></div></div></div>'),a.put("app/user/organisation-dashboard/organisation-members.html",'<div class="organisation-members table-responsive"><table class="table table-striped" st-pipe="vm.pagedTableHelper.callServer" st-table="vm.pagedTableHelper.displayed"><thead><tr><th st-sort="displayname">Display Name</th><th st-sort="name">Name</th><th st-sort="email">Email</th><th>Role</th><th class="text-right"><button ng-click="vm.inviteMembers()" class="btn btn--blue">Invite Members</button></th><th ng-if="vm.isLMSAdmin"></th></tr><tr><th colspan="3"><input class="form-control" ng-model-options="{debounce: 1500}" st-search="query" placeholder="Search users"></th><th></th><th></th><th ng-if="vm.isLMSAdmin"></th></tr></thead><tbody><tr ng-show="vm.pagedTableHelper.displayed.length == 0 && !vm.pagedTableHelper.fetchingActivityData && !vm.pagedTableHelper.fetchingActivityError"><td ng-show="!vm.searchParams" colspan="6">There are no members of this organization.</td><td ng-show="vm.searchParams" colspan="6">No matches for "{{vm.searchParams}}"</td></tr><tr ng-show="vm.pagedTableHelper.displayed.length == 0 && vm.pagedTableHelper.fetchingActivityData"><td colspan="6"><span class="custom-spinner custom-spinner__large custom-spinner__center m-y-xxl"></span></td></tr><tr ng-show="vm.pagedTableHelper.fetchingActivityError && !vm.pagedTableHelper.fetchingActivityData"><td colspan="6" class="text-danger">Encountered an error while fetching members.</td></tr><tr ng-repeat="row in vm.pagedTableHelper.displayed"><td><gu-short-user-profile user-id="row.user_id" class="table-text"></gu-short-user-profile></td><td><span class="table-text" ng-bind-html="row.name"></span></td><td><span class="table-text" ng-bind-html="row.email"></span></td><td><gu-dropdown items="[\'Administrator\', \'User\']" callback="vm.changeRole" data="row.user_id">{{vm.isNotAdministrator(row.user_id) ? \'User\' : \'Administrator\'}} <i class="fa fa-caret-down"></i></gu-dropdown></td><td class="text-right"><a ng-click="vm.openMemberActivity(row)" class="btn btn-primary btn-xs">View Activity</a></td><td ng-if="vm.isLMSAdmin"><a ng-click="vm.removeOrgMember(row.user_id)" class="btn btn-danger btn-xs">Remove Member</a></td></tr></tbody><tfoot><tr><td colspan="6" class="text-center"><ul uib-pagination total-items="vm.pagedTableHelper.totalCount" ng-model="vm.pagedTableHelper.pageNumber" max-size="vm.pagedTableHelper.pageSize" items-per-page="vm.pagedTableHelper.pageSize" class="pagination-sm" boundary-links="true"></ul><div ng-if="!vm.pagedTableHelper.fetchingActivityData">{{vm.pagedTableHelper.totalCount}} results.</div></td></tr></tfoot></table></div>'),a.put("app/user/organisation-dashboard/organisation-points-top-ups.html",'<span class="table-summary"><b>Total Points Purchased:</b> {{vm.totalPointsPurchased}}</span><table class="table table-striped"><thead><tr><th>Purchase Date</th><th>Amount</th><th>Description</th></tr></thead><tbody><tr ng-repeat="purchase in vm.pointsPurchaseHistory | orderBy: \'-purchaseDate\'"><td>{{purchase.purchaseDate | amDateFormat:\'dddd, MMMM Do YYYY\'}}</td><td>{{purchase.amount}} points</td><td>{{purchase.description}}</td></tr></tbody></table>'),
a.put("app/user/organisation-dashboard/organisation-transactions.html",'<div class="table-responsive"><table class="table table-striped" st-pipe="vm.pagedTableHelper.callServer" st-table="vm.pagedTableHelper.displayed"><thead><tr><th st-sort="buyer_displayname">Display Name</th><th st-sort="buyer_name">Full Name</th><th st-sort="product_description">Product</th><th st-sort="product_total">Value</th><th st-sort="purchased">Time</th></tr><tr><th><input class="form-control" ng-model-options="{debounce: 1500}" st-search="buyer_displayname" placeholder="Search Display Name"></th><th><input class="form-control" ng-model-options="{debounce: 1500}" st-search="buyer_name" placeholder="Search Full Name"></th><th><input class="form-control" ng-model-options="{debounce: 1500}" st-search="product_description" placeholder="Search Product"></th><th><input class="form-control" ng-model-options="{debounce: 1500}" st-search="product_total" placeholder="Search Value"></th><th></th></tr></thead><tbody><tr ng-show="vm.pagedTableHelper.displayed.length == 0 && !vm.pagedTableHelper.fetchingActivityData && !vm.pagedTableHelper.fetchingActivityError"><td colspan="5">There are no transactions for this organization.</td></tr><tr ng-show="vm.pagedTableHelper.displayed.length == 0 && vm.pagedTableHelper.fetchingActivityData"><td colspan="5"><span class="custom-spinner custom-spinner__large custom-spinner__center m-y-xxl"></span></td></tr><tr ng-show="vm.pagedTableHelper.fetchingActivityError && !vm.pagedTableHelper.fetchingActivityData"><td colspan="5" class="text-danger">Encountered an error while fetching transactions.</td></tr><tr ng-repeat="row in vm.pagedTableHelper.displayed"><td><gu-short-user-profile user-id="row.userId" class="table-text"></gu-short-user-profile></td><td><span class="table-text">{{row.buyerName}}</span></td><td><span class="table-text">{{row.description}}</span></td><td><span class="table-text">{{row.total}} {{row.currency.toUpperCase()}}</span></td><td>{{row.purchasedTimestamp | amDateFormat:\'dddd, MMMM Do YYYY, h:mm:ss a\'}} <span class="label label-sm bg-light" am-time-ago="row.purchasedTimestamp" style="display: inline-block" class="m-t-xs"></span></td></tr></tbody><tfoot><tr><td colspan="5" class="text-center"><ul uib-pagination total-items="vm.pagedTableHelper.totalCount" ng-model="vm.pagedTableHelper.pageNumber" max-size="vm.pagedTableHelper.pageSize" class="pagination-sm" boundary-links="true"></ul><div ng-if="!vm.pagedTableHelper.fetchingActivityData">{{vm.pagedTableHelper.totalCount}} results.</div></td></tr></tfoot></table></div>'),a.put("app/user/profile-handle-update-dialog.html",'<div class="ngdialog-message"><h3>Change Your User Handle</h3><p>Please ensure you update any links to your profile page after making this change.</p><hr></div><div class="ngdialog-form mt form-group"><form><div class="form-group"><label class="control-label" for="inputHandle" ng-class="{\'text-danger\': !ngDialogData.form.handle || ngDialogData.errors.showHandleClash || ngDialogData.errors.invalidHandle}">Handle</label><input type="text" class="form-control" id="inputHandle" autocomplete="off" ng-model="ngDialogData.form.handle" ng-class="{\'b-b-danger\': ngDialogData.errors.showHandleClash || ngDialogData.errors.invalidHandle}"> <span class="text-danger" ng-show="!ngDialogData.errors.invalidHandle && !ngDialogData.form.handle">Please choose a handle</span> <span class="text-danger" ng-show="!ngDialogData.errors.invalidHandle && ngDialogData.errors.showHandleClash">This handle is currently in use.</span> <span class="text-danger" ng-show="ngDialogData.errors.invalidHandle">{{ngDialogData.errors.invalidHandleMessage}}</span></div><div class="form-group"><p class="text-muted">Your public profile will be visible at:<br><a href="{{ngDialogData.getProfileUrl(ngDialogData.form.handle)}}" target="_blank">{{ngDialogData.getProfileUrl(ngDialogData.form.handle)}}</a></p></div><div class="ngdialog-buttons mt"><button type="button" class="m-x-xs p-x-xl ngdialog-button ngdialog-button-primary" ng-disabled="ngDialogData.savingHandle" ng-click="ngDialogData.checkHandleAndSave(ngDialogData.form.handle, closeThisDialog)">{{ngDialogData.savingHandle ? \'Saving\' : \'Save\'}}</button> <button type="button" class="m-x-xs p-x-md ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(false)">Cancel</button></div></form></div>'),a.put("app/user/profile.html",'<section class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0"><gu-nav-shell></gu-nav-shell><div class="jumbotron profilePage--jumbotron profilePage--jumbotron__editMode"><div class="container" ng-if="!vm.isRegisterMode">\x3c!-- Normal Message --\x3e<h1>Edit Profile</h1></div><div class="container" ng-if="vm.isRegisterMode">\x3c!-- Registration Message --\x3e<h1>Welcome!</h1><p>Thanks for joining Cloud Guru. Please spend a minute or two completing your guru profile below.</p></div></div></section><div ng-show="!vm.isLoaded" class="p text-lg text-center" ng-class="{\'text-white\': vm.isRegisterMode}"><i class="fa fa-refresh fa-spin"></i></div><div ng-show="vm.profileNotFound" class="p text-lg text-center" ng-class="{\'text-white\': vm.isRegisterMode}">This user does not exist.</div><section class="floatedLayout--section editProfile--section"><div class="container">\x3c!-- Main profile section --\x3e<div class="row animate-show" ng-show="vm.isLoaded && !vm.profileNotFound"><div class="col floatedLayout--colLeft user-profile__main"><div class="floatedLayout--fillBackground"></div><div class="floatedLayout--fillContent">\x3c!-- Registration Only Content --\x3e<div ng-show="vm.isRegisterMode"><h2>Private Stuff</h2><p>This is your private information, just between us. It won\'t be shared.</p><div class="row"><div class="col-sm-6"><div class="form-group" ng-class="{\'has-error\': !vm.profileObj.name}"><label for="inputFullname" class="control-label">Full Name</label><input ng-disabled="vm.restrictProfileEdit" type="text" class="form-control" id="inputFullname" ng-model="vm.profileObj.name" ng-disabled="!vm.isLoaded" ng-change="vm.recordChange()"> <span class="text-danger" ng-show="!vm.profileObj.name">Full name is required</span></div></div>\x3c!--/.col--\x3e<div class="col-sm-6"><div class="form-group" ng-class="{\'has-error\': !vm.profileObj.email}"><label for="inputEmail" class="control-label">Email Address</label><input ng-disabled="vm.restrictProfileEdit" type="email" class="form-control" id="inputEmail" ng-model="vm.profileObj.email" ng-disabled="!vm.isLoaded" ng-change="vm.recordChange()"> <span class="text-danger" ng-show="!vm.profileObj.email">Email address is required</span></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e<div class="row" ng-if="vm.isRegisterMode && vm.organisationName"><div class="col-sm-6"><div class="form-group"><label class="control-label">Organization <i class="fa fa-lock"></i></label><input type="text" class="form-control" ng-model="vm.organisationName" ng-change="vm.recordChange()" ng-disabled="true"></div></div>\x3c!--/.col--\x3e<div class="col-sm-6" ng-if="vm.requireEmployeeId"><div class="form-group" ng-class="{\'has-error\': !vm.profileObj.employeeId}"><label for="inputEmployeeId" class="control-label">{{vm.organisationName}} Enterprise ID</label><input type="text" class="form-control" id="inputEmployeeId" ng-pattern="/^\\d{10}$/" ng-model="vm.profileObj.employeeId" ng-disabled="vm.isSaving" ng-change="vm.recordChange()"> <span class="text-danger ng-hide" ng-show="!vm.profileObj.employeeId" aria-hidden="true">Enterprise ID is required and must be 10 digits. Find it on VzWeb.</span></div></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e<hr></div>\x3c!--/.registration content--\x3e<h2>About You</h2><p>The information below will be available publically when you interact on the Cloud Guru platform.</p><hr><div ng-show="!vm.isRegisterMode && !vm.profileObj.handle" class="alert alert-warning" role="alert">Please choose a handle to complete your profile.</div><form name="vm.userProfile" novalidate><div class="row"><div class="col col-md-8"><div class="form-group" ng-class="{\'has-error\': !vm.profileObj.displayname}"><label for="inputDisplayname" class="control-label">Display Name</label><input type="text" class="form-control" id="inputDisplayname" ng-disabled="vm.restrictProfileEdit" ng-model="vm.profileObj.displayname" ng-disabled="!vm.isLoaded" ng-change="vm.recordChange()"> <span class="form-control-msg text-danger right" ng-show="vm.invalidDisplayName">{{vm.invalidDisplayNameMessage}}</span></div>\x3c!--/.form-group--\x3e<div class="input-group" ng-if="vm.isRegisterMode" ng-class="{\'has-error\': vm.invalidHandle}"><label class="handle-label control-label" for="inputHandle">Select a Handle</label><div class="input-group"><div class="input-group-addon handle-prefix-addon">{{vm.getProfileUrl(\'\')}}</div><input ng-disabled="vm.restrictProfileEdit" type="text" class="form-control" ng-model="vm.profileObj.handle"></div><span class="form-control-msg right">This will be your unique profile URL</span><p class="form-control-msg text-danger right" ng-show="vm.invalidHandle">{{vm.invalidHandleMessage}}</p></div>\x3c!--/.input-group--\x3e<div class="form-group" ng-if="!vm.isRegisterMode" ng-class="{\'has-error\': !vm.profileObj.handle}"><label class="handle-label control-label" for="inputHandle">Your handle</label><div class="input-group input-group-sm"><span class="input-group-addon">@</span> <input type="text" class="form-control" value="{{vm.profileObj.handle}}" ng-disabled="true"> <span class="input-group-btn"><button class="btn btn-default" type="button" ng-disabled="vm.updatingHandle || vm.restrictProfileEdit" ng-click="vm.showHandleDialog()">Edit Handle</button></span></div><div class="form-control-msg text-danger m-t-md" ng-show="vm.invalidHandle">{{vm.invalidHandleMessage}}</div><div class="form-control-msg m-t-md" ng-show="!vm.invalidHandle">Your public profile will be visible at:<br><a href="{{vm.getProfileUrl(vm.profileObj.handle)}}">{{vm.getProfileUrl(vm.profileObj.handle)}}</a></div></div>\x3c!--/.form-group--\x3e<div ng-if="!vm.restrictSocial"><div class="form-group"><label class="control-label" for="inputJobTitle">Job Title</label><input type="text" class="form-control" id="inputJobTitle" ng-model="vm.profileObj.jobtitle" ng-disabled="!vm.isLoaded" ng-change="vm.recordChange()"></div>\x3c!--/.form-group--\x3e<div class="form-group"><label class="control-label" for="inputEmployer">Organisation</label><input type="text" class="form-control" id="inputEmployer" ng-model="vm.profileObj.employer" ng-disabled="!vm.isLoaded" ng-change="vm.recordChange()"></div>\x3c!--/.form-group--\x3e<div class="form-group" ng-class="{\'has-error\': vm.userProfile.twitterUrl.$error.pattern}"><label class="control-label" for="inputTwitterUrl">Twitter Profile URL</label><input type="text" class="form-control" id="inputTwitterUrl" name="twitterUrl" ng-model="vm.profileObj.urlTwitter" ng-disabled="!vm.isLoaded" ng-pattern="vm.twitterUrlPattern" ng-change="vm.recordChange()"><div ng-messages="vm.userProfile.twitterUrl.$error" style="color:maroon" role="alert"><span ng-message="pattern">Your Twitter url must be in the format https://twitter.com/yourusername</span></div></div>\x3c!--/.form-group--\x3e<div class="form-group" ng-class="{\'has-error\': vm.userProfile.githubUrl.$error.pattern}"><label class="control-label" for="inputGitHubUrl">GitHub Profile URL</label><input type="text" name="githubUrl" class="form-control" id="inputGitHubUrl" ng-model="vm.profileObj.urlGitHub" ng-disabled="!vm.isLoaded" ng-pattern="vm.githubUrlPattern" ng-change="vm.recordChange()"><div ng-messages="vm.userProfile.githubUrl.$error" style="color:maroon" role="alert"><span ng-message="pattern">Your Github url must be in the format https://github.com/yourusername</span></div></div>\x3c!--/.form-group--\x3e<div class="form-group" ng-class="{\'has-error\': vm.userProfile.facebookUrl.$error.pattern}"><label class="control-label" for="inputFacebookUrl">Facebook Profile URL</label><input type="text" name="facebookUrl" class="form-control" id="inputFacebookUrl" ng-model="vm.profileObj.urlFacebook" ng-disabled="!vm.isLoaded" ng-pattern="vm.facebookUrlPattern" ng-change="vm.recordChange()"><div ng-messages="vm.userProfile.facebookUrl.$error" style="color:maroon" role="alert"><span ng-message="pattern">Your Facebook url must be in the format https://facebook.com/yourusername</span></div></div>\x3c!--/.form-group--\x3e<div class="form-group" ng-class="{\'has-error\': vm.userProfile.linkedinUrl.$error.pattern}"><label class="control-label" for="inputLinkedinUrl">LinkedIn Profile URL</label><input type="text" name="linkedinUrl" class="form-control" id="inputLinkedinUrl" ng-model="vm.profileObj.urlLinkedIn" ng-disabled="!vm.isLoaded" ng-pattern="vm.linkedinUrlPattern" ng-change="vm.recordChange()"><div ng-messages="vm.userProfile.linkedinUrl.$error" style="color:maroon" role="alert"><span ng-message="pattern">Your LinkedIn url must be in the format https://linkedin.com/in/yourusername</span></div></div>\x3c!--/.form-group--\x3e</div>\x3c!--/.col--\x3e</div><div ng-if="!vm.restrictSocial" class="col-md-4"><div class="editProfile--avatarBlock"><img class="img-circle" id="profilePicture" ng-optimise-image="vm.profileObj.currentPicture" ng-optimise-image-square="90"><div class="form-group"><div class="checkbox"><label><input type="checkbox" ng-model="vm.profileObj.useCustomPicture" ng-change="vm.toggleCustomPicture(); vm.recordChange();" checked ng-disabled="!vm.isLoaded"> Use Custom Picture</label></div></div>\x3c!--/.form-group--\x3e<div class="form-group" ng-class="{\'has-error\': vm.userProfile.customPhotoUrl.$error.pattern}" ng-show="vm.profileObj.useCustomPicture"><label class="control-label" for="pictureUrl">Custom picture URL</label><input type="url" class="form-control" id="pictureUrl" name="customPhotoUrl" ng-init="customPhotoUrl=\'Test\'" ng-model="vm.profileObj.picture" ng-pattern="vm.photoUrlPattern" ng-disabled="!vm.isLoaded" ng-change="vm.recordChange()"><div ng-messages="vm.userProfile.customPhotoUrl.$error" style="color:maroon" role="alert"><span ng-message="pattern">Your photo must be a url ending in .jpg, .jpeg, or .png</span></div></div>\x3c!--/.form-group--\x3e</div>\x3c!--/.editProfile--avatarBlock--\x3e</div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e<div ng-if="!vm.restrictSocial" class="row"><div class="col col-sm-12"><div class="form-group"><label class="control-label">Biography</label><gu-editor placeholder="\'Write a little something about yourself\'" markdown-model="vm.profileObj.biographyMarkdownModel" informational-message="true" edit-mode="true" btn-pre="false" changed="vm.hasChanged"></gu-editor><div class="pull-right" guru-markdown-syntax></div></div>\x3c!--/.form-group--\x3e</div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e<div class="row"><div class="col col-sm-12"><hr><p ng-show="vm.isRegisterMode">By registering, you are agreeing to our <a class="font-bold underline" ui-sref="public.terms" target="_blank">terms of use</a>, <a class="font-bold underline" target="_blank" ui-sref="public.privacy">privacy policy</a> and <a class="font-bold underline" target="_blank" ui-sref="public.codeofconduct">code of conduct</a>.</p><p ng-show="vm.showValidationError || !vm.profileObj.displayname || !vm.profileObj.email || !vm.profileObj.name" class="text-danger"><i class="fa fa-fw fa-exclamation-circle" title="An error occurred. Check above for details"></i> There are errors above the you need to fix. Please <b>scroll up</b> and review</p><toast></toast><button ng-click="vm.saveProfile()" ng-disabled="vm.isSaveDisabled()" class="btn btn-success btn-lg btn__roundRect">{{vm.isRegisterMode ? \'Register\' : \'Save\'}}</button></div>\x3c!--/.col --\x3e</div>\x3c!--/.row --\x3e</form></div>\x3c!--/.fillContent--\x3e</div>\x3c!--/.col--\x3e<div class="col floatedLayout--colRight"><a ng-show="!vm.isRegisterMode" class="btn btn-primary btn-block" href="{{vm.getProfileUrl(vm.profileObj.handle)}}" target="_blank">View Public Profile <i class="fa fa-fw fa-external-link m-l-sm"></i></a></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div>\x3c!--/.container--\x3e</section>'),a.put("app/user/public-profile.html",'<main><section class="floatedLayout--masthead floatedLayout--masthead__generic p-t-0"><gu-nav-shell></gu-nav-shell><div class="jumbotron profilePage--jumbotron"><div class="container">\x3c!-- EMPTY MASTHEAD --\x3e</div>\x3c!--/.container--\x3e</div>\x3c!--/.jumbotron--\x3e</section><section class="floatedLayout--section"><div class="container"><div class="row"><div class="col floatedLayout--colLeft userProfile--colLeft">\x3c!-- This empty element forms the negatively positioned background --\x3e<div class="floatedLayout--fillBackground"></div><div class="floatedLayout--fillContent"><div ng-if="!vm.isLoaded"><div class="userProfile--identity"><div class="userProfile--avatarContainer"><img ng-optimise-image="deliberate-error" ng-optimise-image-square="125" class="img-circle"></div><div class="profilePage--userTitle" ng-if="vm.failedLoading || vm.profileDoesNotExist"><h1>Error</h1></div></div><div class="text-md text-muted m-t-md text-center" ng-show="!vm.failedLoading && !vm.profileDoesNotExist"><div class="custom-spinner custom-spinner__center custom-spinner__large"></div></div><div class="text-md text-muted m-t-md text-center" ng-show="vm.failedLoading">Unable to load profile</div><div class="text-md text-muted m-t-md text-center" ng-show="vm.profileDoesNotExist">This user does not exist</div></div><div ng-if="vm.isLoaded"><div class="userProfile--identity"><div class="userProfile--avatarContainer"><img ng-optimise-image="vm.publicProfile.picture" ng-optimise-image-square="125" class="img-circle"> <img class="userProfile--certCount animate__appear" src="/images/ui-medal.png" ng-if="vm.userCertifications.length === 1" alt=""> <span class="certCount userProfile--certCount animate__appear" ng-if="vm.userCertifications.length > 1"><span>{{vm.userCertifications.length}}</span> <img src="/images/ui-medal-blank.png" alt=""></span></div><div class="profilePage--userTitle"><h1>{{vm.publicProfile.displayname}}</h1><h3><span ng-if="vm.publicProfile.jobTitle">{{vm.publicProfile.jobTitle}}</span> <span ng-if="vm.publicProfile.jobTitle && vm.publicProfile.employer">@</span> <span ng-if="vm.publicProfile.employer">{{vm.publicProfile.employer}}</span></h3></div><div class="profilePage--memberSince" ng-if="vm.publicProfile.isMember"><un-svg svg-src="/images/svg-icons/member-circle.svg"></un-svg><span ng-if="vm.publicProfile.membershipStartDate">Member since {{ vm.publicProfile.membershipStartDate | date:"MMM yyyy" }}</span> <span ng-if="!vm.publicProfile.membershipStartDate">ACG Member</span></div><button class="btn btn-primary btn-lg btn__roundRect m-t-sm m-b-md" ui-sref="app.profile" ng-if="vm.isCurrentUser"><i class="fa fa-fw fa-pencil"></i> Edit Profile</button><div class="m-b"><a class="profilePage--socialMediaLink" ng-show="vm.publicProfile.facebookUrl" target="_blank" ng-href="{{vm.publicProfile.facebookUrl}}"><i class="fa fa-fw fa-facebook"></i></a> <a class="profilePage--socialMediaLink" ng-show="vm.publicProfile.twitterUrl" target="_blank" ng-href="{{vm.publicProfile.twitterUrl}}"><i class="fa fa-fw fa-twitter"></i></a> <a class="profilePage--socialMediaLink" ng-show="vm.publicProfile.linkedinUrl" target="_blank" ng-href="{{vm.publicProfile.linkedinUrl}}"><i class="fa fa-fw fa-linkedin"></i></a> <a class="profilePage--socialMediaLink" ng-show="vm.publicProfile.githubUrl" target="_blank" ng-href="{{vm.publicProfile.githubUrl}}"><i class="fa fa-fw fa-github"></i></a></div><div><guru-reputation-label score="vm.fbProfile.voteSum"></guru-reputation-label></div></div><hr><div class="userProfile--tagBlock"><h5>Guru Reputation</h5><div ng-show="vm.fbProfile.tagVoteSums"><label class="label label-default" ng-repeat="tagObject in vm.fbProfile.sortedTags">{{vm.tags[tagObject.name].tag}} <strong>{{tagObject.count}}</strong></label></div>\x3c!--/.col--\x3e<div ng-if="!vm.fbProfile.tagVoteSums"><p class="empty-state">This user has not unlocked any reputation yet.</p></div></div></div></div>\x3c!--/.fillContent--\x3e</div>\x3c!--/.col--\x3e<div class="col floatedLayout--colRight userProfile--colRight" ng-if="vm.isLoaded"><div class="userProfile--statRow hidden-xs hidden-sm"><div class="info-box"><span class="info-box--big">{{vm.questionCount}}</span> <span class="info-box--small">Questions</span></div><div class="info-box"><span class="info-box--big">{{vm.answerCount}}</span> <span class="info-box--small">Answers</span></div><div class="info-box"><span class="info-box--big">{{vm.fbProfile.voteSum}}</span> <span class="info-box--small">Reputation</span></div></div><div ng-if="vm.publicProfile.bio">\x3c!-- 01 - ABOUT ME --\x3e<h5 class="preface"><span class="preface--innerWrapper">01 <span class="t__fakeEmDash"></span> About Me</span></h5><div ng-show="vm.publicProfile.bio" btf-markdown="vm.publicProfile.bio" class="profilePage--bio"></div></div>\x3c!-- 02 - CERTIFICATIONS --\x3e<h5 class="preface m-t-xxl"><span class="preface--innerWrapper">02 <span class="t__fakeEmDash"></span> Certifications</span></h5><div class="empty-state" ng-if="!vm.userCertifications"><un-svg svg-src="/images/svg-icons/empty-certs.svg"></un-svg><h5>No certifications added</h5><p><a ui-sref="certifications.step0">Upload your own certifications</a></p></div><div class="row certificationList--wrapper" ng-if="vm.userCertifications"><div ng-repeat="(provider, certs) in vm.groupedCertOptions track by $index"><div class="col-sm-6"><h5>{{provider}} Certifications</h5><div ng-repeat="cert in certs" uib-tooltip="{{cert.title}}" class="certificationList--item" ng-class="{ \'certificationList--item__disabled\': !cert.owned}">\x3c!-- empty --\x3e</div><div ng-repeat="cert in certs" class="certificationList--textRow"><span ng-if="cert.owned"><span>{{cert.title}}</span><un-svg svg-src="/images/svg-icons/circle-check-green.svg"></un-svg></span></div></div><div class="clearfix visible-md visible-lg" ng-if="$index == 1 || $index == 3"></div></div></div><h5 class="m-t-xl" ng-if="vm.userCertifications"> Want to see certifications on your user profile page too?</h5><a ui-sref="certifications.step0" class="btn btn-primary btn__roundRect" ng-if="vm.userCertifications">Upload your Certifications</a>\x3c!-- 03 - POPULAR QUESTIONS --\x3e<div class="profilePage--communityBlock"><h5 class="preface m-t-xxl"><span class="preface--innerWrapper">03 <span class="t__fakeEmDash"></span> Popular Questions</span></h5><div ng-show="vm.popularQuestions !== null && vm.popularQuestions.length == 0" class="empty-state"><un-svg svg-src="/images/svg-icons/empty-questions.svg"></un-svg><h5>No questions posted</h5></div><div class="list-item__panelHover" ng-if="vm.popularQuestions.length"><thread-snippet-list-component display-settings="{ \'empaneled\': true }" threads="vm.popularQuestions"></thread-snippet-list-component></div><a class="btn btn--green" ng-if="vm.popularQuestions.length" ui-sref="forum.room.filter({roomUrl: \'all\', author: vm.userId, type: \'question\', filter: \'top\'})">View all questions by {{vm.publicProfile.displayname}}</a></div>\x3c!-- 04 - POPULAR ANSWERS --\x3e<div class="profilePage--communityBlock"><h5 class="preface m-t-xxl"><span class="preface--innerWrapper">04 <span class="t__fakeEmDash"></span> Popular Answers</span></h5><div ng-show="vm.popularAnswers && vm.popularAnswers.length == 0" class="empty-state"><un-svg svg-src="/images/svg-icons/empty-answers.svg"></un-svg><h5>No answers posted</h5></div><div class="list-item__panelHover" ng-if="vm.popularAnswers.length"><thread-snippet-list-component display-settings="{ \'empaneled\': true }" threads="vm.popularAnswers"></thread-snippet-list-component></div><a class="btn btn--green" ng-if="vm.popularAnswers.length" ui-sref="forum.room.filter({roomUrl: \'all\', author: vm.userId, type: \'answer\', filter: \'top\'})">View all answers by {{vm.publicProfile.displayname}}</a></div></div>\x3c!--/.row--\x3e</div>\x3c!--/.container--\x3e</div></section></main>\x3c!-- Start: Footer Section --\x3e<brand-partial src="footer"></brand-partial>\x3c!-- End: Footer Section --\x3e'),a.put("app/user/settings/account.html",'<h2>Account Information</h2><small class="text-muted" style="opacity: 1">This is your private information, just between us. It won\'t be shared.</small><div ng-if="!vm.loaded"><div class="m-t-xl"><span class="custom-spinner custom-spinner__large custom-spinner__center"></span></div></div><div ng-if="vm.loaded">\x3c!-- Account Info --\x3e<div class="p-t-md"><div class="PseudoRow"><div class="form-group PseudoCol PseudoCol50" ng-class="{\'has-error\': !vm.profileObj.name}"><label for="inputFullname" class="control-label">Full Name</label><input type="text" class="form-control" id="inputFullname" ng-model="vm.profileObj.name" ng-disabled="vm.isSaving || vm.restrictProfileEdit" ng-change="vm.recordChange()"> <span class="input-msg right text-danger" ng-show="!vm.profileObj.name">Full name is required</span></div><div class="form-group PseudoCol PseudoCol50" ng-class="{\'has-error\': !vm.profileObj.email}" ng-click="vm.enableEmailNote()"><label for="inputEmail" class="control-label">Email Address For Notifications</label><input type="email" class="form-control" id="inputEmail" ng-model="vm.profileObj.email" ng-disabled="vm.isSaving || vm.restrictProfileEdit" ng-change="vm.recordChange()"> <span class="input-msg right text-danger" ng-show="!vm.profileObj.email">Email address is required</span> <small class="help-block" ng-if="vm.emailWarning"><strong>Note:</strong> Changing this email address only changes where notification emails go, <u>not the email address which you use to login.</u></small></div><div class="form-group PseudoCol"><label>Password</label><div ng-if="vm.isEmailUser()"><button ng-click="vm.changePassword()" class="btn btn-primary btn__RadiusSm">Change Password</button></div><p ng-if="!vm.isEmailUser()" class="help-block p-b-md"><small><i class="fa fa-info-circle p-r-xs"></i> You are signed in using an external provider.<br>If you wish to <strong>change your password</strong> you must do it on <strong>{{vm.getProvider()}}\'s</strong> website.</small></p></div><div class="form-group PseudoCol"><label>Login Email</label><div ng-if="vm.isEmailUser()"><button ng-click="vm.changeEmail()" class="btn btn-primary btn__RadiusSm">Change Email</button></div><p ng-if="!vm.isEmailUser()" class="help-block p-b-md"><small><i class="fa fa-info-circle p-r-xs"></i> You are signed in using an external provider.<br>If you wish to <strong>change your email</strong> you must do it on <strong>{{vm.getProvider()}}\'s</strong> website.</small></p></div></div></div><div><hr><h2>Public Profile</h2><p>Want to control the way your public profile looks on A Cloud Guru?</p><p><a ui-sref="app.profile" class="text-info">Edit your public profile information.</a></p></div>\x3c!-- Organisations --\x3e<div ng-if="vm.organisations[0]"><hr><h2>Organization Membership</h2><div class="row"><div class="col-sm-6"><div class="form-group"><label class="control-label">Organization</label><input type="text" class="form-control" ng-model="vm.organisations[0].name" ng-change="vm.recordChange()" ng-disabled="true"></div></div><div class="col-sm-6" ng-if="vm.requireEmployeeId"><div class="form-group"><label for="inputEmployeeId" class="control-label" ng-class="{\'text-danger\': !vm.profileObj.employeeId}">{{vm.organisations[0].name}} Enterprise ID</label><input type="text" class="form-control" id="inputEmployeeId" ng-pattern="/^\\d{10}$/" ng-model="vm.profileObj.employeeId" ng-disabled="vm.isSaving" ng-change="vm.recordChange()" ng-class="{\'b-b-danger\': !vm.profileObj.employeeId}"> <span class="right text-danger ng-hide" ng-show="!vm.profileObj.employeeId" aria-hidden="true">Enterprise ID is required and must be 10 digits. Find it on VzWeb.</span></div></div></div></div>\x3c!-- Email Linkage --\x3e<div ng-if="!vm.isEmailUser()"><hr><div class="bg-dark"><h2>Linked Accounts</h2></div><div class="row p-l-md"><div ng-if="!vm.hasAuth0Connection()"><button ng-click="vm.createPasswordAccount()" class="btn btn-primary btn__RadiusSm m-a-xs">Setup email and password login <i class="fa fa-share-square"></i></button></div><div class="p-t-md"><table><tbody><tr class="linked-account" ng-repeat="identity in vm.userIdentities track by $index" ng-if="identity"><td class="col-identity-provider"><i class="fa fa-{{identity.connection === \'Username-Password-Authentication\' ? \'chain\' : identity.connection}}" ng-style="{ \'color\': identity.colour }"></i></td><td><img ng-if="!!identity.photo" src="{{identity.photo}}" alt="profile image" class="img-circle"> {{identity.email || identity.name}}</td><td class="text-right"><a ng-click="vm.removeEmailPass()" class="text-danger cursor-pointer">Remove</a></td></tr></tbody></table></div></div></div><div class="m-b-md"><hr><button ng-click="vm.saveSettings()" ng-disabled="vm.isSaveDisabled()" class="btn btn-success btn-fw btn__roundRect">Save</button></div></div>'),a.put("app/user/settings/email-update-modal.html",'<div class="modal-header"><h3 class="modal-title">Update Your Login Email Address</h3></div><div class="modal-body"><p>This will change the email you use to login. You will no longer be able to sign in with your current email address.</p><div class="alert alert-danger" ng-if="vm.serversideErrors.length">The following errors have occurred:<ul><li ng-repeat="error in vm.serversideErrors">{{error.message}}</li></ul></div><form novalidate name="vm.form" class="form-vertical"><div class="form-group"><label class="control-label" for="inputEmail" ng-class="{\'text-danger\': vm.emailMismatch || (vm.hasAttemptedSubmit && !vm.form.emailAddress.$valid)}">New Email</label><input type="email" class="form-control" name="emailAddress" id="inputEmail" ng-model="vm.inputModel.emailAddress" ng-class="{\'has-error\': vm.emailMismatch || (vm.hasAttemptedSubmit && !vm.form.emailAddress.$valid)}" ng-model-options="{allowInvalid: true}" required><div class="text-danger" ng-if="vm.hasAttemptedSubmit && !vm.form.emailAddress.$valid">Please provide a valid email address.</div></div><div class="form-group"><label class="control-label" for="inputConfirmEmail" ng-class="{\'text-danger\': vm.emailMismatch || (vm.hasAttemptedSubmit && !vm.form.confirmEmailAddress.$valid)}">Confirm New Email</label><input type="email" name="confirmEmailAddress" class="form-control" id="inputConfirmEmail" ng-model="vm.inputModel.confirmEmailAddress" ng-change="vm.onEmailChange()" ng-class="{\'b-b-danger\': vm.emailMismatch || (vm.hasAttemptedSubmit && !vm.form.confirmEmailAddress.$valid)}" ng-model-options="{allowInvalid: true}" required><div class="text-danger" ng-if="vm.hasAttemptedSubmit && !vm.form.confirmEmailAddress.$valid">Please provide a valid email address.</div><div class="text-danger" ng-if="vm.emailMismatch">The email addresses you provided do not match.</div></div><div class="alert alert-warning"><p><strong>Warning:</strong> You will be signed out after performing this action. Please check your emails to verify your new address and sign back in.</p></div></form></div><div class="modal-footer"><button class="btn btn-primary btn__roundRect" type="button" ng-disabled="vm.isPosting" ng-click="vm.doUpdate()">Update Email Address</button> <button class="btn btn-default btn__roundRect" type="button" ng-disabled="vm.isPosting" ng-click="vm.close()">Cancel</button></div>'),
a.put("app/user/settings/layout.html",'<main><gu-nav-shell></gu-nav-shell><div class="container clearfix"><div class="userSettings--container"><div class="userSettings--nav"><ul class="nav nav-pills"><li ng-class="{\'active\': vm.isActiveRoute(\'app.settings.account\') }"><a ui-sref="app.settings.account"><un-svg svg-src="images/svg-icons/user.svg"></un-svg>Account</a></li><li ng-class="{\'active\': vm.isActiveRoute(\'app.settings.notifications\') }"><a ui-sref="app.settings.notifications"><un-svg svg-src="images/svg-icons/bell.svg"></un-svg>Notifications</a></li><li ng-class="{\'active\': vm.isActiveRoute(\'app.settings.membership\') }"><a ui-sref="app.settings.membership"><un-svg svg-src="/images/svg-icons/member-circle.svg"></un-svg>Membership</a></li><li ng-class="{\'active\': vm.isActiveRoute(\'app.settings.purchases\') }"><a ui-sref="app.settings.purchases"><un-svg svg-src="/images/svg-icons/payment.svg"></un-svg>Purchases</a></li></ul></div><div class="userSettings--main"><div ui-view class=""></div></div></div></div></main>'),a.put("app/user/settings/membership.html",'<div class="m-b-lg"><h2>Membership Settings</h2><div ng-if="vm.isRoleLoaded && vm.isMember && vm.organisationId"><p>Nice one! You have a full ACG membership because you belong to an organisation account.</p><small>All your membership settings are managed by your employer.</small></div><div ng-if="vm.isRoleLoaded && !vm.isMember" class="p-y-xxxl text-center"><h2>Become a Member</h2><p>You don\'t appear to be a member, which is a bit of a shame.</p><p>We think you\'re missing out on some pretty cool stuff!</p><a class="btn btn__GreenCTA m-t" ng-click="vm.showWhyJoinModal($event, \'annual\')" ui-sref="members.join.signup({paymentType: \'annual\'})">Learn More</a></div><div ng-if="vm.isMember" class="overlay-spinner__container"><div class="alert alert-danger" ng-if="vm.showOverdueMessage"><h4 class="alert--heading">Payment Processing Failed</h4><p>We attempted to draw a payment from your selected method and encountered an error. Please ensure you have selected a valid payment method with sufficient funds. <a class="cursor-pointer" ng-click="vm.changePaymentMethod()">Change your payment method</a>.</p></div><div ng-if="!vm.subscriptionHistory" class="overlay-spinner"><div class="m-t-xl"><span class="custom-spinner custom-spinner__large custom-spinner__center"></span></div></div>\x3c!-- Manually appointed membership --\x3e<div ng-if="!vm.currentMembership && !vm.organisationId"><div ng-if="vm.isMemberWithoutActiveSubscription" class="p-y-xxxl text-center"><h2>You are still a member</h2><p>You do not have a recurring subscription, but you are still a member until <strong>{{ vm.memberUntil }}</strong></p></div><div ng-if="!vm.isMemberWithoutActiveSubscription"><p><strong>You\'re a member!</strong> Your membership was manually granted by an administrator.</p></div></div>\x3c!-- Regular membership --\x3e<div ng-if="vm.currentMembership" class="PseudoRow"><div class="PseudoCol PseudoCol50"><h3>Current Payment Method</h3><div ng-if="vm.paymentMethod.type === \'card\'"><h4>Credit Card</h4><p><strong>Card Type:</strong>{{vm.paymentMethod.cardType}}</p><p><strong>Card Number:</strong>{{vm.paymentMethod.maskedNumber}}</p><p><strong>Expiration Date:</strong>{{vm.paymentMethod.expirationDate}}</p></div><div ng-if="vm.paymentMethod.type === \'paypal\'"><h4>Paypal</h4><p><strong>Account Email:</strong>{{vm.paymentMethod.accountEmail}}</p></div><a class="btn btn-primary btn__RadiusSm m-t-sm" ng-click="vm.changePaymentMethod()">Change your Payment Method</a></div>\x3c!--/.col--\x3e<div class="PseudoCol PseudoCol50"><h3>Your Membership</h3><p><strong>Account Status:</strong>{{vm.currentMembership.status}}</p><p><strong>Plan Name:</strong>{{vm.currentMembership.planName}}</p><p><strong>Next Billing Date:</strong>{{vm.currentMembership.nextBillingDateFormatted}}</p><a class="link__grey m-t-sm" ui-sref="members.cancel">Cancel your Membership</a></div>\x3c!--/.col--\x3e</div>\x3c!--/.row--\x3e</div></div><div ng-if="vm.subscriptionHistory && vm.subscriptionHistory.length > 0"><h3>Membership History</h3><table class="table table-striped"><thead><tr><th>Plan Name</th><th>Type</th><th>Status</th><th>Subscribed Date</th><th>Cancelled Date</th></tr></thead><tbody><tr ng-repeat="(key, sub) in vm.subscriptionHistory | orderBy:\'-created\'"><td>{{sub.planName}}</td><td class="text-capitalize">{{sub.planType}}</td><td>{{sub.status}}</td><td>{{sub.created | amDateFormat:\'MMMM Do YYYY, h:mm a\'}}</td><td>{{sub.cancelledDate | amDateFormat:\'MMMM Do YYYY, h:mm a\'}}</td></tr></tbody></table></div>'),a.put("app/user/settings/notifications.html",'<h2>Notification Settings</h2><small class="text-muted" style="opacity: 1">Let us know when and how you\'d like to hear from us.</small><div ng-if="!vm.loaded"><div class="m-t-xl"><span class="custom-spinner custom-spinner__large custom-spinner__center"></span></div></div><div ng-if="vm.loaded"><div><div class="checkbox"><label><input type="checkbox" ng-disabled="vm.isSaving" ng-change="vm.recordChange()" checked ng-model="vm.updatedSettings.enableForumNotifications"> <i class="blue"></i> Forum related notifications</label></div><p class="small text-muted m-t">Receive email notifications when someone replies to a question you\'ve asked.</p></div><button ng-click="vm.saveSettings()" ng-disabled="vm.isSaveDisabled()" class="btn btn-success btn-fw btn__roundRect">Save</button></div>'),a.put("app/user/settings/password-reset-modal.html",'<div class="modal-header"><h3 class="modal-title">Change Your Login Password</h3></div><div class="modal-body"><p>We\'ll send an email to <strong>{{ vm.userEmail }}</strong> containing a link to reset your password. Follow the instructions within it to continue.</p></div><div class="modal-footer"><button class="btn btn-primary btn__roundRect" type="button" ng-disabled="vm.isPosting" ng-click="vm.confirm()">Send Password Reset</button> <button class="btn btn-default btn__roundRect" type="button" ng-disabled="vm.isPosting" ng-click="vm.close()">Cancel</button></div>'),a.put("app/user/settings/purchases.html",'<h2>Purchases</h2><small class="text-muted">Keep your accountant happy with this list of all of your A Cloud Guru purchases.</small><div ng-if="!vm.loaded"><div class="m-t-xl"><span class="custom-spinner custom-spinner__large custom-spinner__center"></span></div></div><div ng-if="vm.loaded"><div class="m-t-xl text-center" ng-show="vm.payments && vm.payments.length <= 0"><p>You have not made any purchases yet.</p></div><div ng-if="vm.payments && vm.payments.length > 0"><table class="table table-striped"><thead><tr><th>Date</th><th>Price</th><th>Status</th><th>Products</th><th>Actions</th></tr></thead><tbody><tr ng-repeat="(key, purchase) in vm.payments | orderBy:\'-purchasedTimestamp\'"><td>{{purchase.purchasedTimestamp | amDateFormat:\'MMMM Do YYYY, h:mm a\'}}</td><td>{{getCurrencySymbol(purchase.currency)}}{{purchase.total}} <span class="text-muted" style="text-transform: uppercase">{{purchase.currency}}</span></td><td>{{purchase.status}}</td><td><span ng-if="purchase.products" ng-repeat="product in purchase.products">{{product.description}}<br></span> <span ng-if="purchase.description">{{purchase.description}}</span></td><td><a class="text-info" ng-if="purchase.invoiceUrl" ng-href="{{purchase.invoiceUrl}}?public_token={{vm.taxamoPublicToken}}" target="_blank">Open Invoice</a></td></tr></tbody></table></div></div>'),a.put("app/user/user-profile-list-item.component.html",'<div class="user-profile-list-item-component"><div class="col-image"><img ui-sref="app.public-profile({displayname: vm.displayname})" ng-optimise-image="vm.picture" ng-optimise-image-square="40" alt="..." class="w-full img-circle"></div><div class="col-info"><div class="col-author-name"><h3 class="text-md" ng-bind="vm.displayname"></h3></div><div class="col-author-id"><small class="font-thin" ng-bind="vm.userId"></small></div></div><div class="col-remove"><div class="pull-right"><i class="fa fa-times" ng-click="vm.deleteAuthor()"></i></div></div></div>')}]),function(){"use strict";function a(){var a=this;a.deleteAuthor=function(){a.onDelete({userId:a.userId})}}angular.module("app.user").component("userProfileListItemComponent",{templateUrl:"app/user/user-profile-list-item.component.html",controller:a,controllerAs:"vm",bindings:{userId:"<",displayname:"<",picture:"<",onDelete:"&"}})}(),function(){"use strict";angular.module("app.user").constant("userConstants",{USER_PREFERENCES_VIEWER_SIZE:"user_preference_viewer_size",USER_PREFERENCES_PLAYBACK_RATE:"user_preference_playback_rate",USER_PREFERENCES_VIDEO_QUALITY:"user_preference_video_quality",USER_PREFERENCES_SELECTED_SIDEBAR_TAB:"user_preference_selected_sidebar_tab",USER_PREFERENCES_COURSE_VIEWER_MODE:"user_preference_course_viewer_mode"})}(),function(){"use strict";function a(a,c){c.configureStates(b(a,c.load))}function b(a,b){function c(a,b){function c(a){return a||""}var d=a.getProfile(),e=c(d.given_name&&d.family_name?d.given_name+" "+d.family_name:d.name),f={email:c(d.email),name:e,displayname:e,useCustomPicture:!1,picture:c(d.picture)},g=function(a){return(a||"").toLowerCase().replace(/[^\w\-]+/g,"-").slice(0,15)+Math.floor(9999*Math.random())}(f.name);return b.registerProfile(g,f,"contract")}function d(){return["graphqlService",function(a){return a.sendQuery(["query {","    profile {","        organisation {","            name","            features {","                restrictSocial","                restrictProfileEdit","                requireEmployeeId","            }","        }","    }","}"].join("\n"))}]}return[{state:"app.profile",config:{url:"/profile",templateUrl:"app/user/profile.html",data:{title:"Your Profile",folded:!1,logoutState:"home",loginCategory:"profile",mustLogin:!0,showNavBar:!1},meta:{title:"Your Profile","og:title":"Your Profile"},controller:"ProfileController",resolve:{organisationDetails:d()}}},{state:"public.register",config:{url:"/register?successUrl",templateUrl:"app/user/profile.html",data:{logoutState:"home",loginCategory:"profile",mustLogin:!0,isRegisterMode:!0,showAsModal:!1},meta:{title:"Register On The Site","og:title":"Register On The Site"},controller:"ProfileController",resolve:{organisationDetails:d(),evaulateRegisterStep:function(){return["$q","$state","lodash","authService","profileService","graphqlService",function(a,b,d,e,f,g){return g.sendQuery(["query {","    profile {","        organisation {","            name","            features {","                registrationMethod","            }","        }","    }","}"].join("\n")).then(function(g){if("contract"===d.get(g,"data.profile.organisation.features.registrationMethod"))return c(e,f).then(function(){return b.reload(),a.reject()})})}]}()}}},{state:"public.emailVerification",config:{url:"/emailVerification?emailAddress",templateUrl:"app/user/email-verification.html",data:{},meta:{title:"Verify Email Address","og:title":"Verify Email Address"},controller:"EmailVerificationController"}},{state:"public.emailVerificationSuccess",config:{url:"/emailVerificationSuccess?email",templateUrl:"app/user/email-verification-success.html",data:{},meta:{title:"Successful Email Verification","og:title":"Successful Email Verification"},controller:"EmailVerificationSuccessController"}},{state:"app.settings",config:{url:"/settings",abstract:!0,controllerAs:"vm",templateUrl:"app/user/settings/layout.html",data:{title:"Account Settings",logoutState:"home",loginCategory:"profile",mustLogin:!0,cssClass:"page__dark",showNavBar:!1},meta:{title:"Account Settings","og:title":"Account Settings"},controller:"SettingsController"}},{state:"app.settings.account",config:{url:"/account",templateUrl:"app/user/settings/account.html",data:{title:"Account Settings",logoutState:"home",loginCategory:"profile",mustLogin:!0,showNavBar:!1},meta:{title:"Account Settings","og:title":"Account Settings"},controller:"AccountSettingsController",resolve:{organisationDetails:d()}}},{state:"app.settings.notifications",config:{url:"/notifications",templateUrl:"app/user/settings/notifications.html",data:{title:"Notification Settings",logoutState:"home",loginCategory:"profile",mustLogin:!0,showNavBar:!1},meta:{title:"Notification Settings","og:title":"Notification Settings"},controller:"NotificationSettingsController"}},{state:"app.settings.membership",config:{url:"/membership",templateUrl:"app/user/settings/membership.html",data:{title:"Membership Settings",logoutState:"home",loginCategory:"profile",mustLogin:!0,showNavBar:!1},meta:{title:"Membership Settings","og:title":"Membership Settings"},controller:"AccountMembershipController"}},{state:"app.settings.purchases",config:{url:"/purchases",templateUrl:"app/user/settings/purchases.html",data:{title:"Purchases History",logoutState:"home",loginCategory:"profile",mustLogin:!0,showNavBar:!1},meta:{title:"Purchases History","og:title":"Purchases History"},controller:"AccountPurchasesController"}},{state:"join-organisation",config:{url:"/join-organisation/{secretCode}",templateUrl:"app/user/join-organisation.html",data:{title:"Joining Organisation...",logoutState:"home",loginCategory:"profile",mustLogin:!0},meta:{title:"Joining Organisation","og:title":"Joining Organisation"},controller:"JoinOrganisationController"}},{state:"organisation-dashboard",abstract:!0,config:{url:"/organisation/{organisationId}",templateUrl:"app/user/organisation-dashboard/organisation-dashboard.html",data:{title:"Organisation",logoutState:"home",loginCategory:"organisation",mustLogin:!0},meta:{title:"Organisation Dashboard","og:title":"Organisation Dashboard"},controller:"OrganisationDashboardController"}},{state:"organisation-dashboard.members",config:{url:"/members?pageNumber&sort&reverse&where",templateUrl:"app/user/organisation-dashboard/organisation-members.html",data:{title:"Organisation Members",logoutState:"home",loginCategory:"organisation",mustLogin:!0},meta:{title:"Organisation Members","og:title":"Organisation Members"},controller:"OrganisationMembersController"}},{state:"organisation-dashboard.activity",config:{url:"/activity?pageNumber&sort&reverse&where",templateUrl:"app/user/organisation-dashboard/organisation-activity.html",data:{title:"Organisation Activity",logoutState:"home",loginCategory:"organisation",mustLogin:!0},meta:{title:"Organisation Activity","og:title":"Organisation Activity"},controller:"OrganisationActivityController"}},{state:"organisation-dashboard.transactions",config:{url:"/transactions?pageNumber&sort&reverse&where",templateUrl:"app/user/organisation-dashboard/organisation-transactions.html",data:{title:"Organisation Transactions",logoutState:"home",loginCategory:"organisation",mustLogin:!0},meta:{title:"Organisation Transactions","og:title":"Organisation Transactions"},controller:"OrganisationTransactionsController"}},{state:"organisation-dashboard.points-top-ups",config:{url:"/points-top-ups",templateUrl:"app/user/organisation-dashboard/organisation-points-top-ups.html",data:{title:"Organisation Top Ups",logoutState:"home",loginCategory:"organisation",mustLogin:!0},meta:{title:"Organisation Top Ups","og:title":"Organisation Top Ups"},controller:"OrganisationPointsTopUpsController"}},{state:"organisation-dashboard.custom-reports",config:{url:"/custom-reports",templateUrl:"app/user/organisation-dashboard/organisation-custom-reports.html",data:{title:"Organisation Custom Reports",logoutState:"home",loginCategory:"organisation",mustLogin:!0},meta:{title:"Organisation Custom Reports","og:title":"Organisation Custom Reports"},controller:"OrganisationCustomReportsController"}},{state:"app.public-profile",config:{url:"/named/{displayName}",templateUrl:"app/user/public-profile.html",data:{title:"Profile",showNavBar:!1},meta:{titleSuffix:" - A Cloud Guru Profile"},controller:"PublicProfileController"}}]}a.$inject=["appConfig","routerHelper"],angular.module("app.user").run(a)}(),function(){"use strict";angular.module("app.teach",["app.core"])}(),function(){"use strict";function a(a,b,c,d){var e=this;e.isInstructor=!1,c.isInstructor(d.getUserId()).then(function(a){e.isInstructor=a}),e.courseUrl=a.courseUrl,e.courseMetaData=b}a.$inject=["$stateParams","courseMetaData","roleService","authService"],angular.module("app.teach").controller("InstructorCourseLayoutController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l){function m(){i.cancelOnReady(n),ca&&l.cancel(ca)}function n(){return j.getDraftCourseStructure(k.uniqueid).then(function(a){o(a),s(a),r()}).finally(function(){aa.isCourseLoaded=!0})}function o(a){p(v(a.sections)),q(v(a.sections))}function p(a){aa.courseOutlineUpdateModel=_.cloneDeep(a)}function q(a){aa.initialCourseOutlineUpdateModel=_.cloneDeep(a)}function r(){aa.isLocalCopyDirty=w(aa.courseOutlineUpdateModel,aa.initialCourseOutlineUpdateModel)}function s(a){aa.componentValidationStatus=x(a),aa.courseProcessingStatus=y(a),aa.courseDirtyStatus=z(a),aa.enhancedSyllabusStatus=A(a),aa.componentContentStatus=B(a)}function t(){return aa.isLocalCopyDirty}function u(){return!aa.courseProcessingStatus.componentsProcessing&&!aa.courseProcessingStatus.promoVideoProcessing&&aa.courseDirtyStatus.isValid&&!aa.isLocalCopyDirty&&aa.componentValidationStatus.isValid}function v(a){function b(a){return e.assign(e.pick(a,["id","title","url","description"]),{components:e.map(a.components,c)})}function c(a){return e.assign(e.pick(a,["id","title","url","description"]),{content:d(a.content)})}function d(a){return e.pick(a,["type"])}return e.map(a,b)}function w(a,b){return!e.isEqual(a,b)}function x(a){var b=e(a.sections).map(function(a){return e.values(a.components)}).flatten().transform(function(a,b){a[b.id]=F(b)},{}).value();return{isValid:e.every(b),dictionary:b}}function y(a){var b=e(a.sections).map(function(a){return e.values(a.components)}).flatten().mapKeys("id").mapValues(function(a){return a.content&&a.content.processing}).value(),c=e.some(b),d=a.promoVideoUrl&&a.promoVideoUrl.processing;return{isValid:c||d,componentsProcessing:c,promoVideoProcessing:d,dictionary:b}}function z(a){var b=e(a.sections).map(function(a){return e.values(a.components)}).flatten().mapKeys("id").mapValues(function(a){return a.isDirty}).value(),c=e.some(b);return{isValid:c||a.isDirty,componentsDirty:c,courseDirty:a.isDirty,dictionary:b}}function A(a){return{dictionary:e(a.sections).map(function(a){return e.values(a.components)}).flatten().mapKeys("id").mapValues("enhancedSyllabus").value()}}function B(a){return{dictionary:e(a.sections).map(function(a){return e.values(a.components)}).flatten().mapKeys("id").mapValues("content").value()}}function C(){aa.isRefreshingCourseMetaData=!0,j.getDraftCourseStructure(k.uniqueid).then(function(a){s(a)}).finally(function(){r(),aa.isRefreshingCourseMetaData=!1})}function D(a){return aa.isLocalCopyDirty?(aa.isSyncingDraft=!0,j.updateCourseOutlineDraft(k.uniqueid,a).then(function(a){o(a),s(a),r()}).catch(function(a){alert("Error: ",a)}).finally(function(){r(),aa.isSyncingDraft=!1})):alert("There are not changes to save to the draft")}function E(){return aa.isLocalCopyDirty?alert("You have pending changes, saving them to the draft before publishing"):(aa.isSyncingLive=!0,j.updateCourseOutlineLive(k.uniqueid).then(function(a){o(a),s(a),r()}).catch(function(a){alert("Error: ",a)}).finally(function(){r(),aa.isSyncingLive=!1}))}function F(a){function b(a){return e.isString(a.bucket)&&e.size(a.bucket)&&e.isString(a.key)&&e.size(a.key)}var c=a&&a.content;switch(c&&c.type){case"video":return c.videosources&&e.values(c.videosources).length&&e.every(e.values(c.videosources),b);case"lab":return(e.isString(c.quickLabsId)||e.isNumber(c.quickLabsId))&&e.isString(c.labImage)&&e.size(c.labImage)&&e.isString(c.description)&&e.size(c.description);case"whitepaper":return e.isString(c.url)&&e.size(c.url);case"quiz":return e.isString(c.quizName)&&e.size(c.quizName);case"text":return c.textsources&&e.values(c.textsources).length&&e.every(e.values(c.textsources),b);default:return!1}}function G(a){confirm("Are you sure you want to remove this section?")&&P(a)}function H(a,b){confirm("Are you sure you want to remove this component?")&&U(a,b)}function I(){confirm("Are you sure you want to clear your local changes?")&&(p(aa.initialCourseOutlineUpdateModel),r())}function J(a,b){f.open({template:"app/teach/course/outline-edit-move-component-section-dialog.html",className:"ngdialog-theme-default",data:{allSections:aa.courseOutlineUpdateModel,fromSection:a}}).closePromise.then(function(c){angular.isDefined(c)&&e.isObject(c.value)&&(T(c.value.toSection,a.components[b]),U(a,b))})}function K(a,b){return f.open({template:"app/teach/course/outline-edit-section-dialog.html",className:"ngdialog-theme-default",data:e.assign({},e.cloneDeep(a),{isNewSection:b||!1})}).closePromise.then(function(b){return!(!angular.isDefined(b)||!e.isObject(b.value)||(S(a,e.pick(b.value,e.keys(a))),0))})}function L(a,b){var c=aa.componentContentStatus.dictionary[a.id];return f.open({template:"app/teach/course/outline-edit-component-dialog.html",className:"ngdialog-theme-default",controllerAs:"vm",controller:function(){var b=this;b.contentTypes=ba,b.posters=e.chunk(e.values(a.content.posters),3),b.isVideoSources=e.values(a.content.videosources).length>0,b.isTextSources=e.values(a.content.textsources).length>0},data:e.assign({},e.cloneDeep(a),c?{content:c}:{},{isNewComponent:b||!1})}).closePromise.then(function(b){return!(!angular.isDefined(b)||!e.isObject(b.value)||(S(a,e.pick(b.value,e.keys(a))),0))})}function M(a){var b={id:Y(),title:"New Lecture",url:Y(),description:"",content:{type:e.head(ba)}};L(b,!0).then(function(c){c&&T(a,b)})}function N(a){var b={id:Y(),title:"New section",url:Y(),description:"",components:[]};K(b,!0).then(function(c){c&&O(a,b)})}function O(a,b){aa.courseOutlineUpdateModel.splice(a+1,0,b),r()}function P(a){aa.courseOutlineUpdateModel.splice(a,1),r()}function Q(a){X(aa.courseOutlineUpdateModel,a,a-1),r()}function R(a){X(aa.courseOutlineUpdateModel,a,a+1),r()}function S(a,b){e.assign(a,b),r()}function T(a,b){a.components.push(b),r()}function U(a,b){a.components.splice(b,1),r()}function V(a,b){X(a.components,b,b-1),r()}function W(a,b){X(a.components,b,b+1),r()}function X(a,b,c){var d=a[b],e=a[c];a[c]=d,a[b]=e}function Y(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function Z(a){if(!a||!a.type)return"fa-question-circle";switch(a.type){case"video":return"fa-play";case"quiz":return"fa-check-square-o";case"text":return"fa-font";case"lab":return"fa-flask";case"whitepaper":return"fa-paperclip"}return"fa-question-circle"}function $(){return c.href("teach-course.outline-edit",{courseUrl:k.url},{absolute:!0})}var aa=this,ba=["video","quiz","text","lab","whitepaper"];aa.courseMetaData=k,aa.isCourseLoaded=!1,aa.isSyncingDraft=!1,aa.isSyncingLive=!1,aa.isRefreshingCourseMetaData=!1,aa.courseOutlineUpdateModel=null,aa.initialCourseOutlineUpdateModel=null,aa.isLocalCopyDirty=null,aa.componentValidationStatus=null,aa.courseProcessingStatus=null,aa.courseDirtyStatus=null,aa.enhancedSyllabusStatus=null,aa.componentContentStatus=null,aa.getContentIcon=Z,aa.backUrl=$,aa.userResetUpdateModel=I,aa.canPublishLocal=t,aa.canPublishLive=u,aa.refreshingCourseMetaData=C,aa.updateCourseOutlineLive=E,aa.updateCourseOutlineDraft=D,aa.createSection=N,aa.insertSection=O,aa.editSection=K,aa.userRemoveSection=G,aa.moveSectionUp=Q,aa.moveSectionDown=R,aa.createComponent=M,aa.insertComponent=T,aa.editComponent=L,aa.userRemoveComponent=H,aa.moveComponentUp=V,aa.moveComponentDown=W,aa.moveComponentSection=J;var ca=null;b.$on("$destroy",m),function(){i.onReady(n),ca=l(C,2e4)}(),b.$on("$stateChangeStart",function(a,b,c,d,e){if(aa.isLocalCopyDirty&&"app.course.watch"===b.name&&c.edit)return alert("Please save or discard the local copy before navigating into the lecture"),void a.preventDefault();if(aa.isLocalCopyDirty){if(confirm("You have unsaved changes, are you sure you want to leave?"))return;a.preventDefault()}})}a.$inject=["$rootScope","$scope","$state","$stateParams","lodash","ngDialog","$timeout","courseService","guruAuthService","coursePublishService","courseMetaData","$interval"],angular.module("app.teach").controller("InstructorCourseOutlineEditController",a)}(),function(){"use strict";function a(a){function b(){}a.$on("$destroy",b)}a.$inject=["$scope"],angular.module("app.teach").controller("InstructorCourseOverviewController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(){f.cancelOnReady(p),v&&d.cancel(v)}function m(){u.isRefreshingCourseMetaData=!0,j.getDraftCourseStructure(h.uniqueid).then(function(a){o(a)}).finally(function(){updateIsDirtyStatus(),u.isRefreshingCourseMetaData=!1})}function n(a){return{promoVideoProcessing:a.promoVideoUrl&&a.promoVideoUrl.processing}}function o(a){u.courseProcessingStatus=n(a)}function p(){return j.getDraftCourseStructure(h.uniqueid).then(function(a){u.courseProcessingStatus=n(a)}).finally(function(){u.isCourseLoaded=!0})}function q(){u.videoIsLoaded=!0}function r(a){"promo"===a.componentIdentifier&&(a.isCompleted?(u.uploadStatus="Publish",a.error&&console.log(a.error),u.uploadProcess=0):(u.uploadStatus="Uploading",u.uploadProcess=a.progress),u.finalizeStatus="")}function s(a){g.uploadFile({uniqueid:h.uniqueid},"promo","promo",r,a),u.uploadProcess=0}function t(){var a={courseId:h.uniqueid};k.sendQuery("mutation finalizePromotionUpload($courseId: String!) {finalizePromotionUpload(courseId: $courseId) { status }}",a).then(function(a){!0===a.data.finalizePromotionUpload.status?u.finalizeStatus="Finalized":u.finalizeStatus="Error"}).catch(function(a){u.isError=!0})}var u=this;u.courseMetaData=h,u.videoIsLoaded=!1,u.isCourseLoaded=!1,u.courseProcessingStatus=null,u.isRefreshingCourseMetaData=!1,u.finalizeStatus="",u.terms=i,u.previewPlayerReady=q,u.previewVideoSources=h.previewVideoUrl,u.previewVideoPosterUrl=h.previewVideoPosterUrl,u.finalizePromoUpload=t,u.uploadProcess=null,u.uploadStatus="Publish",u.uploadProcessing=!1,u.uploadVideo=s;var v=null;a.$on("$destroy",l),function(){f.onReady(p),v=d(m,2e4)}()}a.$inject=["$scope","lodash","$timeout","$interval","courseService","guruAuthService","fileUploadService","courseMetaData","courseTermsService","coursePublishService","graphqlService"],angular.module("app.teach").controller("InstructorPromotionController",a)}(),function(){"use strict";function a(a,b,c,d,e,f){var g=this,h=f.uniqueid;g.isLoaded=!1,g.isError=!1,function(){d.track("Viewed Organisation Custom Reports");var b={courseId:h};e.sendQuery("query customReport($courseId: String!) {instructorCourseDashboard(courseId: $courseId) { periscopeSignedUrl }}",b).then(function(b){var c=b.data.instructorCourseDashboard;g.periscopeEmbedUrl=a.trustAsResourceUrl(c.periscopeSignedUrl),g.isLoaded=!0}).catch(function(a){g.isError=!0})}()}a.$inject=["$sce","$scope","$stateParams","analyticsService","graphqlService","courseMetaData"],angular.module("app.teach").controller("InstructorCourseStatisticsController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(){h.cancelOnReady(k),h.cancelOnNotReady(l)}function k(){e.isAuthenticated()&&(g.searchCourses(null,null,100,0,null,null,null).then(function(a){n.courses=c.filter(a.hits,function(a){return f.isUserAuthorOfCourse(a)})}),b.getAllWebSeries().then(function(a){n.allWebseries=a}))}function l(){n.courses=null}function m(a){return d.getSquareUrl(a.artworkKey)}var n=this;n.courses=null,n.allWebseries=null,n.getCourseArtwork=m,a.$on("$destroy",j),function(){h.onReady(k),h.onNotReady(l)}()}a.$inject=["$scope","webseriesEditorService","lodash","artworkService","authService","courseService","courseMetadataService","guruAuthService","$q"],angular.module("app.teach").controller("InstructorDashboardController",a)}(),function(){"use strict";function a(a,b){var c=this;c.isInstructor=!1,a.isInstructor(b.getUserId()).then(function(a){c.isInstructor=a})}a.$inject=["roleService","authService"],angular.module("app.teach").controller("InstructorLayoutController",a)}(),function(){"use strict";function a(a,b,c,d,e,f){var g=this,h=f.getUserId();g.isLoaded=!1,g.isError=!1,function(){d.track("Viewed Organisation Custom Reports");var b={userId:h};e.sendQuery("query customReport($userId: String!) {instructorDashboard(userId: $userId) { periscopeSignedUrl }}",b).then(function(b){var c=b.data.instructorDashboard;g.periscopeEmbedUrl=a.trustAsResourceUrl(c.periscopeSignedUrl),g.isLoaded=!0}).catch(function(a){g.isError=!0})}()}a.$inject=["$sce","$scope","$stateParams","analyticsService","graphqlService","authService"],angular.module("app.teach").controller("InstructorOverviewController",a)}(),function(){"use strict";function a(a,c){a.configureStates(b(c,a.load))}function b(a,b){return[{state:"teach",abstract:!0,config:{url:"/teach",controller:"InstructorLayoutController",templateUrl:"app/teach/layout.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0},resolve:{protect:c()}}},{state:"teach.dashboard",config:{url:"/dashboard",controller:"InstructorDashboardController",templateUrl:"app/teach/dashboard.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0}}},{state:"teach.overview",config:{url:"/overview",controller:"InstructorOverviewController",templateUrl:"app/teach/overview.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0}}},{state:"teach-course",abstract:!0,config:{url:"/teach/course/{courseUrl}",controller:"InstructorCourseLayoutController",templateUrl:"app/teach/course/layout.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0},resolve:{courseMetaData:d()}}},{state:"teach-course.overview",config:{url:"/overview",controller:"InstructorCourseOverviewController",templateUrl:"app/teach/course/overview.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0}}},{state:"teach-course.promotion",config:{url:"/promotion",controller:"InstructorPromotionController",templateUrl:"app/teach/course/promotion.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0}}},{state:"teach-course.statistics",config:{url:"/statistics",controller:"InstructorCourseStatisticsController",templateUrl:"app/teach/course/statistics.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0}}},{state:"teach-course.outline-edit",config:{url:"/outline",controller:"InstructorCourseOutlineEditController",templateUrl:"app/teach/course/outline-edit.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0}}},{state:"teach-webseries",abstract:!0,config:{url:"/teach/webseries/{webseriesUrl}",controller:"InstructorWebSeriesLayoutController",templateUrl:"app/teach/webseries/layout.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0},resolve:{webseriesMetaData:e()}}},{state:"teach-webseries.overview",config:{url:"/overview",controller:"InstructorWebSeriesOverviewController",templateUrl:"app/teach/webseries/overview.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0}}},{state:"teach-webseries.outline-edit",config:{url:"/outline",controller:"InstructorWebSeriesOutlineEditController",templateUrl:"app/teach/webseries/outline-edit.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0}}},{state:"teach-webseries.promotion",config:{url:"/promotion",controller:"InstructorWebseriesPromotionController",templateUrl:"app/teach/webseries/promotion.html",data:{logoutState:"home",loginCategory:"teach",mustLogin:!0}}}]}function c(){return["lodash","$state","$q","roleService",function(a,b,c,d){return c.all([d.isEditor(),d.isInstructor()]).then(a.spread(function(a,d){if(!a&&!d)return b.go("home"),c.reject(new Error("User is not a member can cannot access restricted content"))}))}]}function d(){return["$q","$state","$stateParams","courseService","courseMetadataService","lodash",function(a,b,c,d,e,f){return e.getCourseByUrl(c.courseUrl).then(function(b){return a.all([b,d.isUserAuthorOfCoursePromise(b)])}).then(f.spread(function(c,d){
return d?c:(b.go("home"),a.reject())}))}]}function e(){return["$stateParams","webseriesEditorService",function(a,b){return b.getWebSeriesByUrl(a.webseriesUrl)}]}a.$inject=["routerHelper","appConfig"],angular.module("app.teach").run(a)}(),function(){"use strict";function a(a,b){var c=this;c.webseriesUrl=a.webseriesUrl,c.webseriesMetaData=b}a.$inject=["$stateParams","webseriesMetaData"],angular.module("app.teach").controller("InstructorWebSeriesLayoutController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(){B()}function l(a){}function m(){return Date.now()}function n(a){var b=A.contentById[a.activeEpisodeContentId];return b&&"COMPLETE"===b.transcodeStatus?a.thumbnailUrl?g.open({template:"app/teach/webseries/dialog/publish-date-dialog.html",className:"ngdialog-theme-default",width:"60%",data:{},controllerAs:"vm",controller:["moment",function(a){var b=this;b.date=new Date,b.time=a(new Date).format("HH:mm"),b.dateOptions={formatYear:"yy",startingDay:1,showWeeks:!1}}]}).closePromise.then(function(a){if(angular.isDefined(a)&&f.isObject(a.value))return a.value}).then(function(b){if(b){var d=c(b.date).format("YYYY-MM-DD"),e=c(d+" "+b.time,"YYYY-MM-DD HH:mm");return i.publishEpisode(a.episodeId,e.valueOf())}}).then(function(a){a&&(f.remove(A.publishedDateNotSetEpisodes,["episodeId",a.episodeId]),f.remove(A.publishingEpisodes,["episodeId",a.episodeId]),f.remove(A.episodes,["episodeId",a.episodeId]),m()>=a.publishedDateKey&&A.episodes.push(a),m()<a.publishedDateKey&&A.publishingEpisodes.push(a))}):alert("You cannot publish something has does not have a thumbnail selected"):alert("You cannot publish something has does not have a completed primary video")}function o(){function a(a){return!A.contentById[a]||"COMPLETE"!==A.contentById[a].transcodeStatus}return f([]).concat(A.episodes,A.publishingEpisodes,A.publishedDateNotSetEpisodes).map("episodeContentIds").flatten().uniq().filter(a).value()}function p(){r({title:"Episode Title",shortSummary:"Episode ShortSummary",description:"",episodeUrl:x(),episodeContentIds:[]},!0).then(function(a){a&&i.createEpisodeUnpublished(j.seriesId,{title:a.title,shortSummary:a.shortSummary,description:a.description,episodeUrl:a.episodeUrl}).then(function(a){A.publishedDateNotSetEpisodes.push(a)})})}function q(a){return r(a,!1).then(function(b){if(b)return e.resolve().then(function(){if(a.activeEpisodeContentId!==b.activeEpisodeContentId)return i.setEpisodePrimaryContentSource(a.episodeId,b.activeEpisodeContentId)}).then(function(c){var d=["title","shortSummary","description","episodeUrl"];return _.isEqual(_.pick(b,d),_.pick(a,d))?c:i.updateEpisodeMetaData(a.episodeId,_.pick(b,d))})}).then(function(a){a&&z(a)})}function r(a,b){f.cloneDeep(a);return g.open({template:"app/teach/webseries/dialog/episode-edit-dialog.html",className:"ngdialog-theme-default",width:"40%",data:{episode:f.assign(f.cloneDeep(a),{isNewEpisode:b||!1}),episodeContent:a.episodeContentIds.map(function(a){return A.contentById[a]})}}).closePromise.then(function(a){return angular.isDefined(a)&&f.isObject(a.value)?a.value:null})}function s(a){return g.open({template:"app/teach/webseries/dialog/thumbnail-dialog.html",className:"ngdialog-theme-default",width:"80%",data:{contentThumbnails:f.chain(a.episodeContentIds).map(function(a){return A.contentById[a]}).cloneDeep().map(function(a){return f.assign({},a,{thumbnailList:f.chunk(a.thumbnailList,4)})}).value()},controller:["$scope",function(b){this.selectedThumbnail=a.thumbnailUrl}],controllerAs:"vm"}).closePromise.then(function(b){return angular.isDefined(b)&&f.isObject(b.value)?i.setThumbnailSource(a.episodeId,b.value.selectedThumbnail).then(function(a){z(a)}):null})}function t(a){return g.open({template:"app/teach/webseries/dialog/episode-resources-dialog.html",className:"ngdialog-theme-default",width:"25%",data:{resources:f.cloneDeep(a.resources)},controller:["$scope","lodash",function(a,b){var c=this;c.addResource=function(){a.ngDialogData.resources.push({title:"",url:""})},c.removeResource=function(b){a.ngDialogData.resources.splice(b,1)},c.validateResources=function(a){function c(a){return b.isString(a)&&a.length>0}function d(a){return c(a.url)&&c(a.title)}return!!b.every(a,d)||(alert("Resource is missing url or title"),!1)}}],controllerAs:"vm"}).closePromise.then(function(b){return angular.isDefined(b)&&f.isObject(b.value)?i.setEpisodeResources(a.episodeId,b.value.resources).then(function(a){z(a)}):null})}function u(a){return g.open({template:"app/teach/webseries/dialog/video-upload-dialog.html",className:"ngdialog-theme-default",controllerAs:"vm",controller:["contentEditorService",function(b){function c(a){d.percentUploaded=parseInt(100*a.loaded/a.total),d.btnState="UPLOADING"}var d=this;d.percentUploaded=null,d.btnState="UPLOAD",d.processedContent=null,d.uploadVideo=function(e){b.uploadVideo(e,c).then(function(a){return b.startTranscoder(a,!0)}).then(function(b){return i.setEpisodeContentSource(a.episodeId,b.contentId).then(f.constant(b))}).then(function(a){d.processedContent=a,d.btnState="TRANSCODING"}).catch(function(){})}}]}).closePromise.then(function(b){if(angular.isDefined(b)&&f.isObject(b.value)){var c=b.value;a.episodeContentIds.push(c.contentId)}})}function v(a){i.setEpsiodePublicallyHidden(a).then(function(a){z(a)})}function w(a){i.setEpsiodePublicallyVisible(a).then(function(a){z(a)})}function x(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function y(a){return a.isPublic&&A.series.isPublic?b.href("series.view",{seriesUrl:A.series.seriesUrl,episodeUrl:a.episodeUrl}):null}function z(a){if(_.some(A.episodes,["episodeId",a.episodeId])){var b=_.findIndex(A.episodes,["episodeId",a.episodeId]);A.episodes[b]=a}if(_.some(A.publishedDateNotSetEpisodes,["episodeId",a.episodeId])){var b=_.findIndex(A.publishedDateNotSetEpisodes,["episodeId",a.episodeId]);A.publishedDateNotSetEpisodes[b]=a}if(_.some(A.publishingEpisodes,["episodeId",a.episodeId])){var b=_.findIndex(A.publishingEpisodes,["episodeId",a.episodeId]);A.publishingEpisodes[b]=a}}var A=this;A.series=j,A.episodes=j.allEpisodes.PUBLISHED,A.publishingEpisodes=j.allEpisodes.PUBLISHING,A.publishedDateNotSetEpisodes=j.allEpisodes.PUBLISH_DATE_NOT_SET,A.contentById={},A.onPlayerReady=l,A.uploadEpisode=u,A.createEpisode=p,A.editEpisode=q,A.publish=n,A.hideEpisode=v,A.showEpisode=w,A.selectThumbnail=s,A.setEpisodeResources=t,A.getPublicViewerEpisodeUrl=y,a.$on("$destroy",k);var B=function(){function a(){h.batchGetContent(o()).catch(function(a){return console.error(a),[]}).then(function(c){var e=f.keyBy(c,"contentId");if(b){for(var g in e)A.contentById[g]||(A.contentById[g]=e[g]),e[g].transcodeStatus!==A.contentById[g].transcodeStatus&&(A.contentById[g]=e[g]);return d(f.identity,2e3).then(a)}})}var b=!0;return a(),function(){b=!1}}()}a.$inject=["$scope","$state","moment","$timeout","$q","lodash","ngDialog","contentService","webseriesEditorService","webseriesMetaData"],angular.module("app.teach").controller("InstructorWebSeriesOutlineEditController",a)}(),function(){"use strict";function a(a){function b(){}a.$on("$destroy",b)}a.$inject=["$scope"],angular.module("app.teach").controller("InstructorWebSeriesOverviewController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){o.contentId=a,g.batchGetContent([a]).then(function(a){o.content=f.head(a)})}function k(){return e.open({template:"app/teach/webseries/dialog/video-upload-dialog.html",className:"ngdialog-theme-default",controllerAs:"vm",controller:["contentEditorService",function(a){function b(a){c.percentUploaded=parseInt(100*a.loaded/a.total),c.btnState="UPLOADING"}var c=this;c.percentUploaded=null,c.btnState="UPLOAD",c.processedContent=null,c.uploadVideo=function(d){a.uploadVideo(d,b).then(function(b){return a.startTranscoder(b,!0)}).then(function(a){c.processedContent=a,c.btnState="TRANSCODING"})}}]}).closePromise.then(function(a){if(angular.isDefined(a)&&f.isObject(a.value)){var b=a.value,c=l(b.contentId).then(function(a){return i.setSeriesOverviewContent(h.seriesId,{contentId:a.contentId,thumbnailUrl:null})}).then(function(){return j(b.contentId)});return o.thumbnailUrl=null,o.isTranscoding=!0,c.finally(function(){o.isTranscoding=!1}),c}}).catch(function(a){console.error(a)})}function l(a){function c(){return g.batchGetContent([a]).then(function(a){var e=f.head(a);return"COMPLETE"===e.transcodeStatus?e:"ERROR"===e.transcodeStatus?b.reject(e):d(f.identity,2e3).then(c)})}return c()}function m(){var a=o.content,b=o.thumbnailUrl;return e.open({template:"app/teach/webseries/dialog/thumbnail-dialog.html",className:"ngdialog-theme-default",width:"80%",data:{contentThumbnails:[f.assign({},a,{thumbnailList:f.chunk(a.thumbnailList,4)})]},controller:["$scope",function(a){this.selectedThumbnail=b}],controllerAs:"vm"}).closePromise.then(function(b){if(angular.isDefined(b)&&f.isObject(b.value)){var c=b.value.selectedThumbnail;return o.thumbnailUrl=c,i.setSeriesOverviewContent(h.seriesId,{contentId:a.contentId,thumbnailUrl:c})}return null})}function n(a){return c.getOptimisedUrl(a,{imageWidth:1e3})}var o=this;o.series=h,o.contentId=f.get(h,"seriesOverviewContent.contentId")||null,o.thumbnailUrl=f.get(h,"seriesOverviewContent.thumbnailUrl")||null,o.content=null,o.isTranscoding=!1,o.uploadSeriesOverviewContent=k,o.selectThumbnail=m,o.getImageUrl=n,function(){o.contentId&&j(o.contentId)}()}a.$inject=["$scope","$q","optimiseImageService","$timeout","ngDialog","lodash","contentService","webseriesMetaData","webseriesEditorService"],angular.module("app.teach").controller("InstructorWebseriesPromotionController",a)}(),function(){"use strict";angular.module("app.certifications",["app.core"])}(),function(){"use strict";function a(a,b,c,d,e){function f(a){r||s||!a.userCertificationId||(s=!0,a.userCertificationId.match(/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi)?(q=a.userCertificationId,h(!0,!0)):m({status:"ERROR"}))}function g(a){p=0,s=!0,q=a,h(!0,!1)}function h(b,c){r||(b?(c&&(p=o),k()):r=a(k,n))}function i(){r&&(a.cancel(r),r=null)}function j(){i(),p=0,q=null}function k(){if(i(),null!==q)try{return d.sendQuery("query getUserCertification($userCertificationId:String!) {   getUserCertification(userCertificationId: $userCertificationId) {       status id errorReason certificateNumber dateAcquired provider title expiryDate imgUrl   }}",{userCertificationId:q}).then(function(a){a&&a.data&&a.data.getUserCertification?(p=0,m(a.data.getUserCertification)):l()}).catch(function(){l()})}catch(a){l()}}function l(){p<o?(p++,h(!1)):m({status:"ERROR"})}function m(a){var d=a.status,e={};if(e.userCertificationId=a.id||q,"ERROR"===d)j(),b.go("certifications.error");else if("CONVERTING"===d||"RECOGNISING"===d)h(!1),b.go("certifications.step2",e);else if("REQUIRES_ACTION"===d){var f=c.assign(c.omit(a,["status"]),e);j(),b.go("certifications.step3",f)}else"COMPLETE"===d&&(j(),b.go("certifications.success"))}var n=2e3,o=3,p=0,q=null,r=null,s=!1,t={monitorStatus:g,clearPolling:j,checkId:f};return function(){j()}(),t}a.$inject=["$timeout","$state","lodash","graphqlService","lambdaService"],angular.module("app.certifications").factory("certificationPollingService",a)}(),function(){"use strict";function a(a,c){a.configureStates(b(c,a.load))}function b(a,b){return[{state:"certifications",config:{abstract:!0,url:"",templateUrl:"app/certifications/layout.html",data:{mustLogin:!0}}},{state:"certifications.step0",config:{url:"/certifications/step0?{userCertificationId}",templateUrl:"app/certifications/components/certifications-step-0.html",controller:"CertificationsStep0Controller",meta:{title:"Upload your Certifications",description:"Complete your profile and show off your knowledge by uploading your cloud certifications"},resolve:{availableCertifications:e()}}},{state:"certifications.step1",config:{url:"/certifications/step1?{userCertificationId}",templateUrl:"app/certifications/components/certifications-step-1.html",controller:"CertificationsStep1Controller",meta:{title:"Step 1 - Upload Certification",description:"Select and upload your cloud certification to show off your expertise"}}},{state:"certifications.step2",config:{url:"/certifications/step2?{userCertificationId}",templateUrl:"app/certifications/components/certifications-step-2.html",controller:"CertificationsStep2Controller",meta:{title:"Step 2 - Processing PDF",description:"Our computer vision algorithm is scanning your PDF to verify your certification"},resolve:{protectStep2:c()}}},{state:"certifications.step3",config:{url:"/certifications/step3?{userCertificationId}&{certificateNumber}&{title}&{provider}&{dateAcquired}&{expiryDate}&{imgUrl}",templateUrl:"app/certifications/components/certifications-step-3.html",controller:"CertificationsStep3Controller",meta:{title:"Step 3 - Verify Details",description:"Verify the details in your certification so we know you are as smart as you say you are"},resolve:{protectStep3:d()}}},{state:"certifications.success",config:{url:"/certifications/success",templateUrl:"app/certifications/components/certifications-step-success.html",controller:"CertificationsStepSuccessController",meta:{title:"Success - Certification Added!",description:"Cloud certification uploaded. Keep adding more certifications!"}}},{state:"certifications.error",config:{url:"/certifications/error",templateUrl:"app/certifications/components/certifications-step-error.html",controller:"CertificationsStepErrorController",meta:{title:"Error Processing File",description:"Something went wrong uploading or scanning your cloud certification"}}}]}function c(){return["$q","$stateParams","$state","$timeout",function(a,b,c,d){var e=a.defer();return b.userCertificationId?e.resolve():(d(function(){c.go("certifications.step0",b,{location:"replace"})}),e.reject()),e.promise}]}function d(){return["$q","$stateParams","$state","$timeout",function(a,b,c,d){var e=a.defer();return b.userCertificationId?e.resolve():(d(function(){c.go("certifications.step0",b,{location:"replace"})}),e.reject()),e.promise}]}function e(){return["graphqlService",function(a){return a.sendQuery("                query getAvailableCertifications {                    getAvailableCertifications {                        id, title, provider                    }                }            ").then(function(a){return a.data.getAvailableCertifications})}]}a.$inject=["routerHelper","appConfig"],angular.module("app.checkout").run(a)}(),function(){"use strict";function a(a,b){this.availableCertifications=b.groupBy(b.map(a,function(a){var c="CompTIA"===a.provider||"Linux Professional Institute"===a.provider,d=c?"Linux":"AWS"===a.provider?"Amazon Web Services":a.provider;return b.assign({},a,{provider:d})}),"provider")}a.$inject=["availableCertifications","lodash"],angular.module("app.certifications").controller("CertificationsStep0Controller",a)}(),function(){"use strict";function a(a,b,c,d){function e(a){c.cancelUpload(),a.stopPropagation()}function f(b){h.status=b.status,"finished"===h.status?b.error?a.go("certifications.error"):(d.monitorStatus(b.userCertificationId),a.go("certifications.step2",{userCertificationId:b.userCertificationId})):"cancelled"===h.status?h.status="waiting":"uploading"===h.status&&(h.progress=b.progress)}function g(a,b,d,e,g,i){return g&&g.length?void(h.status="validationError"):0===a.length?void(h.status="validationError"):(h.selectedFile=b,c.uploadFile(f,b),void(h.progress=0))}var h=this;h.status="waiting",h.uploadFile=g,h.cancelUpload=e,h.validationRules={size:{max:"5MB",min:"10B"}},h.fileValidationRules="application/pdf",h.selectedFile=null}a.$inject=["$state","$stateParams","certificationFileUploadService","certificationPollingService"],angular.module("app.certifications").controller("CertificationsStep1Controller",a)}(),function(){"use strict";function a(a,b){!function(){b.checkId(a)}()}a.$inject=["$stateParams","certificationPollingService"],angular.module("app.certifications").controller("CertificationsStep2Controller",a)}(),function(){"use strict";function a(a,b,c,d){function e(a){m.inputModel.certificationName=a.provider+" - "+a.title,m.inputModel.certificateNumber=a.certificateNumber,m.inputModel.userCertificationId=a.userCertificationId,m.inputModel.dateAcquired=new Date(a.dateAcquired),m.inputModel.expiryDate=new Date(a.expiryDate),h().then(function(a){a.data.getUploadedCertificationLink.error||(m.inputModel.imgUrl=a.data.getUploadedCertificationLink.url)})}function f(){g().then(function(b){var c=b.data.completeCertificationUpload;c.errorReason||"COMPLETE"!==c.status||a.go("certifications.success")})}function g(){return c.sendQuery("mutation completeCertificationUpload($userCertification: UserCertificationCompleteUpdate!) {   completeCertificationUpload(userCertification: $userCertification) {       status id errorReason   }}",{userCertification:{id:m.inputModel.userCertificationId,certificateNumber:m.inputModel.certificateNumber,dateAcquired:m.inputModel.dateAcquired,expiryDate:m.inputModel.expiryDate}})}function h(){return c.sendQuery("query GetUploadedCertificationLink($userCertificationId: String!) {   getUploadedCertificationLink(userCertificationId: $userCertificationId) {       url error   }}",{userCertificationId:m.inputModel.userCertificationId})}function i(){j().then(function(b){a.go("certifications.step1")}).catch(function(){a.go("certifications.step1")})}function j(){return c.sendQuery("mutation cancelCertificatesUpload($userCertificationId: String!) {   cancelCertificatesUpload(userCertificationId: $userCertificationId) }",{userCertificationId:m.inputModel.userCertificationId})}function k(a){a.open=!0}function l(a){a.open=!1}var m=this;m.pickerDateAcquired={open:!1},m.pickerDateExpires={open:!1},m.inputModel={userCertificationId:"",certificationName:"",certificateNumber:"",dateAcquired:"",expiryDate:"",imgUrl:""},m.submitForm=f,m.openPicker=k,m.closePicker=l,m.cancelUpload=i,function(){e(b),d.checkId(b)}()}a.$inject=["$state","$stateParams","graphqlService","certificationPollingService"],angular.module("app.certifications").controller("CertificationsStep3Controller",a)}(),function(){"use strict";function a(){}angular.module("app.certifications").controller("CertificationsStepErrorController",a)}(),function(){"use strict";function a(a){var b=this;b.profile=null,b.profileLoaded=!1,function(){a.getProfileAndHandle().then(function(c){b.profile=c,b.profile.picture=a.handleProfileImage(b.profile.picture,250);var d=new Image;d.src=b.profile.picture,d.onload=function(){b.profileLoaded=!0}})}()}a.$inject=["profileService"],angular.module("app.certifications").controller("CertificationsStepSuccessController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(a){"function"==typeof n&&n(a),a.resetState&&(n=null,o=null,p=!1)}function j(){p&&o&&o.abort(),i({resetState:!0,status:"cancelled",error:"Aborted Upload"})}function k(a,b){return n=a,p?void i({resetState:!0,status:"error",error:"Currently uploading please wait"}):b?(i({resetState:!1,status:"pending"}),void m().then(function(a){var c=a.data.requestCertificatesUpload,d=h.upload({url:c.uploadUri,method:"POST",data:{key:c.fileName,AWSAccessKeyId:c.AWSAccessKey,acl:"private",policy:c.policy,signature:c.signature,"Content-Type":""!=b.type?b.type:"application/octet-stream",file:b}});n=n,o=d,l(d,c)},function(a){i({resetState:!0,status:"error",progress:a})})):void i({resetState:!0,status:"error",error:"Could not find file"})}function l(a,b){p=!0,a.then(function(a){p=!1,i({resetState:!0,status:"finished",key:b.fileName,bucket:b.bucket,userCertificationId:b.certificationId})},function(a){p=!1,i({resetState:!0,status:"error",error:a})},function(a){i({resetState:!1,status:"uploading",progress:parseInt(100*a.loaded/a.total)})})}function m(){return f.sendQuery("query requestCertificatesUpload {   requestCertificatesUpload {       signature, policy, AWSAccessKey, fileName, uploadUri, bucket, certificationId   }}")}var n,o,p=!1;return{uploadFile:k,cancelUpload:j}}a.$inject=["$q","$rootScope","$timeout","appConfig","lambdaService","graphqlService","lodash","Upload"],angular.module("app.certifications").factory("certificationFileUploadService",a)}(),function(){"use strict";function a(){return{scope:{course:"=",section:"=",component:"="},transclude:!0,controllerAs:"vm",templateUrl:"app/certifications/uploader/certification-upload.html",bindToController:!0,controller:b}}function b(a,b,c,d,e,f){function g(){f.cancelUpload()}function h(a){a.isCompleted?(j.status="publish",j.progress=0,a.error?console.log(a.error):j.fileCompleteCallback(a.userCertificationId)):(j.status="uploading",j.progress=a.progress)}function i(a){f.uploadFile(h,a),j.progress=0}var j=this;j.status="waiting",j.upload=i,j.cancelUpload=g}b.$inject=["$scope","$state","$rootScope","$q","lambdaService","certificationFileUploadService"],angular.module("app.certifications").directive("certificationUpload",a)}(),function(){"use strict";angular.module("app.series",["app.core","app.core.brand"])}(),function(){"use strict";function a(a,c,d){c.configureStates(b())}function b(){return[{state:"series",config:{abstract:!0,url:"/series",views:{"":{templateUrl:"app/series/layout.html"}}}},{state:"series.view",config:{url:"/:seriesUrl/view/:episodeUrl",templateUrl:"app/series/vodcast-viewer.html",data:{title:"Browse Web Series",navTab:"Courses",cssClass:"page__dark"},controller:"SeriesVodcastViewerController",controllerAs:"vm",resolve:{series:["$state","$q","roleService","$stateParams","webseriesService","lodash",function(a,b,c,d,e,f){var g=e.getWebSeriesAndEpisodeByUrlForVodcastViewer(d.seriesUrl,d.episodeUrl),h=c.isMember(),i=b.all([g,h]).then(f.spread(function(a,c){return a.isProtected&&!c?b.reject(new Error("User is not a member can cannot access restricted content")):a}));return i.then(function(a){e.setEpisodeViewed(a.seriesId,a.currentEpisode.episodeId)}),i.catch(function(c){return a.go("series.playlist",{seriesUrl:d.seriesUrl}),b.reject()})}]}}},{state:"series.playlist",config:{url:"/:seriesUrl",templateUrl:"app/series/vodcast-playlist.html",data:{title:"View All Episodes",navTab:"Courses",cssClass:"page__dark page__subtleNav page__seriesOverview"},controller:"VodcastPlaylistController",controllerAs:"vm",resolve:{series:["$stateParams","webseriesService",function(a,b){return b.getWebSeriesAndEpisodeByUrlForVodcastPlaylist(a.seriesUrl)}]}}}]}a.$inject=["appConfig","routerHelper","acloudguruMeta"],angular.module("app.series").run(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){j.cancelOnReady(q),j.cancelOnNotReady(q)}function q(){m.isMember().then(function(a){z.isMember=a})}function r(a){return l.getOptimisedUrl(a,{imageWidth:1e3})}function s(){return z.series.isProtected&&!z.isMember}function t(a){return a.split(" ")[0]}function u(a){return a.split(" ").slice(1).join(" ")}function v(a){return s()?b.href("become-a-member-standard"):b.href("series.view",{seriesUrl:z.series.seriesUrl,episodeUrl:a.episodeUrl})}function w(){return"url('"+n.getBannerUrl(z.series.artworkKey)+"')"}function x(){var a=z.series.title;g.setTitle(a),g.setTag("og:title",a);var b=z.series.description;g.setTag("description",b),g.setTag("og:description",b);var c=z.videoThumbnail;g.setTag("og:image",c)}function y(a){s()&&z.showWhyJoinModal(a,"annual",!1)}var z=this;z.loading=!0,z.getImageUrl=r,z.isMember=!1,z.getPlaylistUrl=v,z.isProtectedContent=s,z.backgroundStyle=w,z.firstWord=t,z.remainingWord=u,z.clickPlaylistItem=y,z.showWhyJoinModal=i.showWhyJoinModal,function(){z.series=a,o.storeSeriesVisit(z.series.seriesId),z.seriesOverviewContent=f.get(a,"seriesOverviewContent.content")||f.get(a,"latestEpisode.activeEpisodeContent")||null,z.thumbnailUrl=f.get(a,"seriesOverviewContent.thumbnailUrl")||f.get(a,"latestEpisode.thumbnailUrl")||null,x(),q(),j.onReady(q),j.onNotReady(q)}(),c.$on("$destroy",p)}a.$inject=["series","$state","$scope","$stateParams","$uibModal","lodash","ngMeta","authService","whyJoinService","guruAuthService","webseriesService","optimiseImageService","roleService","artworkService","recommendationStorageService"],angular.module("app.series").controller("VodcastPlaylistController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){w.series&&w.series.forumRoomId&&h.fetchThreads({room:w.series.forumRoomId,rank:"recent",type:"question"}).then(function(a){w.recentThreads=a.hits})}function p(){if(w.currentEpisode&&w.series){var a=d.episodeUrl&&"latest"===d.episodeUrl.toLowerCase();if(w.series.title){var b=w.series.title+": Watch the latest videos";!a&&w.currentEpisode.title&&(b=w.series.title+": "+w.currentEpisode.title),g.setTitle(b),g.setTag("og:title",b)}var c=w.series.description;if(!a&&w.currentEpisode.description&&(c=w.currentEpisode.description),g.setTag("description",c),g.setTag("og:description",c),w.videoThumbnail){var e=w.videoThumbnail;g.setTag("og:image",e)}}}function q(){if(w.subscribeEmail){var a={email:w.subscribeEmail};i.submitWebseriesForm(w.series.hubspot.hubspotSubscribeFormId,a).then(function(){w.subscribeError=!1,w.showSubscribed=!0}).catch(function(){w.subscribeError=!0,w.showSubscribed=!1})}}function r(a){x=a}function s(){var a=f.get(w.currentEpisode,"userProgress.secondsWatched");a&&x.seekTime(a),x.play()}function t(a,b){a>0&&b>0&&l.setEpisodeProgress(w.series.seriesId,w.series.currentEpisode.episodeId,Math.floor(a),(a/b).toFixed(2))}function u(a,b){w.updateVideoTime.flush(),1===f.random(1,3)&&v()}function v(){return e.open({templateUrl:"/app/course/components/gu-rating-modal.html",size:"md",controller:"GuRatingModalController",controllerAs:"vm",windowClass:"GuRatingModal",resolve:{modalTitle:function(){return"What did you think of this episode?"},ratingConfirmation:function(){return"Thanks for rating!"},trackingProperties:function(){return{type:"episode",seriesId:w.series.seriesId,episodeId:w.currentEpisode.episodeId,seriesTitle:w.series.title}}}}).result}var w=this,x=null;w.subscribeError=!1,w.subscribeUser=q,w.showRatingModal=v,w.playbackSpeeds=["0.8","1","1.2","1.3","1.5","1.75","2.0"],w.limitEpisodeCount=15,w.videoCompleted=u,w.onPlayerReady=r,w.canPlay=f.once(s),w.updateVideoTime=f.throttle(t,1e4,{trailing:!1}),function(){w.series=b,w.rssUrl=k.getUrl("rss/series/"+b.seriesUrl),m.storeSeriesVisit(w.series.seriesId),w.episodeList=b.activeEpisodes,w.currentEpisode=b.currentEpisode,w.titleSplit=w.currentEpisode.title.split(" "),w.videoThumbnail=j.getOptimisedUrl(w.currentEpisode.thumbnailUrl,{imageWidth:800}),o(),p(),a.$on("VIDEO_QUALITY_CHANGED",function(a,b){b.name&&n.setVideoQuality(b.name)})}()}a.$inject=["$rootScope","series","$sce","$stateParams","$uibModal","lodash","ngMeta","forumService","hubspot","optimiseImageService","rssService","webseriesService","recommendationStorageService","userPreferenceService"],angular.module("app.series").controller("SeriesVodcastViewerController",a)}(),function(){"use strict";angular.module("app.examSimulator",["app.course","app.core","countUpModule"])}(),function(){"use strict";function a(a,b,c,d,e){function f(a){b.forEach(a,function(a){h.examData[a]={courseId:a},c.getMetadata(a).then(function(b){h.examData[a].metadata=b}),e.getCourseById(a).then(function(b){h.examData[a].courseData=b})})}function g(a){return d.getSquareUrl(a)}var h=this;h.examData={},h.getArtworkUrl=g,function(){c.getSupportedCourses().then(f)}()}a.$inject=["$q","lodash","examSimulatorService","artworkService","courseMetadataService"],angular.module("app.examSimulator").controller("ExamSimulatorChooseController",a)}(),function(){"use strict";function a(a){function b(){a.close()}this.close=b}a.$inject=["$uibModalInstance"],angular.module("app.examSimulator").controller("ExamAlreadyCompletedModalController",a)}(),function(){"use strict";function a(a,b,c,d){function e(a){h.goToQuestion(a),g()}function f(a){h.answerModel[a].historicallyFlagged=!0}function g(){a.close()}var h=this;h.close=g,h.questionClick=e,h.checkboxChanged=f,h.answerModel=c,h.questionArray=b,h.goToQuestion=d}a.$inject=["$uibModalInstance","questionArray","answerModel","goToQuestion"],angular.module("app.examSimulator").controller("ExamNavModalController",a)}(),function(){"use strict";function a(a){function b(){c.currentQuestion&&(c.correctAnswerCount=a.filter(c.currentQuestion.answers,"correct").length,c.isMultiAnswer=c.correctAnswerCount>1,c.currentAnswer=c.answerModel[c.currentQuestion.id])}var c=this;c.$onChanges=b}a.$inject=["lodash"],angular.module("app.examSimulator").component("examQuestion",{templateUrl:"app/exam-simulator/components/exam-question.component.html",controller:a,controllerAs:"vm",bindings:{currentQuestion:"<",currentQuestionIndex:"<",answerModel:"="}})}(),function(){"use strict";function a(a){function b(){i.questionList&&(i.sortedList=a.orderBy(i.questionList,["isCorrect","answered"],["asc","desc"]),g(0))}function c(a){var b=i.selectedQuestionIndex+a;b<0?b=i.sortedList.length-1:b>=i.sortedList.length&&(b=0),g(b)}function d(a){if(a)return a.isCorrect?"ExamReviewCarousel--Dots__correct":a.isCorrect?void 0:"ExamReviewCarousel--Dots__incorrect"}function e(a){if(a)return a.isCorrect?"ExamReviewCarousel--Panel__correct":a.isCorrect?void 0:"ExamReviewCarousel--Panel__incorrect"}function f(a){g(a)}function g(a){i.selectedQuestion=i.sortedList[a],i.selectedQuestionIndex=a}function h(){i.selectedQuestion.forceReveal=!0}var i=this;i.sortedList=[],i.$onChanges=b,i.getDotClass=d,i.getCarouselClass=e,i.clickedDot=f,i.traverse=c,i.revealAnswer=h}a.$inject=["lodash"],angular.module("app.examSimulator").component("examReviewCarousel",{templateUrl:"app/exam-simulator/components/exam-review-carousel.component.html",controller:a,controllerAs:"vm",bindings:{questionList:"<",topicDictionary:"<"}})}(),function(){"use strict";function a(a,b,c){function d(){a.dismiss("cancel")}function e(){a.close("submit")}var f=this;f.cancel=d,f.submit=e,f.flaggedCount=b,f.unansweredCount=c}a.$inject=["$uibModalInstance","flaggedCount","unansweredCount"],angular.module("app.examSimulator").controller("ExamSubmitModalController",a)}(),function(){"use strict";function a(a,b){function c(){b.close()}var d=this;d.close=c,function(){d.countdown=10;var b=a(function(){d.countdown-=1,d.countdown<=0&&(a.cancel(b),c())},1e3)}()}a.$inject=["$interval","$uibModalInstance"],angular.module("app.examSimulator").controller("ExamTimeoutModalController",a)}(),function(){"use strict";function a(){}angular.module("app.examSimulator").controller("ExamSimulatorErrorController",a)}(),function(){"use strict";function a(a){function b(b){var c=[];return a.forEach(e,function(a,d){a.validate(b)&&c.push(a)}),c}function c(a,b){var c=0;if(a.isCorrect||(c+=f.incorrect),a.historicallyFlagged&&(c+=f.flagged),a.answerSubmittedCount>1&&(c+=a.answerSubmittedCount*f.changed),a.skippedCount>0&&(c+=a.skippedCount*f.skipped),a.elapsedTime>b){var d=b-a.elapsedTime;c+=Math.round(d/f.overtimeBlocks)*f.overtime}return c}var d={getInsights:b,scoreQuestion:c},e=[{id:"unansweredQuestions",title:"Unanswered Questions!",message:"You left some questions unanswered. You are not penalised for incorrect guesses, so try to enter something anyway.",validate:function(a){return a.unanswered.length>0}},{id:"noFlag",title:"Remember to Flag!",message:"If you're not sure about a question, flag it and move on. You can then revisit it later on.",validate:function(a){return 0===a.flagged.length}},{id:"outOfTime",title:"You Ran Out of Time!",message:"Make sure you keep an eye on the clock!",validate:function(a){return!1===a.finishedEarly}},{id:"finishedEarly",title:"You Finished Early!",message:"Make sure to use your remaining time to go back and review questions you weren't certain about.",validate:function(a){return!0===a.finishedEarly}},{id:"again",title:"Keep Studying",message:"Your exam result probably won't result in a pass. We recommend you keep studying and try again.",validate:function(a){return a.score<75}}],f={incorrect:50,flagged:5,changed:2,overtime:1,overtimeBlocks:30,skipped:1};return d}
a.$inject=["lodash"],angular.module("app.examSimulator").factory("examInsightService",a)}(),function(){"use strict";function a(a,c){a.configureStates(b(c,a.load))}function b(a,b){return[{state:"examSimulator",config:{url:"/exam-simulator",controller:function(){},controllerAs:"vm",templateUrl:"app/exam-simulator/layout.html",data:{logoutState:"home",mustLogin:!0,showNavBar:!1},abstract:!0}},{state:"examSimulator.choose",config:{url:"/choose",templateUrl:"app/exam-simulator/choose.html",controller:"ExamSimulatorChooseController",controllerAs:"vm",resolve:{isMember:d()}}},{state:"examSimulator.start",config:{url:"/start?courseId",templateUrl:"app/exam-simulator/start.html",controller:"ExamSimulatorStartController",controllerAs:"vm",resolve:{isMember:d(),validCourse:c()}}},{state:"examSimulator.viewer",config:{url:"/view?attemptId&examId&courseId",templateUrl:"app/exam-simulator/exam-viewer.html",controller:"ExamSimulatorViewerController",controllerAs:"vm",resolve:{isMember:d()}}},{state:"examSimulator.review",config:{url:"/review?attemptId&examId&courseId",templateUrl:"app/exam-simulator/review.html",controller:"ExamSimulatorReviewController",controllerAs:"vm",resolve:{isMember:d()}}},{state:"examSimulator.error",config:{url:"/error",templateUrl:"app/exam-simulator/exam-error.html",controller:"ExamSimulatorErrorController",controllerAs:"vm"}}]}function c(){return["$state","$stateParams","$timeout","examSimulatorService",function(a,b,c,d){return d.isSupportedCourse(b.courseId).then(function(d){if(d)return!0;c(function(){a.go("examSimulator.error",b,{location:"replace"})})})}]}function d(){return["$timeout","$state","roleService",function(a,b,c){c.isMember().then(function(c){c||a(function(){b.go("examSimulator.error",null,{location:"replace"})})})}]}a.$inject=["routerHelper","appConfig"],angular.module("app.examSimulator").run(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(b){return a.when(c.includes(t,b))}function i(){return a.when(t)}function j(a){var b={examId:a};return d.sendQuery("query getExam($examId: String!) {                  getExam(examId: $examId) {                    totalQuestions                    duration                    title                    domainBreakdown {                      domain                      percentage                    }                    questions {                      id                      domain                      question                      explanation                      links {                        url                        title                      }                      answers {                        id                        text                        correct                      }                    }                  }                }",b).then(function(a){return a.data.getExam})}function k(a){var b={courseId:a};return d.sendQuery("                query getExamBlueprint($courseId: String!) {                    getExamBlueprint(courseId: $courseId){                        title,                        description,                        duration,                        totalQuestions,                        domainBreakdown{                            domain,                            percentage                        }                    }                }",b).then(function(a){return a.data.getExamBlueprint})}function l(a){var b={courseId:a};return d.sendQuery("                  mutation createNewExamAttempt($courseId: String!) {                    createNewExamAttempt(courseId: $courseId){                        attempt {                            id                        }                        exam {                            id,                            title,                            duration,                            totalQuestions,                            questions{                                id,                                domain,                                question,                                explanation,                                links {                                    url,                                    title                                },                                answers{                                    id,                                    text,                                    correct                                }                            }                        }                    }                  }",b).then(function(a){return a.data.createNewExamAttempt})}function m(a){return null===a||void 0===a?[]:c.isObject(a)?c(a).pickBy().keys().value():c.isArray(a)?a:[a]}function n(a,b){return c.map(a,function(a,c){var d=a;return d.selectedAnswerIds=m(d.selected),d.questionId=b[c].questionId,delete d.selected,d})}function o(a,b,c,e){var f=n(c,b),g={ExamSubmissionInput:{examAttemptId:a,timeElapsed:e,answers:f}};return d.sendQuery("                mutation submitExam($ExamSubmissionInput: ExamSubmissionInput!) {                    submitExam(submission: $ExamSubmissionInput) {                        score                    }                }",g).then(function(a){return a.data.submitExam})}function p(){return a.when(f.getTopics())}function q(a,b){var c="examSimulator.autosave."+a;e.set(c,JSON.stringify(b))}function r(a){var b="examSimulator.autosave."+a,c=e.get(b);return JSON.parse(c)}function s(a){var b={examAttemptId:a};return d.sendQuery("                query getExamSubmissionResult($examAttemptId: String!) {                    getExamSubmissionResult(examAttemptId: $examAttemptId) {                        score,                        timeElapsed                        answers {                            questionId                            domain                            elapsedTime                            seenCount                            skippedCount                            answered                            answerSubmittedCount                            historicallyFlagged                            flagged                            selectedAnswerIds                            correct                        }                    }                }",b).then(function(a){return a.data.getExamSubmissionResult})}var t=["aws-cda","aws-csa","aws-csysops","aws-certified-cloud-practitioner"];return{submitExamAttempt:o,getExamAttempt:s,createNewExamAttempt:l,getMetadata:k,getExamQuestionsAndMetadata:j,getTopics:p,getSupportedCourses:i,isSupportedCourse:h,autoSave:q,getAutoSave:r}}a.$inject=["$q","$http","lodash","graphqlService","localStorageService","examSimulatorStubs","utilsService"],angular.module("app.examSimulator").factory("examSimulatorService",a)}(),function(){"use strict";function a(){function a(){return{systemDesign:{title:"Designing highly available, cost-efficient, fault-tolerant, scalable systems",explanation:"This domain assesses your ability to select the correct AWS services for use as the fundamental components of a solution designed for the cloud."},implementationDeployment:{title:"Implementation/Deployment",explanation:"This domain assesses your ability to to implement cloud solutions that adhere to AWS best practices for cloud-native and hybrid architectures."},dataSecurity:{title:"Data Security",explanation:"This domain examines your understanding of and ability to employ practices that will ensure the security of your data in the AWS cloud."},troubleshooting:{title:"Troubleshooting",explanation:"This domain assesses your ability to diagnose and remedy issues pertaining to the architecture and implementation of cloud solutions."},fundamentals:{title:"AWS Fundamentals",explanation:"This domain assesses your ability to select appropriate AWS services and identify architecture considerations that may impact the success of your cloud-based solution."},"des-dev":{title:"Designing and Developing",explanation:"This domain evaluates your ability to configure AWS compute resources and use the AWS APIs to code a cloud solution."},"dep-sec":{title:"Deployment and Security",explanation:"This domain examines your understanding of and ability to follow AWS best practices ensuring the successful deployment and ongoing security of cloud resources."},debugging:{title:"Debugging",explanation:"This domain assesses your ability to follow best practices in troubleshooting and debugging."},monitoring:{title:"Monitoring and Metrics",explanation:"This domain assesses your ability to monitor the availability, performance, and cost-optimization of cloud-based solutions"},"high-availability":{title:"High Availability",explanation:"This domain evaluates your ability to implement scalable, fault-tolerant solutions that meet business needs."},analysis:{title:"Analysis",explanation:"This domain examines your ability to optimize your AWS environment by identifying and remedying performance bottlenecks."},"dep-prov":{title:"Deployment and Provisioning",explanation:"This domain assesses your ability to provision cloud resources and manage implementation automation in accordance with the architected design."},"data-man":{title:"Data Management",explanation:"This domain validates your ability to adhere to compliance requirements, create backups, and manage disaster recovery processes."},security:{title:"Security",explanation:"This domain assesses your ability to use AWS services to ensure data integrity, implement and manage security policies, and control access to the AWS platform."},networking:{title:"Networking",explanation:"This domain examines your ability to implement the networking and connectivity features of the AWS platform."},concepts:{title:"Cloud Concepts",explanation:"This domain assesses your fundamental understanding of cloud computing in general and on the AWS platform"},tech:{title:"Technology",explanation:"This domain assesses your understanding, and the methods to deploy and operate, the core AWS services"},billing:{title:"Billing and Pricing",explanation:"This domain evaluates your ability to compare and contrast various pricing models and account pricing structures on the AWS platform"}}}return{getTopics:a}}angular.module("app.examSimulator").factory("examSimulatorStubs",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(){H.examStatus=H.cachedAnswers.status,H.examStartTime=H.cachedAnswers.examStartTime,H.examEndTime=H.cachedAnswers.examEndTime,H.answerModel=H.cachedAnswers.answers||m(),1===H.examStatus?l():B(),o(0)}function l(){H.examTimer=d(p,1e3)}function m(){var a={};return f.forEach(H.questionArray,function(b){a[b.id]={elapsedTime:0,seenCount:0,skippedCount:0,answered:!1,answerSubmittedCount:0,historicallyFlagged:!1,flagged:!1,selected:null}}),a}function n(a){var b=H.currentQuestionIndex+a;b<0?b=H.questionArray.length-1:b>=H.questionArray.length&&(b=0),o(b)}function o(a){r(H.currentQuestion),H.currentQuestionIndex=a,H.currentQuestion=H.questionArray[a],H.currentAnswerObject=H.answerModel[H.currentQuestion.id],q()}function p(){var a=g();H.diff=g(H.examEndTime).diff(a),H.diff<=0&&(s(),d.cancel(H.examTimer))}function q(){H.questionOpenedAtTime=+new Date}function r(a){if(a){var b=+new Date-H.questionOpenedAtTime;H.currentAnswerObject.elapsedTime+=b,H.currentAnswerObject.seenCount+=1;0===v(H.currentAnswerObject)&&(H.currentAnswerObject.skippedCount+=1),G()}}function s(){r(H.currentQuestion),H.examStatus=3,t(),F(!0),A(),j.track("Completed Exam Simulator",{courseId:H.courseId,trigger:"OUTOFTIME"})}function t(){H.examTimer&&d.cancel(H.examTimer),G()}function u(){var a=[I,J,K,L];f.forEach(a,function(a){null!==a&&a.dismiss({noRedirect:!0})})}function v(a){var b=a.selected;return b?"object"==typeof b?f(b).pickBy().keys().size():"string"==typeof b?1:void 0:0}function w(){H.currentAnswerObject.historicallyFlagged=!0,H.currentAnswerObject.flagged=!0}function x(){H.currentAnswerObject.flagged=!1}function y(){v(H.currentAnswerObject)>0&&(H.currentAnswerObject.answered=!0,H.currentAnswerObject.answerSubmittedCount+=1,n(1))}function z(){H.currentAnswerObject.answered=!1}function A(){I=e.open({templateUrl:"/app/exam-simulator/components/exam-timeout-modal.html",controller:"ExamTimeoutModalController",controllerAs:"vm"}),I.result.then(C),I.result.catch(function(a){a.noRedirect||C()})}function B(){J=e.open({templateUrl:"/app/exam-simulator/components/exam-already-completed-modal.html",controller:"ExamAlreadyCompletedModalController",controllerAs:"vm"}),J.result.then(C),J.result.catch(function(a){a.noRedirect||C()})}function C(){b.go("examSimulator.review",{attemptId:H.attemptId,examId:H.examId,courseId:H.courseId})}function D(){L=e.open({templateUrl:"/app/exam-simulator/components/exam-nav-modal.html",controller:"ExamNavModalController",controllerAs:"vm",resolve:{questionArray:function(){return H.questionArray},answerModel:function(){return H.answerModel},goToQuestion:function(){return o}}})}function E(){K=e.open({templateUrl:"/app/exam-simulator/components/exam-submit-modal.html",controller:"ExamSubmitModalController",controllerAs:"vm",resolve:{flaggedCount:function(){return f.filter(H.answerModel,"flagged").length},unansweredCount:function(){return f.filter(H.answerModel,{answered:!1}).length}}}),K.result.then(function(){r(H.currentQuestion),H.examStatus=2,H.examCompletedTime=g().valueOf(),G(),F(!1).then(function(){j.track("Completed Exam Simulator",{courseId:H.courseId,trigger:"MANUAL"}),t(),C()})})}function F(a){return i.submitExamAttempt(H.attemptId,H.questionArray,H.answerModel,a)}function G(){i.autoSave(H.attemptId,{status:H.examStatus,attemptId:H.attemptId,examId:H.examId,courseId:H.courseId,examStartTime:H.examStartTime,examEndTime:H.examEndTime,examCompletedTime:H.examCompletedTime,answers:H.answerModel})}var H=this;H.questionOpenedAtTime=null,H.examStatus=0,H.examCompletedTime=null,H.examTimer=null;var I=null,J=null,K=null,L=null;H.submittingState={submitting:!1,submitted:!1},H.completeExam=E,H.traverse=n,H.goToQuestion=o,H.flagQuestion=w,H.unflagQuestion=x,H.submitAnswer=y,H.changeAnswer=z,H.showNavModal=D,function(){H.attemptId=c.attemptId,H.examId=c.examId,H.courseId=c.courseId,H.cachedAnswers=i.getAutoSave(H.attemptId),i.getExamQuestionsAndMetadata(H.examId).then(function(a){H.questionArray=f.map(a.questions,function(a,b){return f.assign({},a,{id:b,questionId:a.id})}),H.examDuration=a.duration/60,k()}),a.$on("$stateChangeStart",u)}()}a.$inject=["$scope","$state","$stateParams","$interval","$uibModal","lodash","moment","localStorageService","examSimulatorService","analyticsService"],angular.module("app.examSimulator").controller("ExamSimulatorViewerController",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(){var a=d.getTopics(),c=d.getExamAttempt(n.attemptId),e=d.getExamQuestionsAndMetadata(n.examId);b.all([a,c,e]).then(function(a){g(a),h(),n.results.ready=!0})}function g(a){n.topicDictionary=a[0],n.examDetails=a[2],n.answerObject=a[1]}function h(){n.results.questions=k(n.examDetails.questions,n.answerObject.answers),n.domainBreakdownByKey=c.keyBy(n.examDetails.domainBreakdown,"domain"),n.results.questionsByTopic=c.groupBy(n.results.questions,function(a){return a.domain}),n.results.scoresByTopic=c.mapValues(n.results.questionsByTopic,function(a,b){var d=c.filter(a,"isCorrect").length;return{key:b,correctCount:d,questionCount:a.length,percentage:d/a.length*100}}),n.results.topicChartData=c.mapValues(n.results.scoresByTopic,function(a,b){return[a.correctCount,a.questionCount-a.correctCount]}),n.results.correctCount=c.filter(n.results.questions,"isCorrect").length,n.results.totalScore=Math.round(n.results.correctCount/n.examDetails.totalQuestions*100),i(),j(),n.insights.execSummary=e.getInsights({questions:n.results.questions,unanswered:c.filter(n.results.questions,["answered",!1]),flagged:c.filter(n.results.questions,"historicallyFlagged"),finishedEarly:n.insights.finishedEarly,score:n.results.totalScore})}function i(){if(3===n.examStatus)n.insights.finishedEarly=!1,n.results.elapsedSeconds=n.examDetails.duration;else{n.insights.finishedEarly=!0,n.results.elapsedSeconds=c.sumBy(n.answerObject.answers,"elapsedTime")/1e3;var a=n.examDetails.duration-n.results.elapsedSeconds;n.insights.finishedEarlyBy={seconds:a,minutes:Math.round(a/60)}}n.insights.timePerQuestionRecommended=1e3*n.examDetails.duration/n.examDetails.totalQuestions,n.insights.timeTakenPerQuestion=n.results.elapsedSeconds/n.examDetails.totalQuestions}function j(){n.insights.sectionTiming=c.mapValues(n.results.questionsByTopic,function(a){return c.sumBy(a,"elapsedTime")})}function k(a,b){return c.map(a,function(a,d){var f=c.find(b,{questionId:a.id});return a.originalIndex=d,a.answered=f.answered,a.answerSubmittedCount=f.answerSubmittedCount,a.skippedCount=f.skippedCount,a.historicallyFlagged=f.historicallyFlagged,a.elapsedTime=f.elapsedTime,a.selectedAnswerKeys=f.selectedAnswerIds,a.mergedAnswers=l(a.answers,a.selectedAnswerKeys),a.isCorrect=m(a.mergedAnswers),a.score=e.scoreQuestion(a),a})}function l(a,b){return c.map(a,function(a){return a.selected=c.includes(b,a.id),a})}function m(a){return 0===c.filter(a,{correct:!0,selected:!1}).length}var n=this;n.countUpSettings={suffix:"%"},n.results={},n.insights={},n.exam={duration:null,domains:null},function(){n.courseId=a.courseId,n.attemptId=a.attemptId,n.examId=a.examId,f(),n.chartOptions={cutoutPercentage:85},n.colors=["#08C472","#f40064"]}()}a.$inject=["$stateParams","$q","lodash","examSimulatorService","examInsightService"],angular.module("app.examSimulator").controller("ExamSimulatorReviewController",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){j.isStarting=!0,d.createNewExamAttempt(j.courseId).then(function(a){j.isStarting=!1;var b=a.attempt.id,e=a.exam.duration,f=a.exam.id;d.autoSave(b,{status:1,attemptId:b,examId:f,courseId:j.courseId,examStartTime:c().valueOf(),examEndTime:c().add(e,"seconds").valueOf(),examCompletedTime:null}),g.track("Started Exam Simulator",{courseId:j.courseId}),i(b,f)})}function i(b,c){a.go("examSimulator.viewer",{attemptId:b,examId:c,courseId:j.courseId})}var j=this;j.isLoading=!0,j.isStarting=!1,j.startExam=h,function(){j.courseId=b.courseId,d.getMetadata(j.courseId).then(function(a){j.examDetails=a,j.isLoading=!1}),f.getCourseById(j.courseId).then(function(a){j.artworkUrl=e.getSquareUrl(a.artworkKey)}),d.getTopics().then(function(a){j.domainDict=a})}()}a.$inject=["$state","$stateParams","moment","examSimulatorService","artworkService","courseMetadataService","analyticsService"],angular.module("app.examSimulator").controller("ExamSimulatorStartController",a)}(),angular.module("app.core").factory("preloader",["$q","$rootScope",function(a,b){function c(b){this.imageLocations=b,this.imageCount=this.imageLocations.length,this.loadCount=0,this.errorCount=0,this.states={PENDING:1,LOADING:2,RESOLVED:3,REJECTED:4},this.state=this.states.PENDING,this.deferred=a.defer(),this.promise=this.deferred.promise}return c.preloadImages=function(a){return new c(a).load()},c.prototype={constructor:c,isInitiated:function(){return this.state!==this.states.PENDING},isRejected:function(){return this.state===this.states.REJECTED},isResolved:function(){return this.state===this.states.RESOLVED},load:function(){if(this.isInitiated())return this.promise;this.state=this.states.LOADING;for(var a=0;a<this.imageCount;a++)this.loadImageLocation(this.imageLocations[a]);return this.promise},handleImageError:function(a){this.errorCount++,this.isRejected()||(this.state=this.states.REJECTED,this.deferred.reject(a))},handleImageLoad:function(a){this.loadCount++,this.isRejected()||(this.deferred.notify({percent:Math.ceil(this.loadCount/this.imageCount*100),imageLocation:a}),this.loadCount===this.imageCount&&(this.state=this.states.RESOLVED,this.deferred.resolve(this.imageLocations)))},loadImageLocation:function(a){var c=this,d=angular.element(new Image).bind("load",function(a){b.$apply(function(){c.handleImageLoad(a.target.src),c=d=a=null})}).bind("error",function(a){b.$apply(function(){c.handleImageError(a.target.src),c=d=a=null})}).attr("src",a)}},c}]),function(){"use strict";angular.module("app",["app.config","app.core","app.core.brand","app.layout","app.dashboard","app.admin","app.checkout","app.forum","app.migrate","app.public","app.user","app.series","app.teach","app.members","app.certifications","app.examSimulator"])}(),function(){"use strict";function a(a,c,d,e,f,g,h,i){b.controller=a.register,b.directive=c.directive,b.filter=d.register,b.factory=f.factory,b.service=f.service,b.constant=f.constant,b.value=f.value,angular.element(document).find("body").append('<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/'+h.hubspot.portalId+'.js"><\/script>'),g.interceptors.push(["$q",function(a){return{responseError:function(b){return-1!==b.config.url.indexOf("forms.hubspot.com")?a.when("forced success"):a.reject(b)}}}]),i.config({openLinksInNewWindow:!0})}a.$inject=["$controllerProvider","$compileProvider","$filterProvider","$locationProvider","$provide","$httpProvider","appConfig","markdownConverterProvider"];var b=angular.module("app").config(a);angular.module("app.config",[]).constant("appConfig",guruEnvironmentConfigObject)}();
//# sourceMappingURL=app.min.js.map